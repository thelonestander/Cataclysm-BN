<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: dialogue Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structdialogue.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="structdialogue-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dialogue Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="dialogue_8h_source.html">dialogue.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a67df2f42ea65c85d54465ff21051a4f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__topic.html">talk_topic</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a67df2f42ea65c85d54465ff21051a4f7">opt</a> (<a class="el" href="classdialogue__window.html">dialogue_window</a> &amp;d_win, const std::string &amp;npc_name, const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;topic)</td></tr>
<tr class="separator:a67df2f42ea65c85d54465ff21051a4f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c27fbdb8e2dae85a86720eb5a11bc87"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a8c27fbdb8e2dae85a86720eb5a11bc87">dialogue</a> ()=default</td></tr>
<tr class="separator:a8c27fbdb8e2dae85a86720eb5a11bc87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27792785bd5349401efa3948399f89e8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a27792785bd5349401efa3948399f89e8">dynamic_line</a> (const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;topic) const</td></tr>
<tr class="separator:a27792785bd5349401efa3948399f89e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7343c934a16a58a3324e970a2c5693b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#ae7343c934a16a58a3324e970a2c5693b">apply_speaker_effects</a> (const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;the_topic)</td></tr>
<tr class="separator:ae7343c934a16a58a3324e970a2c5693b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac074903e749e4c545aac860ebc4a19a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#ac074903e749e4c545aac860ebc4a19a2">gen_responses</a> (const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;topic)</td></tr>
<tr class="separator:ac074903e749e4c545aac860ebc4a19a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8eef62024b216c155b913ff1c9e8e40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#af8eef62024b216c155b913ff1c9e8e40">add_topic</a> (const std::string &amp;topic)</td></tr>
<tr class="separator:af8eef62024b216c155b913ff1c9e8e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ee2de29d9de689f777018668e00196"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a85ee2de29d9de689f777018668e00196">add_topic</a> (const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;topic)</td></tr>
<tr class="separator:a85ee2de29d9de689f777018668e00196"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a42afe2cf929fea970dc6b74a8bec4bd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer.html">player</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">alpha</a> = nullptr</td></tr>
<tr class="memdesc:a42afe2cf929fea970dc6b74a8bec4bd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The player character that speaks (always g-&gt;u).  <a href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">More...</a><br /></td></tr>
<tr class="separator:a42afe2cf929fea970dc6b74a8bec4bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2edd4e78d06b37dafd34284a48b82720"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnpc.html">npc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a> = nullptr</td></tr>
<tr class="memdesc:a2edd4e78d06b37dafd34284a48b82720"><td class="mdescLeft">&#160;</td><td class="mdescRight">The NPC we talk to.  <a href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">More...</a><br /></td></tr>
<tr class="separator:a2edd4e78d06b37dafd34284a48b82720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa677a645faccbd6f4ac7781b7ceb894"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#aaa677a645faccbd6f4ac7781b7ceb894">done</a> = false</td></tr>
<tr class="memdesc:aaa677a645faccbd6f4ac7781b7ceb894"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, we are done talking and the dialog ends.  <a href="structdialogue.html#aaa677a645faccbd6f4ac7781b7ceb894">More...</a><br /></td></tr>
<tr class="separator:aaa677a645faccbd6f4ac7781b7ceb894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa90f3050bf6d9257d3e16b69086f526e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtalk__topic.html">talk_topic</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#aa90f3050bf6d9257d3e16b69086f526e">topic_stack</a></td></tr>
<tr class="separator:aa90f3050bf6d9257d3e16b69086f526e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0883e28c7c29ffdfb4ba6cd2fcf2d06"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classmission.html">mission</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#af0883e28c7c29ffdfb4ba6cd2fcf2d06">missions_assigned</a></td></tr>
<tr class="memdesc:af0883e28c7c29ffdfb4ba6cd2fcf2d06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Missions that have been assigned by this npc to the player they currently speak to.  <a href="structdialogue.html#af0883e28c7c29ffdfb4ba6cd2fcf2d06">More...</a><br /></td></tr>
<tr class="separator:af0883e28c7c29ffdfb4ba6cd2fcf2d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b356491a4ba3a81d77cc9a12a207856"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a8b356491a4ba3a81d77cc9a12a207856">cur_item</a></td></tr>
<tr class="separator:a8b356491a4ba3a81d77cc9a12a207856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a691be501b1d6b306af9f18ef48d1f01a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a691be501b1d6b306af9f18ef48d1f01a">reason</a></td></tr>
<tr class="separator:a691be501b1d6b306af9f18ef48d1f01a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23fd3c22838562075db010d68e8ce55f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a23fd3c22838562075db010d68e8ce55f">by_radio</a> = false</td></tr>
<tr class="memdesc:a23fd3c22838562075db010d68e8ce55f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This dialogue is happening over a radio.  <a href="structdialogue.html#a23fd3c22838562075db010d68e8ce55f">More...</a><br /></td></tr>
<tr class="separator:a23fd3c22838562075db010d68e8ce55f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015666472bdcaf3a21d69dbdfa40dc1c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtalk__response.html">talk_response</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a></td></tr>
<tr class="memdesc:a015666472bdcaf3a21d69dbdfa40dc1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible responses from the player character, filled in <a class="el" href="structdialogue.html#ac074903e749e4c545aac860ebc4a19a2">gen_responses</a>.  <a href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">More...</a><br /></td></tr>
<tr class="separator:a015666472bdcaf3a21d69dbdfa40dc1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:acc03b8a868625fd7d74772bed41abdc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__response.html">talk_response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a> (const std::string &amp;text, const std::string &amp;r, bool first=false)</td></tr>
<tr class="memdesc:acc03b8a868625fd7d74772bed41abdc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a simple response that switches the topic to the new one.  <a href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">More...</a><br /></td></tr>
<tr class="separator:acc03b8a868625fd7d74772bed41abdc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099d9372066f6a2d00a7a4140307a4a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__response.html">talk_response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a099d9372066f6a2d00a7a4140307a4a0">add_response_done</a> (const std::string &amp;text)</td></tr>
<tr class="memdesc:a099d9372066f6a2d00a7a4140307a4a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a response with the result TALK_DONE.  <a href="structdialogue.html#a099d9372066f6a2d00a7a4140307a4a0">More...</a><br /></td></tr>
<tr class="separator:a099d9372066f6a2d00a7a4140307a4a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0bf9da647cd274f90afdb7b5331c6a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__response.html">talk_response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#ae0bf9da647cd274f90afdb7b5331c6a1">add_response_none</a> (const std::string &amp;text)</td></tr>
<tr class="memdesc:ae0bf9da647cd274f90afdb7b5331c6a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a response with the result TALK_NONE.  <a href="structdialogue.html#ae0bf9da647cd274f90afdb7b5331c6a1">More...</a><br /></td></tr>
<tr class="separator:ae0bf9da647cd274f90afdb7b5331c6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2c6330ecb1c702e748f86446138454"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__response.html">talk_response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#abb2c6330ecb1c702e748f86446138454">add_response</a> (const std::string &amp;text, const std::string &amp;r, <a class="el" href="dialogue_8h.html#a95a639b7c1c82416a0e66fb65f998479">dialogue_fun_ptr</a> effect_success, bool first=false)</td></tr>
<tr class="memdesc:abb2c6330ecb1c702e748f86446138454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a simple response that switches the topic to the new one and executes the given action.  <a href="structdialogue.html#abb2c6330ecb1c702e748f86446138454">More...</a><br /></td></tr>
<tr class="separator:abb2c6330ecb1c702e748f86446138454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f36c77adf26ff6e09ba07770f1b13c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__response.html">talk_response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#ac2f36c77adf26ff6e09ba07770f1b13c">add_response</a> (const std::string &amp;text, const std::string &amp;r, std::function&lt; void(<a class="el" href="classnpc.html">npc</a> &amp;)&gt; effect_success, <a class="el" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71">dialogue_consequence</a> consequence, bool first=false)</td></tr>
<tr class="memdesc:ac2f36c77adf26ff6e09ba07770f1b13c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a simple response that switches the topic to the new one and executes the given action.  <a href="structdialogue.html#ac2f36c77adf26ff6e09ba07770f1b13c">More...</a><br /></td></tr>
<tr class="separator:ac2f36c77adf26ff6e09ba07770f1b13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b6fb4b6e79356838e69df8b5d126668"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__response.html">talk_response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a3b6fb4b6e79356838e69df8b5d126668">add_response</a> (const std::string &amp;text, const std::string &amp;r, <a class="el" href="classmission.html">mission</a> *miss, bool first=false)</td></tr>
<tr class="memdesc:a3b6fb4b6e79356838e69df8b5d126668"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a simple response that switches the topic to the new one and sets the currently talked about mission to the given one.  <a href="structdialogue.html#a3b6fb4b6e79356838e69df8b5d126668">More...</a><br /></td></tr>
<tr class="separator:a3b6fb4b6e79356838e69df8b5d126668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627a44501ac098ea98dfabf899721001"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__response.html">talk_response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a627a44501ac098ea98dfabf899721001">add_response</a> (const std::string &amp;text, const std::string &amp;r, const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;skill, bool first=false)</td></tr>
<tr class="memdesc:a627a44501ac098ea98dfabf899721001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a simple response that switches the topic to the new one and sets the currently talked about skill to the given one.  <a href="structdialogue.html#a627a44501ac098ea98dfabf899721001">More...</a><br /></td></tr>
<tr class="separator:a627a44501ac098ea98dfabf899721001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc8e7620d131749e9476dee09bdff623"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__response.html">talk_response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#adc8e7620d131749e9476dee09bdff623">add_response</a> (const std::string &amp;text, const std::string &amp;r, const <a class="el" href="type__id_8h.html#a50c51ecb994fe99b3be7adf3873d9b34">spell_id</a> &amp;sp, bool first=false)</td></tr>
<tr class="memdesc:adc8e7620d131749e9476dee09bdff623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a simple response that switches the topic to the new one and sets the currently talked about magic spell to the given one.  <a href="structdialogue.html#adc8e7620d131749e9476dee09bdff623">More...</a><br /></td></tr>
<tr class="separator:adc8e7620d131749e9476dee09bdff623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a850b0c5f6c2513c87ef1b92ef3839f5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__response.html">talk_response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#a850b0c5f6c2513c87ef1b92ef3839f5f">add_response</a> (const std::string &amp;text, const std::string &amp;r, const <a class="el" href="classmartialart.html">martialart</a> &amp;style, bool first=false)</td></tr>
<tr class="memdesc:a850b0c5f6c2513c87ef1b92ef3839f5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a simple response that switches the topic to the new one and sets the currently talked about martial art style to the given one.  <a href="structdialogue.html#a850b0c5f6c2513c87ef1b92ef3839f5f">More...</a><br /></td></tr>
<tr class="separator:a850b0c5f6c2513c87ef1b92ef3839f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc28e17720c32efcc2d603278cdf543f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtalk__response.html">talk_response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdialogue.html#adc28e17720c32efcc2d603278cdf543f">add_response</a> (const std::string &amp;text, const std::string &amp;r, const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;item_type, bool first=false)</td></tr>
<tr class="memdesc:adc28e17720c32efcc2d603278cdf543f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a simple response that switches the topic to the new one and sets the currently talked about item type to the given one.  <a href="structdialogue.html#adc28e17720c32efcc2d603278cdf543f">More...</a><br /></td></tr>
<tr class="separator:adc28e17720c32efcc2d603278cdf543f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00221">221</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8c27fbdb8e2dae85a86720eb5a11bc87" name="a8c27fbdb8e2dae85a86720eb5a11bc87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c27fbdb8e2dae85a86720eb5a11bc87">&#9670;&nbsp;</a></span>dialogue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dialogue::dialogue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acc03b8a868625fd7d74772bed41abdc7" name="acc03b8a868625fd7d74772bed41abdc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc03b8a868625fd7d74772bed41abdc7">&#9670;&nbsp;</a></span>add_response() <span class="overload">[1/8]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__response.html">talk_response</a> &amp; dialogue::add_response </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a simple response that switches the topic to the new one. </p>
<p >If first == true, force this topic to the front of the responses. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01142">1142</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>{</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>    <a class="code hl_struct" href="structtalk__response.html">talk_response</a> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_struct" href="structtalk__response.html">talk_response</a>();</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.truetext = <a class="code hl_function" href="translations_8cpp.html#a7afa19f8e1a45d955fc6fbaa420a6760">no_translation</a>( text );</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.truefalse_condition = []( <span class="keyword">const</span> <a class="code hl_struct" href="structdialogue.html">dialogue</a> &amp; ) {</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    };</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.success.next_topic = <a class="code hl_struct" href="structtalk__topic.html">talk_topic</a>( r );</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>    <span class="keywordflow">if</span>( first ) {</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>        <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>.insert( <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>.begin(), <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> );</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>.front();</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>        <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>.push_back( <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> );</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>.back();</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>    }</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>}</div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01626">fmtlib_format-inl.h:1626</a></div></div>
<div class="ttc" id="astructdialogue_html"><div class="ttname"><a href="structdialogue.html">dialogue</a></div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00221">dialogue.h:221</a></div></div>
<div class="ttc" id="astructdialogue_html_a015666472bdcaf3a21d69dbdfa40dc1c"><div class="ttname"><a href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">dialogue::responses</a></div><div class="ttdeci">std::vector&lt; talk_response &gt; responses</div><div class="ttdoc">Possible responses from the player character, filled in gen_responses.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00256">dialogue.h:256</a></div></div>
<div class="ttc" id="astructtalk__response_html"><div class="ttname"><a href="structtalk__response.html">talk_response</a></div><div class="ttdoc">This defines possible responses from the player character.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00189">dialogue.h:189</a></div></div>
<div class="ttc" id="astructtalk__topic_html"><div class="ttname"><a href="structtalk__topic.html">talk_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00073">dialogue.h:73</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a7afa19f8e1a45d955fc6fbaa420a6760"><div class="ttname"><a href="translations_8cpp.html#a7afa19f8e1a45d955fc6fbaa420a6760">no_translation</a></div><div class="ttdeci">translation no_translation(const std::string &amp;str)</div><div class="ttdoc">Shorthand for translation::no_translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00405">translations.cpp:405</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8cpp_source.html#l00405">no_translation()</a>, and <a class="el" href="dialogue_8h_source.html#l00256">responses</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01170">add_response()</a>, <a class="el" href="npctalk_8cpp_source.html#l01160">add_response_done()</a>, <a class="el" href="npctalk_8cpp_source.html#l01165">add_response_none()</a>, and <a class="el" href="npctalk_8cpp_source.html#l01234">gen_responses()</a>.</p>

</div>
</div>
<a id="adc28e17720c32efcc2d603278cdf543f" name="adc28e17720c32efcc2d603278cdf543f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc28e17720c32efcc2d603278cdf543f">&#9670;&nbsp;</a></span>add_response() <span class="overload">[2/8]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__response.html">talk_response</a> &amp; dialogue::add_response </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>item_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a simple response that switches the topic to the new one and sets the currently talked about item type to the given one. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01222">1222</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>{</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>    <span class="keywordflow">if</span>( item_type.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;explicitly specified null item&quot;</span> );</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    }</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span> </div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    <a class="code hl_struct" href="structtalk__response.html">talk_response</a> &amp;<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, r, first );</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.success.next_topic.item_type = item_type;</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>}</div>
<div class="ttc" id="aclassstring__id_html_a3ca78345025397b3d3ac22729ba1684b"><div class="ttname"><a href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">string_id::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns whether this represents the id of the null-object (in which case it's the null-id).</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00317">string_id.h:317</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="astructdialogue_html_acc03b8a868625fd7d74772bed41abdc7"><div class="ttname"><a href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">dialogue::add_response</a></div><div class="ttdeci">talk_response &amp; add_response(const std::string &amp;text, const std::string &amp;r, bool first=false)</div><div class="ttdoc">Add a simple response that switches the topic to the new one.</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01142">npctalk.cpp:1142</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, and <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>.</p>

</div>
</div>
<a id="a850b0c5f6c2513c87ef1b92ef3839f5f" name="a850b0c5f6c2513c87ef1b92ef3839f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a850b0c5f6c2513c87ef1b92ef3839f5f">&#9670;&nbsp;</a></span>add_response() <span class="overload">[3/8]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__response.html">talk_response</a> &amp; dialogue::add_response </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmartialart.html">martialart</a> &amp;&#160;</td>
          <td class="paramname"><em>style</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a simple response that switches the topic to the new one and sets the currently talked about martial art style to the given one. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01214">1214</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>{</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    <a class="code hl_struct" href="structtalk__response.html">talk_response</a> &amp;<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, r, first );</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.style = style.<a class="code hl_variable" href="classmartialart.html#a431f147007f56fadd9ca30b3d9b2b47f">id</a>;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>}</div>
<div class="ttc" id="aclassmartialart_html_a431f147007f56fadd9ca30b3d9b2b47f"><div class="ttname"><a href="classmartialart.html#a431f147007f56fadd9ca30b3d9b2b47f">martialart::id</a></div><div class="ttdeci">matype_id id</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8h_source.html#l00243">martialarts.h:243</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>, and <a class="el" href="martialarts_8h_source.html#l00243">martialart::id</a>.</p>

</div>
</div>
<a id="a627a44501ac098ea98dfabf899721001" name="a627a44501ac098ea98dfabf899721001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627a44501ac098ea98dfabf899721001">&#9670;&nbsp;</a></span>add_response() <span class="overload">[4/8]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__response.html">talk_response</a> &amp; dialogue::add_response </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;&#160;</td>
          <td class="paramname"><em>skill</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a simple response that switches the topic to the new one and sets the currently talked about skill to the given one. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01198">1198</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>{</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>    <a class="code hl_struct" href="structtalk__response.html">talk_response</a> &amp;<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, r, first );</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.skill = skill;</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>.</p>

</div>
</div>
<a id="adc8e7620d131749e9476dee09bdff623" name="adc8e7620d131749e9476dee09bdff623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc8e7620d131749e9476dee09bdff623">&#9670;&nbsp;</a></span>add_response() <span class="overload">[5/8]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__response.html">talk_response</a> &amp; dialogue::add_response </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a50c51ecb994fe99b3be7adf3873d9b34">spell_id</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a simple response that switches the topic to the new one and sets the currently talked about magic spell to the given one. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01206">1206</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>{</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>    <a class="code hl_struct" href="structtalk__response.html">talk_response</a> &amp;<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, r, first );</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.dialogue_spell = sp;</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>.</p>

</div>
</div>
<a id="abb2c6330ecb1c702e748f86446138454" name="abb2c6330ecb1c702e748f86446138454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb2c6330ecb1c702e748f86446138454">&#9670;&nbsp;</a></span>add_response() <span class="overload">[6/8]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__response.html">talk_response</a> &amp; dialogue::add_response </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dialogue_8h.html#a95a639b7c1c82416a0e66fb65f998479">dialogue_fun_ptr</a>&#160;</td>
          <td class="paramname"><em>effect_success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a simple response that switches the topic to the new one and executes the given action. </p>
<p >The response always succeeds. Consequence is based on function used. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01170">1170</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>{</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>    <a class="code hl_struct" href="structtalk__response.html">talk_response</a> &amp;<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, r, first );</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.success.set_effect( effect_success );</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>.</p>

</div>
</div>
<a id="a3b6fb4b6e79356838e69df8b5d126668" name="a3b6fb4b6e79356838e69df8b5d126668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b6fb4b6e79356838e69df8b5d126668">&#9670;&nbsp;</a></span>add_response() <span class="overload">[7/8]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__response.html">talk_response</a> &amp; dialogue::add_response </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmission.html">mission</a> *&#160;</td>
          <td class="paramname"><em>miss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a simple response that switches the topic to the new one and sets the currently talked about mission to the given one. </p>
<p >The mission pointer must be valid. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01187">1187</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>{</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    <span class="keywordflow">if</span>( miss == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;tried to select null mission&quot;</span> );</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>    }</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>    <a class="code hl_struct" href="structtalk__response.html">talk_response</a> &amp;<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, r, first );</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.mission_selected = miss;</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>, and <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>.</p>

</div>
</div>
<a id="ac2f36c77adf26ff6e09ba07770f1b13c" name="ac2f36c77adf26ff6e09ba07770f1b13c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f36c77adf26ff6e09ba07770f1b13c">&#9670;&nbsp;</a></span>add_response() <span class="overload">[8/8]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__response.html">talk_response</a> &amp; dialogue::add_response </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(<a class="el" href="classnpc.html">npc</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>effect_success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71">dialogue_consequence</a>&#160;</td>
          <td class="paramname"><em>consequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a simple response that switches the topic to the new one and executes the given action. </p>
<p >The response always succeeds. Consequence must be explicitly specified. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01178">1178</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>{</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    <a class="code hl_struct" href="structtalk__response.html">talk_response</a> &amp;<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, r, first );</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.success.set_effect_consequence( effect_success, consequence );</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>.</p>

</div>
</div>
<a id="a099d9372066f6a2d00a7a4140307a4a0" name="a099d9372066f6a2d00a7a4140307a4a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a099d9372066f6a2d00a7a4140307a4a0">&#9670;&nbsp;</a></span>add_response_done()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__response.html">talk_response</a> &amp; dialogue::add_response_done </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a response with the result TALK_DONE. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01160">1160</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>{</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, <span class="stringliteral">&quot;TALK_DONE&quot;</span> );</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01234">gen_responses()</a>.</p>

</div>
</div>
<a id="ae0bf9da647cd274f90afdb7b5331c6a1" name="ae0bf9da647cd274f90afdb7b5331c6a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0bf9da647cd274f90afdb7b5331c6a1">&#9670;&nbsp;</a></span>add_response_none()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__response.html">talk_response</a> &amp; dialogue::add_response_none </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a response with the result TALK_NONE. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01165">1165</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>{</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, <span class="stringliteral">&quot;TALK_NONE&quot;</span> );</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01234">gen_responses()</a>.</p>

</div>
</div>
<a id="af8eef62024b216c155b913ff1c9e8e40" name="af8eef62024b216c155b913ff1c9e8e40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8eef62024b216c155b913ff1c9e8e40">&#9670;&nbsp;</a></span>add_topic() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dialogue::add_topic </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>topic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01648">1648</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>{</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>    <a class="code hl_variable" href="structdialogue.html#aa90f3050bf6d9257d3e16b69086f526e">topic_stack</a>.push_back( <a class="code hl_struct" href="structtalk__topic.html">talk_topic</a>( topic_id ) );</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>}</div>
<div class="ttc" id="astructdialogue_html_aa90f3050bf6d9257d3e16b69086f526e"><div class="ttname"><a href="structdialogue.html#aa90f3050bf6d9257d3e16b69086f526e">dialogue::topic_stack</a></div><div class="ttdeci">std::vector&lt; talk_topic &gt; topic_stack</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00236">dialogue.h:236</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00236">topic_stack</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00730">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a85ee2de29d9de689f777018668e00196" name="a85ee2de29d9de689f777018668e00196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85ee2de29d9de689f777018668e00196">&#9670;&nbsp;</a></span>add_topic() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dialogue::add_topic </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;&#160;</td>
          <td class="paramname"><em>topic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01653">1653</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>{</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>    <a class="code hl_variable" href="structdialogue.html#aa90f3050bf6d9257d3e16b69086f526e">topic_stack</a>.push_back( topic );</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00236">topic_stack</a>.</p>

</div>
</div>
<a id="ae7343c934a16a58a3324e970a2c5693b" name="ae7343c934a16a58a3324e970a2c5693b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7343c934a16a58a3324e970a2c5693b">&#9670;&nbsp;</a></span>apply_speaker_effects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dialogue::apply_speaker_effects </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;&#160;</td>
          <td class="paramname"><em>the_topic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01128">1128</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>{</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;topic = the_topic.<a class="code hl_variable" href="structtalk__topic.html#ad8e4ad510315bdbd4d4183b2f4d5bf08">id</a>;</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>    <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code hl_variable" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a>.find( topic );</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>    <span class="keywordflow">if</span>( iter == <a class="code hl_variable" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a>.end() ) {</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>    }</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classjson__dynamic__line__effect.html">json_dynamic_line_effect</a> &amp;npc_effect : iter-&gt;second.get_speaker_effects() ) {</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>        <span class="keywordflow">if</span>( npc_effect.test_condition( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>            npc_effect.apply( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>        }</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>    }</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>}</div>
<div class="ttc" id="aclassjson__dynamic__line__effect_html"><div class="ttname"><a href="classjson__dynamic__line__effect.html">json_dynamic_line_effect</a></div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00390">dialogue.h:391</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a9d58f009a148e9132fad232a12f96306"><div class="ttname"><a href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a></div><div class="ttdeci">static std::map&lt; std::string, json_talk_topic &gt; json_talk_topics</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00112">npctalk.cpp:112</a></div></div>
<div class="ttc" id="astructtalk__topic_html_ad8e4ad510315bdbd4d4183b2f4d5bf08"><div class="ttname"><a href="structtalk__topic.html#ad8e4ad510315bdbd4d4183b2f4d5bf08">talk_topic::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00076">dialogue.h:76</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00076">talk_topic::id</a>, and <a class="el" href="npctalk_8cpp_source.html#l00112">json_talk_topics</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01728">opt()</a>.</p>

</div>
</div>
<a id="a27792785bd5349401efa3948399f89e8" name="a27792785bd5349401efa3948399f89e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27792785bd5349401efa3948399f89e8">&#9670;&nbsp;</a></span>dynamic_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string dialogue::dynamic_line </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;&#160;</td>
          <td class="paramname"><em>topic</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
Perception affects whether player can size up NPCs Intelligence slightly affects whether player can size up NPCs 
<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00894">894</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>{</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    <span class="keywordflow">if</span>( !the_topic.item_type.is_null() ) {</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>        <a class="code hl_variable" href="structdialogue.html#a8b356491a4ba3a81d77cc9a12a207856">cur_item</a> = the_topic.item_type;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    }</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span> </div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    <span class="comment">// For compatibility</span></div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;topic = the_topic.<a class="code hl_variable" href="structtalk__topic.html#ad8e4ad510315bdbd4d4183b2f4d5bf08">id</a>;</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code hl_variable" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a>.find( topic );</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    <span class="keywordflow">if</span>( iter != <a class="code hl_variable" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a>.end() ) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>        <span class="keyword">const</span> std::string <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> = iter-&gt;second.get_dynamic_line( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>.empty() ) {</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>;</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>        }</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    }</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span> </div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_NPC_NOFACE&quot;</span> ) {</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&amp;%s stays silent.&quot;</span> ), <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> );</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    }</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span> </div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_NOFACE&quot;</span> ) {</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&amp;You can&#39;t talk without your face.&quot;</span> );</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_DEAF&quot;</span> ) {</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&amp;You are deaf and can&#39;t talk.&quot;</span> );</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span> </div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_DEAF_ANGRY&quot;</span> ) {</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>(</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&amp;You are deaf and can&#39;t talk.  When you don&#39;t respond, %s becomes angry!&quot;</span> ),</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>                   <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> );</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_SEDATED&quot;</span> ) {</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>(</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s is sedated and can&#39;t be moved or woken up until the medication or sedation wears off.\nYou estimate it will wear off in %2$s.&quot;</span> ),</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>                   <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>, <a class="code hl_function" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.estimate_effect_dur( <a class="code hl_class" href="classstring__id.html">skill_id</a>( <span class="stringliteral">&quot;firstaid&quot;</span> ), <a class="code hl_variable" href="npctalk_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a>,</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                           15_minutes, 6, *<a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a> ) ) );</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    }</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span> </div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;p = <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>; <span class="comment">// for compatibility, later replace it in the code below</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <span class="comment">// Those topics are handled by the mission system, see there.</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; mission_topics = { {</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>            <span class="stringliteral">&quot;TALK_MISSION_DESCRIBE&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_DESCRIBE_URGENT&quot;</span>,</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>            <span class="stringliteral">&quot;TALK_MISSION_OFFER&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_ACCEPTED&quot;</span>,</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>            <span class="stringliteral">&quot;TALK_MISSION_REJECTED&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_ADVICE&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_INQUIRE&quot;</span>,</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>            <span class="stringliteral">&quot;TALK_MISSION_SUCCESS&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_SUCCESS_LIE&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_FAILURE&quot;</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>        }</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    };</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    <span class="keywordflow">if</span>( mission_topics.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        <span class="keywordflow">if</span>( p-&gt;chatbin.mission_selected == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;mission_selected == nullptr; BUG!  (npctalk.cpp:dynamic_line)&quot;</span>;</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        }</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        <a class="code hl_class" href="classmission.html">mission</a> *miss = p-&gt;chatbin.mission_selected;</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = miss-&gt;<a class="code hl_function" href="classmission.html#af99364a9afac4abce5af8a056835f95d">get_type</a>();</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>        <span class="comment">// TODO: make it a member of the mission class, maybe at mission instance specific data</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>        <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = miss-&gt;<a class="code hl_function" href="classmission.html#af93190af153b0339b7cc7c1ecbc7dd68">dialogue_for_topic</a>( topic );</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.empty() ) {</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Bug in npctalk.cpp:dynamic_line.  Wrong mission_id(%s) or topic(%s)&quot;</span>,</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>                      <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>.id.c_str(), topic.c_str() );</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>        }</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span> </div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>        <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_MISSION_SUCCESS&quot;</span> &amp;&amp; miss-&gt;<a class="code hl_function" href="classmission.html#a6e010e306880612d64fdfc4b44486dc9">has_follow_up</a>() ) {</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>            <span class="keywordflow">switch</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 3 ) ) {</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>                <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>                    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;  And I have more I&#39;d like you to do.&quot;</span> );</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>                <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>                    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;  I could use a hand with something else if you are interested.&quot;</span> );</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>                <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>                    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;  If you are interested, I have another job for you.&quot;</span> );</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>            }</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>        }</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span> </div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>    }</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span> </div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_NONE&quot;</span> || topic == <span class="stringliteral">&quot;TALK_DONE&quot;</span> ) {</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bye.&quot;</span> );</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_TRAIN&quot;</span> ) {</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.backlog.empty() &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.backlog.front().id() == <a class="code hl_variable" href="npctalk_8cpp.html#adae7b5637b7de5925762730601b77ffd">ACT_TRAIN</a> ) {</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Shall we resume?&quot;</span> );</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>        }</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>        std::vector&lt;skill_id&gt; trainable = p-&gt;skills_offered_to( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>        std::vector&lt;matype_id&gt; styles = p-&gt;styles_offered_to( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>        <span class="keyword">const</span> std::vector&lt;spell_id&gt; spells = p-&gt;magic-&gt;spells();</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>        std::vector&lt;spell_id&gt; teachable_spells;</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">spell_id</a> &amp;sp : spells ) {</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.magic-&gt;can_learn_spell( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, sp ) ) {</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>                teachable_spells.emplace_back( sp );</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>            }</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>        }</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>        <span class="keywordflow">if</span>( trainable.empty() &amp;&amp; styles.empty() &amp;&amp; teachable_spells.empty() ) {</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Sorry, but it doesn&#39;t seem I have anything to teach you.&quot;</span> );</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Here&#39;s what I can teach you…&quot;</span> );</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>        }</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_HOW_MUCH_FURTHER&quot;</span> ) {</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>        <span class="comment">// TODO: this ignores the z-component</span></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> player_pos = p-&gt;global_omt_location();</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>        <span class="keywordtype">int</span> dist = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( player_pos, p-&gt;goal );</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>        std::string response;</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>        dist *= 100;</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>        <span class="keywordflow">if</span>( dist &gt;= 1300 ) {</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>            <span class="keywordtype">int</span> miles = dist / 25; <span class="comment">// *100, e.g. quarter mile is &quot;25&quot;</span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>            miles -= miles % 25; <span class="comment">// Round to nearest quarter-mile</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>            <span class="keywordtype">int</span> fullmiles = ( miles - miles % 100 ) / 100; <span class="comment">// Left of the decimal point</span></div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>            <span class="keywordflow">if</span>( fullmiles &lt;= 0 ) {</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>                fullmiles = 0;</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>            }</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>            response = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%d.%d miles.&quot;</span> ), fullmiles, miles );</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>            response = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;%d foot.&quot;</span>, <span class="stringliteral">&quot;%d feet.&quot;</span>, dist ), dist );</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>        }</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>        <span class="keywordflow">return</span> response;</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_DESCRIBE_MISSION&quot;</span> ) {</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>        <span class="keywordflow">switch</span>( p-&gt;mission ) {</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da2b39325e56b1d6ac9e564b19554b1427">NPC_MISSION_SHELTER</a>:</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;I&#39;m holing up here for safety.  Long term, %s&quot;</span> ),</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>                                      p-&gt;myclass.obj().get_job_description() );</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6dac33d9490a5bc6bebca7f66a94524600c">NPC_MISSION_SHOPKEEP</a>:</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;I run the shop here.&quot;</span> );</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da821bc9455735440f71106a3f1dcb6eb9">NPC_MISSION_GUARD</a>:</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da4f14320a59c44757a7e0f5742ae3155e">NPC_MISSION_GUARD_ALLY</a>:</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da46d14bc37853bf96195459643ef6e107">NPC_MISSION_GUARD_PATROL</a>:</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Currently, I&#39;m guarding this location.  Overall, %s&quot;</span> ),</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>                                      p-&gt;myclass.obj().get_job_description() );</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da549738aa0bb5064a775ffdd70b1af638">NPC_MISSION_ACTIVITY</a>:</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Right now, I&#39;m &lt;current_activity&gt;.  In general, %s&quot;</span> ),</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>                                      p-&gt;myclass.obj().get_job_description() );</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6daf5b83209bc53322e7a58eecfb974a4ce">NPC_MISSION_TRAVELLING</a>:</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da6255603e60fdb2f2d52b8b2ce4000f87">NPC_MISSION_NULL</a>:</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>                <span class="keywordflow">return</span> p-&gt;myclass.obj().get_job_description();</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;ERROR: Someone forgot to code an npc_mission text for &quot;</span></div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>                                      <span class="stringliteral">&quot;mission: %d.&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( p-&gt;mission ) );</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>        } <span class="comment">// switch (p-&gt;mission)</span></div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_SHOUT&quot;</span> ) {</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>        <a class="code hl_variable" href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">alpha</a>-&gt;<a class="code hl_function" href="classCharacter.html#a8d1ae52e5e0c154d53b1cbf33cfcb926">shout</a>();</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">alpha</a>-&gt;<a class="code hl_function" href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">is_deaf</a>() ) {</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&amp;You yell, but can&#39;t hear yourself.&quot;</span> );</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&amp;You yell.&quot;</span> );</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>        }</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_SIZE_UP&quot;</span> ) {<span class="comment"></span></div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span><span class="comment">        ///\EFFECT_PER affects whether player can size up NPCs</span></div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span><span class="comment">        ///\EFFECT_INT slightly affects whether player can size up NPCs</span></div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span><span class="comment"></span>        <span class="keywordtype">int</span> ability = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.per_cur * 3 + <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.int_cur;</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>        <span class="keywordflow">if</span>( ability &lt;= 10 ) {</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&amp;You can&#39;t make anything out.&quot;</span> );</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>        }</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span> </div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>        <span class="keywordflow">if</span>( p-&gt;is_player_ally() || ability &gt; 100 ) {</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>            ability = 100;</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>        }</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span> </div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>        std::string info = <span class="stringliteral">&quot;&amp;&quot;</span>;</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>        <span class="keywordtype">int</span> str_range = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 100 / ability );</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>        <span class="keywordtype">int</span> str_min = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( p-&gt;str_max / str_range ) * str_range;</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>        info += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Str %d - %d&quot;</span> ), str_min, str_min + str_range );</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span> </div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>        <span class="keywordflow">if</span>( ability &gt;= 40 ) {</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>            <span class="keywordtype">int</span> dex_range = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 160 / ability );</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>            <span class="keywordtype">int</span> dex_min = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( p-&gt;dex_max / dex_range ) * dex_range;</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>            info += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;  Dex %d - %d&quot;</span> ), dex_min, dex_min + dex_range );</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>        }</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span> </div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>        <span class="keywordflow">if</span>( ability &gt;= 50 ) {</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>            <span class="keywordtype">int</span> int_range = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 200 / ability );</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>            <span class="keywordtype">int</span> int_min = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( p-&gt;int_max / int_range ) * int_range;</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>            info += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;  Int %d - %d&quot;</span> ), int_min, int_min + int_range );</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>        }</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span> </div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>        <span class="keywordflow">if</span>( ability &gt;= 60 ) {</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>            <span class="keywordtype">int</span> per_range = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 240 / ability );</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>            <span class="keywordtype">int</span> per_min = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( p-&gt;per_max / per_range ) * per_range;</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>            info += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;  Per %d - %d&quot;</span> ), per_min, per_min + per_range );</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>        }</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span> </div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>        <a class="code hl_struct" href="structneeds__rates.html">needs_rates</a> rates = p-&gt;calc_needs_rates();</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>        <span class="keywordflow">if</span>( ability &gt;= 100 - ( p-&gt;get_fatigue() / 10 ) ) {</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>            std::string how_tired;</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>            <span class="keywordflow">if</span>( p-&gt;get_fatigue() &gt; <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137ae349d735a5fa5b10d9770031e669c477">fatigue_levels::exhausted</a> ) {</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>                how_tired = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Exhausted&quot;</span> );</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;get_fatigue() &gt; <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">fatigue_levels::dead_tired</a> ) {</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>                how_tired = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Dead tired&quot;</span> );</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;get_fatigue() &gt; <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">fatigue_levels::tired</a> ) {</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>                how_tired = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Tired&quot;</span> );</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>                how_tired = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Not tired&quot;</span> );</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>                <span class="keywordflow">if</span>( ability &gt;= 100 ) {</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>                    <a class="code hl_class" href="classtime__duration.html">time_duration</a> sleep_at = 5_minutes * ( <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">fatigue_levels::tired</a> - p-&gt;get_fatigue() ) /</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>                                             rates.<a class="code hl_variable" href="structneeds__rates.html#ab8a844d3dc4743475c8435e250aea0b3">fatigue</a>;</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>                    how_tired += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;.  Will need sleep in &quot;</span> ) + <a class="code hl_function" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a>( sleep_at );</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>                }</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>            }</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>            info += <span class="stringliteral">&quot;\n&quot;</span> + how_tired;</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>        }</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>        <span class="keywordflow">if</span>( ability &gt;= 100 ) {</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>            <span class="keywordflow">if</span>( p-&gt;get_thirst() &lt; <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a">thirst_levels::thirsty</a> ) {</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>                <a class="code hl_class" href="classtime__duration.html">time_duration</a> thirst_at = 5_minutes * ( <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a">thirst_levels::thirsty</a> - p-&gt;get_thirst() ) / rates.<a class="code hl_variable" href="structneeds__rates.html#ad1c618eb1d5d9b3b98155bcbe952a098">thirst</a>;</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>                <span class="keywordflow">if</span>( thirst_at &gt; 1_hours ) {</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>                    info += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;\nWill need water in &quot;</span> ) + <a class="code hl_function" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a>( thirst_at );</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>                }</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>                info += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;\nThirsty&quot;</span> );</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>            }</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>            <span class="keywordflow">if</span>( p-&gt;max_stored_kcal() - p-&gt;get_stored_kcal() &gt; 500 ) {</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>                <a class="code hl_class" href="classtime__duration.html">time_duration</a> hunger_at = 5_minutes</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>                                          * ( 500 - p-&gt;max_stored_kcal() + p-&gt;get_stored_kcal() )</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>                                          / p-&gt;bmr();</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>                <span class="keywordflow">if</span>( hunger_at &gt; 1_hours ) {</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>                    info += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;\nWill need food in &quot;</span> ) + <a class="code hl_function" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a>( hunger_at );</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>                }</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>                info += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;\nHungry&quot;</span> );</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>            }</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        }</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>        <span class="keywordflow">return</span> info;</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_LOOK_AT&quot;</span> ) {</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&amp;&quot;</span> + p-&gt;short_description();</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_OPINION&quot;</span> ) {</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&amp;&quot;</span> + p-&gt;opinion_text();</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_MIND_CONTROL&quot;</span> ) {</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>        <span class="keywordtype">bool</span> not_following = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_follower_list().count( p-&gt;getID() ) == 0;</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>        p-&gt;companion_mission_role_id.clear();</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>        <a class="code hl_function" href="namespacetalk__function.html#a74c5383a186724aecc40087163edea45">talk_function::follow</a>( *p );</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>        <span class="keywordflow">if</span>( not_following ) {</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;YES, MASTER!&quot;</span> );</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        }</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>    }</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span> </div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;I don&#39;t know what to say for %s. (BUG (npctalk.cpp:dynamic_line))&quot;</span>,</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>                          topic );</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>}</div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a3cbd6a4aa555daec83ee03cc90dd7715"><div class="ttname"><a href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a></div><div class="ttdeci">std::string to_string_approx(const time_duration &amp;dur, const bool verbose)</div><div class="ttdoc">Returns approximate duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00361">calendar.cpp:361</a></div></div>
<div class="ttc" id="acharacter_8h_html_a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a"><div class="ttname"><a href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a">thirst_levels::thirsty</a></div><div class="ttdeci">@ thirsty</div></div>
<div class="ttc" id="acharacter_8h_html_abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46"><div class="ttname"><a href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">fatigue_levels::tired</a></div><div class="ttdeci">@ tired</div></div>
<div class="ttc" id="acharacter_8h_html_abf088072c9ca5b676f7f7545bac9a137ae349d735a5fa5b10d9770031e669c477"><div class="ttname"><a href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137ae349d735a5fa5b10d9770031e669c477">fatigue_levels::exhausted</a></div><div class="ttdeci">@ exhausted</div></div>
<div class="ttc" id="acharacter_8h_html_abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d"><div class="ttname"><a href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">fatigue_levels::dead_tired</a></div><div class="ttdeci">@ dead_tired</div></div>
<div class="ttc" id="aclassCharacter_html_a6592c35167738421f3e04ca8808d37db"><div class="ttname"><a href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">Character::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01568">character.h:1568</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8d1ae52e5e0c154d53b1cbf33cfcb926"><div class="ttname"><a href="classCharacter.html#a8d1ae52e5e0c154d53b1cbf33cfcb926">Character::shout</a></div><div class="ttdeci">void shout(std::string msg=&quot;&quot;, bool order=false)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07710">character.cpp:7710</a></div></div>
<div class="ttc" id="aclassCharacter_html_aecadb13556a47d015e1a1ac7c46d56a7"><div class="ttname"><a href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">Character::is_deaf</a></div><div class="ttdeci">bool is_deaf() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04470">character.cpp:4470</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::omt &gt;</a></div></div>
<div class="ttc" id="aclassmission_html"><div class="ttname"><a href="classmission.html">mission</a></div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00290">mission.h:291</a></div></div>
<div class="ttc" id="aclassmission_html_a6e010e306880612d64fdfc4b44486dc9"><div class="ttname"><a href="classmission.html#a6e010e306880612d64fdfc4b44486dc9">mission::has_follow_up</a></div><div class="ttdeci">bool has_follow_up() const</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00546">mission.cpp:546</a></div></div>
<div class="ttc" id="aclassmission_html_af93190af153b0339b7cc7c1ecbc7dd68"><div class="ttname"><a href="classmission.html#af93190af153b0339b7cc7c1ecbc7dd68">mission::dialogue_for_topic</a></div><div class="ttdeci">std::string dialogue_for_topic(const std::string &amp;topic) const</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00655">mission.cpp:655</a></div></div>
<div class="ttc" id="aclassmission_html_af99364a9afac4abce5af8a056835f95d"><div class="ttname"><a href="classmission.html#af99364a9afac4abce5af8a056835f95d">mission::get_type</a></div><div class="ttdeci">const mission_type &amp; get_type() const</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00536">mission.cpp:536</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; Skill &gt;</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a47953b33a873caa0861b12222842a5ec"><div class="ttname"><a href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00519">coordinates.h:519</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a></div><div class="ttdeci">@ type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00075">enums.h:75</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00267">game.cpp:267</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a90f1f53dc044e93e7f7f9314cef1bd45"><div class="ttname"><a href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06454">mapgen.cpp:6454</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="anamespacetalk__function_html_a74c5383a186724aecc40087163edea45"><div class="ttname"><a href="namespacetalk__function.html#a74c5383a186724aecc40087163edea45">talk_function::follow</a></div><div class="ttdeci">void follow(npc &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk__funcs_8cpp_source.html#l00731">npctalk_funcs.cpp:731</a></div></div>
<div class="ttc" id="anpc_8h_html_a1cfe07d375f7cf0b8c656a5bcae8fc6da2b39325e56b1d6ac9e564b19554b1427"><div class="ttname"><a href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da2b39325e56b1d6ac9e564b19554b1427">NPC_MISSION_SHELTER</a></div><div class="ttdeci">@ NPC_MISSION_SHELTER</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00181">npc.h:181</a></div></div>
<div class="ttc" id="anpc_8h_html_a1cfe07d375f7cf0b8c656a5bcae8fc6da46d14bc37853bf96195459643ef6e107"><div class="ttname"><a href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da46d14bc37853bf96195459643ef6e107">NPC_MISSION_GUARD_PATROL</a></div><div class="ttdeci">@ NPC_MISSION_GUARD_PATROL</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00189">npc.h:189</a></div></div>
<div class="ttc" id="anpc_8h_html_a1cfe07d375f7cf0b8c656a5bcae8fc6da4f14320a59c44757a7e0f5742ae3155e"><div class="ttname"><a href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da4f14320a59c44757a7e0f5742ae3155e">NPC_MISSION_GUARD_ALLY</a></div><div class="ttdeci">@ NPC_MISSION_GUARD_ALLY</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00187">npc.h:187</a></div></div>
<div class="ttc" id="anpc_8h_html_a1cfe07d375f7cf0b8c656a5bcae8fc6da549738aa0bb5064a775ffdd70b1af638"><div class="ttname"><a href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da549738aa0bb5064a775ffdd70b1af638">NPC_MISSION_ACTIVITY</a></div><div class="ttdeci">@ NPC_MISSION_ACTIVITY</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00190">npc.h:190</a></div></div>
<div class="ttc" id="anpc_8h_html_a1cfe07d375f7cf0b8c656a5bcae8fc6da6255603e60fdb2f2d52b8b2ce4000f87"><div class="ttname"><a href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da6255603e60fdb2f2d52b8b2ce4000f87">NPC_MISSION_NULL</a></div><div class="ttdeci">@ NPC_MISSION_NULL</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00179">npc.h:179</a></div></div>
<div class="ttc" id="anpc_8h_html_a1cfe07d375f7cf0b8c656a5bcae8fc6da821bc9455735440f71106a3f1dcb6eb9"><div class="ttname"><a href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6da821bc9455735440f71106a3f1dcb6eb9">NPC_MISSION_GUARD</a></div><div class="ttdeci">@ NPC_MISSION_GUARD</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00188">npc.h:188</a></div></div>
<div class="ttc" id="anpc_8h_html_a1cfe07d375f7cf0b8c656a5bcae8fc6dac33d9490a5bc6bebca7f66a94524600c"><div class="ttname"><a href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6dac33d9490a5bc6bebca7f66a94524600c">NPC_MISSION_SHOPKEEP</a></div><div class="ttdeci">@ NPC_MISSION_SHOPKEEP</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00182">npc.h:182</a></div></div>
<div class="ttc" id="anpc_8h_html_a1cfe07d375f7cf0b8c656a5bcae8fc6daf5b83209bc53322e7a58eecfb974a4ce"><div class="ttname"><a href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6daf5b83209bc53322e7a58eecfb974a4ce">NPC_MISSION_TRAVELLING</a></div><div class="ttdeci">@ NPC_MISSION_TRAVELLING</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00192">npc.h:191</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a1a6476e8888f0929f469fd9af2d629bc"><div class="ttname"><a href="npctalk_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a></div><div class="ttdeci">static const efftype_id effect_narcosis(&quot;narcosis&quot;)</div></div>
<div class="ttc" id="anpctalk_8cpp_html_adae7b5637b7de5925762730601b77ffd"><div class="ttname"><a href="npctalk_8cpp.html#adae7b5637b7de5925762730601b77ffd">ACT_TRAIN</a></div><div class="ttdeci">static const activity_id ACT_TRAIN(&quot;ACT_TRAIN&quot;)</div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
<div class="ttc" id="astructdialogue_html_a2edd4e78d06b37dafd34284a48b82720"><div class="ttname"><a href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">dialogue::beta</a></div><div class="ttdeci">npc * beta</div><div class="ttdoc">The NPC we talk to.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00231">dialogue.h:231</a></div></div>
<div class="ttc" id="astructdialogue_html_a42afe2cf929fea970dc6b74a8bec4bd7"><div class="ttname"><a href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">dialogue::alpha</a></div><div class="ttdeci">player * alpha</div><div class="ttdoc">The player character that speaks (always g-&gt;u).</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00226">dialogue.h:226</a></div></div>
<div class="ttc" id="astructdialogue_html_a8b356491a4ba3a81d77cc9a12a207856"><div class="ttname"><a href="structdialogue.html#a8b356491a4ba3a81d77cc9a12a207856">dialogue::cur_item</a></div><div class="ttdeci">itype_id cur_item</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00245">dialogue.h:245</a></div></div>
<div class="ttc" id="astructneeds__rates_html"><div class="ttname"><a href="structneeds__rates.html">needs_rates</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00091">player.h:91</a></div></div>
<div class="ttc" id="astructneeds__rates_html_ab8a844d3dc4743475c8435e250aea0b3"><div class="ttname"><a href="structneeds__rates.html#ab8a844d3dc4743475c8435e250aea0b3">needs_rates::fatigue</a></div><div class="ttdeci">float fatigue</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00094">player.h:94</a></div></div>
<div class="ttc" id="astructneeds__rates_html_ad1c618eb1d5d9b3b98155bcbe952a098"><div class="ttname"><a href="structneeds__rates.html#ad1c618eb1d5d9b3b98155bcbe952a098">needs_rates::thirst</a></div><div class="ttdeci">float thirst</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00092">player.h:92</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a82b835742108b8d7f5f6a291b41e208e"><div class="ttname"><a href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a></div><div class="ttdeci">const char * vgettext(const char *msgid, const char *msgid_plural, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00036">translations.cpp:36</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="npctalk_8cpp.html#adae7b5637b7de5925762730601b77ffd">ACT_TRAIN</a>, <a class="el" href="dialogue_8h_source.html#l00226">alpha</a>, <a class="el" href="dialogue_8h_source.html#l00231">beta</a>, <a class="el" href="dialogue_8h_source.html#l00245">cur_item</a>, <a class="el" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">dead_tired</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="mission_8cpp_source.html#l00655">mission::dialogue_for_topic()</a>, <a class="el" href="npctalk_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a>, <a class="el" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137ae349d735a5fa5b10d9770031e669c477">exhausted</a>, <a class="el" href="player_8h_source.html#l00094">needs_rates::fatigue</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00731">talk_function::follow()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="mission_8cpp_source.html#l00536">mission::get_type()</a>, <a class="el" href="mission_8cpp_source.html#l00546">mission::has_follow_up()</a>, <a class="el" href="dialogue_8h_source.html#l00076">talk_topic::id</a>, <a class="el" href="character_8cpp_source.html#l04470">Character::is_deaf()</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="dialogue_8h_source.html#l00078">talk_topic::item_type</a>, <a class="el" href="npctalk_8cpp_source.html#l00112">json_talk_topics</a>, <a class="el" href="mapgen_8cpp_source.html#l06454">line()</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="npc_8h_source.html#l00190">NPC_MISSION_ACTIVITY</a>, <a class="el" href="npc_8h_source.html#l00188">NPC_MISSION_GUARD</a>, <a class="el" href="npc_8h_source.html#l00187">NPC_MISSION_GUARD_ALLY</a>, <a class="el" href="npc_8h_source.html#l00189">NPC_MISSION_GUARD_PATROL</a>, <a class="el" href="npc_8h_source.html#l00179">NPC_MISSION_NULL</a>, <a class="el" href="npc_8h_source.html#l00181">NPC_MISSION_SHELTER</a>, <a class="el" href="npc_8h_source.html#l00182">NPC_MISSION_SHOPKEEP</a>, <a class="el" href="npc_8h_source.html#l00191">NPC_MISSION_TRAVELLING</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="character_8cpp_source.html#l07710">Character::shout()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="player_8h_source.html#l00092">needs_rates::thirst</a>, <a class="el" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a">thirsty</a>, <a class="el" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">tired</a>, <a class="el" href="calendar_8cpp_source.html#l00361">to_string_approx()</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, and <a class="el" href="translations_8cpp_source.html#l00036">vgettext()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01728">opt()</a>.</p>

</div>
</div>
<a id="ac074903e749e4c545aac860ebc4a19a2" name="ac074903e749e4c545aac860ebc4a19a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac074903e749e4c545aac860ebc4a19a2">&#9670;&nbsp;</a></span>gen_responses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dialogue::gen_responses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;&#160;</td>
          <td class="paramname"><em>topic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01234">1234</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>{</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;topic = the_topic.<a class="code hl_variable" href="structtalk__topic.html#ad8e4ad510315bdbd4d4183b2f4d5bf08">id</a>; <span class="comment">// for compatibility, later replace it in the code below</span></div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>    <span class="keyword">const</span> <span class="keyword">auto</span> p = <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>; <span class="comment">// for compatibility, later replace it in the code below</span></div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>; <span class="comment">// for compatibility, later replace it in the code below</span></div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.clear();</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>    <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code hl_variable" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a>.find( topic );</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    <span class="keywordflow">if</span>( iter != <a class="code hl_variable" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a>.end() ) {</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>        <a class="code hl_class" href="classjson__talk__topic.html">json_talk_topic</a> &amp;jtt = iter-&gt;second;</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>        <span class="keywordflow">if</span>( jtt.<a class="code hl_function" href="classjson__talk__topic.html#a37dae88b07a4b0a36250545a10fcad6e">gen_responses</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>        }</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    }</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span> </div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>    <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_MISSION_LIST&quot;</span> ) {</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>        <span class="keywordflow">if</span>( p-&gt;chatbin.missions.size() == 1 ) {</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>            <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Tell me about it.&quot;</span> ), <span class="stringliteral">&quot;TALK_MISSION_OFFER&quot;</span>,</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>                          p-&gt;chatbin.missions.front(), <span class="keyword">true</span> );</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classmission.html">mission</a> : p-&gt;chatbin.missions ) {</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>                <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( <a class="code hl_class" href="classmission.html">mission</a>-&gt;<a class="code hl_function" href="classmission.html#af99364a9afac4abce5af8a056835f95d">get_type</a>().<a class="code hl_function" href="structmission__type.html#a55e4f0b0675cecbcedc54fb6fb84f20d">tname</a>(), <span class="stringliteral">&quot;TALK_MISSION_OFFER&quot;</span>, <a class="code hl_class" href="classmission.html">mission</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>            }</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>        }</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_MISSION_LIST_ASSIGNED&quot;</span> ) {</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="structdialogue.html#af0883e28c7c29ffdfb4ba6cd2fcf2d06">missions_assigned</a>.size() == 1 ) {</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>            <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;I have news.&quot;</span> ), <span class="stringliteral">&quot;TALK_MISSION_INQUIRE&quot;</span>, <a class="code hl_variable" href="structdialogue.html#af0883e28c7c29ffdfb4ba6cd2fcf2d06">missions_assigned</a>.front() );</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;miss_it : <a class="code hl_variable" href="structdialogue.html#af0883e28c7c29ffdfb4ba6cd2fcf2d06">missions_assigned</a> ) {</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>                <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( miss_it-&gt;get_type().tname(), <span class="stringliteral">&quot;TALK_MISSION_INQUIRE&quot;</span>, miss_it );</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>            }</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>        }</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_TRAIN&quot;</span> ) {</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.backlog.empty() &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.backlog.front().id() == <a class="code hl_variable" href="npctalk_8cpp.html#adae7b5637b7de5925762730601b77ffd">ACT_TRAIN</a> &amp;&amp;</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.backlog.front().index == p-&gt;getID().get_value() ) {</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>            <a class="code hl_class" href="classplayer__activity.html">player_activity</a> &amp;backlog = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.backlog.front();</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> skillt( backlog.<a class="code hl_variable" href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">name</a> );</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>            <span class="comment">// TODO: This is potentially dangerous. A skill and a martial art</span></div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>            <span class="comment">// could have the same ident!</span></div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>            <span class="keywordflow">if</span>( !skillt.is_valid() ) {</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>                <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">matype_id</a> styleid = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a39fb4edcfa1147eb588946ebf1286f41">matype_id</a>( backlog.<a class="code hl_variable" href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">name</a> );</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>                <span class="keywordflow">if</span>( !styleid.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">spell_id</a> &amp;sp_id = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a26fc65fa85c36140553bad2b5359989f">spell_id</a>( backlog.<a class="code hl_variable" href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">name</a> );</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>                    <span class="keywordflow">if</span>( p-&gt;magic-&gt;knows_spell( sp_id ) ) {</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>                        <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Yes, let&#39;s resume training %s&quot;</span> ), sp_id-&gt;<a class="code hl_variable" href="classspell__type.html#adcac4bcd0931ffd34281a9eed747d93c">name</a> ),</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>                                      <span class="stringliteral">&quot;TALK_TRAIN_START&quot;</span>, sp_id );</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>                    }</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classmartialart.html">martialart</a> &amp;style = styleid.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>                    <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Yes, let&#39;s resume training %s&quot;</span> ), style.<a class="code hl_variable" href="classmartialart.html#a755de10d91b0292258efb0ab55b80cbc">name</a> ), <span class="stringliteral">&quot;TALK_TRAIN_START&quot;</span>,</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>                                  style );</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>                }</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>                <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Yes, let&#39;s resume training %s&quot;</span> ), skillt-&gt;name() ),</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>                              <span class="stringliteral">&quot;TALK_TRAIN_START&quot;</span>, skillt );</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>            }</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>        }</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>        std::vector&lt;matype_id&gt; styles = p-&gt;styles_offered_to( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>        std::vector&lt;skill_id&gt; trainable = p-&gt;skills_offered_to( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>        <span class="keyword">const</span> std::vector&lt;spell_id&gt; spells = p-&gt;magic-&gt;spells();</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>        std::vector&lt;spell_id&gt; teachable_spells;</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">spell_id</a> &amp;sp : spells ) {</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>            <span class="keyword">const</span> <a class="code hl_class" href="classspell.html">spell</a> &amp;temp_spell = p-&gt;magic-&gt;get_spell( sp );</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.magic-&gt;can_learn_spell( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, sp ) ) {</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.magic-&gt;knows_spell( sp ) ) {</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classspell.html">spell</a> &amp;player_spell = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.magic-&gt;get_spell( sp );</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>                    <span class="keywordflow">if</span>( player_spell.<a class="code hl_function" href="classspell.html#ae9cfbbfa724a39437397e161c5f2fbe8">is_max_level</a>() || player_spell.<a class="code hl_function" href="classspell.html#a006cfd33c15f732b2463eda1ae0686cc">get_level</a>() &gt;= temp_spell.<a class="code hl_function" href="classspell.html#a006cfd33c15f732b2463eda1ae0686cc">get_level</a>() ) {</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>                    }</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>                }</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>                teachable_spells.emplace_back( sp );</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>            }</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>        }</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>        <span class="keywordflow">if</span>( trainable.empty() &amp;&amp; styles.empty() &amp;&amp; teachable_spells.empty() ) {</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>            <a class="code hl_function" href="structdialogue.html#ae0bf9da647cd274f90afdb7b5331c6a1">add_response_none</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Oh, okay.&quot;</span> ) );</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>        }</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">spell_id</a> &amp;sp : teachable_spells ) {</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>            <span class="keyword">const</span> <a class="code hl_class" href="classspell.html">spell</a> &amp;temp_spell = p-&gt;magic-&gt;get_spell( sp );</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> knows = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.magic-&gt;knows_spell( sp );</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> cost = p-&gt;calc_spell_training_cost( knows, temp_spell.<a class="code hl_function" href="classspell.html#a89ca0bb7244ffe18248d374293d68358">get_difficulty</a>(),</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>                             temp_spell.<a class="code hl_function" href="classspell.html#a006cfd33c15f732b2463eda1ae0686cc">get_level</a>() );</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>            std::string text;</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>            <span class="keywordflow">if</span>( knows ) {</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>                text = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: 1 hour lesson (cost %s)&quot;</span> ), temp_spell.<a class="code hl_function" href="classspell.html#abdf34d5415c3fdafcd84fe3a7101bddb">name</a>(),</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>                                      <a class="code hl_function" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( cost ) );</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>                text = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: teaching spell knowledge (cost %s)&quot;</span> ), temp_spell.<a class="code hl_function" href="classspell.html#abdf34d5415c3fdafcd84fe3a7101bddb">name</a>(),</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>                                      <a class="code hl_function" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( cost ) );</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>            }</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>            <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, <span class="stringliteral">&quot;TALK_TRAIN_START&quot;</span>, sp );</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>        }</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;style_id : styles ) {</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>            <span class="keyword">auto</span> &amp;style = style_id.obj();</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> cost = <a class="code hl_function" href="npctalk_8cpp.html#a253eef43f5a0e533f2c549099ab011b2">calc_ma_style_training_cost</a>( *p, style.<a class="code hl_variable" href="classmartialart.html#a431f147007f56fadd9ca30b3d9b2b47f">id</a> );</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>            <span class="comment">//~Martial art style (cost in dollars)</span></div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>            <span class="keyword">const</span> std::string text = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( cost &gt; 0 ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s ( cost $%d )&quot;</span> ) : <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>                                                    style.<a class="code hl_variable" href="classmartialart.html#a755de10d91b0292258efb0ab55b80cbc">name</a>, cost / 100 );</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>            <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, <span class="stringliteral">&quot;TALK_TRAIN_START&quot;</span>, style );</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>        }</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;trained : trainable ) {</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> cost = <a class="code hl_function" href="npctalk_8cpp.html#a2966416eb6cf3b8160c5126d417e16c7">calc_skill_training_cost</a>( *p, trained );</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>            <a class="code hl_class" href="classSkillLevel.html">SkillLevel</a> skill_level_obj = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_skill_level_object( trained );</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> cur_level = skill_level_obj.<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>();</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> cur_level_exercise = skill_level_obj.<a class="code hl_function" href="classSkillLevel.html#a79e3b6ce793c12b5de3e4029a5e40768">exercise</a>();</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>            skill_level_obj.<a class="code hl_function" href="classSkillLevel.html#ae0dd04a5424a4de0731424ce7d8b64a0">train</a>( 100, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> next_level = skill_level_obj.<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>();</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> next_level_exercise = skill_level_obj.<a class="code hl_function" href="classSkillLevel.html#a79e3b6ce793c12b5de3e4029a5e40768">exercise</a>();</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span> </div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>            <span class="comment">//~Skill name: current level (exercise) -&gt; next level (exercise) (cost in dollars)</span></div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>            std::string text = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( cost &gt; 0 ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: %d (%d%%) -&gt; %d (%d%%) (cost $%d)&quot;</span> ) :</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>                                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: %d (%d%%) -&gt; %d (%d%%)&quot;</span> ),</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>                                              trained.obj().name(), cur_level, cur_level_exercise,</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>                                              next_level, next_level_exercise, cost / 100 );</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>            <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( text, <span class="stringliteral">&quot;TALK_TRAIN_START&quot;</span>, trained );</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>        }</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>        <a class="code hl_function" href="structdialogue.html#ae0bf9da647cd274f90afdb7b5331c6a1">add_response_none</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Eh, never mind.&quot;</span> ) );</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( topic == <span class="stringliteral">&quot;TALK_HOW_MUCH_FURTHER&quot;</span> ) {</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>        <a class="code hl_function" href="structdialogue.html#ae0bf9da647cd274f90afdb7b5331c6a1">add_response_none</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Okay, thanks.&quot;</span> ) );</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>        <a class="code hl_function" href="structdialogue.html#a099d9372066f6a2d00a7a4140307a4a0">add_response_done</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Let&#39;s keep moving.&quot;</span> ) );</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>    }</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span> </div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a> ) &amp;&amp; !p-&gt;is_player_ally() ) {</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>        <a class="code hl_function" href="structdialogue.html#acc03b8a868625fd7d74772bed41abdc7">add_response</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;OBEY ME!&quot;</span> ), <span class="stringliteral">&quot;TALK_MIND_CONTROL&quot;</span> );</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>        <a class="code hl_function" href="structdialogue.html#a099d9372066f6a2d00a7a4140307a4a0">add_response_done</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bye.&quot;</span> ) );</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>    }</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span> </div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.empty() ) {</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>        <a class="code hl_function" href="structdialogue.html#a099d9372066f6a2d00a7a4140307a4a0">add_response_done</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bye.&quot;</span> ) );</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>    }</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a26fc65fa85c36140553bad2b5359989f"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a26fc65fa85c36140553bad2b5359989f">cata_variant_type::spell_id</a></div><div class="ttdeci">@ spell_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a39fb4edcfa1147eb588946ebf1286f41"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a39fb4edcfa1147eb588946ebf1286f41">cata_variant_type::matype_id</a></div><div class="ttdeci">@ matype_id</div></div>
<div class="ttc" id="aclassSkillLevel_html"><div class="ttname"><a href="classSkillLevel.html">SkillLevel</a></div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00106">skill.h:107</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a28763c074460e59ab2851ab31f9e2a3c"><div class="ttname"><a href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">SkillLevel::level</a></div><div class="ttdeci">int level() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00125">skill.h:125</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a79e3b6ce793c12b5de3e4029a5e40768"><div class="ttname"><a href="classSkillLevel.html#a79e3b6ce793c12b5de3e4029a5e40768">SkillLevel::exercise</a></div><div class="ttdeci">int exercise(bool raw=false) const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00140">skill.h:140</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_ae0dd04a5424a4de0731424ce7d8b64a0"><div class="ttname"><a href="classSkillLevel.html#ae0dd04a5424a4de0731424ce7d8b64a0">SkillLevel::train</a></div><div class="ttdeci">void train(int amount, bool skip_scaling=false)</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00210">skill.cpp:210</a></div></div>
<div class="ttc" id="aclassjson__talk__topic_html"><div class="ttname"><a href="classjson__talk__topic.html">json_talk_topic</a></div><div class="ttdoc">Talk topic definitions load from json.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00404">dialogue.h:405</a></div></div>
<div class="ttc" id="aclassjson__talk__topic_html_a37dae88b07a4b0a36250545a10fcad6e"><div class="ttname"><a href="classjson__talk__topic.html#a37dae88b07a4b0a36250545a10fcad6e">json_talk_topic::gen_responses</a></div><div class="ttdeci">bool gen_responses(dialogue &amp;d) const</div><div class="ttdoc">Callback from dialogue::gen_responses, it should add the response from here into the list of possible...</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l03153">npctalk.cpp:3153</a></div></div>
<div class="ttc" id="aclassmartialart_html"><div class="ttname"><a href="classmartialart.html">martialart</a></div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8h_source.html#l00202">martialarts.h:203</a></div></div>
<div class="ttc" id="aclassmartialart_html_a755de10d91b0292258efb0ab55b80cbc"><div class="ttname"><a href="classmartialart.html#a755de10d91b0292258efb0ab55b80cbc">martialart::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8h_source.html#l00245">martialarts.h:245</a></div></div>
<div class="ttc" id="aclassplayer__activity_html"><div class="ttname"><a href="classplayer__activity.html">player_activity</a></div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00031">player_activity.h:32</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a878a082cf9150511f6ab911b3c9d30aa"><div class="ttname"><a href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">player_activity::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00055">player_activity.h:55</a></div></div>
<div class="ttc" id="aclassspell__type_html_adcac4bcd0931ffd34281a9eed747d93c"><div class="ttname"><a href="classspell__type.html#adcac4bcd0931ffd34281a9eed747d93c">spell_type::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00143">magic.h:143</a></div></div>
<div class="ttc" id="aclassspell_html"><div class="ttname"><a href="classspell.html">spell</a></div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00285">magic.h:286</a></div></div>
<div class="ttc" id="aclassspell_html_a006cfd33c15f732b2463eda1ae0686cc"><div class="ttname"><a href="classspell.html#a006cfd33c15f732b2463eda1ae0686cc">spell::get_level</a></div><div class="ttdeci">int get_level() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01033">magic.cpp:1033</a></div></div>
<div class="ttc" id="aclassspell_html_a89ca0bb7244ffe18248d374293d68358"><div class="ttname"><a href="classspell.html#a89ca0bb7244ffe18248d374293d68358">spell::get_difficulty</a></div><div class="ttdeci">int get_difficulty() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00696">magic.cpp:696</a></div></div>
<div class="ttc" id="aclassspell_html_abdf34d5415c3fdafcd84fe3a7101bddb"><div class="ttname"><a href="classspell.html#abdf34d5415c3fdafcd84fe3a7101bddb">spell::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00729">magic.cpp:729</a></div></div>
<div class="ttc" id="aclassspell_html_ae9cfbbfa724a39437397e161c5f2fbe8"><div class="ttname"><a href="classspell.html#ae9cfbbfa724a39437397e161c5f2fbe8">spell::is_max_level</a></div><div class="ttdeci">bool is_max_level() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00618">magic.cpp:618</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00065">achievement.cpp:65</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a253eef43f5a0e533f2c549099ab011b2"><div class="ttname"><a href="npctalk_8cpp.html#a253eef43f5a0e533f2c549099ab011b2">calc_ma_style_training_cost</a></div><div class="ttdeci">int calc_ma_style_training_cost(const npc &amp;p, const matype_id &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00160">npctalk.cpp:160</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a2966416eb6cf3b8160c5126d417e16c7"><div class="ttname"><a href="npctalk_8cpp.html#a2966416eb6cf3b8160c5126d417e16c7">calc_skill_training_cost</a></div><div class="ttdeci">int calc_skill_training_cost(const npc &amp;p, const skill_id &amp;skill)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00143">npctalk.cpp:143</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a37a1fab8c4f17e009841e255f68b5733"><div class="ttname"><a href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a></div><div class="ttdeci">static const trait_id trait_DEBUG_MIND_CONTROL(&quot;DEBUG_MIND_CONTROL&quot;)</div></div>
<div class="ttc" id="aoutput_8h_html_afc5db1b09e0b37fa89eda5966c61b1f5"><div class="ttname"><a href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a></div><div class="ttdeci">std::string format_money(int cents)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00963">output.h:963</a></div></div>
<div class="ttc" id="astructdialogue_html_a099d9372066f6a2d00a7a4140307a4a0"><div class="ttname"><a href="structdialogue.html#a099d9372066f6a2d00a7a4140307a4a0">dialogue::add_response_done</a></div><div class="ttdeci">talk_response &amp; add_response_done(const std::string &amp;text)</div><div class="ttdoc">Add a response with the result TALK_DONE.</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01160">npctalk.cpp:1160</a></div></div>
<div class="ttc" id="astructdialogue_html_ae0bf9da647cd274f90afdb7b5331c6a1"><div class="ttname"><a href="structdialogue.html#ae0bf9da647cd274f90afdb7b5331c6a1">dialogue::add_response_none</a></div><div class="ttdeci">talk_response &amp; add_response_none(const std::string &amp;text)</div><div class="ttdoc">Add a response with the result TALK_NONE.</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01165">npctalk.cpp:1165</a></div></div>
<div class="ttc" id="astructdialogue_html_af0883e28c7c29ffdfb4ba6cd2fcf2d06"><div class="ttname"><a href="structdialogue.html#af0883e28c7c29ffdfb4ba6cd2fcf2d06">dialogue::missions_assigned</a></div><div class="ttdeci">std::vector&lt; mission * &gt; missions_assigned</div><div class="ttdoc">Missions that have been assigned by this npc to the player they currently speak to.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00239">dialogue.h:239</a></div></div>
<div class="ttc" id="astructmission__type_html_a55e4f0b0675cecbcedc54fb6fb84f20d"><div class="ttname"><a href="structmission__type.html#a55e4f0b0675cecbcedc54fb6fb84f20d">mission_type::tname</a></div><div class="ttdeci">std::string tname() const</div><div class="ttdoc">Returns the translated name.</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00057">mission.cpp:57</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="npctalk_8cpp.html#adae7b5637b7de5925762730601b77ffd">ACT_TRAIN</a>, <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>, <a class="el" href="npctalk_8cpp_source.html#l01160">add_response_done()</a>, <a class="el" href="npctalk_8cpp_source.html#l01165">add_response_none()</a>, <a class="el" href="dialogue_8h_source.html#l00231">beta</a>, <a class="el" href="npctalk_8cpp_source.html#l00160">calc_ma_style_training_cost()</a>, <a class="el" href="npctalk_8cpp_source.html#l00143">calc_skill_training_cost()</a>, <a class="el" href="skill_8h_source.html#l00140">SkillLevel::exercise()</a>, <a class="el" href="output_8h_source.html#l00963">format_money()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="npctalk_8cpp_source.html#l03153">json_talk_topic::gen_responses()</a>, <a class="el" href="magic_8cpp_source.html#l00696">spell::get_difficulty()</a>, <a class="el" href="magic_8cpp_source.html#l01033">spell::get_level()</a>, <a class="el" href="mission_8cpp_source.html#l00536">mission::get_type()</a>, <a class="el" href="dialogue_8h_source.html#l00076">talk_topic::id</a>, <a class="el" href="magic_8cpp_source.html#l00618">spell::is_max_level()</a>, <a class="el" href="achievement_8cpp_source.html#l00065">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="npctalk_8cpp_source.html#l00112">json_talk_topics</a>, <a class="el" href="skill_8h_source.html#l00125">SkillLevel::level()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a39fb4edcfa1147eb588946ebf1286f41">matype_id</a>, <a class="el" href="dialogue_8h_source.html#l00239">missions_assigned</a>, <a class="el" href="magic_8h_source.html#l00143">spell_type::name</a>, <a class="el" href="magic_8cpp_source.html#l00729">spell::name()</a>, <a class="el" href="martialarts_8h_source.html#l00245">martialart::name</a>, <a class="el" href="player__activity_8h_source.html#l00055">player_activity::name</a>, <a class="el" href="skill_8h_source.html#l00068">Skill::name()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="dialogue_8h_source.html#l00256">responses</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a26fc65fa85c36140553bad2b5359989f">spell_id</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="mission_8cpp_source.html#l00057">mission_type::tname()</a>, <a class="el" href="skill_8cpp_source.html#l00210">SkillLevel::train()</a>, and <a class="el" href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01728">opt()</a>.</p>

</div>
</div>
<a id="a67df2f42ea65c85d54465ff21051a4f7" name="a67df2f42ea65c85d54465ff21051a4f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67df2f42ea65c85d54465ff21051a4f7">&#9670;&nbsp;</a></span>opt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtalk__topic.html">talk_topic</a> dialogue::opt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdialogue__window.html">dialogue_window</a> &amp;&#160;</td>
          <td class="paramname"><em>d_win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>npc_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;&#160;</td>
          <td class="paramname"><em>topic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01728">1728</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>{</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>    std::string challenge = <a class="code hl_function" href="structdialogue.html#a27792785bd5349401efa3948399f89e8">dynamic_line</a>( topic );</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>    <a class="code hl_function" href="structdialogue.html#ac074903e749e4c545aac860ebc4a19a2">gen_responses</a>( topic );</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>    <span class="comment">// Put quotes around challenge (unless it&#39;s an action)</span></div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>    <span class="keywordflow">if</span>( challenge[0] != <span class="charliteral">&#39;*&#39;</span> &amp;&amp; challenge[0] != <span class="charliteral">&#39;&amp;&#39;</span> ) {</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>        challenge = <span class="stringliteral">&quot;\&quot;&quot;</span> + challenge + <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>    }</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span> </div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    <span class="comment">// Parse any tags in challenge</span></div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>    <a class="code hl_function" href="npctalk_8cpp.html#a13dcf795383c76a06112b906efacac43">parse_tags</a>( challenge, *<a class="code hl_variable" href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">alpha</a>, *<a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>, topic.<a class="code hl_variable" href="structtalk__topic.html#a9d6a1c6c153013048c53e837c4b254e9">item_type</a> );</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>    <a class="code hl_function" href="string__utils_8cpp.html#a4ca22a5f94c33d5a0849e241f0065b3c">capitalize_letter</a>( challenge );</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span> </div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>    <span class="comment">// Prepend &quot;My Name: &quot;</span></div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    <span class="keywordflow">if</span>( challenge[0] == <span class="charliteral">&#39;&amp;&#39;</span> ) {</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>        <span class="comment">// No name prepended!</span></div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>        challenge = challenge.substr( 1 );</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( challenge[0] == <span class="charliteral">&#39;*&#39;</span> ) {</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>        challenge = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;npc does something&quot;</span>, <span class="stringliteral">&quot;%s %s&quot;</span> ), <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>,</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>                                   challenge.substr( 1 ) );</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>        challenge = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;npc says something&quot;</span>, <span class="stringliteral">&quot;%s: %s&quot;</span> ), <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>,</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>                                   challenge );</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    }</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span> </div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>    d_win.<a class="code hl_function" href="classdialogue__window.html#ae224081e3bd37afb43282894e8f51373">add_to_history</a>( challenge );</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span> </div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    <a class="code hl_function" href="structdialogue.html#ae7343c934a16a58a3324e970a2c5693b">apply_speaker_effects</a>( topic );</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span> </div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>    std::vector&lt;talk_data&gt; response_lines;</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>.size(); i++ ) {</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>        response_lines.push_back( <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>[i].create_option_line( *<span class="keyword">this</span>, <span class="charliteral">&#39;a&#39;</span> + i ) );</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>    }</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span> </div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span><span class="preprocessor">#if defined(__ANDROID__)</span></div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>    <a class="code hl_class" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;DIALOGUE_CHOOSE_RESPONSE&quot;</span> );</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>.size(); i++ ) {</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>        ctxt.register_manual_key( <span class="charliteral">&#39;a&#39;</span> + i );</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>    }</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>    ctxt.register_manual_key( <span class="charliteral">&#39;L&#39;</span>, <span class="stringliteral">&quot;Look at&quot;</span> );</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>    ctxt.register_manual_key( <span class="charliteral">&#39;S&#39;</span>, <span class="stringliteral">&quot;Size up stats&quot;</span> );</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>    ctxt.register_manual_key( <span class="charliteral">&#39;Y&#39;</span>, <span class="stringliteral">&quot;Yell&quot;</span> );</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>    ctxt.register_manual_key( <span class="charliteral">&#39;O&#39;</span>, <span class="stringliteral">&quot;Check opinion&quot;</span> );</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span> </div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> <a class="code hl_namespace" href="namespaceui.html">ui</a>;</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code hl_namespace" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>        d_win.<a class="code hl_function" href="classdialogue__window.html#a36d7de820a2145515e2e667a421f6bb2">resize_dialogue</a>( <a class="code hl_namespace" href="namespaceui.html">ui</a> );</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>    } );</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span> </div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>        d_win.<a class="code hl_function" href="classdialogue__window.html#aa50b777546cb2a1a0702085e305c96b1">print_header</a>( npc_name );</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>        d_win.<a class="code hl_function" href="classdialogue__window.html#a4620cf4341679084e18a8a595e68a460">display_responses</a>( response_lines );</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>    } );</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span> </div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>    <span class="keywordtype">int</span> ch;</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>    <span class="keywordtype">bool</span> okay;</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>        d_win.<a class="code hl_function" href="classdialogue__window.html#a2abf029ae7295938f2922538c9f781ed">refresh_response_display</a>();</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>            <a class="code hl_function" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>            ch = <a class="code hl_variable" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code hl_function" href="classinput__manager.html#ad550fec9aad772e44f497bf29f845739">get_input_event</a>().<a class="code hl_function" href="structinput__event.html#a65c76de4d19d30a3b9fe386d7ee0aaed">get_first_input</a>();</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>            d_win.<a class="code hl_function" href="classdialogue__window.html#a0699890aae67fb446e78e6b890a986e5">handle_scrolling</a>( ch );</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>            <span class="keyword">auto</span> st = <a class="code hl_function" href="npctalk_8cpp.html#a9569ca0395819dfdc2713c5f42a21b0a">special_talk</a>( ch );</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>            <span class="keywordflow">if</span>( st.id != <span class="stringliteral">&quot;TALK_NONE&quot;</span> ) {</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>                <span class="keywordflow">return</span> st;</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>            }</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>            <span class="keywordflow">switch</span>( ch ) {</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>                <span class="keywordflow">case</span> <a class="code hl_variable" href="input_8h.html#af3b3462a5f8df1b9fae4c8dec239bc76">KEY_DOWN</a>:</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>                <span class="keywordflow">case</span> <a class="code hl_variable" href="input_8h.html#a3eb5e354329f66eddf45515dedadfc14">KEY_NPAGE</a>:</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>                <span class="keywordflow">case</span> <a class="code hl_variable" href="input_8h.html#af4f9cc98a80e8e792d91d13ef7036005">KEY_UP</a>:</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>                <span class="keywordflow">case</span> <a class="code hl_variable" href="input_8h.html#a6759cfc3c55dcda34effc92014d899e3">KEY_PPAGE</a>:</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>                    ch = -1;</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>                    ch -= <span class="charliteral">&#39;a&#39;</span>;</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>            }</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>        } <span class="keywordflow">while</span>( ( ch &lt; 0 || ch &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>.size() ) ) );</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>        okay = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>        std::set&lt;dialogue_consequence&gt; consequences = <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>[ch].get_consequences( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>        <span class="keywordflow">if</span>( consequences.count( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a38be931b73e384a6a576c499c50c0aee">dialogue_consequence::hostile</a> ) &gt; 0 ) {</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>            okay = <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You may be attacked!  Proceed?&quot;</span> ) );</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( consequences.count( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71aea1759cac1069121edc08cd421358edc">dialogue_consequence::helpless</a> ) &gt; 0 ) {</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>            okay = <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ll be helpless!  Proceed?&quot;</span> ) );</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>        }</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>    } <span class="keywordflow">while</span>( !okay );</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span> </div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>    <a class="code hl_struct" href="structtalk__response.html">talk_response</a> chosen = <a class="code hl_variable" href="structdialogue.html#a015666472bdcaf3a21d69dbdfa40dc1c">responses</a>[ch];</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>    std::string response_printed = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;you say something&quot;</span>, <span class="stringliteral">&quot;You: %s&quot;</span> ),</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>                                   response_lines[ch].text );</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>    d_win.<a class="code hl_function" href="classdialogue__window.html#ae224081e3bd37afb43282894e8f51373">add_to_history</a>( response_printed );</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span> </div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>    <span class="keywordflow">if</span>( chosen.<a class="code hl_variable" href="structtalk__response.html#a14b39e3cef1a8083579f2cc033f82bf0">mission_selected</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>        <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">chatbin</a>.<a class="code hl_variable" href="structnpc__chatbin.html#a6badc35e703d29f340f0f9c3d66b6e78">mission_selected</a> = chosen.<a class="code hl_variable" href="structtalk__response.html#a14b39e3cef1a8083579f2cc033f82bf0">mission_selected</a>;</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>    }</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span> </div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>    <span class="comment">// We can&#39;t set both skill and style or training will bug out</span></div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>    <span class="comment">// TODO: Allow setting both skill and style</span></div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>    <span class="keywordflow">if</span>( chosen.<a class="code hl_variable" href="structtalk__response.html#a82b6f31da554bd5c1557260c3020071d">skill</a> ) {</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>        <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">chatbin</a>.<a class="code hl_variable" href="structnpc__chatbin.html#af4900fa04a03ef91e668d4ad675cc361">skill</a> = chosen.<a class="code hl_variable" href="structtalk__response.html#a82b6f31da554bd5c1557260c3020071d">skill</a>;</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>        <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">chatbin</a>.<a class="code hl_variable" href="structnpc__chatbin.html#ac16d0e05b42274232123ab95cfefc54d">style</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">matype_id::NULL_ID</a>();</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>        <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">chatbin</a>.<a class="code hl_variable" href="structnpc__chatbin.html#a37064831275bcbf121d57770e24c7f4a">dialogue_spell</a> = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a26fc65fa85c36140553bad2b5359989f">spell_id</a>();</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( chosen.<a class="code hl_variable" href="structtalk__response.html#aa75afb0466c174a9e8f32362f721b74e">style</a> ) {</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>        <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">chatbin</a>.<a class="code hl_variable" href="structnpc__chatbin.html#ac16d0e05b42274232123ab95cfefc54d">style</a> = chosen.<a class="code hl_variable" href="structtalk__response.html#aa75afb0466c174a9e8f32362f721b74e">style</a>;</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>        <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">chatbin</a>.<a class="code hl_variable" href="structnpc__chatbin.html#af4900fa04a03ef91e668d4ad675cc361">skill</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">skill_id::NULL_ID</a>();</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>        <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">chatbin</a>.<a class="code hl_variable" href="structnpc__chatbin.html#a37064831275bcbf121d57770e24c7f4a">dialogue_spell</a> = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a26fc65fa85c36140553bad2b5359989f">spell_id</a>();</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( chosen.<a class="code hl_variable" href="structtalk__response.html#a04ab6d99176d921f37482f8a8adb5956">dialogue_spell</a> != <a class="code hl_class" href="classstring__id.html">spell_id</a>() ) {</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>        <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">chatbin</a>.<a class="code hl_variable" href="structnpc__chatbin.html#ac16d0e05b42274232123ab95cfefc54d">style</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">matype_id::NULL_ID</a>();</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>        <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">chatbin</a>.<a class="code hl_variable" href="structnpc__chatbin.html#af4900fa04a03ef91e668d4ad675cc361">skill</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">skill_id::NULL_ID</a>();</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>        <a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_variable" href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">chatbin</a>.<a class="code hl_variable" href="structnpc__chatbin.html#a37064831275bcbf121d57770e24c7f4a">dialogue_spell</a> = chosen.<a class="code hl_variable" href="structtalk__response.html#a04ab6d99176d921f37482f8a8adb5956">dialogue_spell</a>;</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>    }</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> = chosen.<a class="code hl_variable" href="structtalk__response.html#a9838a8fadffa22d0ea7a6385cce26cde">trial</a>.<a class="code hl_function" href="structtalk__trial.html#a8e9846caf634471cac79d911ae9d9177">roll</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_enumvalue" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1a2bb387c51f0ebdab53cc485d53694d37">effects</a> = <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> ? chosen.<a class="code hl_variable" href="structtalk__response.html#ad8139bb3b9e773a743ac88f9e64fef50">success</a> : chosen.<a class="code hl_variable" href="structtalk__response.html#a44a669e1b41824179618ba1121a5a54f">failure</a>;</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1a2bb387c51f0ebdab53cc485d53694d37">effects</a>.apply( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>}</div>
<div class="ttc" id="aclassdialogue__window_html_a0699890aae67fb446e78e6b890a986e5"><div class="ttname"><a href="classdialogue__window.html#a0699890aae67fb446e78e6b890a986e5">dialogue_window::handle_scrolling</a></div><div class="ttdeci">void handle_scrolling(int ch)</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__win_8cpp_source.html#l00162">dialogue_win.cpp:162</a></div></div>
<div class="ttc" id="aclassdialogue__window_html_a2abf029ae7295938f2922538c9f781ed"><div class="ttname"><a href="classdialogue__window.html#a2abf029ae7295938f2922538c9f781ed">dialogue_window::refresh_response_display</a></div><div class="ttdeci">void refresh_response_display()</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__win_8cpp_source.html#l00155">dialogue_win.cpp:155</a></div></div>
<div class="ttc" id="aclassdialogue__window_html_a36d7de820a2145515e2e667a421f6bb2"><div class="ttname"><a href="classdialogue__window.html#a36d7de820a2145515e2e667a421f6bb2">dialogue_window::resize_dialogue</a></div><div class="ttdeci">void resize_dialogue(ui_adaptor &amp;ui)</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__win_8cpp_source.html#l00014">dialogue_win.cpp:14</a></div></div>
<div class="ttc" id="aclassdialogue__window_html_a4620cf4341679084e18a8a595e68a460"><div class="ttname"><a href="classdialogue__window.html#a4620cf4341679084e18a8a595e68a460">dialogue_window::display_responses</a></div><div class="ttdeci">void display_responses(const std::vector&lt; talk_data &gt; &amp;responses)</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__win_8cpp_source.html#l00182">dialogue_win.cpp:182</a></div></div>
<div class="ttc" id="aclassdialogue__window_html_aa50b777546cb2a1a0702085e305c96b1"><div class="ttname"><a href="classdialogue__window.html#aa50b777546cb2a1a0702085e305c96b1">dialogue_window::print_header</a></div><div class="ttdeci">void print_header(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__win_8cpp_source.html#l00029">dialogue_win.cpp:29</a></div></div>
<div class="ttc" id="aclassdialogue__window_html_ae224081e3bd37afb43282894e8f51373"><div class="ttname"><a href="classdialogue__window.html#ae224081e3bd37afb43282894e8f51373">dialogue_window::add_to_history</a></div><div class="ttdeci">void add_to_history(const std::string &amp;msg)</div><div class="ttdoc">Adds message to history.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__win_8cpp_source.html#l00049">dialogue_win.cpp:49</a></div></div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00381">input.h:382</a></div></div>
<div class="ttc" id="aclassinput__manager_html_ad550fec9aad772e44f497bf29f845739"><div class="ttname"><a href="classinput__manager.html#ad550fec9aad772e44f497bf29f845739">input_manager::get_input_event</a></div><div class="ttdeci">input_event get_input_event()</div><div class="ttdoc">curses getch() replacement.</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00251">ncurses_def.cpp:251</a></div></div>
<div class="ttc" id="aclassnpc_html_a55382df8142ce05c7346c9511fecf2d6"><div class="ttname"><a href="classnpc.html#a55382df8142ce05c7346c9511fecf2d6">npc::chatbin</a></div><div class="ttdeci">npc_chatbin chatbin</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01329">npc.h:1329</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; martialart &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; martialart &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00015">ui_manager.h:16</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a38be931b73e384a6a576c499c50c0aee"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a38be931b73e384a6a576c499c50c0aee">hostile</a></div><div class="ttdeci">@ hostile</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00034">dialogue.h:34</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71aea1759cac1069121edc08cd421358edc"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71aea1759cac1069121edc08cd421358edc">helpless</a></div><div class="ttdeci">@ helpless</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00035">dialogue.h:35</a></div></div>
<div class="ttc" id="ainput_8cpp_html_af16c50890fa8503efa899fc3b6de56d7"><div class="ttname"><a href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a></div><div class="ttdeci">input_manager inp_mngr</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00109">input.cpp:109</a></div></div>
<div class="ttc" id="ainput_8h_html_a3eb5e354329f66eddf45515dedadfc14"><div class="ttname"><a href="input_8h.html#a3eb5e354329f66eddf45515dedadfc14">KEY_NPAGE</a></div><div class="ttdeci">static constexpr int KEY_NPAGE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00065">input.h:65</a></div></div>
<div class="ttc" id="ainput_8h_html_a6759cfc3c55dcda34effc92014d899e3"><div class="ttname"><a href="input_8h.html#a6759cfc3c55dcda34effc92014d899e3">KEY_PPAGE</a></div><div class="ttdeci">static constexpr int KEY_PPAGE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00066">input.h:66</a></div></div>
<div class="ttc" id="ainput_8h_html_af3b3462a5f8df1b9fae4c8dec239bc76"><div class="ttname"><a href="input_8h.html#af3b3462a5f8df1b9fae4c8dec239bc76">KEY_DOWN</a></div><div class="ttdeci">static constexpr int KEY_DOWN</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00037">input.h:37</a></div></div>
<div class="ttc" id="ainput_8h_html_af4f9cc98a80e8e792d91d13ef7036005"><div class="ttname"><a href="input_8h.html#af4f9cc98a80e8e792d91d13ef7036005">KEY_UP</a></div><div class="ttdeci">static constexpr int KEY_UP</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00038">input.h:38</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02player__display_8cpp_03_html_a2f6040cde5f366f2f92e1fd995b289c1a2bb387c51f0ebdab53cc485d53694d37"><div class="ttname"><a href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1a2bb387c51f0ebdab53cc485d53694d37">anonymous_namespace{player_display.cpp}::player_display_tab::effects</a></div><div class="ttdeci">@ effects</div></div>
<div class="ttc" id="anamespacebehavior_html_af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b"><div class="ttname"><a href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">behavior::success</a></div><div class="ttdeci">@ success</div><div class="ttdef"><b>Definition:</b> <a href="behavior_8h_source.html#l00020">behavior.h:20</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00285">ui_manager.cpp:285</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00016">overmap_ui.h:17</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a13dcf795383c76a06112b906efacac43"><div class="ttname"><a href="npctalk_8cpp.html#a13dcf795383c76a06112b906efacac43">parse_tags</a></div><div class="ttdeci">void parse_tags(std::string &amp;phrase, const Character &amp;u, const Character &amp;me, const itype_id &amp;item_type)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01571">npctalk.cpp:1571</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a9569ca0395819dfdc2713c5f42a21b0a"><div class="ttname"><a href="npctalk_8cpp.html#a9569ca0395819dfdc2713c5f42a21b0a">special_talk</a></div><div class="ttdeci">const talk_topic &amp; special_talk(char ch)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01709">npctalk.cpp:1709</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00698">output.cpp:698</a></div></div>
<div class="ttc" id="astring__utils_8cpp_html_a4ca22a5f94c33d5a0849e241f0065b3c"><div class="ttname"><a href="string__utils_8cpp.html#a4ca22a5f94c33d5a0849e241f0065b3c">capitalize_letter</a></div><div class="ttdeci">std::string &amp; capitalize_letter(std::string &amp;str, size_t n)</div><div class="ttdoc">Capitalize nth ASCII letter.</div><div class="ttdef"><b>Definition:</b> <a href="string__utils_8cpp_source.html#l00333">string_utils.cpp:333</a></div></div>
<div class="ttc" id="astructdialogue_html_a27792785bd5349401efa3948399f89e8"><div class="ttname"><a href="structdialogue.html#a27792785bd5349401efa3948399f89e8">dialogue::dynamic_line</a></div><div class="ttdeci">std::string dynamic_line(const talk_topic &amp;topic) const</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00894">npctalk.cpp:894</a></div></div>
<div class="ttc" id="astructdialogue_html_ac074903e749e4c545aac860ebc4a19a2"><div class="ttname"><a href="structdialogue.html#ac074903e749e4c545aac860ebc4a19a2">dialogue::gen_responses</a></div><div class="ttdeci">void gen_responses(const talk_topic &amp;topic)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01234">npctalk.cpp:1234</a></div></div>
<div class="ttc" id="astructdialogue_html_ae7343c934a16a58a3324e970a2c5693b"><div class="ttname"><a href="structdialogue.html#ae7343c934a16a58a3324e970a2c5693b">dialogue::apply_speaker_effects</a></div><div class="ttdeci">void apply_speaker_effects(const talk_topic &amp;the_topic)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01128">npctalk.cpp:1128</a></div></div>
<div class="ttc" id="astructinput__event_html_a65c76de4d19d30a3b9fe386d7ee0aaed"><div class="ttname"><a href="structinput__event.html#a65c76de4d19d30a3b9fe386d7ee0aaed">input_event::get_first_input</a></div><div class="ttdeci">int get_first_input() const</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00100">input.cpp:100</a></div></div>
<div class="ttc" id="astructnpc__chatbin_html_a37064831275bcbf121d57770e24c7f4a"><div class="ttname"><a href="structnpc__chatbin.html#a37064831275bcbf121d57770e24c7f4a">npc_chatbin::dialogue_spell</a></div><div class="ttdeci">spell_id dialogue_spell</div><div class="ttdoc">The spell this NPC offers to train.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00769">npc.h:769</a></div></div>
<div class="ttc" id="astructnpc__chatbin_html_a6badc35e703d29f340f0f9c3d66b6e78"><div class="ttname"><a href="structnpc__chatbin.html#a6badc35e703d29f340f0f9c3d66b6e78">npc_chatbin::mission_selected</a></div><div class="ttdeci">mission * mission_selected</div><div class="ttdoc">The mission (if any) that we talk about right now.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00757">npc.h:757</a></div></div>
<div class="ttc" id="astructnpc__chatbin_html_ac16d0e05b42274232123ab95cfefc54d"><div class="ttname"><a href="structnpc__chatbin.html#ac16d0e05b42274232123ab95cfefc54d">npc_chatbin::style</a></div><div class="ttdeci">matype_id style</div><div class="ttdoc">The martial art style this NPC offers to train.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00765">npc.h:765</a></div></div>
<div class="ttc" id="astructnpc__chatbin_html_af4900fa04a03ef91e668d4ad675cc361"><div class="ttname"><a href="structnpc__chatbin.html#af4900fa04a03ef91e668d4ad675cc361">npc_chatbin::skill</a></div><div class="ttdeci">skill_id skill</div><div class="ttdoc">The skill this NPC offers to train.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00761">npc.h:761</a></div></div>
<div class="ttc" id="astructtalk__response_html_a04ab6d99176d921f37482f8a8adb5956"><div class="ttname"><a href="structtalk__response.html#a04ab6d99176d921f37482f8a8adb5956">talk_response::dialogue_spell</a></div><div class="ttdeci">spell_id dialogue_spell</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00209">dialogue.h:209</a></div></div>
<div class="ttc" id="astructtalk__response_html_a14b39e3cef1a8083579f2cc033f82bf0"><div class="ttname"><a href="structtalk__response.html#a14b39e3cef1a8083579f2cc033f82bf0">talk_response::mission_selected</a></div><div class="ttdeci">mission * mission_selected</div><div class="ttdoc">The following values are forwarded to the chatbin of the NPC (see npc_chatbin).</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00206">dialogue.h:206</a></div></div>
<div class="ttc" id="astructtalk__response_html_a44a669e1b41824179618ba1121a5a54f"><div class="ttname"><a href="structtalk__response.html#a44a669e1b41824179618ba1121a5a54f">talk_response::failure</a></div><div class="ttdeci">talk_effect_t failure</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00212">dialogue.h:212</a></div></div>
<div class="ttc" id="astructtalk__response_html_a82b6f31da554bd5c1557260c3020071d"><div class="ttname"><a href="structtalk__response.html#a82b6f31da554bd5c1557260c3020071d">talk_response::skill</a></div><div class="ttdeci">skill_id skill</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00207">dialogue.h:207</a></div></div>
<div class="ttc" id="astructtalk__response_html_a9838a8fadffa22d0ea7a6385cce26cde"><div class="ttname"><a href="structtalk__response.html#a9838a8fadffa22d0ea7a6385cce26cde">talk_response::trial</a></div><div class="ttdeci">talk_trial trial</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00202">dialogue.h:202</a></div></div>
<div class="ttc" id="astructtalk__response_html_aa75afb0466c174a9e8f32362f721b74e"><div class="ttname"><a href="structtalk__response.html#aa75afb0466c174a9e8f32362f721b74e">talk_response::style</a></div><div class="ttdeci">matype_id style</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00208">dialogue.h:208</a></div></div>
<div class="ttc" id="astructtalk__response_html_ad8139bb3b9e773a743ac88f9e64fef50"><div class="ttname"><a href="structtalk__response.html#ad8139bb3b9e773a743ac88f9e64fef50">talk_response::success</a></div><div class="ttdeci">talk_effect_t success</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00211">dialogue.h:211</a></div></div>
<div class="ttc" id="astructtalk__topic_html_a9d6a1c6c153013048c53e837c4b254e9"><div class="ttname"><a href="structtalk__topic.html#a9d6a1c6c153013048c53e837c4b254e9">talk_topic::item_type</a></div><div class="ttdeci">itype_id item_type</div><div class="ttdoc">If we're talking about an item, this should be its type.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00078">dialogue.h:78</a></div></div>
<div class="ttc" id="astructtalk__trial_html_a8e9846caf634471cac79d911ae9d9177"><div class="ttname"><a href="structtalk__trial.html#a8e9846caf634471cac79d911ae9d9177">talk_trial::roll</a></div><div class="ttdeci">bool roll(dialogue &amp;d) const</div><div class="ttdoc">Roll for success or failure of this trial.</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01472">npctalk.cpp:1472</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_af0c79b5c75a7cf2df78663485b03ed9a"><div class="ttname"><a href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a></div><div class="ttdeci">const char * pgettext(const char *context, const char *msgid)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00041">translations.cpp:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="dialogue__win_8cpp_source.html#l00049">dialogue_window::add_to_history()</a>, <a class="el" href="dialogue_8h_source.html#l00226">alpha</a>, <a class="el" href="npctalk_8cpp_source.html#l01128">apply_speaker_effects()</a>, <a class="el" href="dialogue_8h_source.html#l00231">beta</a>, <a class="el" href="string__utils_8cpp_source.html#l00333">capitalize_letter()</a>, <a class="el" href="npc_8h_source.html#l01329">npc::chatbin</a>, <a class="el" href="dialogue_8h_source.html#l00209">talk_response::dialogue_spell</a>, <a class="el" href="npc_8h_source.html#l00769">npc_chatbin::dialogue_spell</a>, <a class="el" href="dialogue__win_8cpp_source.html#l00182">dialogue_window::display_responses()</a>, <a class="el" href="npctalk_8cpp_source.html#l00894">dynamic_line()</a>, <a class="el" href="dialogue_8h_source.html#l00212">talk_response::failure</a>, <a class="el" href="npctalk_8cpp_source.html#l01234">gen_responses()</a>, <a class="el" href="input_8cpp_source.html#l00100">input_event::get_first_input()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00251">input_manager::get_input_event()</a>, <a class="el" href="dialogue__win_8cpp_source.html#l00162">dialogue_window::handle_scrolling()</a>, <a class="el" href="dialogue_8h_source.html#l00035">helpless</a>, <a class="el" href="dialogue_8h_source.html#l00034">hostile</a>, <a class="el" href="input_8cpp_source.html#l00109">inp_mngr</a>, <a class="el" href="dialogue_8h_source.html#l00078">talk_topic::item_type</a>, <a class="el" href="input_8h_source.html#l00037">KEY_DOWN</a>, <a class="el" href="input_8h_source.html#l00065">KEY_NPAGE</a>, <a class="el" href="input_8h_source.html#l00066">KEY_PPAGE</a>, <a class="el" href="input_8h_source.html#l00038">KEY_UP</a>, <a class="el" href="dialogue_8h_source.html#l00206">talk_response::mission_selected</a>, <a class="el" href="npc_8h_source.html#l00757">npc_chatbin::mission_selected</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; martialart &gt;::NULL_ID()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; Skill &gt;::NULL_ID()</a>, <a class="el" href="npctalk_8cpp_source.html#l01571">parse_tags()</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="dialogue__win_8cpp_source.html#l00029">dialogue_window::print_header()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00285">ui_manager::redraw()</a>, <a class="el" href="dialogue__win_8cpp_source.html#l00155">dialogue_window::refresh_response_display()</a>, <a class="el" href="dialogue__win_8cpp_source.html#l00014">dialogue_window::resize_dialogue()</a>, <a class="el" href="dialogue_8h_source.html#l00256">responses</a>, <a class="el" href="npctalk_8cpp_source.html#l01472">talk_trial::roll()</a>, <a class="el" href="dialogue_8h_source.html#l00207">talk_response::skill</a>, <a class="el" href="npc_8h_source.html#l00761">npc_chatbin::skill</a>, <a class="el" href="npctalk_8cpp_source.html#l01709">special_talk()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a26fc65fa85c36140553bad2b5359989f">spell_id</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="dialogue_8h_source.html#l00208">talk_response::style</a>, <a class="el" href="npc_8h_source.html#l00765">npc_chatbin::style</a>, <a class="el" href="behavior_8h_source.html#l00020">behavior::success</a>, <a class="el" href="dialogue_8h_source.html#l00211">talk_response::success</a>, and <a class="el" href="dialogue_8h_source.html#l00202">talk_response::trial</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00730">npc::talk_to_u()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a42afe2cf929fea970dc6b74a8bec4bd7" name="a42afe2cf929fea970dc6b74a8bec4bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42afe2cf929fea970dc6b74a8bec4bd7">&#9670;&nbsp;</a></span>alpha</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classplayer.html">player</a>* dialogue::alpha = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The player character that speaks (always g-&gt;u). </p>
<p >TODO: make it a reference, not a pointer. </p>

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00226">226</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l02471">talk_effect_t::apply()</a>, <a class="el" href="npctalk_8cpp_source.html#l01399">talk_trial::calc_chance()</a>, <a class="el" href="npctalk_8cpp_source.html#l01658">talk_response::create_option_line()</a>, <a class="el" href="npctalk_8cpp_source.html#l00894">dynamic_line()</a>, <a class="el" href="npctalk_8cpp_source.html#l03153">json_talk_topic::gen_responses()</a>, <a class="el" href="npctalk_8cpp_source.html#l03081">json_dynamic_line_effect::json_dynamic_line_effect()</a>, <a class="el" href="npctalk_8cpp_source.html#l01728">opt()</a>, <a class="el" href="mission__util_8cpp_source.html#l00506">mission_type::parse_funcs()</a>, <a class="el" href="npctalk_8cpp_source.html#l01365">parse_mod()</a>, <a class="el" href="npctalk_8cpp_source.html#l01472">talk_trial::roll()</a>, <a class="el" href="npctalk_8cpp_source.html#l00730">npc::talk_to_u()</a>, and <a class="el" href="npctalk_8cpp_source.html#l02937">translate_gendered_line()</a>.</p>

</div>
</div>
<a id="a2edd4e78d06b37dafd34284a48b82720" name="a2edd4e78d06b37dafd34284a48b82720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2edd4e78d06b37dafd34284a48b82720">&#9670;&nbsp;</a></span>beta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnpc.html">npc</a>* dialogue::beta = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The NPC we talk to. </p>
<p >Never null. TODO: make it a reference, not a pointer. </p>

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00231">231</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l02471">talk_effect_t::apply()</a>, <a class="el" href="npctalk_8cpp_source.html#l01399">talk_trial::calc_chance()</a>, <a class="el" href="npctalk_8cpp_source.html#l01658">talk_response::create_option_line()</a>, <a class="el" href="npctalk_8cpp_source.html#l00894">dynamic_line()</a>, <a class="el" href="npctalk_8cpp_source.html#l01234">gen_responses()</a>, <a class="el" href="npctalk_8cpp_source.html#l03153">json_talk_topic::gen_responses()</a>, <a class="el" href="npctalk_8cpp_source.html#l01701">talk_effect_t::get_consequence()</a>, <a class="el" href="npctalk_8cpp_source.html#l01728">opt()</a>, <a class="el" href="mission__util_8cpp_source.html#l00506">mission_type::parse_funcs()</a>, <a class="el" href="npctalk_8cpp_source.html#l01365">parse_mod()</a>, <a class="el" href="npctalk_8cpp_source.html#l00730">npc::talk_to_u()</a>, and <a class="el" href="npctalk_8cpp_source.html#l02937">translate_gendered_line()</a>.</p>

</div>
</div>
<a id="a23fd3c22838562075db010d68e8ce55f" name="a23fd3c22838562075db010d68e8ce55f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23fd3c22838562075db010d68e8ce55f">&#9670;&nbsp;</a></span>by_radio</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dialogue::by_radio = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This dialogue is happening over a radio. </p>

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00252">252</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00730">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a8b356491a4ba3a81d77cc9a12a207856" name="a8b356491a4ba3a81d77cc9a12a207856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b356491a4ba3a81d77cc9a12a207856">&#9670;&nbsp;</a></span>cur_item</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> dialogue::cur_item</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00245">245</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00894">dynamic_line()</a>.</p>

</div>
</div>
<a id="aaa677a645faccbd6f4ac7781b7ceb894" name="aaa677a645faccbd6f4ac7781b7ceb894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa677a645faccbd6f4ac7781b7ceb894">&#9670;&nbsp;</a></span>done</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dialogue::done = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If true, we are done talking and the dialog ends. </p>

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00235">235</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00730">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="af0883e28c7c29ffdfb4ba6cd2fcf2d06" name="af0883e28c7c29ffdfb4ba6cd2fcf2d06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0883e28c7c29ffdfb4ba6cd2fcf2d06">&#9670;&nbsp;</a></span>missions_assigned</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classmission.html">mission</a> *&gt; dialogue::missions_assigned</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Missions that have been assigned by this npc to the player they currently speak to. </p>

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00239">239</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l02471">talk_effect_t::apply()</a>, <a class="el" href="npctalk_8cpp_source.html#l01234">gen_responses()</a>, and <a class="el" href="npctalk_8cpp_source.html#l00730">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a691be501b1d6b306af9f18ef48d1f01a" name="a691be501b1d6b306af9f18ef48d1f01a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a691be501b1d6b306af9f18ef48d1f01a">&#9670;&nbsp;</a></span>reason</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dialogue::reason</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00246">246</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

</div>
</div>
<a id="a015666472bdcaf3a21d69dbdfa40dc1c" name="a015666472bdcaf3a21d69dbdfa40dc1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a015666472bdcaf3a21d69dbdfa40dc1c">&#9670;&nbsp;</a></span>responses</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structtalk__response.html">talk_response</a>&gt; dialogue::responses</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Possible responses from the player character, filled in <a class="el" href="structdialogue.html#ac074903e749e4c545aac860ebc4a19a2">gen_responses</a>. </p>

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00256">256</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01142">add_response()</a>, <a class="el" href="npctalk_8cpp_source.html#l02922">json_talk_response::gen_repeat_response()</a>, <a class="el" href="npctalk_8cpp_source.html#l01234">gen_responses()</a>, <a class="el" href="npctalk_8cpp_source.html#l03153">json_talk_topic::gen_responses()</a>, <a class="el" href="npctalk_8cpp_source.html#l02910">json_talk_response::gen_responses()</a>, and <a class="el" href="npctalk_8cpp_source.html#l01728">opt()</a>.</p>

</div>
</div>
<a id="aa90f3050bf6d9257d3e16b69086f526e" name="aa90f3050bf6d9257d3e16b69086f526e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa90f3050bf6d9257d3e16b69086f526e">&#9670;&nbsp;</a></span>topic_stack</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structtalk__topic.html">talk_topic</a>&gt; dialogue::topic_stack</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00236">236</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01648">add_topic()</a>, and <a class="el" href="npctalk_8cpp_source.html#l00730">npc::talk_to_u()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/<a class="el" href="dialogue_8h_source.html">dialogue.h</a></li>
<li>src/<a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structdialogue.html">dialogue</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:15:46 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
