<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: item Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classitem.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classitem-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">item Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="item_8h_source.html">item.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for item:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classitem.png" usemap="#item_map" alt=""/>
  <map id="item_map" name="item_map">
<area href="classvisitable.html" alt="visitable&lt; item &gt;" shape="rect" coords="0,0,104,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem_1_1craft__data.html">craft_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data for items that represent in-progress crafts.  <a href="classitem_1_1craft__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structitem_1_1default__charges__tag.html">default_charges_tag</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suppress randomization and always start with default quantity of charges.  <a href="structitem_1_1default__charges__tag.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem_1_1reload__option.html">reload_option</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structitem_1_1solitary__tag.html">solitary_tag</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default (or randomized) charges except if counted by charges then only one charge.  <a href="structitem_1_1solitary__tag.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structitem_1_1sound__data.html">sound_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8dc4dc3c88665a905f8bed08cfa52e74"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a8dc4dc3c88665a905f8bed08cfa52e74">FlagsSetType</a> = <a class="el" href="classcata_1_1flat__set.html">cata::flat_set</a>&lt; std::string &gt;</td></tr>
<tr class="separator:a8dc4dc3c88665a905f8bed08cfa52e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6498ad8a0aeb2686b68278663a60abdb"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6498ad8a0aeb2686b68278663a60abdb">archive_type_tag</a> = <a class="el" href="structio_1_1object__archive__tag.html">io::object_archive_tag</a></td></tr>
<tr class="separator:a6498ad8a0aeb2686b68278663a60abdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a344fbf6e3db0d59e0c8ac75cd42ee144"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a> ()</td></tr>
<tr class="separator:a344fbf6e3db0d59e0c8ac75cd42ee144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab99024530efb52acb7b9121b9fd9d64e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab99024530efb52acb7b9121b9fd9d64e">item</a> (<a class="el" href="classitem.html">item</a> &amp;&amp;)</td></tr>
<tr class="separator:ab99024530efb52acb7b9121b9fd9d64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9a02eab7e555a7bdf1326c9cbdf82e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aeb9a02eab7e555a7bdf1326c9cbdf82e">item</a> (const <a class="el" href="classitem.html">item</a> &amp;)</td></tr>
<tr class="separator:aeb9a02eab7e555a7bdf1326c9cbdf82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada5a8e90312d86dcd281fa50d5abe886"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ada5a8e90312d86dcd281fa50d5abe886">operator=</a> (<a class="el" href="classitem.html">item</a> &amp;&amp;)</td></tr>
<tr class="separator:ada5a8e90312d86dcd281fa50d5abe886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d12f7bfcc36ccb93a62b3f0c69a2e43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a8d12f7bfcc36ccb93a62b3f0c69a2e43">operator=</a> (const <a class="el" href="classitem.html">item</a> &amp;)</td></tr>
<tr class="separator:a8d12f7bfcc36ccb93a62b3f0c69a2e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a524c47b7b5d92cdb4a89f3f80c688697"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a524c47b7b5d92cdb4a89f3f80c688697">item</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id, <a class="el" href="classtime__point.html">time_point</a> turn=<a class="el" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, int qty=-1)</td></tr>
<tr class="separator:a524c47b7b5d92cdb4a89f3f80c688697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0552d34d4de5a353fd4453f0ae51c52d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0552d34d4de5a353fd4453f0ae51c52d">item</a> (const <a class="el" href="structitype.html">itype</a> *<a class="el" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>, <a class="el" href="classtime__point.html">time_point</a> turn=<a class="el" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, int qty=-1)</td></tr>
<tr class="separator:a0552d34d4de5a353fd4453f0ae51c52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e805b0342b5898fad45ba992c1b65b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a11e805b0342b5898fad45ba992c1b65b">item</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id, <a class="el" href="classtime__point.html">time_point</a> turn, <a class="el" href="structitem_1_1default__charges__tag.html">default_charges_tag</a>)</td></tr>
<tr class="separator:a11e805b0342b5898fad45ba992c1b65b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a074a384b1684658fdf19fb0f1b309ff8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a074a384b1684658fdf19fb0f1b309ff8">item</a> (const <a class="el" href="structitype.html">itype</a> *<a class="el" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>, <a class="el" href="classtime__point.html">time_point</a> turn, <a class="el" href="structitem_1_1default__charges__tag.html">default_charges_tag</a>)</td></tr>
<tr class="separator:a074a384b1684658fdf19fb0f1b309ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96d2b1e24ec86feebadff1973e9ba2ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a96d2b1e24ec86feebadff1973e9ba2ae">item</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id, <a class="el" href="classtime__point.html">time_point</a> turn, <a class="el" href="structitem_1_1solitary__tag.html">solitary_tag</a>)</td></tr>
<tr class="separator:a96d2b1e24ec86feebadff1973e9ba2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87bf7b06175e484777ad2b830b980f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae87bf7b06175e484777ad2b830b980f8">item</a> (const <a class="el" href="structitype.html">itype</a> *<a class="el" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>, <a class="el" href="classtime__point.html">time_point</a> turn, <a class="el" href="structitem_1_1solitary__tag.html">solitary_tag</a>)</td></tr>
<tr class="separator:ae87bf7b06175e484777ad2b830b980f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ae0f7c03a060326cc9e5bd5ed45037"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a04ae0f7c03a060326cc9e5bd5ed45037">item</a> (const <a class="el" href="classrecipe.html">recipe</a> *rec, int qty, std::list&lt; <a class="el" href="classitem.html">item</a> &gt; items, std::vector&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; selections)</td></tr>
<tr class="memdesc:a04ae0f7c03a060326cc9e5bd5ed45037"><td class="mdescLeft">&#160;</td><td class="mdescRight">For constructing in-progress crafts.  <a href="classitem.html#a04ae0f7c03a060326cc9e5bd5ed45037">More...</a><br /></td></tr>
<tr class="separator:a04ae0f7c03a060326cc9e5bd5ed45037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e45df50b2c8f18b5f9c4b6ad69ff82"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a08e45df50b2c8f18b5f9c4b6ad69ff82"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classitem.html#a08e45df50b2c8f18b5f9c4b6ad69ff82">item</a> (const std::string &amp;<a class="el" href="structitype.html">itype</a>, Args &amp;&amp;... args)</td></tr>
<tr class="separator:a08e45df50b2c8f18b5f9c4b6ad69ff82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1792174ea9d664d6413f5ad0de38d74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae1792174ea9d664d6413f5ad0de38d74">~item</a> ()</td></tr>
<tr class="separator:ae1792174ea9d664d6413f5ad0de38d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5606d3baf832d8d2b7a531e4da5e899"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsafe__reference.html">safe_reference</a>&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab5606d3baf832d8d2b7a531e4da5e899">get_safe_reference</a> ()</td></tr>
<tr class="memdesc:ab5606d3baf832d8d2b7a531e4da5e899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer-like type that's automatically invalidated if this item is destroyed or assigned-to.  <a href="classitem.html#ab5606d3baf832d8d2b7a531e4da5e899">More...</a><br /></td></tr>
<tr class="separator:ab5606d3baf832d8d2b7a531e4da5e899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4667634357eecafb506b27ee4f5e763b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;new_type)</td></tr>
<tr class="memdesc:a4667634357eecafb506b27ee4f5e763b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter converting this instance to another type preserving all other aspects.  <a href="classitem.html#a4667634357eecafb506b27ee4f5e763b">More...</a><br /></td></tr>
<tr class="separator:a4667634357eecafb506b27ee4f5e763b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e058f8327de11a69a8e33f597be6d80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3e058f8327de11a69a8e33f597be6d80">deactivate</a> (const <a class="el" href="classCharacter.html">Character</a> *ch=nullptr, bool alert=true)</td></tr>
<tr class="memdesc:a3e058f8327de11a69a8e33f597be6d80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter converting this instance to the inactive type If the item is either inactive or cannot be deactivated is a no-op.  <a href="classitem.html#a3e058f8327de11a69a8e33f597be6d80">More...</a><br /></td></tr>
<tr class="separator:a3e058f8327de11a69a8e33f597be6d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1ae4e309841707eea0852dd4cd95a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">activate</a> ()</td></tr>
<tr class="memdesc:a7f1ae4e309841707eea0852dd4cd95a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter converting instance to active state.  <a href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">More...</a><br /></td></tr>
<tr class="separator:a7f1ae4e309841707eea0852dd4cd95a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0265172cdecddf0ae112a4f4d87fdb77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0265172cdecddf0ae112a4f4d87fdb77">mod_energy</a> (const <a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a> &amp;qty)</td></tr>
<tr class="memdesc:a0265172cdecddf0ae112a4f4d87fdb77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or remove energy from a battery.  <a href="classitem.html#a0265172cdecddf0ae112a4f4d87fdb77">More...</a><br /></td></tr>
<tr class="separator:a0265172cdecddf0ae112a4f4d87fdb77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3f16444c412bce4b75a7d600d6a3fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">ammo_set</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;ammo, int qty=-1)</td></tr>
<tr class="memdesc:a6a3f16444c412bce4b75a7d600d6a3fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter setting the ammo for this instance Any existing ammo is removed.  <a href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">More...</a><br /></td></tr>
<tr class="separator:a6a3f16444c412bce4b75a7d600d6a3fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31ffbae3561dd20a3a60e541f6fd02e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa31ffbae3561dd20a3a60e541f6fd02e">ammo_unset</a> ()</td></tr>
<tr class="memdesc:aa31ffbae3561dd20a3a60e541f6fd02e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter removing all ammo from this instance If the item is neither a tool, gun nor magazine is a no-op For items reloading using magazines any empty magazine remains present.  <a href="classitem.html#aa31ffbae3561dd20a3a60e541f6fd02e">More...</a><br /></td></tr>
<tr class="separator:aa31ffbae3561dd20a3a60e541f6fd02e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4095bf310206d3c22ce0bb15bc7dad03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4095bf310206d3c22ce0bb15bc7dad03">set_damage</a> (int qty)</td></tr>
<tr class="memdesc:a4095bf310206d3c22ce0bb15bc7dad03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter setting damage constrained by <a class="el" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a> and <a class="el" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>.  <a href="classitem.html#a4095bf310206d3c22ce0bb15bc7dad03">More...</a><br /></td></tr>
<tr class="separator:a4095bf310206d3c22ce0bb15bc7dad03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c47a272ada88bc7d3d31a6a4b8a672c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3c47a272ada88bc7d3d31a6a4b8a672c">split</a> (int qty)</td></tr>
<tr class="memdesc:a3c47a272ada88bc7d3d31a6a4b8a672c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits a count-by-charges item always leaving source item with minimum of 1 charge.  <a href="classitem.html#a3c47a272ada88bc7d3d31a6a4b8a672c">More...</a><br /></td></tr>
<tr class="separator:a3c47a272ada88bc7d3d31a6a4b8a672c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66ba4b05a8ea5f9f15e4694027235aae"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structmtype.html">mtype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">get_mtype</a> () const</td></tr>
<tr class="separator:a66ba4b05a8ea5f9f15e4694027235aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc7a9644453a2b167e19a4e988d12d22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#abc7a9644453a2b167e19a4e988d12d22">set_mtype</a> (const <a class="el" href="structmtype.html">mtype</a> *m)</td></tr>
<tr class="memdesc:abc7a9644453a2b167e19a4e988d12d22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the monster type associated with this item (<a class="el" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>).  <a href="classitem.html#abc7a9644453a2b167e19a4e988d12d22">More...</a><br /></td></tr>
<tr class="separator:abc7a9644453a2b167e19a4e988d12d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9df48bb2d4404a70af9d2fc5e1fa1dd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a> () const</td></tr>
<tr class="memdesc:ac9df48bb2d4404a70af9d2fc5e1fa1dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this is a corpse item.  <a href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">More...</a><br /></td></tr>
<tr class="separator:ac9df48bb2d4404a70af9d2fc5e1fa1dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab000493eba0ddea5a6d0e4e9587a5f83"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab000493eba0ddea5a6d0e4e9587a5f83">can_revive</a> () const</td></tr>
<tr class="memdesc:ab000493eba0ddea5a6d0e4e9587a5f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this is a corpse that can be revived.  <a href="classitem.html#ab000493eba0ddea5a6d0e4e9587a5f83">More...</a><br /></td></tr>
<tr class="separator:ab000493eba0ddea5a6d0e4e9587a5f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27c1e1c8a1fd62d24f0e211f10b114f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa27c1e1c8a1fd62d24f0e211f10b114f">ready_to_revive</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos) const</td></tr>
<tr class="memdesc:aa27c1e1c8a1fd62d24f0e211f10b114f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this corpse should revive now.  <a href="classitem.html#aa27c1e1c8a1fd62d24f0e211f10b114f">More...</a><br /></td></tr>
<tr class="separator:aa27c1e1c8a1fd62d24f0e211f10b114f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d58d172f74830b7d965a0fdfaa2c17"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a72d58d172f74830b7d965a0fdfaa2c17">is_money</a> () const</td></tr>
<tr class="separator:a72d58d172f74830b7d965a0fdfaa2c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3802e76b128e7ee2982352e7ad72030"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac3802e76b128e7ee2982352e7ad72030">color</a> () const</td></tr>
<tr class="memdesc:ac3802e76b128e7ee2982352e7ad72030"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the default color of the item (e.g.  <a href="classitem.html#ac3802e76b128e7ee2982352e7ad72030">More...</a><br /></td></tr>
<tr class="separator:ac3802e76b128e7ee2982352e7ad72030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc022aab35ecd1f591a065aa4006eff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">color_in_inventory</a> () const</td></tr>
<tr class="memdesc:a6bc022aab35ecd1f591a065aa4006eff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the color of the item depending on usefulness for the player character, e.g.  <a href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">More...</a><br /></td></tr>
<tr class="separator:a6bc022aab35ecd1f591a065aa4006eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060cec2896ecb7acb62683e0cf956c76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a060cec2896ecb7acb62683e0cf956c76">color_in_inventory</a> (const <a class="el" href="classplayer.html">player</a> &amp;p) const</td></tr>
<tr class="memdesc:a060cec2896ecb7acb62683e0cf956c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the color of the item depending on usefulness for the passed player, e.g.  <a href="classitem.html#a060cec2896ecb7acb62683e0cf956c76">More...</a><br /></td></tr>
<tr class="separator:a060cec2896ecb7acb62683e0cf956c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e78e26dcf9b357cda769c3ca2938eda"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a> (unsigned int quantity=1, bool with_prefix=true, unsigned int truncate=0) const</td></tr>
<tr class="memdesc:a7e78e26dcf9b357cda769c3ca2938eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the (translated) item name.  <a href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">More...</a><br /></td></tr>
<tr class="separator:a7e78e26dcf9b357cda769c3ca2938eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92974d46b5abae5eafcb369cb8ec2f4a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a92974d46b5abae5eafcb369cb8ec2f4a">display_money</a> (unsigned int quantity, unsigned int total, const <a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; unsigned int &gt; &amp;selected=<a class="el" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>) const</td></tr>
<tr class="separator:a92974d46b5abae5eafcb369cb8ec2f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a893525fea93fa0a45a51edeb64f1b973"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">display_name</a> (unsigned int quantity=1) const</td></tr>
<tr class="memdesc:a893525fea93fa0a45a51edeb64f1b973"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the item name and the charges or contained charges (if the item can have charges at all).  <a href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">More...</a><br /></td></tr>
<tr class="separator:a893525fea93fa0a45a51edeb64f1b973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ce7c1072cdd4a6384d95598ba10231"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> (bool showtext=false) const</td></tr>
<tr class="memdesc:a60ce7c1072cdd4a6384d95598ba10231"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return all the information about the item and its type.  <a href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">More...</a><br /></td></tr>
<tr class="separator:a60ce7c1072cdd4a6384d95598ba10231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18cb1a59a34d4674d1ab39aea2ff107d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a18cb1a59a34d4674d1ab39aea2ff107d">info</a> (bool showtext, std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="structiteminfo.html">iteminfo</a>) const</td></tr>
<tr class="memdesc:a18cb1a59a34d4674d1ab39aea2ff107d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return all the information about the item and its type, and dump to vector.  <a href="classitem.html#a18cb1a59a34d4674d1ab39aea2ff107d">More...</a><br /></td></tr>
<tr class="separator:a18cb1a59a34d4674d1ab39aea2ff107d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a052b3ba6b4afad1862b3ee2d13758d54"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a052b3ba6b4afad1862b3ee2d13758d54">info</a> (bool showtext, std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="structiteminfo.html">iteminfo</a>, int batch) const</td></tr>
<tr class="memdesc:a052b3ba6b4afad1862b3ee2d13758d54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return all the information about the item and its type, and dump to vector.  <a href="classitem.html#a052b3ba6b4afad1862b3ee2d13758d54">More...</a><br /></td></tr>
<tr class="separator:a052b3ba6b4afad1862b3ee2d13758d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d0b5a4ccc9ab29dfd13c83e02313b1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad6d0b5a4ccc9ab29dfd13c83e02313b1">info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;info, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts=nullptr, int batch=1) const</td></tr>
<tr class="memdesc:ad6d0b5a4ccc9ab29dfd13c83e02313b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return all the information about the item and its type, and dump to vector.  <a href="classitem.html#ad6d0b5a4ccc9ab29dfd13c83e02313b1">More...</a><br /></td></tr>
<tr class="separator:ad6d0b5a4ccc9ab29dfd13c83e02313b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e3984fc584c1fa9a77b6cee933d355"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad4e3984fc584c1fa9a77b6cee933d355">basic_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:ad4e3984fc584c1fa9a77b6cee933d355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ce3a9a28569e6784c5499e3aa7f55be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3ce3a9a28569e6784c5499e3aa7f55be">med_info</a> (const <a class="el" href="classitem.html">item</a> *med_item, std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a3ce3a9a28569e6784c5499e3aa7f55be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc0a01ad32ee5f835915f41e818f59e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aecc0a01ad32ee5f835915f41e818f59e">food_info</a> (const <a class="el" href="classitem.html">item</a> *food_item, std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:aecc0a01ad32ee5f835915f41e818f59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a884a7ea3cc59c2ed8342e3054c07a922"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a884a7ea3cc59c2ed8342e3054c07a922">magazine_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a884a7ea3cc59c2ed8342e3054c07a922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a1b9e061715c122074e2df204d9bbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad1a1b9e061715c122074e2df204d9bbc">ammo_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:ad1a1b9e061715c122074e2df204d9bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1f49b55eaaf92e616359490624bad2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6d1f49b55eaaf92e616359490624bad2">gun_info</a> (const <a class="el" href="classitem.html">item</a> *mod, std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a6d1f49b55eaaf92e616359490624bad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad233b27797b39be495f7713e9ec6c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0ad233b27797b39be495f7713e9ec6c0">gunmod_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a0ad233b27797b39be495f7713e9ec6c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6ed5dc9c02f4272d3345e52d4020a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9c6ed5dc9c02f4272d3345e52d4020a0">armor_protection_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a9c6ed5dc9c02f4272d3345e52d4020a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac77c48d5e9c233b89f29a0aa9c68b9e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac77c48d5e9c233b89f29a0aa9c68b9e7">armor_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:ac77c48d5e9c233b89f29a0aa9c68b9e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a364460e515672c6b19b7afeee0b9d560"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a364460e515672c6b19b7afeee0b9d560">animal_armor_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a364460e515672c6b19b7afeee0b9d560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46c94fbae3a31ba0e21f348875a3e74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac46c94fbae3a31ba0e21f348875a3e74">armor_fit_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:ac46c94fbae3a31ba0e21f348875a3e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0863124133813cad747398f561c8048"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae0863124133813cad747398f561c8048">book_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:ae0863124133813cad747398f561c8048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace11ba657be810e5ee4cc2caeb8a0637"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ace11ba657be810e5ee4cc2caeb8a0637">battery_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:ace11ba657be810e5ee4cc2caeb8a0637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc8458b2c9fee9022ea2356dd171f402"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#afc8458b2c9fee9022ea2356dd171f402">container_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:afc8458b2c9fee9022ea2356dd171f402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5218e06137e038fa90a320550884639"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af5218e06137e038fa90a320550884639">tool_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:af5218e06137e038fa90a320550884639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733d3f8bc85cb1bc0e8d87b6ed5af7ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a733d3f8bc85cb1bc0e8d87b6ed5af7ac">component_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a733d3f8bc85cb1bc0e8d87b6ed5af7ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af3529d3ba327b8eac2d9be8bd5b1d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a7af3529d3ba327b8eac2d9be8bd5b1d6">repair_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a7af3529d3ba327b8eac2d9be8bd5b1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ebb47a7b946240255e3a91e892abab5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4ebb47a7b946240255e3a91e892abab5">disassembly_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a4ebb47a7b946240255e3a91e892abab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f1bd1f37a27ac2a4c994b4123dba5e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5f1bd1f37a27ac2a4c994b4123dba5e6">qualities_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a5f1bd1f37a27ac2a4c994b4123dba5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6233ded50f0c2ddc86761f9b5cef5298"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6233ded50f0c2ddc86761f9b5cef5298">bionic_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a6233ded50f0c2ddc86761f9b5cef5298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4feef041aa5b9785d106266864cf7ab4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4feef041aa5b9785d106266864cf7ab4">combat_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a4feef041aa5b9785d106266864cf7ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219a2cb372b167889ab732c9e33a70c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a219a2cb372b167889ab732c9e33a70c5">contents_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:a219a2cb372b167889ab732c9e33a70c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2393a9b4e31f34c14c0f3496ef938a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae2393a9b4e31f34c14c0f3496ef938a4">final_info</a> (std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;<a class="el" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *parts, int batch, bool debug) const</td></tr>
<tr class="separator:ae2393a9b4e31f34c14c0f3496ef938a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b6654a99f9b300a313a6921d134bf2"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a63b6654a99f9b300a313a6921d134bf2">simulate_burn</a> (<a class="el" href="structfire__data.html">fire_data</a> &amp;frd) const</td></tr>
<tr class="memdesc:a63b6654a99f9b300a313a6921d134bf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate all burning calculations, but don't actually apply them to item.  <a href="classitem.html#a63b6654a99f9b300a313a6921d134bf2">More...</a><br /></td></tr>
<tr class="separator:a63b6654a99f9b300a313a6921d134bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a0a8aac3fe6347f06e4606b30e36d7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab3a0a8aac3fe6347f06e4606b30e36d7">burn</a> (<a class="el" href="structfire__data.html">fire_data</a> &amp;frd)</td></tr>
<tr class="memdesc:ab3a0a8aac3fe6347f06e4606b30e36d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Burns the item.  <a href="classitem.html#ab3a0a8aac3fe6347f06e4606b30e36d7">More...</a><br /></td></tr>
<tr class="separator:ab3a0a8aac3fe6347f06e4606b30e36d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43578374fc9be1e16117405cd709f7d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem__category.html">item_category</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad43578374fc9be1e16117405cd709f7d">get_category</a> () const</td></tr>
<tr class="separator:ad43578374fc9be1e16117405cd709f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af964cdb27cc2d5a69fa8ffd48d1c8b23"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af964cdb27cc2d5a69fa8ffd48d1c8b23">reload</a> (<a class="el" href="classplayer.html">player</a> &amp;u, <a class="el" href="classitem__location.html">item_location</a> loc, int qty)</td></tr>
<tr class="memdesc:af964cdb27cc2d5a69fa8ffd48d1c8b23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reload item using ammo from location returning true if successful.  <a href="classitem.html#af964cdb27cc2d5a69fa8ffd48d1c8b23">More...</a><br /></td></tr>
<tr class="separator:af964cdb27cc2d5a69fa8ffd48d1c8b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18ede775ada6d0b88f984b9dae6fed00"><td class="memTemplParams" colspan="2">template&lt;typename Archive &gt; </td></tr>
<tr class="memitem:a18ede775ada6d0b88f984b9dae6fed00"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classitem.html#a18ede775ada6d0b88f984b9dae6fed00">io</a> (Archive &amp;)</td></tr>
<tr class="separator:a18ede775ada6d0b88f984b9dae6fed00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfe6a9d7c14e5ee594010eb4584dcd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4cfe6a9d7c14e5ee594010eb4584dcd0">serialize</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="separator:a4cfe6a9d7c14e5ee594010eb4584dcd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a213df85346f895e9182f3860eec49891"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a213df85346f895e9182f3860eec49891">deserialize</a> (<a class="el" href="classJsonIn.html">JsonIn</a> &amp;jsin)</td></tr>
<tr class="separator:a213df85346f895e9182f3860eec49891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff6f2a9cd0fc994e3484b66138cb049"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1ff6f2a9cd0fc994e3484b66138cb049">symbol</a> () const</td></tr>
<tr class="separator:a1ff6f2a9cd0fc994e3484b66138cb049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a910393f5651f273b5df0bdd576bef78d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a910393f5651f273b5df0bdd576bef78d">price</a> (bool practical) const</td></tr>
<tr class="memdesc:a910393f5651f273b5df0bdd576bef78d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the monetary value of an item.  <a href="classitem.html#a910393f5651f273b5df0bdd576bef78d">More...</a><br /></td></tr>
<tr class="separator:a910393f5651f273b5df0bdd576bef78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7454027d8aaeb67f6e9d6b374bae55c7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a7454027d8aaeb67f6e9d6b374bae55c7">display_stacked_with</a> (const <a class="el" href="classitem.html">item</a> &amp;rhs, bool check_components=false) const</td></tr>
<tr class="memdesc:a7454027d8aaeb67f6e9d6b374bae55c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether two items should stack when displayed in a inventory menu.  <a href="classitem.html#a7454027d8aaeb67f6e9d6b374bae55c7">More...</a><br /></td></tr>
<tr class="separator:a7454027d8aaeb67f6e9d6b374bae55c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31a0fa72add9cbbffc189b0eab0b34c0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a31a0fa72add9cbbffc189b0eab0b34c0">stacks_with</a> (const <a class="el" href="classitem.html">item</a> &amp;rhs, bool check_components=false, bool skip_type_check=false) const</td></tr>
<tr class="separator:a31a0fa72add9cbbffc189b0eab0b34c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d50ee340d6b9591ef0525425967b8fc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a2d50ee340d6b9591ef0525425967b8fc">merge_charges</a> (const <a class="el" href="classitem.html">item</a> &amp;rhs)</td></tr>
<tr class="memdesc:a2d50ee340d6b9591ef0525425967b8fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merge charges of the other item into this item.  <a href="classitem.html#a2d50ee340d6b9591ef0525425967b8fc">More...</a><br /></td></tr>
<tr class="separator:a2d50ee340d6b9591ef0525425967b8fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3157f01f1da6fe89bdbc87db2605afb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a> (bool include_contents=true, bool integral=false) const</td></tr>
<tr class="separator:a3157f01f1da6fe89bdbc87db2605afb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51eafbdf8b331d88b741c0c527f98eb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a> (bool integral=false) const</td></tr>
<tr class="memdesc:a51eafbdf8b331d88b741c0c527f98eb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to next nearest milliliter when working with stackable (<a class="el" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>) items that have fractional volume per charge.  <a href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">More...</a><br /></td></tr>
<tr class="separator:a51eafbdf8b331d88b741c0c527f98eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9c8bbf0bc8223ce3bde8876e99ec8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1d9c8bbf0bc8223ce3bde8876e99ec8e">base_volume</a> () const</td></tr>
<tr class="memdesc:a1d9c8bbf0bc8223ce3bde8876e99ec8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplified, faster volume check for when processing time is important and exact volume is not.  <a href="classitem.html#a1d9c8bbf0bc8223ce3bde8876e99ec8e">More...</a><br /></td></tr>
<tr class="separator:a1d9c8bbf0bc8223ce3bde8876e99ec8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2be68fcb884d25e7bbd41d98b625b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">corpse_volume</a> (const <a class="el" href="structmtype.html">mtype</a> *<a class="el" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>) const</td></tr>
<tr class="memdesc:a6f2be68fcb884d25e7bbd41d98b625b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Volume check for corpses, helper for <a class="el" href="classitem.html#a1d9c8bbf0bc8223ce3bde8876e99ec8e" title="Simplified, faster volume check for when processing time is important and exact volume is not.">base_volume()</a>.  <a href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">More...</a><br /></td></tr>
<tr class="separator:a6f2be68fcb884d25e7bbd41d98b625b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81798b5b03c8bf2a153f9980de316f48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a81798b5b03c8bf2a153f9980de316f48">lift_strength</a> () const</td></tr>
<tr class="memdesc:a81798b5b03c8bf2a153f9980de316f48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Required strength to be able to successfully lift the item unaided by equipment.  <a href="classitem.html#a81798b5b03c8bf2a153f9980de316f48">More...</a><br /></td></tr>
<tr class="separator:a81798b5b03c8bf2a153f9980de316f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Melee</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >The functions here assume the item is used in melee, even if's a gun or not a weapon at all.</p>
<p >Because the functions apply to all types of items, several of the is_* functions here may return true for the same item. This only indicates that it can be used in various ways. </p>
</div></td></tr>
<tr class="memitem:ae75cd02ac10dda906018f27096a6efa9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae75cd02ac10dda906018f27096a6efa9">attack_cost</a> () const</td></tr>
<tr class="memdesc:ae75cd02ac10dda906018f27096a6efa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base number of moves (<a class="el" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a>) that a single melee attack with this items takes.  <a href="classitem.html#ae75cd02ac10dda906018f27096a6efa9">More...</a><br /></td></tr>
<tr class="separator:ae75cd02ac10dda906018f27096a6efa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d4da29e558173400314e00718341eae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt) const</td></tr>
<tr class="memdesc:a9d4da29e558173400314e00718341eae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Damage of given type caused when this item is used as melee weapon.  <a href="classitem.html#a9d4da29e558173400314e00718341eae">More...</a><br /></td></tr>
<tr class="separator:a9d4da29e558173400314e00718341eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eabd9cf88a2b7c1cbdd8b8ec28b002d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdamage__instance.html">damage_instance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1eabd9cf88a2b7c1cbdd8b8ec28b002d">base_damage_melee</a> () const</td></tr>
<tr class="memdesc:a1eabd9cf88a2b7c1cbdd8b8ec28b002d"><td class="mdescLeft">&#160;</td><td class="mdescRight">All damage types this item deals when used in melee (no skill modifiers etc.  <a href="classitem.html#a1eabd9cf88a2b7c1cbdd8b8ec28b002d">More...</a><br /></td></tr>
<tr class="separator:a1eabd9cf88a2b7c1cbdd8b8ec28b002d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b2b008995a2f2f2daa63be578b27c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdamage__instance.html">damage_instance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a13b2b008995a2f2f2daa63be578b27c8">base_damage_thrown</a> () const</td></tr>
<tr class="memdesc:a13b2b008995a2f2f2daa63be578b27c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">All damage types this item deals when thrown (no skill modifiers etc.  <a href="classitem.html#a13b2b008995a2f2f2daa63be578b27c8">More...</a><br /></td></tr>
<tr class="separator:a13b2b008995a2f2f2daa63be578b27c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe90c8a12690aea2e67d58f5c120050c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#abe90c8a12690aea2e67d58f5c120050c">effective_dps</a> (const <a class="el" href="classplayer.html">player</a> &amp;guy, const <a class="el" href="classmonster.html">monster</a> &amp;mon) const</td></tr>
<tr class="memdesc:abe90c8a12690aea2e67d58f5c120050c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the item's effective damage per second past armor when wielded by a character against a monster.  <a href="classitem.html#abe90c8a12690aea2e67d58f5c120050c">More...</a><br /></td></tr>
<tr class="separator:abe90c8a12690aea2e67d58f5c120050c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797cccb8d7a567cb34ab5cfcd226ec27"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a797cccb8d7a567cb34ab5cfcd226ec27">dps</a> (bool for_display, bool for_calc, const <a class="el" href="classplayer.html">player</a> &amp;guy) const</td></tr>
<tr class="memdesc:a797cccb8d7a567cb34ab5cfcd226ec27"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculate effective dps against a stock set of monsters.  <a href="classitem.html#a797cccb8d7a567cb34ab5cfcd226ec27">More...</a><br /></td></tr>
<tr class="separator:a797cccb8d7a567cb34ab5cfcd226ec27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39870eb9db6162668a1e093864e09315"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a39870eb9db6162668a1e093864e09315">dps</a> (bool for_display, bool for_calc) const</td></tr>
<tr class="separator:a39870eb9db6162668a1e093864e09315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c8a18aef6da2f8d876178a3d21dfb0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a96c8a18aef6da2f8d876178a3d21dfb0">average_dps</a> (const <a class="el" href="classplayer.html">player</a> &amp;guy) const</td></tr>
<tr class="memdesc:a96c8a18aef6da2f8d876178a3d21dfb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the average dps of the weapon against evaluation monsters  <a href="classitem.html#a96c8a18aef6da2f8d876178a3d21dfb0">More...</a><br /></td></tr>
<tr class="separator:a96c8a18aef6da2f8d876178a3d21dfb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af373f646c1ee172941490dc7cc04bbcd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af373f646c1ee172941490dc7cc04bbcd">is_two_handed</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;guy) const</td></tr>
<tr class="memdesc:af373f646c1ee172941490dc7cc04bbcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the character needs both hands to wield this item.  <a href="classitem.html#af373f646c1ee172941490dc7cc04bbcd">More...</a><br /></td></tr>
<tr class="separator:af373f646c1ee172941490dc7cc04bbcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc63d995cea3dad634b29fc8b9932ea9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#afc63d995cea3dad634b29fc8b9932ea9">is_melee</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt) const</td></tr>
<tr class="memdesc:afc63d995cea3dad634b29fc8b9932ea9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this item an effective melee weapon for the given damage type?  <a href="classitem.html#afc63d995cea3dad634b29fc8b9932ea9">More...</a><br /></td></tr>
<tr class="separator:afc63d995cea3dad634b29fc8b9932ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f8dc7ce32d941473ec949d809ae328"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa2f8dc7ce32d941473ec949d809ae328">is_melee</a> () const</td></tr>
<tr class="memdesc:aa2f8dc7ce32d941473ec949d809ae328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this item an effective melee weapon for any damage type?  <a href="classitem.html#aa2f8dc7ce32d941473ec949d809ae328">More...</a><br /></td></tr>
<tr class="separator:aa2f8dc7ce32d941473ec949d809ae328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a634166a0674bcf69eb3874c7e7789344"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a634166a0674bcf69eb3874c7e7789344">melee_skill</a> () const</td></tr>
<tr class="memdesc:a634166a0674bcf69eb3874c7e7789344"><td class="mdescLeft">&#160;</td><td class="mdescRight">The most relevant skill used with this melee weapon.  <a href="classitem.html#a634166a0674bcf69eb3874c7e7789344">More...</a><br /></td></tr>
<tr class="separator:a634166a0674bcf69eb3874c7e7789344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04985a2b99688b687432463fb2f0a853"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a04985a2b99688b687432463fb2f0a853">reach_range</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;guy) const</td></tr>
<tr class="memdesc:a04985a2b99688b687432463fb2f0a853"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max range of melee attack this weapon can be used for.  <a href="classitem.html#a04985a2b99688b687432463fb2f0a853">More...</a><br /></td></tr>
<tr class="separator:a04985a2b99688b687432463fb2f0a853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721746ee594b379edfa634a4b2089265"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a721746ee594b379edfa634a4b2089265">set_countdown</a> (int num_turns)</td></tr>
<tr class="memdesc:a721746ee594b379edfa634a4b2089265"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets time until activation for an item that will self-activate in the future.  <a href="classitem.html#a721746ee594b379edfa634a4b2089265">More...</a><br /></td></tr>
<tr class="separator:a721746ee594b379edfa634a4b2089265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa295a2b0ae6729a556f5383fd8386025"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa295a2b0ae6729a556f5383fd8386025">use_charges</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int &amp;qty, std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;used, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;)</td></tr>
<tr class="memdesc:aa295a2b0ae6729a556f5383fd8386025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consumes specified charges (or fewer) from this and any contained items.  <a href="classitem.html#aa295a2b0ae6729a556f5383fd8386025">More...</a><br /></td></tr>
<tr class="separator:aa295a2b0ae6729a556f5383fd8386025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a953a3502d31bc8be819bd1259651943f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a953a3502d31bc8be819bd1259651943f">on_drop</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="memdesc:a953a3502d31bc8be819bd1259651943f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes item type's <a class="el" href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">itype::drop_action</a>.  <a href="classitem.html#a953a3502d31bc8be819bd1259651943f">More...</a><br /></td></tr>
<tr class="separator:a953a3502d31bc8be819bd1259651943f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a81c29c8a1d2d96db60898e21a26e13"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1a81c29c8a1d2d96db60898e21a26e13">on_drop</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos, <a class="el" href="classmap.html">map</a> &amp;<a class="el" href="classmap.html">map</a>)</td></tr>
<tr class="memdesc:a1a81c29c8a1d2d96db60898e21a26e13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invokes item type's <a class="el" href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">itype::drop_action</a>.  <a href="classitem.html#a1a81c29c8a1d2d96db60898e21a26e13">More...</a><br /></td></tr>
<tr class="separator:a1a81c29c8a1d2d96db60898e21a26e13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc87bb1fb833c2beced16a2800c8215a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adc87bb1fb833c2beced16a2800c8215a">use_amount</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int &amp;quantity, std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;used, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;)</td></tr>
<tr class="memdesc:adc87bb1fb833c2beced16a2800c8215a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume a specific amount of items of a specific type.  <a href="classitem.html#adc87bb1fb833c2beced16a2800c8215a">More...</a><br /></td></tr>
<tr class="separator:adc87bb1fb833c2beced16a2800c8215a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24de774e21920f2b60718a02be995a8b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a24de774e21920f2b60718a02be995a8b">allow_crafting_component</a> () const</td></tr>
<tr class="memdesc:a24de774e21920f2b60718a02be995a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Permits filthy components, should only be used as a helper in creating filters.  <a href="classitem.html#a24de774e21920f2b60718a02be995a8b">More...</a><br /></td></tr>
<tr class="separator:a24de774e21920f2b60718a02be995a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Containers</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Containers come in two flavors:</p>
<ul>
<li>suitable for liquids (<a class="el" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>),</li>
<li>and the remaining one (they are for currently only for flavor). </li>
</ul>
</div></td></tr>
<tr class="memitem:a723753bab4cc789e3ec186846c9916a3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a> () const</td></tr>
<tr class="memdesc:a723753bab4cc789e3ec186846c9916a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this is container.  <a href="classitem.html#a723753bab4cc789e3ec186846c9916a3">More...</a><br /></td></tr>
<tr class="separator:a723753bab4cc789e3ec186846c9916a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22ad63b72a459c8f95893a853348cb06"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a> () const</td></tr>
<tr class="memdesc:a22ad63b72a459c8f95893a853348cb06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this is a container which can be used to store liquids.  <a href="classitem.html#a22ad63b72a459c8f95893a853348cb06">More...</a><br /></td></tr>
<tr class="separator:a22ad63b72a459c8f95893a853348cb06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5996f63ca1797fc01482678b51a87680"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a> () const</td></tr>
<tr class="memdesc:a5996f63ca1797fc01482678b51a87680"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this item has no contents at all.  <a href="classitem.html#a5996f63ca1797fc01482678b51a87680">More...</a><br /></td></tr>
<tr class="separator:a5996f63ca1797fc01482678b51a87680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd0667301ad29a57bb257acfd7a4470"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aabd0667301ad29a57bb257acfd7a4470">is_non_resealable_container</a> () const</td></tr>
<tr class="memdesc:aabd0667301ad29a57bb257acfd7a4470"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether removing this item's contents will permanently alter it.  <a href="classitem.html#aabd0667301ad29a57bb257acfd7a4470">More...</a><br /></td></tr>
<tr class="separator:aabd0667301ad29a57bb257acfd7a4470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a900f0ca8b2a7d8f0738202c519313d0d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a900f0ca8b2a7d8f0738202c519313d0d">is_container_full</a> (bool allow_bucket=false) const</td></tr>
<tr class="memdesc:a900f0ca8b2a7d8f0738202c519313d0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this item has no more free capacity for its current content.  <a href="classitem.html#a900f0ca8b2a7d8f0738202c519313d0d">More...</a><br /></td></tr>
<tr class="separator:a900f0ca8b2a7d8f0738202c519313d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3466a1bff4903c7b2d3f570187b73b2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3466a1bff4903c7b2d3f570187b73b2a">fill_with</a> (<a class="el" href="classitem.html">item</a> &amp;liquid, int amount=<a class="el" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a>)</td></tr>
<tr class="memdesc:a3466a1bff4903c7b2d3f570187b73b2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill item with liquid up to its capacity.  <a href="classitem.html#a3466a1bff4903c7b2d3f570187b73b2a">More...</a><br /></td></tr>
<tr class="separator:a3466a1bff4903c7b2d3f570187b73b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff8311e14e6819e6b6c2e207037f292"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aaff8311e14e6819e6b6c2e207037f292">get_remaining_capacity_for_liquid</a> (const <a class="el" href="classitem.html">item</a> &amp;liquid, bool allow_bucket=false, std::string *err=nullptr) const</td></tr>
<tr class="memdesc:aaff8311e14e6819e6b6c2e207037f292"><td class="mdescLeft">&#160;</td><td class="mdescRight">How much more of this liquid (in charges) can be put in this container.  <a href="classitem.html#aaff8311e14e6819e6b6c2e207037f292">More...</a><br /></td></tr>
<tr class="separator:aaff8311e14e6819e6b6c2e207037f292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88eaf24479cff098fccfefd7a1a090cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a88eaf24479cff098fccfefd7a1a090cb">get_remaining_capacity_for_liquid</a> (const <a class="el" href="classitem.html">item</a> &amp;liquid, const <a class="el" href="classCharacter.html">Character</a> &amp;p, std::string *err=nullptr) const</td></tr>
<tr class="separator:a88eaf24479cff098fccfefd7a1a090cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc651b09ebafad57974d0cfa04b8e5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">get_container_capacity</a> () const</td></tr>
<tr class="memdesc:acbc651b09ebafad57974d0cfa04b8e5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">It returns the total capacity (volume) of the container for liquids.  <a href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">More...</a><br /></td></tr>
<tr class="separator:acbc651b09ebafad57974d0cfa04b8e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02f0b48a661f955def6f0fbbe2262a63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a02f0b48a661f955def6f0fbbe2262a63">get_total_capacity</a> () const</td></tr>
<tr class="memdesc:a02f0b48a661f955def6f0fbbe2262a63"><td class="mdescLeft">&#160;</td><td class="mdescRight">It returns the maximum volume of any contents, including liquids, ammo, magazines, weapons, etc.  <a href="classitem.html#a02f0b48a661f955def6f0fbbe2262a63">More...</a><br /></td></tr>
<tr class="separator:a02f0b48a661f955def6f0fbbe2262a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3841e9e250af73e45b14d5bb3cc7a043"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a> (const <a class="el" href="classitem.html">item</a> &amp;payload)</td></tr>
<tr class="memdesc:a3841e9e250af73e45b14d5bb3cc7a043"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the given item into this one, no checks are performed.  <a href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">More...</a><br /></td></tr>
<tr class="separator:a3841e9e250af73e45b14d5bb3cc7a043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56c6b4634fb5e178dc16c83d381e894f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a56c6b4634fb5e178dc16c83d381e894f">in_its_container</a> () const</td></tr>
<tr class="memdesc:a56c6b4634fb5e178dc16c83d381e894f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns this item into its default container.  <a href="classitem.html#a56c6b4634fb5e178dc16c83d381e894f">More...</a><br /></td></tr>
<tr class="separator:a56c6b4634fb5e178dc16c83d381e894f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa416d2d74b4ca417c936261d761c53a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#afa416d2d74b4ca417c936261d761c53a">in_container</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;container_type) const</td></tr>
<tr class="separator:afa416d2d74b4ca417c936261d761c53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80f669ffd54eafb87ccb1e3810dca31f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a80f669ffd54eafb87ccb1e3810dca31f">item_has_uses_recursive</a> () const</td></tr>
<tr class="separator:a80f669ffd54eafb87ccb1e3810dca31f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76842f6e7f6824589be0e31e0053409"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af76842f6e7f6824589be0e31e0053409">is_funnel_container</a> (<a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;bigger_than) const</td></tr>
<tr class="memdesc:af76842f6e7f6824589be0e31e0053409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funnel related functions.  <a href="classitem.html#af76842f6e7f6824589be0e31e0053409">More...</a><br /></td></tr>
<tr class="separator:af76842f6e7f6824589be0e31e0053409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62f8d8c16409bbd233295c4a19ac59df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Weather.html#ga62f8d8c16409bbd233295c4a19ac59df">add_rain_to_container</a> (bool acid, int <a class="el" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>=1)</td></tr>
<tr class="memdesc:ga62f8d8c16409bbd233295c4a19ac59df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add charge(s) of rain to given container, possibly contaminating it.  <a href="group__Weather.html#ga62f8d8c16409bbd233295c4a19ac59df">More...</a><br /></td></tr>
<tr class="separator:ga62f8d8c16409bbd233295c4a19ac59df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4055882f85be37628b8ac9fe1e9e6964"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4055882f85be37628b8ac9fe1e9e6964">get_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;id) const</td></tr>
<tr class="separator:a4055882f85be37628b8ac9fe1e9e6964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b5e2bad3b955a1f8da0ac2825785e34"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0b5e2bad3b955a1f8da0ac2825785e34">get_qualities</a> () const</td></tr>
<tr class="separator:a0b5e2bad3b955a1f8da0ac2825785e34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40963a016376016eb408bdb9dbb94388"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a> () const</td></tr>
<tr class="separator:a40963a016376016eb408bdb9dbb94388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016494fa25a7a403fe78fadbd90b267b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a> () const</td></tr>
<tr class="memdesc:a016494fa25a7a403fe78fadbd90b267b"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <a class="el" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges()</a>, returns charges, otherwise 1.  <a href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">More...</a><br /></td></tr>
<tr class="separator:a016494fa25a7a403fe78fadbd90b267b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1914fabd9248c6aa29f944b3f9e205"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0a1914fabd9248c6aa29f944b3f9e205">craft_has_charges</a> ()</td></tr>
<tr class="separator:a0a1914fabd9248c6aa29f944b3f9e205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a473448af85ae4182f130bd488bf7c0fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">mod_charges</a> (int mod)</td></tr>
<tr class="memdesc:a473448af85ae4182f130bd488bf7c0fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modify the charges of this item, only use for items counted by charges! The item must have enough charges for this (&gt;= quantity) and be counted by charges.  <a href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">More...</a><br /></td></tr>
<tr class="separator:a473448af85ae4182f130bd488bf7c0fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e3e220a7d072fb578d333cde420428"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a62e3e220a7d072fb578d333cde420428">has_rotten_away</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;pnt)</td></tr>
<tr class="memdesc:a62e3e220a7d072fb578d333cde420428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the item has to be removed as it has rotten away completely.  <a href="classitem.html#a62e3e220a7d072fb578d333cde420428">More...</a><br /></td></tr>
<tr class="separator:a62e3e220a7d072fb578d333cde420428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda2c1e0168f83e8701d16bec5d1604f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#afda2c1e0168f83e8701d16bec5d1604f">calc_rot</a> (<a class="el" href="classtime__point.html">time_point</a> time, int temp)</td></tr>
<tr class="memdesc:afda2c1e0168f83e8701d16bec5d1604f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate rot of the item since last rot calculation.  <a href="classitem.html#afda2c1e0168f83e8701d16bec5d1604f">More...</a><br /></td></tr>
<tr class="separator:afda2c1e0168f83e8701d16bec5d1604f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e821ffbf8bdda7759ac92aff06c910"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a99e821ffbf8bdda7759ac92aff06c910">calc_rot_while_processing</a> (<a class="el" href="classtime__duration.html">time_duration</a> processing_duration)</td></tr>
<tr class="memdesc:a99e821ffbf8bdda7759ac92aff06c910"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is part of a workaround so that items don't rot away to nothing if the smoking rack is outside the reality bubble.  <a href="classitem.html#a99e821ffbf8bdda7759ac92aff06c910">More...</a><br /></td></tr>
<tr class="separator:a99e821ffbf8bdda7759ac92aff06c910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec0bafc51b3208a91c10eae62c2aa5b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0ec0bafc51b3208a91c10eae62c2aa5b">process_rot</a> (float insulation, bool seals, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos, <a class="el" href="classplayer.html">player</a> *carrier, <a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5d">temperature_flag</a> flag=<a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da1c0c1c880058ab81dac39f56cedc8a79">temperature_flag::TEMP_NORMAL</a>)</td></tr>
<tr class="memdesc:a0ec0bafc51b3208a91c10eae62c2aa5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update temperature for things like food Update rot for things that perish All items that rot also have temperature.  <a href="classitem.html#a0ec0bafc51b3208a91c10eae62c2aa5b">More...</a><br /></td></tr>
<tr class="separator:a0ec0bafc51b3208a91c10eae62c2aa5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b0bbc211f6fb668781640c971d3acc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">get_comestible_fun</a> () const</td></tr>
<tr class="separator:a66b0bbc211f6fb668781640c971d3acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e073e3ce3fcc2e91bdaea5d603e798b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a> () const</td></tr>
<tr class="memdesc:a9e073e3ce3fcc2e91bdaea5d603e798b"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether an item is perishable (can rot)  <a href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">More...</a><br /></td></tr>
<tr class="separator:a9e073e3ce3fcc2e91bdaea5d603e798b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29d5bcb46b16d719206e2db3bd4556cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a29d5bcb46b16d719206e2db3bd4556cf">goes_bad_after_opening</a> () const</td></tr>
<tr class="memdesc:a29d5bcb46b16d719206e2db3bd4556cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether an item is perishable (can rot), even if it is currently in a preserving container  <a href="classitem.html#a29d5bcb46b16d719206e2db3bd4556cf">More...</a><br /></td></tr>
<tr class="separator:a29d5bcb46b16d719206e2db3bd4556cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1afe56872327f37ee02011e3a5fb8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a> () const</td></tr>
<tr class="memdesc:aad1afe56872327f37ee02011e3a5fb8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the shelf life of the item.  <a href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">More...</a><br /></td></tr>
<tr class="separator:aad1afe56872327f37ee02011e3a5fb8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb5ddb3d50f317c79eb7a1a26a63905"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a> () const</td></tr>
<tr class="memdesc:adfb5ddb3d50f317c79eb7a1a26a63905"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get <a class="el" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> value relative to shelf life (or 0 if item does not spoil)  <a href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">More...</a><br /></td></tr>
<tr class="separator:adfb5ddb3d50f317c79eb7a1a26a63905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6cdbdd7e8295f3a6e802adffcd665ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad6cdbdd7e8295f3a6e802adffcd665ae">set_relative_rot</a> (double val)</td></tr>
<tr class="memdesc:ad6cdbdd7e8295f3a6e802adffcd665ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set current item <a class="el" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> relative to shelf life (no-op if item does not spoil)  <a href="classitem.html#ad6cdbdd7e8295f3a6e802adffcd665ae">More...</a><br /></td></tr>
<tr class="separator:ad6cdbdd7e8295f3a6e802adffcd665ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9721daec3304aeb9965b5679f9db3e7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9721daec3304aeb9965b5679f9db3e7f">set_rot</a> (<a class="el" href="classtime__duration.html">time_duration</a> val)</td></tr>
<tr class="separator:a9721daec3304aeb9965b5679f9db3e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e78b2fe634d88db841d879588e1ec3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af3e78b2fe634d88db841d879588e1ec3">spoilage_sort_order</a> () const</td></tr>
<tr class="memdesc:af3e78b2fe634d88db841d879588e1ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get time left to rot, ignoring fridge.  <a href="classitem.html#af3e78b2fe634d88db841d879588e1ec3">More...</a><br /></td></tr>
<tr class="separator:af3e78b2fe634d88db841d879588e1ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3898605336bf9c45ee3ce37d41d5ead"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac3898605336bf9c45ee3ce37d41d5ead">is_fresh</a> () const</td></tr>
<tr class="memdesc:ac3898605336bf9c45ee3ce37d41d5ead"><td class="mdescLeft">&#160;</td><td class="mdescRight">an item is fresh if it is capable of rotting but still has a long shelf life remaining  <a href="classitem.html#ac3898605336bf9c45ee3ce37d41d5ead">More...</a><br /></td></tr>
<tr class="separator:ac3898605336bf9c45ee3ce37d41d5ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4661d733113e53ee370d5aa83e31137b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4661d733113e53ee370d5aa83e31137b">is_going_bad</a> () const</td></tr>
<tr class="memdesc:a4661d733113e53ee370d5aa83e31137b"><td class="mdescLeft">&#160;</td><td class="mdescRight">an item is about to become rotten when shelf life has nearly elapsed  <a href="classitem.html#a4661d733113e53ee370d5aa83e31137b">More...</a><br /></td></tr>
<tr class="separator:a4661d733113e53ee370d5aa83e31137b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f7ae5deade2f4a8fed4f04e81797ce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a> () const</td></tr>
<tr class="memdesc:a34f7ae5deade2f4a8fed4f04e81797ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if item is now rotten after all shelf life has elapsed  <a href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">More...</a><br /></td></tr>
<tr class="separator:a34f7ae5deade2f4a8fed4f04e81797ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1f6a127dcee627cc2758d8d30575733"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae1f6a127dcee627cc2758d8d30575733">has_rotten_away</a> () const</td></tr>
<tr class="memdesc:ae1f6a127dcee627cc2758d8d30575733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the item has enough rot that it should get removed.  <a href="classitem.html#ae1f6a127dcee627cc2758d8d30575733">More...</a><br /></td></tr>
<tr class="separator:ae1f6a127dcee627cc2758d8d30575733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9288e8a4e4f02ba868cf6967a5bd488"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac9288e8a4e4f02ba868cf6967a5bd488">get_rot</a> () const</td></tr>
<tr class="separator:ac9288e8a4e4f02ba868cf6967a5bd488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea0a32ea9bf813988750669f108126f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aea0a32ea9bf813988750669f108126f3">mod_rot</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;val)</td></tr>
<tr class="separator:aea0a32ea9bf813988750669f108126f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c4782661219fccd444ab8d91ec04d58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1c4782661219fccd444ab8d91ec04d58">brewing_time</a> () const</td></tr>
<tr class="memdesc:a1c4782661219fccd444ab8d91ec04d58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time for this item to be fully fermented.  <a href="classitem.html#a1c4782661219fccd444ab8d91ec04d58">More...</a><br /></td></tr>
<tr class="separator:a1c4782661219fccd444ab8d91ec04d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099ea278b365213e371a3c125b7d8342"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a099ea278b365213e371a3c125b7d8342">brewing_results</a> () const</td></tr>
<tr class="memdesc:a099ea278b365213e371a3c125b7d8342"><td class="mdescLeft">&#160;</td><td class="mdescRight">The results of fermenting this item.  <a href="classitem.html#a099ea278b365213e371a3c125b7d8342">More...</a><br /></td></tr>
<tr class="separator:a099ea278b365213e371a3c125b7d8342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79cfef3dd3698b98478cfc08ba20a01"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae79cfef3dd3698b98478cfc08ba20a01">detonate</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p, std::vector&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;drops)</td></tr>
<tr class="memdesc:ae79cfef3dd3698b98478cfc08ba20a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detonates the item and adds remains (if any) to drops.  <a href="classitem.html#ae79cfef3dd3698b98478cfc08ba20a01">More...</a><br /></td></tr>
<tr class="separator:ae79cfef3dd3698b98478cfc08ba20a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa764d6c0cfef8050a689291050706f22"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa764d6c0cfef8050a689291050706f22">will_explode_in_fire</a> () const</td></tr>
<tr class="separator:aa764d6c0cfef8050a689291050706f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Material(s) of the item</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Each item is made of one or more materials (<a class="el" href="classmaterial__type.html">material_type</a>).</p>
<p >Materials have properties that affect properties of the item (e.g. resistance against certain damage types).</p>
<p >Corpses inherit the material of the monster type. </p>
</div></td></tr>
<tr class="memitem:a18c14a07677f8ac9c197aefc2ee75bbb"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classmaterial__type.html">material_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a18c14a07677f8ac9c197aefc2ee75bbb">get_random_material</a> () const</td></tr>
<tr class="memdesc:a18c14a07677f8ac9c197aefc2ee75bbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a material reference to a random material that this item is made of.  <a href="classitem.html#a18c14a07677f8ac9c197aefc2ee75bbb">More...</a><br /></td></tr>
<tr class="separator:a18c14a07677f8ac9c197aefc2ee75bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773105801673bb74d69b3ca2dac471d6"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classmaterial__type.html">material_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a773105801673bb74d69b3ca2dac471d6">get_base_material</a> () const</td></tr>
<tr class="memdesc:a773105801673bb74d69b3ca2dac471d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the basic (main) material of this item.  <a href="classitem.html#a773105801673bb74d69b3ca2dac471d6">More...</a><br /></td></tr>
<tr class="separator:a773105801673bb74d69b3ca2dac471d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4326944ae95f4d265c8ca1c76ed89a03"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a> () const</td></tr>
<tr class="memdesc:a4326944ae95f4d265c8ca1c76ed89a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ids of all the materials this is made of.  <a href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">More...</a><br /></td></tr>
<tr class="separator:a4326944ae95f4d265c8ca1c76ed89a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3970c3979eb158e0fdfa0812f887e9"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>, int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0e3970c3979eb158e0fdfa0812f887e9">quality_of</a> () const</td></tr>
<tr class="memdesc:a0e3970c3979eb158e0fdfa0812f887e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ids of all the qualities this contains.  <a href="classitem.html#a0e3970c3979eb158e0fdfa0812f887e9">More...</a><br /></td></tr>
<tr class="separator:a0e3970c3979eb158e0fdfa0812f887e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b85410499e6e47e3fd85326a8e7ce4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classmaterial__type.html">material_type</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a> () const</td></tr>
<tr class="memdesc:a75b85410499e6e47e3fd85326a8e7ce4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of()</a>, but returns the <a class="el" href="classmaterial__type.html">material_type</a> directly.  <a href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">More...</a><br /></td></tr>
<tr class="separator:a75b85410499e6e47e3fd85326a8e7ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e2c24734b538e61e186fb6777b62c25"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9e2c24734b538e61e186fb6777b62c25">made_of_any</a> (const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; &amp;mat_idents) const</td></tr>
<tr class="memdesc:a9e2c24734b538e61e186fb6777b62c25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check we are made of at least one of a set (e.g.  <a href="classitem.html#a9e2c24734b538e61e186fb6777b62c25">More...</a><br /></td></tr>
<tr class="separator:a9e2c24734b538e61e186fb6777b62c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a663b9d5d6a66664552e5551e11812ed9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a663b9d5d6a66664552e5551e11812ed9">only_made_of</a> (const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; &amp;mat_idents) const</td></tr>
<tr class="memdesc:a663b9d5d6a66664552e5551e11812ed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check we are made of only the materials (e.g.  <a href="classitem.html#a663b9d5d6a66664552e5551e11812ed9">More...</a><br /></td></tr>
<tr class="separator:a663b9d5d6a66664552e5551e11812ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177de022a465a488f3eae85cdbdc62f8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a177de022a465a488f3eae85cdbdc62f8">made_of</a> (const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &amp;mat_ident) const</td></tr>
<tr class="memdesc:a177de022a465a488f3eae85cdbdc62f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check we are made of this material (e.g.  <a href="classitem.html#a177de022a465a488f3eae85cdbdc62f8">More...</a><br /></td></tr>
<tr class="separator:a177de022a465a488f3eae85cdbdc62f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2165c43ba47bfecf5e3cff16a3c3f03"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac2165c43ba47bfecf5e3cff16a3c3f03">contents_made_of</a> (<a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5">phase_id</a> phase) const</td></tr>
<tr class="memdesc:ac2165c43ba47bfecf5e3cff16a3c3f03"><td class="mdescLeft">&#160;</td><td class="mdescRight">If contents nonempty, return true if item phase is same, else false.  <a href="classitem.html#ac2165c43ba47bfecf5e3cff16a3c3f03">More...</a><br /></td></tr>
<tr class="separator:ac2165c43ba47bfecf5e3cff16a3c3f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62f0e67b3a5404dccf78da0f15fb18f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a62f0e67b3a5404dccf78da0f15fb18f9">made_of</a> (<a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5">phase_id</a> phase) const</td></tr>
<tr class="memdesc:a62f0e67b3a5404dccf78da0f15fb18f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Are we solid, liquid, gas, plasma?  <a href="classitem.html#a62f0e67b3a5404dccf78da0f15fb18f9">More...</a><br /></td></tr>
<tr class="separator:a62f0e67b3a5404dccf78da0f15fb18f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4974052f9a7c7c664bb62fd3a860c7fa"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4974052f9a7c7c664bb62fd3a860c7fa">get_uncraft_components</a> () const</td></tr>
<tr class="memdesc:a4974052f9a7c7c664bb62fd3a860c7fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of components used to craft this item or the default components if it wasn't player-crafted.  <a href="classitem.html#a4974052f9a7c7c664bb62fd3a860c7fa">More...</a><br /></td></tr>
<tr class="separator:a4974052f9a7c7c664bb62fd3a860c7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cce9a58e90e7bcc596240004ac54288"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a2cce9a58e90e7bcc596240004ac54288">conductive</a> () const</td></tr>
<tr class="memdesc:a2cce9a58e90e7bcc596240004ac54288"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the items is conductive.  <a href="classitem.html#a2cce9a58e90e7bcc596240004ac54288">More...</a><br /></td></tr>
<tr class="separator:a2cce9a58e90e7bcc596240004ac54288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a464c09886d48850b162592b9aa985853"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a464c09886d48850b162592b9aa985853">flammable</a> (int threshold=0) const</td></tr>
<tr class="memdesc:a464c09886d48850b162592b9aa985853"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the items is flammable.  <a href="classitem.html#a464c09886d48850b162592b9aa985853">More...</a><br /></td></tr>
<tr class="separator:a464c09886d48850b162592b9aa985853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb672a9fba1f03f346c1c0ada6e88ac5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adb672a9fba1f03f346c1c0ada6e88ac5">reinforceable</a> () const</td></tr>
<tr class="memdesc:adb672a9fba1f03f346c1c0ada6e88ac5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the item can be repaired beyond normal health.  <a href="classitem.html#adb672a9fba1f03f346c1c0ada6e88ac5">More...</a><br /></td></tr>
<tr class="separator:adb672a9fba1f03f346c1c0ada6e88ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b91d51ced70c7329b6c37bdc4c845d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9b91d51ced70c7329b6c37bdc4c845d5">acid_resist</a> (bool to_self=false, int base_env_resist=0) const</td></tr>
<tr class="memdesc:a9b91d51ced70c7329b6c37bdc4c845d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resistance against different damage types (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a>).  <a href="classitem.html#a9b91d51ced70c7329b6c37bdc4c845d5">More...</a><br /></td></tr>
<tr class="separator:a9b91d51ced70c7329b6c37bdc4c845d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aa80e0c16baec64375371b22ee21fc2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9aa80e0c16baec64375371b22ee21fc2">fire_resist</a> (bool to_self=false, int base_env_resist=0) const</td></tr>
<tr class="separator:a9aa80e0c16baec64375371b22ee21fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e362362ade6af1e4e31aca9f70ade7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a08e362362ade6af1e4e31aca9f70ade7">bash_resist</a> (bool to_self=false) const</td></tr>
<tr class="separator:a08e362362ade6af1e4e31aca9f70ade7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ead414844fff807b3cf1d69fe37f84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad7ead414844fff807b3cf1d69fe37f84">cut_resist</a> (bool to_self=false) const</td></tr>
<tr class="separator:ad7ead414844fff807b3cf1d69fe37f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eab0b2465cf9e6ee9dba5e3b15852d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5eab0b2465cf9e6ee9dba5e3b15852d1">stab_resist</a> (bool to_self=false) const</td></tr>
<tr class="separator:a5eab0b2465cf9e6ee9dba5e3b15852d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e793a2b6ba3b3c91e1d10962c25a51"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac6e793a2b6ba3b3c91e1d10962c25a51">bullet_resist</a> (bool to_self=false) const</td></tr>
<tr class="separator:ac6e793a2b6ba3b3c91e1d10962c25a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeea230778b1342bab82a2920a0c7369"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aeeea230778b1342bab82a2920a0c7369">mitigate_damage</a> (<a class="el" href="structdamage__unit.html">damage_unit</a> &amp;du) const</td></tr>
<tr class="memdesc:aeeea230778b1342bab82a2920a0c7369"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assuming that specified du hit the armor, reduce du based on the item's resistance to the damage type.  <a href="classitem.html#aeeea230778b1342bab82a2920a0c7369">More...</a><br /></td></tr>
<tr class="separator:aeeea230778b1342bab82a2920a0c7369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f58f1c6ccece13e5e37aea8a640df20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6f58f1c6ccece13e5e37aea8a640df20">damage_resist</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt, bool to_self=false) const</td></tr>
<tr class="memdesc:a6f58f1c6ccece13e5e37aea8a640df20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resistance provided by this item against damage type given by an enum.  <a href="classitem.html#a6f58f1c6ccece13e5e37aea8a640df20">More...</a><br /></td></tr>
<tr class="separator:a6f58f1c6ccece13e5e37aea8a640df20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6369a2f42a6bf0199db73bd4afc7a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9a6369a2f42a6bf0199db73bd4afc7a3">chip_resistance</a> (bool worst=false) const</td></tr>
<tr class="memdesc:a9a6369a2f42a6bf0199db73bd4afc7a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns resistance to being damaged by attack against the item itself.  <a href="classitem.html#a9a6369a2f42a6bf0199db73bd4afc7a3">More...</a><br /></td></tr>
<tr class="separator:a9a6369a2f42a6bf0199db73bd4afc7a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8a58c6fe3c80cded11d6f3ccfa548a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a> () const</td></tr>
<tr class="memdesc:ae8a58c6fe3c80cded11d6f3ccfa548a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">How much damage has the item sustained?  <a href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">More...</a><br /></td></tr>
<tr class="separator:ae8a58c6fe3c80cded11d6f3ccfa548a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be1c00110bff10a98ab02b8410c9af7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a> (int max) const</td></tr>
<tr class="memdesc:a5be1c00110bff10a98ab02b8410c9af7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scale item damage to the given number of levels.  <a href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">More...</a><br /></td></tr>
<tr class="separator:a5be1c00110bff10a98ab02b8410c9af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f94ab0bb7b77ec4157ec5af2f8493b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a> () const</td></tr>
<tr class="memdesc:a8f94ab0bb7b77ec4157ec5af2f8493b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum amount of damage to an item (state of maximum repair)  <a href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">More...</a><br /></td></tr>
<tr class="separator:a8f94ab0bb7b77ec4157ec5af2f8493b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a216affc51dde30087c21fa5689a5c5e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a> () const</td></tr>
<tr class="memdesc:a216affc51dde30087c21fa5689a5c5e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum amount of damage to an item (state before destroyed)  <a href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">More...</a><br /></td></tr>
<tr class="separator:a216affc51dde30087c21fa5689a5c5e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17494d6cb1d70c05f43e99db0a63a39"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa17494d6cb1d70c05f43e99db0a63a39">get_relative_health</a> () const</td></tr>
<tr class="memdesc:aa17494d6cb1d70c05f43e99db0a63a39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Relative item health.  <a href="classitem.html#aa17494d6cb1d70c05f43e99db0a63a39">More...</a><br /></td></tr>
<tr class="separator:aa17494d6cb1d70c05f43e99db0a63a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58837e07450321aa679d9f00140762bd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a58837e07450321aa679d9f00140762bd">mod_damage</a> (int qty, <a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt)</td></tr>
<tr class="memdesc:a58837e07450321aa679d9f00140762bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply damage to const itemrained by <a class="el" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a> and <a class="el" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>.  <a href="classitem.html#a58837e07450321aa679d9f00140762bd">More...</a><br /></td></tr>
<tr class="separator:a58837e07450321aa679d9f00140762bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db7dbf79421ad17155d6b26b56bd483"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a2db7dbf79421ad17155d6b26b56bd483">mod_damage</a> (int qty)</td></tr>
<tr class="memdesc:a2db7dbf79421ad17155d6b26b56bd483"><td class="mdescLeft">&#160;</td><td class="mdescRight">same as other mod_damage, but uses <a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a> as damage type.  <a href="classitem.html#a2db7dbf79421ad17155d6b26b56bd483">More...</a><br /></td></tr>
<tr class="separator:a2db7dbf79421ad17155d6b26b56bd483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca60af3c295738c2c1fddf0fd669f9a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aca60af3c295738c2c1fddf0fd669f9a1">inc_damage</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt)</td></tr>
<tr class="memdesc:aca60af3c295738c2c1fddf0fd669f9a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment item damage by <a class="el" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a> constrained by <a class="el" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>.  <a href="classitem.html#aca60af3c295738c2c1fddf0fd669f9a1">More...</a><br /></td></tr>
<tr class="separator:aca60af3c295738c2c1fddf0fd669f9a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc463a17ae0cac2850b6d1bc8b34fa7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6dc463a17ae0cac2850b6d1bc8b34fa7">inc_damage</a> ()</td></tr>
<tr class="memdesc:a6dc463a17ae0cac2850b6d1bc8b34fa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">same as other inc_damage, but uses <a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a> as damage type.  <a href="classitem.html#a6dc463a17ae0cac2850b6d1bc8b34fa7">More...</a><br /></td></tr>
<tr class="separator:a6dc463a17ae0cac2850b6d1bc8b34fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa918a6274dd357deafb91444e201927e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa918a6274dd357deafb91444e201927e">damage_color</a> () const</td></tr>
<tr class="memdesc:aa918a6274dd357deafb91444e201927e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide color for UI display dependent upon current item damage level.  <a href="classitem.html#aa918a6274dd357deafb91444e201927e">More...</a><br /></td></tr>
<tr class="separator:aa918a6274dd357deafb91444e201927e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eecb0fa602e42d66ed82a93f5de9a34"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3eecb0fa602e42d66ed82a93f5de9a34">damage_symbol</a> () const</td></tr>
<tr class="memdesc:a3eecb0fa602e42d66ed82a93f5de9a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide prefix symbol for UI display dependent upon current item damage level.  <a href="classitem.html#a3eecb0fa602e42d66ed82a93f5de9a34">More...</a><br /></td></tr>
<tr class="separator:a3eecb0fa602e42d66ed82a93f5de9a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ef6d13a5545c5d32af710fedf717eb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">durability_indicator</a> (bool include_intact=false) const</td></tr>
<tr class="memdesc:a80ef6d13a5545c5d32af710fedf717eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a prefix for the durability state of the item.  <a href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">More...</a><br /></td></tr>
<tr class="separator:a80ef6d13a5545c5d32af710fedf717eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd036343012f6275683b8168d84c1be3"><td class="memItemLeft" align="right" valign="top">const std::set&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#afd036343012f6275683b8168d84c1be3">repaired_with</a> () const</td></tr>
<tr class="memdesc:afd036343012f6275683b8168d84c1be3"><td class="mdescLeft">&#160;</td><td class="mdescRight">If possible to repair this item what tools could potentially be used for this purpose?  <a href="classitem.html#afd036343012f6275683b8168d84c1be3">More...</a><br /></td></tr>
<tr class="separator:afd036343012f6275683b8168d84c1be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91a1e39e57f546b94d3e94fe189ed6b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae91a1e39e57f546b94d3e94fe189ed6b">already_used_by_player</a> (const <a class="el" href="classplayer.html">player</a> &amp;p) const</td></tr>
<tr class="memdesc:ae91a1e39e57f546b94d3e94fe189ed6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the item has been marked (by calling mark_as_used_by_player) as used by this specific player.  <a href="classitem.html#ae91a1e39e57f546b94d3e94fe189ed6b">More...</a><br /></td></tr>
<tr class="separator:ae91a1e39e57f546b94d3e94fe189ed6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a932b2b61566d927f9c6982b563b901f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a932b2b61566d927f9c6982b563b901f0">mark_as_used_by_player</a> (const <a class="el" href="classplayer.html">player</a> &amp;p)</td></tr>
<tr class="memdesc:a932b2b61566d927f9c6982b563b901f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the item as being used by this specific player, it remains unmarked for other players.  <a href="classitem.html#a932b2b61566d927f9c6982b563b901f0">More...</a><br /></td></tr>
<tr class="separator:a932b2b61566d927f9c6982b563b901f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5093379156498b4d523b3ac1f733adc4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5093379156498b4d523b3ac1f733adc4">is_filthy</a> () const</td></tr>
<tr class="memdesc:a5093379156498b4d523b3ac1f733adc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the item as filthy, so characters with squeamish trait can't wear it.  <a href="classitem.html#a5093379156498b4d523b3ac1f733adc4">More...</a><br /></td></tr>
<tr class="separator:a5093379156498b4d523b3ac1f733adc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36618e7473c8e261835fbe80c32a07bd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a36618e7473c8e261835fbe80c32a07bd">process</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos, bool <a class="el" href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">activate</a>, float insulation=1, <a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5d">temperature_flag</a> flag=<a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da1c0c1c880058ab81dac39f56cedc8a79">temperature_flag::TEMP_NORMAL</a>)</td></tr>
<tr class="memdesc:a36618e7473c8e261835fbe80c32a07bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called once each turn.  <a href="classitem.html#a36618e7473c8e261835fbe80c32a07bd">More...</a><br /></td></tr>
<tr class="separator:a36618e7473c8e261835fbe80c32a07bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e199f76e3d8f9d2770cf18a1b6e0cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab6e199f76e3d8f9d2770cf18a1b6e0cf">get_cable_target</a> (<a class="el" href="classCharacter.html">Character</a> *p, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos) const</td></tr>
<tr class="memdesc:ab6e199f76e3d8f9d2770cf18a1b6e0cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the point (vehicle tile) the cable is connected to.  <a href="classitem.html#ab6e199f76e3d8f9d2770cf18a1b6e0cf">More...</a><br /></td></tr>
<tr class="separator:ab6e199f76e3d8f9d2770cf18a1b6e0cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75dd0b9b631f012c245f51e1f894305b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a75dd0b9b631f012c245f51e1f894305b">reset_cable</a> (<a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="memdesc:a75dd0b9b631f012c245f51e1f894305b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to bring a cable back to its initial state.  <a href="classitem.html#a75dd0b9b631f012c245f51e1f894305b">More...</a><br /></td></tr>
<tr class="separator:a75dd0b9b631f012c245f51e1f894305b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d1f85c07bab6621bbd16d301b22bbf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a22d1f85c07bab6621bbd16d301b22bbf">needs_processing</a> () const</td></tr>
<tr class="memdesc:a22d1f85c07bab6621bbd16d301b22bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the item should be processed (by calling <a class="el" href="classitem.html#a36618e7473c8e261835fbe80c32a07bd">process</a>).  <a href="classitem.html#a22d1f85c07bab6621bbd16d301b22bbf">More...</a><br /></td></tr>
<tr class="separator:a22d1f85c07bab6621bbd16d301b22bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e90b4f86aa185a44a6e5f43e954686"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a64e90b4f86aa185a44a6e5f43e954686">processing_speed</a> () const</td></tr>
<tr class="memdesc:a64e90b4f86aa185a44a6e5f43e954686"><td class="mdescLeft">&#160;</td><td class="mdescRight">The rate at which an item should be processed, in number of turns between updates.  <a href="classitem.html#a64e90b4f86aa185a44a6e5f43e954686">More...</a><br /></td></tr>
<tr class="separator:a64e90b4f86aa185a44a6e5f43e954686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa4ffcaf91f734206a25494d44c01004"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aaa4ffcaf91f734206a25494d44c01004">process_artifact</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="memdesc:aaa4ffcaf91f734206a25494d44c01004"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process and apply artifact effects.  <a href="classitem.html#aaa4ffcaf91f734206a25494d44c01004">More...</a><br /></td></tr>
<tr class="separator:aaa4ffcaf91f734206a25494d44c01004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8121291f73e815bf37295babcb48c90c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a8121291f73e815bf37295babcb48c90c">process_relic</a> (<a class="el" href="classCharacter.html">Character</a> *carrier)</td></tr>
<tr class="separator:a8121291f73e815bf37295babcb48c90c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9b33d5c1eadc6daed4520a3ef2415b4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa9b33d5c1eadc6daed4520a3ef2415b4">destroyed_at_zero_charges</a> () const</td></tr>
<tr class="separator:aa9b33d5c1eadc6daed4520a3ef2415b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d5555082454b3cb192f59a70838c891"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a> () const</td></tr>
<tr class="separator:a4d5555082454b3cb192f59a70838c891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac070089c03e5dc687bae39670edd5401"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a> () const</td></tr>
<tr class="separator:ac070089c03e5dc687bae39670edd5401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad45569fa1fdd99d602eabbbbca04f75"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a> () const</td></tr>
<tr class="separator:aad45569fa1fdd99d602eabbbbca04f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6921d1c458f1e840933b765ca9c7e583"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6921d1c458f1e840933b765ca9c7e583">is_food_container</a> () const</td></tr>
<tr class="separator:a6921d1c458f1e840933b765ca9c7e583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5313b04e655bcac64517ccaaad366a90"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5313b04e655bcac64517ccaaad366a90">is_med_container</a> () const</td></tr>
<tr class="separator:a5313b04e655bcac64517ccaaad366a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187a2679361c6546be613657dbad3b3f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a187a2679361c6546be613657dbad3b3f">is_ammo_container</a> () const</td></tr>
<tr class="separator:a187a2679361c6546be613657dbad3b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa344ad5d3082d7a56b1c902fbafb6347"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a> () const</td></tr>
<tr class="separator:aa344ad5d3082d7a56b1c902fbafb6347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a699d0314aa1c5ee9903cf3cf862ee8cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">is_bionic</a> () const</td></tr>
<tr class="separator:a699d0314aa1c5ee9903cf3cf862ee8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce43f2490a85e2dc212a26ce5ded4fc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a> () const</td></tr>
<tr class="separator:adce43f2490a85e2dc212a26ce5ded4fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e0411a5010e03c8d2670fe23eb25d0f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9e0411a5010e03c8d2670fe23eb25d0f">is_battery</a> () const</td></tr>
<tr class="separator:a9e0411a5010e03c8d2670fe23eb25d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a8bb6387c8f43fa1040ded39d5b776"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a44a8bb6387c8f43fa1040ded39d5b776">is_ammo_belt</a> () const</td></tr>
<tr class="separator:a44a8bb6387c8f43fa1040ded39d5b776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916a4a16b33de5c257fff71d9e579578"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a916a4a16b33de5c257fff71d9e579578">is_bandolier</a> () const</td></tr>
<tr class="separator:a916a4a16b33de5c257fff71d9e579578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de81eeb1c4666a84e1d774582b945ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6de81eeb1c4666a84e1d774582b945ae">is_holster</a> () const</td></tr>
<tr class="separator:a6de81eeb1c4666a84e1d774582b945ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3cc4d74d020cbd36ae490cbe88f9152"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a> () const</td></tr>
<tr class="separator:ac3cc4d74d020cbd36ae490cbe88f9152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8be3cc1fd31607205d7170b1e2eb4fb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">is_pet_armor</a> (bool on_pet=false) const</td></tr>
<tr class="separator:af8be3cc1fd31607205d7170b1e2eb4fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aab8660fb40eedb8d2da95e797ecd32"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a> () const</td></tr>
<tr class="separator:a9aab8660fb40eedb8d2da95e797ecd32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980b9e48afd103973a201fc487d0af8b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a980b9e48afd103973a201fc487d0af8b">is_book</a> () const</td></tr>
<tr class="separator:a980b9e48afd103973a201fc487d0af8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf3784eda060adabe524a54cc873e68"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aaaf3784eda060adabe524a54cc873e68">is_map</a> () const</td></tr>
<tr class="separator:aaaf3784eda060adabe524a54cc873e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba159e96a423dda4e44f4c2025affcb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0ba159e96a423dda4e44f4c2025affcb">is_salvageable</a> () const</td></tr>
<tr class="separator:a0ba159e96a423dda4e44f4c2025affcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f25e0430419609c538b07f704d6ba7a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a> () const</td></tr>
<tr class="separator:a7f25e0430419609c538b07f704d6ba7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac79d3de61e0dd6347c9e3747de704b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0ac79d3de61e0dd6347c9e3747de704b">is_deployable</a> () const</td></tr>
<tr class="separator:a0ac79d3de61e0dd6347c9e3747de704b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a03649a0636c70e776054db688564a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a> () const</td></tr>
<tr class="separator:a59a03649a0636c70e776054db688564a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08a65f52f9de30e8f4a76e270bfc67a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a08a65f52f9de30e8f4a76e270bfc67a1">is_transformable</a> () const</td></tr>
<tr class="separator:a08a65f52f9de30e8f4a76e270bfc67a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a363ebdca3f9264390dbc6618de34c778"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a363ebdca3f9264390dbc6618de34c778">is_artifact</a> () const</td></tr>
<tr class="separator:a363ebdca3f9264390dbc6618de34c778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3604c56b1c776e6f127524867f0c1b7c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3604c56b1c776e6f127524867f0c1b7c">is_relic</a> () const</td></tr>
<tr class="separator:a3604c56b1c776e6f127524867f0c1b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f85f52bf0b1191bfdc2a940d95454e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab3f85f52bf0b1191bfdc2a940d95454e">is_bucket</a> () const</td></tr>
<tr class="separator:ab3f85f52bf0b1191bfdc2a940d95454e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af84e26c1418a4d090bbf55174431b6ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af84e26c1418a4d090bbf55174431b6ac">is_bucket_nonempty</a> () const</td></tr>
<tr class="separator:af84e26c1418a4d090bbf55174431b6ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9781b39e9c1a98383f202db9935b6a23"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9781b39e9c1a98383f202db9935b6a23">is_brewable</a> () const</td></tr>
<tr class="separator:a9781b39e9c1a98383f202db9935b6a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fcc7813b424bb53b94be1988be66d54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9fcc7813b424bb53b94be1988be66d54">is_engine</a> () const</td></tr>
<tr class="separator:a9fcc7813b424bb53b94be1988be66d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cb164c5569aa41cfda914b6f7a74cb2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3cb164c5569aa41cfda914b6f7a74cb2">is_wheel</a> () const</td></tr>
<tr class="separator:a3cb164c5569aa41cfda914b6f7a74cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d4ac9512f65051e505e3359b5a6f2c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad8d4ac9512f65051e505e3359b5a6f2c">is_fuel</a> () const</td></tr>
<tr class="separator:ad8d4ac9512f65051e505e3359b5a6f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91fb3717957325c9800f90c58a03ba4c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a91fb3717957325c9800f90c58a03ba4c">is_toolmod</a> () const</td></tr>
<tr class="separator:a91fb3717957325c9800f90c58a03ba4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bdef3b5c1d1150e63aa1991fc07875d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3bdef3b5c1d1150e63aa1991fc07875d">is_faulty</a> () const</td></tr>
<tr class="separator:a3bdef3b5c1d1150e63aa1991fc07875d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f8af501d37d5cb4eaee8ba21270bd6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a01f8af501d37d5cb4eaee8ba21270bd6">is_irremovable</a> () const</td></tr>
<tr class="separator:a01f8af501d37d5cb4eaee8ba21270bd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a33f186094eab687513c296a68981a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4a33f186094eab687513c296a68981a0">is_unarmed_weapon</a> () const</td></tr>
<tr class="separator:a4a33f186094eab687513c296a68981a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab4550c97cabd8d8067e5e53b001178"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#acab4550c97cabd8d8067e5e53b001178">get_food</a> ()</td></tr>
<tr class="separator:acab4550c97cabd8d8067e5e53b001178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06050bd322b8f22a9361a9ed0fd998dc"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a06050bd322b8f22a9361a9ed0fd998dc">get_food</a> () const</td></tr>
<tr class="separator:a06050bd322b8f22a9361a9ed0fd998dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada39e6de0077216777a56e6d237b7e0b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ada39e6de0077216777a56e6d237b7e0b">wind_resist</a> () const</td></tr>
<tr class="memdesc:ada39e6de0077216777a56e6d237b7e0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">How resistant clothes made of this material are to wind (0-100)  <a href="classitem.html#ada39e6de0077216777a56e6d237b7e0b">More...</a><br /></td></tr>
<tr class="separator:ada39e6de0077216777a56e6d237b7e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaaa3ece39eb40637371659dad8550e3"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adaaa3ece39eb40637371659dad8550e3">faults_potential</a> () const</td></tr>
<tr class="memdesc:adaaa3ece39eb40637371659dad8550e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">What faults can potentially occur with this item?  <a href="classitem.html#adaaa3ece39eb40637371659dad8550e3">More...</a><br /></td></tr>
<tr class="separator:adaaa3ece39eb40637371659dad8550e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9abb87d3a9cb6dfc4499a9066ecc44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1b9abb87d3a9cb6dfc4499a9066ecc44">wheel_area</a> () const</td></tr>
<tr class="memdesc:a1b9abb87d3a9cb6dfc4499a9066ecc44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total area of this wheel or 0 if it isn't one.  <a href="classitem.html#a1b9abb87d3a9cb6dfc4499a9066ecc44">More...</a><br /></td></tr>
<tr class="separator:a1b9abb87d3a9cb6dfc4499a9066ecc44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820e79d915781a615d3b160fa63946af"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a820e79d915781a615d3b160fa63946af">fuel_energy</a> () const</td></tr>
<tr class="memdesc:a820e79d915781a615d3b160fa63946af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns energy of one charge of this item as fuel for an engine.  <a href="classitem.html#a820e79d915781a615d3b160fa63946af">More...</a><br /></td></tr>
<tr class="separator:a820e79d915781a615d3b160fa63946af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31cd84620cdba14d6614aaba1c805849"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a31cd84620cdba14d6614aaba1c805849">fuel_pump_terrain</a> () const</td></tr>
<tr class="memdesc:a31cd84620cdba14d6614aaba1c805849"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the string of the id of the terrain that pumps this fuel, if any.  <a href="classitem.html#a31cd84620cdba14d6614aaba1c805849">More...</a><br /></td></tr>
<tr class="separator:a31cd84620cdba14d6614aaba1c805849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39e79f886f257aaaa199a7c2351993b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a39e79f886f257aaaa199a7c2351993b7">has_explosion_data</a> () const</td></tr>
<tr class="separator:a39e79f886f257aaaa199a7c2351993b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a474a143a408920b4bcecbe6a36c7287d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfuel__explosion.html">fuel_explosion</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a474a143a408920b4bcecbe6a36c7287d">get_explosion_data</a> ()</td></tr>
<tr class="separator:a474a143a408920b4bcecbe6a36c7287d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af731711530a7d869e07bfb9cb4f380d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af731711530a7d869e07bfb9cb4f380d8">can_contain</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:af731711530a7d869e07bfb9cb4f380d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can this item have given item/itype as content?  <a href="classitem.html#af731711530a7d869e07bfb9cb4f380d8">More...</a><br /></td></tr>
<tr class="separator:af731711530a7d869e07bfb9cb4f380d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754699dc5d14f040334c5e442914c024"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a754699dc5d14f040334c5e442914c024">can_contain</a> (const <a class="el" href="structitype.html">itype</a> &amp;tp) const</td></tr>
<tr class="separator:a754699dc5d14f040334c5e442914c024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84cbca948718b41241902acce542f352"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a84cbca948718b41241902acce542f352">is_reloadable</a> () const</td></tr>
<tr class="memdesc:a84cbca948718b41241902acce542f352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is it ever possible to reload this item? Only the base item is considered with any mods ignored.  <a href="classitem.html#a84cbca948718b41241902acce542f352">More...</a><br /></td></tr>
<tr class="separator:a84cbca948718b41241902acce542f352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace13716223c28fcc8d8ad3de3b0469a5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ace13716223c28fcc8d8ad3de3b0469a5">can_reload_with</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;ammo) const</td></tr>
<tr class="memdesc:ace13716223c28fcc8d8ad3de3b0469a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this item can be reloaded with specified ammo type, ignoring currently loaded ammo.  <a href="classitem.html#ace13716223c28fcc8d8ad3de3b0469a5">More...</a><br /></td></tr>
<tr class="separator:ace13716223c28fcc8d8ad3de3b0469a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d564fa461f2ef8547f137847dbb124"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a16d564fa461f2ef8547f137847dbb124">is_reloadable_with</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;ammo) const</td></tr>
<tr class="memdesc:a16d564fa461f2ef8547f137847dbb124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this item can be reloaded with specified ammo type at this moment.  <a href="classitem.html#a16d564fa461f2ef8547f137847dbb124">More...</a><br /></td></tr>
<tr class="separator:a16d564fa461f2ef8547f137847dbb124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54fe4917d343209ae2fdb9b163bd967a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a54fe4917d343209ae2fdb9b163bd967a">can_unload_liquid</a> () const</td></tr>
<tr class="memdesc:a54fe4917d343209ae2fdb9b163bd967a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if not empty if it's liquid, it's not currently frozen in resealable container.  <a href="classitem.html#a54fe4917d343209ae2fdb9b163bd967a">More...</a><br /></td></tr>
<tr class="separator:a54fe4917d343209ae2fdb9b163bd967a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad340c283789ac6bd8578a16e8343d893"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad340c283789ac6bd8578a16e8343d893">is_dangerous</a> () const</td></tr>
<tr class="separator:ad340c283789ac6bd8578a16e8343d893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7fc1e9e44759c1ae2dd5ef423fc5c1b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac7fc1e9e44759c1ae2dd5ef423fc5c1b">is_tainted</a> () const</td></tr>
<tr class="memdesc:ac7fc1e9e44759c1ae2dd5ef423fc5c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is item derived from a zombie?  <a href="classitem.html#ac7fc1e9e44759c1ae2dd5ef423fc5c1b">More...</a><br /></td></tr>
<tr class="separator:ac7fc1e9e44759c1ae2dd5ef423fc5c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481f77e8382794e7b913571ccc109778"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a481f77e8382794e7b913571ccc109778">is_soft</a> () const</td></tr>
<tr class="memdesc:a481f77e8382794e7b913571ccc109778"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this item flexible enough to be worn on body parts like antlers?  <a href="classitem.html#a481f77e8382794e7b913571ccc109778">More...</a><br /></td></tr>
<tr class="separator:a481f77e8382794e7b913571ccc109778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a6bd0cdb74c37a3405b1295146bc5c8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5a6bd0cdb74c37a3405b1295146bc5c8">has_effect_when_wielded</a> (<a class="el" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621">art_effect_passive</a> <a class="el" href="classeffect.html">effect</a>) const</td></tr>
<tr class="memdesc:a5a6bd0cdb74c37a3405b1295146bc5c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the item provide the artifact effect when it is wielded?  <a href="classitem.html#a5a6bd0cdb74c37a3405b1295146bc5c8">More...</a><br /></td></tr>
<tr class="separator:a5a6bd0cdb74c37a3405b1295146bc5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32687c97703808888ba479781c164028"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a32687c97703808888ba479781c164028">has_effect_when_worn</a> (<a class="el" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621">art_effect_passive</a> <a class="el" href="classeffect.html">effect</a>) const</td></tr>
<tr class="memdesc:a32687c97703808888ba479781c164028"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the item provide the artifact effect when it is worn?  <a href="classitem.html#a32687c97703808888ba479781c164028">More...</a><br /></td></tr>
<tr class="separator:a32687c97703808888ba479781c164028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5363173deb1ded8fd5bfd82cf6246018"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5363173deb1ded8fd5bfd82cf6246018">has_effect_when_carried</a> (<a class="el" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621">art_effect_passive</a> <a class="el" href="classeffect.html">effect</a>) const</td></tr>
<tr class="memdesc:a5363173deb1ded8fd5bfd82cf6246018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the item provide the artifact effect when it is carried?  <a href="classitem.html#a5363173deb1ded8fd5bfd82cf6246018">More...</a><br /></td></tr>
<tr class="separator:a5363173deb1ded8fd5bfd82cf6246018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e4a83dab7a888fbbe93db9cbfaa563c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9e4a83dab7a888fbbe93db9cbfaa563c">set_snippet</a> (const <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> &amp;id)</td></tr>
<tr class="memdesc:a9e4a83dab7a888fbbe93db9cbfaa563c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the snippet text (description) of this specific item, using the snippet library.  <a href="classitem.html#a9e4a83dab7a888fbbe93db9cbfaa563c">More...</a><br /></td></tr>
<tr class="separator:a9e4a83dab7a888fbbe93db9cbfaa563c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9691e517a7bc100b0734bf6e89feb708"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9691e517a7bc100b0734bf6e89feb708">operator&lt;</a> (const <a class="el" href="classitem.html">item</a> &amp;<a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>) const</td></tr>
<tr class="separator:a9691e517a7bc100b0734bf6e89feb708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce9200620918ac031843f985f6cbfb7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adce9200620918ac031843f985f6cbfb7">components_to_string</a> () const</td></tr>
<tr class="memdesc:adce9200620918ac031843f985f6cbfb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all <a class="el" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> in printable form, empty if this item has no components.  <a href="classitem.html#adce9200620918ac031843f985f6cbfb7">More...</a><br /></td></tr>
<tr class="separator:adce9200620918ac031843f985f6cbfb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0863a9784ae90c120d91478521163f16"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0863a9784ae90c120d91478521163f16">make_component_hash</a> () const</td></tr>
<tr class="memdesc:a0863a9784ae90c120d91478521163f16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a hash from the itype_ids of this item's <a class="el" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.  <a href="classitem.html#a0863a9784ae90c120d91478521163f16">More...</a><br /></td></tr>
<tr class="separator:a0863a9784ae90c120d91478521163f16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79dad64e1ef6347219be2f8666e2752"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a> () const</td></tr>
<tr class="memdesc:aa79dad64e1ef6347219be2f8666e2752"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the unique identifier of the items underlying type  <a href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">More...</a><br /></td></tr>
<tr class="separator:aa79dad64e1ef6347219be2f8666e2752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb62f6d93e37bf01af71f795cc39f4f1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">get_contained</a> () const</td></tr>
<tr class="memdesc:aeb62f6d93e37bf01af71f795cc39f4f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a contained item (if any and only one).  <a href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">More...</a><br /></td></tr>
<tr class="separator:aeb62f6d93e37bf01af71f795cc39f4f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea9b8df7dba40fc847f51563285f5aa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a2ea9b8df7dba40fc847f51563285f5aa">spill_contents</a> (<a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>)</td></tr>
<tr class="memdesc:a2ea9b8df7dba40fc847f51563285f5aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unloads the item's contents.  <a href="classitem.html#a2ea9b8df7dba40fc847f51563285f5aa">More...</a><br /></td></tr>
<tr class="separator:a2ea9b8df7dba40fc847f51563285f5aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf426955067e7321f7edfe6e2ddfc4f1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adf426955067e7321f7edfe6e2ddfc4f1">spill_contents</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="memdesc:adf426955067e7321f7edfe6e2ddfc4f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unloads the item's contents.  <a href="classitem.html#adf426955067e7321f7edfe6e2ddfc4f1">More...</a><br /></td></tr>
<tr class="separator:adf426955067e7321f7edfe6e2ddfc4f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76165a9e0121b48e5df59d0fcabc1728"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a76165a9e0121b48e5df59d0fcabc1728">can_holster</a> (const <a class="el" href="classitem.html">item</a> &amp;obj, bool ignore=false) const</td></tr>
<tr class="memdesc:a76165a9e0121b48e5df59d0fcabc1728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if item is a holster and currently capable of storing obj.  <a href="classitem.html#a76165a9e0121b48e5df59d0fcabc1728">More...</a><br /></td></tr>
<tr class="separator:a76165a9e0121b48e5df59d0fcabc1728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaaab23ac975ab0fbe52607cfa8ffe54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adaaab23ac975ab0fbe52607cfa8ffe54">on_wear</a> (<a class="el" href="classCharacter.html">Character</a> &amp;p)</td></tr>
<tr class="memdesc:adaaab23ac975ab0fbe52607cfa8ffe54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback when a character starts wearing the item.  <a href="classitem.html#adaaab23ac975ab0fbe52607cfa8ffe54">More...</a><br /></td></tr>
<tr class="separator:adaaab23ac975ab0fbe52607cfa8ffe54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8673667a3d9507e9b7c66be499e51d80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a8673667a3d9507e9b7c66be499e51d80">on_takeoff</a> (<a class="el" href="classCharacter.html">Character</a> &amp;p)</td></tr>
<tr class="memdesc:a8673667a3d9507e9b7c66be499e51d80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback when a character takes off an item.  <a href="classitem.html#a8673667a3d9507e9b7c66be499e51d80">More...</a><br /></td></tr>
<tr class="separator:a8673667a3d9507e9b7c66be499e51d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a435e1e28dc59e71f8cb985dd5c7db42c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a435e1e28dc59e71f8cb985dd5c7db42c">on_wield</a> (<a class="el" href="classplayer.html">player</a> &amp;p, int mv=0)</td></tr>
<tr class="memdesc:a435e1e28dc59e71f8cb985dd5c7db42c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback when a player starts wielding the item.  <a href="classitem.html#a435e1e28dc59e71f8cb985dd5c7db42c">More...</a><br /></td></tr>
<tr class="separator:a435e1e28dc59e71f8cb985dd5c7db42c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf662fb946f6a1188fe5e340ff80a95a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adf662fb946f6a1188fe5e340ff80a95a">on_pickup</a> (<a class="el" href="classCharacter.html">Character</a> &amp;p)</td></tr>
<tr class="memdesc:adf662fb946f6a1188fe5e340ff80a95a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback when a player starts carrying the item.  <a href="classitem.html#adf662fb946f6a1188fe5e340ff80a95a">More...</a><br /></td></tr>
<tr class="separator:adf662fb946f6a1188fe5e340ff80a95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1575c31b1dc0df51cbe3a1dfbfef16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a> ()</td></tr>
<tr class="memdesc:a6d1575c31b1dc0df51cbe3a1dfbfef16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback when contents of the item are affected in any way other than just processing.  <a href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">More...</a><br /></td></tr>
<tr class="separator:a6d1575c31b1dc0df51cbe3a1dfbfef16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbabbc9e7714db37f32b7c6f7406d8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aadbabbc9e7714db37f32b7c6f7406d8f">on_damage</a> (int qty, <a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt)</td></tr>
<tr class="memdesc:aadbabbc9e7714db37f32b7c6f7406d8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback immediately <b>before</b> an item is damaged.  <a href="classitem.html#aadbabbc9e7714db37f32b7c6f7406d8f">More...</a><br /></td></tr>
<tr class="separator:aadbabbc9e7714db37f32b7c6f7406d8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de3b8fcf4ec846588ef3dc2b8dda2a2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0de3b8fcf4ec846588ef3dc2b8dda2a2">mutations_from_wearing</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;guy) const</td></tr>
<tr class="separator:a0de3b8fcf4ec846588ef3dc2b8dda2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70359b9e831ed97023891631058595b6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a70359b9e831ed97023891631058595b6">type_name</a> (unsigned int quantity=1) const</td></tr>
<tr class="memdesc:a70359b9e831ed97023891631058595b6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespaceName.html">Name</a> of the item type (not the item), with proper plural.  <a href="classitem.html#a70359b9e831ed97023891631058595b6">More...</a><br /></td></tr>
<tr class="separator:a70359b9e831ed97023891631058595b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc27dc693d588feea7812432929fb5a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a> (const <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;vol) const</td></tr>
<tr class="memdesc:abc27dc693d588feea7812432929fb5a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of (charges of) this item that fit into the given volume.  <a href="classitem.html#abc27dc693d588feea7812432929fb5a9">More...</a><br /></td></tr>
<tr class="separator:abc27dc693d588feea7812432929fb5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Item variables</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Item variables can be used to store any value in the item.</p>
<p >The storage is persistent, it remains through saving &amp; loading, it is copied when the item is moved etc. Each item variable is referred to by its name, so make sure you use a name that is not already used somewhere. You can directly store integer, floating point and string values. Data of other types must be converted to one of those to be stored. The set_var functions override the existing value. The get_var function return the value (if the variable exists), or the default value otherwise. The type of the default value determines which get_var function is used. All numeric values are returned as doubles and may be cast to the desired type. <code> int v = itm.get_var("v", 0); // v will be an int double d = itm.get_var("v", 0.0); // d will be a double std::string s = itm.get_var("v", ""); // s will be a std::string // no default means empty string as default: auto n = itm.get_var("v"); // v will be a std::string </code> </p>
</div></td></tr>
<tr class="memitem:a4938361b8fe897c4e85d66020ef91aff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a> (const std::string &amp;name, int value)</td></tr>
<tr class="separator:a4938361b8fe897c4e85d66020ef91aff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18732ca3aff63571fda6694121bbce00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a18732ca3aff63571fda6694121bbce00">set_var</a> (const std::string &amp;name, long long value)</td></tr>
<tr class="separator:a18732ca3aff63571fda6694121bbce00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f796d664ad47aa742223d124f350d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a87f796d664ad47aa742223d124f350d3">set_var</a> (const std::string &amp;name, long value)</td></tr>
<tr class="separator:a87f796d664ad47aa742223d124f350d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360be7d4eea9410e98d7c8da043cada9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a360be7d4eea9410e98d7c8da043cada9">set_var</a> (const std::string &amp;name, double value)</td></tr>
<tr class="separator:a360be7d4eea9410e98d7c8da043cada9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b12108a604ac9d940716bb8f1368cf5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a> (const std::string &amp;name, double default_value) const</td></tr>
<tr class="separator:a0b12108a604ac9d940716bb8f1368cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e7f746dd9292f94080f6cc6450ca5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a64e7f746dd9292f94080f6cc6450ca5c">set_var</a> (const std::string &amp;name, const <a class="el" href="structtripoint.html">tripoint</a> &amp;value)</td></tr>
<tr class="separator:a64e7f746dd9292f94080f6cc6450ca5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686539d1437fbb15ec9b289d2d656dc3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a686539d1437fbb15ec9b289d2d656dc3">get_var</a> (const std::string &amp;name, const <a class="el" href="structtripoint.html">tripoint</a> &amp;default_value) const</td></tr>
<tr class="separator:a686539d1437fbb15ec9b289d2d656dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75359b32b9e0bb99e69b17380e78150f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a75359b32b9e0bb99e69b17380e78150f">set_var</a> (const std::string &amp;name, const std::string &amp;value)</td></tr>
<tr class="separator:a75359b32b9e0bb99e69b17380e78150f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c60191080c9f0022a97131727db43d9"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a8c60191080c9f0022a97131727db43d9">get_var</a> (const std::string &amp;name, const std::string &amp;default_value) const</td></tr>
<tr class="separator:a8c60191080c9f0022a97131727db43d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c745bc1090f7d261d4009995eb2389c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9c745bc1090f7d261d4009995eb2389c">get_var</a> (const std::string &amp;name) const</td></tr>
<tr class="memdesc:a9c745bc1090f7d261d4009995eb2389c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the variable, if it does not exists, returns an empty string.  <a href="classitem.html#a9c745bc1090f7d261d4009995eb2389c">More...</a><br /></td></tr>
<tr class="separator:a9c745bc1090f7d261d4009995eb2389c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a478ecf81e48540e1ba39de33df968c43"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a478ecf81e48540e1ba39de33df968c43">has_var</a> (const std::string &amp;name) const</td></tr>
<tr class="memdesc:a478ecf81e48540e1ba39de33df968c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the variable is defined at all.  <a href="classitem.html#a478ecf81e48540e1ba39de33df968c43">More...</a><br /></td></tr>
<tr class="separator:a478ecf81e48540e1ba39de33df968c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24fc115fb6cd1124efec30970cfcd9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a> (const std::string &amp;name)</td></tr>
<tr class="memdesc:aa24fc115fb6cd1124efec30970cfcd9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the value of the given variable.  <a href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">More...</a><br /></td></tr>
<tr class="separator:aa24fc115fb6cd1124efec30970cfcd9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf9b4242998c869e09a76406ffe0bb34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#acf9b4242998c869e09a76406ffe0bb34">clear_vars</a> ()</td></tr>
<tr class="memdesc:acf9b4242998c869e09a76406ffe0bb34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all item variables.  <a href="classitem.html#acf9b4242998c869e09a76406ffe0bb34">More...</a><br /></td></tr>
<tr class="separator:acf9b4242998c869e09a76406ffe0bb34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Item flags</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >If you use any new flags, add them to <code>flags.json</code>, add a comment to doc/JSON_FLAGS.md and make sure your new flag does not conflict with any existing flag.</p>
<p >Item flags are taken from the item type (<a class="el" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">itype::item_tags</a>), but also from the item itself (<a class="el" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>). The item has the flag if it appears in either set.</p>
<p >Gun mods that are attached to guns also contribute their flags to the gun item. </p>
</div></td></tr>
<tr class="memitem:aaa5aeb6f838927babb10ede535cf2a73"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a> (const std::string &amp;flag) const</td></tr>
<tr class="separator:aaa5aeb6f838927babb10ede535cf2a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8a997c18a4e22d133de5a8d171ff95"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#abf8a997c18a4e22d133de5a8d171ff95">has_flag</a> (const <a class="el" href="type__id_8h.html#a0083caca181e3d6b8888ff104cec2170">flag_str_id</a> &amp;flag) const</td></tr>
<tr class="separator:abf8a997c18a4e22d133de5a8d171ff95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca5abd8656e123435b97da00608a5daa"><td class="memTemplParams" colspan="2">template&lt;typename Container , typename T  = std::decay_t&lt;decltype( *std::declval&lt;const Container &amp;&gt;().begin() )&gt;&gt; </td></tr>
<tr class="memitem:aca5abd8656e123435b97da00608a5daa"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classitem.html#aca5abd8656e123435b97da00608a5daa">has_any_flag</a> (const Container &amp;flags) const</td></tr>
<tr class="separator:aca5abd8656e123435b97da00608a5daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc31d53fc90c5d0af806946d51c45b0f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a> (const std::string &amp;flag) const</td></tr>
<tr class="memdesc:acc31d53fc90c5d0af806946d51c45b0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether item itself has given flag (doesn't check item type or gunmods).  <a href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">More...</a><br /></td></tr>
<tr class="separator:acc31d53fc90c5d0af806946d51c45b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a054cbf5ac79938bbfb527bb0314043b1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html#a8dc4dc3c88665a905f8bed08cfa52e74">FlagsSetType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a054cbf5ac79938bbfb527bb0314043b1">get_flags</a> () const</td></tr>
<tr class="memdesc:a054cbf5ac79938bbfb527bb0314043b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">returs read-only set of flags of this item (not including flags from item type or gunmods)  <a href="classitem.html#a054cbf5ac79938bbfb527bb0314043b1">More...</a><br /></td></tr>
<tr class="separator:a054cbf5ac79938bbfb527bb0314043b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf0e79cb1bc190daa4804cfd62f279c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a> (const std::string &amp;flag)</td></tr>
<tr class="memdesc:aaf0e79cb1bc190daa4804cfd62f279c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Idempotent filter setting an item specific flag.  <a href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">More...</a><br /></td></tr>
<tr class="separator:aaf0e79cb1bc190daa4804cfd62f279c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03f3d257e8d9c5789aca61a1fa8c741"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">unset_flag</a> (const std::string &amp;flag)</td></tr>
<tr class="memdesc:ab03f3d257e8d9c5789aca61a1fa8c741"><td class="mdescLeft">&#160;</td><td class="mdescRight">Idempotent filter removing an item specific flag.  <a href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">More...</a><br /></td></tr>
<tr class="separator:ab03f3d257e8d9c5789aca61a1fa8c741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046321a5e2d374519ab40509c3f91a00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a046321a5e2d374519ab40509c3f91a00">set_flag_recursive</a> (const std::string &amp;flag)</td></tr>
<tr class="memdesc:a046321a5e2d374519ab40509c3f91a00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Idempotent filter recursively setting an item specific flag on this item and its components.  <a href="classitem.html#a046321a5e2d374519ab40509c3f91a00">More...</a><br /></td></tr>
<tr class="separator:a046321a5e2d374519ab40509c3f91a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4529b4c18a10ffd5a1f111536ad879b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa4529b4c18a10ffd5a1f111536ad879b">unset_flags</a> ()</td></tr>
<tr class="memdesc:aa4529b4c18a10ffd5a1f111536ad879b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all item specific flags.  <a href="classitem.html#aa4529b4c18a10ffd5a1f111536ad879b">More...</a><br /></td></tr>
<tr class="separator:aa4529b4c18a10ffd5a1f111536ad879b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45bcd33992b7d26eb4ae9f76a16b58fa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a45bcd33992b7d26eb4ae9f76a16b58fa">has_fault</a> (const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> &amp;<a class="el" href="classfault.html">fault</a>) const</td></tr>
<tr class="memdesc:a45bcd33992b7d26eb4ae9f76a16b58fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this item have the specified fault.  <a href="classitem.html#a45bcd33992b7d26eb4ae9f76a16b58fa">More...</a><br /></td></tr>
<tr class="separator:a45bcd33992b7d26eb4ae9f76a16b58fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Item properties</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Properties are specific to an item type so unlike flags the meaning of a property may not be the same for two different item types.</p>
<p >Each item type can have multiple properties however duplicate property names are not permitted. </p>
</div></td></tr>
<tr class="memitem:aeb49bb1b64eba3731e606ffe83e95b4f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aeb49bb1b64eba3731e606ffe83e95b4f">has_property</a> (const std::string &amp;prop) const</td></tr>
<tr class="separator:aeb49bb1b64eba3731e606ffe83e95b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c536dbf6f3c3e9e28015990a060e41"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac7c536dbf6f3c3e9e28015990a060e41">get_property_string</a> (const std::string &amp;prop, const std::string &amp;def=&quot;&quot;) const</td></tr>
<tr class="memdesc:ac7c536dbf6f3c3e9e28015990a060e41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get typed property for item.  <a href="classitem.html#ac7c536dbf6f3c3e9e28015990a060e41">More...</a><br /></td></tr>
<tr class="separator:ac7c536dbf6f3c3e9e28015990a060e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19e6dd5afd4bada41c8d97792fd0815d"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a19e6dd5afd4bada41c8d97792fd0815d">get_property_int64_t</a> (const std::string &amp;prop, int64_t def=0) const</td></tr>
<tr class="separator:a19e6dd5afd4bada41c8d97792fd0815d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Light emitting items</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Items can emit light either through the definition of their type (<a class="el" href="structitype.html#a64d8b1399996d38b2ed54e1543dcef50">itype::light_emission</a>) or through an item specific light data (<a class="el" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a>). </p>
</div></td></tr>
<tr class="memitem:a3c32a5f35a17296686ff631167312fa6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3c32a5f35a17296686ff631167312fa6">getlight</a> (float &amp;luminance, <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;width, <a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;<a class="el" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a>) const</td></tr>
<tr class="memdesc:a3c32a5f35a17296686ff631167312fa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directional light emission of the item.  <a href="classitem.html#a3c32a5f35a17296686ff631167312fa6">More...</a><br /></td></tr>
<tr class="separator:a3c32a5f35a17296686ff631167312fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70dfaf9ac8fb72e1656e8ff3d730e91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae70dfaf9ac8fb72e1656e8ff3d730e91">getlight_emit</a> () const</td></tr>
<tr class="memdesc:ae70dfaf9ac8fb72e1656e8ff3d730e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">How much light (see <a class="el" href="lightmap_8cpp.html">lightmap.cpp</a>) the item emits (it's assumed to be circular).  <a href="classitem.html#ae70dfaf9ac8fb72e1656e8ff3d730e91">More...</a><br /></td></tr>
<tr class="separator:ae70dfaf9ac8fb72e1656e8ff3d730e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25047563db389e8372f4f40ef7ac965"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa25047563db389e8372f4f40ef7ac965">is_emissive</a> () const</td></tr>
<tr class="memdesc:aa25047563db389e8372f4f40ef7ac965"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the item emits any light at all.  <a href="classitem.html#aa25047563db389e8372f4f40ef7ac965">More...</a><br /></td></tr>
<tr class="separator:aa25047563db389e8372f4f40ef7ac965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Seed data.</div></td></tr>
<tr class="memitem:ab00eaab576446da90f829d1ceae66c98"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab00eaab576446da90f829d1ceae66c98">is_seed</a> () const</td></tr>
<tr class="memdesc:ab00eaab576446da90f829d1ceae66c98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this is actually a seed, the seed functions won't be of much use for non-seeds.  <a href="classitem.html#ab00eaab576446da90f829d1ceae66c98">More...</a><br /></td></tr>
<tr class="separator:ab00eaab576446da90f829d1ceae66c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6199bc2e670cfd2cbbe4d4c5dafae2ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6199bc2e670cfd2cbbe4d4c5dafae2ce">get_plant_epoch</a> () const</td></tr>
<tr class="memdesc:a6199bc2e670cfd2cbbe4d4c5dafae2ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time it takes to grow from one stage to another.  <a href="classitem.html#a6199bc2e670cfd2cbbe4d4c5dafae2ce">More...</a><br /></td></tr>
<tr class="separator:a6199bc2e670cfd2cbbe4d4c5dafae2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f4fe9cc7d7089fce3faabf483c0bce"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a51f4fe9cc7d7089fce3faabf483c0bce">get_plant_name</a> () const</td></tr>
<tr class="memdesc:a51f4fe9cc7d7089fce3faabf483c0bce"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the plant as it appears in the various informational menus.  <a href="classitem.html#a51f4fe9cc7d7089fce3faabf483c0bce">More...</a><br /></td></tr>
<tr class="separator:a51f4fe9cc7d7089fce3faabf483c0bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Armor related functions.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >The functions here refer to values from <a class="el" href="structislot__armor.html">islot_armor</a>.</p>
<p >They only apply to armor items, those items can be worn. The functions are safe to call for any item, for non-armor they return a default value. </p>
</div></td></tr>
<tr class="memitem:ad5b753d7b46c55de9a5b66bbc2b14b99"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a> (<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp) const</td></tr>
<tr class="memdesc:ad5b753d7b46c55de9a5b66bbc2b14b99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this item (when worn) covers the given body part.  <a href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">More...</a><br /></td></tr>
<tr class="separator:ad5b753d7b46c55de9a5b66bbc2b14b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae18b1e273926e9acfd5792c98f153ea9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae18b1e273926e9acfd5792c98f153ea9">covers</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="separator:ae18b1e273926e9acfd5792c98f153ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa370bf267d606ed6098dc9d1c518ebf5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbody__part__set.html">body_part_set</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa370bf267d606ed6098dc9d1c518ebf5">get_covered_body_parts</a> () const</td></tr>
<tr class="memdesc:aa370bf267d606ed6098dc9d1c518ebf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitset of all covered body parts.  <a href="classitem.html#aa370bf267d606ed6098dc9d1c518ebf5">More...</a><br /></td></tr>
<tr class="separator:aa370bf267d606ed6098dc9d1c518ebf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28eef763e61e3986a0ca58786113749a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbody__part__set.html">body_part_set</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a28eef763e61e3986a0ca58786113749a">get_covered_body_parts</a> (<a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a> s) const</td></tr>
<tr class="memdesc:a28eef763e61e3986a0ca58786113749a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitset of all covered body parts, from a specific side.  <a href="classitem.html#a28eef763e61e3986a0ca58786113749a">More...</a><br /></td></tr>
<tr class="separator:a28eef763e61e3986a0ca58786113749a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cdf7fd097768ee3192c40e000384d56"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">is_sided</a> () const</td></tr>
<tr class="memdesc:a3cdf7fd097768ee3192c40e000384d56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if item is armor and can be worn on different sides of the body.  <a href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">More...</a><br /></td></tr>
<tr class="separator:a3cdf7fd097768ee3192c40e000384d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf84874cbc13ba0ce8a205690747305"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aecf84874cbc13ba0ce8a205690747305">get_side</a> () const</td></tr>
<tr class="memdesc:aecf84874cbc13ba0ce8a205690747305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns side item currently worn on.  <a href="classitem.html#aecf84874cbc13ba0ce8a205690747305">More...</a><br /></td></tr>
<tr class="separator:aecf84874cbc13ba0ce8a205690747305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f562ce239a39f4220143f7cd4998e9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">set_side</a> (<a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a> s)</td></tr>
<tr class="memdesc:a06f562ce239a39f4220143f7cd4998e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the side on which the item is worn.  <a href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">More...</a><br /></td></tr>
<tr class="separator:a06f562ce239a39f4220143f7cd4998e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac972bd94fc3a86b96499c34b8b1741a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac972bd94fc3a86b96499c34b8b1741a6">swap_side</a> ()</td></tr>
<tr class="memdesc:ac972bd94fc3a86b96499c34b8b1741a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap the side on which the item is worn.  <a href="classitem.html#ac972bd94fc3a86b96499c34b8b1741a6">More...</a><br /></td></tr>
<tr class="separator:ac972bd94fc3a86b96499c34b8b1741a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e45a18f173ca31f0c0ba31f3397854"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa7e45a18f173ca31f0c0ba31f3397854">get_warmth</a> () const</td></tr>
<tr class="memdesc:aa7e45a18f173ca31f0c0ba31f3397854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the warmth value that this item has when worn.  <a href="classitem.html#aa7e45a18f173ca31f0c0ba31f3397854">More...</a><br /></td></tr>
<tr class="separator:aa7e45a18f173ca31f0c0ba31f3397854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f86c0174d8c700cc3308860c8513798"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3f86c0174d8c700cc3308860c8513798">get_thickness</a> () const</td></tr>
<tr class="memdesc:a3f86c0174d8c700cc3308860c8513798"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="structislot__armor.html#abd747f7666386a848f2d6e432f46c72e">islot_armor::thickness</a> value, or 0 for non-armor.  <a href="classitem.html#a3f86c0174d8c700cc3308860c8513798">More...</a><br /></td></tr>
<tr class="separator:a3f86c0174d8c700cc3308860c8513798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21481dceb4ee5fb0cf0ce84fbe855e39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0">layer_level</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a21481dceb4ee5fb0cf0ce84fbe855e39">get_layer</a> () const</td></tr>
<tr class="memdesc:a21481dceb4ee5fb0cf0ce84fbe855e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns clothing layer for item.  <a href="classitem.html#a21481dceb4ee5fb0cf0ce84fbe855e39">More...</a><br /></td></tr>
<tr class="separator:a21481dceb4ee5fb0cf0ce84fbe855e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae86ed52f17bed14dffddbbc618b8afa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aae86ed52f17bed14dffddbbc618b8afa">get_coverage</a> () const</td></tr>
<tr class="memdesc:aae86ed52f17bed14dffddbbc618b8afa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the relative coverage that this item has when worn.  <a href="classitem.html#aae86ed52f17bed14dffddbbc618b8afa">More...</a><br /></td></tr>
<tr class="separator:aae86ed52f17bed14dffddbbc618b8afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358c2251db699caf33786512138bba54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a358c2251db699caf33786512138bba54">get_encumber_when_containing</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;, const <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;contents_volume) const</td></tr>
<tr class="memdesc:a358c2251db699caf33786512138bba54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the encumbrance value that this item has when worn by given player, when containing a particular volume of contents.  <a href="classitem.html#a358c2251db699caf33786512138bba54">More...</a><br /></td></tr>
<tr class="separator:a358c2251db699caf33786512138bba54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac242b34e6ae35efdcdd956df3f320e84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac242b34e6ae35efdcdd956df3f320e84">get_encumber</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;) const</td></tr>
<tr class="memdesc:ac242b34e6ae35efdcdd956df3f320e84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the encumbrance value that this item has when worn by given player.  <a href="classitem.html#ac242b34e6ae35efdcdd956df3f320e84">More...</a><br /></td></tr>
<tr class="separator:ac242b34e6ae35efdcdd956df3f320e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9653264e34fbb2b99737e09e0a207df4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9653264e34fbb2b99737e09e0a207df4">get_storage</a> () const</td></tr>
<tr class="memdesc:a9653264e34fbb2b99737e09e0a207df4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the storage amount (<a class="el" href="structislot__armor.html#afea4f5875d9a65ab246ad0d6e78e5332">islot_armor::storage</a>) that this item provides when worn.  <a href="classitem.html#a9653264e34fbb2b99737e09e0a207df4">More...</a><br /></td></tr>
<tr class="separator:a9653264e34fbb2b99737e09e0a207df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c4e0b19f9a1b77e17286332f2ca550"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac5c4e0b19f9a1b77e17286332f2ca550">get_weight_capacity_modifier</a> () const</td></tr>
<tr class="memdesc:ac5c4e0b19f9a1b77e17286332f2ca550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the weight capacity modifier (<a class="el" href="structislot__armor.html#ae0b4e44bebd93c6731e50f905cd89241">islot_armor::weight_capacity_modifier</a>) that this item provides when worn.  <a href="classitem.html#ac5c4e0b19f9a1b77e17286332f2ca550">More...</a><br /></td></tr>
<tr class="separator:ac5c4e0b19f9a1b77e17286332f2ca550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d69d87b0c4bb5cc90f95f50785adb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a93d69d87b0c4bb5cc90f95f50785adb9">get_weight_capacity_bonus</a> () const</td></tr>
<tr class="memdesc:a93d69d87b0c4bb5cc90f95f50785adb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the weight capacity bonus (<a class="el" href="structislot__armor.html#ae0b4e44bebd93c6731e50f905cd89241">islot_armor::weight_capacity_modifier</a>) that this item provides when worn.  <a href="classitem.html#a93d69d87b0c4bb5cc90f95f50785adb9">More...</a><br /></td></tr>
<tr class="separator:a93d69d87b0c4bb5cc90f95f50785adb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac56f53ef32f24c048d9e893c9336ec95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac56f53ef32f24c048d9e893c9336ec95">get_env_resist</a> (int override_base_resist=0) const</td></tr>
<tr class="memdesc:ac56f53ef32f24c048d9e893c9336ec95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the resistance to environmental effects (<a class="el" href="structislot__armor.html#a3bf1982fb7e01dcb6f894a43fa689639">islot_armor::env_resist</a>) that this item provides when worn.  <a href="classitem.html#ac56f53ef32f24c048d9e893c9336ec95">More...</a><br /></td></tr>
<tr class="separator:ac56f53ef32f24c048d9e893c9336ec95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb31dfc93d0de49315fdbbac504236df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#acb31dfc93d0de49315fdbbac504236df">get_base_env_resist_w_filter</a> () const</td></tr>
<tr class="memdesc:acb31dfc93d0de49315fdbbac504236df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the base resistance to environmental effects if an item (for example a gas mask) requires a gas filter to operate and this filter is installed.  <a href="classitem.html#acb31dfc93d0de49315fdbbac504236df">More...</a><br /></td></tr>
<tr class="separator:acb31dfc93d0de49315fdbbac504236df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82e0833373b0141aec30768dfc349bbe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a82e0833373b0141aec30768dfc349bbe">is_power_armor</a> () const</td></tr>
<tr class="memdesc:a82e0833373b0141aec30768dfc349bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this is a power armor item.  <a href="classitem.html#a82e0833373b0141aec30768dfc349bbe">More...</a><br /></td></tr>
<tr class="separator:a82e0833373b0141aec30768dfc349bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97dda9dbf79f8df65ac930cb89ac9b98"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structislot__armor.html">islot_armor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a> () const</td></tr>
<tr class="memdesc:a97dda9dbf79f8df65ac930cb89ac9b98"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this is an armor item, return its armor data.  <a href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">More...</a><br /></td></tr>
<tr class="separator:a97dda9dbf79f8df65ac930cb89ac9b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0894d963d06ccd7c7237d4b2b837956d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0894d963d06ccd7c7237d4b2b837956d">is_worn_only_with</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a0894d963d06ccd7c7237d4b2b837956d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true whether this item can be worn only when.  <a href="classitem.html#a0894d963d06ccd7c7237d4b2b837956d">More...</a><br /></td></tr>
<tr class="separator:a0894d963d06ccd7c7237d4b2b837956d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Pet armor related functions.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >The functions here refer to values from <a class="el" href="structislot__pet__armor.html">islot_pet_armor</a>.</p>
<p >They only apply to pet armor items, those items can be worn by pets. The functions are safe to call for any item, for non-pet armor they return a default value. </p>
</div></td></tr>
<tr class="memitem:a6859ce2b8c50444a4991d773b490d58f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6859ce2b8c50444a4991d773b490d58f">get_pet_armor_max_vol</a> () const</td></tr>
<tr class="separator:a6859ce2b8c50444a4991d773b490d58f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a62737bde2472c83494f4842f49f10c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1a62737bde2472c83494f4842f49f10c">get_pet_armor_min_vol</a> () const</td></tr>
<tr class="separator:a1a62737bde2472c83494f4842f49f10c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1413304deaa3b421aa4b4f252ea93d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="item_8h.html#afa47dd7776166d27248a54bcf21f1ac8">bodytype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae1413304deaa3b421aa4b4f252ea93d3">get_pet_armor_bodytype</a> () const</td></tr>
<tr class="separator:ae1413304deaa3b421aa4b4f252ea93d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Books</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Book specific functions, apply to items that are books. </p>
</div></td></tr>
<tr class="memitem:af607ad36c67593022397b437a3a5b5b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af607ad36c67593022397b437a3a5b5b4">get_chapters</a> () const</td></tr>
<tr class="memdesc:af607ad36c67593022397b437a3a5b5b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many chapters the book has (if any).  <a href="classitem.html#af607ad36c67593022397b437a3a5b5b4">More...</a><br /></td></tr>
<tr class="separator:af607ad36c67593022397b437a3a5b5b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496e2a01e5a06776c322d4f1c3396e66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a496e2a01e5a06776c322d4f1c3396e66">get_remaining_chapters</a> (const <a class="el" href="classplayer.html">player</a> &amp;u) const</td></tr>
<tr class="memdesc:a496e2a01e5a06776c322d4f1c3396e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of unread chapters.  <a href="classitem.html#a496e2a01e5a06776c322d4f1c3396e66">More...</a><br /></td></tr>
<tr class="separator:a496e2a01e5a06776c322d4f1c3396e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a363e1baab2db3f5613121e093baa5a13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a363e1baab2db3f5613121e093baa5a13">mark_chapter_as_read</a> (const <a class="el" href="classplayer.html">player</a> &amp;u)</td></tr>
<tr class="memdesc:a363e1baab2db3f5613121e093baa5a13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark one chapter of the book as read by the given player.  <a href="classitem.html#a363e1baab2db3f5613121e093baa5a13">More...</a><br /></td></tr>
<tr class="separator:a363e1baab2db3f5613121e093baa5a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a245db12c86dcfb1abf029cf0527dcf7e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; const <a class="el" href="classrecipe.html">recipe</a> *, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a245db12c86dcfb1abf029cf0527dcf7e">get_available_recipes</a> (const <a class="el" href="classplayer.html">player</a> &amp;u) const</td></tr>
<tr class="memdesc:a245db12c86dcfb1abf029cf0527dcf7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates recipes available from this book and the skill level required to use them.  <a href="classitem.html#a245db12c86dcfb1abf029cf0527dcf7e">More...</a><br /></td></tr>
<tr class="separator:a245db12c86dcfb1abf029cf0527dcf7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Martial art techniques</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >See <a class="el" href="martialarts_8h.html">martialarts.h</a> for further info. </p>
</div></td></tr>
<tr class="memitem:ab842b7c3aaa4d813575035be37cd3714"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab842b7c3aaa4d813575035be37cd3714">has_technique</a> (const <a class="el" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a> &amp;tech) const</td></tr>
<tr class="memdesc:ab842b7c3aaa4d813575035be37cd3714"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the item supports a specific martial art technique (either through its type, or through its individual <a class="el" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>).  <a href="classitem.html#ab842b7c3aaa4d813575035be37cd3714">More...</a><br /></td></tr>
<tr class="separator:ab842b7c3aaa4d813575035be37cd3714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26022bd0e72f14c5abf2fa5edf806c81"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a26022bd0e72f14c5abf2fa5edf806c81">get_techniques</a> () const</td></tr>
<tr class="memdesc:a26022bd0e72f14c5abf2fa5edf806c81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the martial art techniques that this items supports.  <a href="classitem.html#a26022bd0e72f14c5abf2fa5edf806c81">More...</a><br /></td></tr>
<tr class="separator:a26022bd0e72f14c5abf2fa5edf806c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a178ada62c301bb1058bb56b1d8531a36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a178ada62c301bb1058bb56b1d8531a36">add_technique</a> (const <a class="el" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a> &amp;tech)</td></tr>
<tr class="memdesc:a178ada62c301bb1058bb56b1d8531a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the given technique to the item specific <a class="el" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>.  <a href="classitem.html#a178ada62c301bb1058bb56b1d8531a36">More...</a><br /></td></tr>
<tr class="separator:a178ada62c301bb1058bb56b1d8531a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e04ebcbadc63b26b213c0a861b0188"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a> ()</td></tr>
<tr class="memdesc:a01e04ebcbadc63b26b213c0a861b0188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all toolmods currently attached to this item (always empty if item not a tool)  <a href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">More...</a><br /></td></tr>
<tr class="separator:a01e04ebcbadc63b26b213c0a861b0188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6423923c34179706a69672ef5f9b0e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9b6423923c34179706a69672ef5f9b0e">toolmods</a> () const</td></tr>
<tr class="separator:a9b6423923c34179706a69672ef5f9b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Gun and gunmod functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Gun and gun mod functions.</p>
<p >Anything stated to apply to guns, applies to auxiliary gunmods as well (they are some kind of gun). Non-guns are items that are neither gun nor auxiliary gunmod. </p>
</div></td></tr>
<tr class="memitem:a9b06bb61116b722a90aa372a4561337a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a> () const</td></tr>
<tr class="separator:a9b06bb61116b722a90aa372a4561337a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2912b2e15a4eec07a5070fffbbd152e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a> () const</td></tr>
<tr class="memdesc:a2912b2e15a4eec07a5070fffbbd152e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can this item be used to perform a ranged attack?  <a href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">More...</a><br /></td></tr>
<tr class="separator:a2912b2e15a4eec07a5070fffbbd152e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabdd1a1ca453608c862ee23e53d66d59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aabdd1a1ca453608c862ee23e53d66d59">energy_remaining</a> () const</td></tr>
<tr class="memdesc:aabdd1a1ca453608c862ee23e53d66d59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quantity of energy currently loaded in tool or battery.  <a href="classitem.html#aabdd1a1ca453608c862ee23e53d66d59">More...</a><br /></td></tr>
<tr class="separator:aabdd1a1ca453608c862ee23e53d66d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c025fd4909bd31c8e91ed87905507b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a> () const</td></tr>
<tr class="memdesc:a26c025fd4909bd31c8e91ed87905507b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quantity of ammunition currently loaded in tool, gun or auxiliary gunmod.  <a href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">More...</a><br /></td></tr>
<tr class="separator:a26c025fd4909bd31c8e91ed87905507b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d89f04a2a08245ec865db0865e8a6c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a> () const</td></tr>
<tr class="memdesc:a5d89f04a2a08245ec865db0865e8a6c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum quantity of ammunition loadable for tool, gun or auxiliary gunmod.  <a href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">More...</a><br /></td></tr>
<tr class="separator:a5d89f04a2a08245ec865db0865e8a6c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40429b3871f1924330a4538bd68cc8a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a40429b3871f1924330a4538bd68cc8a0">ammo_capacity</a> (bool potential_capacity) const</td></tr>
<tr class="separator:a40429b3871f1924330a4538bd68cc8a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dc5d9ccf5638ae80cebe1864050fa26"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a> () const</td></tr>
<tr class="memdesc:a7dc5d9ccf5638ae80cebe1864050fa26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quantity of ammunition consumed per usage of tool or with each shot of gun.  <a href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">More...</a><br /></td></tr>
<tr class="separator:a7dc5d9ccf5638ae80cebe1864050fa26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8efcfdc21aadbc25a8cc95cf54685489"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a> (int qty=1) const</td></tr>
<tr class="memdesc:a8efcfdc21aadbc25a8cc95cf54685489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if sufficient ammo is loaded for given number of uses.  <a href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">More...</a><br /></td></tr>
<tr class="separator:a8efcfdc21aadbc25a8cc95cf54685489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00bce86206993cc672387f9a2c77f92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae00bce86206993cc672387f9a2c77f92">ammo_consume</a> (int qty, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="memdesc:ae00bce86206993cc672387f9a2c77f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume ammo (if available) and return the amount of ammo that was consumed.  <a href="classitem.html#ae00bce86206993cc672387f9a2c77f92">More...</a><br /></td></tr>
<tr class="separator:ae00bce86206993cc672387f9a2c77f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4adcc4a3a5f5fb20a4d245d79109640a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structitype.html">itype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a> () const</td></tr>
<tr class="memdesc:a4adcc4a3a5f5fb20a4d245d79109640a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific ammo data, returns nullptr if item is neither ammo nor loaded with any.  <a href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">More...</a><br /></td></tr>
<tr class="separator:a4adcc4a3a5f5fb20a4d245d79109640a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624c3b7ec10ae766a9e75718af71e647"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a> () const</td></tr>
<tr class="memdesc:a624c3b7ec10ae766a9e75718af71e647"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific ammo type, returns "null" if item is neither ammo nor loaded with any.  <a href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">More...</a><br /></td></tr>
<tr class="separator:a624c3b7ec10ae766a9e75718af71e647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f8c31c6aa17560f8f523290d568436"><td class="memItemLeft" align="right" valign="top">const std::set&lt; <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a> (bool conversion=true) const</td></tr>
<tr class="memdesc:ac4f8c31c6aa17560f8f523290d568436"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of ammo types (<a class="el" href="classammunition__type.html">ammunition_type</a>) used by item.  <a href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">More...</a><br /></td></tr>
<tr class="separator:ac4f8c31c6aa17560f8f523290d568436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4f4feeb64f169f408c24d03e0ce61f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a> () const</td></tr>
<tr class="memdesc:aab4f4feeb64f169f408c24d03e0ce61f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ammo type of an ammo item.  <a href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">More...</a><br /></td></tr>
<tr class="separator:aab4f4feeb64f169f408c24d03e0ce61f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab07d96e30c441a84435972df842f4c77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab07d96e30c441a84435972df842f4c77">ammo_default</a> (bool conversion=true) const</td></tr>
<tr class="memdesc:ab07d96e30c441a84435972df842f4c77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get default ammo used by item or a null id if item does not have a default ammo type.  <a href="classitem.html#ab07d96e30c441a84435972df842f4c77">More...</a><br /></td></tr>
<tr class="separator:ab07d96e30c441a84435972df842f4c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cc833f71e0454446fd0f877d24f6585"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5cc833f71e0454446fd0f877d24f6585">common_ammo_default</a> (bool conversion=true) const</td></tr>
<tr class="memdesc:a5cc833f71e0454446fd0f877d24f6585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get default ammo for the first ammotype common to an item and its current magazine or "NULL" if none exists.  <a href="classitem.html#a5cc833f71e0454446fd0f877d24f6585">More...</a><br /></td></tr>
<tr class="separator:a5cc833f71e0454446fd0f877d24f6585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75fa277bb39c1d2922137986c67d48fb"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="map_8cpp.html#a162c25498e3347a41712a4746b8b5100">ammo_effect_str_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a75fa277bb39c1d2922137986c67d48fb">ammo_effects</a> (bool with_ammo=true) const</td></tr>
<tr class="memdesc:a75fa277bb39c1d2922137986c67d48fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get ammo effects for item optionally inclusive of any resulting from the loaded ammo.  <a href="classitem.html#a75fa277bb39c1d2922137986c67d48fb">More...</a><br /></td></tr>
<tr class="separator:a75fa277bb39c1d2922137986c67d48fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d40038358173598156ed2d200e176f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af4d40038358173598156ed2d200e176f">ammo_sort_name</a> () const</td></tr>
<tr class="separator:af4d40038358173598156ed2d200e176f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80e153fc97fb09df58a5be7302ae898"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af80e153fc97fb09df58a5be7302ae898">casings_count</a> () const</td></tr>
<tr class="memdesc:af80e153fc97fb09df58a5be7302ae898"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many spent casings are contained within this item?  <a href="classitem.html#af80e153fc97fb09df58a5be7302ae898">More...</a><br /></td></tr>
<tr class="separator:af80e153fc97fb09df58a5be7302ae898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f29e8940a146016690f2776939a2980"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9f29e8940a146016690f2776939a2980">casings_handle</a> (const std::function&lt; bool(<a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;func)</td></tr>
<tr class="memdesc:a9f29e8940a146016690f2776939a2980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply predicate to each contained spent casing removing it if predicate returns true.  <a href="classitem.html#a9f29e8940a146016690f2776939a2980">More...</a><br /></td></tr>
<tr class="separator:a9f29e8940a146016690f2776939a2980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e9319c5779e2e1c550158ee8a2cc98"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a> () const</td></tr>
<tr class="memdesc:aa7e9319c5779e2e1c550158ee8a2cc98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does item have an integral magazine (as opposed to allowing detachable magazines)  <a href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">More...</a><br /></td></tr>
<tr class="separator:aa7e9319c5779e2e1c550158ee8a2cc98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f710d4afc0b3c016b3e19cb294d4ded"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6f710d4afc0b3c016b3e19cb294d4ded">magazine_default</a> (bool conversion=true) const</td></tr>
<tr class="memdesc:a6f710d4afc0b3c016b3e19cb294d4ded"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the default magazine type (if any) for the current effective ammo type.  <a href="classitem.html#a6f710d4afc0b3c016b3e19cb294d4ded">More...</a><br /></td></tr>
<tr class="separator:a6f710d4afc0b3c016b3e19cb294d4ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ebcbfa7afc85cc501d72f52d09e9984"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3ebcbfa7afc85cc501d72f52d09e9984">magazine_compatible</a> (bool conversion=true) const</td></tr>
<tr class="memdesc:a3ebcbfa7afc85cc501d72f52d09e9984"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get compatible magazines (if any) for this item.  <a href="classitem.html#a3ebcbfa7afc85cc501d72f52d09e9984">More...</a><br /></td></tr>
<tr class="separator:a3ebcbfa7afc85cc501d72f52d09e9984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22fc9a4e0f9c6f5569b93e00deccfac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a> ()</td></tr>
<tr class="memdesc:ab22fc9a4e0f9c6f5569b93e00deccfac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Currently loaded magazine (if any)  <a href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">More...</a><br /></td></tr>
<tr class="separator:ab22fc9a4e0f9c6f5569b93e00deccfac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5422fcf744eebd709c22f19cfc12ab8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af5422fcf744eebd709c22f19cfc12ab8">magazine_current</a> () const</td></tr>
<tr class="separator:af5422fcf744eebd709c22f19cfc12ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd78321ba4d5c09d39f1d58d20b68484"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a> ()</td></tr>
<tr class="memdesc:acd78321ba4d5c09d39f1d58d20b68484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all gunmods currently attached to this item (always empty if item not a gun)  <a href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">More...</a><br /></td></tr>
<tr class="separator:acd78321ba4d5c09d39f1d58d20b68484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2a88b8e62334185654d0a7a683a7ae8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab2a88b8e62334185654d0a7a683a7ae8">gunmods</a> () const</td></tr>
<tr class="separator:ab2a88b8e62334185654d0a7a683a7ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26ffce6c038cc9d398103dcd296275bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a26ffce6c038cc9d398103dcd296275bd">gunmod_find</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;mod)</td></tr>
<tr class="memdesc:a26ffce6c038cc9d398103dcd296275bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get first attached gunmod matching type or nullptr if no such mod or item is not a gun.  <a href="classitem.html#a26ffce6c038cc9d398103dcd296275bd">More...</a><br /></td></tr>
<tr class="separator:a26ffce6c038cc9d398103dcd296275bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d1d73decd26ea36f942c53cf7c037b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a08d1d73decd26ea36f942c53cf7c037b">gunmod_find</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;mod) const</td></tr>
<tr class="separator:a08d1d73decd26ea36f942c53cf7c037b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a361aa96bec049dc124699ee54bcea0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1a361aa96bec049dc124699ee54bcea0">is_gunmod_compatible</a> (const <a class="el" href="classitem.html">item</a> &amp;mod) const</td></tr>
<tr class="separator:a1a361aa96bec049dc124699ee54bcea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a2ecb3e9ebf95dc7fedac4c1de32b4"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>, <a class="el" href="classgun__mode.html">gun_mode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa1a2ecb3e9ebf95dc7fedac4c1de32b4">gun_all_modes</a> () const</td></tr>
<tr class="memdesc:aa1a2ecb3e9ebf95dc7fedac4c1de32b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all possible modes for this gun inclusive of any attached gunmods.  <a href="classitem.html#aa1a2ecb3e9ebf95dc7fedac4c1de32b4">More...</a><br /></td></tr>
<tr class="separator:aa1a2ecb3e9ebf95dc7fedac4c1de32b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af128df748a75405ab738424bff725de5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgun__mode.html">gun_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af128df748a75405ab738424bff725de5">gun_get_mode</a> (const <a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a> &amp;mode) const</td></tr>
<tr class="memdesc:af128df748a75405ab738424bff725de5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if gun supports a specific mode returning an invalid/empty mode if not.  <a href="classitem.html#af128df748a75405ab738424bff725de5">More...</a><br /></td></tr>
<tr class="separator:af128df748a75405ab738424bff725de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a94ea108d695febf7f2bcf090f097fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgun__mode.html">gun_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1a94ea108d695febf7f2bcf090f097fa">gun_current_mode</a> () const</td></tr>
<tr class="memdesc:a1a94ea108d695febf7f2bcf090f097fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current mode for this gun (or an invalid mode if item is not a gun)  <a href="classitem.html#a1a94ea108d695febf7f2bcf090f097fa">More...</a><br /></td></tr>
<tr class="separator:a1a94ea108d695febf7f2bcf090f097fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b83c2e0d1313b542801169382be1605"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3b83c2e0d1313b542801169382be1605">gun_get_mode_id</a> () const</td></tr>
<tr class="memdesc:a3b83c2e0d1313b542801169382be1605"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get id of mode a gun is currently set to, e.g.  <a href="classitem.html#a3b83c2e0d1313b542801169382be1605">More...</a><br /></td></tr>
<tr class="separator:a3b83c2e0d1313b542801169382be1605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcc181d2e2fe380ac28dd70f814798c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#afcc181d2e2fe380ac28dd70f814798c2">gun_set_mode</a> (const <a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a> &amp;mode)</td></tr>
<tr class="memdesc:afcc181d2e2fe380ac28dd70f814798c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to set the mode for a gun, returning false if no such mode is possible.  <a href="classitem.html#afcc181d2e2fe380ac28dd70f814798c2">More...</a><br /></td></tr>
<tr class="separator:afcc181d2e2fe380ac28dd70f814798c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a90ea94f124f8d857058c2704a7fc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a74a90ea94f124f8d857058c2704a7fc7">gun_cycle_mode</a> ()</td></tr>
<tr class="memdesc:a74a90ea94f124f8d857058c2704a7fc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch to the next available firing mode.  <a href="classitem.html#a74a90ea94f124f8d857058c2704a7fc7">More...</a><br /></td></tr>
<tr class="separator:a74a90ea94f124f8d857058c2704a7fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0b7e5875297be57d675270f57ff775a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af0b7e5875297be57d675270f57ff775a">sight_dispersion</a> () const</td></tr>
<tr class="memdesc:af0b7e5875297be57d675270f57ff775a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get lowest dispersion of either integral or any attached sights.  <a href="classitem.html#af0b7e5875297be57d675270f57ff775a">More...</a><br /></td></tr>
<tr class="separator:af0b7e5875297be57d675270f57ff775a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3694c5d9138956736af2444bd7b3972e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structitem_1_1sound__data.html">sound_data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3694c5d9138956736af2444bd7b3972e">gun_noise</a> (bool burst=false) const</td></tr>
<tr class="memdesc:a3694c5d9138956736af2444bd7b3972e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the sound of the gun being fired.  <a href="classitem.html#a3694c5d9138956736af2444bd7b3972e">More...</a><br /></td></tr>
<tr class="separator:a3694c5d9138956736af2444bd7b3972e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab180dbb50ec9d55570a1b1de1a2ce126"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab180dbb50ec9d55570a1b1de1a2ce126">is_silent</a> () const</td></tr>
<tr class="memdesc:ab180dbb50ec9d55570a1b1de1a2ce126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this is a (nearly) silent gun (a tiny bit of sound is allowed).  <a href="classitem.html#ab180dbb50ec9d55570a1b1de1a2ce126">More...</a><br /></td></tr>
<tr class="separator:ab180dbb50ec9d55570a1b1de1a2ce126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af443024fa9e01c97953b3fcf81c9cfb1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af443024fa9e01c97953b3fcf81c9cfb1">gun_range</a> (const <a class="el" href="classplayer.html">player</a> *p) const</td></tr>
<tr class="memdesc:af443024fa9e01c97953b3fcf81c9cfb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The weapons range in map squares.  <a href="classitem.html#af443024fa9e01c97953b3fcf81c9cfb1">More...</a><br /></td></tr>
<tr class="separator:af443024fa9e01c97953b3fcf81c9cfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ddc87ae8a8c4afc09f1cb1b4a7d6d10"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3ddc87ae8a8c4afc09f1cb1b4a7d6d10">gun_range</a> (bool with_ammo=true) const</td></tr>
<tr class="memdesc:a3ddc87ae8a8c4afc09f1cb1b4a7d6d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Summed range value of a gun, including values from mods.  <a href="classitem.html#a3ddc87ae8a8c4afc09f1cb1b4a7d6d10">More...</a><br /></td></tr>
<tr class="separator:a3ddc87ae8a8c4afc09f1cb1b4a7d6d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ecf94591fd2a0df49e940e93255a59"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae4ecf94591fd2a0df49e940e93255a59">gun_recoil_multiplier</a> (bool bipod=false) const</td></tr>
<tr class="memdesc:ae4ecf94591fd2a0df49e940e93255a59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get multiplier on recoil considering handling and attached gunmods.  <a href="classitem.html#ae4ecf94591fd2a0df49e940e93255a59">More...</a><br /></td></tr>
<tr class="separator:ae4ecf94591fd2a0df49e940e93255a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dbbda81cd9bc9ed386b9c5bf71d5acd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4dbbda81cd9bc9ed386b9c5bf71d5acd">gun_recoil</a> (bool bipod=false) const</td></tr>
<tr class="memdesc:a4dbbda81cd9bc9ed386b9c5bf71d5acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get effective recoil considering handling, loaded ammo and effects of attached gunmods.  <a href="classitem.html#a4dbbda81cd9bc9ed386b9c5bf71d5acd">More...</a><br /></td></tr>
<tr class="separator:a4dbbda81cd9bc9ed386b9c5bf71d5acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada111938a57ec6c7b47fcca30ec9d36c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdamage__instance.html">damage_instance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ada111938a57ec6c7b47fcca30ec9d36c">gun_damage</a> (bool with_ammo=true) const</td></tr>
<tr class="memdesc:ada111938a57ec6c7b47fcca30ec9d36c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Summed ranged damage, armor piercing, and multipliers for both, of a gun, including values from mods.  <a href="classitem.html#ada111938a57ec6c7b47fcca30ec9d36c">More...</a><br /></td></tr>
<tr class="separator:ada111938a57ec6c7b47fcca30ec9d36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd6f9946d4895a6ef2190e07c2486a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adfd6f9946d4895a6ef2190e07c2486a3">gun_dispersion</a> (bool with_ammo=true, bool with_scaling=true) const</td></tr>
<tr class="memdesc:adfd6f9946d4895a6ef2190e07c2486a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Summed dispersion of a gun, including values from mods.  <a href="classitem.html#adfd6f9946d4895a6ef2190e07c2486a3">More...</a><br /></td></tr>
<tr class="separator:adfd6f9946d4895a6ef2190e07c2486a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d8542661f2e2a82e8cb3792584912f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a> () const</td></tr>
<tr class="memdesc:a3d8542661f2e2a82e8cb3792584912f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The skill used to operate the gun.  <a href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">More...</a><br /></td></tr>
<tr class="separator:a3d8542661f2e2a82e8cb3792584912f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac988f5071585ba014e6f72a485c3f9cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgun__type__type.html">gun_type_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac988f5071585ba014e6f72a485c3f9cf">gun_type</a> () const</td></tr>
<tr class="memdesc:ac988f5071585ba014e6f72a485c3f9cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the type of a ranged weapon (e.g.  <a href="classitem.html#ac988f5071585ba014e6f72a485c3f9cf">More...</a><br /></td></tr>
<tr class="separator:ac988f5071585ba014e6f72a485c3f9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a727917284cddff4dbf0113d1329fec51"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classgunmod__location.html">gunmod_location</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a727917284cddff4dbf0113d1329fec51">get_mod_locations</a> () const</td></tr>
<tr class="memdesc:a727917284cddff4dbf0113d1329fec51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get mod locations, including those added by other mods.  <a href="classitem.html#a727917284cddff4dbf0113d1329fec51">More...</a><br /></td></tr>
<tr class="separator:a727917284cddff4dbf0113d1329fec51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad345f0faefeda773220f01b75acb9f28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad345f0faefeda773220f01b75acb9f28">get_free_mod_locations</a> (const <a class="el" href="classgunmod__location.html">gunmod_location</a> &amp;location) const</td></tr>
<tr class="memdesc:ad345f0faefeda773220f01b75acb9f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of mods that can still be installed into the given mod location, for non-guns it always returns 0.  <a href="classitem.html#ad345f0faefeda773220f01b75acb9f28">More...</a><br /></td></tr>
<tr class="separator:ad345f0faefeda773220f01b75acb9f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac690c252311f4c021cb82c9487d35242"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac690c252311f4c021cb82c9487d35242">is_firearm</a> () const</td></tr>
<tr class="memdesc:ac690c252311f4c021cb82c9487d35242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does it require gunsmithing tools to repair.  <a href="classitem.html#ac690c252311f4c021cb82c9487d35242">More...</a><br /></td></tr>
<tr class="separator:ac690c252311f4c021cb82c9487d35242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3353f629e527eb4b9f6c2f666f9e36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aad3353f629e527eb4b9f6c2f666f9e36">get_reload_time</a> () const</td></tr>
<tr class="memdesc:aad3353f629e527eb4b9f6c2f666f9e36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the reload time of the gun.  <a href="classitem.html#aad3353f629e527eb4b9f6c2f666f9e36">More...</a><br /></td></tr>
<tr class="separator:aad3353f629e527eb4b9f6c2f666f9e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Vehicle parts</div></td></tr>
<tr class="memitem:adad8973d1533a919bf44d71415754600"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adad8973d1533a919bf44d71415754600">engine_displacement</a> () const</td></tr>
<tr class="memdesc:adad8973d1533a919bf44d71415754600"><td class="mdescLeft">&#160;</td><td class="mdescRight">for combustion engines the displacement (cc)  <a href="classitem.html#adad8973d1533a919bf44d71415754600">More...</a><br /></td></tr>
<tr class="separator:adad8973d1533a919bf44d71415754600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvisitable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvisitable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvisitable.html">visitable&lt; item &gt;</a></td></tr>
<tr class="memitem:a0a76a71d6a905414cc81236e86a7e649 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="memdesc:a0a76a71d6a905414cc81236e86a7e649 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses this object and any child items contained using a visitor pattern.  <a href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">More...</a><br /></td></tr>
<tr class="separator:a0a76a71d6a905414cc81236e86a7e649 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a72544bb0c5cc51eff8ea3dd07a513 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aa7a72544bb0c5cc51eff8ea3dd07a513">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *, const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:aa7a72544bb0c5cc51eff8ea3dd07a513 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad174ac6f2ed3679241696e7fa096b7d1 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ad174ac6f2ed3679241696e7fa096b7d1">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="memdesc:ad174ac6f2ed3679241696e7fa096b7d1 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lightweight version which provides only the current node.  <a href="classvisitable.html#ad174ac6f2ed3679241696e7fa096b7d1">More...</a><br /></td></tr>
<tr class="separator:ad174ac6f2ed3679241696e7fa096b7d1 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff00b5f4ce2ea371ef82f9b08bb76782 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aff00b5f4ce2ea371ef82f9b08bb76782">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:aff00b5f4ce2ea371ef82f9b08bb76782 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073dab39ca059a87742a05300402ab01 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a073dab39ca059a87742a05300402ab01">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:a073dab39ca059a87742a05300402ab01 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the immediate parent container (if any) for an item.  <a href="classvisitable.html#a073dab39ca059a87742a05300402ab01">More...</a><br /></td></tr>
<tr class="separator:a073dab39ca059a87742a05300402ab01 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3755702ea4b3eb37b385bcfb375c89a8 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a3755702ea4b3eb37b385bcfb375c89a8">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a3755702ea4b3eb37b385bcfb375c89a8 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f3c0f8e439b0ffda17e613fda94d04 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:a91f3c0f8e439b0ffda17e613fda94d04 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns vector of parent containers (if any) starting with the innermost.  <a href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">More...</a><br /></td></tr>
<tr class="separator:a91f3c0f8e439b0ffda17e613fda94d04 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb48f9ef22516867c7ff3bd449b02bf2 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#adb48f9ef22516867c7ff3bd449b02bf2">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:adb48f9ef22516867c7ff3bd449b02bf2 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49d5ef7b3f2f0a8664c23097a56373f inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:af49d5ef7b3f2f0a8664c23097a56373f inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this visitable instance contains the item.  <a href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">More...</a><br /></td></tr>
<tr class="separator:af49d5ef7b3f2f0a8664c23097a56373f inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf24bf044bbf16def702fd78351fc46f inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter) const</td></tr>
<tr class="memdesc:abf24bf044bbf16def702fd78351fc46f inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if any item (including those within a container) matches the filter.  <a href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">More...</a><br /></td></tr>
<tr class="separator:abf24bf044bbf16def702fd78351fc46f inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ad0b8f7866ec171a709c56e4a25ff2 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a62ad0b8f7866ec171a709c56e4a25ff2">has_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual, int level=1, int qty=1) const</td></tr>
<tr class="memdesc:a62ad0b8f7866ec171a709c56e4a25ff2 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if instance has amount (or more) items of at least quality level.  <a href="classvisitable.html#a62ad0b8f7866ec171a709c56e4a25ff2">More...</a><br /></td></tr>
<tr class="separator:a62ad0b8f7866ec171a709c56e4a25ff2 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2cb1acccff210289e90eb29ca02db8 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">max_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual) const</td></tr>
<tr class="memdesc:a2d2cb1acccff210289e90eb29ca02db8 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return maximum tool quality level provided by instance or INT_MIN if not found.  <a href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">More...</a><br /></td></tr>
<tr class="separator:a2d2cb1acccff210289e90eb29ca02db8 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517e20b6f6c13b8316d5cce8e310b871 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int limit=INT_MAX, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;, std::function&lt; void(int)&gt; visitor=nullptr) const</td></tr>
<tr class="memdesc:a517e20b6f6c13b8316d5cce8e310b871 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count maximum available charges from this instance and any contained items.  <a href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">More...</a><br /></td></tr>
<tr class="separator:a517e20b6f6c13b8316d5cce8e310b871 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f314e4c2cf16dde306d92b73a60ff9f inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">amount_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, bool pseudo=true, int limit=INT_MAX, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="memdesc:a0f314e4c2cf16dde306d92b73a60ff9f inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count items matching id including both this instance and any contained items.  <a href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">More...</a><br /></td></tr>
<tr class="separator:a0f314e4c2cf16dde306d92b73a60ff9f inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50bc4422d4636a70a97d41787f22d0d inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="memdesc:ac50bc4422d4636a70a97d41787f22d0d inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check instance provides at least qty of an item (.  <a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">More...</a><br /></td></tr>
<tr class="separator:ac50bc4422d4636a70a97d41787f22d0d inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter)</td></tr>
<tr class="memdesc:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all items (including those within a container) matching the filter.  <a href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">More...</a><br /></td></tr>
<tr class="separator:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e80572268abd951cf016d275febe4e6 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a3e80572268abd951cf016d275febe4e6">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter) const</td></tr>
<tr class="separator:a3e80572268abd951cf016d275febe4e6 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d5eb61d79aa5a1ff06375288600796 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">remove_items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter, int count=INT_MAX)</td></tr>
<tr class="memdesc:a82d5eb61d79aa5a1ff06375288600796 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes items contained by this instance which match the filter.  <a href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">More...</a><br /></td></tr>
<tr class="separator:a82d5eb61d79aa5a1ff06375288600796 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a> (<a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes and returns the item which must be contained by this instance.  <a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">More...</a><br /></td></tr>
<tr class="separator:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a843e57d31c5f26b3300b607446c8b860"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a843e57d31c5f26b3300b607446c8b860">make_corpse</a> (const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> &amp;mt=<a class="el" href="classstring__id.html">string_id</a>&lt; <a class="el" href="structmtype.html">mtype</a> &gt;::NULL_ID(), <a class="el" href="classtime__point.html">time_point</a> turn=<a class="el" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, const std::string &amp;name=&quot;&quot;, int upgrade_time=-1)</td></tr>
<tr class="memdesc:a843e57d31c5f26b3300b607446c8b860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a corpse of the given monster type.  <a href="classitem.html#a843e57d31c5f26b3300b607446c8b860">More...</a><br /></td></tr>
<tr class="separator:a843e57d31c5f26b3300b607446c8b860"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Bionics / CBMs</h2></td></tr>
<tr><td class="ititle" colspan="2"><p ><a class="anchor" id="amgrp17c4ce6f20caa44f56076cbde94d9910"></a>Functions specific to CBMs </p>
</td></tr>
<tr class="memitem:a952452b603e34038ff8dff7ed9422a9c"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9c">sizing</a> { <br />
&#160;&#160;<a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca781d038afb4ccd0fb1b2085adfefd1c3">human_sized_human_char</a> = 0
, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c">big_sized_human_char</a>
, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">small_sized_human_char</a>
, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3c281ac6effc3982eea0c56df3fe766">big_sized_big_char</a>
, <br />
&#160;&#160;<a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">human_sized_big_char</a>
, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">small_sized_big_char</a>
, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca096d4645ed938b760b6111684abd8c4c">small_sized_small_char</a>
, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">human_sized_small_char</a>
, <br />
&#160;&#160;<a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">big_sized_small_char</a>
, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca19ec7d24c824f147bac48b71faa18af4">not_wearable</a>
<br />
 }</td></tr>
<tr class="separator:a952452b603e34038ff8dff7ed9422a9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109dfb20d6dac296bab6c44db0f8ab1a"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a> = INT_MAX</td></tr>
<tr class="separator:a109dfb20d6dac296bab6c44db0f8ab1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d2c4c33b8a499812f3437cb2fad742"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structitype.html">itype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a></td></tr>
<tr class="separator:ac1d2c4c33b8a499812f3437cb2fad742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4afe851abb42cbff0857065860f96e0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__contents.html">item_contents</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a></td></tr>
<tr class="separator:a4afe851abb42cbff0857065860f96e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891e49f36521b955b9ad58817ddf65d8"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a></td></tr>
<tr class="separator:a891e49f36521b955b9ad58817ddf65d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12a6fa8aac1350f3ca4362a1bdccd9b0"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a></td></tr>
<tr class="memdesc:a12a6fa8aac1350f3ca4362a1bdccd9b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">What faults (if any) currently apply to this item.  <a href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">More...</a><br /></td></tr>
<tr class="separator:a12a6fa8aac1350f3ca4362a1bdccd9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf9c2960c915fece8d94fcb7fe825e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html#a8dc4dc3c88665a905f8bed08cfa52e74">FlagsSetType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a></td></tr>
<tr class="separator:addf9c2960c915fece8d94fcb7fe825e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bfb92ab5d41e0eb3a1da160fac71b0e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a></td></tr>
<tr class="separator:a6bfb92ab5d41e0eb3a1da160fac71b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa037d122821f2c41b52b1e0b061fd4f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a></td></tr>
<tr class="separator:aa037d122821f2c41b52b1e0b061fd4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e5a27a821edd75162d46364a24699b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae6e5a27a821edd75162d46364a24699b">recipe_charges</a> = 1</td></tr>
<tr class="separator:ae6e5a27a821edd75162d46364a24699b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb1bc14a138ea0ea0b6883d4105a322"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> = 0</td></tr>
<tr class="separator:a1fb1bc14a138ea0ea0b6883d4105a322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f276bdd47b29bc1649dce5c64cbe433"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> = 0</td></tr>
<tr class="separator:a9f276bdd47b29bc1649dce5c64cbe433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16474656a39dfa7b0d89aec3345308f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad16474656a39dfa7b0d89aec3345308f">frequency</a> = 0</td></tr>
<tr class="separator:ad16474656a39dfa7b0d89aec3345308f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa475db2839de54a872f47b7c238e214a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa475db2839de54a872f47b7c238e214a">snip_id</a> = <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">snippet_id::NULL_ID</a>()</td></tr>
<tr class="separator:aa475db2839de54a872f47b7c238e214a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a663816619c55096d7e2736484047ce5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a663816619c55096d7e2736484047ce5a">irradiation</a> = 0</td></tr>
<tr class="separator:a663816619c55096d7e2736484047ce5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ff6ac1e7657b7b8525140669744a28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = 0</td></tr>
<tr class="separator:ac5ff6ac1e7657b7b8525140669744a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49c75e996c7d943b09c3c427b519088"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab49c75e996c7d943b09c3c427b519088">mission_id</a> = -1</td></tr>
<tr class="separator:ab49c75e996c7d943b09c3c427b519088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7bbdd2a2150b21f4a56f73b6d69573"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3a7bbdd2a2150b21f4a56f73b6d69573">player_id</a> = -1</td></tr>
<tr class="separator:a3a7bbdd2a2150b21f4a56f73b6d69573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea7dc9d3bada7236e263edf7f1fd15f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a1ea7dc9d3bada7236e263edf7f1fd15f">encumbrance_update_</a> = false</td></tr>
<tr class="separator:a1ea7dc9d3bada7236e263edf7f1fd15f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38d78ce6d128f6c7a1999b7f9e00965"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = 0</td></tr>
<tr class="separator:af38d78ce6d128f6c7a1999b7f9e00965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2993eb10a5ae589e6bb1be0a74cb65c1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = false</td></tr>
<tr class="separator:a2993eb10a5ae589e6bb1be0a74cb65c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c24ca1052a7a8cb9fd314acdb49f40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> = false</td></tr>
<tr class="separator:a05c24ca1052a7a8cb9fd314acdb49f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33723e0f137c71ede829c8a47dedde8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classitem__drop__token.html">item_drop_token</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a33723e0f137c71ede829c8a47dedde8a">drop_token</a></td></tr>
<tr class="memdesc:a33723e0f137c71ede829c8a47dedde8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Two items are dropped in same "batch" if they have identical drop tokens Ideally, this would be stored outside item class.  <a href="classitem.html#a33723e0f137c71ede829c8a47dedde8a">More...</a><br /></td></tr>
<tr class="separator:a33723e0f137c71ede829c8a47dedde8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700374a9cb11d479855b03b4eff408e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsafe__reference__anchor.html">safe_reference_anchor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a700374a9cb11d479855b03b4eff408e3">anchor</a></td></tr>
<tr class="separator:a700374a9cb11d479855b03b4eff408e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa86cd97b869ce264bf1d6141e0a4048"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structitype.html">itype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> = nullptr</td></tr>
<tr class="separator:afa86cd97b869ce264bf1d6141e0a4048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a1f133775f8a53a0faa3ec34b5acf4"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a></td></tr>
<tr class="separator:ad1a1f133775f8a53a0faa3ec34b5acf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa097a63b84424c4d19dd1e5581e4711d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structmtype.html">mtype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> = nullptr</td></tr>
<tr class="separator:aa097a63b84424c4d19dd1e5581e4711d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e0d727dd759f898591df93162b8614"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae6e0d727dd759f898591df93162b8614">corpse_name</a></td></tr>
<tr class="separator:ae6e0d727dd759f898591df93162b8614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3777e432e98805820880d8f2feca087"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a></td></tr>
<tr class="separator:ad3777e432e98805820880d8f2feca087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622ee79075b1be44b58c5d752ab52241"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="classitem_1_1craft__data.html">craft_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a></td></tr>
<tr class="separator:a622ee79075b1be44b58c5d752ab52241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30c1b0547a59fb9bb199ed36fb49b21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="classrelic.html">relic</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a></td></tr>
<tr class="separator:ae30c1b0547a59fb9bb199ed36fb49b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c3ef3dfce7b7e230016ea98af4520a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> = 0_turns</td></tr>
<tr class="memdesc:a69c3ef3dfce7b7e230016ea98af4520a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulated rot, expressed as time the item has been in standard temperature.  <a href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">More...</a><br /></td></tr>
<tr class="separator:a69c3ef3dfce7b7e230016ea98af4520a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6d81a20390e08bf7dec4d05cb118592"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> = <a class="el" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a></td></tr>
<tr class="memdesc:ab6d81a20390e08bf7dec4d05cb118592"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time when the rot calculation was last performed.  <a href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">More...</a><br /></td></tr>
<tr class="separator:ab6d81a20390e08bf7dec4d05cb118592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628659a14a3b57d0627ddd5093e94147"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a></td></tr>
<tr class="memdesc:a628659a14a3b57d0627ddd5093e94147"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time the item was created.  <a href="classitem.html#a628659a14a3b57d0627ddd5093e94147">More...</a><br /></td></tr>
<tr class="separator:a628659a14a3b57d0627ddd5093e94147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f4a009afa1b3adbe1136f0cb65c43ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a> = <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">faction_id::NULL_ID</a>()</td></tr>
<tr class="separator:a9f4a009afa1b3adbe1136f0cb65c43ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155a45ada3eb970d006b701a50026c27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a155a45ada3eb970d006b701a50026c27">old_owner</a> = <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">faction_id::NULL_ID</a>()</td></tr>
<tr class="separator:a155a45ada3eb970d006b701a50026c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f99d7d290f31e5da8c37f10ebc0d31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> = 0</td></tr>
<tr class="separator:ac4f99d7d290f31e5da8c37f10ebc0d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811dfbca1ec2cd86b6b4de809c642fe8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlight__emission.html">light_emission</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a> = <a class="el" href="item_8h.html#a42c61c45a7c529e35bbd74c72b32a9ee">nolight</a></td></tr>
<tr class="separator:a811dfbca1ec2cd86b6b4de809c642fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47689c581570bdc5402297a2802428ed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a47689c581570bdc5402297a2802428ed">is_upgrade</a> () const</td></tr>
<tr class="memdesc:a47689c581570bdc5402297a2802428ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the CBM is an upgrade to another bionic module.  <a href="classitem.html#a47689c581570bdc5402297a2802428ed">More...</a><br /></td></tr>
<tr class="separator:a47689c581570bdc5402297a2802428ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe000c27bcec09d0f4aa4cc84e3c3978"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#afe000c27bcec09d0f4aa4cc84e3c3978">has_use</a> () const</td></tr>
<tr class="memdesc:afe000c27bcec09d0f4aa4cc84e3c3978"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the item has any use function.  <a href="classitem.html#afe000c27bcec09d0f4aa4cc84e3c3978">More...</a><br /></td></tr>
<tr class="separator:afe000c27bcec09d0f4aa4cc84e3c3978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71dac02bae8b97487391d5540a89bc1c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structuse__function.html">use_function</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a71dac02bae8b97487391d5540a89bc1c">get_use</a> (const std::string &amp;use_name) const</td></tr>
<tr class="memdesc:a71dac02bae8b97487391d5540a89bc1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pointer to <a class="el" href="structuse__function.html">use_function</a> with name use_name assigned to the type of this item or any of its contents.  <a href="classitem.html#a71dac02bae8b97487391d5540a89bc1c">More...</a><br /></td></tr>
<tr class="separator:a71dac02bae8b97487391d5540a89bc1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a230c9ca0754cc8999c7d0136c93a5441"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a230c9ca0754cc8999c7d0136c93a5441">get_usable_item</a> (const std::string &amp;use_name)</td></tr>
<tr class="memdesc:a230c9ca0754cc8999c7d0136c93a5441"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks this item and its contents (recursively) for types that have <a class="el" href="structuse__function.html">use_function</a> with type use_name.  <a href="classitem.html#a230c9ca0754cc8999c7d0136c93a5441">More...</a><br /></td></tr>
<tr class="separator:a230c9ca0754cc8999c7d0136c93a5441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36fa768f1f7579a92b2bdd07bda4d27"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa36fa768f1f7579a92b2bdd07bda4d27">units_remaining</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;ch, int limit=INT_MAX) const</td></tr>
<tr class="memdesc:aa36fa768f1f7579a92b2bdd07bda4d27"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many units (ammo or charges) are remaining?  <a href="classitem.html#aa36fa768f1f7579a92b2bdd07bda4d27">More...</a><br /></td></tr>
<tr class="separator:aa36fa768f1f7579a92b2bdd07bda4d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a634d3c1aa2ea065c17af5cabb51b318e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;ch, int qty=-1) const</td></tr>
<tr class="memdesc:a634d3c1aa2ea065c17af5cabb51b318e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if item has sufficient units (ammo or charges) remaining.  <a href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">More...</a><br /></td></tr>
<tr class="separator:a634d3c1aa2ea065c17af5cabb51b318e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6480d7f6764d23547ce4a504b11954b5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a6480d7f6764d23547ce4a504b11954b5">get_corpse_name</a> ()</td></tr>
<tr class="memdesc:a6480d7f6764d23547ce4a504b11954b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns name of deceased being if it had any or empty string if not.  <a href="classitem.html#a6480d7f6764d23547ce4a504b11954b5">More...</a><br /></td></tr>
<tr class="separator:a6480d7f6764d23547ce4a504b11954b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9aa2c661ddeda4247546528984a1d3d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad9aa2c661ddeda4247546528984a1d3d">has_label</a> () const</td></tr>
<tr class="memdesc:ad9aa2c661ddeda4247546528984a1d3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if item has "item_label" itemvar.  <a href="classitem.html#ad9aa2c661ddeda4247546528984a1d3d">More...</a><br /></td></tr>
<tr class="separator:ad9aa2c661ddeda4247546528984a1d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c8778dade87019e972367a594b68d8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a87c8778dade87019e972367a594b68d8">label</a> (unsigned int quantity=0) const</td></tr>
<tr class="memdesc:a87c8778dade87019e972367a594b68d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns label from "item_label" itemvar and quantity.  <a href="classitem.html#a87c8778dade87019e972367a594b68d8">More...</a><br /></td></tr>
<tr class="separator:a87c8778dade87019e972367a594b68d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a310539e1dbfb640f2b23796a40c881f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a310539e1dbfb640f2b23796a40c881f2">has_infinite_charges</a> () const</td></tr>
<tr class="separator:a310539e1dbfb640f2b23796a40c881f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a768ea4fe5f4b0b5054a91c4bab1a5bab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a768ea4fe5f4b0b5054a91c4bab1a5bab">contextualize_skill</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;id) const</td></tr>
<tr class="memdesc:a768ea4fe5f4b0b5054a91c4bab1a5bab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the skill in context of the item.  <a href="classitem.html#a768ea4fe5f4b0b5054a91c4bab1a5bab">More...</a><br /></td></tr>
<tr class="separator:a768ea4fe5f4b0b5054a91c4bab1a5bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf522557723e9d3342000d7589cead16"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#abf522557723e9d3342000d7589cead16">release_monster</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;target, int radius=0)</td></tr>
<tr class="separator:abf522557723e9d3342000d7589cead16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b2240199659bfe1bc99201615926a57"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a5b2240199659bfe1bc99201615926a57">contain_monster</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;target)</td></tr>
<tr class="separator:a5b2240199659bfe1bc99201615926a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66fcc8b7976e6c73904bdfbe5296c150"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">age</a> () const</td></tr>
<tr class="separator:a66fcc8b7976e6c73904bdfbe5296c150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55a5629e6fe769a7ac314c02d25ecef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab55a5629e6fe769a7ac314c02d25ecef">set_age</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;<a class="el" href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">age</a>)</td></tr>
<tr class="separator:ab55a5629e6fe769a7ac314c02d25ecef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac654c33b3e67bc06d01c5d3ee78f752c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac654c33b3e67bc06d01c5d3ee78f752c">legacy_fast_forward_time</a> ()</td></tr>
<tr class="separator:ac654c33b3e67bc06d01c5d3ee78f752c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b9bb1181827a365eb83d935c663677"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a> () const</td></tr>
<tr class="separator:a46b9bb1181827a365eb83d935c663677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30120d067eb1fe9921fdf2de395b53b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a30120d067eb1fe9921fdf2de395b53b1">set_birthday</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;<a class="el" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a>)</td></tr>
<tr class="separator:a30120d067eb1fe9921fdf2de395b53b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9113a7b590ad5a3d343de910de33aff2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9113a7b590ad5a3d343de910de33aff2">handle_pickup_ownership</a> (<a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>)</td></tr>
<tr class="separator:a9113a7b590ad5a3d343de910de33aff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6bd135500675d45eb9b79b196d9558e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af6bd135500675d45eb9b79b196d9558e">get_gun_ups_drain</a> () const</td></tr>
<tr class="separator:af6bd135500675d45eb9b79b196d9558e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381a3d667caa4c26c8961fd08f3c5a7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a381a3d667caa4c26c8961fd08f3c5a7f">validate_ownership</a> () const</td></tr>
<tr class="separator:a381a3d667caa4c26c8961fd08f3c5a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a3777436f5b6b0fac303100451a42f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a72a3777436f5b6b0fac303100451a42f">set_old_owner</a> (const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;temp_owner)</td></tr>
<tr class="separator:a72a3777436f5b6b0fac303100451a42f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c8e850e9700f46d933b86dc4ef3aa2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3c8e850e9700f46d933b86dc4ef3aa2b">remove_old_owner</a> () const</td></tr>
<tr class="separator:a3c8e850e9700f46d933b86dc4ef3aa2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51b9b2950e9ea68811bffb5635911c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa51b9b2950e9ea68811bffb5635911c6">set_owner</a> (const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;new_owner)</td></tr>
<tr class="separator:aa51b9b2950e9ea68811bffb5635911c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb29e5bc20e230588356abad6cc9f363"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adb29e5bc20e230588356abad6cc9f363">set_owner</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>)</td></tr>
<tr class="separator:adb29e5bc20e230588356abad6cc9f363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41b668b8e4cd352077e032d4e152f365"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a41b668b8e4cd352077e032d4e152f365">remove_owner</a> () const</td></tr>
<tr class="separator:a41b668b8e4cd352077e032d4e152f365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a326dae8709070c316f6859ef0704bf85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a326dae8709070c316f6859ef0704bf85">get_owner</a> () const</td></tr>
<tr class="separator:a326dae8709070c316f6859ef0704bf85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0d353c3b6df035982eab3dc22d0b196"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab0d353c3b6df035982eab3dc22d0b196">get_old_owner</a> () const</td></tr>
<tr class="separator:ab0d353c3b6df035982eab3dc22d0b196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b35b9066ad71987b77727af45d96059"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0b35b9066ad71987b77727af45d96059">is_owned_by</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, bool available_to_take=false) const</td></tr>
<tr class="separator:a0b35b9066ad71987b77727af45d96059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d85d48a0b3ca00ee3a68db59046c7c8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a4d85d48a0b3ca00ee3a68db59046c7c8">is_old_owner</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, bool available_to_take=false) const</td></tr>
<tr class="separator:a4d85d48a0b3ca00ee3a68db59046c7c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae490218700ff9658235247b46ba75a56"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae490218700ff9658235247b46ba75a56">get_owner_name</a> () const</td></tr>
<tr class="separator:ae490218700ff9658235247b46ba75a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2899a37f781e1efea9465a98277141c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a2899a37f781e1efea9465a98277141c7">get_min_str</a> () const</td></tr>
<tr class="separator:a2899a37f781e1efea9465a98277141c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411163e892e27c57b802d0d015c05162"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="structislot__comestible.html">islot_comestible</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a> () const</td></tr>
<tr class="separator:a411163e892e27c57b802d0d015c05162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a685baa0530bf9e4cb57c2cea27ed332b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a685baa0530bf9e4cb57c2cea27ed332b">get_making</a> () const</td></tr>
<tr class="memdesc:a685baa0530bf9e4cb57c2cea27ed332b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the stored recipe for in progress crafts.  <a href="classitem.html#a685baa0530bf9e4cb57c2cea27ed332b">More...</a><br /></td></tr>
<tr class="separator:a685baa0530bf9e4cb57c2cea27ed332b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52c68a1c6d56a8cbebfd619d0768b45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab52c68a1c6d56a8cbebfd619d0768b45">get_next_failure_point</a> () const</td></tr>
<tr class="memdesc:ab52c68a1c6d56a8cbebfd619d0768b45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the failure point stored in this item.  <a href="classitem.html#ab52c68a1c6d56a8cbebfd619d0768b45">More...</a><br /></td></tr>
<tr class="separator:ab52c68a1c6d56a8cbebfd619d0768b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f745513af67ccd8ddb45dec5d6a7263"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9f745513af67ccd8ddb45dec5d6a7263">set_next_failure_point</a> (const <a class="el" href="classplayer.html">player</a> &amp;crafter)</td></tr>
<tr class="memdesc:a9f745513af67ccd8ddb45dec5d6a7263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates and sets the next failure point for an in progress craft.  <a href="classitem.html#a9f745513af67ccd8ddb45dec5d6a7263">More...</a><br /></td></tr>
<tr class="separator:a9f745513af67ccd8ddb45dec5d6a7263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258fa3ae64c9e3c0b73101a816e8f653"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a258fa3ae64c9e3c0b73101a816e8f653">handle_craft_failure</a> (<a class="el" href="classplayer.html">player</a> &amp;crafter)</td></tr>
<tr class="memdesc:a258fa3ae64c9e3c0b73101a816e8f653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle failure during crafting.  <a href="classitem.html#a258fa3ae64c9e3c0b73101a816e8f653">More...</a><br /></td></tr>
<tr class="separator:a258fa3ae64c9e3c0b73101a816e8f653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34e056f70813c85c5b4399cbbdf47f30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrequirement__data.html">requirement_data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a34e056f70813c85c5b4399cbbdf47f30">get_continue_reqs</a> () const</td></tr>
<tr class="memdesc:a34e056f70813c85c5b4399cbbdf47f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns requirement data representing what is needed to resume work on an in progress craft.  <a href="classitem.html#a34e056f70813c85c5b4399cbbdf47f30">More...</a><br /></td></tr>
<tr class="separator:a34e056f70813c85c5b4399cbbdf47f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada08330229a765662135756edf150787"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ada08330229a765662135756edf150787">inherit_flags</a> (const <a class="el" href="classitem.html">item</a> &amp;parent, const <a class="el" href="classrecipe.html">recipe</a> &amp;making)</td></tr>
<tr class="memdesc:ada08330229a765662135756edf150787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inherit applicable flags from the given parent item.  <a href="classitem.html#ada08330229a765662135756edf150787">More...</a><br /></td></tr>
<tr class="separator:ada08330229a765662135756edf150787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71fee8e49d9b7c800ad9ed02bd4a3e33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a71fee8e49d9b7c800ad9ed02bd4a3e33">inherit_flags</a> (const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;<a class="el" href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">parents</a>, const <a class="el" href="classrecipe.html">recipe</a> &amp;making)</td></tr>
<tr class="memdesc:a71fee8e49d9b7c800ad9ed02bd4a3e33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inherit applicable flags from the given list of parent items.  <a href="classitem.html#a71fee8e49d9b7c800ad9ed02bd4a3e33">More...</a><br /></td></tr>
<tr class="separator:a71fee8e49d9b7c800ad9ed02bd4a3e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb47151201f462dee6e622c061209431"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aeb47151201f462dee6e622c061209431">set_tools_to_continue</a> (bool value)</td></tr>
<tr class="separator:aeb47151201f462dee6e622c061209431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e46e5d8e0848d74bfb7ab606125cbbe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3e46e5d8e0848d74bfb7ab606125cbbe">has_tools_to_continue</a> () const</td></tr>
<tr class="separator:a3e46e5d8e0848d74bfb7ab606125cbbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadccb0c1de4ceaa2b75ccdf8b41f11be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aadccb0c1de4ceaa2b75ccdf8b41f11be">set_cached_tool_selections</a> (const std::vector&lt; <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &gt; &amp;selections)</td></tr>
<tr class="separator:aadccb0c1de4ceaa2b75ccdf8b41f11be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3650e3828a796997cf5fa2f21cb2ee18"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3650e3828a796997cf5fa2f21cb2ee18">get_cached_tool_selections</a> () const</td></tr>
<tr class="separator:a3650e3828a796997cf5fa2f21cb2ee18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d7889672228732cb7268d7e755ee8b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classenchantment.html">enchantment</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a30d7889672228732cb7268d7e755ee8b">get_enchantments</a> () const</td></tr>
<tr class="separator:a30d7889672228732cb7268d7e755ee8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6814057c8b903697652ab87e8a708d2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa6814057c8b903697652ab87e8a708d2">bonus_from_enchantments</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a>, double base, <a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a> value, bool round=false) const</td></tr>
<tr class="memdesc:aa6814057c8b903697652ab87e8a708d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate bonus from enchantments that affect this item only.  <a href="classitem.html#aa6814057c8b903697652ab87e8a708d2">More...</a><br /></td></tr>
<tr class="separator:aa6814057c8b903697652ab87e8a708d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0970f0b8f54c23b1a7b7a20171485535"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a0970f0b8f54c23b1a7b7a20171485535">bonus_from_enchantments_wielded</a> (double base, <a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a> value, bool round=false) const</td></tr>
<tr class="memdesc:a0970f0b8f54c23b1a7b7a20171485535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate bonus from enchantments that affect this item only, assume it's wielded and all enchantments' conditions are satisfied.  <a href="classitem.html#a0970f0b8f54c23b1a7b7a20171485535">More...</a><br /></td></tr>
<tr class="separator:a0970f0b8f54c23b1a7b7a20171485535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab499c1bb4b2c55f0199f8509f6eff6a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9c">sizing</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ab499c1bb4b2c55f0199f8509f6eff6a3">get_sizing</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;, bool) const</td></tr>
<tr class="separator:ab499c1bb4b2c55f0199f8509f6eff6a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1f33d04abe5ec73a31213be8d0c44e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a9a1f33d04abe5ec73a31213be8d0c44e">set_favorite</a> (bool favorite)</td></tr>
<tr class="separator:a9a1f33d04abe5ec73a31213be8d0c44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1862bc5d5995e30dd224fab31d61f77"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ad1862bc5d5995e30dd224fab31d61f77">has_clothing_mod</a> () const</td></tr>
<tr class="separator:ad1862bc5d5995e30dd224fab31d61f77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487b1c2d4c6e05794c446b231f39d6e8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a487b1c2d4c6e05794c446b231f39d6e8">get_clothing_mod_val</a> (<a class="el" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152">clothing_mod_type</a> <a class="el" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>) const</td></tr>
<tr class="separator:a487b1c2d4c6e05794c446b231f39d6e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbfe451148cddb54b8b4443bf85fe670"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#adbfe451148cddb54b8b4443bf85fe670">update_clothing_mod_val</a> ()</td></tr>
<tr class="separator:adbfe451148cddb54b8b4443bf85fe670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a438855ffd52d33307e1dfba6d607535b"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">nname</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id, unsigned int quantity=1)</td></tr>
<tr class="memdesc:a438855ffd52d33307e1dfba6d607535b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the translated item name for the item with given id.  <a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">More...</a><br /></td></tr>
<tr class="separator:a438855ffd52d33307e1dfba6d607535b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac239a6d2e48b4dcf6703c20bbce575c5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ac239a6d2e48b4dcf6703c20bbce575c5">count_by_charges</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id)</td></tr>
<tr class="memdesc:ac239a6d2e48b4dcf6703c20bbce575c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the item is counted by charges, this is a static wrapper around <a class="el" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>, that does not need an items instance.  <a href="classitem.html#ac239a6d2e48b4dcf6703c20bbce575c5">More...</a><br /></td></tr>
<tr class="separator:ac239a6d2e48b4dcf6703c20bbce575c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e4b0dafdccaf9006cb1b4c36f70c8a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a50e4b0dafdccaf9006cb1b4c36f70c8a">use_amount_internal</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int &amp;quantity, std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;used, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;)</td></tr>
<tr class="separator:a50e4b0dafdccaf9006cb1b4c36f70c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33012849b7bf7ea24b61a1dbf6b90ad1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structuse__function.html">use_function</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a33012849b7bf7ea24b61a1dbf6b90ad1">get_use_internal</a> (const std::string &amp;use_name) const</td></tr>
<tr class="separator:a33012849b7bf7ea24b61a1dbf6b90ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca73b6d869d64fd46376dc32dcffb2fd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aca73b6d869d64fd46376dc32dcffb2fd">process_internal</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos, bool <a class="el" href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">activate</a>, float insulation=1, bool seals=false, <a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5d">temperature_flag</a> flag=<a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da1c0c1c880058ab81dac39f56cedc8a79">temperature_flag::TEMP_NORMAL</a>)</td></tr>
<tr class="separator:aca73b6d869d64fd46376dc32dcffb2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ebc64c776aa69b9bf3f64c605cc6a26"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a3ebc64c776aa69b9bf3f64c605cc6a26">is_reloadable_helper</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;ammo, bool now) const</td></tr>
<tr class="memdesc:a3ebc64c776aa69b9bf3f64c605cc6a26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for checking reloadability.  <a href="classitem.html#a3ebc64c776aa69b9bf3f64c605cc6a26">More...</a><br /></td></tr>
<tr class="separator:a3ebc64c776aa69b9bf3f64c605cc6a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629a312be57d8c99afe6e33c121a6a42"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a629a312be57d8c99afe6e33c121a6a42">process_corpse</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:a629a312be57d8c99afe6e33c121a6a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670b5799a0ea99491b85a3dc0a98cfe1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a670b5799a0ea99491b85a3dc0a98cfe1">process_wet</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:a670b5799a0ea99491b85a3dc0a98cfe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d9c39cc033759b0b2a1aeecf5769d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a98d9c39cc033759b0b2a1aeecf5769d8">process_litcig</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:a98d9c39cc033759b0b2a1aeecf5769d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28340a5be2ab809dc235a6e7359aeca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#aa28340a5be2ab809dc235a6e7359aeca">process_extinguish</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:aa28340a5be2ab809dc235a6e7359aeca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2a958bfc74465f63a95f3c80a0ae6bd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#ae2a958bfc74465f63a95f3c80a0ae6bd">process_fake_smoke</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:ae2a958bfc74465f63a95f3c80a0ae6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2ff44acab6f883e39eb06550e7922a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a2f2ff44acab6f883e39eb06550e7922a">process_fake_mill</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:a2f2ff44acab6f883e39eb06550e7922a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55f0e28669555cdce3c34cafba31d24"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af55f0e28669555cdce3c34cafba31d24">process_cable</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:af55f0e28669555cdce3c34cafba31d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a0b4c38cb3eb36837e27f4196bd3ff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a35a0b4c38cb3eb36837e27f4196bd3ff">process_UPS</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:a35a0b4c38cb3eb36837e27f4196bd3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8423c5996cdb88ce29dbf762419434b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#a8423c5996cdb88ce29dbf762419434b3">process_blackpowder_fouling</a> (<a class="el" href="classplayer.html">player</a> *carrier)</td></tr>
<tr class="separator:a8423c5996cdb88ce29dbf762419434b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3730dd4dab7e9f1997f4315cd8a4a69"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem.html#af3730dd4dab7e9f1997f4315cd8a4a69">process_tool</a> (<a class="el" href="classplayer.html">player</a> *carrier, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:af3730dd4dab7e9f1997f4315cd8a4a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header related_classvisitable"><td colspan="2" onclick="javascript:toggleInherit('related_classvisitable')"><img src="closed.png" alt="-"/>&#160;Related Functions inherited from <a class="el" href="classvisitable.html">visitable&lt; item &gt;</a></td></tr>
<tr class="memitem:a7c8b0524942b1d34dc190302ae3b0d71 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a7c8b0524942b1d34dc190302ae3b0d71">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *, const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:a7c8b0524942b1d34dc190302ae3b0d71 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842be09c3c513fd6986cef86dad80e3b inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a842be09c3c513fd6986cef86dad80e3b">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:a842be09c3c513fd6986cef86dad80e3b inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada3af0265cfce2d9aca1be92c292b1db inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ada3af0265cfce2d9aca1be92c292b1db">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="separator:ada3af0265cfce2d9aca1be92c292b1db inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5914edcae7670009cc06616fd33fe3f inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aa5914edcae7670009cc06616fd33fe3f">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="separator:aa5914edcae7670009cc06616fd33fe3f inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b96b0547d18f21e0d55f43905a810f6 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a6b96b0547d18f21e0d55f43905a810f6">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="separator:a6b96b0547d18f21e0d55f43905a810f6 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c4c66230a872cb5777f3bce1b745ad inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a91c4c66230a872cb5777f3bce1b745ad">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a91c4c66230a872cb5777f3bce1b745ad inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a45c435a3ce302bf1c1206033727ba8 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a8a45c435a3ce302bf1c1206033727ba8">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="separator:a8a45c435a3ce302bf1c1206033727ba8 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af70ae01ea4ef3165dc21f52108897636 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#af70ae01ea4ef3165dc21f52108897636">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:af70ae01ea4ef3165dc21f52108897636 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4e7da175b68a48e9186cdfe48900aa inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a2e4e7da175b68a48e9186cdfe48900aa">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter)</td></tr>
<tr class="separator:a2e4e7da175b68a48e9186cdfe48900aa inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6730ead8740d2b2c3c33d33ce69f6926 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a6730ead8740d2b2c3c33d33ce69f6926">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter) const</td></tr>
<tr class="separator:a6730ead8740d2b2c3c33d33ce69f6926 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43defd8edf8aecf5b04da50c75fdda56 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a43defd8edf8aecf5b04da50c75fdda56">remove_items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;e)&gt; &amp;filter, int count)</td></tr>
<tr class="separator:a43defd8edf8aecf5b04da50c75fdda56 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l00175">175</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a6498ad8a0aeb2686b68278663a60abdb" name="a6498ad8a0aeb2686b68278663a60abdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6498ad8a0aeb2686b68278663a60abdb">&#9670;&nbsp;</a></span>archive_type_tag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classitem.html#a6498ad8a0aeb2686b68278663a60abdb">item::archive_type_tag</a> =  <a class="el" href="structio_1_1object__archive__tag.html">io::object_archive_tag</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l00512">512</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

</div>
</div>
<a id="a8dc4dc3c88665a905f8bed08cfa52e74" name="a8dc4dc3c88665a905f8bed08cfa52e74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dc4dc3c88665a905f8bed08cfa52e74">&#9670;&nbsp;</a></span>FlagsSetType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classitem.html#a8dc4dc3c88665a905f8bed08cfa52e74">item::FlagsSetType</a> =  <a class="el" href="classcata_1_1flat__set.html">cata::flat_set</a>&lt;std::string&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l00178">178</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a952452b603e34038ff8dff7ed9422a9c" name="a952452b603e34038ff8dff7ed9422a9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952452b603e34038ff8dff7ed9422a9c">&#9670;&nbsp;</a></span>sizing</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9c">item::sizing</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a952452b603e34038ff8dff7ed9422a9ca781d038afb4ccd0fb1b2085adfefd1c3" name="a952452b603e34038ff8dff7ed9422a9ca781d038afb4ccd0fb1b2085adfefd1c3"></a>human_sized_human_char&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c" name="a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c"></a>big_sized_human_char&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729" name="a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729"></a>small_sized_human_char&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a952452b603e34038ff8dff7ed9422a9cae3c281ac6effc3982eea0c56df3fe766" name="a952452b603e34038ff8dff7ed9422a9cae3c281ac6effc3982eea0c56df3fe766"></a>big_sized_big_char&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26" name="a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26"></a>human_sized_big_char&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc" name="a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc"></a>small_sized_big_char&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a952452b603e34038ff8dff7ed9422a9ca096d4645ed938b760b6111684abd8c4c" name="a952452b603e34038ff8dff7ed9422a9ca096d4645ed938b760b6111684abd8c4c"></a>small_sized_small_char&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa" name="a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa"></a>human_sized_small_char&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2" name="a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2"></a>big_sized_small_char&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a952452b603e34038ff8dff7ed9422a9ca19ec7d24c824f147bac48b71faa18af4" name="a952452b603e34038ff8dff7ed9422a9ca19ec7d24c824f147bac48b71faa18af4"></a>not_wearable&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02122">2122</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>                          {</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>            human_sized_human_char = 0,</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>            big_sized_human_char,</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>            small_sized_human_char,</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>            big_sized_big_char,</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>            human_sized_big_char,</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>            small_sized_big_char,</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>            small_sized_small_char,</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>            human_sized_small_char,</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>            big_sized_small_char,</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>            not_wearable</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>        };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a344fbf6e3db0d59e0c8ac75cd42ee144" name="a344fbf6e3db0d59e0c8ac75cd42ee144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a344fbf6e3db0d59e0c8ac75cd42ee144">&#9670;&nbsp;</a></span>item() <span class="overload">[1/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00362">362</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>           : <a class="code hl_variable" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a>( <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a> )</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>{</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> = <a class="code hl_function" href="item_8cpp.html#a71c3ab2a827644e9b10142c83b59c6da">nullitem</a>();</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 0;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>}</div>
<div class="ttc" id="aclassitem_html_a628659a14a3b57d0627ddd5093e94147"><div class="ttname"><a href="classitem.html#a628659a14a3b57d0627ddd5093e94147">item::bday</a></div><div class="ttdeci">time_point bday</div><div class="ttdoc">The time the item was created.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02223">item.h:2223</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02195">item.h:2195</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02156">item.h:2156</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a71c3ab2a827644e9b10142c83b59c6da"><div class="ttname"><a href="item_8cpp.html#a71c3ab2a827644e9b10142c83b59c6da">nullitem</a></div><div class="ttdeci">static const itype * nullitem()</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00313">item.cpp:313</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ab01178b933b4f1c62bd75b2edfdbaf79"><div class="ttname"><a href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a></div><div class="ttdeci">const time_point &amp; start_of_cataclysm</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00033">calendar.cpp:33</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8cpp_source.html#l00313">nullitem()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="weather_8cpp_source.html#l00211">add_rain_to_container()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, and <a class="el" href="item_8cpp_source.html#l00718">split()</a>.</p>

</div>
</div>
<a id="ab99024530efb52acb7b9121b9fd9d64e" name="ab99024530efb52acb7b9121b9fd9d64e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab99024530efb52acb7b9121b9fd9d64e">&#9670;&nbsp;</a></span>item() <span class="overload">[2/11]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aeb9a02eab7e555a7bdf1326c9cbdf82e" name="aeb9a02eab7e555a7bdf1326c9cbdf82e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb9a02eab7e555a7bdf1326c9cbdf82e">&#9670;&nbsp;</a></span>item() <span class="overload">[3/11]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a524c47b7b5d92cdb4a89f3f80c688697" name="a524c47b7b5d92cdb4a89f3f80c688697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a524c47b7b5d92cdb4a89f3f80c688697">&#9670;&nbsp;</a></span>item() <span class="overload">[4/11]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__point.html">time_point</a>&#160;</td>
          <td class="paramname"><em>turn</em> = <code><a class="el" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00428">428</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    : <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( &amp; * <span class="keywordtype">id</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a>, qty ) {}</div>
<div class="ttc" id="aclassitem_html_a344fbf6e3db0d59e0c8ac75cd42ee144"><div class="ttname"><a href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item::item</a></div><div class="ttdeci">item()</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00362">item.cpp:362</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0552d34d4de5a353fd4453f0ae51c52d" name="a0552d34d4de5a353fd4453f0ae51c52d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0552d34d4de5a353fd4453f0ae51c52d">&#9670;&nbsp;</a></span>item() <span class="overload">[5/11]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structitype.html">itype</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__point.html">time_point</a>&#160;</td>
          <td class="paramname"><em>turn</em> = <code><a class="el" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00368">368</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                                                        : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> ), <a class="code hl_variable" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> )</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>{</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> = <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE</a> ) ? &amp;<a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">mtype_id::NULL_ID</a>().<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#af4a7035d85d1258ac55efae66eea72eb">countdown_interval</a>;</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <span class="keywordflow">if</span>( qty &gt;= 0 ) {</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = qty;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;rand_charges.size() &gt; 1 ) {</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> charge_roll = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;rand_charges.size() - 1 );</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;rand_charges[charge_roll - 1], <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;rand_charges[charge_roll] );</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>            <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7a44fbc429e7e78283c414cb0edcc97c">charges_default</a>();</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>        }</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    }</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span> </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6b175561ae1d3359ae27da0fc0c7f391">flag_NANOFAB_TEMPLATE</a> ) ) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <a class="code hl_class" href="classstring__id.html">itype_id</a> nanofab_recipe = <a class="code hl_function" href="namespaceitem__group.html#ac3c103acdb13db1667ce38b1bc2bf8a1">item_group::item_from</a>( <a class="code hl_typedef" href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a>( <span class="stringliteral">&quot;nanofab_recipes&quot;</span> ) ).<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>();</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;NANOFAB_ITEM_ID&quot;</span>, nanofab_recipe.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> ) {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;built_in_mods ) {</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>            <a class="code hl_class" href="classitem.html">item</a> it( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a>, qty );</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>            it.set_flag( <span class="stringliteral">&quot;IRREMOVABLE&quot;</span> );</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>            <a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( it );</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>        }</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;default_mods ) {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>            <a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a>, qty ) );</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        }</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span> </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a> ) {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;count &gt; 0 ) {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>            <a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;default_ammo, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;count ) );</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        }</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() ) {</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> = <a class="code hl_variable" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span> </div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a> ) {</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().empty() ) {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>            <a class="code hl_function" href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">ammo_set</a>( <a class="code hl_function" href="classitem.html#ab07d96e30c441a84435972df842f4c77">ammo_default</a>(), <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() );</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>        }</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    }</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span> </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="keywordflow">if</span>( ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> || <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a> ) &amp;&amp; !<a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() ) {</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>        <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;magazine_converted&quot;</span>, 1 );</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    }</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a0a5d70cf8c883cd69f606eead503f322">snippet_category</a>.empty() ) {</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        <a class="code hl_variable" href="classitem.html#aa475db2839de54a872f47b7c238e214a">snip_id</a> = <a class="code hl_variable" href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a>.<a class="code hl_function" href="classsnippet__library.html#aff12dd426e9f0340f5e861ddd291cea3">random_id_from_category</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a0a5d70cf8c883cd69f606eead503f322">snippet_category</a> );</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="comment">// item always has any relic properties from itype.</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ab5ccbb62a76230f61c7047b0f4258ff4">relic_data</a> ) {</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>        <a class="code hl_variable" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ab5ccbb62a76230f61c7047b0f4258ff4">relic_data</a>;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>}</div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00175">item.h:176</a></div></div>
<div class="ttc" id="aclassitem_html_a26c025fd4909bd31c8e91ed87905507b"><div class="ttname"><a href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">item::ammo_remaining</a></div><div class="ttdeci">int ammo_remaining() const</div><div class="ttdoc">Quantity of ammunition currently loaded in tool, gun or auxiliary gunmod.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07226">item.cpp:7226</a></div></div>
<div class="ttc" id="aclassitem_html_a2993eb10a5ae589e6bb1be0a74cb65c1"><div class="ttname"><a href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">item::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02233">item.h:2233</a></div></div>
<div class="ttc" id="aclassitem_html_a3841e9e250af73e45b14d5bb3cc7a043"><div class="ttname"><a href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">item::put_in</a></div><div class="ttdeci">void put_in(const item &amp;payload)</div><div class="ttdoc">Puts the given item into this one, no checks are performed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00987">item.cpp:987</a></div></div>
<div class="ttc" id="aclassitem_html_a4938361b8fe897c4e85d66020ef91aff"><div class="ttname"><a href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">item::set_var</a></div><div class="ttdeci">void set_var(const std::string &amp;name, int value)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00992">item.cpp:992</a></div></div>
<div class="ttc" id="aclassitem_html_a6a3f16444c412bce4b75a7d600d6a3fe"><div class="ttname"><a href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">item::ammo_set</a></div><div class="ttdeci">item &amp; ammo_set(const itype_id &amp;ammo, int qty=-1)</div><div class="ttdoc">Filter setting the ammo for this instance Any existing ammo is removed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00587">item.cpp:587</a></div></div>
<div class="ttc" id="aclassitem_html_a9e073e3ce3fcc2e91bdaea5d603e798b"><div class="ttname"><a href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">item::goes_bad</a></div><div class="ttdeci">bool goes_bad() const</div><div class="ttdoc">whether an item is perishable (can rot)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05387">item.cpp:5387</a></div></div>
<div class="ttc" id="aclassitem_html_aa097a63b84424c4d19dd1e5581e4711d"><div class="ttname"><a href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">item::corpse</a></div><div class="ttdeci">const mtype * corpse</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02168">item.h:2168</a></div></div>
<div class="ttc" id="aclassitem_html_aa475db2839de54a872f47b7c238e214a"><div class="ttname"><a href="classitem.html#aa475db2839de54a872f47b7c238e214a">item::snip_id</a></div><div class="ttdeci">snippet_id snip_id</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02202">item.h:2202</a></div></div>
<div class="ttc" id="aclassitem_html_aa79dad64e1ef6347219be2f8666e2752"><div class="ttname"><a href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">item::typeId</a></div><div class="ttdeci">const itype_id &amp; typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08196">item.cpp:8196</a></div></div>
<div class="ttc" id="aclassitem_html_aa7e9319c5779e2e1c550158ee8a2cc98"><div class="ttname"><a href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">item::magazine_integral</a></div><div class="ttdeci">bool magazine_integral() const</div><div class="ttdoc">Does item have an integral magazine (as opposed to allowing detachable magazines)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07503">item.cpp:7503</a></div></div>
<div class="ttc" id="aclassitem_html_aaa5aeb6f838927babb10ede535cf2a73"><div class="ttname"><a href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">item::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05192">item.cpp:5192</a></div></div>
<div class="ttc" id="aclassitem_html_ab07d96e30c441a84435972df842f4c77"><div class="ttname"><a href="classitem.html#ab07d96e30c441a84435972df842f4c77">item::ammo_default</a></div><div class="ttdeci">itype_id ammo_default(bool conversion=true) const</div><div class="ttdoc">Get default ammo used by item or a null id if item does not have a default ammo type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07439">item.cpp:7439</a></div></div>
<div class="ttc" id="aclassitem_html_ab6d81a20390e08bf7dec4d05cb118592"><div class="ttname"><a href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">item::last_rot_check</a></div><div class="ttdeci">time_point last_rot_check</div><div class="ttdoc">Time when the rot calculation was last performed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02221">item.h:2221</a></div></div>
<div class="ttc" id="aclassitem_html_ac4f8c31c6aa17560f8f523290d568436"><div class="ttname"><a href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">item::ammo_types</a></div><div class="ttdeci">const std::set&lt; ammotype &gt; &amp; ammo_types(bool conversion=true) const</div><div class="ttdoc">Set of ammo types (ammunition_type) used by item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07408">item.cpp:7408</a></div></div>
<div class="ttc" id="aclassitem_html_ac5ff6ac1e7657b7b8525140669744a28"><div class="ttname"><a href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item::item_counter</a></div><div class="ttdeci">int item_counter</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02204">item.h:2204</a></div></div>
<div class="ttc" id="aclassitem_html_ae30c1b0547a59fb9bb199ed36fb49b21"><div class="ttname"><a href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">item::relic_data</a></div><div class="ttdeci">cata::value_ptr&lt; relic &gt; relic_data</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02193">item.h:2193</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_aff12dd426e9f0340f5e861ddd291cea3"><div class="ttname"><a href="classsnippet__library.html#aff12dd426e9f0340f5e861ddd291cea3">snippet_library::random_id_from_category</a></div><div class="ttdeci">snippet_id random_id_from_category(const std::string &amp;cat) const</div><div class="ttdoc">Returns the id of a random snippet out of the given category.</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00130">text_snippets.cpp:130</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; itype &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa7dabc565f0c067e1a237ea224b18f93"><div class="ttname"><a href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00255">string_id.h:255</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; mtype &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; mtype &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aitem_8cpp_html_a6b175561ae1d3359ae27da0fc0c7f391"><div class="ttname"><a href="item_8cpp.html#a6b175561ae1d3359ae27da0fc0c7f391">flag_NANOFAB_TEMPLATE</a></div><div class="ttdeci">static const std::string flag_NANOFAB_TEMPLATE(&quot;NANOFAB_TEMPLATE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a91b238005aeb2d80dac3fa7de669e797"><div class="ttname"><a href="item_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE</a></div><div class="ttdeci">static const std::string flag_CORPSE(&quot;CORPSE&quot;)</div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a></div><div class="ttdeci">mod</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00026">magic_enchantment.h:26</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_ac3c103acdb13db1667ce38b1bc2bf8a1"><div class="ttname"><a href="namespaceitem__group.html#ac3c103acdb13db1667ce38b1bc2bf8a1">item_group::item_from</a></div><div class="ttdeci">item item_from(const item_group_id &amp;group_id, const time_point &amp;birthday)</div><div class="ttdoc">Returns a random item from the item group, handles packaged food by putting it into its container and...</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00589">item_group.cpp:589</a></div></div>
<div class="ttc" id="astructitype_html_a0a5d70cf8c883cd69f606eead503f322"><div class="ttname"><a href="structitype.html#a0a5d70cf8c883cd69f606eead503f322">itype::snippet_category</a></div><div class="ttdeci">std::string snippet_category</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00907">itype.h:907</a></div></div>
<div class="ttc" id="astructitype_html_a623ec8243b1e599086fa3a23c3179370"><div class="ttname"><a href="structitype.html#a623ec8243b1e599086fa3a23c3179370">itype::gun</a></div><div class="ttdeci">cata::value_ptr&lt; islot_gun &gt; gun</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00857">itype.h:857</a></div></div>
<div class="ttc" id="astructitype_html_a62a6e70840cb0e484f8d61e273f440f4"><div class="ttname"><a href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">itype::tool</a></div><div class="ttdeci">cata::value_ptr&lt; islot_tool &gt; tool</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00847">itype.h:847</a></div></div>
<div class="ttc" id="astructitype_html_a7a44fbc429e7e78283c414cb0edcc97c"><div class="ttname"><a href="structitype.html#a7a44fbc429e7e78283c414cb0edcc97c">itype::charges_default</a></div><div class="ttdeci">int charges_default() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01078">itype.h:1078</a></div></div>
<div class="ttc" id="astructitype_html_ab5ccbb62a76230f61c7047b0f4258ff4"><div class="ttname"><a href="structitype.html#ab5ccbb62a76230f61c7047b0f4258ff4">itype::relic_data</a></div><div class="ttdeci">cata::value_ptr&lt; relic &gt; relic_data</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00865">itype.h:865</a></div></div>
<div class="ttc" id="astructitype_html_aba9992b8bc80b65d4153370b3e0755ec"><div class="ttname"><a href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">itype::magazine</a></div><div class="ttdeci">cata::value_ptr&lt; islot_magazine &gt; magazine</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00859">itype.h:859</a></div></div>
<div class="ttc" id="astructitype_html_af4a7035d85d1258ac55efae66eea72eb"><div class="ttname"><a href="structitype.html#af4a7035d85d1258ac55efae66eea72eb">itype::countdown_interval</a></div><div class="ttdeci">int countdown_interval</div><div class="ttdoc">Default countdown interval (if any) for item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00953">itype.h:953</a></div></div>
<div class="ttc" id="atext__snippets_8cpp_html_ac3fc11c159cd056aa15ad7c0b37b070a"><div class="ttname"><a href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a></div><div class="ttdeci">snippet_library SNIPPET</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00012">text_snippets.cpp:12</a></div></div>
<div class="ttc" id="atype__id_8h_html_ab297382ed4c098c03ee2b8d70cd8e483"><div class="ttname"><a href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a></div><div class="ttdeci">string_id&lt; Item_group &gt; item_group_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00070">type_id.h:70</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="item_8cpp_source.html#l07439">ammo_default()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8h_source.html#l02223">bday</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="itype_8h_source.html#l01078">itype::charges_default()</a>, <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="itype_8h_source.html#l00953">itype::countdown_interval</a>, <a class="el" href="item_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE()</a>, <a class="el" href="item_8cpp.html#a6b175561ae1d3359ae27da0fc0c7f391">flag_NANOFAB_TEMPLATE()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l00362">item()</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, <a class="el" href="item__group_8cpp_source.html#l00589">item_group::item_from()</a>, <a class="el" href="item_8h_source.html#l02221">last_rot_check</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; mtype &gt;::NULL_ID()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="item_8cpp_source.html#l00987">put_in()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00130">snippet_library::random_id_from_category()</a>, <a class="el" href="item_8h_source.html#l02193">relic_data</a>, <a class="el" href="itype_8h_source.html#l00865">itype::relic_data</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp_source.html#l05221">set_flag()</a>, <a class="el" href="item_8cpp_source.html#l00992">set_var()</a>, <a class="el" href="item_8h_source.html#l02202">snip_id</a>, <a class="el" href="text__snippets_8cpp_source.html#l00012">SNIPPET</a>, <a class="el" href="itype_8h_source.html#l00907">itype::snippet_category</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

</div>
</div>
<a id="a11e805b0342b5898fad45ba992c1b65b" name="a11e805b0342b5898fad45ba992c1b65b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11e805b0342b5898fad45ba992c1b65b">&#9670;&nbsp;</a></span>item() <span class="overload">[6/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__point.html">time_point</a>&#160;</td>
          <td class="paramname"><em>turn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structitem_1_1default__charges__tag.html">default_charges_tag</a>&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00434">434</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    : <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( &amp; * <span class="keywordtype">id</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a>, tag ) {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a074a384b1684658fdf19fb0f1b309ff8" name="a074a384b1684658fdf19fb0f1b309ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a074a384b1684658fdf19fb0f1b309ff8">&#9670;&nbsp;</a></span>item() <span class="overload">[7/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structitype.html">itype</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__point.html">time_point</a>&#160;</td>
          <td class="paramname"><em>turn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structitem_1_1default__charges__tag.html">default_charges_tag</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00431">431</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    : <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7a44fbc429e7e78283c414cb0edcc97c">charges_default</a>() ) {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a96d2b1e24ec86feebadff1973e9ba2ae" name="a96d2b1e24ec86feebadff1973e9ba2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96d2b1e24ec86feebadff1973e9ba2ae">&#9670;&nbsp;</a></span>item() <span class="overload">[8/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__point.html">time_point</a>&#160;</td>
          <td class="paramname"><em>turn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structitem_1_1solitary__tag.html">solitary_tag</a>&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00440">440</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    : <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( &amp; * <span class="keywordtype">id</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a>, tag ) {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae87bf7b06175e484777ad2b830b980f8" name="ae87bf7b06175e484777ad2b830b980f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae87bf7b06175e484777ad2b830b980f8">&#9670;&nbsp;</a></span>item() <span class="overload">[9/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structitype.html">itype</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__point.html">time_point</a>&#160;</td>
          <td class="paramname"><em>turn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structitem_1_1solitary__tag.html">solitary_tag</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00437">437</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    : <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a9defae7ba72f6d0af2e5629c4244f00e">count_by_charges</a>() ? 1 : -1 ) {}</div>
<div class="ttc" id="astructitype_html_a9defae7ba72f6d0af2e5629c4244f00e"><div class="ttname"><a href="structitype.html#a9defae7ba72f6d0af2e5629c4244f00e">itype::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01074">itype.h:1074</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a04ae0f7c03a060326cc9e5bd5ed45037" name="a04ae0f7c03a060326cc9e5bd5ed45037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04ae0f7c03a060326cc9e5bd5ed45037">&#9670;&nbsp;</a></span>item() <span class="overload">[10/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt;&#160;</td>
          <td class="paramname"><em>selections</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For constructing in-progress crafts. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00461">461</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    : <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( <span class="stringliteral">&quot;craft&quot;</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, qty )</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>{</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> = cata::make_value&lt;craft_data&gt;();</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;making = rec;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> = items;</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;comps_used = selections;</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) {</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>        <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> = <a class="code hl_variable" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a>;</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() ) {</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>            <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *most_rotten = <a class="code hl_function" href="item_8cpp.html#a3840f9fb70a5c95d3df2a50e4466dd0d">get_most_rotten_component</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>            <span class="keywordflow">if</span>( most_rotten ) {</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>                <a class="code hl_function" href="classitem.html#ad6cdbdd7e8295f3a6e802adffcd665ae">set_relative_rot</a>( most_rotten-&gt;<a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>() );</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>            }</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>        }</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    }</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span> </div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_struct" href="structcomponent.html">component</a> : <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;f : <a class="code hl_struct" href="structcomponent.html">component</a>.item_tags ) {</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( f ).craft_inherit() ) {</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>                <a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( f );</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>            }</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>        }</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;f : <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a>-&gt;<a class="code hl_function" href="structitype.html#adc8d0bfd6899a3b8b4868e028c5a2214">get_flags</a>() ) {</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( f ).craft_inherit() ) {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>                <a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( f );</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>            }</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>        }</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    }</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    <span class="comment">// this extra section is so that in-progress crafts will correctly display expected flags.</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;flag : rec-&gt;<a class="code hl_variable" href="classrecipe.html#a14d50f59297f680cbe4049577e963fce">flags_to_delete</a> ) {</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>        <a class="code hl_function" href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">unset_flag</a>( flag );</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    }</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>}</div>
<div class="ttc" id="aclassitem_html_a622ee79075b1be44b58c5d752ab52241"><div class="ttname"><a href="classitem.html#a622ee79075b1be44b58c5d752ab52241">item::craft_data_</a></div><div class="ttdeci">cata::value_ptr&lt; craft_data &gt; craft_data_</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02190">item.h:2190</a></div></div>
<div class="ttc" id="aclassitem_html_a891e49f36521b955b9ad58817ddf65d8"><div class="ttname"><a href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">item::components</a></div><div class="ttdeci">std::list&lt; item &gt; components</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02158">item.h:2158</a></div></div>
<div class="ttc" id="aclassitem_html_aad45569fa1fdd99d602eabbbbca04f75"><div class="ttname"><a href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">item::is_food</a></div><div class="ttdeci">bool is_food() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06442">item.cpp:6442</a></div></div>
<div class="ttc" id="aclassitem_html_aaf0e79cb1bc190daa4804cfd62f279c4"><div class="ttname"><a href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const std::string &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05221">item.cpp:5221</a></div></div>
<div class="ttc" id="aclassitem_html_ab03f3d257e8d9c5789aca61a1fa8c741"><div class="ttname"><a href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">item::unset_flag</a></div><div class="ttdeci">item &amp; unset_flag(const std::string &amp;flag)</div><div class="ttdoc">Idempotent filter removing an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05227">item.cpp:5227</a></div></div>
<div class="ttc" id="aclassitem_html_ad6cdbdd7e8295f3a6e802adffcd665ae"><div class="ttname"><a href="classitem.html#ad6cdbdd7e8295f3a6e802adffcd665ae">item::set_relative_rot</a></div><div class="ttdeci">void set_relative_rot(double val)</div><div class="ttdoc">Set current item rot relative to shelf life (no-op if item does not spoil)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05428">item.cpp:5428</a></div></div>
<div class="ttc" id="aclassitem_html_adfb5ddb3d50f317c79eb7a1a26a63905"><div class="ttname"><a href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">item::get_relative_rot</a></div><div class="ttdeci">double get_relative_rot() const</div><div class="ttdoc">Get rot value relative to shelf life (or 0 if item does not spoil)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05420">item.cpp:5420</a></div></div>
<div class="ttc" id="aclassjson__flag_html_ad60cc8cafad9e89dfbab36fd8dbd0eda"><div class="ttname"><a href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a></div><div class="ttdeci">static const json_flag &amp; get(const std::string &amp;id)</div><div class="ttdoc">Fetches flag definition (or null flag if not found)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8cpp_source.html#l00070">flag.cpp:70</a></div></div>
<div class="ttc" id="aclassrecipe_html_a14d50f59297f680cbe4049577e963fce"><div class="ttname"><a href="classrecipe.html#a14d50f59297f680cbe4049577e963fce">recipe::flags_to_delete</a></div><div class="ttdeci">std::set&lt; std::string &gt; flags_to_delete</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00113">recipe.h:113</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a3840f9fb70a5c95d3df2a50e4466dd0d"><div class="ttname"><a href="item_8cpp.html#a3840f9fb70a5c95d3df2a50e4466dd0d">get_most_rotten_component</a></div><div class="ttdeci">static const item * get_most_rotten_component(const item &amp;craft)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00448">item.cpp:448</a></div></div>
<div class="ttc" id="astructcomponent_html"><div class="ttname"><a href="structcomponent.html">component</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00057">requirements.h:57</a></div></div>
<div class="ttc" id="astructcomponent_html_a9c114293306257abbc1db25073fc0492"><div class="ttname"><a href="structcomponent.html#a9c114293306257abbc1db25073fc0492">component::type</a></div><div class="ttdeci">itype_id type</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00058">requirements.h:58</a></div></div>
<div class="ttc" id="astructitype_html_adc8d0bfd6899a3b8b4868e028c5a2214"><div class="ttname"><a href="structitype.html#adc8d0bfd6899a3b8b4868e028c5a2214">itype::get_flags</a></div><div class="ttdeci">const FlagsSetType &amp; get_flags() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00081">itype.cpp:81</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="item_8h_source.html#l02223">bday</a>, <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="item_8h_source.html#l02190">craft_data_</a>, <a class="el" href="recipe_8h_source.html#l00113">recipe::flags_to_delete</a>, <a class="el" href="flag_8cpp_source.html#l00070">json_flag::get()</a>, <a class="el" href="itype_8cpp_source.html#l00081">itype::get_flags()</a>, <a class="el" href="item_8cpp_source.html#l00448">get_most_rotten_component()</a>, <a class="el" href="item_8cpp_source.html#l05420">get_relative_rot()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>, <a class="el" href="item_8h_source.html#l02221">last_rot_check</a>, <a class="el" href="item_8cpp_source.html#l05221">set_flag()</a>, <a class="el" href="item_8cpp_source.html#l05428">set_relative_rot()</a>, <a class="el" href="requirements_8h_source.html#l00058">component::type</a>, and <a class="el" href="item_8cpp_source.html#l05227">unset_flag()</a>.</p>

</div>
</div>
<a id="a08e45df50b2c8f18b5f9c4b6ad69ff82" name="a08e45df50b2c8f18b5f9c4b6ad69ff82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e45df50b2c8f18b5f9c4b6ad69ff82">&#9670;&nbsp;</a></span>item() <span class="overload">[11/11]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">item::item </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>itype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l00206">206</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>                                                        :</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>            <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <a class="code hl_struct" href="structitype.html">itype</a> ), std::forward&lt;Args&gt;( args )... )</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        {}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">cata_variant_type::itype_id</a></div><div class="ttdeci">@ itype_id</div></div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00836">itype.h:836</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1792174ea9d664d6413f5ad0de38d74" name="ae1792174ea9d664d6413f5ad0de38d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1792174ea9d664d6413f5ad0de38d74">&#9670;&nbsp;</a></span>~item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">item::~item </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9b91d51ced70c7329b6c37bdc4c845d5" name="a9b91d51ced70c7329b6c37bdc4c845d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b91d51ced70c7329b6c37bdc4c845d5">&#9670;&nbsp;</a></span>acid_resist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::acid_resist </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_self</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base_env_resist</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resistance against different damage types (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a>). </p>
<p >Larger values means more resistance are thereby better, but there is no absolute value to compare them to. The values can be interpreted as chance (<a class="el" href="rng_8h.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>) of damaging the item when exposed to the type of damage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_self</td><td>If this is true, it returns item's own resistance, not one it gives to wearer. </td></tr>
    <tr><td class="paramname">base_env_resist</td><td>Will override the base environmental resistance (to allow hypothetical calculations for gas masks). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05977">5977</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05978" name="l05978"></a><span class="lineno"> 5978</span>{</div>
<div class="line"><a id="l05979" name="l05979"></a><span class="lineno"> 5979</span>    <span class="keywordflow">if</span>( to_self ) {</div>
<div class="line"><a id="l05980" name="l05980"></a><span class="lineno"> 5980</span>        <span class="comment">// Currently no items are damaged by acid</span></div>
<div class="line"><a id="l05981" name="l05981"></a><span class="lineno"> 5981</span>        <span class="keywordflow">return</span> INT_MAX;</div>
<div class="line"><a id="l05982" name="l05982"></a><span class="lineno"> 5982</span>    }</div>
<div class="line"><a id="l05983" name="l05983"></a><span class="lineno"> 5983</span> </div>
<div class="line"><a id="l05984" name="l05984"></a><span class="lineno"> 5984</span>    <span class="keywordtype">float</span> resist = 0.0;</div>
<div class="line"><a id="l05985" name="l05985"></a><span class="lineno"> 5985</span>    <span class="keywordtype">float</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = <a class="code hl_function" href="classitem.html#a487b1c2d4c6e05794c446b231f39d6e8">get_clothing_mod_val</a>( <a class="code hl_enumvalue" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152a609bb7188e9c7d465c38a945ec9ff794">clothing_mod_type_acid</a> );</div>
<div class="line"><a id="l05986" name="l05986"></a><span class="lineno"> 5986</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l05987" name="l05987"></a><span class="lineno"> 5987</span>        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a id="l05988" name="l05988"></a><span class="lineno"> 5988</span>    }</div>
<div class="line"><a id="l05989" name="l05989"></a><span class="lineno"> 5989</span> </div>
<div class="line"><a id="l05990" name="l05990"></a><span class="lineno"> 5990</span>    <span class="keyword">const</span> std::vector&lt;const material_type *&gt; mat_types = <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>();</div>
<div class="line"><a id="l05991" name="l05991"></a><span class="lineno"> 5991</span>    <span class="keywordflow">if</span>( !mat_types.empty() ) {</div>
<div class="line"><a id="l05992" name="l05992"></a><span class="lineno"> 5992</span>        <span class="comment">// Not sure why cut and bash get an armor thickness bonus but acid doesn&#39;t,</span></div>
<div class="line"><a id="l05993" name="l05993"></a><span class="lineno"> 5993</span>        <span class="comment">// but such is the way of the code.</span></div>
<div class="line"><a id="l05994" name="l05994"></a><span class="lineno"> 5994</span> </div>
<div class="line"><a id="l05995" name="l05995"></a><span class="lineno"> 5995</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> *mat : mat_types ) {</div>
<div class="line"><a id="l05996" name="l05996"></a><span class="lineno"> 5996</span>            resist += mat-&gt;acid_resist();</div>
<div class="line"><a id="l05997" name="l05997"></a><span class="lineno"> 5997</span>        }</div>
<div class="line"><a id="l05998" name="l05998"></a><span class="lineno"> 5998</span>        <span class="comment">// Average based on number of materials.</span></div>
<div class="line"><a id="l05999" name="l05999"></a><span class="lineno"> 5999</span>        resist /= mat_types.size();</div>
<div class="line"><a id="l06000" name="l06000"></a><span class="lineno"> 6000</span>    }</div>
<div class="line"><a id="l06001" name="l06001"></a><span class="lineno"> 6001</span> </div>
<div class="line"><a id="l06002" name="l06002"></a><span class="lineno"> 6002</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> env = <a class="code hl_function" href="classitem.html#ac56f53ef32f24c048d9e893c9336ec95">get_env_resist</a>( base_env_resist );</div>
<div class="line"><a id="l06003" name="l06003"></a><span class="lineno"> 6003</span>    <span class="keywordflow">if</span>( env &lt; 10 ) {</div>
<div class="line"><a id="l06004" name="l06004"></a><span class="lineno"> 6004</span>        <span class="comment">// Low env protection means it doesn&#39;t prevent acid seeping in.</span></div>
<div class="line"><a id="l06005" name="l06005"></a><span class="lineno"> 6005</span>        resist *= env / 10.0f;</div>
<div class="line"><a id="l06006" name="l06006"></a><span class="lineno"> 6006</span>    }</div>
<div class="line"><a id="l06007" name="l06007"></a><span class="lineno"> 6007</span> </div>
<div class="line"><a id="l06008" name="l06008"></a><span class="lineno"> 6008</span>    <span class="keywordflow">return</span> std::lround( resist + <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l06009" name="l06009"></a><span class="lineno"> 6009</span>}</div>
<div class="ttc" id="aclassitem_html_a487b1c2d4c6e05794c446b231f39d6e8"><div class="ttname"><a href="classitem.html#a487b1c2d4c6e05794c446b231f39d6e8">item::get_clothing_mod_val</a></div><div class="ttdeci">float get_clothing_mod_val(clothing_mod_type type) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09970">item.cpp:9970</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00729">item.cpp:729</a></div></div>
<div class="ttc" id="aclassitem_html_a75b85410499e6e47e3fd85326a8e7ce4"><div class="ttname"><a href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">item::made_of_types</a></div><div class="ttdeci">std::vector&lt; const material_type * &gt; made_of_types() const</div><div class="ttdoc">Same as made_of(), but returns the material_type directly.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06276">item.cpp:6276</a></div></div>
<div class="ttc" id="aclassitem_html_ac56f53ef32f24c048d9e893c9336ec95"><div class="ttname"><a href="classitem.html#ac56f53ef32f24c048d9e893c9336ec95">item::get_env_resist</a></div><div class="ttdeci">int get_env_resist(int override_base_resist=0) const</div><div class="ttdoc">Returns the resistance to environmental effects (islot_armor::env_resist) that this item provides whe...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05613">item.cpp:5613</a></div></div>
<div class="ttc" id="aclassmaterial__type_html"><div class="ttname"><a href="classmaterial__type.html">material_type</a></div><div class="ttdef"><b>Definition:</b> <a href="material_8h_source.html#l00026">material.h:27</a></div></div>
<div class="ttc" id="aclothing__mod_8h_html_ab129387d97c2c7f0393c210d21df0152a609bb7188e9c7d465c38a945ec9ff794"><div class="ttname"><a href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152a609bb7188e9c7d465c38a945ec9ff794">clothing_mod_type_acid</a></div><div class="ttdeci">@ clothing_mod_type_acid</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00017">clothing_mod.h:17</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="clothing__mod_8h_source.html#l00017">clothing_mod_type_acid</a>, <a class="el" href="item_8cpp_source.html#l09970">get_clothing_mod_val()</a>, <a class="el" href="item_8cpp_source.html#l05613">get_env_resist()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, and <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l00282">armor_inventory_preset::armor_inventory_preset()</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00314">anonymous_namespace{armor_layers.cpp}::clothing_protection()</a>, <a class="el" href="item_8cpp_source.html#l06221">damage_resist()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="a7f1ae4e309841707eea0852dd4cd95a3" name="a7f1ae4e309841707eea0852dd4cd95a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f1ae4e309841707eea0852dd4cd95a3">&#9670;&nbsp;</a></span>activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::activate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter converting instance to active state. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00554">554</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>{</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>; <span class="comment">// no-op</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    }</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span> </div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#af4a7035d85d1258ac55efae66eea72eb">countdown_interval</a> &gt; 0 ) {</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>        <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#af4a7035d85d1258ac55efae66eea72eb">countdown_interval</a>;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>    }</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span> </div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span> </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="itype_8h_source.html#l00953">itype::countdown_interval</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iuse_8cpp_source.html#l08909">iuse::cable_attach()</a>, <a class="el" href="ranged_8cpp_source.html#l01666">make_gun_projectile()</a>, <a class="el" href="item_8cpp_source.html#l09426">process()</a>, and <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="a178ada62c301bb1058bb56b1d8531a36" name="a178ada62c301bb1058bb56b1d8531a36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a178ada62c301bb1058bb56b1d8531a36">&#9670;&nbsp;</a></span>add_technique()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::add_technique </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a> &amp;&#160;</td>
          <td class="paramname"><em>tech</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the given technique to the item specific <a class="el" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>. </p>
<p >Note that other items of the same type are not affected by this. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05333">5333</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05334" name="l05334"></a><span class="lineno"> 5334</span>{</div>
<div class="line"><a id="l05335" name="l05335"></a><span class="lineno"> 5335</span>    <a class="code hl_variable" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>.insert( tech );</div>
<div class="line"><a id="l05336" name="l05336"></a><span class="lineno"> 5336</span>}</div>
<div class="ttc" id="aclassitem_html_ad3777e432e98805820880d8f2feca087"><div class="ttname"><a href="classitem.html#ad3777e432e98805820880d8f2feca087">item::techniques</a></div><div class="ttdeci">std::set&lt; matec_id &gt; techniques</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02170">item.h:2170</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02170">techniques</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00739">mdeath::jabberwock()</a>.</p>

</div>
</div>
<a id="a66fcc8b7976e6c73904bdfbe5296c150" name="a66fcc8b7976e6c73904bdfbe5296c150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66fcc8b7976e6c73904bdfbe5296c150">&#9670;&nbsp;</a></span>age()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> item::age </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09832">9832</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09833" name="l09833"></a><span class="lineno"> 9833</span>{</div>
<div class="line"><a id="l09834" name="l09834"></a><span class="lineno"> 9834</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - <a class="code hl_function" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>();</div>
<div class="line"><a id="l09835" name="l09835"></a><span class="lineno"> 9835</span>}</div>
<div class="ttc" id="aclassitem_html_a46b9bb1181827a365eb83d935c663677"><div class="ttname"><a href="classitem.html#a46b9bb1181827a365eb83d935c663677">item::birthday</a></div><div class="ttdeci">time_point birthday() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09853">item.cpp:9853</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l09853">birthday()</a>, and <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l02685">iexamine::arcfurnace_full()</a>, <a class="el" href="iexamine_8cpp_source.html#l02799">iexamine::autoclave_full()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="iuse_8cpp_source.html#l03836">iuse::firecracker_pack_act()</a>, <a class="el" href="iuse_8cpp_source.html#l01793">iuse::fish_trap()</a>, <a class="el" href="iexamine_8cpp_source.html#l03078">iexamine::fvat_full()</a>, <a class="el" href="iexamine_8cpp_source.html#l02557">iexamine::kiln_full()</a>, <a class="el" href="item_8cpp_source.html#l09000">process_fake_mill()</a>, <a class="el" href="item_8cpp_source.html#l09015">process_fake_smoke()</a>, <a class="el" href="item_8cpp_source.html#l05815">ready_to_revive()</a>, <a class="el" href="item_8cpp_source.html#l09837">set_age()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00879">delayed_transform_iuse::time_to_do()</a>.</p>

</div>
</div>
<a id="a24de774e21920f2b60718a02be995a8b" name="a24de774e21920f2b60718a02be995a8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24de774e21920f2b60718a02be995a8b">&#9670;&nbsp;</a></span>allow_crafting_component()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::allow_crafting_component </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Permits filthy components, should only be used as a helper in creating filters. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08376">8376</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08377" name="l08377"></a><span class="lineno"> 8377</span>{</div>
<div class="line"><a id="l08378" name="l08378"></a><span class="lineno"> 8378</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a91fb3717957325c9800f90c58a03ba4c">is_toolmod</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#a01f8af501d37d5cb4eaee8ba21270bd6">is_irremovable</a>() ) {</div>
<div class="line"><a id="l08379" name="l08379"></a><span class="lineno"> 8379</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08380" name="l08380"></a><span class="lineno"> 8380</span>    }</div>
<div class="line"><a id="l08381" name="l08381"></a><span class="lineno"> 8381</span> </div>
<div class="line"><a id="l08382" name="l08382"></a><span class="lineno"> 8382</span>    <span class="comment">// vehicle batteries are implemented as magazines of charge</span></div>
<div class="line"><a id="l08383" name="l08383"></a><span class="lineno"> 8383</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>( <a class="code hl_variable" href="item_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">ammo_battery</a> ) ) {</div>
<div class="line"><a id="l08384" name="l08384"></a><span class="lineno"> 8384</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08385" name="l08385"></a><span class="lineno"> 8385</span>    }</div>
<div class="line"><a id="l08386" name="l08386"></a><span class="lineno"> 8386</span> </div>
<div class="line"><a id="l08387" name="l08387"></a><span class="lineno"> 8387</span>    <span class="comment">// fixes #18886 - turret installation may require items with irremovable mods</span></div>
<div class="line"><a id="l08388" name="l08388"></a><span class="lineno"> 8388</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l08389" name="l08389"></a><span class="lineno"> 8389</span>        <span class="keywordtype">bool</span> valid = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08390" name="l08390"></a><span class="lineno"> 8390</span>        <a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> * it ) {</div>
<div class="line"><a id="l08391" name="l08391"></a><span class="lineno"> 8391</span>            <span class="keywordflow">if</span>( <span class="keyword">this</span> == it ) {</div>
<div class="line"><a id="l08392" name="l08392"></a><span class="lineno"> 8392</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l08393" name="l08393"></a><span class="lineno"> 8393</span>            }</div>
<div class="line"><a id="l08394" name="l08394"></a><span class="lineno"> 8394</span>            <span class="keywordflow">if</span>( !( it-&gt;<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() || ( it-&gt;<a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() &amp;&amp; it-&gt;<a class="code hl_function" href="classitem.html#a01f8af501d37d5cb4eaee8ba21270bd6">is_irremovable</a>() ) ) ) {</div>
<div class="line"><a id="l08395" name="l08395"></a><span class="lineno"> 8395</span>                valid = false;</div>
<div class="line"><a id="l08396" name="l08396"></a><span class="lineno"> 8396</span>                return VisitResponse::ABORT;</div>
<div class="line"><a id="l08397" name="l08397"></a><span class="lineno"> 8397</span>            }</div>
<div class="line"><a id="l08398" name="l08398"></a><span class="lineno"> 8398</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l08399" name="l08399"></a><span class="lineno"> 8399</span>        } );</div>
<div class="line"><a id="l08400" name="l08400"></a><span class="lineno"> 8400</span>        <span class="keywordflow">return</span> valid;</div>
<div class="line"><a id="l08401" name="l08401"></a><span class="lineno"> 8401</span>    }</div>
<div class="line"><a id="l08402" name="l08402"></a><span class="lineno"> 8402</span> </div>
<div class="line"><a id="l08403" name="l08403"></a><span class="lineno"> 8403</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>();</div>
<div class="line"><a id="l08404" name="l08404"></a><span class="lineno"> 8404</span>}</div>
<div class="ttc" id="aclassitem__contents_html_ad5b1250d9699aa489bbfcf3e5689581b"><div class="ttname"><a href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">item_contents::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00016">item_contents.cpp:16</a></div></div>
<div class="ttc" id="aclassitem_html_a016494fa25a7a403fe78fadbd90b267b"><div class="ttname"><a href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">item::count</a></div><div class="ttdeci">int count() const</div><div class="ttdoc">If count_by_charges(), returns charges, otherwise 1.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05860">item.cpp:5860</a></div></div>
<div class="ttc" id="aclassitem_html_a01f8af501d37d5cb4eaee8ba21270bd6"><div class="ttname"><a href="classitem.html#a01f8af501d37d5cb4eaee8ba21270bd6">item::is_irremovable</a></div><div class="ttdeci">bool is_irremovable() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06625">item.cpp:6625</a></div></div>
<div class="ttc" id="aclassitem_html_a2912b2e15a4eec07a5070fffbbd152e8"><div class="ttname"><a href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">item::is_gun</a></div><div class="ttdeci">bool is_gun() const</div><div class="ttdoc">Can this item be used to perform a ranged attack?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06367">item.cpp:6367</a></div></div>
<div class="ttc" id="aclassitem_html_a4afe851abb42cbff0857065860f96e0e"><div class="ttname"><a href="classitem.html#a4afe851abb42cbff0857065860f96e0e">item::contents</a></div><div class="ttdeci">item_contents contents</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02157">item.h:2157</a></div></div>
<div class="ttc" id="aclassitem_html_a91fb3717957325c9800f90c58a03ba4c"><div class="ttname"><a href="classitem.html#a91fb3717957325c9800f90c58a03ba4c">item::is_toolmod</a></div><div class="ttdeci">bool is_toolmod() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06615">item.cpp:6615</a></div></div>
<div class="ttc" id="aclassitem_html_a9b06bb61116b722a90aa372a4561337a"><div class="ttname"><a href="classitem.html#a9b06bb61116b722a90aa372a4561337a">item::is_gunmod</a></div><div class="ttdeci">bool is_gunmod() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06397">item.cpp:6397</a></div></div>
<div class="ttc" id="aclassitem_html_adce43f2490a85e2dc212a26ce5ded4fc"><div class="ttname"><a href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">item::is_magazine</a></div><div class="ttdeci">bool is_magazine() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06407">item.cpp:6407</a></div></div>
<div class="ttc" id="aclassvisitable_html_a0a76a71d6a905414cc81236e86a7e649"><div class="ttname"><a href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visitable&lt; item &gt;::visit_items</a></div><div class="ttdeci">VisitResponse visit_items(const std::function&lt; VisitResponse(item *, item *)&gt; &amp;func)</div><div class="ttdoc">Traverses this object and any child items contained using a visitor pattern.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00037">visitable.cpp:423</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a13798283d6d3fdd8f38838da9d52fd19"><div class="ttname"><a href="item_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">ammo_battery</a></div><div class="ttdeci">static const ammotype ammo_battery(&quot;battery&quot;)</div></div>
<div class="ttc" id="avisitable_8h_html_aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6"><div class="ttname"><a href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a></div><div class="ttdeci">@ NEXT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a13798283d6d3fdd8f38838da9d52fd19">ammo_battery</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8cpp_source.html#l05860">count()</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="item_8cpp_source.html#l06625">is_irremovable()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06615">is_toolmod()</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, and <a class="el" href="visitable_8cpp_source.html#l00423">visitable&lt; item &gt;::visit_items()</a>.</p>

</div>
</div>
<a id="ae91a1e39e57f546b94d3e94fe189ed6b" name="ae91a1e39e57f546b94d3e94fe189ed6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae91a1e39e57f546b94d3e94fe189ed6b">&#9670;&nbsp;</a></span>already_used_by_player()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::already_used_by_player </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether the item has been marked (by calling mark_as_used_by_player) as used by this specific player. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08690">8690</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08691" name="l08691"></a><span class="lineno"> 8691</span>{</div>
<div class="line"><a id="l08692" name="l08692"></a><span class="lineno"> 8692</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.find( <a class="code hl_function" href="item_8cpp.html#aaed94383d6a3117b0c4a53c77ee3d42e">USED_BY_IDS</a> );</div>
<div class="line"><a id="l08693" name="l08693"></a><span class="lineno"> 8693</span>    <span class="keywordflow">if</span>( it == <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end() ) {</div>
<div class="line"><a id="l08694" name="l08694"></a><span class="lineno"> 8694</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08695" name="l08695"></a><span class="lineno"> 8695</span>    }</div>
<div class="line"><a id="l08696" name="l08696"></a><span class="lineno"> 8696</span>    <span class="comment">// USED_BY_IDS always starts *and* ends with a &#39;;&#39;, the search string</span></div>
<div class="line"><a id="l08697" name="l08697"></a><span class="lineno"> 8697</span>    <span class="comment">// &#39;;&lt;id&gt;;&#39; matches at most one part of USED_BY_IDS, and only when exactly that</span></div>
<div class="line"><a id="l08698" name="l08698"></a><span class="lineno"> 8698</span>    <span class="comment">// id has been added.</span></div>
<div class="line"><a id="l08699" name="l08699"></a><span class="lineno"> 8699</span>    <span class="keyword">const</span> std::string needle = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;;%d;&quot;</span>, p.<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>().<a class="code hl_function" href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">get_value</a>() );</div>
<div class="line"><a id="l08700" name="l08700"></a><span class="lineno"> 8700</span>    <span class="keywordflow">return</span> it-&gt;second.find( needle ) != std::string::npos;</div>
<div class="line"><a id="l08701" name="l08701"></a><span class="lineno"> 8701</span>}</div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00470">character.cpp:470</a></div></div>
<div class="ttc" id="aclasscharacter__id_html_a57a3bebd5dc5168d0b278cfccdbdcd18"><div class="ttname"><a href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">character_id::get_value</a></div><div class="ttdeci">int get_value() const</div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00023">character_id.h:23</a></div></div>
<div class="ttc" id="aclassitem_html_ad1a1f133775f8a53a0faa3ec34b5acf4"><div class="ttname"><a href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item::item_vars</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; item_vars</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02167">item.h:2167</a></div></div>
<div class="ttc" id="aitem_8cpp_html_aaed94383d6a3117b0c4a53c77ee3d42e"><div class="ttname"><a href="item_8cpp.html#aaed94383d6a3117b0c4a53c77ee3d42e">USED_BY_IDS</a></div><div class="ttdeci">static const std::string USED_BY_IDS(&quot;USED_BY_IDS&quot;)</div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character__id_8h_source.html#l00023">character_id::get_value()</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="item_8h_source.html#l02167">item_vars</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, and <a class="el" href="item_8cpp.html#aaed94383d6a3117b0c4a53c77ee3d42e">USED_BY_IDS()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l01339">reveal_map_actor::use()</a>.</p>

</div>
</div>
<a id="a5d89f04a2a08245ec865db0865e8a6c1" name="a5d89f04a2a08245ec865db0865e8a6c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d89f04a2a08245ec865db0865e8a6c1">&#9670;&nbsp;</a></span>ammo_capacity() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::ammo_capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum quantity of ammunition loadable for tool, gun or auxiliary gunmod. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07253">7253</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07254" name="l07254"></a><span class="lineno"> 7254</span>{</div>
<div class="line"><a id="l07255" name="l07255"></a><span class="lineno"> 7255</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>( <span class="keyword">false</span> );</div>
<div class="line"><a id="l07256" name="l07256"></a><span class="lineno"> 7256</span>}</div>
<div class="ttc" id="aclassitem_html_a5d89f04a2a08245ec865db0865e8a6c1"><div class="ttname"><a href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">item::ammo_capacity</a></div><div class="ttdeci">int ammo_capacity() const</div><div class="ttdoc">Maximum quantity of ammunition loadable for tool, gun or auxiliary gunmod.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07253">item.cpp:7253</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00228">vehicle_part::ammo_capacity()</a>, <a class="el" href="turret_8cpp_source.html#l00105">turret_data::ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="turret_8cpp_source.html#l00212">turret_data::can_reload()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="npcmove_8cpp_source.html#l04547">npc::do_reload()</a>, <a class="el" href="dump_8cpp_source.html#l00037">game::dump_stats()</a>, <a class="el" href="npcmove_8cpp_source.html#l02116">npc::enough_time_to_reload()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="item_8cpp_source.html#l08223">getlight_emit()</a>, <a class="el" href="iuse_8cpp_source.html#l04466">iuse::hand_crank()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02297">activity_handlers::hand_crank_do_turn()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01921">vehicle::interact_with()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="item_8cpp_source.html#l01825">magazine_info()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="ranged_8cpp_source.html#l03447">target_ui::panel_gun_info()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="game_8cpp_source.html#l11839">game::process_artifact()</a>, <a class="el" href="map_8cpp_source.html#l04474">process_vehicle_items()</a>, <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="active__tile__data_8cpp_source.html#l00246">charger_tile::update_internal()</a>, <a class="el" href="npcmove_8cpp_source.html#l01452">wants_to_reload()</a>, and <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>.</p>

</div>
</div>
<a id="a40429b3871f1924330a4538bd68cc8a0" name="a40429b3871f1924330a4538bd68cc8a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40429b3871f1924330a4538bd68cc8a0">&#9670;&nbsp;</a></span>ammo_capacity() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::ammo_capacity </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>potential_capacity</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">potential_capacity</td><td>whether to try a default magazine if necessary </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07258">7258</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07259" name="l07259"></a><span class="lineno"> 7259</span>{</div>
<div class="line"><a id="l07260" name="l07260"></a><span class="lineno"> 7260</span>    <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><a id="l07261" name="l07261"></a><span class="lineno"> 7261</span> </div>
<div class="line"><a id="l07262" name="l07262"></a><span class="lineno"> 7262</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *mag = <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>();</div>
<div class="line"><a id="l07263" name="l07263"></a><span class="lineno"> 7263</span>    <span class="keywordflow">if</span>( mag ) {</div>
<div class="line"><a id="l07264" name="l07264"></a><span class="lineno"> 7264</span>        <span class="keywordflow">return</span> mag-&gt;<a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>();</div>
<div class="line"><a id="l07265" name="l07265"></a><span class="lineno"> 7265</span>    }</div>
<div class="line"><a id="l07266" name="l07266"></a><span class="lineno"> 7266</span> </div>
<div class="line"><a id="l07267" name="l07267"></a><span class="lineno"> 7267</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l07268" name="l07268"></a><span class="lineno"> 7268</span>        res = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;max_charges;</div>
<div class="line"><a id="l07269" name="l07269"></a><span class="lineno"> 7269</span>        <span class="keywordflow">if</span>( res == 0 &amp;&amp; <a class="code hl_function" href="classitem.html#a6f710d4afc0b3c016b3e19cb294d4ded">magazine_default</a>() &amp;&amp; potential_capacity ) {</div>
<div class="line"><a id="l07270" name="l07270"></a><span class="lineno"> 7270</span>            res = <a class="code hl_function" href="classitem.html#a6f710d4afc0b3c016b3e19cb294d4ded">magazine_default</a>()-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;capacity;</div>
<div class="line"><a id="l07271" name="l07271"></a><span class="lineno"> 7271</span>        }</div>
<div class="line"><a id="l07272" name="l07272"></a><span class="lineno"> 7272</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *e : <a class="code hl_function" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a>() ) {</div>
<div class="line"><a id="l07273" name="l07273"></a><span class="lineno"> 7273</span>            res *= e-&gt;type-&gt;mod-&gt;capacity_multiplier;</div>
<div class="line"><a id="l07274" name="l07274"></a><span class="lineno"> 7274</span>        }</div>
<div class="line"><a id="l07275" name="l07275"></a><span class="lineno"> 7275</span>    }</div>
<div class="line"><a id="l07276" name="l07276"></a><span class="lineno"> 7276</span> </div>
<div class="line"><a id="l07277" name="l07277"></a><span class="lineno"> 7277</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07278" name="l07278"></a><span class="lineno"> 7278</span>        res = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;clip;</div>
<div class="line"><a id="l07279" name="l07279"></a><span class="lineno"> 7279</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *e : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l07280" name="l07280"></a><span class="lineno"> 7280</span>            res *= e-&gt;type-&gt;mod-&gt;capacity_multiplier;</div>
<div class="line"><a id="l07281" name="l07281"></a><span class="lineno"> 7281</span>        }</div>
<div class="line"><a id="l07282" name="l07282"></a><span class="lineno"> 7282</span>    }</div>
<div class="line"><a id="l07283" name="l07283"></a><span class="lineno"> 7283</span> </div>
<div class="line"><a id="l07284" name="l07284"></a><span class="lineno"> 7284</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l07285" name="l07285"></a><span class="lineno"> 7285</span>        res = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;capacity;</div>
<div class="line"><a id="l07286" name="l07286"></a><span class="lineno"> 7286</span>    }</div>
<div class="line"><a id="l07287" name="l07287"></a><span class="lineno"> 7287</span> </div>
<div class="line"><a id="l07288" name="l07288"></a><span class="lineno"> 7288</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a916a4a16b33de5c257fff71d9e579578">is_bandolier</a>() ) {</div>
<div class="line"><a id="l07289" name="l07289"></a><span class="lineno"> 7289</span>        <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classbandolier__actor.html">bandolier_actor</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l07290" name="l07290"></a><span class="lineno"> 7290</span>               ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a304367633fdfe6c63a53bdce0caced92">get_use</a>( <span class="stringliteral">&quot;bandolier&quot;</span> )-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() )-&gt;capacity;</div>
<div class="line"><a id="l07291" name="l07291"></a><span class="lineno"> 7291</span>    }</div>
<div class="line"><a id="l07292" name="l07292"></a><span class="lineno"> 7292</span> </div>
<div class="line"><a id="l07293" name="l07293"></a><span class="lineno"> 7293</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07294" name="l07294"></a><span class="lineno"> 7294</span>}</div>
<div class="ttc" id="aclassbandolier__actor_html"><div class="ttname"><a href="classbandolier__actor.html">bandolier_actor</a></div><div class="ttdoc">Store ammo and later reload using it.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00884">iuse_actor.h:885</a></div></div>
<div class="ttc" id="aclassitem_html_a01e04ebcbadc63b26b213c0a861b0188"><div class="ttname"><a href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">item::toolmods</a></div><div class="ttdeci">std::vector&lt; item * &gt; toolmods()</div><div class="ttdoc">Returns all toolmods currently attached to this item (always empty if item not a tool)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05338">item.cpp:5338</a></div></div>
<div class="ttc" id="aclassitem_html_a59a03649a0636c70e776054db688564a"><div class="ttname"><a href="classitem.html#a59a03649a0636c70e776054db688564a">item::is_tool</a></div><div class="ttdeci">bool is_tool() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06803">item.cpp:6803</a></div></div>
<div class="ttc" id="aclassitem_html_a6f710d4afc0b3c016b3e19cb294d4ded"><div class="ttname"><a href="classitem.html#a6f710d4afc0b3c016b3e19cb294d4ded">item::magazine_default</a></div><div class="ttdeci">itype_id magazine_default(bool conversion=true) const</div><div class="ttdoc">Get the default magazine type (if any) for the current effective ammo type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07518">item.cpp:7518</a></div></div>
<div class="ttc" id="aclassitem_html_a916a4a16b33de5c257fff71d9e579578"><div class="ttname"><a href="classitem.html#a916a4a16b33de5c257fff71d9e579578">item::is_bandolier</a></div><div class="ttdeci">bool is_bandolier() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06422">item.cpp:6422</a></div></div>
<div class="ttc" id="aclassitem_html_ab22fc9a4e0f9c6f5569b93e00deccfac"><div class="ttname"><a href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">item::magazine_current</a></div><div class="ttdeci">item * magazine_current()</div><div class="ttdoc">Currently loaded magazine (if any)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07565">item.cpp:7565</a></div></div>
<div class="ttc" id="aclassitem_html_acd78321ba4d5c09d39f1d58d20b68484"><div class="ttname"><a href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">item::gunmods</a></div><div class="ttdeci">std::vector&lt; item * &gt; gunmods()</div><div class="ttdoc">Returns all gunmods currently attached to this item (always empty if item not a gun)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07578">item.cpp:7578</a></div></div>
<div class="ttc" id="astructitype_html_a304367633fdfe6c63a53bdce0caced92"><div class="ttname"><a href="structitype.html#a304367633fdfe6c63a53bdce0caced92">itype::get_use</a></div><div class="ttdeci">const use_function * get_use(const std::string &amp;iuse_name) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00091">itype.cpp:91</a></div></div>
<div class="ttc" id="astructuse__function_html_a8d0d0e5c09c76fee575b38ca99e3719e"><div class="ttname"><a href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">use_function::get_actor_ptr</a></div><div class="ttdeci">iuse_actor * get_actor_ptr()</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00315">iuse.h:315</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="iuse_8h_source.html#l00315">use_function::get_actor_ptr()</a>, <a class="el" href="itype_8cpp_source.html#l00091">itype::get_use()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06422">is_bandolier()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="item_8cpp_source.html#l07518">magazine_default()</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="ae00bce86206993cc672387f9a2c77f92" name="ae00bce86206993cc672387f9a2c77f92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae00bce86206993cc672387f9a2c77f92">&#9670;&nbsp;</a></span>ammo_consume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::ammo_consume </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Consume ammo (if available) and return the amount of ammo that was consumed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qty</td><td>maximum amount of ammo that should be consumed </td></tr>
    <tr><td class="paramname">pos</td><td>current location of item, used for ejecting magazines and similar effects </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of ammo consumed which will be between 0 and qty </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07324">7324</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07325" name="l07325"></a><span class="lineno"> 7325</span>{</div>
<div class="line"><a id="l07326" name="l07326"></a><span class="lineno"> 7326</span>    <span class="keywordflow">if</span>( qty &lt; 0 ) {</div>
<div class="line"><a id="l07327" name="l07327"></a><span class="lineno"> 7327</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Cannot consume negative quantity of ammo for %s&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l07328" name="l07328"></a><span class="lineno"> 7328</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07329" name="l07329"></a><span class="lineno"> 7329</span>    }</div>
<div class="line"><a id="l07330" name="l07330"></a><span class="lineno"> 7330</span> </div>
<div class="line"><a id="l07331" name="l07331"></a><span class="lineno"> 7331</span>    <a class="code hl_class" href="classitem.html">item</a> *mag = <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>();</div>
<div class="line"><a id="l07332" name="l07332"></a><span class="lineno"> 7332</span>    <span class="keywordflow">if</span>( mag ) {</div>
<div class="line"><a id="l07333" name="l07333"></a><span class="lineno"> 7333</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> res = mag-&gt;<a class="code hl_function" href="classitem.html#ae00bce86206993cc672387f9a2c77f92">ammo_consume</a>( qty, pos );</div>
<div class="line"><a id="l07334" name="l07334"></a><span class="lineno"> 7334</span>        <span class="keywordflow">if</span>( res &amp;&amp; <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() == 0 ) {</div>
<div class="line"><a id="l07335" name="l07335"></a><span class="lineno"> 7335</span>            <span class="keywordflow">if</span>( mag-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#acf88c1e1cd1e4422cbfe58fef865f614">flag_MAG_DESTROY</a> ) ) {</div>
<div class="line"><a id="l07336" name="l07336"></a><span class="lineno"> 7336</span>                <a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *mag );</div>
<div class="line"><a id="l07337" name="l07337"></a><span class="lineno"> 7337</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mag-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ae6e515393e2ceb1d2e4e1d9c74aebd39">flag_MAG_EJECT</a> ) ) {</div>
<div class="line"><a id="l07338" name="l07338"></a><span class="lineno"> 7338</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item( pos, *mag );</div>
<div class="line"><a id="l07339" name="l07339"></a><span class="lineno"> 7339</span>                <a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *mag );</div>
<div class="line"><a id="l07340" name="l07340"></a><span class="lineno"> 7340</span>            }</div>
<div class="line"><a id="l07341" name="l07341"></a><span class="lineno"> 7341</span>        }</div>
<div class="line"><a id="l07342" name="l07342"></a><span class="lineno"> 7342</span>        <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07343" name="l07343"></a><span class="lineno"> 7343</span>    }</div>
<div class="line"><a id="l07344" name="l07344"></a><span class="lineno"> 7344</span> </div>
<div class="line"><a id="l07345" name="l07345"></a><span class="lineno"> 7345</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l07346" name="l07346"></a><span class="lineno"> 7346</span>        <span class="keywordtype">int</span> need = qty;</div>
<div class="line"><a id="l07347" name="l07347"></a><span class="lineno"> 7347</span>        <span class="keywordflow">while</span>( !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ) {</div>
<div class="line"><a id="l07348" name="l07348"></a><span class="lineno"> 7348</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;e = <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l07349" name="l07349"></a><span class="lineno"> 7349</span>            <span class="keywordflow">if</span>( need &gt;= e.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) {</div>
<div class="line"><a id="l07350" name="l07350"></a><span class="lineno"> 7350</span>                need -= e.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l07351" name="l07351"></a><span class="lineno"> 7351</span>                <a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a064a367d5f7f43b4b17fa67b5e27ccc8">back</a>() );</div>
<div class="line"><a id="l07352" name="l07352"></a><span class="lineno"> 7352</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07353" name="l07353"></a><span class="lineno"> 7353</span>                e.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= need;</div>
<div class="line"><a id="l07354" name="l07354"></a><span class="lineno"> 7354</span>                need = 0;</div>
<div class="line"><a id="l07355" name="l07355"></a><span class="lineno"> 7355</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l07356" name="l07356"></a><span class="lineno"> 7356</span>            }</div>
<div class="line"><a id="l07357" name="l07357"></a><span class="lineno"> 7357</span>        }</div>
<div class="line"><a id="l07358" name="l07358"></a><span class="lineno"> 7358</span>        <span class="keywordflow">return</span> qty - need;</div>
<div class="line"><a id="l07359" name="l07359"></a><span class="lineno"> 7359</span> </div>
<div class="line"><a id="l07360" name="l07360"></a><span class="lineno"> 7360</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() || <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07361" name="l07361"></a><span class="lineno"> 7361</span>        qty = std::min( qty, <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l07362" name="l07362"></a><span class="lineno"> 7362</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ac598f189b2cb0091f6d5f7ad687d8bdb">flag_USES_BIONIC_POWER</a> ) ) {</div>
<div class="line"><a id="l07363" name="l07363"></a><span class="lineno"> 7363</span>            <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = <a class="code hl_function" href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_power_level() );</div>
<div class="line"><a id="l07364" name="l07364"></a><span class="lineno"> 7364</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.mod_power_level( <a class="code hl_function" href="namespaceunits.html#ada24d52c1ffd0df8d52a363d013d3231">units::from_kilojoule</a>( -qty ) );</div>
<div class="line"><a id="l07365" name="l07365"></a><span class="lineno"> 7365</span>        }</div>
<div class="line"><a id="l07366" name="l07366"></a><span class="lineno"> 7366</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= qty;</div>
<div class="line"><a id="l07367" name="l07367"></a><span class="lineno"> 7367</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l07368" name="l07368"></a><span class="lineno"> 7368</span>            <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l07369" name="l07369"></a><span class="lineno"> 7369</span>        }</div>
<div class="line"><a id="l07370" name="l07370"></a><span class="lineno"> 7370</span>        <span class="keywordflow">return</span> qty;</div>
<div class="line"><a id="l07371" name="l07371"></a><span class="lineno"> 7371</span>    }</div>
<div class="line"><a id="l07372" name="l07372"></a><span class="lineno"> 7372</span> </div>
<div class="line"><a id="l07373" name="l07373"></a><span class="lineno"> 7373</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07374" name="l07374"></a><span class="lineno"> 7374</span>}</div>
<div class="ttc" id="aclassitem__contents_html_a064a367d5f7f43b4b17fa67b5e27ccc8"><div class="ttname"><a href="classitem__contents.html#a064a367d5f7f43b4b17fa67b5e27ccc8">item_contents::back</a></div><div class="ttdeci">item &amp; back()</div><div class="ttdoc">this is an artifact of the previous code using back() everywhere for contents.</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00200">item_contents.cpp:200</a></div></div>
<div class="ttc" id="aclassitem__contents_html_a14299e40ca1440af11623c86e0b84072"><div class="ttname"><a href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">item_contents::front</a></div><div class="ttdeci">item &amp; front()</div><div class="ttdoc">this is an artifact of the previous code using front() everywhere for contents.</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00190">item_contents.cpp:190</a></div></div>
<div class="ttc" id="aclassitem_html_a7e78e26dcf9b357cda769c3ca2938eda"><div class="ttname"><a href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, bool with_prefix=true, unsigned int truncate=0) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04440">item.cpp:4440</a></div></div>
<div class="ttc" id="aclassitem_html_ae00bce86206993cc672387f9a2c77f92"><div class="ttname"><a href="classitem.html#ae00bce86206993cc672387f9a2c77f92">item::ammo_consume</a></div><div class="ttdeci">int ammo_consume(int qty, const tripoint &amp;pos)</div><div class="ttdoc">Consume ammo (if available) and return the amount of ammo that was consumed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07324">item.cpp:7324</a></div></div>
<div class="ttc" id="aclassitem_html_afa86cd97b869ce264bf1d6141e0a4048"><div class="ttname"><a href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">item::curammo</a></div><div class="ttdeci">const itype * curammo</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02166">item.h:2166</a></div></div>
<div class="ttc" id="aclassvisitable_html_adeb03e3af46e1b106a5f88f112add296"><div class="ttname"><a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">visitable&lt; item &gt;::remove_item</a></div><div class="ttdeci">item remove_item(item &amp;it)</div><div class="ttdoc">Removes and returns the item which must be contained by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00114">visitable.cpp:564</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00267">game.cpp:267</a></div></div>
<div class="ttc" id="aitem_8cpp_html_ac598f189b2cb0091f6d5f7ad687d8bdb"><div class="ttname"><a href="item_8cpp.html#ac598f189b2cb0091f6d5f7ad687d8bdb">flag_USES_BIONIC_POWER</a></div><div class="ttdeci">static const std::string flag_USES_BIONIC_POWER(&quot;USES_BIONIC_POWER&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_acf88c1e1cd1e4422cbfe58fef865f614"><div class="ttname"><a href="item_8cpp.html#acf88c1e1cd1e4422cbfe58fef865f614">flag_MAG_DESTROY</a></div><div class="ttdeci">static const std::string flag_MAG_DESTROY(&quot;MAG_DESTROY&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ae6e515393e2ceb1d2e4e1d9c74aebd39"><div class="ttname"><a href="item_8cpp.html#ae6e515393e2ceb1d2e4e1d9c74aebd39">flag_MAG_EJECT</a></div><div class="ttdeci">static const std::string flag_MAG_EJECT(&quot;MAG_EJECT&quot;)</div></div>
<div class="ttc" id="anamespaceunits_html_a54442f1523294bc7b9946662beed96e6"><div class="ttname"><a href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a></div><div class="ttdeci">constexpr value_type to_kilojoule(const quantity&lt; value_type, energy_in_joule_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__energy_8h_source.html#l00046">units_energy.h:46</a></div></div>
<div class="ttc" id="anamespaceunits_html_ada24d52c1ffd0df8d52a363d013d3231"><div class="ttname"><a href="namespaceunits.html#ada24d52c1ffd0df8d52a363d013d3231">units::from_kilojoule</a></div><div class="ttdeci">constexpr quantity&lt; value_type, energy_in_joule_tag &gt; from_kilojoule(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units__energy_8h_source.html#l00032">units_energy.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item__contents_8cpp_source.html#l00200">item_contents::back()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8h_source.html#l02166">curammo</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item_8cpp.html#acf88c1e1cd1e4422cbfe58fef865f614">flag_MAG_DESTROY()</a>, <a class="el" href="item_8cpp.html#ae6e515393e2ceb1d2e4e1d9c74aebd39">flag_MAG_EJECT()</a>, <a class="el" href="item_8cpp.html#ac598f189b2cb0091f6d5f7ad687d8bdb">flag_USES_BIONIC_POWER()</a>, <a class="el" href="units__energy_8h_source.html#l00032">units::from_kilojoule()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; item &gt;::remove_item()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="units__energy_8h_source.html#l00046">units::to_kilojoule()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00288">vehicle_part::ammo_consume()</a>, <a class="el" href="character_8cpp_source.html#l07496">Character::consume_charges()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01762">activity_handlers::game_do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l04330">iuse::gasmask()</a>, <a class="el" href="monster_8cpp_source.html#l00197">monster::monster()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="iuse_8cpp_source.html#l02277">iuse::note_bionics()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02428">activity_handlers::oxytorch_do_turn()</a>, <a class="el" href="ranged_8cpp_source.html#l00755">npc::pretend_fire()</a>, <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02321">activity_handlers::vibe_do_turn()</a>.</p>

</div>
</div>
<a id="a624c3b7ec10ae766a9e75718af71e647" name="a624c3b7ec10ae766a9e75718af71e647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a624c3b7ec10ae766a9e75718af71e647">&#9670;&nbsp;</a></span>ammo_current()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> item::ammo_current </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific ammo type, returns "null" if item is neither ammo nor loaded with any. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07402">7402</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07403" name="l07403"></a><span class="lineno"> 7403</span>{</div>
<div class="line"><a id="l07404" name="l07404"></a><span class="lineno"> 7404</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *ammo = <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>();</div>
<div class="line"><a id="l07405" name="l07405"></a><span class="lineno"> 7405</span>    <span class="keywordflow">return</span> ammo ? ammo-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>() : <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">itype_id::NULL_ID</a>();</div>
<div class="line"><a id="l07406" name="l07406"></a><span class="lineno"> 7406</span>}</div>
<div class="ttc" id="aclassitem_html_a4adcc4a3a5f5fb20a4d245d79109640a"><div class="ttname"><a href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">item::ammo_data</a></div><div class="ttdeci">const itype * ammo_data() const</div><div class="ttdoc">Specific ammo data, returns nullptr if item is neither ammo nor loaded with any.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07376">item.cpp:7376</a></div></div>
<div class="ttc" id="astructitype_html_abc2596bacfc718fba56ab8076bab5d6b"><div class="ttname"><a href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">itype::get_id</a></div><div class="ttdeci">const itype_id &amp; get_id() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01070">itype.h:1070</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="itype_8h_source.html#l01070">itype::get_id()</a>, and <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; itype &gt;::NULL_ID()</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle__part_8cpp_source.html#l00211">vehicle_part::ammo_current()</a>, <a class="el" href="turret_8cpp_source.html#l00139">turret_data::ammo_options()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00097">aim_activity_actor::do_turn()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00699">avatar_action::fire_wielded_weapon()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="ranged_8cpp_source.html#l01776">gun_noise()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">player::gun_value()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="ranged_8cpp_source.html#l01666">make_gun_projectile()</a>, <a class="el" href="npctalk_8cpp_source.html#l01571">parse_tags()</a>, <a class="el" href="crafting_8cpp_source.html#l02292">remove_ammo()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="a4adcc4a3a5f5fb20a4d245d79109640a" name="a4adcc4a3a5f5fb20a4d245d79109640a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4adcc4a3a5f5fb20a4d245d79109640a">&#9670;&nbsp;</a></span>ammo_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structitype.html">itype</a> * item::ammo_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific ammo data, returns nullptr if item is neither ammo nor loaded with any. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07376">7376</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07377" name="l07377"></a><span class="lineno"> 7377</span>{</div>
<div class="line"><a id="l07378" name="l07378"></a><span class="lineno"> 7378</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *mag = <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>();</div>
<div class="line"><a id="l07379" name="l07379"></a><span class="lineno"> 7379</span>    <span class="keywordflow">if</span>( mag ) {</div>
<div class="line"><a id="l07380" name="l07380"></a><span class="lineno"> 7380</span>        <span class="keywordflow">return</span> mag-&gt;<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>();</div>
<div class="line"><a id="l07381" name="l07381"></a><span class="lineno"> 7381</span>    }</div>
<div class="line"><a id="l07382" name="l07382"></a><span class="lineno"> 7382</span> </div>
<div class="line"><a id="l07383" name="l07383"></a><span class="lineno"> 7383</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() ) {</div>
<div class="line"><a id="l07384" name="l07384"></a><span class="lineno"> 7384</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>;</div>
<div class="line"><a id="l07385" name="l07385"></a><span class="lineno"> 7385</span>    }</div>
<div class="line"><a id="l07386" name="l07386"></a><span class="lineno"> 7386</span> </div>
<div class="line"><a id="l07387" name="l07387"></a><span class="lineno"> 7387</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l07388" name="l07388"></a><span class="lineno"> 7388</span>        <span class="keywordflow">return</span> !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ? <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l07389" name="l07389"></a><span class="lineno"> 7389</span>    }</div>
<div class="line"><a id="l07390" name="l07390"></a><span class="lineno"> 7390</span> </div>
<div class="line"><a id="l07391" name="l07391"></a><span class="lineno"> 7391</span>    <span class="keyword">auto</span> mods = <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() : <a class="code hl_function" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a>();</div>
<div class="line"><a id="l07392" name="l07392"></a><span class="lineno"> 7392</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *e : mods ) {</div>
<div class="line"><a id="l07393" name="l07393"></a><span class="lineno"> 7393</span>        <span class="keywordflow">if</span>( !e-&gt;type-&gt;mod-&gt;ammo_modifier.empty() &amp;&amp; e-&gt;ammo_current() &amp;&amp;</div>
<div class="line"><a id="l07394" name="l07394"></a><span class="lineno"> 7394</span>            e-&gt;ammo_current().is_valid() ) {</div>
<div class="line"><a id="l07395" name="l07395"></a><span class="lineno"> 7395</span>            <span class="keywordflow">return</span> &amp;*e-&gt;ammo_current();</div>
<div class="line"><a id="l07396" name="l07396"></a><span class="lineno"> 7396</span>        }</div>
<div class="line"><a id="l07397" name="l07397"></a><span class="lineno"> 7397</span>    }</div>
<div class="line"><a id="l07398" name="l07398"></a><span class="lineno"> 7398</span> </div>
<div class="line"><a id="l07399" name="l07399"></a><span class="lineno"> 7399</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a>;</div>
<div class="line"><a id="l07400" name="l07400"></a><span class="lineno"> 7400</span>}</div>
<div class="ttc" id="aclassitem_html_ac3cc4d74d020cbd36ae490cbe88f9152"><div class="ttname"><a href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">item::is_ammo</a></div><div class="ttdeci">bool is_ammo() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06432">item.cpp:6432</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8h_source.html#l02166">curammo</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06432">is_ammo()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07402">ammo_current()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="turret_8cpp_source.html#l00113">turret_data::ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07471">ammo_effects()</a>, <a class="el" href="item_8cpp_source.html#l01848">ammo_info()</a>, <a class="el" href="ranged_8cpp_source.html#l01719">cycle_action()</a>, <a class="el" href="bionics_8cpp_source.html#l01064">Character::deactivate_bionic()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00699">avatar_action::fire_wielded_weapon()</a>, <a class="el" href="item_8cpp_source.html#l07119">gun_damage()</a>, <a class="el" href="item_8cpp_source.html#l07072">gun_dispersion()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="ranged_8cpp_source.html#l01776">gun_noise()</a>, <a class="el" href="item_8cpp_source.html#l07182">gun_range()</a>, <a class="el" href="item_8cpp_source.html#l07168">gun_recoil()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="ranged_8cpp_source.html#l01666">make_gun_projectile()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="player_8cpp_source.html#l02432">player::select_ammo()</a>, <a class="el" href="ranged_8cpp_source.html#l03036">target_ui::update_ammo_range_from_gun_mode()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01243">weapon_inventory_preset::weapon_inventory_preset()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="ab07d96e30c441a84435972df842f4c77" name="ab07d96e30c441a84435972df842f4c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab07d96e30c441a84435972df842f4c77">&#9670;&nbsp;</a></span>ammo_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> item::ammo_default </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>conversion</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get default ammo used by item or a null id if item does not have a default ammo type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversion</td><td>whether to include the effect of any flags or mods which convert the type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d" title="Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.">itype_id::NULL_ID()</a> if item does not use a specific ammo type (and is consequently not reloadable) </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07439">7439</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07440" name="l07440"></a><span class="lineno"> 7440</span>{</div>
<div class="line"><a id="l07441" name="l07441"></a><span class="lineno"> 7441</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l07442" name="l07442"></a><span class="lineno"> 7442</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;default_ammo;</div>
<div class="line"><a id="l07443" name="l07443"></a><span class="lineno"> 7443</span>    }</div>
<div class="line"><a id="l07444" name="l07444"></a><span class="lineno"> 7444</span> </div>
<div class="line"><a id="l07445" name="l07445"></a><span class="lineno"> 7445</span>    <span class="keyword">const</span> std::set&lt;ammotype&gt; &amp;atypes = <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>( conversion );</div>
<div class="line"><a id="l07446" name="l07446"></a><span class="lineno"> 7446</span>    <span class="keywordflow">if</span>( !atypes.empty() ) {</div>
<div class="line"><a id="l07447" name="l07447"></a><span class="lineno"> 7447</span>        <a class="code hl_class" href="classstring__id.html">itype_id</a> res = <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( *atypes.begin() )-&gt;<a class="code hl_function" href="classammunition__type.html#a78e84b57881c38e74df1c0b58a804ca0">default_ammotype</a>();</div>
<div class="line"><a id="l07448" name="l07448"></a><span class="lineno"> 7448</span>        <span class="keywordflow">if</span>( !res.<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a id="l07449" name="l07449"></a><span class="lineno"> 7449</span>            <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07450" name="l07450"></a><span class="lineno"> 7450</span>        }</div>
<div class="line"><a id="l07451" name="l07451"></a><span class="lineno"> 7451</span>    }</div>
<div class="line"><a id="l07452" name="l07452"></a><span class="lineno"> 7452</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">itype_id::NULL_ID</a>();</div>
<div class="line"><a id="l07453" name="l07453"></a><span class="lineno"> 7453</span>}</div>
<div class="ttc" id="aclassammunition__type_html_a78e84b57881c38e74df1c0b58a804ca0"><div class="ttname"><a href="classammunition__type.html#a78e84b57881c38e74df1c0b58a804ca0">ammunition_type::default_ammotype</a></div><div class="ttdeci">const itype_id &amp; default_ammotype() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo_8h_source.html#l00021">ammo.h:21</a></div></div>
<div class="ttc" id="aclassstring__id_html_ac180a60056901aaf79f5c4b728a257bd"><div class="ttname"><a href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">string_id::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">Returns whether this id is empty.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00298">string_id.h:298</a></div></div>
<div class="ttc" id="atype__id_8h_html_a4a240e1107e45f10d64b78f1b5f58d59"><div class="ttname"><a href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a></div><div class="ttdeci">string_id&lt; ammunition_type &gt; ammotype</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00012">type_id.h:12</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="ammo_8h_source.html#l00021">ammunition_type::default_ammotype()</a>, <a class="el" href="string__id_8h_source.html#l00298">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; itype &gt;::NULL_ID()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00394">basecamp::add_resource()</a>, <a class="el" href="turret_8cpp_source.html#l00124">turret_data::ammo_current()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="dump_8cpp_source.html#l00037">game::dump_stats()</a>, <a class="el" href="npcmove_8cpp_source.html#l02116">npc::enough_time_to_reload()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">player::gun_value()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00557">gun_actor::shoot()</a>, <a class="el" href="npc_8cpp_source.html#l00586">starting_inv()</a>, <a class="el" href="npc_8cpp_source.html#l00802">npc::starting_weapon()</a>, and <a class="el" href="wish_8cpp_source.html#l00535">debug_menu::wishitem()</a>.</p>

</div>
</div>
<a id="a75fa277bb39c1d2922137986c67d48fb" name="a75fa277bb39c1d2922137986c67d48fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75fa277bb39c1d2922137986c67d48fb">&#9670;&nbsp;</a></span>ammo_effects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="map_8cpp.html#a162c25498e3347a41712a4746b8b5100">ammo_effect_str_id</a> &gt; item::ammo_effects </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_ammo</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get ammo effects for item optionally inclusive of any resulting from the loaded ammo. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07471">7471</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07472" name="l07472"></a><span class="lineno"> 7472</span>{</div>
<div class="line"><a id="l07473" name="l07473"></a><span class="lineno"> 7473</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07474" name="l07474"></a><span class="lineno"> 7474</span>        <span class="keywordflow">return</span> std::set&lt;ammo_effect_str_id&gt;();</div>
<div class="line"><a id="l07475" name="l07475"></a><span class="lineno"> 7475</span>    }</div>
<div class="line"><a id="l07476" name="l07476"></a><span class="lineno"> 7476</span> </div>
<div class="line"><a id="l07477" name="l07477"></a><span class="lineno"> 7477</span>    std::set&lt;ammo_effect_str_id&gt; res = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo_effects;</div>
<div class="line"><a id="l07478" name="l07478"></a><span class="lineno"> 7478</span>    <span class="keywordflow">if</span>( with_ammo &amp;&amp; <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() ) {</div>
<div class="line"><a id="l07479" name="l07479"></a><span class="lineno"> 7479</span>        res.insert( <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;ammo-&gt;ammo_effects.begin(), <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;ammo-&gt;ammo_effects.end() );</div>
<div class="line"><a id="l07480" name="l07480"></a><span class="lineno"> 7480</span>    }</div>
<div class="line"><a id="l07481" name="l07481"></a><span class="lineno"> 7481</span> </div>
<div class="line"><a id="l07482" name="l07482"></a><span class="lineno"> 7482</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l07483" name="l07483"></a><span class="lineno"> 7483</span>        res.insert( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;ammo_effects.begin(), <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;ammo_effects.end() );</div>
<div class="line"><a id="l07484" name="l07484"></a><span class="lineno"> 7484</span>    }</div>
<div class="line"><a id="l07485" name="l07485"></a><span class="lineno"> 7485</span> </div>
<div class="line"><a id="l07486" name="l07486"></a><span class="lineno"> 7486</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07487" name="l07487"></a><span class="lineno"> 7487</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="turret_8cpp_source.html#l00176">turret_data::ammo_effects()</a>, <a class="el" href="ranged_8cpp_source.html#l01776">gun_noise()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, and <a class="el" href="ranged_8cpp_source.html#l01666">make_gun_projectile()</a>.</p>

</div>
</div>
<a id="ad1a1b9e061715c122074e2df204d9bbc" name="ad1a1b9e061715c122074e2df204d9bbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1a1b9e061715c122074e2df204d9bbc">&#9670;&nbsp;</a></span>ammo_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::ammo_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01848">1848</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>{</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() || !<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() || !parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab4804ffed45bd62b1cf22c64689f5f73">iteminfo_parts::AMMO_REMAINING_OR_TYPES</a> ) ) {</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>    }</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span> </div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> = <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt; 0 ) {</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Ammunition&lt;/bold&gt;: &quot;</span> ),</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>                           <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">nname</a>( <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() ) );</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() ) {</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Ammunition type&lt;/bold&gt;: &quot;</span> ), <a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>()-&gt;<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>() );</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>    }</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span> </div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__ammo.html">islot_ammo</a> &amp;ammo = *<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>;</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>    <span class="keywordflow">if</span>( !ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a>.<a class="code hl_function" href="structdamage__instance.html#af81002fc0a5fafe2690d31403941d2d6">empty</a>() || ammo.<a class="code hl_variable" href="structislot__ammo.html#a405f6a825e91ef797ff7a9d25b3d8d74">force_stat_display</a> ) {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>        <span class="keywordtype">bool</span> has_flat_dmg = !ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a>.<a class="code hl_function" href="structdamage__instance.html#af81002fc0a5fafe2690d31403941d2d6">empty</a>() &amp;&amp; ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a>.<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a>.front().amount &gt; 0;</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>        <span class="keywordtype">bool</span> display_flat_dmg = parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4432c18ca4c6fd70a6b99fd5a7e8f054">iteminfo_parts::AMMO_DAMAGE_VALUE</a> );</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>        <span class="comment">// TODO: Multiple units</span></div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>        <span class="keywordtype">bool</span> has_dmg_multiplier = ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a>.<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a>.front().damage_multiplier != 1.0;</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>        <span class="keywordtype">bool</span> display_dmg_multiplier = parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaae58473536d734de42d07bf9d27600975">iteminfo_parts::AMMO_DAMAGE_PROPORTIONAL</a> );</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>        <span class="keywordtype">bool</span> didnt_print_dmg = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>        <span class="keywordflow">if</span>( has_flat_dmg &amp;&amp; has_dmg_multiplier</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>            &amp;&amp; has_dmg_multiplier &amp;&amp; display_dmg_multiplier ) {</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Damage: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a>.<a class="code hl_function" href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">total_damage</a>() );</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <span class="stringliteral">&quot;/&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>                               ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a>.<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a>.front().damage_multiplier );</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>            <span class="comment">// Messy ifs...</span></div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( display_dmg_multiplier &amp;&amp; ( has_dmg_multiplier || !has_flat_dmg ) ) {</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Damage multiplier: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>                               ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a>.<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a>.front().damage_multiplier );</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( display_flat_dmg ) {</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Damage: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a>.<a class="code hl_function" href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">total_damage</a>() );</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>            didnt_print_dmg = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>        }</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span> </div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>        <span class="comment">// Ugly, but handles edge cases better than mandatory space</span></div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>        <span class="keyword">static</span> <span class="keyword">const</span> std::string no_space;</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>        <span class="keyword">const</span> std::string &amp;maybe_space = didnt_print_dmg ? no_space : <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a>;</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span> </div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>        <span class="comment">// TODO: Deduplicate with damage display</span></div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>        <span class="keywordtype">bool</span> has_flat_arpen = <a class="code hl_function" href="item_8cpp.html#ae629e87a352693e7f8d1895a698237d2">get_ranged_pierce</a>( ammo ) != 0;</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>        <span class="keywordtype">bool</span> display_flat_arpen = parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa2d91ee39d9f8e2e454e450aaac74c3c7">iteminfo_parts::AMMO_DAMAGE_AP</a> );</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>        <span class="keywordtype">bool</span> has_armor_mult = <a class="code hl_function" href="item_8cpp.html#a33d9cbcc3a99c0a1680fcd8b8163feac">get_ranged_armor_mult</a>( ammo ) != 1.0;</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>        <span class="keywordtype">bool</span> display_armor_mult = parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6e898d21fbd90000d8c9b4b82c751b3e">iteminfo_parts::AMMO_DAMAGE_AP_PROPORTIONAL</a> );</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>        <span class="keywordflow">if</span>( has_flat_arpen &amp;&amp; display_flat_arpen</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>            &amp;&amp; has_armor_mult &amp;&amp; display_armor_mult ) {</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, maybe_space + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Armor-pierce: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, <a class="code hl_function" href="item_8cpp.html#ae629e87a352693e7f8d1895a698237d2">get_ranged_pierce</a>( ammo ) );</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <span class="stringliteral">&quot;/&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>                               <a class="code hl_function" href="item_8cpp.html#a33d9cbcc3a99c0a1680fcd8b8163feac">get_ranged_armor_mult</a>( ammo ) );</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( has_armor_mult &amp;&amp; display_armor_mult ) {</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, maybe_space + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Armor multiplier: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, <a class="code hl_function" href="item_8cpp.html#a33d9cbcc3a99c0a1680fcd8b8163feac">get_ranged_armor_mult</a>( ammo ) );</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( display_flat_arpen ) {</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, maybe_space + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Armor-pierce: &quot;</span> ), <a class="code hl_function" href="item_8cpp.html#ae629e87a352693e7f8d1895a698237d2">get_ranged_pierce</a>( ammo ) );</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>        }</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1bdd24bef41876fa1bbc468b1b424e22">iteminfo_parts::AMMO_DAMAGE_RANGE</a> ) ) {</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Range: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, ammo.<a class="code hl_variable" href="structislot__ammo.html#afed7e1f8c5f1253f5e50e0616bb20109">shape</a></div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>                               ? <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( ammo.<a class="code hl_variable" href="structislot__ammo.html#afed7e1f8c5f1253f5e50e0616bb20109">shape</a>-&gt;get_range() )</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>                               : ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#af73392bcb456d04c3fdf1a413b6b3a9e">range</a> );</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>        }</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa224525ca8e47b698bde157fed0155b8">iteminfo_parts::AMMO_DAMAGE_DISPERSION</a> ) ) {</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Dispersion: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a497cd4533098e79f14f8a97fcec6ca1a">dispersion</a> );</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>        }</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa55a9e0ce1999085f92e071912acf1111">iteminfo_parts::AMMO_DAMAGE_RECOIL</a> ) ) {</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Recoil: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, ammo.<a class="code hl_variable" href="structislot__ammo.html#a9bf197805d7d623f18b832dd3e5dc770">recoil</a> );</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>        }</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>    }</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span> </div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>    <span class="comment">// TODO: De-hardcode. Have it imply a flag? Just include description_on_item in ammo_effect struct?</span></div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>    std::vector&lt;std::string&gt; fx;</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>    <span class="keywordflow">if</span>( ammo.<a class="code hl_variable" href="structislot__ammo.html#afed7e1f8c5f1253f5e50e0616bb20109">shape</a> &amp;&amp;</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9175246b01ceb765823b74595a4ed014">iteminfo_parts::AMMO_SHAPE</a> ) ) {</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>        fx.emplace_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>(</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>                             <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This ammo will produce effects with the following shape:\n&lt;bold&gt;%s&lt;/bold&gt;&quot;</span> ),</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>                             ammo.<a class="code hl_variable" href="structislot__ammo.html#afed7e1f8c5f1253f5e50e0616bb20109">shape</a>-&gt;get_description() ) );</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>    }</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>    <span class="keywordflow">if</span>( ammo.<a class="code hl_variable" href="structislot__ammo.html#abff0a6b76c7f55b8949bd970d25dd05b">ammo_effects</a>.count( <a class="code hl_variable" href="item_8cpp.html#afa18fa10e4bc2e18f3911cebb559b7bd">ammo_effect_RECYCLED</a> ) &amp;&amp;</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa2663c3b9f1c1ed682d1f4f69ba120c79">iteminfo_parts::AMMO_FX_RECYCLED</a> ) ) {</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>        fx.emplace_back( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This ammo has been &lt;bad&gt;hand-loaded&lt;/bad&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>    }</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>    <span class="keywordflow">if</span>( ammo.<a class="code hl_variable" href="structislot__ammo.html#abff0a6b76c7f55b8949bd970d25dd05b">ammo_effects</a>.count( <a class="code hl_variable" href="item_8cpp.html#a680b9ce8c9824607142f83b2260dd3ef">ammo_effect_BLACKPOWDER</a> ) &amp;&amp;</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa039446a4e6279997122a740b0df3ea31">iteminfo_parts::AMMO_FX_BLACKPOWDER</a> ) ) {</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>        fx.emplace_back(</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This ammo has been loaded with &lt;bad&gt;blackpowder&lt;/bad&gt;, and will quickly &quot;</span></div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>               <span class="stringliteral">&quot;clog up most guns, and cause rust if the gun is not cleaned.&quot;</span> ) );</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>    }</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>    <span class="keywordflow">if</span>( ammo.<a class="code hl_variable" href="structislot__ammo.html#abff0a6b76c7f55b8949bd970d25dd05b">ammo_effects</a>.count( <a class="code hl_variable" href="item_8cpp.html#a07dd3ee8a326de00a3fd0c98cb57aa32">ammo_effect_NEVER_MISFIRES</a> ) &amp;&amp;</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa23133795303bd0faeeeb6810bb3ad640">iteminfo_parts::AMMO_FX_CANTMISSFIRE</a> ) ) {</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>        fx.emplace_back( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This ammo &lt;good&gt;never misfires&lt;/good&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>    }</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>    <span class="keywordflow">if</span>( ammo.<a class="code hl_variable" href="structislot__ammo.html#abff0a6b76c7f55b8949bd970d25dd05b">ammo_effects</a>.count( <a class="code hl_variable" href="item_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">ammo_effect_INCENDIARY</a> ) &amp;&amp;</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa915a3c09f875175875701035a29aca5e">iteminfo_parts::AMMO_FX_INCENDIARY</a> ) ) {</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>        fx.emplace_back( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This ammo &lt;neutral&gt;starts fires&lt;/neutral&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>    }</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>    <span class="keywordflow">if</span>( !fx.empty() ) {</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;e : fx ) {</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, e );</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>        }</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>    }</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>}</div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09749">item.cpp:9749</a></div></div>
<div class="ttc" id="aclassitem_html_a60ce7c1072cdd4a6384d95598ba10231"><div class="ttname"><a href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">item::info</a></div><div class="ttdeci">std::string info(bool showtext=false) const</div><div class="ttdoc">Return all the information about the item and its type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01101">item.cpp:1101</a></div></div>
<div class="ttc" id="aclassitem_html_aab4f4feeb64f169f408c24d03e0ce61f"><div class="ttname"><a href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">item::ammo_type</a></div><div class="ttdeci">ammotype ammo_type() const</div><div class="ttdoc">Ammo type of an ammo item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07431">item.cpp:7431</a></div></div>
<div class="ttc" id="aclassiteminfo__query_html_a7878ab966f3d3ae0e941cfc61d9c8481"><div class="ttname"><a href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">iteminfo_query::test</a></div><div class="ttdeci">bool test(const iteminfo_parts &amp;value) const</div><div class="ttdef"><b>Definition:</b> <a href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query.cpp:24</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a07dd3ee8a326de00a3fd0c98cb57aa32"><div class="ttname"><a href="item_8cpp.html#a07dd3ee8a326de00a3fd0c98cb57aa32">ammo_effect_NEVER_MISFIRES</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_NEVER_MISFIRES(&quot;NEVER_MISFIRES&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a33d9cbcc3a99c0a1680fcd8b8163feac"><div class="ttname"><a href="item_8cpp.html#a33d9cbcc3a99c0a1680fcd8b8163feac">get_ranged_armor_mult</a></div><div class="ttdeci">static float get_ranged_armor_mult(const common_ranged_data &amp;ranged)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01092">item.cpp:1092</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a506fc166f774a4ac78c54dd998286ef1"><div class="ttname"><a href="item_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">ammo_effect_INCENDIARY</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_INCENDIARY(&quot;INCENDIARY&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a680b9ce8c9824607142f83b2260dd3ef"><div class="ttname"><a href="item_8cpp.html#a680b9ce8c9824607142f83b2260dd3ef">ammo_effect_BLACKPOWDER</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_BLACKPOWDER(&quot;BLACKPOWDER&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa7bd2127a62492fce2df64589164987d"><div class="ttname"><a href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a></div><div class="ttdeci">static void insert_separation_line(std::vector&lt; iteminfo &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01306">item.cpp:1306</a></div></div>
<div class="ttc" id="aitem_8cpp_html_ae629e87a352693e7f8d1895a698237d2"><div class="ttname"><a href="item_8cpp.html#ae629e87a352693e7f8d1895a698237d2">get_ranged_pierce</a></div><div class="ttdeci">static int get_ranged_pierce(const common_ranged_data &amp;ranged)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01083">item.cpp:1083</a></div></div>
<div class="ttc" id="aitem_8cpp_html_afa18fa10e4bc2e18f3911cebb559b7bd"><div class="ttname"><a href="item_8cpp.html#afa18fa10e4bc2e18f3911cebb559b7bd">ammo_effect_RECYCLED</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_RECYCLED(&quot;RECYCLED&quot;)</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa039446a4e6279997122a740b0df3ea31"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa039446a4e6279997122a740b0df3ea31">iteminfo_parts::AMMO_FX_BLACKPOWDER</a></div><div class="ttdeci">@ AMMO_FX_BLACKPOWDER</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa1bdd24bef41876fa1bbc468b1b424e22"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1bdd24bef41876fa1bbc468b1b424e22">iteminfo_parts::AMMO_DAMAGE_RANGE</a></div><div class="ttdeci">@ AMMO_DAMAGE_RANGE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa23133795303bd0faeeeb6810bb3ad640"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa23133795303bd0faeeeb6810bb3ad640">iteminfo_parts::AMMO_FX_CANTMISSFIRE</a></div><div class="ttdeci">@ AMMO_FX_CANTMISSFIRE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa2663c3b9f1c1ed682d1f4f69ba120c79"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa2663c3b9f1c1ed682d1f4f69ba120c79">iteminfo_parts::AMMO_FX_RECYCLED</a></div><div class="ttdeci">@ AMMO_FX_RECYCLED</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa2d91ee39d9f8e2e454e450aaac74c3c7"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa2d91ee39d9f8e2e454e450aaac74c3c7">iteminfo_parts::AMMO_DAMAGE_AP</a></div><div class="ttdeci">@ AMMO_DAMAGE_AP</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa4432c18ca4c6fd70a6b99fd5a7e8f054"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4432c18ca4c6fd70a6b99fd5a7e8f054">iteminfo_parts::AMMO_DAMAGE_VALUE</a></div><div class="ttdeci">@ AMMO_DAMAGE_VALUE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa55a9e0ce1999085f92e071912acf1111"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa55a9e0ce1999085f92e071912acf1111">iteminfo_parts::AMMO_DAMAGE_RECOIL</a></div><div class="ttdeci">@ AMMO_DAMAGE_RECOIL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa6e898d21fbd90000d8c9b4b82c751b3e"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6e898d21fbd90000d8c9b4b82c751b3e">iteminfo_parts::AMMO_DAMAGE_AP_PROPORTIONAL</a></div><div class="ttdeci">@ AMMO_DAMAGE_AP_PROPORTIONAL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa915a3c09f875175875701035a29aca5e"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa915a3c09f875175875701035a29aca5e">iteminfo_parts::AMMO_FX_INCENDIARY</a></div><div class="ttdeci">@ AMMO_FX_INCENDIARY</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa9175246b01ceb765823b74595a4ed014"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9175246b01ceb765823b74595a4ed014">iteminfo_parts::AMMO_SHAPE</a></div><div class="ttdeci">@ AMMO_SHAPE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaa224525ca8e47b698bde157fed0155b8"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa224525ca8e47b698bde157fed0155b8">iteminfo_parts::AMMO_DAMAGE_DISPERSION</a></div><div class="ttdeci">@ AMMO_DAMAGE_DISPERSION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaab4804ffed45bd62b1cf22c64689f5f73"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab4804ffed45bd62b1cf22c64689f5f73">iteminfo_parts::AMMO_REMAINING_OR_TYPES</a></div><div class="ttdeci">@ AMMO_REMAINING_OR_TYPES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaae58473536d734de42d07bf9d27600975"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaae58473536d734de42d07bf9d27600975">iteminfo_parts::AMMO_DAMAGE_PROPORTIONAL</a></div><div class="ttdeci">@ AMMO_DAMAGE_PROPORTIONAL</div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04051">overmap.cpp:4051</a></div></div>
<div class="ttc" id="anamespacesign_html_a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d"><div class="ttname"><a href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">sign::space</a></div><div class="ttdeci">@ space</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l01362">fmtlib_format.h:1362</a></div></div>
<div class="ttc" id="astructcommon__ranged__data_html_a497cd4533098e79f14f8a97fcec6ca1a"><div class="ttname"><a href="structcommon__ranged__data.html#a497cd4533098e79f14f8a97fcec6ca1a">common_ranged_data::dispersion</a></div><div class="ttdeci">int dispersion</div><div class="ttdoc">Dispersion &quot;bonus&quot; from gun.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00420">itype.h:420</a></div></div>
<div class="ttc" id="astructcommon__ranged__data_html_a94254f1acb94261bb47c4b7aaa3b0c89"><div class="ttname"><a href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">common_ranged_data::damage</a></div><div class="ttdeci">damage_instance damage</div><div class="ttdoc">Damage, armor piercing and multipliers for each.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00412">itype.h:412</a></div></div>
<div class="ttc" id="astructcommon__ranged__data_html_af73392bcb456d04c3fdf1a413b6b3a9e"><div class="ttname"><a href="structcommon__ranged__data.html#af73392bcb456d04c3fdf1a413b6b3a9e">common_ranged_data::range</a></div><div class="ttdeci">int range</div><div class="ttdoc">Range bonus from gun.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00416">itype.h:416</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a2cc3ee4ff8f77ab6cd74168b1999246a"><div class="ttname"><a href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_instance::damage_units</a></div><div class="ttdeci">std::vector&lt; damage_unit &gt; damage_units</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00052">damage.h:52</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a96f6f6d008ed8744ce549cefcfec3951"><div class="ttname"><a href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">damage_instance::total_damage</a></div><div class="ttdeci">float total_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00075">damage.cpp:75</a></div></div>
<div class="ttc" id="astructdamage__instance_html_af81002fc0a5fafe2690d31403941d2d6"><div class="ttname"><a href="structdamage__instance.html#af81002fc0a5fafe2690d31403941d2d6">damage_instance::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00088">damage.cpp:88</a></div></div>
<div class="ttc" id="astructislot__ammo_html"><div class="ttname"><a href="structislot__ammo.html">islot_ammo</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00672">itype.h:672</a></div></div>
<div class="ttc" id="astructislot__ammo_html_a405f6a825e91ef797ff7a9d25b3d8d74"><div class="ttname"><a href="structislot__ammo.html#a405f6a825e91ef797ff7a9d25b3d8d74">islot_ammo::force_stat_display</a></div><div class="ttdeci">cata::optional&lt; bool &gt; force_stat_display</div><div class="ttdoc">Some combat ammo might not have a damage value Set this to make it show as combat ammo anyway.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00733">itype.h:733</a></div></div>
<div class="ttc" id="astructislot__ammo_html_a9bf197805d7d623f18b832dd3e5dc770"><div class="ttname"><a href="structislot__ammo.html#a9bf197805d7d623f18b832dd3e5dc770">islot_ammo::recoil</a></div><div class="ttdeci">int recoil</div><div class="ttdoc">Recoil (per shot), roughly equivalent to kinetic energy (in Joules)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00713">itype.h:713</a></div></div>
<div class="ttc" id="astructislot__ammo_html_abff0a6b76c7f55b8949bd970d25dd05b"><div class="ttname"><a href="structislot__ammo.html#abff0a6b76c7f55b8949bd970d25dd05b">islot_ammo::ammo_effects</a></div><div class="ttdeci">std::set&lt; ammo_effect_str_id &gt; ammo_effects</div><div class="ttdoc">See ammo_effect struct.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00705">itype.h:705</a></div></div>
<div class="ttc" id="astructislot__ammo_html_afed7e1f8c5f1253f5e50e0616bb20109"><div class="ttname"><a href="structislot__ammo.html#afed7e1f8c5f1253f5e50e0616bb20109">islot_ammo::shape</a></div><div class="ttdeci">cata::optional&lt; shape_factory &gt; shape</div><div class="ttdoc">AoE shape or null if it's a projectile.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00738">itype.h:738</a></div></div>
<div class="ttc" id="astructiteminfo_html_a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890"><div class="ttname"><a href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a></div><div class="ttdeci">@ no_newline</div><div class="ttdoc">Do not follow with a newline.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00144">item.h:144</a></div></div>
<div class="ttc" id="astructiteminfo_html_a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698"><div class="ttname"><a href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a></div><div class="ttdeci">@ is_decimal</div><div class="ttdoc">Print as decimal rather than integer.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00142">item.h:142</a></div></div>
<div class="ttc" id="astructiteminfo_html_a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801"><div class="ttname"><a href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a></div><div class="ttdeci">@ lower_is_better</div><div class="ttdoc">Lower values are better for this stat.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00145">item.h:145</a></div></div>
<div class="ttc" id="astructitype_html_a7cb80d77696cefb42ac6e75756b47e60"><div class="ttname"><a href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">itype::ammo</a></div><div class="ttdeci">cata::value_ptr&lt; islot_ammo &gt; ammo</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00862">itype.h:862</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa2d91ee39d9f8e2e454e450aaac74c3c7">AMMO_DAMAGE_AP</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6e898d21fbd90000d8c9b4b82c751b3e">AMMO_DAMAGE_AP_PROPORTIONAL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa224525ca8e47b698bde157fed0155b8">AMMO_DAMAGE_DISPERSION</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaae58473536d734de42d07bf9d27600975">AMMO_DAMAGE_PROPORTIONAL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1bdd24bef41876fa1bbc468b1b424e22">AMMO_DAMAGE_RANGE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa55a9e0ce1999085f92e071912acf1111">AMMO_DAMAGE_RECOIL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4432c18ca4c6fd70a6b99fd5a7e8f054">AMMO_DAMAGE_VALUE</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp.html#a680b9ce8c9824607142f83b2260dd3ef">ammo_effect_BLACKPOWDER</a>, <a class="el" href="item_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">ammo_effect_INCENDIARY</a>, <a class="el" href="item_8cpp.html#a07dd3ee8a326de00a3fd0c98cb57aa32">ammo_effect_NEVER_MISFIRES</a>, <a class="el" href="item_8cpp.html#afa18fa10e4bc2e18f3911cebb559b7bd">ammo_effect_RECYCLED</a>, <a class="el" href="itype_8h_source.html#l00705">islot_ammo::ammo_effects</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa039446a4e6279997122a740b0df3ea31">AMMO_FX_BLACKPOWDER</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa23133795303bd0faeeeb6810bb3ad640">AMMO_FX_CANTMISSFIRE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa915a3c09f875175875701035a29aca5e">AMMO_FX_INCENDIARY</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa2663c3b9f1c1ed682d1f4f69ba120c79">AMMO_FX_RECYCLED</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab4804ffed45bd62b1cf22c64689f5f73">AMMO_REMAINING_OR_TYPES</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9175246b01ceb765823b74595a4ed014">AMMO_SHAPE</a>, <a class="el" href="item_8cpp_source.html#l07431">ammo_type()</a>, <a class="el" href="itype_8h_source.html#l00412">common_ranged_data::damage</a>, <a class="el" href="damage_8h_source.html#l00052">damage_instance::damage_units</a>, <a class="el" href="itype_8h_source.html#l00420">common_ranged_data::dispersion</a>, <a class="el" href="damage_8cpp_source.html#l00088">damage_instance::empty()</a>, <a class="el" href="itype_8h_source.html#l00733">islot_ammo::force_stat_display</a>, <a class="el" href="item_8cpp_source.html#l01092">get_ranged_armor_mult()</a>, <a class="el" href="item_8cpp_source.html#l01083">get_ranged_pierce()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06432">is_ammo()</a>, <a class="el" href="item_8h_source.html#l00142">iteminfo::is_decimal</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8h_source.html#l00145">iteminfo::lower_is_better</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, <a class="el" href="item_8cpp_source.html#l09749">nname()</a>, <a class="el" href="item_8h_source.html#l00144">iteminfo::no_newline</a>, <a class="el" href="itype_8h_source.html#l00416">common_ranged_data::range</a>, <a class="el" href="itype_8h_source.html#l00713">islot_ammo::recoil</a>, <a class="el" href="itype_8h_source.html#l00738">islot_ammo::shape</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::space</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, and <a class="el" href="damage_8cpp_source.html#l00075">damage_instance::total_damage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a26c025fd4909bd31c8e91ed87905507b" name="a26c025fd4909bd31c8e91ed87905507b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26c025fd4909bd31c8e91ed87905507b">&#9670;&nbsp;</a></span>ammo_remaining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::ammo_remaining </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Quantity of ammunition currently loaded in tool, gun or auxiliary gunmod. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07226">7226</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07227" name="l07227"></a><span class="lineno"> 7227</span>{</div>
<div class="line"><a id="l07228" name="l07228"></a><span class="lineno"> 7228</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *mag = <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>();</div>
<div class="line"><a id="l07229" name="l07229"></a><span class="lineno"> 7229</span>    <span class="keywordflow">if</span>( mag ) {</div>
<div class="line"><a id="l07230" name="l07230"></a><span class="lineno"> 7230</span>        <span class="keywordflow">return</span> mag-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>();</div>
<div class="line"><a id="l07231" name="l07231"></a><span class="lineno"> 7231</span>    }</div>
<div class="line"><a id="l07232" name="l07232"></a><span class="lineno"> 7232</span> </div>
<div class="line"><a id="l07233" name="l07233"></a><span class="lineno"> 7233</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() || <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07234" name="l07234"></a><span class="lineno"> 7234</span>        <span class="comment">// includes auxiliary gunmods</span></div>
<div class="line"><a id="l07235" name="l07235"></a><span class="lineno"> 7235</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ac598f189b2cb0091f6d5f7ad687d8bdb">flag_USES_BIONIC_POWER</a> ) ) {</div>
<div class="line"><a id="l07236" name="l07236"></a><span class="lineno"> 7236</span>            <span class="keywordtype">int</span> power = <a class="code hl_function" href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_power_level() );</div>
<div class="line"><a id="l07237" name="l07237"></a><span class="lineno"> 7237</span>            <span class="keywordflow">return</span> power;</div>
<div class="line"><a id="l07238" name="l07238"></a><span class="lineno"> 7238</span>        }</div>
<div class="line"><a id="l07239" name="l07239"></a><span class="lineno"> 7239</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l07240" name="l07240"></a><span class="lineno"> 7240</span>    }</div>
<div class="line"><a id="l07241" name="l07241"></a><span class="lineno"> 7241</span> </div>
<div class="line"><a id="l07242" name="l07242"></a><span class="lineno"> 7242</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() || <a class="code hl_function" href="classitem.html#a916a4a16b33de5c257fff71d9e579578">is_bandolier</a>() ) {</div>
<div class="line"><a id="l07243" name="l07243"></a><span class="lineno"> 7243</span>        <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><a id="l07244" name="l07244"></a><span class="lineno"> 7244</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *e : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l07245" name="l07245"></a><span class="lineno"> 7245</span>            res += e-&gt;charges;</div>
<div class="line"><a id="l07246" name="l07246"></a><span class="lineno"> 7246</span>        }</div>
<div class="line"><a id="l07247" name="l07247"></a><span class="lineno"> 7247</span>        <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07248" name="l07248"></a><span class="lineno"> 7248</span>    }</div>
<div class="line"><a id="l07249" name="l07249"></a><span class="lineno"> 7249</span> </div>
<div class="line"><a id="l07250" name="l07250"></a><span class="lineno"> 7250</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07251" name="l07251"></a><span class="lineno"> 7251</span>}</div>
<div class="ttc" id="aclassitem__contents_html_a7f56c09b0d592bdc425a578d02b4b44d"><div class="ttname"><a href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">item_contents::all_items_top</a></div><div class="ttdeci">std::list&lt; item * &gt; all_items_top()</div><div class="ttdoc">returns a list of pointers to all top-level items</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00128">item_contents.cpp:128</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8cpp.html#ac598f189b2cb0091f6d5f7ad687d8bdb">flag_USES_BIONIC_POWER()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06422">is_bandolier()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, and <a class="el" href="units__energy_8h_source.html#l00046">units::to_kilojoule()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="character_8cpp_source.html#l06497">Character::ammo_count_for()</a>, <a class="el" href="item_8cpp_source.html#l01848">ammo_info()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00241">vehicle_part::ammo_remaining()</a>, <a class="el" href="turret_8cpp_source.html#l00094">turret_data::ammo_remaining()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00254">vehicle_part::ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l07319">ammo_sufficient()</a>, <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="turret_8cpp_source.html#l00212">turret_data::can_reload()</a>, <a class="el" href="turret_8cpp_source.html#l00224">turret_data::can_unload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01429">firestarter_actor::can_use()</a>, <a class="el" href="bionics_8cpp_source.html#l00463">npc::check_or_use_weapon_cbm()</a>, <a class="el" href="character_8cpp_source.html#l07496">Character::consume_charges()</a>, <a class="el" href="iuse_8cpp_source.html#l03090">iuse::cs_lajatang_off()</a>, <a class="el" href="bionics_8cpp_source.html#l01064">Character::deactivate_bionic()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="npcmove_8cpp_source.html#l04547">npc::do_reload()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00097">aim_activity_actor::do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l03099">iuse::ecs_lajatang_off()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="iuse_8cpp_source.html#l07877">iuse::foodperson()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="item_8cpp_source.html#l08223">getlight_emit()</a>, <a class="el" href="item_8cpp_source.html#l07168">gun_recoil()</a>, <a class="el" href="ranged_8cpp_source.html#l03683">ranged::gunmode_checks_weapon()</a>, <a class="el" href="iuse_8cpp_source.html#l04466">iuse::hand_crank()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02297">activity_handlers::hand_crank_do_turn()</a>, <a class="el" href="character_8cpp_source.html#l07442">Character::has_enough_charges()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01921">vehicle::interact_with()</a>, <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item__action_8cpp_source.html#l00104">item_action_generator::map_actions_to_items()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="iuse_8cpp_source.html#l04862">iuse::oxytorch()</a>, <a class="el" href="ranged_8cpp_source.html#l03447">target_ui::panel_gun_info()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="game_8cpp_source.html#l11839">game::process_artifact()</a>, <a class="el" href="player_8cpp_source.html#l01782">player::process_items()</a>, <a class="el" href="map_8cpp_source.html#l04474">process_vehicle_items()</a>, <a class="el" href="item_8cpp_source.html#l07889">item::reload_option::qty()</a>, <a class="el" href="iuse_8cpp_source.html#l02165">iuse::radio_on()</a>, <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l04038">iuse::tazer2()</a>, <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>, <a class="el" href="item_8cpp_source.html#l07830">units_remaining()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="active__tile__data_8cpp_source.html#l00246">charger_tile::update_internal()</a>, <a class="el" href="iuse_8cpp_source.html#l04500">iuse::vibe()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02321">activity_handlers::vibe_do_turn()</a>, <a class="el" href="npcmove_8cpp_source.html#l01452">wants_to_reload()</a>, <a class="el" href="npcmove_8cpp_source.html#l01468">wants_to_reload_with()</a>, <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01243">weapon_inventory_preset::weapon_inventory_preset()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="a7dc5d9ccf5638ae80cebe1864050fa26" name="a7dc5d9ccf5638ae80cebe1864050fa26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dc5d9ccf5638ae80cebe1864050fa26">&#9670;&nbsp;</a></span>ammo_required()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::ammo_required </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Quantity of ammunition consumed per usage of tool or with each shot of gun. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07296">7296</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07297" name="l07297"></a><span class="lineno"> 7297</span>{</div>
<div class="line"><a id="l07298" name="l07298"></a><span class="lineno"> 7298</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l07299" name="l07299"></a><span class="lineno"> 7299</span>        <span class="keywordflow">return</span> std::max( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>(), 0 );</div>
<div class="line"><a id="l07300" name="l07300"></a><span class="lineno"> 7300</span>    }</div>
<div class="line"><a id="l07301" name="l07301"></a><span class="lineno"> 7301</span> </div>
<div class="line"><a id="l07302" name="l07302"></a><span class="lineno"> 7302</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07303" name="l07303"></a><span class="lineno"> 7303</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().empty() ) {</div>
<div class="line"><a id="l07304" name="l07304"></a><span class="lineno"> 7304</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07305" name="l07305"></a><span class="lineno"> 7305</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a020168872cdd11e8b911ad11514103ef">flag_FIRE_100</a> ) ) {</div>
<div class="line"><a id="l07306" name="l07306"></a><span class="lineno"> 7306</span>            <span class="keywordflow">return</span> 100;</div>
<div class="line"><a id="l07307" name="l07307"></a><span class="lineno"> 7307</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a96210da22f9f52d86921e201036f0fca">flag_FIRE_50</a> ) ) {</div>
<div class="line"><a id="l07308" name="l07308"></a><span class="lineno"> 7308</span>            <span class="keywordflow">return</span> 50;</div>
<div class="line"><a id="l07309" name="l07309"></a><span class="lineno"> 7309</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ad94f893fd300360cff926d6b211006c3">flag_FIRE_20</a> ) ) {</div>
<div class="line"><a id="l07310" name="l07310"></a><span class="lineno"> 7310</span>            <span class="keywordflow">return</span> 20;</div>
<div class="line"><a id="l07311" name="l07311"></a><span class="lineno"> 7311</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07312" name="l07312"></a><span class="lineno"> 7312</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l07313" name="l07313"></a><span class="lineno"> 7313</span>        }</div>
<div class="line"><a id="l07314" name="l07314"></a><span class="lineno"> 7314</span>    }</div>
<div class="line"><a id="l07315" name="l07315"></a><span class="lineno"> 7315</span> </div>
<div class="line"><a id="l07316" name="l07316"></a><span class="lineno"> 7316</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07317" name="l07317"></a><span class="lineno"> 7317</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a020168872cdd11e8b911ad11514103ef"><div class="ttname"><a href="item_8cpp.html#a020168872cdd11e8b911ad11514103ef">flag_FIRE_100</a></div><div class="ttdeci">static const std::string flag_FIRE_100(&quot;FIRE_100&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a96210da22f9f52d86921e201036f0fca"><div class="ttname"><a href="item_8cpp.html#a96210da22f9f52d86921e201036f0fca">flag_FIRE_50</a></div><div class="ttdeci">static const std::string flag_FIRE_50(&quot;FIRE_50&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ad94f893fd300360cff926d6b211006c3"><div class="ttname"><a href="item_8cpp.html#ad94f893fd300360cff926d6b211006c3">flag_FIRE_20</a></div><div class="ttdeci">static const std::string flag_FIRE_20(&quot;FIRE_20&quot;)</div></div>
<div class="ttc" id="astructitype_html_a953828c9c01185fef0f619ecdcd7f3b1"><div class="ttname"><a href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">itype::charges_to_use</a></div><div class="ttdeci">int charges_to_use() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01089">itype.h:1089</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp.html#a020168872cdd11e8b911ad11514103ef">flag_FIRE_100()</a>, <a class="el" href="item_8cpp.html#ad94f893fd300360cff926d6b211006c3">flag_FIRE_20()</a>, <a class="el" href="item_8cpp.html#a96210da22f9f52d86921e201036f0fca">flag_FIRE_50()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l06497">Character::ammo_count_for()</a>, <a class="el" href="turret_8cpp_source.html#l00139">turret_data::ammo_options()</a>, <a class="el" href="item_8cpp_source.html#l07319">ammo_sufficient()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01429">firestarter_actor::can_use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01969">cauterize_actor::can_use()</a>, <a class="el" href="character_8cpp_source.html#l07496">Character::consume_charges()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01638">salvage_actor::cut_up()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="monattack_8cpp_source.html#l03321">mattack::frag()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01762">activity_handlers::game_do_turn()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00841">activatable_inventory_preset::get_denial()</a>, <a class="el" href="item_8cpp_source.html#l07168">gun_recoil()</a>, <a class="el" href="ranged_8cpp_source.html#l03683">ranged::gunmode_checks_weapon()</a>, <a class="el" href="character_8cpp_source.html#l07442">Character::has_enough_charges()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01921">vehicle::interact_with()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04264">activity_handlers::jackhammer_finish()</a>, <a class="el" href="item__action_8cpp_source.html#l00104">item_action_generator::map_actions_to_items()</a>, <a class="el" href="iuse_8cpp_source.html#l04862">iuse::oxytorch()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02428">activity_handlers::oxytorch_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01926">activity_handlers::pickaxe_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l04370">iuse::portable_game()</a>, <a class="el" href="turret_8cpp_source.html#l00257">turret_data::prepare_fire()</a>, <a class="el" href="ranged_8cpp_source.html#l00755">npc::pretend_fire()</a>, <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>, <a class="el" href="turret_8cpp_source.html#l00232">turret_data::query()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="monattack_8cpp_source.html#l03272">mattack::rifle()</a>, <a class="el" href="monattack_8cpp_source.html#l03381">mattack::tankgun()</a>, <a class="el" href="item_8cpp_source.html#l07853">units_sufficient()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01833">inscribe_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01933">cauterize_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02014">enzlave_actor::use()</a>, and <a class="el" href="npcmove_8cpp_source.html#l01452">wants_to_reload()</a>.</p>

</div>
</div>
<a id="a6a3f16444c412bce4b75a7d600d6a3fe" name="a6a3f16444c412bce4b75a7d600d6a3fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a3f16444c412bce4b75a7d600d6a3fe">&#9670;&nbsp;</a></span>ammo_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::ammo_set </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>ammo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter setting the ammo for this instance Any existing ammo is removed. </p>
<p >If necessary a magazine is also added. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ammo</td><td>specific type of ammo (must be compatible with item ammo type) </td></tr>
    <tr><td class="paramname">qty</td><td>maximum ammo (capped by item capacity) or negative to fill to capacity </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>same instance to allow method chaining </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00587">587</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>{</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    <span class="keywordflow">if</span>( qty &lt; 0 ) {</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>        <span class="comment">// completely fill an integral or existing magazine</span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() || <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() ) {</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>            qty = <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>();</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span> </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>            <span class="comment">// else try to add a magazine using default ammo count property if set</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a6f710d4afc0b3c016b3e19cb294d4ded">magazine_default</a>().<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>            <a class="code hl_class" href="classitem.html">item</a> mag( <a class="code hl_function" href="classitem.html#a6f710d4afc0b3c016b3e19cb294d4ded">magazine_default</a>() );</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            <span class="keywordflow">if</span>( mag.type-&gt;magazine-&gt;count &gt; 0 ) {</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>                qty = mag.type-&gt;magazine-&gt;count;</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>                qty = <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( <a class="code hl_function" href="classitem.html#a6f710d4afc0b3c016b3e19cb294d4ded">magazine_default</a>() ).ammo_capacity();</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>            }</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        }</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span> </div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    <span class="keywordflow">if</span>( qty &lt;= 0 ) {</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>        <a class="code hl_function" href="classitem.html#aa31ffbae3561dd20a3a60e541f6fd02e">ammo_unset</a>();</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    }</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span> </div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <span class="comment">// handle reloadable tools and guns with no specific ammo type as special case</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <span class="keywordflow">if</span>( ( ammo.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().empty() ) || <a class="code hl_function" href="classitem.html#a72d58d172f74830b7d965a0fdfaa2c17">is_money</a>() ) {</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>        <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() || <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) &amp;&amp; <a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() ) {</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>            <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = std::min( qty, <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() );</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        }</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    }</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span> </div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    <span class="comment">// check ammo is valid for the item</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *atype = &amp;*ammo;</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    <span class="keywordflow">if</span>( !atype-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> || !<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>( atype-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;type ) ) {</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to set invalid ammo %s[%d] for %s&quot;</span>, atype-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>(), qty, <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    }</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        <a class="code hl_function" href="classitem.html#aa31ffbae3561dd20a3a60e541f6fd02e">ammo_unset</a>();</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        <a class="code hl_class" href="classitem.html">item</a> set_ammo( ammo, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, std::min( qty, <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() ) );</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#af6fc94d4d94bc89e8148933ce346e43a">flag_NO_UNLOAD</a> ) ) {</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>            set_ammo.set_flag( <span class="stringliteral">&quot;NO_DROP&quot;</span> );</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>            set_ammo.set_flag( <span class="stringliteral">&quot;IRREMOVABLE&quot;</span> );</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        }</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>        <a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( set_ammo );</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span> </div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() ) {</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> = atype;</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = std::min( qty, <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() );</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span> </div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() ) {</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>            <a class="code hl_class" href="classstring__id.html">itype_id</a> mag = <a class="code hl_function" href="classitem.html#a6f710d4afc0b3c016b3e19cb294d4ded">magazine_default</a>();</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>            <span class="keywordflow">if</span>( !mag-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a> ) {</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to set ammo %s[%d] without suitable magazine for %s&quot;</span>,</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>                          atype-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>(), qty, <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>            }</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span> </div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>            <span class="comment">// if default magazine too small fetch instead closest available match</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>            <span class="keywordflow">if</span>( mag-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;capacity &lt; qty ) {</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>                <span class="comment">// as above call to magazine_default successful can infer minimum one option exists</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>                <span class="keyword">auto</span> iter = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>.find( atype-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;type );</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>                <span class="keywordflow">if</span>( iter == <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>.end() ) {</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>                    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;%s doesn&#39;t have a magazine for %s&quot;</span>,</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>                              <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>(), ammo );</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>                    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>                }</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>                std::vector&lt;itype_id&gt; opts( iter-&gt;second.begin(), iter-&gt;second.end() );</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>                std::sort( opts.begin(), opts.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp; lhs, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp; rhs ) {</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>                    return lhs-&gt;magazine-&gt;capacity &lt; rhs-&gt;magazine-&gt;capacity;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>                } );</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>                mag = opts.back();</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;e : opts ) {</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>                    <span class="keywordflow">if</span>( e-&gt;magazine-&gt;capacity &gt;= qty ) {</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>                        mag = e;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>                    }</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>                }</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>            }</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>            <a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( mag ) );</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        }</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>        <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>()-&gt;<a class="code hl_function" href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">ammo_set</a>( ammo, qty );</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    }</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span> </div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>}</div>
<div class="ttc" id="aclassitem_html_a72d58d172f74830b7d965a0fdfaa2c17"><div class="ttname"><a href="classitem.html#a72d58d172f74830b7d965a0fdfaa2c17">item::is_money</a></div><div class="ttdeci">bool is_money() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05850">item.cpp:5850</a></div></div>
<div class="ttc" id="aclassitem_html_aa31ffbae3561dd20a3a60e541f6fd02e"><div class="ttname"><a href="classitem.html#aa31ffbae3561dd20a3a60e541f6fd02e">item::ammo_unset</a></div><div class="ttdeci">item &amp; ammo_unset()</div><div class="ttdoc">Filter removing all ammo from this instance If the item is neither a tool, gun nor magazine is a no-o...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00677">item.cpp:677</a></div></div>
<div class="ttc" id="aclassstring__id_html_a3ca78345025397b3d3ac22729ba1684b"><div class="ttname"><a href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">string_id::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns whether this represents the id of the null-object (in which case it's the null-id).</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00317">string_id.h:317</a></div></div>
<div class="ttc" id="aitem_8cpp_html_af6fc94d4d94bc89e8148933ce346e43a"><div class="ttname"><a href="item_8cpp.html#af6fc94d4d94bc89e8148933ce346e43a">flag_NO_UNLOAD</a></div><div class="ttdeci">static const std::string flag_NO_UNLOAD(&quot;NO_UNLOAD&quot;)</div></div>
<div class="ttc" id="astructitype_html_a8f4b158de33b6320ba43249b005a2f94"><div class="ttname"><a href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">itype::magazines</a></div><div class="ttdeci">std::map&lt; ammotype, std::set&lt; itype_id &gt; &gt; magazines</div><div class="ttdoc">Magazine types (if any) for each ammo type that can be used to reload this item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01020">itype.h:1020</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8cpp_source.html#l05860">count()</a>, <a class="el" href="item_8h_source.html#l02166">curammo</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp.html#af6fc94d4d94bc89e8148933ce346e43a">flag_NO_UNLOAD()</a>, <a class="el" href="itype_8h_source.html#l01070">itype::get_id()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l05850">is_money()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="item_8cpp_source.html#l00362">item()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="item_8cpp_source.html#l07518">magazine_default()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="itype_8h_source.html#l01020">itype::magazines</a>, <a class="el" href="item_8cpp_source.html#l00987">put_in()</a>, <a class="el" href="item_8cpp_source.html#l05221">set_flag()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bionics_8cpp_source.html#l00531">Character::activate_bionic()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00254">vehicle_part::ammo_set()</a>, <a class="el" href="mondeath_8cpp_source.html#l00623">mdeath::broken()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="dump_8cpp_source.html#l00037">game::dump_stats()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="basecamp_8cpp_source.html#l00606">basecamp::form_crafting_inventory()</a>, <a class="el" href="monattack_8cpp_source.html#l03321">mattack::frag()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">player::gun_value()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02297">activity_handlers::hand_crank_do_turn()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01921">vehicle::interact_with()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="monattack_8cpp_source.html#l03272">mattack::rifle()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00557">gun_actor::shoot()</a>, <a class="el" href="npc_8cpp_source.html#l00802">npc::starting_weapon()</a>, <a class="el" href="monattack_8cpp_source.html#l03381">mattack::tankgun()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, and <a class="el" href="wish_8cpp_source.html#l00535">debug_menu::wishitem()</a>.</p>

</div>
</div>
<a id="af4d40038358173598156ed2d200e176f" name="af4d40038358173598156ed2d200e176f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4d40038358173598156ed2d200e176f">&#9670;&nbsp;</a></span>ammo_sort_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::ammo_sort_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07489">7489</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07490" name="l07490"></a><span class="lineno"> 7490</span>{</div>
<div class="line"><a id="l07491" name="l07491"></a><span class="lineno"> 7491</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() || <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() || <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l07492" name="l07492"></a><span class="lineno"> 7492</span>        <span class="keyword">const</span> std::set&lt;ammotype&gt; &amp;types = <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>();</div>
<div class="line"><a id="l07493" name="l07493"></a><span class="lineno"> 7493</span>        <span class="keywordflow">if</span>( !types.empty() ) {</div>
<div class="line"><a id="l07494" name="l07494"></a><span class="lineno"> 7494</span>            <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( *types.begin() )-&gt;<a class="code hl_function" href="classammunition__type.html#a3c5d67ec1974c9a43d79c0ab3e7f979a">name</a>();</div>
<div class="line"><a id="l07495" name="l07495"></a><span class="lineno"> 7495</span>        }</div>
<div class="line"><a id="l07496" name="l07496"></a><span class="lineno"> 7496</span>    }</div>
<div class="line"><a id="l07497" name="l07497"></a><span class="lineno"> 7497</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() ) {</div>
<div class="line"><a id="l07498" name="l07498"></a><span class="lineno"> 7498</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>()-&gt;<a class="code hl_function" href="classammunition__type.html#a3c5d67ec1974c9a43d79c0ab3e7f979a">name</a>();</div>
<div class="line"><a id="l07499" name="l07499"></a><span class="lineno"> 7499</span>    }</div>
<div class="line"><a id="l07500" name="l07500"></a><span class="lineno"> 7500</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l07501" name="l07501"></a><span class="lineno"> 7501</span>}</div>
<div class="ttc" id="aclassammunition__type_html_a3c5d67ec1974c9a43d79c0ab3e7f979a"><div class="ttname"><a href="classammunition__type.html#a3c5d67ec1974c9a43d79c0ab3e7f979a">ammunition_type::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo_8cpp_source.html#l00079">ammo.cpp:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07431">ammo_type()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l06432">is_ammo()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, and <a class="el" href="ammo_8cpp_source.html#l00079">ammunition_type::name()</a>.</p>

</div>
</div>
<a id="a8efcfdc21aadbc25a8cc95cf54685489" name="a8efcfdc21aadbc25a8cc95cf54685489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8efcfdc21aadbc25a8cc95cf54685489">&#9670;&nbsp;</a></span>ammo_sufficient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::ammo_sufficient </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em> = <code>1</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if sufficient ammo is loaded for given number of uses. </p>
<p >Check if there is enough ammo loaded in a tool for the given number of uses or given number of gun shots. Using this function for this check is preferred because we expect to add support for items consuming multiple ammo types in the future. Users of this function will not need to be refactored when this happens.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">qty</td><td>Number of uses </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if ammo sufficient for number of uses is loaded, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07319">7319</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07320" name="l07320"></a><span class="lineno"> 7320</span>{</div>
<div class="line"><a id="l07321" name="l07321"></a><span class="lineno"> 7321</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt;= <a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>() * qty;</div>
<div class="line"><a id="l07322" name="l07322"></a><span class="lineno"> 7322</span>}</div>
<div class="ttc" id="aclassitem_html_a7dc5d9ccf5638ae80cebe1864050fa26"><div class="ttname"><a href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">item::ammo_required</a></div><div class="ttdeci">int ammo_required() const</div><div class="ttdoc">Quantity of ammunition consumed per usage of tool or with each shot of gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07296">item.cpp:7296</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, and <a class="el" href="item_8cpp_source.html#l07296">ammo_required()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l01273">can_do_activity_there()</a>, <a class="el" href="iuse_8cpp_source.html#l01927">iuse::extinguisher()</a>, <a class="el" href="ranged_8cpp_source.html#l03683">ranged::gunmode_checks_weapon()</a>, <a class="el" href="character_8cpp_source.html#l07442">Character::has_enough_charges()</a>, <a class="el" href="iuse_8cpp_source.html#l05716">iuse::jet_injector()</a>, <a class="el" href="item__action_8cpp_source.html#l00104">item_action_generator::map_actions_to_items()</a>, <a class="el" href="npcmove_8cpp_source.html#l01311">npc::method_of_attack()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02369">mine_activity()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00090">avatar_action::move()</a>, <a class="el" href="iuse_8cpp_source.html#l02277">iuse::note_bionics()</a>, <a class="el" href="iuse_8cpp_source.html#l03910">iuse::pheromone()</a>, <a class="el" href="iuse_8cpp_source.html#l03955">iuse::portal()</a>, <a class="el" href="turret_8cpp_source.html#l00232">turret_data::query()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="iuse_8cpp_source.html#l07973">iuse::radiocaron()</a>, <a class="el" href="player_8cpp_source.html#l03318">player::rate_action_use()</a>, <a class="el" href="iuse_8cpp_source.html#l01980">iuse::rm13armor_off()</a>, <a class="el" href="iuse_8cpp_source.html#l09165">iuse::shavekit()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00557">gun_actor::shoot()</a>, <a class="el" href="iuse_8cpp_source.html#l05738">iuse::stimpack()</a>, and <a class="el" href="iuse_8cpp_source.html#l03467">iuse::teleport()</a>.</p>

</div>
</div>
<a id="aab4f4feeb64f169f408c24d03e0ce61f" name="aab4f4feeb64f169f408c24d03e0ce61f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab4f4feeb64f169f408c24d03e0ce61f">&#9670;&nbsp;</a></span>ammo_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> item::ammo_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ammo type of an ammo item. </p>
<dl class="section return"><dt>Returns</dt><dd>ammotype of ammo item or a null id if the item is not ammo </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07431">7431</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07432" name="l07432"></a><span class="lineno"> 7432</span>{</div>
<div class="line"><a id="l07433" name="l07433"></a><span class="lineno"> 7433</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() ) {</div>
<div class="line"><a id="l07434" name="l07434"></a><span class="lineno"> 7434</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;type;</div>
<div class="line"><a id="l07435" name="l07435"></a><span class="lineno"> 7435</span>    }</div>
<div class="line"><a id="l07436" name="l07436"></a><span class="lineno"> 7436</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">ammotype::NULL_ID</a>();</div>
<div class="line"><a id="l07437" name="l07437"></a><span class="lineno"> 7437</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l06432">is_ammo()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; ammunition_type &gt;::NULL_ID()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle_8cpp_source.html#l05209">vehicle::add_item()</a>, <a class="el" href="item_8cpp_source.html#l01848">ammo_info()</a>, <a class="el" href="item_8cpp_source.html#l07489">ammo_sort_name()</a>, <a class="el" href="mondeath_8cpp_source.html#l00623">mdeath::broken()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="item_8cpp_source.html#l08592">detonate()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="character_8cpp_source.html#l02565">Character::get_ammo()</a>, <a class="el" href="item_8cpp_source.html#l07889">item::reload_option::qty()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, and <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>.</p>

</div>
</div>
<a id="ac4f8c31c6aa17560f8f523290d568436" name="ac4f8c31c6aa17560f8f523290d568436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4f8c31c6aa17560f8f523290d568436">&#9670;&nbsp;</a></span>ammo_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt; <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> &gt; &amp; item::ammo_types </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>conversion</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set of ammo types (<a class="el" href="classammunition__type.html">ammunition_type</a>) used by item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversion</td><td>whether to include the effect of any flags or mods which convert the type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>empty set if item does not use a specific ammo type (and is consequently not reloadable) </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07408">7408</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07409" name="l07409"></a><span class="lineno"> 7409</span>{</div>
<div class="line"><a id="l07410" name="l07410"></a><span class="lineno"> 7410</span>    <span class="keywordflow">if</span>( conversion ) {</div>
<div class="line"><a id="l07411" name="l07411"></a><span class="lineno"> 7411</span>        <span class="keyword">const</span> std::vector&lt;const item *&gt; &amp;mods = <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() : <a class="code hl_function" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a>();</div>
<div class="line"><a id="l07412" name="l07412"></a><span class="lineno"> 7412</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *e : mods ) {</div>
<div class="line"><a id="l07413" name="l07413"></a><span class="lineno"> 7413</span>            <span class="keywordflow">if</span>( !e-&gt;type-&gt;mod-&gt;ammo_modifier.empty() ) {</div>
<div class="line"><a id="l07414" name="l07414"></a><span class="lineno"> 7414</span>                <span class="keywordflow">return</span> e-&gt;type-&gt;mod-&gt;ammo_modifier;</div>
<div class="line"><a id="l07415" name="l07415"></a><span class="lineno"> 7415</span>            }</div>
<div class="line"><a id="l07416" name="l07416"></a><span class="lineno"> 7416</span>        }</div>
<div class="line"><a id="l07417" name="l07417"></a><span class="lineno"> 7417</span>    }</div>
<div class="line"><a id="l07418" name="l07418"></a><span class="lineno"> 7418</span> </div>
<div class="line"><a id="l07419" name="l07419"></a><span class="lineno"> 7419</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07420" name="l07420"></a><span class="lineno"> 7420</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo;</div>
<div class="line"><a id="l07421" name="l07421"></a><span class="lineno"> 7421</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l07422" name="l07422"></a><span class="lineno"> 7422</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;ammo_id;</div>
<div class="line"><a id="l07423" name="l07423"></a><span class="lineno"> 7423</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l07424" name="l07424"></a><span class="lineno"> 7424</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;type;</div>
<div class="line"><a id="l07425" name="l07425"></a><span class="lineno"> 7425</span>    }</div>
<div class="line"><a id="l07426" name="l07426"></a><span class="lineno"> 7426</span> </div>
<div class="line"><a id="l07427" name="l07427"></a><span class="lineno"> 7427</span>    <span class="keyword">static</span> std::set&lt;ammotype&gt; atypes = {};</div>
<div class="line"><a id="l07428" name="l07428"></a><span class="lineno"> 7428</span>    <span class="keywordflow">return</span> atypes;</div>
<div class="line"><a id="l07429" name="l07429"></a><span class="lineno"> 7429</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle_8cpp_source.html#l05209">vehicle::add_item()</a>, <a class="el" href="item_8cpp_source.html#l08376">allow_crafting_component()</a>, <a class="el" href="item_8cpp_source.html#l07439">ammo_default()</a>, <a class="el" href="turret_8cpp_source.html#l00139">turret_data::ammo_options()</a>, <a class="el" href="item_8cpp_source.html#l07296">ammo_required()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l07489">ammo_sort_name()</a>, <a class="el" href="mondeath_8cpp_source.html#l00623">mdeath::broken()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="item_8cpp_source.html#l07455">common_ammo_default()</a>, <a class="el" href="item_8cpp_source.html#l05865">craft_has_charges()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="item_8cpp_source.html#l05272">get_quality()</a>, <a class="el" href="player_8cpp_source.html#l04146">player::has_gun_for_ammo()</a>, <a class="el" href="player_8cpp_source.html#l04154">player::has_magazine_for_ammo()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00494">vehicle_part::is_battery()</a>, <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>, <a class="el" href="item_8cpp_source.html#l05850">is_money()</a>, <a class="el" href="item_8cpp_source.html#l09657">is_reloadable()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item_8cpp_source.html#l07539">magazine_compatible()</a>, <a class="el" href="item_8cpp_source.html#l07518">magazine_default()</a>, <a class="el" href="item_8cpp_source.html#l01825">magazine_info()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, <a class="el" href="player_8cpp_source.html#l02432">player::select_ammo()</a>, <a class="el" href="item_8cpp_source.html#l08441">set_countdown()</a>, <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="aa31ffbae3561dd20a3a60e541f6fd02e" name="aa31ffbae3561dd20a3a60e541f6fd02e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa31ffbae3561dd20a3a60e541f6fd02e">&#9670;&nbsp;</a></span>ammo_unset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::ammo_unset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter removing all ammo from this instance If the item is neither a tool, gun nor magazine is a no-op For items reloading using magazines any empty magazine remains present. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00677">677</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>{</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>        <span class="comment">// do nothing</span></div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>        <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a0c7ab52c6270d1ff2a98c75e0ee5ba3b">clear_items</a>();</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() ) {</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>        <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 0;</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() ) {</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>        <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>()-&gt;<a class="code hl_function" href="classitem.html#aa31ffbae3561dd20a3a60e541f6fd02e">ammo_unset</a>();</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    }</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span> </div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>}</div>
<div class="ttc" id="aclassitem__contents_html_a0c7ab52c6270d1ff2a98c75e0ee5ba3b"><div class="ttname"><a href="classitem__contents.html#a0c7ab52c6270d1ff2a98c75e0ee5ba3b">item_contents::clear_items</a></div><div class="ttdeci">void clear_items()</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00074">item_contents.cpp:74</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item__contents_8cpp_source.html#l00074">item_contents::clear_items()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8h_source.html#l02166">curammo</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, and <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00279">vehicle_part::ammo_unset()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="iuse_8cpp_source.html#l08007">emit_radio_signal()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02984">ammobelt_actor::use()</a>.</p>

</div>
</div>
<a id="a364460e515672c6b19b7afeee0b9d560" name="a364460e515672c6b19b7afeee0b9d560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a364460e515672c6b19b7afeee0b9d560">&#9670;&nbsp;</a></span>animal_armor_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::animal_armor_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l02658">2658</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>{</div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">is_pet_armor</a>() ) {</div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span>    }</div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span> </div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span>    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> = <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span> </div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>    <span class="keywordtype">int</span> converted_storage_scale = 0;</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> converted_storage = <a class="code hl_function" href="cata__utility_8cpp.html#a9dbcecb703a6e1111a0552177b6bf9fc">round_up</a>( <a class="code hl_function" href="units__utility_8cpp.html#afa125a0ee11c6790f0be6d3b3707d28a">convert_volume</a>( <a class="code hl_function" href="classitem.html#a9653264e34fbb2b99737e09e0a207df4">get_storage</a>().value(),</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span>                                     &amp;converted_storage_scale ), 2 );</div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa46759127f3699bd5a3bb8f0c4efa636c">iteminfo_parts::ARMOR_STORAGE</a> ) &amp;&amp; converted_storage &gt; 0 ) {</div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span>        <span class="keyword">const</span> <a class="code hl_enumeration" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16">iteminfo::flags</a> f = converted_storage_scale == 0 ? <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a> : <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>;</div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Storage: &quot;</span> ),</div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>                                  <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;num&gt; %s&quot;</span>, <a class="code hl_function" href="units__utility_8cpp.html#a5c2697027e2386941cdc4f6adbe8faac">volume_units_abbr</a>() ),</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>                                  f, converted_storage ) );</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>    }</div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span> </div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span>    <span class="comment">// Whatever the last entry was, we want a newline at this point</span></div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().bNewLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span> </div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span>    <a class="code hl_function" href="classitem.html#a9c6ed5dc9c02f4272d3345e52d4020a0">armor_protection_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span>}</div>
<div class="ttc" id="acata__utility_8cpp_html_a9dbcecb703a6e1111a0552177b6bf9fc"><div class="ttname"><a href="cata__utility_8cpp.html#a9dbcecb703a6e1111a0552177b6bf9fc">round_up</a></div><div class="ttdeci">double round_up(double val, unsigned int dp)</div><div class="ttdoc">Round a value up at a given decimal place.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00042">cata_utility.cpp:42</a></div></div>
<div class="ttc" id="aclassitem_html_a9653264e34fbb2b99737e09e0a207df4"><div class="ttname"><a href="classitem.html#a9653264e34fbb2b99737e09e0a207df4">item::get_storage</a></div><div class="ttdeci">units::volume get_storage() const</div><div class="ttdoc">Returns the storage amount (islot_armor::storage) that this item provides when worn.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05582">item.cpp:5582</a></div></div>
<div class="ttc" id="aclassitem_html_a9c6ed5dc9c02f4272d3345e52d4020a0"><div class="ttname"><a href="classitem.html#a9c6ed5dc9c02f4272d3345e52d4020a0">item::armor_protection_info</a></div><div class="ttdeci">void armor_protection_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l02433">item.cpp:2433</a></div></div>
<div class="ttc" id="aclassitem_html_af8be3cc1fd31607205d7170b1e2eb4fb"><div class="ttname"><a href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">item::is_pet_armor</a></div><div class="ttdeci">bool is_pet_armor(bool on_pet=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06548">item.cpp:6548</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa46759127f3699bd5a3bb8f0c4efa636c"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa46759127f3699bd5a3bb8f0c4efa636c">iteminfo_parts::ARMOR_STORAGE</a></div><div class="ttdeci">@ ARMOR_STORAGE</div></div>
<div class="ttc" id="anamespacedebug__menu_html_aa07895d5fd8a5172b7e5fa9a1e261fa6"><div class="ttname"><a href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug_menu::debug</a></div><div class="ttdeci">void debug()</div><div class="ttdef"><b>Definition:</b> <a href="debug__menu_8cpp_source.html#l01325">debug_menu.cpp:1325</a></div></div>
<div class="ttc" id="astructiteminfo_html"><div class="ttname"><a href="structiteminfo.html">iteminfo</a></div><div class="ttdoc">Value and metadata for one property of an item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00105">item.h:105</a></div></div>
<div class="ttc" id="astructiteminfo_html_a52b3543e16cce6f69f2e5cdb021c1e16"><div class="ttname"><a href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16">iteminfo::flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00140">item.h:140</a></div></div>
<div class="ttc" id="astructiteminfo_html_a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3"><div class="ttname"><a href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a></div><div class="ttdeci">@ no_flags</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00141">item.h:141</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a5c2697027e2386941cdc4f6adbe8faac"><div class="ttname"><a href="units__utility_8cpp.html#a5c2697027e2386941cdc4f6adbe8faac">volume_units_abbr</a></div><div class="ttdeci">const char * volume_units_abbr()</div><div class="ttdoc">Create an abbreviated units label for a volume value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00037">units_utility.cpp:37</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_afa125a0ee11c6790f0be6d3b3707d28a"><div class="ttname"><a href="units__utility_8cpp.html#afa125a0ee11c6790f0be6d3b3707d28a">convert_volume</a></div><div class="ttdeci">double convert_volume(int volume)</div><div class="ttdoc">Convert volume from ml to units defined by user.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00096">units_utility.cpp:96</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa46759127f3699bd5a3bb8f0c4efa636c">ARMOR_STORAGE</a>, <a class="el" href="units__utility_8cpp_source.html#l00096">convert_volume()</a>, <a class="el" href="debug__menu_8cpp_source.html#l01325">debug_menu::debug()</a>, <a class="el" href="item_8cpp_source.html#l05582">get_storage()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8h_source.html#l00142">iteminfo::is_decimal</a>, <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="item_8h_source.html#l00141">iteminfo::no_flags</a>, <a class="el" href="cata__utility_8cpp_source.html#l00042">round_up()</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::space</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, and <a class="el" href="units__utility_8cpp_source.html#l00037">volume_units_abbr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="ac46c94fbae3a31ba0e21f348875a3e74" name="ac46c94fbae3a31ba0e21f348875a3e74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac46c94fbae3a31ba0e21f348875a3e74">&#9670;&nbsp;</a></span>armor_fit_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::armor_fit_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l02683">2683</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>{</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() ) {</div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>    }</div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span> </div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1ac6cfd4983be847b61861fd0a9c7cabbe">encumbrance</a> = <a class="code hl_function" href="classitem.html#ac242b34e6ae35efdcdd956df3f320e84">get_encumber</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="classitem.html#a952452b603e34038ff8dff7ed9422a9c">sizing</a> sizing_level = <a class="code hl_function" href="classitem.html#ab499c1bb4b2c55f0199f8509f6eff6a3">get_sizing</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, encumbrance != 0 );</div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span> </div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6c8288ba9cd84970a89d33b9f3064e7f">flag_HELMET_COMPAT</a> ) &amp;&amp;</div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"> 2694</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef19a6dc20b32e1cbdc327691d044bb4">iteminfo_parts::DESCRIPTION_FLAGS_HELMETCOMPAT</a> ) ) {</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item can be &lt;info&gt;worn with a &quot;</span></div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>                                     <span class="stringliteral">&quot;helmet&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span>    }</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span> </div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaade87c958bfce7f5ecb1b1a701b71fa88">iteminfo_parts::DESCRIPTION_FLAGS_FITS</a> ) ) {</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>        <span class="keywordflow">switch</span>( sizing_level ) {</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca781d038afb4ccd0fb1b2085adfefd1c3">sizing::human_sized_human_char</a>:</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> ) ) {</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span>                    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>                                       <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing &lt;info&gt;fits&lt;/info&gt; you perfectly.&quot;</span> ) );</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>                }</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3c281ac6effc3982eea0c56df3fe766">sizing::big_sized_big_char</a>:</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> ) ) {</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>                    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing &lt;info&gt;fits&lt;/info&gt; &quot;</span></div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>                                                         <span class="stringliteral">&quot;your large frame perfectly.&quot;</span> ) );</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>                }</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca096d4645ed938b760b6111684abd8c4c">sizing::small_sized_small_char</a>:</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> ) ) {</div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>                    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing &lt;info&gt;fits&lt;/info&gt; &quot;</span></div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>                                                         <span class="stringliteral">&quot;your small frame perfectly.&quot;</span> ) );</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>                }</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c">sizing::big_sized_human_char</a>:</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing is &lt;bad&gt;oversized&lt;/bad&gt; &quot;</span></div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>                                                     <span class="stringliteral">&quot;and does &lt;bad&gt;not fit&lt;/bad&gt; you.&quot;</span> ) );</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">sizing::big_sized_small_char</a>:</div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing is hilariously &lt;bad&gt;oversized&lt;/bad&gt; &quot;</span></div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>                                      <span class="stringliteral">&quot;and does &lt;bad&gt;not fit&lt;/bad&gt; your &lt;info&gt;abnormally &quot;</span></div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>                                      <span class="stringliteral">&quot;small mutated anatomy&lt;/info&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">sizing::human_sized_big_char</a>:</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing is &lt;bad&gt;normal sized&lt;/bad&gt; and does &quot;</span></div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span>                                      <span class="stringliteral">&quot;&lt;bad&gt;not fit&lt;/info&gt; your &lt;info&gt;abnormally large &quot;</span></div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span>                                      <span class="stringliteral">&quot;mutated anatomy&lt;/info&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">sizing::human_sized_small_char</a>:</div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing is &lt;bad&gt;normal sized&lt;/bad&gt; and does &quot;</span></div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span>                                      <span class="stringliteral">&quot;&lt;bad&gt;not fit&lt;/bad&gt; your &lt;info&gt;abnormally small &quot;</span></div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span>                                      <span class="stringliteral">&quot;mutated anatomy&lt;/info&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">sizing::small_sized_big_char</a>:</div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing is hilariously &lt;bad&gt;undersized&lt;/bad&gt; &quot;</span></div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>                                      <span class="stringliteral">&quot;and does &lt;bad&gt;not fit&lt;/bad&gt; your &lt;info&gt;abnormally &quot;</span></div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>                                      <span class="stringliteral">&quot;large mutated anatomy&lt;/info&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">sizing::small_sized_human_char</a>:</div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing is &lt;bad&gt;undersized&lt;/bad&gt; &quot;</span></div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>                                                     <span class="stringliteral">&quot;and does &lt;bad&gt;not fit&lt;/bad&gt; you.&quot;</span> ) );</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>        }</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>    }</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span> </div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7e8f048a626c868dd942374a9e53ae9a">iteminfo_parts::DESCRIPTION_FLAGS_VARSIZE</a> ) ) {</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a> ) ) {</div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>            std::string resize_str;</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> ) ) {</div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>                <span class="keywordflow">switch</span>( sizing_level ) {</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">sizing::small_sized_human_char</a>:</div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"> 2763</span>                        resize_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;info&gt;can be upsized&lt;/info&gt;&quot;</span> );</div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">sizing::human_sized_small_char</a>:</div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span>                        resize_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;info&gt;can be downsized&lt;/info&gt;&quot;</span> );</div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c">sizing::big_sized_human_char</a>:</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">sizing::big_sized_small_char</a>:</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>                        resize_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bad&gt;can not be downsized&lt;/bad&gt;&quot;</span> );</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">sizing::small_sized_big_char</a>:</div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">sizing::human_sized_big_char</a>:</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>                        resize_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bad&gt;can not be upsized&lt;/bad&gt;&quot;</span> );</div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>                    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>                }</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span>                <span class="keywordflow">if</span>( !resize_str.empty() ) {</div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span>                    std::string info_str = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing %s.&quot;</span> ), resize_str );</div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span>                    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, info_str ) );</div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>                }</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span>                <span class="keywordflow">switch</span>( sizing_level ) {</div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">sizing::small_sized_human_char</a>:</div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span>                        resize_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; and &lt;info&gt;upsized&lt;/info&gt;&quot;</span> );</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">sizing::human_sized_small_char</a>:</div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>                        resize_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; and &lt;info&gt;downsized&lt;/info&gt;&quot;</span> );</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c">sizing::big_sized_human_char</a>:</div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">sizing::big_sized_small_char</a>:</div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>                        resize_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; but &lt;bad&gt;not downsized&lt;/bad&gt;&quot;</span> );</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">sizing::small_sized_big_char</a>:</div>
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"> 2796</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">sizing::human_sized_big_char</a>:</div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span>                        resize_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; but &lt;bad&gt;not upsized&lt;/bad&gt;&quot;</span> );</div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>                    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span>                }</div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span>                std::string info_str = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing &lt;info&gt;can be &quot;</span></div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span>                                                      <span class="stringliteral">&quot;refitted&lt;/info&gt;%s.&quot;</span> ), resize_str );</div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, info_str ) );</div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>            }</div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing &lt;bad&gt;can not be refitted, &quot;</span></div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span>                                                 <span class="stringliteral">&quot;upsized, or downsized&lt;/bad&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span>        }</div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span>    }</div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span> </div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">is_sided</a>() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab79dd8bd02009ff88f5d2b475a87c296">iteminfo_parts::DESCRIPTION_FLAGS_SIDED</a> ) ) {</div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item can be worn on &lt;info&gt;either side&lt;/info&gt; of &quot;</span></div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span>                                     <span class="stringliteral">&quot;the body.&quot;</span> ) ) );</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>    }</div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span>    <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classitem.html#a82e0833373b0141aec30768dfc349bbe">is_power_armor</a>() ) &amp;&amp;</div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5789a7c68b3aaf7dfb33db96e6a86665">iteminfo_parts::DESCRIPTION_FLAGS_POWERARMOR</a> ) ) {</div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad677c6c4526b3d8b3f2596d9e61661c4">iteminfo_parts::DESCRIPTION_FLAGS_POWERARMOR_RADIATIONHINT</a> ) ) {</div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab1635a97e6cc33a051cd378b60e48698">bp_head</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ae04e0ffbeaf9e6f5f9661f6bcf2a3ccb">flag_POWERARMOR_EXTERNAL</a> ) ) {</div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* When worn with a power armor suit, it will &quot;</span></div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span>                                             <span class="stringliteral">&quot;&lt;good&gt;fully protect&lt;/good&gt; you from &quot;</span></div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>                                             <span class="stringliteral">&quot;&lt;info&gt;radiation&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a72f30499abbdfb9d675b87d1ba004d25">flag_POWERARMOR_EXO</a> ) ) {</div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* When worn with a power armor helmet, it will &quot;</span></div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>                                             <span class="stringliteral">&quot;&lt;good&gt;fully protect&lt;/good&gt; you from &quot;</span> <span class="stringliteral">&quot;&lt;info&gt;radiation&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span>            }</div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span>        }</div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"> 2831</span>    }</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#a8c80c02fb14cd9bf70ec9aa43eba5164">itype_rad_badge</a> &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa59be0d71ec1b070b18d9f4215fa4a90f">iteminfo_parts::DESCRIPTION_IRRADIATION</a> ) ) {</div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>                                  <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* The film strip on the badge is %s.&quot;</span> ),</div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span>                                          <a class="code hl_function" href="item_8cpp.html#ae169987d464a24207dd3cb77921c329a">rad_badge_color</a>( <a class="code hl_variable" href="classitem.html#a663816619c55096d7e2736484047ce5a">irradiation</a> ) ) ) );</div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>    }</div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>}</div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ab1635a97e6cc33a051cd378b60e48698"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab1635a97e6cc33a051cd378b60e48698">bp_head</a></div><div class="ttdeci">@ bp_head</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00041">bodypart.h:41</a></div></div>
<div class="ttc" id="aclassitem_html_a3cdf7fd097768ee3192c40e000384d56"><div class="ttname"><a href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">item::is_sided</a></div><div class="ttdeci">bool is_sided() const</div><div class="ttdoc">Returns true if item is armor and can be worn on different sides of the body.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00799">item.cpp:799</a></div></div>
<div class="ttc" id="aclassitem_html_a663816619c55096d7e2736484047ce5a"><div class="ttname"><a href="classitem.html#a663816619c55096d7e2736484047ce5a">item::irradiation</a></div><div class="ttdeci">int irradiation</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02203">item.h:2203</a></div></div>
<div class="ttc" id="aclassitem_html_a82e0833373b0141aec30768dfc349bbe"><div class="ttname"><a href="classitem.html#a82e0833373b0141aec30768dfc349bbe">item::is_power_armor</a></div><div class="ttdeci">bool is_power_armor() const</div><div class="ttdoc">Whether this is a power armor item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05636">item.cpp:5636</a></div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9c"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9c">item::sizing</a></div><div class="ttdeci">sizing</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02122">item.h:2122</a></div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9ca096d4645ed938b760b6111684abd8c4c"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca096d4645ed938b760b6111684abd8c4c">item::sizing::small_sized_small_char</a></div><div class="ttdeci">@ small_sized_small_char</div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">item::sizing::small_sized_big_char</a></div><div class="ttdeci">@ small_sized_big_char</div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">item::sizing::big_sized_small_char</a></div><div class="ttdeci">@ big_sized_small_char</div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9ca781d038afb4ccd0fb1b2085adfefd1c3"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca781d038afb4ccd0fb1b2085adfefd1c3">item::sizing::human_sized_human_char</a></div><div class="ttdeci">@ human_sized_human_char</div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">item::sizing::human_sized_big_char</a></div><div class="ttdeci">@ human_sized_big_char</div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">item::sizing::small_sized_human_char</a></div><div class="ttdeci">@ small_sized_human_char</div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c">item::sizing::big_sized_human_char</a></div><div class="ttdeci">@ big_sized_human_char</div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9cae3c281ac6effc3982eea0c56df3fe766"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3c281ac6effc3982eea0c56df3fe766">item::sizing::big_sized_big_char</a></div><div class="ttdeci">@ big_sized_big_char</div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">item::sizing::human_sized_small_char</a></div><div class="ttdeci">@ human_sized_small_char</div></div>
<div class="ttc" id="aclassitem_html_a9aab8660fb40eedb8d2da95e797ecd32"><div class="ttname"><a href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">item::is_armor</a></div><div class="ttdeci">bool is_armor() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06554">item.cpp:6554</a></div></div>
<div class="ttc" id="aclassitem_html_ab499c1bb4b2c55f0199f8509f6eff6a3"><div class="ttname"><a href="classitem.html#ab499c1bb4b2c55f0199f8509f6eff6a3">item::get_sizing</a></div><div class="ttdeci">sizing get_sizing(const Character &amp;, bool) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01185">item.cpp:1185</a></div></div>
<div class="ttc" id="aclassitem_html_ac242b34e6ae35efdcdd956df3f320e84"><div class="ttname"><a href="classitem.html#ac242b34e6ae35efdcdd956df3f320e84">item::get_encumber</a></div><div class="ttdeci">int get_encumber(const Character &amp;) const</div><div class="ttdoc">Returns the encumbrance value that this item has when worn by given player.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05642">item.cpp:5642</a></div></div>
<div class="ttc" id="aclassitem_html_ad5b753d7b46c55de9a5b66bbc2b14b99"><div class="ttname"><a href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">item::covers</a></div><div class="ttdeci">bool covers(body_part bp) const</div><div class="ttdoc">Whether this item (when worn) covers the given body part.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00740">item.cpp:740</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a614c2056b7d8fcc6773e3441a3feacc3"><div class="ttname"><a href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a></div><div class="ttdeci">static const std::string flag_FIT(&quot;FIT&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a6c8288ba9cd84970a89d33b9f3064e7f"><div class="ttname"><a href="item_8cpp.html#a6c8288ba9cd84970a89d33b9f3064e7f">flag_HELMET_COMPAT</a></div><div class="ttdeci">static const std::string flag_HELMET_COMPAT(&quot;HELMET_COMPAT&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a72f30499abbdfb9d675b87d1ba004d25"><div class="ttname"><a href="item_8cpp.html#a72f30499abbdfb9d675b87d1ba004d25">flag_POWERARMOR_EXO</a></div><div class="ttdeci">static const std::string flag_POWERARMOR_EXO(&quot;POWERARMOR_EXO&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a8c80c02fb14cd9bf70ec9aa43eba5164"><div class="ttname"><a href="item_8cpp.html#a8c80c02fb14cd9bf70ec9aa43eba5164">itype_rad_badge</a></div><div class="ttdeci">static const itype_id itype_rad_badge(&quot;rad_badge&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ad66d76d379c8d5dcdbb69ceac398607b"><div class="ttname"><a href="item_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a></div><div class="ttdeci">static const std::string flag_VARSIZE(&quot;VARSIZE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ae04e0ffbeaf9e6f5f9661f6bcf2a3ccb"><div class="ttname"><a href="item_8cpp.html#ae04e0ffbeaf9e6f5f9661f6bcf2a3ccb">flag_POWERARMOR_EXTERNAL</a></div><div class="ttdeci">static const std::string flag_POWERARMOR_EXTERNAL(&quot;POWERARMOR_EXTERNAL&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ae169987d464a24207dd3cb77921c329a"><div class="ttname"><a href="item_8cpp.html#ae169987d464a24207dd3cb77921c329a">rad_badge_color</a></div><div class="ttdeci">std::string rad_badge_color(const int rad)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00286">item.cpp:286</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa5789a7c68b3aaf7dfb33db96e6a86665"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5789a7c68b3aaf7dfb33db96e6a86665">iteminfo_parts::DESCRIPTION_FLAGS_POWERARMOR</a></div><div class="ttdeci">@ DESCRIPTION_FLAGS_POWERARMOR</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa59be0d71ec1b070b18d9f4215fa4a90f"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa59be0d71ec1b070b18d9f4215fa4a90f">iteminfo_parts::DESCRIPTION_IRRADIATION</a></div><div class="ttdeci">@ DESCRIPTION_IRRADIATION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa7e8f048a626c868dd942374a9e53ae9a"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7e8f048a626c868dd942374a9e53ae9a">iteminfo_parts::DESCRIPTION_FLAGS_VARSIZE</a></div><div class="ttdeci">@ DESCRIPTION_FLAGS_VARSIZE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaab79dd8bd02009ff88f5d2b475a87c296"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab79dd8bd02009ff88f5d2b475a87c296">iteminfo_parts::DESCRIPTION_FLAGS_SIDED</a></div><div class="ttdeci">@ DESCRIPTION_FLAGS_SIDED</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaad677c6c4526b3d8b3f2596d9e61661c4"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad677c6c4526b3d8b3f2596d9e61661c4">iteminfo_parts::DESCRIPTION_FLAGS_POWERARMOR_RADIATIONHINT</a></div><div class="ttdeci">@ DESCRIPTION_FLAGS_POWERARMOR_RADIATIONHINT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaade87c958bfce7f5ecb1b1a701b71fa88"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaade87c958bfce7f5ecb1b1a701b71fa88">iteminfo_parts::DESCRIPTION_FLAGS_FITS</a></div><div class="ttdeci">@ DESCRIPTION_FLAGS_FITS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaef19a6dc20b32e1cbdc327691d044bb4"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef19a6dc20b32e1cbdc327691d044bb4">iteminfo_parts::DESCRIPTION_FLAGS_HELMETCOMPAT</a></div><div class="ttdeci">@ DESCRIPTION_FLAGS_HELMETCOMPAT</div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02player__display_8cpp_03_html_a2f6040cde5f366f2f92e1fd995b289c1ac6cfd4983be847b61861fd0a9c7cabbe"><div class="ttname"><a href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1ac6cfd4983be847b61861fd0a9c7cabbe">anonymous_namespace{player_display.cpp}::player_display_tab::encumbrance</a></div><div class="ttdeci">@ encumbrance</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3c281ac6effc3982eea0c56df3fe766">big_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c">big_sized_human_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">big_sized_small_char</a>, <a class="el" href="bodypart_8h_source.html#l00041">bp_head</a>, <a class="el" href="item_8cpp_source.html#l00740">covers()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaade87c958bfce7f5ecb1b1a701b71fa88">DESCRIPTION_FLAGS_FITS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef19a6dc20b32e1cbdc327691d044bb4">DESCRIPTION_FLAGS_HELMETCOMPAT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5789a7c68b3aaf7dfb33db96e6a86665">DESCRIPTION_FLAGS_POWERARMOR</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad677c6c4526b3d8b3f2596d9e61661c4">DESCRIPTION_FLAGS_POWERARMOR_RADIATIONHINT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab79dd8bd02009ff88f5d2b475a87c296">DESCRIPTION_FLAGS_SIDED</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7e8f048a626c868dd942374a9e53ae9a">DESCRIPTION_FLAGS_VARSIZE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa59be0d71ec1b070b18d9f4215fa4a90f">DESCRIPTION_IRRADIATION</a>, <a class="el" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT()</a>, <a class="el" href="item_8cpp.html#a6c8288ba9cd84970a89d33b9f3064e7f">flag_HELMET_COMPAT()</a>, <a class="el" href="item_8cpp.html#a72f30499abbdfb9d675b87d1ba004d25">flag_POWERARMOR_EXO()</a>, <a class="el" href="item_8cpp.html#ae04e0ffbeaf9e6f5f9661f6bcf2a3ccb">flag_POWERARMOR_EXTERNAL()</a>, <a class="el" href="item_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05642">get_encumber()</a>, <a class="el" href="item_8cpp_source.html#l01185">get_sizing()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">human_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca781d038afb4ccd0fb1b2085adfefd1c3">human_sized_human_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">human_sized_small_char</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8h_source.html#l02203">irradiation</a>, <a class="el" href="item_8cpp_source.html#l06554">is_armor()</a>, <a class="el" href="item_8cpp_source.html#l05636">is_power_armor()</a>, <a class="el" href="item_8cpp_source.html#l00799">is_sided()</a>, <a class="el" href="item_8cpp.html#a8c80c02fb14cd9bf70ec9aa43eba5164">itype_rad_badge</a>, <a class="el" href="item_8cpp_source.html#l00286">rad_badge_color()</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">small_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">small_sized_human_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca096d4645ed938b760b6111684abd8c4c">small_sized_small_char</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>.</p>

</div>
</div>
<a id="ac77c48d5e9c233b89f29a0aa9c68b9e7" name="ac77c48d5e9c233b89f29a0aa9c68b9e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac77c48d5e9c233b89f29a0aa9c68b9e7">&#9670;&nbsp;</a></span>armor_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::armor_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l02476">2476</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>{</div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() ) {</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>    }</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span> </div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1ac6cfd4983be847b61861fd0a9c7cabbe">encumbrance</a> = <a class="code hl_function" href="classitem.html#ac242b34e6ae35efdcdd956df3f320e84">get_encumber</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="classitem.html#a952452b603e34038ff8dff7ed9422a9c">sizing</a> sizing_level = <a class="code hl_function" href="classitem.html#ab499c1bb4b2c55f0199f8509f6eff6a3">get_sizing</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, encumbrance != 0 );</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> = <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>    <a class="code hl_class" href="classbody__part__set.html">body_part_set</a> covered_parts = <a class="code hl_function" href="classitem.html#aa370bf267d606ed6098dc9d1c518ebf5">get_covered_body_parts</a>();</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>    <span class="keywordtype">bool</span> covers_anything = covered_parts.<a class="code hl_function" href="classbody__part__set.html#ab73d8c38feeabf0f9ab423fec3ebc834">any</a>();</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span> </div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3d1d4eabca63b8b7c6102dbe638425cc">iteminfo_parts::ARMOR_BODYPARTS</a> ) ) {</div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>        std::string coverage = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Covers&lt;/bold&gt;: &quot;</span> );</div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab1635a97e6cc33a051cd378b60e48698">bp_head</a> ) ) {</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;head&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span>        }</div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a> ) ) {</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;eyes&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span>        }</div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980abb7b120eb8dc7c137110446fe541baed">bp_mouth</a> ) ) {</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;mouth&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>        }</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a> ) ) {</div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;torso&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>        }</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span> </div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">is_sided</a>() &amp;&amp; ( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a> ) || <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a> ) ) ) {</div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Either &lt;info&gt;arm&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a> ) ) {</div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;arms&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a> ) ) {</div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;left arm&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a> ) ) {</div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;right arm&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>        }</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span> </div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">is_sided</a>() &amp;&amp; ( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a> ) || <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a> ) ) ) {</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Either &lt;info&gt;hand&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a> ) ) {</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;hands&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a> ) ) {</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;left hand&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a> ) ) {</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;right hand&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>        }</div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span> </div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">is_sided</a>() &amp;&amp; ( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a> ) || <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a> ) ) ) {</div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Either &lt;info&gt;leg&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a> ) ) {</div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;legs&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a> ) ) {</div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;left leg&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a> ) ) {</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;right leg&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>        }</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span> </div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">is_sided</a>() &amp;&amp; ( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a> ) || <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a> ) ) ) {</div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Either &lt;info&gt;foot&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a> ) ) {</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;feet&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a> ) ) {</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;left foot&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a> ) ) {</div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The &lt;info&gt;right foot&lt;/info&gt;. &quot;</span> );</div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>        }</div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span> </div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span>        <span class="keywordflow">if</span>( !covers_anything ) {</div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>            coverage += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;info&gt;Nothing&lt;/info&gt;.&quot;</span> );</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>        }</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span> </div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, coverage ) );</div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span>    }</div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span> </div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa887d9f47ec92596937c09cb71a2343d8">iteminfo_parts::ARMOR_LAYER</a> ) &amp;&amp; covers_anything ) {</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>        std::string layering = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Layer: &quot;</span> );</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ad21f0b7d4a811598d98780bfb162aa8e">flag_PERSONAL</a> ) ) {</div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span>            layering += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;stat&gt;Personal aura&lt;/stat&gt;. &quot;</span> );</div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a539171e26650f9a9e0128f706ed57c7c">flag_SKINTIGHT</a> ) ) {</div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>            layering +=  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;stat&gt;Close to skin&lt;/stat&gt;. &quot;</span> );</div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a0acfb8cda610138cb8dc7a0eb0bcfe4c">flag_BELTED</a> ) ) {</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span>            layering +=  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;stat&gt;Strapped&lt;/stat&gt;. &quot;</span> );</div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a84f34ef54c48bd2b3e6a86cdef914e4f">flag_OUTER</a> ) ) {</div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span>            layering +=  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;stat&gt;Outer&lt;/stat&gt;. &quot;</span> );</div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a049ecf75dafbf3d8c18e7fb19c29646b">flag_WAIST</a> ) ) {</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>            layering +=  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;stat&gt;Waist&lt;/stat&gt;. &quot;</span> );</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab0e722b4d6c8fdcebccff1bc1c5ffea4">flag_AURA</a> ) ) {</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>            layering +=  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;stat&gt;Outer aura&lt;/stat&gt;. &quot;</span> );</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span>            layering +=  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;stat&gt;Normal&lt;/stat&gt;. &quot;</span> );</div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>        }</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span> </div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, layering ) );</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>    }</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span> </div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9cc36647cacaabd70c736b2dc5021807">iteminfo_parts::ARMOR_COVERAGE</a> ) &amp;&amp; covers_anything ) {</div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Coverage: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;%&quot;</span>,</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, <a class="code hl_function" href="classitem.html#aae86ed52f17bed14dffddbbc618b8afa">get_coverage</a>() ) );</div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span>    }</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa43a9ade55f151d022d902d69e31507b7">iteminfo_parts::ARMOR_WARMTH</a> ) &amp;&amp; covers_anything ) {</div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Warmth: &quot;</span> ), <a class="code hl_function" href="classitem.html#aa7e45a18f173ca31f0c0ba31f3397854">get_warmth</a>() ) );</div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span>    }</div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span> </div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span> </div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa057c55297103ac35d60509c54620e6e1">iteminfo_parts::ARMOR_ENCUMBRANCE</a> ) &amp;&amp; covers_anything ) {</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span>        std::string <a class="code hl_function" href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a>;</div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> ) ) {</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span>            <a class="code hl_function" href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt; &lt;info&gt;(fits)&lt;/info&gt;&quot;</span> );</div>
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"> 2587</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a> ) &amp;&amp; encumbrance ) {</div>
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"> 2588</span>            <a class="code hl_function" href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt; &lt;bad&gt;(poor fit)&lt;/bad&gt;&quot;</span> );</div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span>        }</div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span> </div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>        <span class="comment">//If we have the wrong size, we do not fit so alert the player</span></div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span>        <span class="keywordflow">if</span>( sizing_level == <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">sizing::human_sized_small_char</a> )  {</div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span>            <a class="code hl_function" href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt; &lt;bad&gt;(too big)&lt;/bad&gt;&quot;</span> );</div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sizing_level == <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">sizing::big_sized_small_char</a> ) {</div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span>            <a class="code hl_function" href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt; &lt;bad&gt;(huge!)&lt;/bad&gt;&quot;</span> );</div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sizing_level == <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">sizing::small_sized_human_char</a> ||</div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"> 2597</span>                   sizing_level == <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">sizing::human_sized_big_char</a> )  {</div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span>            <a class="code hl_function" href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt; &lt;bad&gt;(too small)&lt;/bad&gt;&quot;</span> );</div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sizing_level == <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">sizing::small_sized_big_char</a> )  {</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span>            <a class="code hl_function" href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt; &lt;bad&gt;(tiny!)&lt;/bad&gt;&quot;</span> );</div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span>        }</div>
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"> 2602</span> </div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Encumbrance&lt;/bold&gt;: &quot;</span> ), <a class="code hl_function" href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a>,</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span>                                  encumbrance ) );</div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a14fcae616635cf3a66644e0d473a3622">rigid</a> ) {</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> encumbrance_when_full =</div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>                <a class="code hl_function" href="classitem.html#a358c2251db699caf33786512138bba54">get_encumber_when_containing</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, <a class="code hl_function" href="classitem.html#a02f0b48a661f955def6f0fbbe2262a63">get_total_capacity</a>() );</div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Encumbrance when full: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span>                                      encumbrance_when_full ) );</div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span>        }</div>
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"> 2613</span>    }</div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span> </div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span>    <span class="keywordtype">int</span> converted_storage_scale = 0;</div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> converted_storage = <a class="code hl_function" href="cata__utility_8cpp.html#a9dbcecb703a6e1111a0552177b6bf9fc">round_up</a>( <a class="code hl_function" href="units__utility_8cpp.html#afa125a0ee11c6790f0be6d3b3707d28a">convert_volume</a>( <a class="code hl_function" href="classitem.html#a9653264e34fbb2b99737e09e0a207df4">get_storage</a>().value(),</div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span>                                     &amp;converted_storage_scale ), 2 );</div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa46759127f3699bd5a3bb8f0c4efa636c">iteminfo_parts::ARMOR_STORAGE</a> ) &amp;&amp; converted_storage &gt; 0 ) {</div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span>        <span class="keyword">const</span> <a class="code hl_enumeration" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16">iteminfo::flags</a> f = converted_storage_scale == 0 ? <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a> : <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>;</div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Storage: &quot;</span> ),</div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span>                                  <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;num&gt; %s&quot;</span>, <a class="code hl_function" href="units__utility_8cpp.html#a5c2697027e2386941cdc4f6adbe8faac">volume_units_abbr</a>() ),</div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span>                                  f, converted_storage ) );</div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span>    }</div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span> </div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>    <span class="comment">// Whatever the last entry was, we want a newline at this point</span></div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().bNewLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span> </div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span>    <span class="keywordflow">if</span>( covers_anything ) {</div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span>        <a class="code hl_function" href="classitem.html#a9c6ed5dc9c02f4272d3345e52d4020a0">armor_protection_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span>    }</div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span> </div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span>    <span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> weight_bonus = <a class="code hl_function" href="classitem.html#a93d69d87b0c4bb5cc90f95f50785adb9">get_weight_capacity_bonus</a>();</div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> weight_modif = <a class="code hl_function" href="classitem.html#ac5c4e0b19f9a1b77e17286332f2ca550">get_weight_capacity_modifier</a>();</div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span>    <span class="keywordflow">if</span>( weight_modif != 1 ) {</div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span>        std::string modifier;</div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span>        <span class="keywordflow">if</span>( weight_modif &lt; 1 ) {</div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span>            modifier = <span class="stringliteral">&quot;&lt;num&gt;&lt;bad&gt;x&lt;/bad&gt;&quot;</span>;</div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>            modifier = <span class="stringliteral">&quot;&lt;num&gt;&lt;color_light_green&gt;x&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>        }</div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>,</div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Weight capacity modifier&lt;/bold&gt;: &quot;</span> ), modifier,</div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>, weight_modif ) );</div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>    }</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span>    <span class="keywordflow">if</span>( weight_bonus != 0_gram ) {</div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span>        std::string bonus;</div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>        <span class="keywordflow">if</span>( weight_bonus &lt; 0_gram ) {</div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span>            bonus = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;num&gt; &lt;bad&gt;%s&lt;/bad&gt;&quot;</span>, <a class="code hl_function" href="units__utility_8cpp.html#a3556beacf095f6eb2944d7c9dbf235d3">weight_units</a>() );</div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>            bonus = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;num&gt; &lt;color_light_green&gt; %s&lt;/color&gt;&quot;</span>, <a class="code hl_function" href="units__utility_8cpp.html#a3556beacf095f6eb2944d7c9dbf235d3">weight_units</a>() );</div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>        }</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Weight capacity bonus&lt;/bold&gt;: &quot;</span> ), bonus,</div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span>                                  <a class="code hl_function" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( weight_bonus ) ) );</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span>    }</div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>}</div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a></div><div class="ttdeci">@ bp_foot_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00050">bodypart.h:50</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a></div><div class="ttdeci">@ bp_leg_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00049">bodypart.h:49</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a></div><div class="ttdeci">@ bp_eyes</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00042">bodypart.h:42</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a></div><div class="ttdeci">@ bp_hand_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00046">bodypart.h:46</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a></div><div class="ttdeci">@ bp_arm_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00044">bodypart.h:44</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a></div><div class="ttdeci">@ bp_leg_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00048">bodypart.h:48</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a></div><div class="ttdeci">@ bp_hand_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00047">bodypart.h:47</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a></div><div class="ttdeci">@ bp_torso</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00040">bodypart.h:40</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980abb7b120eb8dc7c137110446fe541baed"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980abb7b120eb8dc7c137110446fe541baed">bp_mouth</a></div><div class="ttdeci">@ bp_mouth</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00043">bodypart.h:43</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a></div><div class="ttdeci">@ bp_foot_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00051">bodypart.h:51</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a></div><div class="ttdeci">@ bp_arm_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00045">bodypart.h:45</a></div></div>
<div class="ttc" id="aclassbody__part__set_html"><div class="ttname"><a href="classbody__part__set.html">body_part_set</a></div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00198">bodypart.h:199</a></div></div>
<div class="ttc" id="aclassbody__part__set_html_ab73d8c38feeabf0f9ab423fec3ebc834"><div class="ttname"><a href="classbody__part__set.html#ab73d8c38feeabf0f9ab423fec3ebc834">body_part_set::any</a></div><div class="ttdeci">bool any() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00246">bodypart.h:246</a></div></div>
<div class="ttc" id="aclassitem_html_a02f0b48a661f955def6f0fbbe2262a63"><div class="ttname"><a href="classitem.html#a02f0b48a661f955def6f0fbbe2262a63">item::get_total_capacity</a></div><div class="ttdeci">units::volume get_total_capacity() const</div><div class="ttdoc">It returns the maximum volume of any contents, including liquids, ammo, magazines,...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08247">item.cpp:8247</a></div></div>
<div class="ttc" id="aclassitem_html_a358c2251db699caf33786512138bba54"><div class="ttname"><a href="classitem.html#a358c2251db699caf33786512138bba54">item::get_encumber_when_containing</a></div><div class="ttdeci">int get_encumber_when_containing(const Character &amp;, const units::volume &amp;contents_volume) const</div><div class="ttdoc">Returns the encumbrance value that this item has when worn by given player, when containing a particu...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05670">item.cpp:5670</a></div></div>
<div class="ttc" id="aclassitem_html_a93d69d87b0c4bb5cc90f95f50785adb9"><div class="ttname"><a href="classitem.html#a93d69d87b0c4bb5cc90f95f50785adb9">item::get_weight_capacity_bonus</a></div><div class="ttdeci">units::mass get_weight_capacity_bonus() const</div><div class="ttdoc">Returns the weight capacity bonus (islot_armor::weight_capacity_modifier) that this item provides whe...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05604">item.cpp:5604</a></div></div>
<div class="ttc" id="aclassitem_html_aa370bf267d606ed6098dc9d1c518ebf5"><div class="ttname"><a href="classitem.html#aa370bf267d606ed6098dc9d1c518ebf5">item::get_covered_body_parts</a></div><div class="ttdeci">body_part_set get_covered_body_parts() const</div><div class="ttdoc">Bitset of all covered body parts.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00750">item.cpp:750</a></div></div>
<div class="ttc" id="aclassitem_html_aa7e45a18f173ca31f0c0ba31f3397854"><div class="ttname"><a href="classitem.html#aa7e45a18f173ca31f0c0ba31f3397854">item::get_warmth</a></div><div class="ttdeci">int get_warmth() const</div><div class="ttdoc">Returns the warmth value that this item has when worn.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05768">item.cpp:5768</a></div></div>
<div class="ttc" id="aclassitem_html_aae86ed52f17bed14dffddbbc618b8afa"><div class="ttname"><a href="classitem.html#aae86ed52f17bed14dffddbbc618b8afa">item::get_coverage</a></div><div class="ttdeci">int get_coverage() const</div><div class="ttdoc">Returns the relative coverage that this item has when worn.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05750">item.cpp:5750</a></div></div>
<div class="ttc" id="aclassitem_html_ac5c4e0b19f9a1b77e17286332f2ca550"><div class="ttname"><a href="classitem.html#ac5c4e0b19f9a1b77e17286332f2ca550">item::get_weight_capacity_modifier</a></div><div class="ttdeci">float get_weight_capacity_modifier() const</div><div class="ttdoc">Returns the weight capacity modifier (islot_armor::weight_capacity_modifier) that this item provides ...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05595">item.cpp:5595</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00014">units_def.h:15</a></div></div>
<div class="ttc" id="afmtlib__core_8h_html_a80bdffd1698c1834f081bcf015be1cff"><div class="ttname"><a href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a></div><div class="ttdeci">FMT_INLINE std::basic_string&lt; Char &gt; format(const S &amp;format_str, Args &amp;&amp;... args)</div><div class="ttdoc">\rst Formats arguments and returns the result as a string.</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__core_8h_source.html#l02316">fmtlib_core.h:2316</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a049ecf75dafbf3d8c18e7fb19c29646b"><div class="ttname"><a href="item_8cpp.html#a049ecf75dafbf3d8c18e7fb19c29646b">flag_WAIST</a></div><div class="ttdeci">static const std::string flag_WAIST(&quot;WAIST&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a0acfb8cda610138cb8dc7a0eb0bcfe4c"><div class="ttname"><a href="item_8cpp.html#a0acfb8cda610138cb8dc7a0eb0bcfe4c">flag_BELTED</a></div><div class="ttdeci">static const std::string flag_BELTED(&quot;BELTED&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a539171e26650f9a9e0128f706ed57c7c"><div class="ttname"><a href="item_8cpp.html#a539171e26650f9a9e0128f706ed57c7c">flag_SKINTIGHT</a></div><div class="ttdeci">static const std::string flag_SKINTIGHT(&quot;SKINTIGHT&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a84f34ef54c48bd2b3e6a86cdef914e4f"><div class="ttname"><a href="item_8cpp.html#a84f34ef54c48bd2b3e6a86cdef914e4f">flag_OUTER</a></div><div class="ttdeci">static const std::string flag_OUTER(&quot;OUTER&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ab0e722b4d6c8fdcebccff1bc1c5ffea4"><div class="ttname"><a href="item_8cpp.html#ab0e722b4d6c8fdcebccff1bc1c5ffea4">flag_AURA</a></div><div class="ttdeci">static const std::string flag_AURA(&quot;AURA&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ad21f0b7d4a811598d98780bfb162aa8e"><div class="ttname"><a href="item_8cpp.html#ad21f0b7d4a811598d98780bfb162aa8e">flag_PERSONAL</a></div><div class="ttdeci">static const std::string flag_PERSONAL(&quot;PERSONAL&quot;)</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa057c55297103ac35d60509c54620e6e1"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa057c55297103ac35d60509c54620e6e1">iteminfo_parts::ARMOR_ENCUMBRANCE</a></div><div class="ttdeci">@ ARMOR_ENCUMBRANCE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa3d1d4eabca63b8b7c6102dbe638425cc"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3d1d4eabca63b8b7c6102dbe638425cc">iteminfo_parts::ARMOR_BODYPARTS</a></div><div class="ttdeci">@ ARMOR_BODYPARTS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa43a9ade55f151d022d902d69e31507b7"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa43a9ade55f151d022d902d69e31507b7">iteminfo_parts::ARMOR_WARMTH</a></div><div class="ttdeci">@ ARMOR_WARMTH</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa887d9f47ec92596937c09cb71a2343d8"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa887d9f47ec92596937c09cb71a2343d8">iteminfo_parts::ARMOR_LAYER</a></div><div class="ttdeci">@ ARMOR_LAYER</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa9cc36647cacaabd70c736b2dc5021807"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9cc36647cacaabd70c736b2dc5021807">iteminfo_parts::ARMOR_COVERAGE</a></div><div class="ttdeci">@ ARMOR_COVERAGE</div></div>
<div class="ttc" id="astructitype_html_a14fcae616635cf3a66644e0d473a3622"><div class="ttname"><a href="structitype.html#a14fcae616635cf3a66644e0d473a3622">itype::rigid</a></div><div class="ttdeci">bool rigid</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00991">itype.h:991</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a3556beacf095f6eb2944d7c9dbf235d3"><div class="ttname"><a href="units__utility_8cpp.html#a3556beacf095f6eb2944d7c9dbf235d3">weight_units</a></div><div class="ttdeci">const char * weight_units()</div><div class="ttdoc">Create a units label for a weight value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00032">units_utility.cpp:32</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a6701113802c6412b3c5d3fa59149ca6c"><div class="ttname"><a href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a></div><div class="ttdeci">double convert_weight(const units::mass &amp;weight)</div><div class="ttdoc">Convert weight in grams to units defined by user (kg or lbs)</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00085">units_utility.cpp:85</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="bodypart_8h_source.html#l00246">body_part_set::any()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3d1d4eabca63b8b7c6102dbe638425cc">ARMOR_BODYPARTS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9cc36647cacaabd70c736b2dc5021807">ARMOR_COVERAGE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa057c55297103ac35d60509c54620e6e1">ARMOR_ENCUMBRANCE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa887d9f47ec92596937c09cb71a2343d8">ARMOR_LAYER</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa46759127f3699bd5a3bb8f0c4efa636c">ARMOR_STORAGE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa43a9ade55f151d022d902d69e31507b7">ARMOR_WARMTH</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">big_sized_small_char</a>, <a class="el" href="bodypart_8h_source.html#l00044">bp_arm_l</a>, <a class="el" href="bodypart_8h_source.html#l00045">bp_arm_r</a>, <a class="el" href="bodypart_8h_source.html#l00042">bp_eyes</a>, <a class="el" href="bodypart_8h_source.html#l00050">bp_foot_l</a>, <a class="el" href="bodypart_8h_source.html#l00051">bp_foot_r</a>, <a class="el" href="bodypart_8h_source.html#l00046">bp_hand_l</a>, <a class="el" href="bodypart_8h_source.html#l00047">bp_hand_r</a>, <a class="el" href="bodypart_8h_source.html#l00041">bp_head</a>, <a class="el" href="bodypart_8h_source.html#l00048">bp_leg_l</a>, <a class="el" href="bodypart_8h_source.html#l00049">bp_leg_r</a>, <a class="el" href="bodypart_8h_source.html#l00043">bp_mouth</a>, <a class="el" href="bodypart_8h_source.html#l00040">bp_torso</a>, <a class="el" href="units__utility_8cpp_source.html#l00096">convert_volume()</a>, <a class="el" href="units__utility_8cpp_source.html#l00085">convert_weight()</a>, <a class="el" href="item_8cpp_source.html#l00740">covers()</a>, <a class="el" href="debug__menu_8cpp_source.html#l01325">debug_menu::debug()</a>, <a class="el" href="item_8cpp.html#ab0e722b4d6c8fdcebccff1bc1c5ffea4">flag_AURA()</a>, <a class="el" href="item_8cpp.html#a0acfb8cda610138cb8dc7a0eb0bcfe4c">flag_BELTED()</a>, <a class="el" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT()</a>, <a class="el" href="item_8cpp.html#a84f34ef54c48bd2b3e6a86cdef914e4f">flag_OUTER()</a>, <a class="el" href="item_8cpp.html#ad21f0b7d4a811598d98780bfb162aa8e">flag_PERSONAL()</a>, <a class="el" href="item_8cpp.html#a539171e26650f9a9e0128f706ed57c7c">flag_SKINTIGHT()</a>, <a class="el" href="item_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE()</a>, <a class="el" href="item_8cpp.html#a049ecf75dafbf3d8c18e7fb19c29646b">flag_WAIST()</a>, <a class="el" href="fmtlib__core_8h_source.html#l02316">format()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05750">get_coverage()</a>, <a class="el" href="item_8cpp_source.html#l00750">get_covered_body_parts()</a>, <a class="el" href="item_8cpp_source.html#l05642">get_encumber()</a>, <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>, <a class="el" href="item_8cpp_source.html#l01185">get_sizing()</a>, <a class="el" href="item_8cpp_source.html#l05582">get_storage()</a>, <a class="el" href="item_8cpp_source.html#l08247">get_total_capacity()</a>, <a class="el" href="item_8cpp_source.html#l05768">get_warmth()</a>, <a class="el" href="item_8cpp_source.html#l05604">get_weight_capacity_bonus()</a>, <a class="el" href="item_8cpp_source.html#l05595">get_weight_capacity_modifier()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">human_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">human_sized_small_char</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06554">is_armor()</a>, <a class="el" href="item_8h_source.html#l00142">iteminfo::is_decimal</a>, <a class="el" href="item_8cpp_source.html#l00799">is_sided()</a>, <a class="el" href="item_8h_source.html#l00145">iteminfo::lower_is_better</a>, <a class="el" href="item_8h_source.html#l00141">iteminfo::no_flags</a>, <a class="el" href="item_8h_source.html#l00144">iteminfo::no_newline</a>, <a class="el" href="itype_8h_source.html#l00991">itype::rigid</a>, <a class="el" href="cata__utility_8cpp_source.html#l00042">round_up()</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">small_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">small_sized_human_char</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::space</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="units__utility_8cpp_source.html#l00037">volume_units_abbr()</a>, and <a class="el" href="units__utility_8cpp_source.html#l00032">weight_units()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a9c6ed5dc9c02f4272d3345e52d4020a0" name="a9c6ed5dc9c02f4272d3345e52d4020a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c6ed5dc9c02f4272d3345e52d4020a0">&#9670;&nbsp;</a></span>armor_protection_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::armor_protection_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l02433">2433</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span>{</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">is_pet_armor</a>() ) {</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>    }</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span> </div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> = <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span> </div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa71e88a67ec4bcd3ce9c25b324b00f9d8">iteminfo_parts::ARMOR_PROTECTION</a> ) ) {</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Protection&lt;/bold&gt;: Bash: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, <a class="code hl_function" href="classitem.html#a08e362362ade6af1e4e31aca9f70ade7">bash_resist</a>() ) );</div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Cut: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, <a class="code hl_function" href="classitem.html#ad7ead414844fff807b3cf1d69fe37f84">cut_resist</a>() ) );</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ballistic: &quot;</span> ), <a class="code hl_function" href="classitem.html#ac6e793a2b6ba3b3c91e1d10962c25a51">bullet_resist</a>() ) );</div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Acid: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, <a class="code hl_function" href="classitem.html#a9b91d51ced70c7329b6c37bdc4c845d5">acid_resist</a>() ) );</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Fire: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, <a class="code hl_function" href="classitem.html#a9aa80e0c16baec64375371b22ee21fc2">fire_resist</a>() ) );</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Environmental: &quot;</span> ),</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>                                  <a class="code hl_function" href="item_8cpp.html#a62b9a91d73cca0fcb671b80079e8ee5d">get_base_env_resist</a>( *<span class="keyword">this</span> ) ) );</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;GASMASK&quot;</span> ) || <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;DIVE_TANK&quot;</span> ) ) {</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>,</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Protection when active&lt;/bold&gt;: &quot;</span> ) ) );</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Acid: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>,</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>                                      <a class="code hl_function" href="classitem.html#a9b91d51ced70c7329b6c37bdc4c845d5">acid_resist</a>( <span class="keyword">false</span>, <a class="code hl_function" href="classitem.html#acb31dfc93d0de49315fdbbac504236df">get_base_env_resist_w_filter</a>() ) ) );</div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Fire: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>,</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>                                      <a class="code hl_function" href="classitem.html#a9aa80e0c16baec64375371b22ee21fc2">fire_resist</a>( <span class="keyword">false</span>, <a class="code hl_function" href="classitem.html#acb31dfc93d0de49315fdbbac504236df">get_base_env_resist_w_filter</a>() ) ) );</div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Environmental: &quot;</span> ),</div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span>                                      <a class="code hl_function" href="classitem.html#ac56f53ef32f24c048d9e893c9336ec95">get_env_resist</a>( <a class="code hl_function" href="classitem.html#acb31dfc93d0de49315fdbbac504236df">get_base_env_resist_w_filter</a>() ) ) );</div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>        }</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span> </div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; 0 ) {</div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;ARMOR&quot;</span>,</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Protection values are &lt;bad&gt;reduced by damage&lt;/bad&gt; and &quot;</span></div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>                                         <span class="stringliteral">&quot;you may be able to &lt;info&gt;improve them by repairing this &quot;</span></div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>                                         <span class="stringliteral">&quot;item&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>        }</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>    }</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>}</div>
<div class="ttc" id="aclassitem_html_a08e362362ade6af1e4e31aca9f70ade7"><div class="ttname"><a href="classitem.html#a08e362362ade6af1e4e31aca9f70ade7">item::bash_resist</a></div><div class="ttdeci">int bash_resist(bool to_self=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05881">item.cpp:5881</a></div></div>
<div class="ttc" id="aclassitem_html_a9aa80e0c16baec64375371b22ee21fc2"><div class="ttname"><a href="classitem.html#a9aa80e0c16baec64375371b22ee21fc2">item::fire_resist</a></div><div class="ttdeci">int fire_resist(bool to_self=false, int base_env_resist=0) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06011">item.cpp:6011</a></div></div>
<div class="ttc" id="aclassitem_html_a9b91d51ced70c7329b6c37bdc4c845d5"><div class="ttname"><a href="classitem.html#a9b91d51ced70c7329b6c37bdc4c845d5">item::acid_resist</a></div><div class="ttdeci">int acid_resist(bool to_self=false, int base_env_resist=0) const</div><div class="ttdoc">Resistance against different damage types (damage_type).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05977">item.cpp:5977</a></div></div>
<div class="ttc" id="aclassitem_html_ac6e793a2b6ba3b3c91e1d10962c25a51"><div class="ttname"><a href="classitem.html#ac6e793a2b6ba3b3c91e1d10962c25a51">item::bullet_resist</a></div><div class="ttdeci">int bullet_resist(bool to_self=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05948">item.cpp:5948</a></div></div>
<div class="ttc" id="aclassitem_html_acb31dfc93d0de49315fdbbac504236df"><div class="ttname"><a href="classitem.html#acb31dfc93d0de49315fdbbac504236df">item::get_base_env_resist_w_filter</a></div><div class="ttdeci">int get_base_env_resist_w_filter() const</div><div class="ttdoc">Returns the base resistance to environmental effects if an item (for example a gas mask) requires a g...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05627">item.cpp:5627</a></div></div>
<div class="ttc" id="aclassitem_html_ad7ead414844fff807b3cf1d69fe37f84"><div class="ttname"><a href="classitem.html#ad7ead414844fff807b3cf1d69fe37f84">item::cut_resist</a></div><div class="ttdeci">int cut_resist(bool to_self=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05909">item.cpp:5909</a></div></div>
<div class="ttc" id="aclassitem_html_ae8a58c6fe3c80cded11d6f3ccfa548a3"><div class="ttname"><a href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">item::damage</a></div><div class="ttdeci">int damage() const</div><div class="ttdoc">How much damage has the item sustained?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00693">item.cpp:693</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a62b9a91d73cca0fcb671b80079e8ee5d"><div class="ttname"><a href="item_8cpp.html#a62b9a91d73cca0fcb671b80079e8ee5d">get_base_env_resist</a></div><div class="ttdeci">static int get_base_env_resist(const item &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01228">item.cpp:1228</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa71e88a67ec4bcd3ce9c25b324b00f9d8"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa71e88a67ec4bcd3ce9c25b324b00f9d8">iteminfo_parts::ARMOR_PROTECTION</a></div><div class="ttdeci">@ ARMOR_PROTECTION</div></div>
<div class="ttc" id="astructitype_html_afc46b586361661f16219f0a465b71c1d"><div class="ttname"><a href="structitype.html#afc46b586361661f16219f0a465b71c1d">itype::can_use</a></div><div class="ttdeci">bool can_use(const std::string &amp;iuse_name) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00086">itype.cpp:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l05977">acid_resist()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa71e88a67ec4bcd3ce9c25b324b00f9d8">ARMOR_PROTECTION</a>, <a class="el" href="item_8cpp_source.html#l05881">bash_resist()</a>, <a class="el" href="item_8cpp_source.html#l05948">bullet_resist()</a>, <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, <a class="el" href="item_8cpp_source.html#l05909">cut_resist()</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="item_8cpp_source.html#l06011">fire_resist()</a>, <a class="el" href="item_8cpp_source.html#l01228">get_base_env_resist()</a>, <a class="el" href="item_8cpp_source.html#l05627">get_base_env_resist_w_filter()</a>, <a class="el" href="item_8cpp_source.html#l05613">get_env_resist()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l06554">is_armor()</a>, <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="item_8h_source.html#l00144">iteminfo::no_newline</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::space</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02658">animal_armor_info()</a>, and <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>.</p>

</div>
</div>
<a id="ae75cd02ac10dda906018f27096a6efa9" name="ae75cd02ac10dda906018f27096a6efa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae75cd02ac10dda906018f27096a6efa9">&#9670;&nbsp;</a></span>attack_cost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::attack_cost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base number of moves (<a class="el" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a>) that a single melee attack with this items takes. </p>
<p >The actual time depends heavily on the attacker, see <a class="el" href="melee_8cpp.html">melee.cpp</a>. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05084">5084</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05085" name="l05085"></a><span class="lineno"> 5085</span>{</div>
<div class="line"><a id="l05086" name="l05086"></a><span class="lineno"> 5086</span>    <span class="keywordtype">int</span> base = 65 + ( <a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() / 62.5_ml + <a class="code hl_function" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>() / 60_gram ) / <a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>();</div>
<div class="line"><a id="l05087" name="l05087"></a><span class="lineno"> 5087</span>    <span class="keywordtype">int</span> bonus = <a class="code hl_function" href="classitem.html#a0970f0b8f54c23b1a7b7a20171485535">bonus_from_enchantments_wielded</a>( base, <a class="code hl_enumvalue" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998ac1a63835a7addc7d8741e4d0dceba53c">enchant_vals::mod::ITEM_ATTACK_COST</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l05088" name="l05088"></a><span class="lineno"> 5088</span>    <span class="keywordflow">return</span> std::max( 0, base + bonus );</div>
<div class="line"><a id="l05089" name="l05089"></a><span class="lineno"> 5089</span>}</div>
<div class="ttc" id="aclassitem_html_a0970f0b8f54c23b1a7b7a20171485535"><div class="ttname"><a href="classitem.html#a0970f0b8f54c23b1a7b7a20171485535">item::bonus_from_enchantments_wielded</a></div><div class="ttdeci">double bonus_from_enchantments_wielded(double base, enchant_vals::mod value, bool round=false) const</div><div class="ttdoc">Calculate bonus from enchantments that affect this item only, assume it's wielded and all enchantment...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06850">item.cpp:6850</a></div></div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04844">item.cpp:4844</a></div></div>
<div class="ttc" id="aclassitem_html_a51eafbdf8b331d88b741c0c527f98eb9"><div class="ttname"><a href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04991">item.cpp:4991</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998ac1a63835a7addc7d8741e4d0dceba53c"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998ac1a63835a7addc7d8741e4d0dceba53c">enchant_vals::mod::ITEM_ATTACK_COST</a></div><div class="ttdeci">@ ITEM_ATTACK_COST</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06850">bonus_from_enchantments_wielded()</a>, <a class="el" href="item_8cpp_source.html#l05860">count()</a>, <a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998ac1a63835a7addc7d8741e4d0dceba53c">enchant_vals::ITEM_ATTACK_COST</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="melee_8cpp_source.html#l02165">Character::attack_cost()</a>, <a class="el" href="item_8cpp_source.html#l03343">combat_info()</a>, <a class="el" href="melee_8cpp_source.html#l00390">Character::melee_attack()</a>, <a class="el" href="npcmove_8cpp_source.html#l02215">npc::move_to()</a>, <a class="el" href="handle__action_8cpp_source.html#l00671">smash()</a>, and <a class="el" href="ranged_8cpp_source.html#l00966">ranged::throw_cost()</a>.</p>

</div>
</div>
<a id="a96c8a18aef6da2f8d876178a3d21dfb0" name="a96c8a18aef6da2f8d876178a3d21dfb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c8a18aef6da2f8d876178a3d21dfb0">&#9670;&nbsp;</a></span>average_dps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double item::average_dps </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the average dps of the weapon against evaluation monsters </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01453">1453</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>{</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>    <span class="keywordtype">double</span> dmg_count = 0.0;</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    <span class="keyword">const</span> std::map&lt;std::string, double&gt; &amp;dps_data = <a class="code hl_function" href="classitem.html#a797cccb8d7a567cb34ab5cfcd226ec27">dps</a>( <span class="keyword">false</span>, <span class="keyword">true</span>, guy );</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const std::string, double&gt; &amp;dps_entry : dps_data ) {</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>        dmg_count += dps_entry.second;</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    }</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>    <span class="keywordflow">return</span> dmg_count / dps_data.size();</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>}</div>
<div class="ttc" id="aclassitem_html_a797cccb8d7a567cb34ab5cfcd226ec27"><div class="ttname"><a href="classitem.html#a797cccb8d7a567cb34ab5cfcd226ec27">item::dps</a></div><div class="ttdeci">std::map&lt; std::string, double &gt; dps(bool for_display, bool for_calc, const player &amp;guy) const</div><div class="ttdoc">calculate effective dps against a stock set of monsters.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01433">item.cpp:1433</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l01433">dps()</a>.</p>

<p class="reference">Referenced by <a class="el" href="melee_8cpp_source.html#l02233">player::melee_value()</a>.</p>

</div>
</div>
<a id="a1eabd9cf88a2b7c1cbdd8b8ec28b002d" name="a1eabd9cf88a2b7c1cbdd8b8ec28b002d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eabd9cf88a2b7c1cbdd8b8ec28b002d">&#9670;&nbsp;</a></span>base_damage_melee()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdamage__instance.html">damage_instance</a> item::base_damage_melee </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>All damage types this item deals when used in melee (no skill modifiers etc. </p>
<p >applied). </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05133">5133</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05134" name="l05134"></a><span class="lineno"> 5134</span>{</div>
<div class="line"><a id="l05135" name="l05135"></a><span class="lineno"> 5135</span>    <span class="comment">// TODO: Caching</span></div>
<div class="line"><a id="l05136" name="l05136"></a><span class="lineno"> 5136</span>    <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l05137" name="l05137"></a><span class="lineno"> 5137</span>    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a> + 1; i &lt; <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aaada32332c0245dc6e4744b66e20cd76f">NUM_DT</a>; i++ ) {</div>
<div class="line"><a id="l05138" name="l05138"></a><span class="lineno"> 5138</span>        <a class="code hl_enumeration" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt = <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a><span class="keyword">&gt;</span>( i );</div>
<div class="line"><a id="l05139" name="l05139"></a><span class="lineno"> 5139</span>        <span class="keywordtype">int</span> dam = <a class="code hl_function" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a>( dt );</div>
<div class="line"><a id="l05140" name="l05140"></a><span class="lineno"> 5140</span>        <span class="keywordflow">if</span>( dam &gt; 0 ) {</div>
<div class="line"><a id="l05141" name="l05141"></a><span class="lineno"> 5141</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.add_damage( dt, dam );</div>
<div class="line"><a id="l05142" name="l05142"></a><span class="lineno"> 5142</span>        }</div>
<div class="line"><a id="l05143" name="l05143"></a><span class="lineno"> 5143</span>    }</div>
<div class="line"><a id="l05144" name="l05144"></a><span class="lineno"> 5144</span> </div>
<div class="line"><a id="l05145" name="l05145"></a><span class="lineno"> 5145</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l05146" name="l05146"></a><span class="lineno"> 5146</span>}</div>
<div class="ttc" id="aclassitem_html_a9d4da29e558173400314e00718341eae"><div class="ttname"><a href="classitem.html#a9d4da29e558173400314e00718341eae">item::damage_melee</a></div><div class="ttdeci">int damage_melee(damage_type dt) const</div><div class="ttdoc">Damage of given type caused when this item is used as melee weapon.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05091">item.cpp:5091</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7a"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a></div><div class="ttdeci">damage_type</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00020">damage.h:20</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a></div><div class="ttdeci">@ DT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00021">damage.h:21</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aaada32332c0245dc6e4744b66e20cd76f"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aaada32332c0245dc6e4744b66e20cd76f">NUM_DT</a></div><div class="ttdeci">@ NUM_DT</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00033">damage.h:32</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="astructdamage__instance_html"><div class="ttname"><a href="structdamage__instance.html">damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00051">damage.h:51</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05091">damage_melee()</a>, <a class="el" href="damage_8h_source.html#l00021">DT_NULL</a>, <a class="el" href="damage_8h_source.html#l00032">NUM_DT</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

</div>
</div>
<a id="a13b2b008995a2f2f2daa63be578b27c8" name="a13b2b008995a2f2f2daa63be578b27c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b2b008995a2f2f2daa63be578b27c8">&#9670;&nbsp;</a></span>base_damage_thrown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdamage__instance.html">damage_instance</a> item::base_damage_thrown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>All damage types this item deals when thrown (no skill modifiers etc. </p>
<p >applied). </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05148">5148</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05149" name="l05149"></a><span class="lineno"> 5149</span>{</div>
<div class="line"><a id="l05150" name="l05150"></a><span class="lineno"> 5150</span>    <span class="comment">// TODO: Create a separate cache for individual items (for modifiers like diamond etc.)</span></div>
<div class="line"><a id="l05151" name="l05151"></a><span class="lineno"> 5151</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a88f1b039c08faacccaa9d637f894ee7f">thrown_damage</a>;</div>
<div class="line"><a id="l05152" name="l05152"></a><span class="lineno"> 5152</span>}</div>
<div class="ttc" id="astructitype_html_a88f1b039c08faacccaa9d637f894ee7f"><div class="ttname"><a href="structitype.html#a88f1b039c08faacccaa9d637f894ee7f">itype::thrown_damage</a></div><div class="ttdeci">damage_instance thrown_damage</div><div class="ttdoc">Base damage output when thrown.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00996">itype.h:996</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00996">itype::thrown_damage</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>.</p>

</div>
</div>
<a id="a1d9c8bbf0bc8223ce3bde8876e99ec8e" name="a1d9c8bbf0bc8223ce3bde8876e99ec8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d9c8bbf0bc8223ce3bde8876e99ec8e">&#9670;&nbsp;</a></span>base_volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> item::base_volume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simplified, faster volume check for when processing time is important and exact volume is not. </p>
<p >NOTE: Result is rounded up to next nearest milliliter when working with stackable (<a class="el" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>) items that have fractional volume per charge. If trying to determine how many of an item can fit in a given space, <a class="el" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a> should be used instead. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04963">4963</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04964" name="l04964"></a><span class="lineno"> 4964</span>{</div>
<div class="line"><a id="l04965" name="l04965"></a><span class="lineno"> 4965</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l04966" name="l04966"></a><span class="lineno"> 4966</span>        <span class="keywordflow">return</span> 0_ml;</div>
<div class="line"><a id="l04967" name="l04967"></a><span class="lineno"> 4967</span>    }</div>
<div class="line"><a id="l04968" name="l04968"></a><span class="lineno"> 4968</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a id="l04969" name="l04969"></a><span class="lineno"> 4969</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">corpse_volume</a>( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> );</div>
<div class="line"><a id="l04970" name="l04970"></a><span class="lineno"> 4970</span>    }</div>
<div class="line"><a id="l04971" name="l04971"></a><span class="lineno"> 4971</span> </div>
<div class="line"><a id="l04972" name="l04972"></a><span class="lineno"> 4972</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l04973" name="l04973"></a><span class="lineno"> 4973</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0_ml;</div>
<div class="line"><a id="l04974" name="l04974"></a><span class="lineno"> 4974</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it : <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l04975" name="l04975"></a><span class="lineno"> 4975</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += it.base_volume();</div>
<div class="line"><a id="l04976" name="l04976"></a><span class="lineno"> 4976</span>        }</div>
<div class="line"><a id="l04977" name="l04977"></a><span class="lineno"> 4977</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l04978" name="l04978"></a><span class="lineno"> 4978</span>    }</div>
<div class="line"><a id="l04979" name="l04979"></a><span class="lineno"> 4979</span> </div>
<div class="line"><a id="l04980" name="l04980"></a><span class="lineno"> 4980</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l04981" name="l04981"></a><span class="lineno"> 4981</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> % <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> == 0_ml ) {</div>
<div class="line"><a id="l04982" name="l04982"></a><span class="lineno"> 4982</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> / <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a>;</div>
<div class="line"><a id="l04983" name="l04983"></a><span class="lineno"> 4983</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04984" name="l04984"></a><span class="lineno"> 4984</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> / <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> + 1_ml;</div>
<div class="line"><a id="l04985" name="l04985"></a><span class="lineno"> 4985</span>        }</div>
<div class="line"><a id="l04986" name="l04986"></a><span class="lineno"> 4986</span>    }</div>
<div class="line"><a id="l04987" name="l04987"></a><span class="lineno"> 4987</span> </div>
<div class="line"><a id="l04988" name="l04988"></a><span class="lineno"> 4988</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a>;</div>
<div class="line"><a id="l04989" name="l04989"></a><span class="lineno"> 4989</span>}</div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05855">item.cpp:5855</a></div></div>
<div class="ttc" id="aclassitem_html_a6f2be68fcb884d25e7bbd41d98b625b3"><div class="ttname"><a href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">item::corpse_volume</a></div><div class="ttdeci">units::volume corpse_volume(const mtype *corpse) const</div><div class="ttdoc">Volume check for corpses, helper for base_volume().</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04941">item.cpp:4941</a></div></div>
<div class="ttc" id="aclassitem_html_a7f25e0430419609c538b07f704d6ba7a"><div class="ttname"><a href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">item::is_craft</a></div><div class="ttdeci">bool is_craft() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06768">item.cpp:6768</a></div></div>
<div class="ttc" id="aclassitem_html_ac9df48bb2d4404a70af9d2fc5e1fa1dd"><div class="ttname"><a href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">item::is_corpse</a></div><div class="ttdeci">bool is_corpse() const</div><div class="ttdoc">Whether this is a corpse item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06470">item.cpp:6470</a></div></div>
<div class="ttc" id="astructitype_html_a531f460f3ba31cb3e433f7e585e1d4e5"><div class="ttname"><a href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">itype::stack_size</a></div><div class="ttdeci">int stack_size</div><div class="ttdoc">Number of items per above volume for count_by_charges items.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00982">itype.h:982</a></div></div>
<div class="ttc" id="astructitype_html_abd3ca12912367ae92d488864e09ea921"><div class="ttname"><a href="structitype.html#abd3ca12912367ae92d488864e09ea921">itype::volume</a></div><div class="ttdeci">units::volume volume</div><div class="ttdoc">Space occupied by items of this type CAUTION: value given is for a default-sized stack.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00974">itype.h:974</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp_source.html#l04941">corpse_volume()</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="itype_8h_source.html#l00982">itype::stack_size</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="itype_8h_source.html#l00974">itype::volume</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, <a class="el" href="item_8cpp_source.html#l08159">flammable()</a>, and <a class="el" href="item_8cpp_source.html#l08069">simulate_burn()</a>.</p>

</div>
</div>
<a id="a08e362362ade6af1e4e31aca9f70ade7" name="a08e362362ade6af1e4e31aca9f70ade7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e362362ade6af1e4e31aca9f70ade7">&#9670;&nbsp;</a></span>bash_resist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::bash_resist </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_self</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05881">5881</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05882" name="l05882"></a><span class="lineno"> 5882</span>{</div>
<div class="line"><a id="l05883" name="l05883"></a><span class="lineno"> 5883</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l05884" name="l05884"></a><span class="lineno"> 5884</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05885" name="l05885"></a><span class="lineno"> 5885</span>    }</div>
<div class="line"><a id="l05886" name="l05886"></a><span class="lineno"> 5886</span> </div>
<div class="line"><a id="l05887" name="l05887"></a><span class="lineno"> 5887</span>    <span class="keywordtype">float</span> resist = 0;</div>
<div class="line"><a id="l05888" name="l05888"></a><span class="lineno"> 5888</span>    <span class="keywordtype">float</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = <a class="code hl_function" href="classitem.html#a487b1c2d4c6e05794c446b231f39d6e8">get_clothing_mod_val</a>( <a class="code hl_enumvalue" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152ad2d4fd94e8035feea26ff5be258bf414">clothing_mod_type_bash</a> );</div>
<div class="line"><a id="l05889" name="l05889"></a><span class="lineno"> 5889</span>    <span class="keywordtype">int</span> eff_thickness = 1;</div>
<div class="line"><a id="l05890" name="l05890"></a><span class="lineno"> 5890</span> </div>
<div class="line"><a id="l05891" name="l05891"></a><span class="lineno"> 5891</span>    <span class="comment">// base resistance</span></div>
<div class="line"><a id="l05892" name="l05892"></a><span class="lineno"> 5892</span>    <span class="comment">// Don&#39;t give reinforced items +armor, just more resistance to ripping</span></div>
<div class="line"><a id="l05893" name="l05893"></a><span class="lineno"> 5893</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> dmg = <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 );</div>
<div class="line"><a id="l05894" name="l05894"></a><span class="lineno"> 5894</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> eff_damage = to_self ? std::min( dmg, 0 ) : <a class="code hl_namespace" href="namespacestd.html">std</a>::max( dmg, 0 );</div>
<div class="line"><a id="l05895" name="l05895"></a><span class="lineno"> 5895</span>    eff_thickness = std::max( 1, <a class="code hl_function" href="classitem.html#a3f86c0174d8c700cc3308860c8513798">get_thickness</a>() - eff_damage );</div>
<div class="line"><a id="l05896" name="l05896"></a><span class="lineno"> 5896</span> </div>
<div class="line"><a id="l05897" name="l05897"></a><span class="lineno"> 5897</span>    <span class="keyword">const</span> std::vector&lt;const material_type *&gt; mat_types = <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>();</div>
<div class="line"><a id="l05898" name="l05898"></a><span class="lineno"> 5898</span>    <span class="keywordflow">if</span>( !mat_types.empty() ) {</div>
<div class="line"><a id="l05899" name="l05899"></a><span class="lineno"> 5899</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> *mat : mat_types ) {</div>
<div class="line"><a id="l05900" name="l05900"></a><span class="lineno"> 5900</span>            resist += mat-&gt;bash_resist();</div>
<div class="line"><a id="l05901" name="l05901"></a><span class="lineno"> 5901</span>        }</div>
<div class="line"><a id="l05902" name="l05902"></a><span class="lineno"> 5902</span>        <span class="comment">// Average based on number of materials.</span></div>
<div class="line"><a id="l05903" name="l05903"></a><span class="lineno"> 5903</span>        resist /= mat_types.size();</div>
<div class="line"><a id="l05904" name="l05904"></a><span class="lineno"> 5904</span>    }</div>
<div class="line"><a id="l05905" name="l05905"></a><span class="lineno"> 5905</span> </div>
<div class="line"><a id="l05906" name="l05906"></a><span class="lineno"> 5906</span>    <span class="keywordflow">return</span> std::lround( ( resist * eff_thickness ) + <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l05907" name="l05907"></a><span class="lineno"> 5907</span>}</div>
<div class="ttc" id="aclassitem_html_a3f86c0174d8c700cc3308860c8513798"><div class="ttname"><a href="classitem.html#a3f86c0174d8c700cc3308860c8513798">item::get_thickness</a></div><div class="ttdeci">int get_thickness() const</div><div class="ttdoc">Returns the islot_armor::thickness value, or 0 for non-armor.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05759">item.cpp:5759</a></div></div>
<div class="ttc" id="aclassitem_html_a5be1c00110bff10a98ab02b8410c9af7"><div class="ttname"><a href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">item::damage_level</a></div><div class="ttdeci">int damage_level(int max) const</div><div class="ttdoc">Scale item damage to the given number of levels.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00698">item.cpp:698</a></div></div>
<div class="ttc" id="aclothing__mod_8h_html_ab129387d97c2c7f0393c210d21df0152ad2d4fd94e8035feea26ff5be258bf414"><div class="ttname"><a href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152ad2d4fd94e8035feea26ff5be258bf414">clothing_mod_type_bash</a></div><div class="ttdeci">@ clothing_mod_type_bash</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00019">clothing_mod.h:19</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="clothing__mod_8h_source.html#l00019">clothing_mod_type_bash</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="item_8cpp_source.html#l09970">get_clothing_mod_val()</a>, <a class="el" href="item_8cpp_source.html#l05759">get_thickness()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, and <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l00282">armor_inventory_preset::armor_inventory_preset()</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00314">anonymous_namespace{armor_layers.cpp}::clothing_protection()</a>, <a class="el" href="item_8cpp_source.html#l06221">damage_resist()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="ad4e3984fc584c1fa9a77b6cee933d355" name="ad4e3984fc584c1fa9a77b6cee933d355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4e3984fc584c1fa9a77b6cee933d355">&#9670;&nbsp;</a></span>basic_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::basic_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01463">1463</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>{</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> = <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6955cbfacb4d87c3d346f014cddc23f0">iteminfo_parts::BASE_MATERIAL</a> ) ) {</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>        <span class="keyword">const</span> std::vector&lt;const material_type *&gt; mat_types = <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>();</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>        <span class="keywordflow">if</span>( !mat_types.empty() ) {</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>            <span class="keyword">const</span> std::string <a class="code hl_typedef" href="material_8h.html#a7c650ea68616193580d8d5a366026b6a">material_list</a> = <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( mat_types.begin(), mat_types.end(),</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>            []( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> * material ) {</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>                return string_format( <span class="stringliteral">&quot;&lt;stat&gt;%s&lt;/stat&gt;&quot;</span>, material-&gt;name() );</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>            }, <a class="code hl_enumvalue" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a> );</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Material: %s&quot;</span> ), <a class="code hl_typedef" href="material_8h.html#a7c650ea68616193580d8d5a366026b6a">material_list</a> ) ) );</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>        }</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>    }</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa71cf0f0e6acd28ae9bf66f560dccbb88">iteminfo_parts::BASE_VOLUME</a> ) ) {</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        <span class="keywordtype">int</span> converted_volume_scale = 0;</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> converted_volume = <a class="code hl_function" href="cata__utility_8cpp.html#a9dbcecb703a6e1111a0552177b6bf9fc">round_up</a>( <a class="code hl_function" href="units__utility_8cpp.html#afa125a0ee11c6790f0be6d3b3707d28a">convert_volume</a>( <a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>().value(),</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>                                        &amp;converted_volume_scale ) * batch, 3 );</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>        <a class="code hl_enumeration" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16">iteminfo::flags</a> f = <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>;</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>        <span class="keywordflow">if</span>( converted_volume_scale != 0 ) {</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>            f |= <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a9b7dcf09984fe1ac347060606e3d5851">iteminfo::is_three_decimal</a>;</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>        }</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Volume: &quot;</span> ),</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>                                  <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;num&gt; %s&quot;</span>, <a class="code hl_function" href="units__utility_8cpp.html#a5c2697027e2386941cdc4f6adbe8faac">volume_units_abbr</a>() ),</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>                                  f, converted_volume ) );</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>    }</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5f4bf2d7052eaecdf7226763b1979a43">iteminfo_parts::BASE_WEIGHT</a> ) ) {</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Weight: &quot;</span> ),</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>                                  <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;num&gt; %s&quot;</span>, <a class="code hl_function" href="units__utility_8cpp.html#a3556beacf095f6eb2944d7c9dbf235d3">weight_units</a>() ),</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>                                  <a class="code hl_function" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( <a class="code hl_function" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>() ) * batch ) );</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>    }</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a>.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Owner: %s&quot;</span> ),</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <a class="code hl_function" href="classitem.html#ae490218700ff9658235247b46ba75a56">get_owner_name</a>() ) ) ) );</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    }</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa75a792139684dc53e8d06ed67b4c2b05">iteminfo_parts::BASE_CATEGORY</a> ) ) {</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Category: &quot;</span> ),</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>                                  <span class="stringliteral">&quot;&lt;header&gt;&quot;</span> + <a class="code hl_function" href="classitem.html#ad43578374fc9be1e16117405cd709f7d">get_category</a>().<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>() + <span class="stringliteral">&quot;&lt;/header&gt;&quot;</span> ) );</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>    }</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span> </div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa35ba4a2677442e210c23a00a5601aba3">iteminfo_parts::DESCRIPTION</a> ) ) {</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>        <span class="keyword">const</span> std::map&lt;std::string, std::string&gt;::const_iterator idescription =</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>            <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.find( <span class="stringliteral">&quot;description&quot;</span> );</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;translation&gt;</a> snippet = <a class="code hl_variable" href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a>.<a class="code hl_function" href="classsnippet__library.html#a0988b68078e489e8e12e4a1a03931ed0">get_snippet_by_id</a>( <a class="code hl_variable" href="classitem.html#aa475db2839de54a872f47b7c238e214a">snip_id</a> );</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>        <span class="keywordflow">if</span>( snippet.<a class="code hl_function" href="classcata_1_1optional.html#ad5b847e0e2f1db1387a10bac3751ccf4">has_value</a>() ) {</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>            <span class="comment">// Just use the dynamic description</span></div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, snippet.<a class="code hl_function" href="classcata_1_1optional.html#aeb8e2c36d85751ab0ddd296a2496b78c">value</a>().translated() ) );</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( idescription != <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end() ) {</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, idescription-&gt;second ) );</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MAGIC_FOCUS&quot;</span> ) ) {</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This item is a &lt;info&gt;magical focus&lt;/info&gt;.  &quot;</span></div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>                                             <span class="stringliteral">&quot;You can cast spells with it in your hand.&quot;</span> ) ) );</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>            }</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>                <span class="keyword">const</span> std::string desc = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This is an in progress %s.  &quot;</span></div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>                                            <span class="stringliteral">&quot;It is %d percent complete.&quot;</span> );</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> percent_progress = <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> / 100000;</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( desc,</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>                                          <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;making-&gt;result_name(),</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>                                          percent_progress ) ) );</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a71434072aef9916ba0a62b7baa59a2b5">description</a>.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() ) );</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>            }</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>        }</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>    }</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span> </div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span> </div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaafd1b98d244fca3b7323bf1c4be601739">iteminfo_parts::BASE_REQUIREMENTS</a> ) ) {</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>        <span class="comment">// Display any minimal stat or skill requirements for the item</span></div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>        std::vector&lt;std::string&gt; req;</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2899a37f781e1efea9465a98277141c7">get_min_str</a>() &gt; 0 ) {</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>            <a class="code hl_class" href="classavatar.html">avatar</a> &amp;viewer = <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>();</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a3756f1dde5d862fe1b0f0240dfc13e6a">flag_STR_DRAW</a> ) &amp;&amp; <a class="code hl_function" href="namespaceranged.html#a4c8c85e0249f67213d9994612315aa3e">ranged::get_str_draw_penalty</a>( *<span class="keyword">this</span>, viewer ) &lt; 1.0f ) {</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceranged.html#a4c8c85e0249f67213d9994612315aa3e">ranged::get_str_draw_penalty</a>( *<span class="keyword">this</span>, viewer ) &lt; 0.5f ) {</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>                    req.push_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s %d &lt;color_magenta&gt;(Can&#39;t use!)&lt;/color&gt;&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;strength&quot;</span> ),</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>                                                  <a class="code hl_function" href="classitem.html#a2899a37f781e1efea9465a98277141c7">get_min_str</a>() ) );</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceranged.html#a4c8c85e0249f67213d9994612315aa3e">ranged::get_str_draw_penalty</a>( *<span class="keyword">this</span>, viewer ) &lt; 0.75f ) {</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>                    req.push_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s %d &lt;color_red&gt;(Damage/Range 0.5x, Dispersion 2.0x)&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>                                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;strength&quot;</span> ), <a class="code hl_function" href="classitem.html#a2899a37f781e1efea9465a98277141c7">get_min_str</a>() ) );</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>                    req.push_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s %d &lt;color_yellow&gt;(Damage/Range 0.75x)&lt;/color&gt;&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;strength&quot;</span> ),</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>                                                  <a class="code hl_function" href="classitem.html#a2899a37f781e1efea9465a98277141c7">get_min_str</a>() ) );</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>                }</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>                req.push_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s %d&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;strength&quot;</span> ), <a class="code hl_function" href="classitem.html#a2899a37f781e1efea9465a98277141c7">get_min_str</a>() ) );</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>            }</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>        }</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a025457dc0d2c2545e84cbb01533ed535">min_dex</a> &gt; 0 ) {</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>            req.push_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s %d&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;dexterity&quot;</span> ), <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a025457dc0d2c2545e84cbb01533ed535">min_dex</a> ) );</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>        }</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a203a347d8d0a2784baa916490e2f377a">min_int</a> &gt; 0 ) {</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>            req.push_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s %d&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;intelligence&quot;</span> ), <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a203a347d8d0a2784baa916490e2f377a">min_int</a> ) );</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>        }</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a3425c169f961247fd33daa19b98934ce">min_per</a> &gt; 0 ) {</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>            req.push_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s %d&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;perception&quot;</span> ), <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a3425c169f961247fd33daa19b98934ce">min_per</a> ) );</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>        }</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const skill_id, int&gt; sk : <a class="code hl_function" href="string__id__utils_8h.html#ae1571ed28c2d17ee7a7d6973aa31e8b5">sorted_lex</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abef0d8869ced8040dc3004db7db39d57">min_skills</a> ) ) {</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>            req.push_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s %d&quot;</span>, <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>( sk.first )-&gt;name(), sk.second ) );</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>        }</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>        <span class="keywordflow">if</span>( !req.empty() ) {</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Minimum requirements&lt;/bold&gt;:&quot;</span> ) );</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( req ) );</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>            <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>        }</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>    }</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span> </div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a478ecf81e48540e1ba39de33df968c43">has_var</a>( <span class="stringliteral">&quot;contained_name&quot;</span> ) &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaac2437dc830ebe555fbc8bf71e8975be8">iteminfo_parts::BASE_CONTENTS</a> ) ) {</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Contains: %s&quot;</span> ),</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>                                  <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;contained_name&quot;</span> ) ) ) );</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>    }</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>() &amp;&amp;</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0bc56aace05539f0536ac1c5ba320e20">iteminfo_parts::BASE_AMOUNT</a> ) ) {</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Amount: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>,</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>                                  <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> * batch ) );</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>    }</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa282d49c6e57b86ca0494ffe2425fa785">iteminfo_parts::BASE_DEBUG</a> ) ) {</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;itype_id: %s&quot;</span>,</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>                                      <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().c_str() ) ) );</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;age (hours): &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>                                      to_hours&lt;int&gt;( <a class="code hl_function" href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">age</a>() ) ) );</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;charges: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>                                      <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) );</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;damage: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>                                      <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> ) );</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;active: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>                                      <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) );</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;burn: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>                                      <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> ) );</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>            <span class="keyword">const</span> std::string tags_listed = <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>, <a class="code hl_enumvalue" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a> );</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;tags: %s&quot;</span> ), tags_listed ) ) );</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> <span class="keyword">const</span> &amp;imap : <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a> ) {</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>,</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>                                          <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;item var: %s, %s&quot;</span> ), imap.first,</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>                                                  imap.second ) ) );</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>            }</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span> </div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>            <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *food = <a class="code hl_function" href="classitem.html#acab4550c97cabd8d8067e5e53b001178">get_food</a>();</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>            <span class="keywordflow">if</span>( food &amp;&amp; food-&gt;<a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() ) {</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;age (turns): &quot;</span> ),</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>                                          <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>                                          to_turns&lt;int&gt;( food-&gt;<a class="code hl_function" href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">age</a>() ) ) );</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;rot (turns): &quot;</span> ),</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>                                          <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>                                          to_turns&lt;int&gt;( food-&gt;<a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> ) ) );</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;max rot (turns): &quot;</span> ),</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>                                          <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>                                          to_turns&lt;int&gt;( food-&gt;<a class="code hl_function" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a>() ) ) );</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;last rot: &quot;</span> ),</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>                                          <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>                                          to_turn&lt;int&gt;( food-&gt;<a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> ) ) );</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>            }</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>        }</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>    }</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>}</div>
<div class="ttc" id="aavatar_8cpp_html_a2eddae690431cd32ce7a091217d68a3a"><div class="ttname"><a href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00100">avatar.cpp:100</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">cata_variant_type::skill_id</a></div><div class="ttdeci">@ skill_id</div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00053">avatar.h:54</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html_ad5b847e0e2f1db1387a10bac3751ccf4"><div class="ttname"><a href="classcata_1_1optional.html#ad5b847e0e2f1db1387a10bac3751ccf4">cata::optional::has_value</a></div><div class="ttdeci">constexpr bool has_value() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00120">optional.h:120</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html_aeb8e2c36d85751ab0ddd296a2496b78c"><div class="ttname"><a href="classcata_1_1optional.html#aeb8e2c36d85751ab0ddd296a2496b78c">cata::optional::value</a></div><div class="ttdeci">T &amp; value()</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00124">optional.h:124</a></div></div>
<div class="ttc" id="aclassitem_html_a0b12108a604ac9d940716bb8f1368cf5"><div class="ttname"><a href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">item::get_var</a></div><div class="ttdeci">double get_var(const std::string &amp;name, double default_value) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01022">item.cpp:1022</a></div></div>
<div class="ttc" id="aclassitem_html_a1fb1bc14a138ea0ea0b6883d4105a322"><div class="ttname"><a href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">item::burnt</a></div><div class="ttdeci">int burnt</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02199">item.h:2199</a></div></div>
<div class="ttc" id="aclassitem_html_a2899a37f781e1efea9465a98277141c7"><div class="ttname"><a href="classitem.html#a2899a37f781e1efea9465a98277141c7">item::get_min_str</a></div><div class="ttdeci">int get_min_str() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09871">item.cpp:9871</a></div></div>
<div class="ttc" id="aclassitem_html_a478ecf81e48540e1ba39de33df968c43"><div class="ttname"><a href="classitem.html#a478ecf81e48540e1ba39de33df968c43">item::has_var</a></div><div class="ttdeci">bool has_var(const std::string &amp;name) const</div><div class="ttdoc">Whether the variable is defined at all.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01067">item.cpp:1067</a></div></div>
<div class="ttc" id="aclassitem_html_a66fcc8b7976e6c73904bdfbe5296c150"><div class="ttname"><a href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">item::age</a></div><div class="ttdeci">time_duration age() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09832">item.cpp:9832</a></div></div>
<div class="ttc" id="aclassitem_html_a69c3ef3dfce7b7e230016ea98af4520a"><div class="ttname"><a href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">item::rot</a></div><div class="ttdeci">time_duration rot</div><div class="ttdoc">Accumulated rot, expressed as time the item has been in standard temperature.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02219">item.h:2219</a></div></div>
<div class="ttc" id="aclassitem_html_a9f4a009afa1b3adbe1136f0cb65c43ac"><div class="ttname"><a href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">item::owner</a></div><div class="ttdeci">faction_id owner</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02225">item.h:2225</a></div></div>
<div class="ttc" id="aclassitem_html_aa344ad5d3082d7a56b1c902fbafb6347"><div class="ttname"><a href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">item::is_medication</a></div><div class="ttdeci">bool is_medication() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06448">item.cpp:6448</a></div></div>
<div class="ttc" id="aclassitem_html_aad1afe56872327f37ee02011e3a5fb8b"><div class="ttname"><a href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">item::get_shelf_life</a></div><div class="ttdeci">time_duration get_shelf_life() const</div><div class="ttdoc">Get the shelf life of the item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05408">item.cpp:5408</a></div></div>
<div class="ttc" id="aclassitem_html_ac4f99d7d290f31e5da8c37f10ebc0d31"><div class="ttname"><a href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">item::damage_</a></div><div class="ttdeci">int damage_</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02228">item.h:2228</a></div></div>
<div class="ttc" id="aclassitem_html_acab4550c97cabd8d8067e5e53b001178"><div class="ttname"><a href="classitem.html#acab4550c97cabd8d8067e5e53b001178">item::get_food</a></div><div class="ttdeci">item * get_food()</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06492">item.cpp:6492</a></div></div>
<div class="ttc" id="aclassitem_html_ad43578374fc9be1e16117405cd709f7d"><div class="ttname"><a href="classitem.html#ad43578374fc9be1e16117405cd709f7d">item::get_category</a></div><div class="ttdeci">const item_category &amp; get_category() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08529">item.cpp:8529</a></div></div>
<div class="ttc" id="aclassitem_html_addf9c2960c915fece8d94fcb7fe825e8"><div class="ttname"><a href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item::item_tags</a></div><div class="ttdeci">FlagsSetType item_tags</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02163">item.h:2163</a></div></div>
<div class="ttc" id="aclassitem_html_ae490218700ff9658235247b46ba75a56"><div class="ttname"><a href="classitem.html#ae490218700ff9658235247b46ba75a56">item::get_owner_name</a></div><div class="ttdeci">std::string get_owner_name() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01266">item.cpp:1266</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a0988b68078e489e8e12e4a1a03931ed0"><div class="ttname"><a href="classsnippet__library.html#a0988b68078e489e8e12e4a1a03931ed0">snippet_library::get_snippet_by_id</a></div><div class="ttdeci">cata::optional&lt; translation &gt; get_snippet_by_id(const snippet_id &amp;id) const</div><div class="ttdoc">Returns the snippet referenced by the id, or cata::nullopt if there is no snippet with such id.</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00084">text_snippets.cpp:84</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00309">translations.cpp:309</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a3756f1dde5d862fe1b0f0240dfc13e6a"><div class="ttname"><a href="item_8cpp.html#a3756f1dde5d862fe1b0f0240dfc13e6a">flag_STR_DRAW</a></div><div class="ttdeci">static const std::string flag_STR_DRAW(&quot;STR_DRAW&quot;)</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa0bc56aace05539f0536ac1c5ba320e20"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0bc56aace05539f0536ac1c5ba320e20">iteminfo_parts::BASE_AMOUNT</a></div><div class="ttdeci">@ BASE_AMOUNT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa282d49c6e57b86ca0494ffe2425fa785"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa282d49c6e57b86ca0494ffe2425fa785">iteminfo_parts::BASE_DEBUG</a></div><div class="ttdeci">@ BASE_DEBUG</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa35ba4a2677442e210c23a00a5601aba3"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa35ba4a2677442e210c23a00a5601aba3">iteminfo_parts::DESCRIPTION</a></div><div class="ttdeci">@ DESCRIPTION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa5f4bf2d7052eaecdf7226763b1979a43"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5f4bf2d7052eaecdf7226763b1979a43">iteminfo_parts::BASE_WEIGHT</a></div><div class="ttdeci">@ BASE_WEIGHT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa6955cbfacb4d87c3d346f014cddc23f0"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6955cbfacb4d87c3d346f014cddc23f0">iteminfo_parts::BASE_MATERIAL</a></div><div class="ttdeci">@ BASE_MATERIAL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa71cf0f0e6acd28ae9bf66f560dccbb88"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa71cf0f0e6acd28ae9bf66f560dccbb88">iteminfo_parts::BASE_VOLUME</a></div><div class="ttdeci">@ BASE_VOLUME</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa75a792139684dc53e8d06ed67b4c2b05"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa75a792139684dc53e8d06ed67b4c2b05">iteminfo_parts::BASE_CATEGORY</a></div><div class="ttdeci">@ BASE_CATEGORY</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaac2437dc830ebe555fbc8bf71e8975be8"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaac2437dc830ebe555fbc8bf71e8975be8">iteminfo_parts::BASE_CONTENTS</a></div><div class="ttdeci">@ BASE_CONTENTS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaafd1b98d244fca3b7323bf1c4be601739"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaafd1b98d244fca3b7323bf1c4be601739">iteminfo_parts::BASE_REQUIREMENTS</a></div><div class="ttdeci">@ BASE_REQUIREMENTS</div></div>
<div class="ttc" id="amaterial_8h_html_a7c650ea68616193580d8d5a366026b6a"><div class="ttname"><a href="material_8h.html#a7c650ea68616193580d8d5a366026b6a">material_list</a></div><div class="ttdeci">std::vector&lt; material_type &gt; material_list</div><div class="ttdef"><b>Definition:</b> <a href="material_8h_source.html#l00023">material.h:23</a></div></div>
<div class="ttc" id="anamespaceranged_html_a4c8c85e0249f67213d9994612315aa3e"><div class="ttname"><a href="namespaceranged.html#a4c8c85e0249f67213d9994612315aa3e">ranged::get_str_draw_penalty</a></div><div class="ttdeci">float get_str_draw_penalty(const item &amp;it, const Character &amp;p)</div><div class="ttdoc">Penalties potentially incurred by STR_DRAW weapons.</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l00995">ranged.cpp:995</a></div></div>
<div class="ttc" id="aoutput_8h_html_a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="aoutput_8h_html_abc4022ff920f936d2ee400cedc458733"><div class="ttname"><a href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const _Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00679">output.h:679</a></div></div>
<div class="ttc" id="astring__id__utils_8h_html_ae1571ed28c2d17ee7a7d6973aa31e8b5"><div class="ttname"><a href="string__id__utils_8h.html#ae1571ed28c2d17ee7a7d6973aa31e8b5">sorted_lex</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; K, V &gt; &gt; sorted_lex(Col col)</div><div class="ttdoc">Returns vector sorted by lexicographic order of string_id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id__utils_8h_source.html#l00022">string_id_utils.h:22</a></div></div>
<div class="ttc" id="astructiteminfo_html_a52b3543e16cce6f69f2e5cdb021c1e16a9b7dcf09984fe1ac347060606e3d5851"><div class="ttname"><a href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a9b7dcf09984fe1ac347060606e3d5851">iteminfo::is_three_decimal</a></div><div class="ttdeci">@ is_three_decimal</div><div class="ttdoc">Print as decimal with three points of precision.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00143">item.h:143</a></div></div>
<div class="ttc" id="astructitype_html_a025457dc0d2c2545e84cbb01533ed535"><div class="ttname"><a href="structitype.html#a025457dc0d2c2545e84cbb01533ed535">itype::min_dex</a></div><div class="ttdeci">int min_dex</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00938">itype.h:938</a></div></div>
<div class="ttc" id="astructitype_html_a203a347d8d0a2784baa916490e2f377a"><div class="ttname"><a href="structitype.html#a203a347d8d0a2784baa916490e2f377a">itype::min_int</a></div><div class="ttdeci">int min_int</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00939">itype.h:939</a></div></div>
<div class="ttc" id="astructitype_html_a3425c169f961247fd33daa19b98934ce"><div class="ttname"><a href="structitype.html#a3425c169f961247fd33daa19b98934ce">itype::min_per</a></div><div class="ttdeci">int min_per</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00940">itype.h:940</a></div></div>
<div class="ttc" id="astructitype_html_a71434072aef9916ba0a62b7baa59a2b5"><div class="ttname"><a href="structitype.html#a71434072aef9916ba0a62b7baa59a2b5">itype::description</a></div><div class="ttdeci">translation description</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00908">itype.h:908</a></div></div>
<div class="ttc" id="astructitype_html_abef0d8869ced8040dc3004db7db39d57"><div class="ttname"><a href="structitype.html#abef0d8869ced8040dc3004db7db39d57">itype::min_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; min_skills</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00936">itype.h:936</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="item_8cpp_source.html#l09832">age()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0bc56aace05539f0536ac1c5ba320e20">BASE_AMOUNT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa75a792139684dc53e8d06ed67b4c2b05">BASE_CATEGORY</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaac2437dc830ebe555fbc8bf71e8975be8">BASE_CONTENTS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa282d49c6e57b86ca0494ffe2425fa785">BASE_DEBUG</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6955cbfacb4d87c3d346f014cddc23f0">BASE_MATERIAL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaafd1b98d244fca3b7323bf1c4be601739">BASE_REQUIREMENTS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa71cf0f0e6acd28ae9bf66f560dccbb88">BASE_VOLUME</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5f4bf2d7052eaecdf7226763b1979a43">BASE_WEIGHT</a>, <a class="el" href="item_8h_source.html#l02199">burnt</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="units__utility_8cpp_source.html#l00096">convert_volume()</a>, <a class="el" href="units__utility_8cpp_source.html#l00085">convert_weight()</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8h_source.html#l02190">craft_data_</a>, <a class="el" href="item_8h_source.html#l02228">damage_</a>, <a class="el" href="debug__menu_8cpp_source.html#l01325">debug_menu::debug()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa35ba4a2677442e210c23a00a5601aba3">DESCRIPTION</a>, <a class="el" href="itype_8h_source.html#l00908">itype::description</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="item_8cpp.html#a3756f1dde5d862fe1b0f0240dfc13e6a">flag_STR_DRAW()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="avatar_8cpp_source.html#l00100">get_avatar()</a>, <a class="el" href="item_8cpp_source.html#l08529">get_category()</a>, <a class="el" href="item_8cpp_source.html#l06492">get_food()</a>, <a class="el" href="item_8cpp_source.html#l09871">get_min_str()</a>, <a class="el" href="item_8cpp_source.html#l01266">get_owner_name()</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00084">snippet_library::get_snippet_by_id()</a>, <a class="el" href="ranged_8cpp_source.html#l00995">ranged::get_str_draw_penalty()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="optional_8h_source.html#l00120">cata::optional&lt; T &gt;::has_value()</a>, <a class="el" href="item_8cpp_source.html#l01067">has_var()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, <a class="el" href="item_8h_source.html#l00142">iteminfo::is_decimal</a>, <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>, <a class="el" href="item_8cpp_source.html#l06448">is_medication()</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="item_8h_source.html#l00143">iteminfo::is_three_decimal</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, <a class="el" href="item_8h_source.html#l02163">item_tags</a>, <a class="el" href="item_8h_source.html#l02167">item_vars</a>, <a class="el" href="item_8h_source.html#l02221">last_rot_check</a>, <a class="el" href="item_8h_source.html#l00145">iteminfo::lower_is_better</a>, <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>, <a class="el" href="itype_8h_source.html#l00938">itype::min_dex</a>, <a class="el" href="itype_8h_source.html#l00939">itype::min_int</a>, <a class="el" href="itype_8h_source.html#l00940">itype::min_per</a>, <a class="el" href="itype_8h_source.html#l00936">itype::min_skills</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, <a class="el" href="item_8h_source.html#l00141">iteminfo::no_flags</a>, <a class="el" href="item_8h_source.html#l00144">iteminfo::no_newline</a>, <a class="el" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="item_8h_source.html#l02225">owner</a>, <a class="el" href="item_8h_source.html#l02219">rot</a>, <a class="el" href="cata__utility_8cpp_source.html#l00042">round_up()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>, <a class="el" href="item_8h_source.html#l02202">snip_id</a>, <a class="el" href="text__snippets_8cpp_source.html#l00012">SNIPPET</a>, <a class="el" href="string__id__utils_8h_source.html#l00022">sorted_lex()</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::space</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="translations_8cpp_source.html#l00309">translation::translated()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, <a class="el" href="optional_8h_source.html#l00124">cata::optional&lt; T &gt;::value()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="units__utility_8cpp_source.html#l00037">volume_units_abbr()</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, and <a class="el" href="units__utility_8cpp_source.html#l00032">weight_units()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="ace11ba657be810e5ee4cc2caeb8a0637" name="ace11ba657be810e5ee4cc2caeb8a0637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace11ba657be810e5ee4cc2caeb8a0637">&#9670;&nbsp;</a></span>battery_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::battery_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03001">3001</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>{</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a9e0411a5010e03c8d2670fe23eb25d0f">is_battery</a>() ) {</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>    }</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span> </div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>    std::string info_string;</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9bf7494805acc141b007ddade6a6313c">battery</a>-&gt;max_capacity &lt; 1_kJ ) {</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span>        info_string = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Capacity&lt;/bold&gt;: %dJ&quot;</span> ),</div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span>                                     <a class="code hl_function" href="namespaceunits.html#a16c5ffd73f399f1731d7176ee699ce0e">to_joule</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9bf7494805acc141b007ddade6a6313c">battery</a>-&gt;max_capacity ) );</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9bf7494805acc141b007ddade6a6313c">battery</a>-&gt;max_capacity &gt;= 1_kJ ) {</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>        info_string = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Capacity&lt;/bold&gt;: %dkJ&quot;</span> ),</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>                                     <a class="code hl_function" href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">to_kilojoule</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9bf7494805acc141b007ddade6a6313c">battery</a>-&gt;max_capacity ) );</div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>    }</div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;BATTERY&quot;</span>, info_string );</div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>}</div>
<div class="ttc" id="aclassitem_html_a9e0411a5010e03c8d2670fe23eb25d0f"><div class="ttname"><a href="classitem.html#a9e0411a5010e03c8d2670fe23eb25d0f">item::is_battery</a></div><div class="ttdeci">bool is_battery() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06412">item.cpp:6412</a></div></div>
<div class="ttc" id="anamespaceunits_html_a16c5ffd73f399f1731d7176ee699ce0e"><div class="ttname"><a href="namespaceunits.html#a16c5ffd73f399f1731d7176ee699ce0e">units::to_joule</a></div><div class="ttdeci">constexpr value_type to_joule(const quantity&lt; value_type, energy_in_joule_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__energy_8h_source.html#l00040">units_energy.h:40</a></div></div>
<div class="ttc" id="astructitype_html_a9bf7494805acc141b007ddade6a6313c"><div class="ttname"><a href="structitype.html#a9bf7494805acc141b007ddade6a6313c">itype::battery</a></div><div class="ttdeci">cata::value_ptr&lt; islot_battery &gt; battery</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00860">itype.h:860</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="itype_8h_source.html#l00860">itype::battery</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06412">is_battery()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="units__energy_8h_source.html#l00040">units::to_joule()</a>, <a class="el" href="units__energy_8h_source.html#l00046">units::to_kilojoule()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a6233ded50f0c2ddc86761f9b5cef5298" name="a6233ded50f0c2ddc86761f9b5cef5298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6233ded50f0c2ddc86761f9b5cef5298">&#9670;&nbsp;</a></span>bionic_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::bionic_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03214">3214</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03216" name="l03216"></a><span class="lineno"> 3216</span>{</div>
<div class="line"><a id="l03217" name="l03217"></a><span class="lineno"> 3217</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">is_bionic</a>() ) {</div>
<div class="line"><a id="l03218" name="l03218"></a><span class="lineno"> 3218</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03219" name="l03219"></a><span class="lineno"> 3219</span>    }</div>
<div class="line"><a id="l03220" name="l03220"></a><span class="lineno"> 3220</span> </div>
<div class="line"><a id="l03221" name="l03221"></a><span class="lineno"> 3221</span>    <span class="comment">// TODO: Unhide when enforcing limits</span></div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span>    <span class="keywordflow">if</span>( get_option &lt; bool &gt;( <span class="stringliteral">&quot;CBM_SLOTS_ENABLED&quot;</span> )</div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>        &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa72caeb06228457a87054c4694a11bd7d">iteminfo_parts::DESCRIPTION_CBM_SLOTS</a> ) ) {</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="bionics_8cpp.html#a4d3af7661fa38a46bad775d2ee5419b5">list_occupied_bps</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a33aeb53774679283298d0202ae3e78ce">bionic</a>-&gt;id,</div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This bionic is installed in the following body &quot;</span></div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span>                                     <span class="stringliteral">&quot;part(s):&quot;</span> ) ) ) );</div>
<div class="line"><a id="l03227" name="l03227"></a><span class="lineno"> 3227</span>    }</div>
<div class="line"><a id="l03228" name="l03228"></a><span class="lineno"> 3228</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03229" name="l03229"></a><span class="lineno"> 3229</span> </div>
<div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">is_bionic</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a186e23235b49b90b0e027ab61cdf2eef">flag_NO_STERILE</a> ) ) {</div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This bionic is &lt;bad&gt;not sterile&lt;/bad&gt;, use an &lt;info&gt;autoclave&lt;/info&gt; and an &lt;info&gt;autoclave pouch&lt;/info&gt; to sterilize it. &quot;</span> ) ) );</div>
<div class="line"><a id="l03233" name="l03233"></a><span class="lineno"> 3233</span>    }</div>
<div class="line"><a id="l03234" name="l03234"></a><span class="lineno"> 3234</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03235" name="l03235"></a><span class="lineno"> 3235</span> </div>
<div class="line"><a id="l03236" name="l03236"></a><span class="lineno"> 3236</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> bid = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a33aeb53774679283298d0202ae3e78ce">bionic</a>-&gt;id;</div>
<div class="line"><a id="l03237" name="l03237"></a><span class="lineno"> 3237</span>    <span class="keyword">const</span> std::vector&lt;itype_id&gt; &amp;fuels = bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a8138c18ab3e2346f1404295246389393">fuel_opts</a>;</div>
<div class="line"><a id="l03238" name="l03238"></a><span class="lineno"> 3238</span>    <span class="keywordflow">if</span>( !fuels.empty() ) {</div>
<div class="line"><a id="l03239" name="l03239"></a><span class="lineno"> 3239</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;fuel_numb = fuels.size();</div>
<div class="line"><a id="l03240" name="l03240"></a><span class="lineno"> 3240</span> </div>
<div class="line"><a id="l03241" name="l03241"></a><span class="lineno"> 3241</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03242" name="l03242"></a><span class="lineno"> 3242</span>                                  <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;* This bionic can produce power from the following fuel: &quot;</span>,</div>
<div class="line"><a id="l03243" name="l03243"></a><span class="lineno"> 3243</span>                                            <span class="stringliteral">&quot;* This bionic can produce power from the following fuels: &quot;</span>,</div>
<div class="line"><a id="l03244" name="l03244"></a><span class="lineno"> 3244</span>                                            fuel_numb ) + <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( fuels.begin(),</div>
<div class="line"><a id="l03245" name="l03245"></a><span class="lineno"> 3245</span>                                                    fuels.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp; <span class="keywordtype">id</span> ) -&gt; std::string { return <span class="stringliteral">&quot;&lt;info&gt;&quot;</span> + id-&gt;nname( 1 ) + <span class="stringliteral">&quot;&lt;/info&gt;&quot;</span>; } ) ) );</div>
<div class="line"><a id="l03246" name="l03246"></a><span class="lineno"> 3246</span>    }</div>
<div class="line"><a id="l03247" name="l03247"></a><span class="lineno"> 3247</span> </div>
<div class="line"><a id="l03248" name="l03248"></a><span class="lineno"> 3248</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span> </div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"> 3250</span>    <span class="keywordflow">if</span>( bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a46dddebc77b6ae7d8879c8b12fe02d4f">capacity</a> &gt; 0_J ) {</div>
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"> 3251</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;CBM&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Power Capacity&lt;/bold&gt;:&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; &lt;num&gt; J&quot;</span> ),</div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>,</div>
<div class="line"><a id="l03253" name="l03253"></a><span class="lineno"> 3253</span>                                  <a class="code hl_function" href="namespaceunits.html#a16c5ffd73f399f1731d7176ee699ce0e">units::to_joule</a>( bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a46dddebc77b6ae7d8879c8b12fe02d4f">capacity</a> ) ) );</div>
<div class="line"><a id="l03254" name="l03254"></a><span class="lineno"> 3254</span>    }</div>
<div class="line"><a id="l03255" name="l03255"></a><span class="lineno"> 3255</span> </div>
<div class="line"><a id="l03256" name="l03256"></a><span class="lineno"> 3256</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03257" name="l03257"></a><span class="lineno"> 3257</span> </div>
<div class="line"><a id="l03258" name="l03258"></a><span class="lineno"> 3258</span>    <span class="keywordflow">if</span>( !bid-&gt;<a class="code hl_variable" href="structbionic__data.html#aa169d20729343547cd14f8db2dc07c88">encumbrance</a>.empty() ) {</div>
<div class="line"><a id="l03259" name="l03259"></a><span class="lineno"> 3259</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Encumbrance&lt;/bold&gt;: &quot;</span> ),</div>
<div class="line"><a id="l03260" name="l03260"></a><span class="lineno"> 3260</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> ) );</div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt; const bodypart_str_id, int &gt; element : <a class="code hl_function" href="string__id__utils_8h.html#ae1571ed28c2d17ee7a7d6973aa31e8b5">sorted_lex</a>( bid-&gt;<a class="code hl_variable" href="structbionic__data.html#aa169d20729343547cd14f8db2dc07c88">encumbrance</a> ) ) {</div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;CBM&quot;</span>, <a class="code hl_function" href="bodypart_8cpp.html#aeadf2675d36776a1f685d1d2dfa06e78">body_part_name_as_heading</a>( element.first-&gt;token, 1 ),</div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span>                                      <span class="stringliteral">&quot; &lt;num&gt; &quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, element.second ) );</div>
<div class="line"><a id="l03264" name="l03264"></a><span class="lineno"> 3264</span>        }</div>
<div class="line"><a id="l03265" name="l03265"></a><span class="lineno"> 3265</span>    }</div>
<div class="line"><a id="l03266" name="l03266"></a><span class="lineno"> 3266</span> </div>
<div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span>    <span class="keywordflow">if</span>( !bid-&gt;<a class="code hl_variable" href="structbionic__data.html#aeeb4383526e39e4e900dad468da503cc">env_protec</a>.empty() ) {</div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span>                                  bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a5b4043e33f09573e6c6c9c06f3d4d5dc">activated</a> ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Environmental Protection (activated)&lt;/bold&gt;: &quot;</span> ) :</div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Environmental Protection&lt;/bold&gt;: &quot;</span> ),</div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> ) );</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt; const bodypart_str_id, int &gt; element : <a class="code hl_function" href="string__id__utils_8h.html#ae1571ed28c2d17ee7a7d6973aa31e8b5">sorted_lex</a>( bid-&gt;<a class="code hl_variable" href="structbionic__data.html#aeeb4383526e39e4e900dad468da503cc">env_protec</a> ) ) {</div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;CBM&quot;</span>, <a class="code hl_function" href="bodypart_8cpp.html#aeadf2675d36776a1f685d1d2dfa06e78">body_part_name_as_heading</a>( element.first-&gt;token, 1 ),</div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span>                                      <span class="stringliteral">&quot; &lt;num&gt; &quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, element.second ) );</div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>        }</div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span>    }</div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span> </div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span>    <span class="keywordflow">if</span>( !bid-&gt;<a class="code hl_variable" href="structbionic__data.html#ab9b4300e84e09edea02a91cfcca76d12">bash_protec</a>.empty() ) {</div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Bash Protection&lt;/bold&gt;: &quot;</span> ),</div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> ) );</div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt; const bodypart_str_id, int &gt; element : <a class="code hl_function" href="string__id__utils_8h.html#ae1571ed28c2d17ee7a7d6973aa31e8b5">sorted_lex</a>( bid-&gt;<a class="code hl_variable" href="structbionic__data.html#ab9b4300e84e09edea02a91cfcca76d12">bash_protec</a> ) ) {</div>
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;CBM&quot;</span>, <a class="code hl_function" href="bodypart_8cpp.html#aeadf2675d36776a1f685d1d2dfa06e78">body_part_name_as_heading</a>( element.first-&gt;token, 1 ),</div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span>                                      <span class="stringliteral">&quot; &lt;num&gt; &quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, element.second ) );</div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>        }</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>    }</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span> </div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span>    <span class="keywordflow">if</span>( !bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a234cff789bc72433ebcca4e4da4f48f4">cut_protec</a>.empty() ) {</div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Cut Protection&lt;/bold&gt;: &quot;</span> ),</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> ) );</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt; const bodypart_str_id, int &gt; element : <a class="code hl_function" href="string__id__utils_8h.html#ae1571ed28c2d17ee7a7d6973aa31e8b5">sorted_lex</a>( bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a234cff789bc72433ebcca4e4da4f48f4">cut_protec</a> ) ) {</div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;CBM&quot;</span>, <a class="code hl_function" href="bodypart_8cpp.html#aeadf2675d36776a1f685d1d2dfa06e78">body_part_name_as_heading</a>( element.first-&gt;token, 1 ),</div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span>                                      <span class="stringliteral">&quot; &lt;num&gt; &quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, element.second ) );</div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span>        }</div>
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"> 3296</span>    }</div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span> </div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span>    <span class="keywordflow">if</span>( !bid-&gt;<a class="code hl_variable" href="structbionic__data.html#aaf8c18583d63f5c6ca2f1f14f2b2b24c">bullet_protec</a>.empty() ) {</div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Ballistic Protection&lt;/bold&gt;: &quot;</span> ),</div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> ) );</div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;element : bid-&gt;<a class="code hl_variable" href="structbionic__data.html#aaf8c18583d63f5c6ca2f1f14f2b2b24c">bullet_protec</a> ) {</div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;CBM&quot;</span>, <a class="code hl_function" href="bodypart_8cpp.html#aeadf2675d36776a1f685d1d2dfa06e78">body_part_name_as_heading</a>( element.first-&gt;token, 1 ),</div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span>                                      <span class="stringliteral">&quot; &lt;num&gt; &quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, element.second ) );</div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span>        }</div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span>    }</div>
<div class="line"><a id="l03306" name="l03306"></a><span class="lineno"> 3306</span> </div>
<div class="line"><a id="l03307" name="l03307"></a><span class="lineno"> 3307</span>    <span class="keywordflow">if</span>( !bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a7fbd91c61e6ffee8d81d2001e4558398">stat_bonus</a>.empty() ) {</div>
<div class="line"><a id="l03308" name="l03308"></a><span class="lineno"> 3308</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Stat Bonus&lt;/bold&gt;: &quot;</span> ),</div>
<div class="line"><a id="l03309" name="l03309"></a><span class="lineno"> 3309</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> ) );</div>
<div class="line"><a id="l03310" name="l03310"></a><span class="lineno"> 3310</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;element : bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a7fbd91c61e6ffee8d81d2001e4558398">stat_bonus</a> ) {</div>
<div class="line"><a id="l03311" name="l03311"></a><span class="lineno"> 3311</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;CBM&quot;</span>, <a class="code hl_function" href="character_8cpp.html#a035c78e847a263690eaab59f16c23b88">get_stat_name</a>( element.first ), <span class="stringliteral">&quot; &lt;num&gt; &quot;</span>,</div>
<div class="line"><a id="l03312" name="l03312"></a><span class="lineno"> 3312</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, element.second ) );</div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span>        }</div>
<div class="line"><a id="l03314" name="l03314"></a><span class="lineno"> 3314</span>    }</div>
<div class="line"><a id="l03315" name="l03315"></a><span class="lineno"> 3315</span> </div>
<div class="line"><a id="l03316" name="l03316"></a><span class="lineno"> 3316</span>    <span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> weight_bonus = bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a92bd733a0f3adff1773d50c297b8ca1b">weight_capacity_bonus</a>;</div>
<div class="line"><a id="l03317" name="l03317"></a><span class="lineno"> 3317</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> weight_modif = bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a9163d62456049f9408ecf885bc3ad35b">weight_capacity_modifier</a>;</div>
<div class="line"><a id="l03318" name="l03318"></a><span class="lineno"> 3318</span>    <span class="keywordflow">if</span>( weight_modif != 1 ) {</div>
<div class="line"><a id="l03319" name="l03319"></a><span class="lineno"> 3319</span>        std::string modifier;</div>
<div class="line"><a id="l03320" name="l03320"></a><span class="lineno"> 3320</span>        <span class="keywordflow">if</span>( weight_modif &lt; 1 ) {</div>
<div class="line"><a id="l03321" name="l03321"></a><span class="lineno"> 3321</span>            modifier = <span class="stringliteral">&quot;&lt;num&gt;&lt;bad&gt;x&lt;/bad&gt;&quot;</span>;</div>
<div class="line"><a id="l03322" name="l03322"></a><span class="lineno"> 3322</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03323" name="l03323"></a><span class="lineno"> 3323</span>            modifier = <span class="stringliteral">&quot;&lt;num&gt;&lt;color_light_green&gt;x&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a id="l03324" name="l03324"></a><span class="lineno"> 3324</span>        }</div>
<div class="line"><a id="l03325" name="l03325"></a><span class="lineno"> 3325</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;CBM&quot;</span>,</div>
<div class="line"><a id="l03326" name="l03326"></a><span class="lineno"> 3326</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Weight capacity modifier&lt;/bold&gt;: &quot;</span> ), modifier,</div>
<div class="line"><a id="l03327" name="l03327"></a><span class="lineno"> 3327</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l03328" name="l03328"></a><span class="lineno"> 3328</span>                                  weight_modif ) );</div>
<div class="line"><a id="l03329" name="l03329"></a><span class="lineno"> 3329</span>    }</div>
<div class="line"><a id="l03330" name="l03330"></a><span class="lineno"> 3330</span>    <span class="keywordflow">if</span>( weight_bonus != 0_gram ) {</div>
<div class="line"><a id="l03331" name="l03331"></a><span class="lineno"> 3331</span>        std::string bonus;</div>
<div class="line"><a id="l03332" name="l03332"></a><span class="lineno"> 3332</span>        <span class="keywordflow">if</span>( weight_bonus &lt; 0_gram ) {</div>
<div class="line"><a id="l03333" name="l03333"></a><span class="lineno"> 3333</span>            bonus = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;num&gt; &lt;bad&gt;%s&lt;/bad&gt;&quot;</span>, <a class="code hl_function" href="units__utility_8cpp.html#a3556beacf095f6eb2944d7c9dbf235d3">weight_units</a>() );</div>
<div class="line"><a id="l03334" name="l03334"></a><span class="lineno"> 3334</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03335" name="l03335"></a><span class="lineno"> 3335</span>            bonus = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;num&gt; &lt;color_light_green&gt;%s&lt;/color&gt;&quot;</span>, <a class="code hl_function" href="units__utility_8cpp.html#a3556beacf095f6eb2944d7c9dbf235d3">weight_units</a>() );</div>
<div class="line"><a id="l03336" name="l03336"></a><span class="lineno"> 3336</span>        }</div>
<div class="line"><a id="l03337" name="l03337"></a><span class="lineno"> 3337</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;CBM&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Weight capacity bonus&lt;/bold&gt;: &quot;</span> ), bonus,</div>
<div class="line"><a id="l03338" name="l03338"></a><span class="lineno"> 3338</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l03339" name="l03339"></a><span class="lineno"> 3339</span>                                  <a class="code hl_function" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( weight_bonus ) ) );</div>
<div class="line"><a id="l03340" name="l03340"></a><span class="lineno"> 3340</span>    }</div>
<div class="line"><a id="l03341" name="l03341"></a><span class="lineno"> 3341</span>}</div>
<div class="ttc" id="abionics_8cpp_html_a4d3af7661fa38a46bad775d2ee5419b5"><div class="ttname"><a href="bionics_8cpp.html#a4d3af7661fa38a46bad775d2ee5419b5">list_occupied_bps</a></div><div class="ttdeci">std::string list_occupied_bps(const bionic_id &amp;bio_id, const std::string &amp;intro, const bool each_bp_on_new_line)</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l02471">bionics.cpp:2471</a></div></div>
<div class="ttc" id="abodypart_8cpp_html_aeadf2675d36776a1f685d1d2dfa06e78"><div class="ttname"><a href="bodypart_8cpp.html#aeadf2675d36776a1f685d1d2dfa06e78">body_part_name_as_heading</a></div><div class="ttdeci">std::string body_part_name_as_heading(body_part bp, int number)</div><div class="ttdoc">Returns the name of the body parts in a context where the name is used as a heading or title e....</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00341">bodypart.cpp:341</a></div></div>
<div class="ttc" id="acharacter_8cpp_html_a035c78e847a263690eaab59f16c23b88"><div class="ttname"><a href="character_8cpp.html#a035c78e847a263690eaab59f16c23b88">get_stat_name</a></div><div class="ttdeci">std::string get_stat_name(character_stat Stat)</div><div class="ttdoc">Get translated name of a stat.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07863">character.cpp:7863</a></div></div>
<div class="ttc" id="aclassitem_html_a699d0314aa1c5ee9903cf3cf862ee8cf"><div class="ttname"><a href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">item::is_bionic</a></div><div class="ttdeci">bool is_bionic() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06402">item.cpp:6402</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a186e23235b49b90b0e027ab61cdf2eef"><div class="ttname"><a href="item_8cpp.html#a186e23235b49b90b0e027ab61cdf2eef">flag_NO_STERILE</a></div><div class="ttdeci">static const std::string flag_NO_STERILE(&quot;NO_STERILE&quot;)</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa72caeb06228457a87054c4694a11bd7d"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa72caeb06228457a87054c4694a11bd7d">iteminfo_parts::DESCRIPTION_CBM_SLOTS</a></div><div class="ttdeci">@ DESCRIPTION_CBM_SLOTS</div></div>
<div class="ttc" id="astructbionic__data_html_a234cff789bc72433ebcca4e4da4f48f4"><div class="ttname"><a href="structbionic__data.html#a234cff789bc72433ebcca4e4da4f48f4">bionic_data::cut_protec</a></div><div class="ttdeci">std::map&lt; bodypart_str_id, int &gt; cut_protec</div><div class="ttdoc">Amount of cut protection offered by this bionic.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00082">bionics.h:82</a></div></div>
<div class="ttc" id="astructbionic__data_html_a46dddebc77b6ae7d8879c8b12fe02d4f"><div class="ttname"><a href="structbionic__data.html#a46dddebc77b6ae7d8879c8b12fe02d4f">bionic_data::capacity</a></div><div class="ttdeci">units::energy capacity</div><div class="ttdoc">Power bank size.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00045">bionics.h:45</a></div></div>
<div class="ttc" id="astructbionic__data_html_a5b4043e33f09573e6c6c9c06f3d4d5dc"><div class="ttname"><a href="structbionic__data.html#a5b4043e33f09573e6c6c9c06f3d4d5dc">bionic_data::activated</a></div><div class="ttdeci">bool activated</div><div class="ttdoc">Is true if a bionic is an active instead of a passive bionic.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00049">bionics.h:49</a></div></div>
<div class="ttc" id="astructbionic__data_html_a7fbd91c61e6ffee8d81d2001e4558398"><div class="ttname"><a href="structbionic__data.html#a7fbd91c61e6ffee8d81d2001e4558398">bionic_data::stat_bonus</a></div><div class="ttdeci">std::map&lt; character_stat, int &gt; stat_bonus</div><div class="ttdoc">Map of stats and their corresponding bonuses passively granted by a bionic.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00059">bionics.h:59</a></div></div>
<div class="ttc" id="astructbionic__data_html_a8138c18ab3e2346f1404295246389393"><div class="ttname"><a href="structbionic__data.html#a8138c18ab3e2346f1404295246389393">bionic_data::fuel_opts</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; fuel_opts</div><div class="ttdoc">Fuel types that can be used by this bionic.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00063">bionics.h:63</a></div></div>
<div class="ttc" id="astructbionic__data_html_a9163d62456049f9408ecf885bc3ad35b"><div class="ttname"><a href="structbionic__data.html#a9163d62456049f9408ecf885bc3ad35b">bionic_data::weight_capacity_modifier</a></div><div class="ttdeci">float weight_capacity_modifier</div><div class="ttdoc">Factor modifiying weight capacity.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00055">bionics.h:55</a></div></div>
<div class="ttc" id="astructbionic__data_html_a92bd733a0f3adff1773d50c297b8ca1b"><div class="ttname"><a href="structbionic__data.html#a92bd733a0f3adff1773d50c297b8ca1b">bionic_data::weight_capacity_bonus</a></div><div class="ttdeci">units::mass weight_capacity_bonus</div><div class="ttdoc">Bonus to weight capacity.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00057">bionics.h:57</a></div></div>
<div class="ttc" id="astructbionic__data_html_aa169d20729343547cd14f8db2dc07c88"><div class="ttname"><a href="structbionic__data.html#aa169d20729343547cd14f8db2dc07c88">bionic_data::encumbrance</a></div><div class="ttdeci">std::map&lt; bodypart_str_id, int &gt; encumbrance</div><div class="ttdoc">Body part encumbered by this bionic, mapped to the amount of encumbrance caused.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00093">bionics.h:93</a></div></div>
<div class="ttc" id="astructbionic__data_html_aaf8c18583d63f5c6ca2f1f14f2b2b24c"><div class="ttname"><a href="structbionic__data.html#aaf8c18583d63f5c6ca2f1f14f2b2b24c">bionic_data::bullet_protec</a></div><div class="ttdeci">std::map&lt; bodypart_str_id, int &gt; bullet_protec</div><div class="ttdoc">Amount of bullet protection offered by this bionic.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00084">bionics.h:84</a></div></div>
<div class="ttc" id="astructbionic__data_html_ab9b4300e84e09edea02a91cfcca76d12"><div class="ttname"><a href="structbionic__data.html#ab9b4300e84e09edea02a91cfcca76d12">bionic_data::bash_protec</a></div><div class="ttdeci">std::map&lt; bodypart_str_id, int &gt; bash_protec</div><div class="ttdoc">Amount of bash protection offered by this bionic.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00080">bionics.h:80</a></div></div>
<div class="ttc" id="astructbionic__data_html_aeeb4383526e39e4e900dad468da503cc"><div class="ttname"><a href="structbionic__data.html#aeeb4383526e39e4e900dad468da503cc">bionic_data::env_protec</a></div><div class="ttdeci">std::map&lt; bodypart_str_id, int &gt; env_protec</div><div class="ttdoc">Amount of environemental protection offered by this bionic.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00078">bionics.h:78</a></div></div>
<div class="ttc" id="astructitype_html_a33aeb53774679283298d0202ae3e78ce"><div class="ttname"><a href="structitype.html#a33aeb53774679283298d0202ae3e78ce">itype::bionic</a></div><div class="ttdeci">cata::value_ptr&lt; islot_bionic &gt; bionic</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00861">itype.h:861</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a82b835742108b8d7f5f6a291b41e208e"><div class="ttname"><a href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a></div><div class="ttdeci">const char * vgettext(const char *msgid, const char *msgid_plural, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00036">translations.cpp:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="bionics_8h_source.html#l00049">bionic_data::activated</a>, <a class="el" href="bionics_8h_source.html#l00080">bionic_data::bash_protec</a>, <a class="el" href="itype_8h_source.html#l00861">itype::bionic</a>, <a class="el" href="bodypart_8cpp_source.html#l00341">body_part_name_as_heading()</a>, <a class="el" href="bionics_8h_source.html#l00084">bionic_data::bullet_protec</a>, <a class="el" href="bionics_8h_source.html#l00045">bionic_data::capacity</a>, <a class="el" href="units__utility_8cpp_source.html#l00085">convert_weight()</a>, <a class="el" href="bionics_8h_source.html#l00082">bionic_data::cut_protec</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa72caeb06228457a87054c4694a11bd7d">DESCRIPTION_CBM_SLOTS</a>, <a class="el" href="bionics_8h_source.html#l00093">bionic_data::encumbrance</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="bionics_8h_source.html#l00078">bionic_data::env_protec</a>, <a class="el" href="item_8cpp.html#a186e23235b49b90b0e027ab61cdf2eef">flag_NO_STERILE()</a>, <a class="el" href="bionics_8h_source.html#l00063">bionic_data::fuel_opts</a>, <a class="el" href="character_8cpp_source.html#l07863">get_stat_name()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06402">is_bionic()</a>, <a class="el" href="item_8h_source.html#l00142">iteminfo::is_decimal</a>, <a class="el" href="bionics_8cpp_source.html#l02471">list_occupied_bps()</a>, <a class="el" href="item_8h_source.html#l00144">iteminfo::no_newline</a>, <a class="el" href="string__id__utils_8h_source.html#l00022">sorted_lex()</a>, <a class="el" href="bionics_8h_source.html#l00059">bionic_data::stat_bonus</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="units__energy_8h_source.html#l00040">units::to_joule()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="translations_8cpp_source.html#l00036">vgettext()</a>, <a class="el" href="bionics_8h_source.html#l00057">bionic_data::weight_capacity_bonus</a>, <a class="el" href="bionics_8h_source.html#l00055">bionic_data::weight_capacity_modifier</a>, and <a class="el" href="units__utility_8cpp_source.html#l00032">weight_units()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>.</p>

</div>
</div>
<a id="a46b9bb1181827a365eb83d935c663677" name="a46b9bb1181827a365eb83d935c663677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b9bb1181827a365eb83d935c663677">&#9670;&nbsp;</a></span>birthday()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> item::birthday </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09853">9853</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09854" name="l09854"></a><span class="lineno"> 9854</span>{</div>
<div class="line"><a id="l09855" name="l09855"></a><span class="lineno"> 9855</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a>;</div>
<div class="line"><a id="l09856" name="l09856"></a><span class="lineno"> 9856</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02223">bday</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l05693">iuse::adrenaline_injector()</a>, <a class="el" href="item_8cpp_source.html#l09832">age()</a>, <a class="el" href="editmap_8cpp_source.html#l01379">editmap::edit_itm()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03741">heal_actor::finish_using()</a>, <a class="el" href="iuse_8cpp_source.html#l01793">iuse::fish_trap()</a>, <a class="el" href="iuse_8cpp_source.html#l00863">iuse::flu_vaccine()</a>, <a class="el" href="iexamine_8cpp_source.html#l03078">iexamine::fvat_full()</a>, <a class="el" href="item_8cpp_source.html#l00843">in_container()</a>, <a class="el" href="item__contents_8cpp_source.html#l00094">item_contents::migrate_item()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="item_8cpp_source.html#l09000">process_fake_mill()</a>, <a class="el" href="item_8cpp_source.html#l09015">process_fake_smoke()</a>, <a class="el" href="iuse_8cpp_source.html#l01186">iuse::purify_smart()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00788">consume_drug_iuse::use()</a>, and <a class="el" href="iuse_8cpp_source.html#l00852">iuse::vaccine()</a>.</p>

</div>
</div>
<a id="aa6814057c8b903697652ab87e8a708d2" name="aa6814057c8b903697652ab87e8a708d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6814057c8b903697652ab87e8a708d2">&#9670;&nbsp;</a></span>bonus_from_enchantments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double item::bonus_from_enchantments </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>round</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate bonus from enchantments that affect this item only. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06831">6831</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06833" name="l06833"></a><span class="lineno"> 6833</span>{</div>
<div class="line"><a id="l06834" name="l06834"></a><span class="lineno"> 6834</span>    <span class="keywordtype">double</span> <a class="code hl_function" href="namespaceom__direction.html#a75c0342ea30288a5a6d5bdbff38f7cde">add</a> = 0.0;</div>
<div class="line"><a id="l06835" name="l06835"></a><span class="lineno"> 6835</span>    <span class="keywordtype">double</span> mul = 0.0;</div>
<div class="line"><a id="l06836" name="l06836"></a><span class="lineno"> 6836</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classenchantment.html">enchantment</a> &amp;ench : <a class="code hl_function" href="classitem.html#a30d7889672228732cb7268d7e755ee8b">get_enchantments</a>() ) {</div>
<div class="line"><a id="l06837" name="l06837"></a><span class="lineno"> 6837</span>        <span class="keywordflow">if</span>( ench.is_active( <a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a>, *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l06838" name="l06838"></a><span class="lineno"> 6838</span>            <a class="code hl_function" href="namespaceom__direction.html#a75c0342ea30288a5a6d5bdbff38f7cde">add</a> += ench.get_value_add( value );</div>
<div class="line"><a id="l06839" name="l06839"></a><span class="lineno"> 6839</span>            mul += ench.get_value_multiply( value );</div>
<div class="line"><a id="l06840" name="l06840"></a><span class="lineno"> 6840</span>        }</div>
<div class="line"><a id="l06841" name="l06841"></a><span class="lineno"> 6841</span>    }</div>
<div class="line"><a id="l06842" name="l06842"></a><span class="lineno"> 6842</span>    <span class="comment">// TODO: this part duplicates enchantment::calc_bonus()</span></div>
<div class="line"><a id="l06843" name="l06843"></a><span class="lineno"> 6843</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="namespaceom__direction.html#a75c0342ea30288a5a6d5bdbff38f7cde">add</a> + base * mul;</div>
<div class="line"><a id="l06844" name="l06844"></a><span class="lineno"> 6844</span>    <span class="keywordflow">if</span>( round ) {</div>
<div class="line"><a id="l06845" name="l06845"></a><span class="lineno"> 6845</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = trunc( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> );</div>
<div class="line"><a id="l06846" name="l06846"></a><span class="lineno"> 6846</span>    }</div>
<div class="line"><a id="l06847" name="l06847"></a><span class="lineno"> 6847</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l06848" name="l06848"></a><span class="lineno"> 6848</span>}</div>
<div class="ttc" id="aclassenchantment_html"><div class="ttname"><a href="classenchantment.html">enchantment</a></div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00100">magic_enchantment.h:101</a></div></div>
<div class="ttc" id="aclassitem_html_a30d7889672228732cb7268d7e755ee8b"><div class="ttname"><a href="classitem.html#a30d7889672228732cb7268d7e755ee8b">item::get_enchantments</a></div><div class="ttdeci">std::vector&lt; enchantment &gt; get_enchantments() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06823">item.cpp:6823</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a75c0342ea30288a5a6d5bdbff38f7cde"><div class="ttname"><a href="namespaceom__direction.html#a75c0342ea30288a5a6d5bdbff38f7cde">om_direction::add</a></div><div class="ttdeci">type add(type dir1, type dir2)</div><div class="ttdoc">Returns a sum of two numbers.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04117">overmap.cpp:4117</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="overmap_8cpp_source.html#l04117">om_direction::add()</a>, <a class="el" href="item_8cpp_source.html#l06823">get_enchantments()</a>, <a class="el" href="item_8h_source.html#l02225">owner</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08056">item_armor_enchantment_adjust()</a>.</p>

</div>
</div>
<a id="a0970f0b8f54c23b1a7b7a20171485535" name="a0970f0b8f54c23b1a7b7a20171485535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0970f0b8f54c23b1a7b7a20171485535">&#9670;&nbsp;</a></span>bonus_from_enchantments_wielded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double item::bonus_from_enchantments_wielded </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>round</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate bonus from enchantments that affect this item only, assume it's wielded and all enchantments' conditions are satisfied. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06850">6850</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06852" name="l06852"></a><span class="lineno"> 6852</span>{</div>
<div class="line"><a id="l06853" name="l06853"></a><span class="lineno"> 6853</span>    <span class="keywordtype">double</span> <a class="code hl_function" href="namespaceom__direction.html#a75c0342ea30288a5a6d5bdbff38f7cde">add</a> = 0.0;</div>
<div class="line"><a id="l06854" name="l06854"></a><span class="lineno"> 6854</span>    <span class="keywordtype">double</span> mul = 0.0;</div>
<div class="line"><a id="l06855" name="l06855"></a><span class="lineno"> 6855</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classenchantment.html">enchantment</a> &amp;ench : <a class="code hl_function" href="classitem.html#a30d7889672228732cb7268d7e755ee8b">get_enchantments</a>() ) {</div>
<div class="line"><a id="l06856" name="l06856"></a><span class="lineno"> 6856</span>        <span class="keywordflow">if</span>( ench.is_active_when_wielded() ) {</div>
<div class="line"><a id="l06857" name="l06857"></a><span class="lineno"> 6857</span>            <a class="code hl_function" href="namespaceom__direction.html#a75c0342ea30288a5a6d5bdbff38f7cde">add</a> += ench.get_value_add( value );</div>
<div class="line"><a id="l06858" name="l06858"></a><span class="lineno"> 6858</span>            mul += ench.get_value_multiply( value );</div>
<div class="line"><a id="l06859" name="l06859"></a><span class="lineno"> 6859</span>        }</div>
<div class="line"><a id="l06860" name="l06860"></a><span class="lineno"> 6860</span>    }</div>
<div class="line"><a id="l06861" name="l06861"></a><span class="lineno"> 6861</span>    <span class="comment">// TODO: this part duplicates enchantment::calc_bonus()</span></div>
<div class="line"><a id="l06862" name="l06862"></a><span class="lineno"> 6862</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="namespaceom__direction.html#a75c0342ea30288a5a6d5bdbff38f7cde">add</a> + base * mul;</div>
<div class="line"><a id="l06863" name="l06863"></a><span class="lineno"> 6863</span>    <span class="keywordflow">if</span>( round ) {</div>
<div class="line"><a id="l06864" name="l06864"></a><span class="lineno"> 6864</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = trunc( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> );</div>
<div class="line"><a id="l06865" name="l06865"></a><span class="lineno"> 6865</span>    }</div>
<div class="line"><a id="l06866" name="l06866"></a><span class="lineno"> 6866</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l06867" name="l06867"></a><span class="lineno"> 6867</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="overmap_8cpp_source.html#l04117">om_direction::add()</a>, <a class="el" href="item_8cpp_source.html#l06823">get_enchantments()</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05084">attack_cost()</a>.</p>

</div>
</div>
<a id="ae0863124133813cad747398f561c8048" name="ae0863124133813cad747398f561c8048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0863124133813cad747398f561c8048">&#9670;&nbsp;</a></span>book_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::book_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l02839">2839</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span>{</div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a980b9e48afd103973a201fc487d0af8b">is_book</a>() ) {</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>    }</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span> </div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__book.html">islot_book</a> &amp;book = *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>;</div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>    <span class="comment">// Some things about a book you CAN tell by it&#39;s cover.</span></div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span>    <span class="keywordflow">if</span>( !book.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> &amp;&amp; !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;MA_MANUAL&quot;</span> ) &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaeafa6693cfe4c71733292bbdd1611086">iteminfo_parts::BOOK_SUMMARY</a> ) ) {</div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Just for fun.&quot;</span> ) ) );</div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span>    }</div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;MA_MANUAL&quot;</span> ) &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaeafa6693cfe4c71733292bbdd1611086">iteminfo_parts::BOOK_SUMMARY</a> ) ) {</div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>,</div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Some sort of &lt;info&gt;martial arts training &quot;</span></div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span>                                     <span class="stringliteral">&quot;manual&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">matype_id</a> style_to_learn = <a class="code hl_function" href="martialarts_8cpp.html#ad99254fef8817d713c1577c9f7021eb0">martial_art_learned_from</a>( *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>,</div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span>                                  <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can learn &lt;info&gt;%s&lt;/info&gt; style &quot;</span></div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>                                          <span class="stringliteral">&quot;from it.&quot;</span> ), style_to_learn-&gt;<a class="code hl_variable" href="classmartialart.html#a755de10d91b0292258efb0ab55b80cbc">name</a> ) ) );</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>,</div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>                                  <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This fighting style is &lt;info&gt;%s&lt;/info&gt; &quot;</span></div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>                                          <span class="stringliteral">&quot;to learn.&quot;</span> ),</div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span>                                          <a class="code hl_function" href="martialarts_8cpp.html#abbde71d679db0bf89e89279e18183337">martialart_difficulty</a>( style_to_learn ) ) ) );</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>,</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span>                                  <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;d be easier to master if you&#39;d have &quot;</span></div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>                                          <span class="stringliteral">&quot;skill expertise in &lt;info&gt;%s&lt;/info&gt;.&quot;</span> ),</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>                                          style_to_learn-&gt;<a class="code hl_variable" href="classmartialart.html#aaafaa92848ceeac9e66c6cbc28e38dd5">primary_skill</a>-&gt;<a class="code hl_function" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>() ) ) );</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span>    }</div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>    <span class="keywordflow">if</span>( book.<a class="code hl_variable" href="structislot__book.html#a899cf37dd220cfce62e17e9f072ca9c5">req</a> == 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6d6682e5ed91cf2005ab30b15a8ae399">iteminfo_parts::BOOK_REQUIREMENTS_BEGINNER</a> ) ) {</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It can be &lt;info&gt;understood by &quot;</span></div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>                                             <span class="stringliteral">&quot;beginners&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span>    }</div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_identified( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef2292520530e690d802d8d4e663a9ca">iteminfo_parts::BOOK_UNREAD</a> ) ) {</div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>,</div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have &lt;info&gt;never read&lt;/info&gt; this book.&quot;</span> ) ) );</div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>    }</div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>    <span class="keywordflow">if</span>( book.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> ) {</div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>        <span class="keyword">const</span> <a class="code hl_class" href="classSkillLevel.html">SkillLevel</a> &amp;skill = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_skill_level_object( book.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> );</div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span>        <span class="keywordflow">if</span>( skill.<a class="code hl_function" href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">can_train</a>() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa73c3939619313f4363334c32da31b09d">iteminfo_parts::BOOK_SKILLRANGE_MAX</a> ) ) {</div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>            <span class="keyword">const</span> std::string skill_name = book.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a>-&gt;<a class="code hl_function" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>();</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>            std::string fmt = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Can bring your &lt;info&gt;%s skill to&lt;/info&gt; &quot;</span></div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>                                                <span class="stringliteral">&quot;&lt;num&gt;.&quot;</span> ), skill_name );</div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fmt, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>, book.<a class="code hl_variable" href="structislot__book.html#a6eca476a412d945669fcb56e20d8ef97">level</a> ) );</div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>            fmt = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your current &lt;stat&gt;%s skill&lt;/stat&gt; is &lt;num&gt;.&quot;</span> ),</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span>                                 skill_name );</div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fmt, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>, skill.<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>() ) );</div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span>        }</div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span> </div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>        <span class="keywordflow">if</span>( book.<a class="code hl_variable" href="structislot__book.html#a899cf37dd220cfce62e17e9f072ca9c5">req</a> != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf103bc771e0fce64d83d75d1e7dc067a">iteminfo_parts::BOOK_SKILLRANGE_MIN</a> ) ) {</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>            <span class="keyword">const</span> std::string fmt = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>(</div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span>                                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;info&gt;Requires %s level&lt;/info&gt; &lt;num&gt; to &quot;</span></div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span>                                           <span class="stringliteral">&quot;understand.&quot;</span> ), book.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a>.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_function" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>() );</div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fmt,</div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"> 2894</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, book.<a class="code hl_variable" href="structislot__book.html#a899cf37dd220cfce62e17e9f072ca9c5">req</a> ) );</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>        }</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>    }</div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span> </div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span>    <span class="keywordflow">if</span>( book.<a class="code hl_variable" href="structislot__book.html#a817f742eeee09070453b5f2d78d803be">intel</a> != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa117c0693a41ee090d6ac75ce6161336">iteminfo_parts::BOOK_REQUIREMENTS_INT</a> ) ) {</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Requires &lt;info&gt;intelligence of&lt;/info&gt; &lt;num&gt; to easily &quot;</span></div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>                                     <span class="stringliteral">&quot;read.&quot;</span> ), <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, book.<a class="code hl_variable" href="structislot__book.html#a817f742eeee09070453b5f2d78d803be">intel</a> ) );</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>    }</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.book_fun_for( *<span class="keyword">this</span>, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u ) != 0 &amp;&amp;</div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa541e7d1cc18ad35c3563ac800dc15668">iteminfo_parts::BOOK_MORALECHANGE</a> ) ) {</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Reading this book affects your morale by &lt;num&gt;&quot;</span> ),</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a>, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.book_fun_for( *<span class="keyword">this</span>, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u ) ) );</div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>    }</div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaff1ab3ea7bb7737d5b002849ad4bfb3a">iteminfo_parts::BOOK_TIMEPERCHAPTER</a> ) ) {</div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>        std::string fmt = <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>(</div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span>                              <span class="stringliteral">&quot;A chapter of this book takes &lt;num&gt; &lt;info&gt;minute to &quot;</span></div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span>                              <span class="stringliteral">&quot;read&lt;/info&gt;.&quot;</span>,</div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span>                              <span class="stringliteral">&quot;A chapter of this book takes &lt;num&gt; &lt;info&gt;minutes to &quot;</span></div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span>                              <span class="stringliteral">&quot;read&lt;/info&gt;.&quot;</span>, book.<a class="code hl_variable" href="structislot__book.html#af38ad1046aa05d970b16bf2c78f884d5">time</a> );</div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.count( <span class="stringliteral">&quot;MA_MANUAL&quot;</span> ) ) {</div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span>            fmt = <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>(</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>                      <span class="stringliteral">&quot;&lt;info&gt;A training session&lt;/info&gt; with this book takes &quot;</span></div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>                      <span class="stringliteral">&quot;&lt;num&gt; &lt;info&gt;minute&lt;/info&gt;.&quot;</span>,</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span>                      <span class="stringliteral">&quot;&lt;info&gt;A training session&lt;/info&gt; with this book takes &quot;</span></div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span>                      <span class="stringliteral">&quot;&lt;num&gt; &lt;info&gt;minutes&lt;/info&gt;.&quot;</span>, book.<a class="code hl_variable" href="structislot__book.html#af38ad1046aa05d970b16bf2c78f884d5">time</a> );</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>        }</div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fmt,</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, book.<a class="code hl_variable" href="structislot__book.html#af38ad1046aa05d970b16bf2c78f884d5">time</a> ) );</div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span>    }</div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span> </div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>    <span class="keywordflow">if</span>( book.<a class="code hl_variable" href="structislot__book.html#aff68466212e42b423a136b0da1a59b38">chapters</a> &gt; 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0cd39031ef43b5e6b5d67f56169c9fce">iteminfo_parts::BOOK_NUMUNREADCHAPTERS</a> ) ) {</div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> unread = <a class="code hl_function" href="classitem.html#a496e2a01e5a06776c322d4f1c3396e66">get_remaining_chapters</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l02928" name="l02928"></a><span class="lineno"> 2928</span>        std::string fmt = <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;This book has &lt;num&gt; &lt;info&gt;unread chapter&lt;/info&gt;.&quot;</span>,</div>
<div class="line"><a id="l02929" name="l02929"></a><span class="lineno"> 2929</span>                                    <span class="stringliteral">&quot;This book has &lt;num&gt; &lt;info&gt;unread chapters&lt;/info&gt;.&quot;</span>,</div>
<div class="line"><a id="l02930" name="l02930"></a><span class="lineno"> 2930</span>                                    unread );</div>
<div class="line"><a id="l02931" name="l02931"></a><span class="lineno"> 2931</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BOOK&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, fmt, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>, unread ) );</div>
<div class="line"><a id="l02932" name="l02932"></a><span class="lineno"> 2932</span>    }</div>
<div class="line"><a id="l02933" name="l02933"></a><span class="lineno"> 2933</span> </div>
<div class="line"><a id="l02934" name="l02934"></a><span class="lineno"> 2934</span>    std::vector&lt;std::string&gt; recipe_list;</div>
<div class="line"><a id="l02935" name="l02935"></a><span class="lineno"> 2935</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structislot__book_1_1recipe__with__description__t.html">islot_book::recipe_with_description_t</a> &amp;elem : book.<a class="code hl_variable" href="structislot__book.html#ae240630817ce9b3cee66b3e0d8d40e97">recipes</a> ) {</div>
<div class="line"><a id="l02936" name="l02936"></a><span class="lineno"> 2936</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> knows_it = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.knows_recipe( elem.<a class="code hl_variable" href="structislot__book_1_1recipe__with__description__t.html#a81128db90cd0174d3500d4cb1bbf002e">recipe</a> );</div>
<div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_learn = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_skill_level( elem.<a class="code hl_variable" href="structislot__book_1_1recipe__with__description__t.html#a81128db90cd0174d3500d4cb1bbf002e">recipe</a>-&gt;<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> )  &gt;= elem.<a class="code hl_variable" href="structislot__book_1_1recipe__with__description__t.html#a281ac0918950f3547a56cb9e218ffe9e">skill_level</a>;</div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>        <span class="comment">// If the player knows it, they recognize it even if it&#39;s not clearly stated.</span></div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span>        <span class="keywordflow">if</span>( elem.<a class="code hl_function" href="structislot__book_1_1recipe__with__description__t.html#ab1754e8717fef2508852ad9cf8576bff">is_hidden</a>() &amp;&amp; !knows_it ) {</div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"> 2941</span>        }</div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span>        <span class="keywordflow">if</span>( knows_it ) {</div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>            <span class="comment">// In case the recipe is known, but has a different name in the book, use the</span></div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span>            <span class="comment">// real name to avoid confusing the player.</span></div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>            <span class="keyword">const</span> std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = elem.<a class="code hl_variable" href="structislot__book_1_1recipe__with__description__t.html#a81128db90cd0174d3500d4cb1bbf002e">recipe</a>-&gt;<a class="code hl_function" href="classrecipe.html#a0306672b3485a410ef74cd5cdc1f5279">result_name</a>();</div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span>            recipe_list.push_back( <span class="stringliteral">&quot;&lt;bold&gt;&quot;</span> + <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> + <span class="stringliteral">&quot;&lt;/bold&gt;&quot;</span> );</div>
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"> 2947</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !can_learn ) {</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>            recipe_list.push_back( <span class="stringliteral">&quot;&lt;color_brown&gt;&quot;</span> + elem.<a class="code hl_variable" href="structislot__book_1_1recipe__with__description__t.html#a1f8020827cd1fcd2949d12adb7e60d8f">name</a> + <span class="stringliteral">&quot;&lt;/color&gt;&quot;</span> );</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>            recipe_list.push_back( <span class="stringliteral">&quot;&lt;dark&gt;&quot;</span> + elem.<a class="code hl_variable" href="structislot__book_1_1recipe__with__description__t.html#a1f8020827cd1fcd2949d12adb7e60d8f">name</a> + <span class="stringliteral">&quot;&lt;/dark&gt;&quot;</span> );</div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>        }</div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>    }</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span> </div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>    <span class="keywordflow">if</span>( !recipe_list.empty() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa7f05cead12d1622791c76d94c3b999a">iteminfo_parts::DESCRIPTION_BOOK_RECIPES</a> ) ) {</div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>        std::string recipe_line =</div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span>            <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;This book contains %1$d crafting recipe: %2$s&quot;</span>,</div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>                                     <span class="stringliteral">&quot;This book contains %1$d crafting recipes: %2$s&quot;</span>,</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>                                     recipe_list.size() ),</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>                           recipe_list.size(), <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( recipe_list ) );</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span> </div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, recipe_line ) );</div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span>    }</div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span> </div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>    <span class="keywordflow">if</span>( recipe_list.size() != book.<a class="code hl_variable" href="structislot__book.html#ae240630817ce9b3cee66b3e0d8d40e97">recipes</a>.size() &amp;&amp;</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa934647d484c8702f12e803d76213775c">iteminfo_parts::DESCRIPTION_BOOK_ADDITIONAL_RECIPES</a> ) ) {</div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It might help you figuring out some &lt;good&gt;more &quot;</span></div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span>                                     <span class="stringliteral">&quot;recipes&lt;/good&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"> 2970</span>    }</div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"> 2971</span>}</div>
<div class="ttc" id="aclassSkillLevel_html"><div class="ttname"><a href="classSkillLevel.html">SkillLevel</a></div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00106">skill.h:107</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a28763c074460e59ab2851ab31f9e2a3c"><div class="ttname"><a href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">SkillLevel::level</a></div><div class="ttdeci">int level() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00125">skill.h:125</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a4de8923aafd85db2946ed9860874d660"><div class="ttname"><a href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">SkillLevel::can_train</a></div><div class="ttdeci">bool can_train() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00298">skill.cpp:298</a></div></div>
<div class="ttc" id="aclassSkill_html_a11c69074ce9b251983f170510808bd85"><div class="ttname"><a href="classSkill.html#a11c69074ce9b251983f170510808bd85">Skill::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00068">skill.h:68</a></div></div>
<div class="ttc" id="aclassitem_html_a496e2a01e5a06776c322d4f1c3396e66"><div class="ttname"><a href="classitem.html#a496e2a01e5a06776c322d4f1c3396e66">item::get_remaining_chapters</a></div><div class="ttdeci">int get_remaining_chapters(const player &amp;u) const</div><div class="ttdoc">Get the number of unread chapters.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06936">item.cpp:6936</a></div></div>
<div class="ttc" id="aclassitem_html_a980b9e48afd103973a201fc487d0af8b"><div class="ttname"><a href="classitem.html#a980b9e48afd103973a201fc487d0af8b">item::is_book</a></div><div class="ttdeci">bool is_book() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06559">item.cpp:6559</a></div></div>
<div class="ttc" id="aclassmartialart_html_a755de10d91b0292258efb0ab55b80cbc"><div class="ttname"><a href="classmartialart.html#a755de10d91b0292258efb0ab55b80cbc">martialart::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8h_source.html#l00245">martialarts.h:245</a></div></div>
<div class="ttc" id="aclassmartialart_html_aaafaa92848ceeac9e66c6cbc28e38dd5"><div class="ttname"><a href="classmartialart.html#aaafaa92848ceeac9e66c6cbc28e38dd5">martialart::primary_skill</a></div><div class="ttdeci">skill_id primary_skill</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8h_source.html#l00249">martialarts.h:249</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0306672b3485a410ef74cd5cdc1f5279"><div class="ttname"><a href="classrecipe.html#a0306672b3485a410ef74cd5cdc1f5279">recipe::result_name</a></div><div class="ttdeci">std::string result_name() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00579">recipe.cpp:579</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0af03931c6f034e6b5269a5206e31bd2"><div class="ttname"><a href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">recipe::skill_used</a></div><div class="ttdeci">skill_id skill_used</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00107">recipe.h:107</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa0cd39031ef43b5e6b5d67f56169c9fce"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0cd39031ef43b5e6b5d67f56169c9fce">iteminfo_parts::BOOK_NUMUNREADCHAPTERS</a></div><div class="ttdeci">@ BOOK_NUMUNREADCHAPTERS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa541e7d1cc18ad35c3563ac800dc15668"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa541e7d1cc18ad35c3563ac800dc15668">iteminfo_parts::BOOK_MORALECHANGE</a></div><div class="ttdeci">@ BOOK_MORALECHANGE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa6d6682e5ed91cf2005ab30b15a8ae399"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6d6682e5ed91cf2005ab30b15a8ae399">iteminfo_parts::BOOK_REQUIREMENTS_BEGINNER</a></div><div class="ttdeci">@ BOOK_REQUIREMENTS_BEGINNER</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa73c3939619313f4363334c32da31b09d"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa73c3939619313f4363334c32da31b09d">iteminfo_parts::BOOK_SKILLRANGE_MAX</a></div><div class="ttdeci">@ BOOK_SKILLRANGE_MAX</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa934647d484c8702f12e803d76213775c"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa934647d484c8702f12e803d76213775c">iteminfo_parts::DESCRIPTION_BOOK_ADDITIONAL_RECIPES</a></div><div class="ttdeci">@ DESCRIPTION_BOOK_ADDITIONAL_RECIPES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaa117c0693a41ee090d6ac75ce6161336"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa117c0693a41ee090d6ac75ce6161336">iteminfo_parts::BOOK_REQUIREMENTS_INT</a></div><div class="ttdeci">@ BOOK_REQUIREMENTS_INT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaa7f05cead12d1622791c76d94c3b999a"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa7f05cead12d1622791c76d94c3b999a">iteminfo_parts::DESCRIPTION_BOOK_RECIPES</a></div><div class="ttdeci">@ DESCRIPTION_BOOK_RECIPES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaeafa6693cfe4c71733292bbdd1611086"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaeafa6693cfe4c71733292bbdd1611086">iteminfo_parts::BOOK_SUMMARY</a></div><div class="ttdeci">@ BOOK_SUMMARY</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaef2292520530e690d802d8d4e663a9ca"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef2292520530e690d802d8d4e663a9ca">iteminfo_parts::BOOK_UNREAD</a></div><div class="ttdeci">@ BOOK_UNREAD</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaf103bc771e0fce64d83d75d1e7dc067a"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf103bc771e0fce64d83d75d1e7dc067a">iteminfo_parts::BOOK_SKILLRANGE_MIN</a></div><div class="ttdeci">@ BOOK_SKILLRANGE_MIN</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaff1ab3ea7bb7737d5b002849ad4bfb3a"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaff1ab3ea7bb7737d5b002849ad4bfb3a">iteminfo_parts::BOOK_TIMEPERCHAPTER</a></div><div class="ttdeci">@ BOOK_TIMEPERCHAPTER</div></div>
<div class="ttc" id="amartialarts_8cpp_html_abbde71d679db0bf89e89279e18183337"><div class="ttname"><a href="martialarts_8cpp.html#abbde71d679db0bf89e89279e18183337">martialart_difficulty</a></div><div class="ttdeci">std::string martialart_difficulty(const matype_id &amp;mstyle)</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l00414">martialarts.cpp:414</a></div></div>
<div class="ttc" id="amartialarts_8cpp_html_ad99254fef8817d713c1577c9f7021eb0"><div class="ttname"><a href="martialarts_8cpp.html#ad99254fef8817d713c1577c9f7021eb0">martial_art_learned_from</a></div><div class="ttdeci">matype_id martial_art_learned_from(const itype &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l00055">martialarts.cpp:55</a></div></div>
<div class="ttc" id="astructislot__book_1_1recipe__with__description__t_html"><div class="ttname"><a href="structislot__book_1_1recipe__with__description__t.html">islot_book::recipe_with_description_t</a></div><div class="ttdoc">What recipes can be learned from this book.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00359">itype.h:359</a></div></div>
<div class="ttc" id="astructislot__book_1_1recipe__with__description__t_html_a1f8020827cd1fcd2949d12adb7e60d8f"><div class="ttname"><a href="structislot__book_1_1recipe__with__description__t.html#a1f8020827cd1fcd2949d12adb7e60d8f">islot_book::recipe_with_description_t::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">The name for the recipe as it appears in the book.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00371">itype.h:371</a></div></div>
<div class="ttc" id="astructislot__book_1_1recipe__with__description__t_html_a281ac0918950f3547a56cb9e218ffe9e"><div class="ttname"><a href="structislot__book_1_1recipe__with__description__t.html#a281ac0918950f3547a56cb9e218ffe9e">islot_book::recipe_with_description_t::skill_level</a></div><div class="ttdeci">int skill_level</div><div class="ttdoc">The skill level required to learn the recipe.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00367">itype.h:367</a></div></div>
<div class="ttc" id="astructislot__book_1_1recipe__with__description__t_html_a81128db90cd0174d3500d4cb1bbf002e"><div class="ttname"><a href="structislot__book_1_1recipe__with__description__t.html#a81128db90cd0174d3500d4cb1bbf002e">islot_book::recipe_with_description_t::recipe</a></div><div class="ttdeci">const class recipe * recipe</div><div class="ttdoc">The recipe that can be learned (never null).</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00363">itype.h:363</a></div></div>
<div class="ttc" id="astructislot__book_1_1recipe__with__description__t_html_ab1754e8717fef2508852ad9cf8576bff"><div class="ttname"><a href="structislot__book_1_1recipe__with__description__t.html#ab1754e8717fef2508852ad9cf8576bff">islot_book::recipe_with_description_t::is_hidden</a></div><div class="ttdeci">bool is_hidden() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00379">itype.h:379</a></div></div>
<div class="ttc" id="astructislot__book_html"><div class="ttname"><a href="structislot__book.html">islot_book</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00322">itype.h:322</a></div></div>
<div class="ttc" id="astructislot__book_html_a6eca476a412d945669fcb56e20d8ef97"><div class="ttname"><a href="structislot__book.html#a6eca476a412d945669fcb56e20d8ef97">islot_book::level</a></div><div class="ttdeci">int level</div><div class="ttdoc">The skill level the book provides.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00334">itype.h:334</a></div></div>
<div class="ttc" id="astructislot__book_html_a817f742eeee09070453b5f2d78d803be"><div class="ttname"><a href="structislot__book.html#a817f742eeee09070453b5f2d78d803be">islot_book::intel</a></div><div class="ttdeci">int intel</div><div class="ttdoc">Intelligence required to read it.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00346">itype.h:346</a></div></div>
<div class="ttc" id="astructislot__book_html_a86a3ae176a78c1eae14e7bebc74c2457"><div class="ttname"><a href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">islot_book::skill</a></div><div class="ttdeci">skill_id skill</div><div class="ttdoc">Which skill it upgrades, if any.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00326">itype.h:326</a></div></div>
<div class="ttc" id="astructislot__book_html_a899cf37dd220cfce62e17e9f072ca9c5"><div class="ttname"><a href="structislot__book.html#a899cf37dd220cfce62e17e9f072ca9c5">islot_book::req</a></div><div class="ttdeci">int req</div><div class="ttdoc">The skill level required to understand it.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00338">itype.h:338</a></div></div>
<div class="ttc" id="astructislot__book_html_ae240630817ce9b3cee66b3e0d8d40e97"><div class="ttname"><a href="structislot__book.html#ae240630817ce9b3cee66b3e0d8d40e97">islot_book::recipes</a></div><div class="ttdeci">recipe_list_t recipes</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00384">itype.h:384</a></div></div>
<div class="ttc" id="astructislot__book_html_af38ad1046aa05d970b16bf2c78f884d5"><div class="ttname"><a href="structislot__book.html#af38ad1046aa05d970b16bf2c78f884d5">islot_book::time</a></div><div class="ttdeci">int time</div><div class="ttdoc">How long in minutes it takes to read.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00351">itype.h:351</a></div></div>
<div class="ttc" id="astructislot__book_html_aff68466212e42b423a136b0da1a59b38"><div class="ttname"><a href="structislot__book.html#aff68466212e42b423a136b0da1a59b38">islot_book::chapters</a></div><div class="ttdeci">int chapters</div><div class="ttdoc">Fun books have chapters; after all are read, the book is less fun.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00355">itype.h:355</a></div></div>
<div class="ttc" id="astructiteminfo_html_a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5"><div class="ttname"><a href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a></div><div class="ttdeci">@ show_plus</div><div class="ttdoc">Use a + sign for positive values.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00147">item.h:147</a></div></div>
<div class="ttc" id="astructitype_html_aec04d23e907e3ea3cd9cfb08369dffcd"><div class="ttname"><a href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">itype::book</a></div><div class="ttdeci">cata::value_ptr&lt; islot_book &gt; book</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00852">itype.h:852</a></div></div>
<div class="ttc" id="astructitype_html_afa43bb71000c037c9918d907fdacf0b5"><div class="ttname"><a href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">itype::use_methods</a></div><div class="ttdeci">std::map&lt; std::string, use_function &gt; use_methods</div><div class="ttdoc">Actions an instance can perform (if any) indexed by action type.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00925">itype.h:925</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="itype_8h_source.html#l00852">itype::book</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa541e7d1cc18ad35c3563ac800dc15668">BOOK_MORALECHANGE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0cd39031ef43b5e6b5d67f56169c9fce">BOOK_NUMUNREADCHAPTERS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6d6682e5ed91cf2005ab30b15a8ae399">BOOK_REQUIREMENTS_BEGINNER</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa117c0693a41ee090d6ac75ce6161336">BOOK_REQUIREMENTS_INT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa73c3939619313f4363334c32da31b09d">BOOK_SKILLRANGE_MAX</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf103bc771e0fce64d83d75d1e7dc067a">BOOK_SKILLRANGE_MIN</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaeafa6693cfe4c71733292bbdd1611086">BOOK_SUMMARY</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaff1ab3ea7bb7737d5b002849ad4bfb3a">BOOK_TIMEPERCHAPTER</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef2292520530e690d802d8d4e663a9ca">BOOK_UNREAD</a>, <a class="el" href="skill_8cpp_source.html#l00298">SkillLevel::can_train()</a>, <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, <a class="el" href="itype_8h_source.html#l00355">islot_book::chapters</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa934647d484c8702f12e803d76213775c">DESCRIPTION_BOOK_ADDITIONAL_RECIPES</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa7f05cead12d1622791c76d94c3b999a">DESCRIPTION_BOOK_RECIPES</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l06936">get_remaining_chapters()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="itype_8h_source.html#l00346">islot_book::intel</a>, <a class="el" href="item_8cpp_source.html#l06559">is_book()</a>, <a class="el" href="itype_8h_source.html#l00379">islot_book::recipe_with_description_t::is_hidden()</a>, <a class="el" href="itype_8h_source.html#l00334">islot_book::level</a>, <a class="el" href="skill_8h_source.html#l00125">SkillLevel::level()</a>, <a class="el" href="item_8h_source.html#l00145">iteminfo::lower_is_better</a>, <a class="el" href="martialarts_8cpp_source.html#l00055">martial_art_learned_from()</a>, <a class="el" href="martialarts_8cpp_source.html#l00414">martialart_difficulty()</a>, <a class="el" href="itype_8h_source.html#l00371">islot_book::recipe_with_description_t::name</a>, <a class="el" href="martialarts_8h_source.html#l00245">martialart::name</a>, <a class="el" href="skill_8h_source.html#l00068">Skill::name()</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, <a class="el" href="item_8h_source.html#l00141">iteminfo::no_flags</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="martialarts_8h_source.html#l00249">martialart::primary_skill</a>, <a class="el" href="itype_8h_source.html#l00363">islot_book::recipe_with_description_t::recipe</a>, <a class="el" href="itype_8h_source.html#l00384">islot_book::recipes</a>, <a class="el" href="itype_8h_source.html#l00338">islot_book::req</a>, <a class="el" href="recipe_8cpp_source.html#l00579">recipe::result_name()</a>, <a class="el" href="item_8h_source.html#l00147">iteminfo::show_plus</a>, <a class="el" href="itype_8h_source.html#l00326">islot_book::skill</a>, <a class="el" href="itype_8h_source.html#l00367">islot_book::recipe_with_description_t::skill_level</a>, <a class="el" href="recipe_8h_source.html#l00107">recipe::skill_used</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="itype_8h_source.html#l00351">islot_book::time</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, <a class="el" href="itype_8h_source.html#l00925">itype::use_methods</a>, and <a class="el" href="translations_8cpp_source.html#l00036">vgettext()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a099ea278b365213e371a3c125b7d8342" name="a099ea278b365213e371a3c125b7d8342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a099ea278b365213e371a3c125b7d8342">&#9670;&nbsp;</a></span>brewing_results()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt; &amp; item::brewing_results </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The results of fermenting this item. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05801">5801</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05802" name="l05802"></a><span class="lineno"> 5802</span>{</div>
<div class="line"><a id="l05803" name="l05803"></a><span class="lineno"> 5803</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;itype_id&gt; nulresult{};</div>
<div class="line"><a id="l05804" name="l05804"></a><span class="lineno"> 5804</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a9781b39e9c1a98383f202db9935b6a23">is_brewable</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aceefd307b3bf001fbbcb5fde7bbcdd88">brewable</a>-&gt;results : nulresult;</div>
<div class="line"><a id="l05805" name="l05805"></a><span class="lineno"> 5805</span>}</div>
<div class="ttc" id="aclassitem_html_a9781b39e9c1a98383f202db9935b6a23"><div class="ttname"><a href="classitem.html#a9781b39e9c1a98383f202db9935b6a23">item::is_brewable</a></div><div class="ttdeci">bool is_brewable() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06453">item.cpp:6453</a></div></div>
<div class="ttc" id="astructitype_html_aceefd307b3bf001fbbcb5fde7bbcdd88"><div class="ttname"><a href="structitype.html#aceefd307b3bf001fbbcb5fde7bbcdd88">itype::brewable</a></div><div class="ttdeci">cata::value_ptr&lt; islot_brewable &gt; brewable</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00849">itype.h:849</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00849">itype::brewable</a>, <a class="el" href="item_8cpp_source.html#l06453">is_brewable()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, and <a class="el" href="iexamine_8cpp_source.html#l03078">iexamine::fvat_full()</a>.</p>

</div>
</div>
<a id="a1c4782661219fccd444ab8d91ec04d58" name="a1c4782661219fccd444ab8d91ec04d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c4782661219fccd444ab8d91ec04d58">&#9670;&nbsp;</a></span>brewing_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> item::brewing_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time for this item to be fully fermented. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05796">5796</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05797" name="l05797"></a><span class="lineno"> 5797</span>{</div>
<div class="line"><a id="l05798" name="l05798"></a><span class="lineno"> 5798</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a9781b39e9c1a98383f202db9935b6a23">is_brewable</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aceefd307b3bf001fbbcb5fde7bbcdd88">brewable</a>-&gt;time : 0_turns;</div>
<div class="line"><a id="l05799" name="l05799"></a><span class="lineno"> 5799</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00849">itype::brewable</a>, <a class="el" href="item_8cpp_source.html#l06453">is_brewable()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, and <a class="el" href="iexamine_8cpp_source.html#l03078">iexamine::fvat_full()</a>.</p>

</div>
</div>
<a id="ac6e793a2b6ba3b3c91e1d10962c25a51" name="ac6e793a2b6ba3b3c91e1d10962c25a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6e793a2b6ba3b3c91e1d10962c25a51">&#9670;&nbsp;</a></span>bullet_resist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::bullet_resist </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_self</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05948">5948</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05949" name="l05949"></a><span class="lineno"> 5949</span>{</div>
<div class="line"><a id="l05950" name="l05950"></a><span class="lineno"> 5950</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l05951" name="l05951"></a><span class="lineno"> 5951</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05952" name="l05952"></a><span class="lineno"> 5952</span>    }</div>
<div class="line"><a id="l05953" name="l05953"></a><span class="lineno"> 5953</span> </div>
<div class="line"><a id="l05954" name="l05954"></a><span class="lineno"> 5954</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> base_thickness = <a class="code hl_function" href="classitem.html#a3f86c0174d8c700cc3308860c8513798">get_thickness</a>();</div>
<div class="line"><a id="l05955" name="l05955"></a><span class="lineno"> 5955</span>    <span class="keywordtype">float</span> resist = 0;</div>
<div class="line"><a id="l05956" name="l05956"></a><span class="lineno"> 5956</span>    <span class="keywordtype">float</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = <a class="code hl_function" href="classitem.html#a487b1c2d4c6e05794c446b231f39d6e8">get_clothing_mod_val</a>( <a class="code hl_enumvalue" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152a048d839f9586dc3494cec345d96cf53e">clothing_mod_type_bullet</a> );</div>
<div class="line"><a id="l05957" name="l05957"></a><span class="lineno"> 5957</span>    <span class="keywordtype">int</span> eff_thickness = 1;</div>
<div class="line"><a id="l05958" name="l05958"></a><span class="lineno"> 5958</span> </div>
<div class="line"><a id="l05959" name="l05959"></a><span class="lineno"> 5959</span>    <span class="comment">// base resistance</span></div>
<div class="line"><a id="l05960" name="l05960"></a><span class="lineno"> 5960</span>    <span class="comment">// Don&#39;t give reinforced items +armor, just more resistance to ripping</span></div>
<div class="line"><a id="l05961" name="l05961"></a><span class="lineno"> 5961</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> dmg = <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 );</div>
<div class="line"><a id="l05962" name="l05962"></a><span class="lineno"> 5962</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> eff_damage = to_self ? std::min( dmg, 0 ) : <a class="code hl_namespace" href="namespacestd.html">std</a>::max( dmg, 0 );</div>
<div class="line"><a id="l05963" name="l05963"></a><span class="lineno"> 5963</span>    eff_thickness = std::max( 1, base_thickness - eff_damage );</div>
<div class="line"><a id="l05964" name="l05964"></a><span class="lineno"> 5964</span> </div>
<div class="line"><a id="l05965" name="l05965"></a><span class="lineno"> 5965</span>    <span class="keyword">const</span> std::vector&lt;const material_type *&gt; mat_types = <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>();</div>
<div class="line"><a id="l05966" name="l05966"></a><span class="lineno"> 5966</span>    <span class="keywordflow">if</span>( !mat_types.empty() ) {</div>
<div class="line"><a id="l05967" name="l05967"></a><span class="lineno"> 5967</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> *mat : mat_types ) {</div>
<div class="line"><a id="l05968" name="l05968"></a><span class="lineno"> 5968</span>            resist += mat-&gt;bullet_resist();</div>
<div class="line"><a id="l05969" name="l05969"></a><span class="lineno"> 5969</span>        }</div>
<div class="line"><a id="l05970" name="l05970"></a><span class="lineno"> 5970</span>        <span class="comment">// Average based on number of materials.</span></div>
<div class="line"><a id="l05971" name="l05971"></a><span class="lineno"> 5971</span>        resist /= mat_types.size();</div>
<div class="line"><a id="l05972" name="l05972"></a><span class="lineno"> 5972</span>    }</div>
<div class="line"><a id="l05973" name="l05973"></a><span class="lineno"> 5973</span> </div>
<div class="line"><a id="l05974" name="l05974"></a><span class="lineno"> 5974</span>    <span class="keywordflow">return</span> std::lround( ( resist * eff_thickness ) + <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l05975" name="l05975"></a><span class="lineno"> 5975</span>}</div>
<div class="ttc" id="aclothing__mod_8h_html_ab129387d97c2c7f0393c210d21df0152a048d839f9586dc3494cec345d96cf53e"><div class="ttname"><a href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152a048d839f9586dc3494cec345d96cf53e">clothing_mod_type_bullet</a></div><div class="ttdeci">@ clothing_mod_type_bullet</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00021">clothing_mod.h:21</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="clothing__mod_8h_source.html#l00021">clothing_mod_type_bullet</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="item_8cpp_source.html#l09970">get_clothing_mod_val()</a>, <a class="el" href="item_8cpp_source.html#l05759">get_thickness()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, and <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l00282">armor_inventory_preset::armor_inventory_preset()</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00314">anonymous_namespace{armor_layers.cpp}::clothing_protection()</a>, <a class="el" href="item_8cpp_source.html#l06221">damage_resist()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="ab3a0a8aac3fe6347f06e4606b30e36d7" name="ab3a0a8aac3fe6347f06e4606b30e36d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3a0a8aac3fe6347f06e4606b30e36d7">&#9670;&nbsp;</a></span>burn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::burn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfire__data.html">fire_data</a> &amp;&#160;</td>
          <td class="paramname"><em>frd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Burns the item. </p>
<p >Returns true if the item was destroyed. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08122">8122</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08123" name="l08123"></a><span class="lineno"> 8123</span>{</div>
<div class="line"><a id="l08124" name="l08124"></a><span class="lineno"> 8124</span>    <span class="keywordtype">float</span> burn_added = <a class="code hl_function" href="classitem.html#a63b6654a99f9b300a313a6921d134bf2">simulate_burn</a>( frd );</div>
<div class="line"><a id="l08125" name="l08125"></a><span class="lineno"> 8125</span> </div>
<div class="line"><a id="l08126" name="l08126"></a><span class="lineno"> 8126</span>    <span class="keywordflow">if</span>( burn_added &lt;= 0 ) {</div>
<div class="line"><a id="l08127" name="l08127"></a><span class="lineno"> 8127</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08128" name="l08128"></a><span class="lineno"> 8128</span>    }</div>
<div class="line"><a id="l08129" name="l08129"></a><span class="lineno"> 8129</span> </div>
<div class="line"><a id="l08130" name="l08130"></a><span class="lineno"> 8130</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l08131" name="l08131"></a><span class="lineno"> 8131</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> == 0_ml ) {</div>
<div class="line"><a id="l08132" name="l08132"></a><span class="lineno"> 8132</span>            <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 0;</div>
<div class="line"><a id="l08133" name="l08133"></a><span class="lineno"> 8133</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08134" name="l08134"></a><span class="lineno"> 8134</span>            <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( burn_added * <a class="code hl_variable" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a> * <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> /</div>
<div class="line"><a id="l08135" name="l08135"></a><span class="lineno"> 8135</span>                                       ( 3.0 * <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> ) );</div>
<div class="line"><a id="l08136" name="l08136"></a><span class="lineno"> 8136</span>        }</div>
<div class="line"><a id="l08137" name="l08137"></a><span class="lineno"> 8137</span> </div>
<div class="line"><a id="l08138" name="l08138"></a><span class="lineno"> 8138</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt;= 0;</div>
<div class="line"><a id="l08139" name="l08139"></a><span class="lineno"> 8139</span>    }</div>
<div class="line"><a id="l08140" name="l08140"></a><span class="lineno"> 8140</span> </div>
<div class="line"><a id="l08141" name="l08141"></a><span class="lineno"> 8141</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a id="l08142" name="l08142"></a><span class="lineno"> 8142</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structmtype.html">mtype</a> *mt = <a class="code hl_function" href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">get_mtype</a>();</div>
<div class="line"><a id="l08143" name="l08143"></a><span class="lineno"> 8143</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> &amp;&amp; mt != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> + burn_added &gt; mt-&gt;<a class="code hl_variable" href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">hp</a> &amp;&amp;</div>
<div class="line"><a id="l08144" name="l08144"></a><span class="lineno"> 8144</span>            !mt-&gt;<a class="code hl_variable" href="structmtype.html#a09b3dab7e8a40d991242870bf1bf160e">burn_into</a>.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() &amp;&amp; mt-&gt;<a class="code hl_variable" href="structmtype.html#a09b3dab7e8a40d991242870bf1bf160e">burn_into</a>.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l08145" name="l08145"></a><span class="lineno"> 8145</span>            <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> = &amp;<a class="code hl_function" href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">get_mtype</a>()-&gt;<a class="code hl_variable" href="structmtype.html#a09b3dab7e8a40d991242870bf1bf160e">burn_into</a>.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l08146" name="l08146"></a><span class="lineno"> 8146</span>            <span class="comment">// Delay rezing</span></div>
<div class="line"><a id="l08147" name="l08147"></a><span class="lineno"> 8147</span>            <a class="code hl_function" href="classitem.html#ab55a5629e6fe769a7ac314c02d25ecef">set_age</a>( 0_turns );</div>
<div class="line"><a id="l08148" name="l08148"></a><span class="lineno"> 8148</span>            <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> = 0;</div>
<div class="line"><a id="l08149" name="l08149"></a><span class="lineno"> 8149</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08150" name="l08150"></a><span class="lineno"> 8150</span>        }</div>
<div class="line"><a id="l08151" name="l08151"></a><span class="lineno"> 8151</span>    }</div>
<div class="line"><a id="l08152" name="l08152"></a><span class="lineno"> 8152</span> </div>
<div class="line"><a id="l08153" name="l08153"></a><span class="lineno"> 8153</span>    <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> += <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( burn_added );</div>
<div class="line"><a id="l08154" name="l08154"></a><span class="lineno"> 8154</span> </div>
<div class="line"><a id="l08155" name="l08155"></a><span class="lineno"> 8155</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> vol = <a class="code hl_function" href="classitem.html#a1d9c8bbf0bc8223ce3bde8876e99ec8e">base_volume</a>() / <a class="code hl_variable" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a>;</div>
<div class="line"><a id="l08156" name="l08156"></a><span class="lineno"> 8156</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> &gt;= vol * 3;</div>
<div class="line"><a id="l08157" name="l08157"></a><span class="lineno"> 8157</span>}</div>
<div class="ttc" id="aclassitem_html_a1d9c8bbf0bc8223ce3bde8876e99ec8e"><div class="ttname"><a href="classitem.html#a1d9c8bbf0bc8223ce3bde8876e99ec8e">item::base_volume</a></div><div class="ttdeci">units::volume base_volume() const</div><div class="ttdoc">Simplified, faster volume check for when processing time is important and exact volume is not.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04963">item.cpp:4963</a></div></div>
<div class="ttc" id="aclassitem_html_a63b6654a99f9b300a313a6921d134bf2"><div class="ttname"><a href="classitem.html#a63b6654a99f9b300a313a6921d134bf2">item::simulate_burn</a></div><div class="ttdeci">float simulate_burn(fire_data &amp;frd) const</div><div class="ttdoc">Calculate all burning calculations, but don't actually apply them to item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08069">item.cpp:8069</a></div></div>
<div class="ttc" id="aclassitem_html_a66ba4b05a8ea5f9f15e4694027235aae"><div class="ttname"><a href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">item::get_mtype</a></div><div class="ttdeci">const mtype * get_mtype() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06475">item.cpp:6475</a></div></div>
<div class="ttc" id="aclassitem_html_ab55a5629e6fe769a7ac314c02d25ecef"><div class="ttname"><a href="classitem.html#ab55a5629e6fe769a7ac314c02d25ecef">item::set_age</a></div><div class="ttdeci">void set_age(const time_duration &amp;age)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09837">item.cpp:9837</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00065">achievement.cpp:65</a></div></div>
<div class="ttc" id="anamespaceunits_html_a58e7d31fbaa28a1dd45fb598f8d1fba9"><div class="ttname"><a href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a></div><div class="ttdeci">static constexpr volume legacy_volume_factor</div><div class="ttdef"><b>Definition:</b> <a href="units__volume_8h_source.html#l00050">units_volume.h:50</a></div></div>
<div class="ttc" id="arng_8cpp_html_acd19ae79e3590a99c9eaf0389318b686"><div class="ttname"><a href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a></div><div class="ttdeci">int roll_remainder(double value)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00096">rng.cpp:96</a></div></div>
<div class="ttc" id="astructmtype_html"><div class="ttname"><a href="structmtype.html">mtype</a></div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00208">mtype.h:208</a></div></div>
<div class="ttc" id="astructmtype_html_a09b3dab7e8a40d991242870bf1bf160e"><div class="ttname"><a href="structmtype.html#a09b3dab7e8a40d991242870bf1bf160e">mtype::burn_into</a></div><div class="ttdeci">mtype_id burn_into</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00328">mtype.h:328</a></div></div>
<div class="ttc" id="astructmtype_html_af242ac55ae2896b040f91b3581e5fcbb"><div class="ttname"><a href="structmtype.html#af242ac55ae2896b040f91b3581e5fcbb">mtype::hp</a></div><div class="ttdeci">int hp</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00267">mtype.h:267</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="mtype_8h_source.html#l00328">mtype::burn_into</a>, <a class="el" href="item_8h_source.html#l02199">burnt</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8cpp_source.html#l06475">get_mtype()</a>, <a class="el" href="mtype_8h_source.html#l00267">mtype::hp</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="achievement_8cpp_source.html#l00065">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="units__volume_8h_source.html#l00050">units::legacy_volume_factor</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="rng_8cpp_source.html#l00096">roll_remainder()</a>, <a class="el" href="item_8cpp_source.html#l09837">set_age()</a>, <a class="el" href="item_8cpp_source.html#l08069">simulate_burn()</a>, <a class="el" href="itype_8h_source.html#l00982">itype::stack_size</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="itype_8h_source.html#l00974">itype::volume</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08130">Character::absorb_hit()</a>.</p>

</div>
</div>
<a id="afda2c1e0168f83e8701d16bec5d1604f" name="afda2c1e0168f83e8701d16bec5d1604f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afda2c1e0168f83e8701d16bec5d1604f">&#9670;&nbsp;</a></span>calc_rot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::calc_rot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtime__point.html">time_point</a>&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>temp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate rot of the item since last rot calculation. </p>
<p >This function should not be called directly. since it does not have all the needed checks or temperature calculations. If you need to calc rot of item call process_rot instead. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>Time point to which rot is calculated </td></tr>
    <tr><td class="paramname">temp</td><td>Temperature at which the rot is calculated </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05540">5540</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05541" name="l05541"></a><span class="lineno"> 5541</span>{</div>
<div class="line"><a id="l05542" name="l05542"></a><span class="lineno"> 5542</span>    <span class="comment">// Avoid needlessly calculating already rotten things.  Corpses should</span></div>
<div class="line"><a id="l05543" name="l05543"></a><span class="lineno"> 5543</span>    <span class="comment">// always rot away and food rots away at twice the shelf life.  If the food</span></div>
<div class="line"><a id="l05544" name="l05544"></a><span class="lineno"> 5544</span>    <span class="comment">// is in a sealed container they won&#39;t rot away, this avoids needlessly</span></div>
<div class="line"><a id="l05545" name="l05545"></a><span class="lineno"> 5545</span>    <span class="comment">// calculating their rot in that case.</span></div>
<div class="line"><a id="l05546" name="l05546"></a><span class="lineno"> 5546</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>() &gt; 2.0 ) {</div>
<div class="line"><a id="l05547" name="l05547"></a><span class="lineno"> 5547</span>        <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> = time;</div>
<div class="line"><a id="l05548" name="l05548"></a><span class="lineno"> 5548</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05549" name="l05549"></a><span class="lineno"> 5549</span>    }</div>
<div class="line"><a id="l05550" name="l05550"></a><span class="lineno"> 5550</span> </div>
<div class="line"><a id="l05551" name="l05551"></a><span class="lineno"> 5551</span>    <span class="comment">// rot modifier</span></div>
<div class="line"><a id="l05552" name="l05552"></a><span class="lineno"> 5552</span>    <span class="keywordtype">float</span> factor = 1.0;</div>
<div class="line"><a id="l05553" name="l05553"></a><span class="lineno"> 5553</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS</a> ) ) {</div>
<div class="line"><a id="l05554" name="l05554"></a><span class="lineno"> 5554</span>        factor = 0.75;</div>
<div class="line"><a id="l05555" name="l05555"></a><span class="lineno"> 5555</span>    }</div>
<div class="line"><a id="l05556" name="l05556"></a><span class="lineno"> 5556</span> </div>
<div class="line"><a id="l05557" name="l05557"></a><span class="lineno"> 5557</span>    <span class="comment">// simulation of different age of food at the start of the game and good/bad storage</span></div>
<div class="line"><a id="l05558" name="l05558"></a><span class="lineno"> 5558</span>    <span class="comment">// conditions by applying starting variation bonus/penalty of +/- 20% of base shelf-life</span></div>
<div class="line"><a id="l05559" name="l05559"></a><span class="lineno"> 5559</span>    <span class="comment">// positive = food was produced some time before calendar::start and/or bad storage</span></div>
<div class="line"><a id="l05560" name="l05560"></a><span class="lineno"> 5560</span>    <span class="comment">// negative = food was stored in good conditions before calendar::start</span></div>
<div class="line"><a id="l05561" name="l05561"></a><span class="lineno"> 5561</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> &lt;= <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a> ) {</div>
<div class="line"><a id="l05562" name="l05562"></a><span class="lineno"> 5562</span>        <a class="code hl_class" href="classtime__duration.html">time_duration</a> spoil_variation = <a class="code hl_function" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a>() * 0.2f;</div>
<div class="line"><a id="l05563" name="l05563"></a><span class="lineno"> 5563</span>        <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> += <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -spoil_variation, spoil_variation );</div>
<div class="line"><a id="l05564" name="l05564"></a><span class="lineno"> 5564</span>    }</div>
<div class="line"><a id="l05565" name="l05565"></a><span class="lineno"> 5565</span> </div>
<div class="line"><a id="l05566" name="l05566"></a><span class="lineno"> 5566</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> time_delta = time - <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a>;</div>
<div class="line"><a id="l05567" name="l05567"></a><span class="lineno"> 5567</span>    <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> += factor * time_delta / 1_hours * <a class="code hl_function" href="item_8cpp.html#ad77555a9fa3da8deb7eb91abfb19d8a7">get_hourly_rotpoints_at_temp</a>( temp ) * 1_turns;</div>
<div class="line"><a id="l05568" name="l05568"></a><span class="lineno"> 5568</span>    <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> = time;</div>
<div class="line"><a id="l05569" name="l05569"></a><span class="lineno"> 5569</span>}</div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="aitem_8cpp_html_ab575d269485a5dcacd4e76fe19d02e2c"><div class="ttname"><a href="item_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS</a></div><div class="ttdeci">static const std::string flag_FIELD_DRESS(&quot;FIELD_DRESS&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ad77555a9fa3da8deb7eb91abfb19d8a7"><div class="ttname"><a href="item_8cpp.html#ad77555a9fa3da8deb7eb91abfb19d8a7">get_hourly_rotpoints_at_temp</a></div><div class="ttdeci">int get_hourly_rotpoints_at_temp(const int temp)</div><div class="ttdoc">Get the hourly rot for a given temperature from the precomputed table.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05524">item.cpp:5524</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS()</a>, <a class="el" href="item_8cpp_source.html#l05524">get_hourly_rotpoints_at_temp()</a>, <a class="el" href="item_8cpp_source.html#l05420">get_relative_rot()</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8h_source.html#l02221">last_rot_check</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8h_source.html#l02219">rot</a>, and <a class="el" href="calendar_8cpp_source.html#l00033">calendar::start_of_cataclysm</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08788">process_rot()</a>.</p>

</div>
</div>
<a id="a99e821ffbf8bdda7759ac92aff06c910" name="a99e821ffbf8bdda7759ac92aff06c910"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99e821ffbf8bdda7759ac92aff06c910">&#9670;&nbsp;</a></span>calc_rot_while_processing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::calc_rot_while_processing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>processing_duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is part of a workaround so that items don't rot away to nothing if the smoking rack is outside the reality bubble. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">processing_duration</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05571">5571</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05572" name="l05572"></a><span class="lineno"> 5572</span>{</div>
<div class="line"><a id="l05573" name="l05573"></a><span class="lineno"> 5573</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a>( <span class="stringliteral">&quot;PROCESSING&quot;</span> ) ) {</div>
<div class="line"><a id="l05574" name="l05574"></a><span class="lineno"> 5574</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;calc_rot_while_processing called on non smoking item: %s&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05575" name="l05575"></a><span class="lineno"> 5575</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05576" name="l05576"></a><span class="lineno"> 5576</span>    }</div>
<div class="line"><a id="l05577" name="l05577"></a><span class="lineno"> 5577</span> </div>
<div class="line"><a id="l05578" name="l05578"></a><span class="lineno"> 5578</span>    <span class="comment">// Apply no rot while smoking</span></div>
<div class="line"><a id="l05579" name="l05579"></a><span class="lineno"> 5579</span>    <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> += processing_duration;</div>
<div class="line"><a id="l05580" name="l05580"></a><span class="lineno"> 5580</span>}</div>
<div class="ttc" id="aclassitem_html_acc31d53fc90c5d0af806946d51c45b0f"><div class="ttname"><a href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">item::has_own_flag</a></div><div class="ttdeci">bool has_own_flag(const std::string &amp;flag) const</div><div class="ttdoc">Checks whether item itself has given flag (doesn't check item type or gunmods).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05187">item.cpp:5187</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l05187">has_own_flag()</a>, <a class="el" href="item_8h_source.html#l02221">last_rot_check</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="af731711530a7d869e07bfb9cb4f380d8" name="af731711530a7d869e07bfb9cb4f380d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af731711530a7d869e07bfb9cb4f380d8">&#9670;&nbsp;</a></span>can_contain() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::can_contain </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can this item have given item/itype as content? </p>
<p >For example, airtight for gas, acidproof for acid etc. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06869">6869</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06870" name="l06870"></a><span class="lineno"> 6870</span>{</div>
<div class="line"><a id="l06871" name="l06871"></a><span class="lineno"> 6871</span>    <span class="comment">// TODO: Volume check</span></div>
<div class="line"><a id="l06872" name="l06872"></a><span class="lineno"> 6872</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af731711530a7d869e07bfb9cb4f380d8">can_contain</a>( *it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l06873" name="l06873"></a><span class="lineno"> 6873</span>}</div>
<div class="ttc" id="aclassitem_html_af731711530a7d869e07bfb9cb4f380d8"><div class="ttname"><a href="classitem.html#af731711530a7d869e07bfb9cb4f380d8">item::can_contain</a></div><div class="ttdeci">bool can_contain(const item &amp;it) const</div><div class="ttdoc">Can this item have given item/itype as content?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06869">item.cpp:6869</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06869">can_contain()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06869">can_contain()</a>.</p>

</div>
</div>
<a id="a754699dc5d14f040334c5e442914c024" name="a754699dc5d14f040334c5e442914c024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a754699dc5d14f040334c5e442914c024">&#9670;&nbsp;</a></span>can_contain() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::can_contain </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structitype.html">itype</a> &amp;&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06875">6875</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06876" name="l06876"></a><span class="lineno"> 6876</span>{</div>
<div class="line"><a id="l06877" name="l06877"></a><span class="lineno"> 6877</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> ) {</div>
<div class="line"><a id="l06878" name="l06878"></a><span class="lineno"> 6878</span>        <span class="comment">// TODO: Tools etc.</span></div>
<div class="line"><a id="l06879" name="l06879"></a><span class="lineno"> 6879</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06880" name="l06880"></a><span class="lineno"> 6880</span>    }</div>
<div class="line"><a id="l06881" name="l06881"></a><span class="lineno"> 6881</span> </div>
<div class="line"><a id="l06882" name="l06882"></a><span class="lineno"> 6882</span>    <span class="keywordflow">if</span>( tp.<a class="code hl_variable" href="structitype.html#a3d7692cff108d3b8c59ca0847d25a45c">phase</a> == <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> &amp;&amp; !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;watertight ) {</div>
<div class="line"><a id="l06883" name="l06883"></a><span class="lineno"> 6883</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06884" name="l06884"></a><span class="lineno"> 6884</span>    }</div>
<div class="line"><a id="l06885" name="l06885"></a><span class="lineno"> 6885</span> </div>
<div class="line"><a id="l06886" name="l06886"></a><span class="lineno"> 6886</span>    <span class="comment">// TODO: Acid in waterskins</span></div>
<div class="line"><a id="l06887" name="l06887"></a><span class="lineno"> 6887</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06888" name="l06888"></a><span class="lineno"> 6888</span>}</div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a></div><div class="ttdeci">@ LIQUID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="astructitype_html_a3d7692cff108d3b8c59ca0847d25a45c"><div class="ttname"><a href="structitype.html#a3d7692cff108d3b8c59ca0847d25a45c">itype::phase</a></div><div class="ttdeci">phase_id phase</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00942">itype.h:942</a></div></div>
<div class="ttc" id="astructitype_html_a4f35cdb60eb6c86a05235a2c31701595"><div class="ttname"><a href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">itype::container</a></div><div class="ttdeci">cata::value_ptr&lt; islot_container &gt; container</div><div class="ttdoc">Slots for various item type properties.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00846">itype.h:846</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="itype_8h_source.html#l00942">itype::phase</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a76165a9e0121b48e5df59d0fcabc1728" name="a76165a9e0121b48e5df59d0fcabc1728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76165a9e0121b48e5df59d0fcabc1728">&#9670;&nbsp;</a></span>can_holster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::can_holster </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if item is a holster and currently capable of storing obj. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>object that we want to holster </td></tr>
    <tr><td class="paramname">ignore</td><td>only check item is compatible and ignore any existing contents </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08714">8714</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08715" name="l08715"></a><span class="lineno"> 8715</span>{</div>
<div class="line"><a id="l08716" name="l08716"></a><span class="lineno"> 8716</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;holster&quot;</span> ) ) {</div>
<div class="line"><a id="l08717" name="l08717"></a><span class="lineno"> 8717</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// item is not a holster</span></div>
<div class="line"><a id="l08718" name="l08718"></a><span class="lineno"> 8718</span>    }</div>
<div class="line"><a id="l08719" name="l08719"></a><span class="lineno"> 8719</span> </div>
<div class="line"><a id="l08720" name="l08720"></a><span class="lineno"> 8720</span>    <span class="keyword">const</span> <a class="code hl_class" href="classholster__actor.html">holster_actor</a> *<a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a> = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classholster__actor.html">holster_actor</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l08721" name="l08721"></a><span class="lineno"> 8721</span>                               ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a304367633fdfe6c63a53bdce0caced92">get_use</a>( <span class="stringliteral">&quot;holster&quot;</span> )-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() );</div>
<div class="line"><a id="l08722" name="l08722"></a><span class="lineno"> 8722</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a>-&gt;can_holster( obj ) ) {</div>
<div class="line"><a id="l08723" name="l08723"></a><span class="lineno"> 8723</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// item is not a suitable holster for obj</span></div>
<div class="line"><a id="l08724" name="l08724"></a><span class="lineno"> 8724</span>    }</div>
<div class="line"><a id="l08725" name="l08725"></a><span class="lineno"> 8725</span> </div>
<div class="line"><a id="l08726" name="l08726"></a><span class="lineno"> 8726</span>    <span class="keywordflow">if</span>( !ignore &amp;&amp; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">num_item_stacks</a>() ) &gt;= <a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a>-&gt;multi ) {</div>
<div class="line"><a id="l08727" name="l08727"></a><span class="lineno"> 8727</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// item is already full</span></div>
<div class="line"><a id="l08728" name="l08728"></a><span class="lineno"> 8728</span>    }</div>
<div class="line"><a id="l08729" name="l08729"></a><span class="lineno"> 8729</span> </div>
<div class="line"><a id="l08730" name="l08730"></a><span class="lineno"> 8730</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08731" name="l08731"></a><span class="lineno"> 8731</span>}</div>
<div class="ttc" id="aclassholster__actor_html"><div class="ttname"><a href="classholster__actor.html">holster_actor</a></div><div class="ttdoc">Holster a weapon.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00842">iuse_actor.h:843</a></div></div>
<div class="ttc" id="aclassitem__contents_html_aa744f662499b0a03029ea58389cc260a"><div class="ttname"><a href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">item_contents::num_item_stacks</a></div><div class="ttdeci">size_t num_item_stacks() const</div><div class="ttdoc">returns the number of items stacks in contents each item that is not count_by_charges,...</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00027">item_contents.cpp:27</a></div></div>
<div class="ttc" id="afmtlib__format_8h_html_a36b7e236fa4242d8655b508bbebb697f"><div class="ttname"><a href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a></div><div class="ttdeci">const void * ptr(const T *p)</div><div class="ttdoc">\rst Converts p to const void* for pointer formatting.</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l04100">fmtlib_format.h:4100</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="iuse_8h_source.html#l00315">use_function::get_actor_ptr()</a>, <a class="el" href="itype_8cpp_source.html#l00091">itype::get_use()</a>, <a class="el" href="item__contents_8cpp_source.html#l00027">item_contents::num_item_stacks()</a>, <a class="el" href="fmtlib__format_8h_source.html#l04100">ptr()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="ace13716223c28fcc8d8ad3de3b0469a5" name="ace13716223c28fcc8d8ad3de3b0469a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace13716223c28fcc8d8ad3de3b0469a5">&#9670;&nbsp;</a></span>can_reload_with()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::can_reload_with </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>ammo</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if this item can be reloaded with specified ammo type, ignoring currently loaded ammo. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06711">6711</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06712" name="l06712"></a><span class="lineno"> 6712</span>{</div>
<div class="line"><a id="l06713" name="l06713"></a><span class="lineno"> 6713</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a3ebc64c776aa69b9bf3f64c605cc6a26">is_reloadable_helper</a>( ammo, <span class="keyword">false</span> );</div>
<div class="line"><a id="l06714" name="l06714"></a><span class="lineno"> 6714</span>}</div>
<div class="ttc" id="aclassitem_html_a3ebc64c776aa69b9bf3f64c605cc6a26"><div class="ttname"><a href="classitem.html#a3ebc64c776aa69b9bf3f64c605cc6a26">item::is_reloadable_helper</a></div><div class="ttdeci">bool is_reloadable_helper(const itype_id &amp;ammo, bool now) const</div><div class="ttdoc">Helper for checking reloadability.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06721">item.cpp:6721</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l08812">favorite_ammo_or_select()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l00251">aim_activity_actor::load_RAS_weapon()</a>.</p>

</div>
</div>
<a id="ab000493eba0ddea5a6d0e4e9587a5f83" name="ab000493eba0ddea5a6d0e4e9587a5f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab000493eba0ddea5a6d0e4e9587a5f83">&#9670;&nbsp;</a></span>can_revive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::can_revive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this is a corpse that can be revived. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05807">5807</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05808" name="l05808"></a><span class="lineno"> 5808</span>{</div>
<div class="line"><a id="l05809" name="l05809"></a><span class="lineno"> 5809</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_function" href="structmtype.html#a208b05355d08ec7d628606f18e2d53be">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a1c04c34bfaa481269706728c7dc951a1">MF_REVIVES</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &lt; <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() &amp;&amp;</div>
<div class="line"><a id="l05810" name="l05810"></a><span class="lineno"> 5810</span>           !( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS</a> ) || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED</a> ) ||</div>
<div class="line"><a id="l05811" name="l05811"></a><span class="lineno"> 5811</span>              <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED</a> ) ||</div>
<div class="line"><a id="l05812" name="l05812"></a><span class="lineno"> 5812</span>              <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a1d7ac4becfeaaa64b846aa3570298b85">flag_SKINNED</a> ) || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#af42e36de2b5aea5b5d10e83d61d110ee">flag_PULPED</a> ) );</div>
<div class="line"><a id="l05813" name="l05813"></a><span class="lineno"> 5813</span>}</div>
<div class="ttc" id="aclassitem_html_a216affc51dde30087c21fa5689a5c5e9"><div class="ttname"><a href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">item::max_damage</a></div><div class="ttdeci">int max_damage() const</div><div class="ttdoc">Maximum amount of damage to an item (state before destroyed)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06066">item.cpp:6066</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a1d186960bf1b2fb9a56aa74849ce870d"><div class="ttname"><a href="item_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED</a></div><div class="ttdeci">static const std::string flag_QUARTERED(&quot;QUARTERED&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a1d7ac4becfeaaa64b846aa3570298b85"><div class="ttname"><a href="item_8cpp.html#a1d7ac4becfeaaa64b846aa3570298b85">flag_SKINNED</a></div><div class="ttdeci">static const std::string flag_SKINNED(&quot;SKINNED&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa087b80a5e68f856d87edf3bee08fb2e"><div class="ttname"><a href="item_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED</a></div><div class="ttdeci">static const std::string flag_FIELD_DRESS_FAILED(&quot;FIELD_DRESS_FAILED&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_af42e36de2b5aea5b5d10e83d61d110ee"><div class="ttname"><a href="item_8cpp.html#af42e36de2b5aea5b5d10e83d61d110ee">flag_PULPED</a></div><div class="ttdeci">static const std::string flag_PULPED(&quot;PULPED&quot;)</div></div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842a1c04c34bfaa481269706728c7dc951a1"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a1c04c34bfaa481269706728c7dc951a1">MF_REVIVES</a></div><div class="ttdeci">@ MF_REVIVES</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00125">mtype.h:125</a></div></div>
<div class="ttc" id="astructmtype_html_a208b05355d08ec7d628606f18e2d53be"><div class="ttname"><a href="structmtype.html#a208b05355d08ec7d628606f18e2d53be">mtype::has_flag</a></div><div class="ttdeci">bool has_flag(m_flag flag) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00075">mtype.cpp:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="item_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS()</a>, <a class="el" href="item_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED()</a>, <a class="el" href="item_8cpp.html#af42e36de2b5aea5b5d10e83d61d110ee">flag_PULPED()</a>, <a class="el" href="item_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED()</a>, <a class="el" href="item_8cpp.html#a1d7ac4becfeaaa64b846aa3570298b85">flag_SKINNED()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00075">mtype::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>, and <a class="el" href="mtype_8h_source.html#l00125">MF_REVIVES</a>.</p>

<p class="reference">Referenced by <a class="el" href="active__item__cache_8cpp_source.html#l00030">active_item_cache::add()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="item_8cpp_source.html#l08633">has_rotten_away()</a>, <a class="el" href="item_8cpp_source.html#l05815">ready_to_revive()</a>, <a class="el" href="active__item__cache_8cpp_source.html#l00009">active_item_cache::remove()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02031">basecamp::start_relay_hide_site()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l01986">basecamp::start_setup_hide_site()</a>.</p>

</div>
</div>
<a id="a54fe4917d343209ae2fdb9b163bd967a" name="a54fe4917d343209ae2fdb9b163bd967a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54fe4917d343209ae2fdb9b163bd967a">&#9670;&nbsp;</a></span>can_unload_liquid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::can_unload_liquid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if not empty if it's liquid, it's not currently frozen in resealable container. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06700">6700</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06701" name="l06701"></a><span class="lineno"> 6701</span>{</div>
<div class="line"><a id="l06702" name="l06702"></a><span class="lineno"> 6702</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() ) {</div>
<div class="line"><a id="l06703" name="l06703"></a><span class="lineno"> 6703</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06704" name="l06704"></a><span class="lineno"> 6704</span>    }</div>
<div class="line"><a id="l06705" name="l06705"></a><span class="lineno"> 6705</span> </div>
<div class="line"><a id="l06706" name="l06706"></a><span class="lineno"> 6706</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;cts = <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l06707" name="l06707"></a><span class="lineno"> 6707</span>    <span class="keywordtype">bool</span> cts_is_frozen_liquid = cts.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) &amp;&amp; cts.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af">SOLID</a> );</div>
<div class="line"><a id="l06708" name="l06708"></a><span class="lineno"> 6708</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ab3f85f52bf0b1191bfdc2a940d95454e">is_bucket</a>() || !cts_is_frozen_liquid;</div>
<div class="line"><a id="l06709" name="l06709"></a><span class="lineno"> 6709</span>}</div>
<div class="ttc" id="aclassitem_html_a4326944ae95f4d265c8ca1c76ed89a03"><div class="ttname"><a href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">item::made_of</a></div><div class="ttdeci">const std::vector&lt; material_id &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06263">item.cpp:6263</a></div></div>
<div class="ttc" id="aclassitem_html_a5996f63ca1797fc01482678b51a87680"><div class="ttname"><a href="classitem.html#a5996f63ca1797fc01482678b51a87680">item::is_container_empty</a></div><div class="ttdeci">bool is_container_empty() const</div><div class="ttdoc">Whether this item has no contents at all.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06687">item.cpp:6687</a></div></div>
<div class="ttc" id="aclassitem_html_ab3f85f52bf0b1191bfdc2a940d95454e"><div class="ttname"><a href="classitem.html#ab3f85f52bf0b1191bfdc2a940d95454e">item::is_bucket</a></div><div class="ttdeci">bool is_bucket() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06584">item.cpp:6584</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af">SOLID</a></div><div class="ttdeci">@ SOLID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l06584">is_bucket()</a>, <a class="el" href="item_8cpp_source.html#l06687">is_container_empty()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, and <a class="el" href="enums_8h_source.html#l00175">SOLID</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>, <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, and <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>.</p>

</div>
</div>
<a id="af80e153fc97fb09df58a5be7302ae898" name="af80e153fc97fb09df58a5be7302ae898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af80e153fc97fb09df58a5be7302ae898">&#9670;&nbsp;</a></span>casings_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::casings_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many spent casings are contained within this item? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07928">7928</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07929" name="l07929"></a><span class="lineno"> 7929</span>{</div>
<div class="line"><a id="l07930" name="l07930"></a><span class="lineno"> 7930</span>    <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><a id="l07931" name="l07931"></a><span class="lineno"> 7931</span> </div>
<div class="line"><a id="l07932" name="l07932"></a><span class="lineno"> 7932</span>    <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="classitem.html">item</a> *<span class="keyword">&gt;</span>( this )-&gt;<a class="code hl_function" href="classitem.html#a9f29e8940a146016690f2776939a2980">casings_handle</a>( [&amp;res]( <a class="code hl_class" href="classitem.html">item</a> &amp; ) {</div>
<div class="line"><a id="l07933" name="l07933"></a><span class="lineno"> 7933</span>        ++res;</div>
<div class="line"><a id="l07934" name="l07934"></a><span class="lineno"> 7934</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07935" name="l07935"></a><span class="lineno"> 7935</span>    } );</div>
<div class="line"><a id="l07936" name="l07936"></a><span class="lineno"> 7936</span> </div>
<div class="line"><a id="l07937" name="l07937"></a><span class="lineno"> 7937</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07938" name="l07938"></a><span class="lineno"> 7938</span>}</div>
<div class="ttc" id="aclassitem_html_a9f29e8940a146016690f2776939a2980"><div class="ttname"><a href="classitem.html#a9f29e8940a146016690f2776939a2980">item::casings_handle</a></div><div class="ttdeci">void casings_handle(const std::function&lt; bool(item &amp;)&gt; &amp;func)</div><div class="ttdoc">Apply predicate to each contained spent casing removing it if predicate returns true.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07940">item.cpp:7940</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07940">casings_handle()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, and <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>.</p>

</div>
</div>
<a id="a9f29e8940a146016690f2776939a2980" name="a9f29e8940a146016690f2776939a2980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f29e8940a146016690f2776939a2980">&#9670;&nbsp;</a></span>casings_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::casings_handle </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; bool(<a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply predicate to each contained spent casing removing it if predicate returns true. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07940">7940</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07941" name="l07941"></a><span class="lineno"> 7941</span>{</div>
<div class="line"><a id="l07942" name="l07942"></a><span class="lineno"> 7942</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07943" name="l07943"></a><span class="lineno"> 7943</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l07944" name="l07944"></a><span class="lineno"> 7944</span>    }</div>
<div class="line"><a id="l07945" name="l07945"></a><span class="lineno"> 7945</span> </div>
<div class="line"><a id="l07946" name="l07946"></a><span class="lineno"> 7946</span>    <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aaf36bbee755b0f90c43eecefdd36fc39">casings_handle</a>( func );</div>
<div class="line"><a id="l07947" name="l07947"></a><span class="lineno"> 7947</span>}</div>
<div class="ttc" id="aclassitem__contents_html_aaf36bbee755b0f90c43eecefdd36fc39"><div class="ttname"><a href="classitem__contents.html#aaf36bbee755b0f90c43eecefdd36fc39">item_contents::casings_handle</a></div><div class="ttdeci">void casings_handle(const std::function&lt; bool(item &amp;)&gt; &amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00057">item_contents.cpp:57</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00057">item_contents::casings_handle()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, and <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07928">casings_count()</a>, <a class="el" href="player_8cpp_source.html#l03435">player::gunmod_remove()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, and <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>.</p>

</div>
</div>
<a id="abc27dc693d588feea7812432929fb5a9" name="abc27dc693d588feea7812432929fb5a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc27dc693d588feea7812432929fb5a9">&#9670;&nbsp;</a></span>charges_per_volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::charges_per_volume </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;&#160;</td>
          <td class="paramname"><em>vol</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of (charges of) this item that fit into the given volume. </p>
<p >May return 0 if not even one charge fits into the volume. Only depends on the <em>type</em> of this item not on its current charge count.</p>
<p >For items not counted by charges, this returns vol / this-&gt;<a class="el" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9" title="Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...">volume()</a>. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00861">861</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>{</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> == 0_ml ) {</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Item &#39;%s&#39; with zero volume&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a>;</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>        }</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        <span class="comment">// Type cast to prevent integer overflow with large volume containers like the cargo</span></div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>        <span class="comment">// dimension</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        <span class="keywordflow">return</span> vol * <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> ) / <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a>;</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> my_volume = <a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>();</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <span class="keywordflow">if</span>( my_volume == 0_ml ) {</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Item &#39;%s&#39; with zero volume&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a>;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        }</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>        <span class="keywordflow">return</span> vol / my_volume;</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    }</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>}</div>
<div class="ttc" id="aclassitem_html_a109dfb20d6dac296bab6c44db0f8ab1a"><div class="ttname"><a href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">item::INFINITE_CHARGES</a></div><div class="ttdeci">static const int INFINITE_CHARGES</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02154">item.h:2154</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8h_source.html#l02154">INFINITE_CHARGES</a>, <a class="el" href="itype_8h_source.html#l00982">itype::stack_size</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="itype_8h_source.html#l00974">itype::volume</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__stack_8cpp_source.html#l00107">item_stack::amount_can_fit()</a>, <a class="el" href="consumption_8cpp_source.html#l01320">Character::can_feed_furnace_with()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00302">vehicle_part::consume_energy()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="consumption_8cpp_source.html#l01338">Character::feed_furnace_with()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="consumption_8cpp_source.html#l01445">Character::get_acquirable_energy()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="item_8cpp_source.html#l00843">in_container()</a>, <a class="el" href="item__factory_8cpp_source.html#l02683">Item_factory::migrate_item()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00398">vehicle::print_fuel_indicator()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01698">advanced_inventory::query_charges()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l03206">try_fuel_fire()</a>.</p>

</div>
</div>
<a id="a9a6369a2f42a6bf0199db73bd4afc7a3" name="a9a6369a2f42a6bf0199db73bd4afc7a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a6369a2f42a6bf0199db73bd4afc7a3">&#9670;&nbsp;</a></span>chip_resistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::chip_resistance </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>worst</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns resistance to being damaged by attack against the item itself. </p>
<p >Calculated from item's materials. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worst</td><td>If this is true, the worst resistance is used. Otherwise the best one. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06042">6042</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06043" name="l06043"></a><span class="lineno"> 6043</span>{</div>
<div class="line"><a id="l06044" name="l06044"></a><span class="lineno"> 6044</span>    <span class="keywordtype">int</span> res = worst ? INT_MAX : INT_MIN;</div>
<div class="line"><a id="l06045" name="l06045"></a><span class="lineno"> 6045</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> *mat : <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>() ) {</div>
<div class="line"><a id="l06046" name="l06046"></a><span class="lineno"> 6046</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> val = mat-&gt;chip_resist();</div>
<div class="line"><a id="l06047" name="l06047"></a><span class="lineno"> 6047</span>        res = worst ? std::min( res, val ) : <a class="code hl_namespace" href="namespacestd.html">std</a>::max( res, val );</div>
<div class="line"><a id="l06048" name="l06048"></a><span class="lineno"> 6048</span>    }</div>
<div class="line"><a id="l06049" name="l06049"></a><span class="lineno"> 6049</span> </div>
<div class="line"><a id="l06050" name="l06050"></a><span class="lineno"> 6050</span>    <span class="keywordflow">if</span>( res == INT_MAX || res == INT_MIN ) {</div>
<div class="line"><a id="l06051" name="l06051"></a><span class="lineno"> 6051</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><a id="l06052" name="l06052"></a><span class="lineno"> 6052</span>    }</div>
<div class="line"><a id="l06053" name="l06053"></a><span class="lineno"> 6053</span> </div>
<div class="line"><a id="l06054" name="l06054"></a><span class="lineno"> 6054</span>    <span class="keywordflow">if</span>( res &lt;= 0 ) {</div>
<div class="line"><a id="l06055" name="l06055"></a><span class="lineno"> 6055</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06056" name="l06056"></a><span class="lineno"> 6056</span>    }</div>
<div class="line"><a id="l06057" name="l06057"></a><span class="lineno"> 6057</span> </div>
<div class="line"><a id="l06058" name="l06058"></a><span class="lineno"> 6058</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l06059" name="l06059"></a><span class="lineno"> 6059</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>.</p>

<p class="reference">Referenced by <a class="el" href="melee_8cpp_source.html#l00156">Character::handle_melee_wear()</a>.</p>

</div>
</div>
<a id="acf9b4242998c869e09a76406ffe0bb34" name="acf9b4242998c869e09a76406ffe0bb34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf9b4242998c869e09a76406ffe0bb34">&#9670;&nbsp;</a></span>clear_vars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::clear_vars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes all item variables. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01077">1077</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>{</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.clear();</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l07494">iuse::camera()</a>, <a class="el" href="iuse_8cpp_source.html#l06206">einkpc_download_memory_card()</a>, and <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>.</p>

</div>
</div>
<a id="ac3802e76b128e7ee2982352e7ad72030" name="ac3802e76b128e7ee2982352e7ad72030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3802e76b128e7ee2982352e7ad72030">&#9670;&nbsp;</a></span>color()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> item::color </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the default color of the item (e.g. </p>
<p ><a class="el" href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">itype::color</a>). </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04796">4796</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04797" name="l04797"></a><span class="lineno"> 4797</span>{</div>
<div class="line"><a id="l04798" name="l04798"></a><span class="lineno"> 4798</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l04799" name="l04799"></a><span class="lineno"> 4799</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a2d8f37367a34632745626276dd4c9da6">c_black</a>;</div>
<div class="line"><a id="l04800" name="l04800"></a><span class="lineno"> 4800</span>    }</div>
<div class="line"><a id="l04801" name="l04801"></a><span class="lineno"> 4801</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a id="l04802" name="l04802"></a><span class="lineno"> 4802</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_variable" href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">color</a>;</div>
<div class="line"><a id="l04803" name="l04803"></a><span class="lineno"> 4803</span>    }</div>
<div class="line"><a id="l04804" name="l04804"></a><span class="lineno"> 4804</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">color</a>;</div>
<div class="line"><a id="l04805" name="l04805"></a><span class="lineno"> 4805</span>}</div>
<div class="ttc" id="acolor_8h_html_a2d8f37367a34632745626276dd4c9da6"><div class="ttname"><a href="color_8h.html#a2d8f37367a34632745626276dd4c9da6">c_black</a></div><div class="ttdeci">#define c_black</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="astructitype_html_af4d6fc9396d1e09f23d2008f974ac757"><div class="ttname"><a href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">itype::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01006">itype.h:1006</a></div></div>
<div class="ttc" id="astructmtype_html_a6ad4c76593c4cd6423492169733885a1"><div class="ttname"><a href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">mtype::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00258">mtype.h:258</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00017">c_black</a>, <a class="el" href="itype_8h_source.html#l01006">itype::color</a>, <a class="el" href="mtype_8h_source.html#l00258">mtype::color</a>, <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05855">map::draw_maptile()</a>, <a class="el" href="character_8cpp_source.html#l06448">Character::pour_into()</a>, and <a class="el" href="wish_8cpp_source.html#l00535">debug_menu::wishitem()</a>.</p>

</div>
</div>
<a id="a6bc022aab35ecd1f591a065aa4006eff" name="a6bc022aab35ecd1f591a065aa4006eff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bc022aab35ecd1f591a065aa4006eff">&#9670;&nbsp;</a></span>color_in_inventory() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> item::color_in_inventory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the color of the item depending on usefulness for the player character, e.g. </p>
<p >differently if it its an unread book or a spoiling food item etc. This should only be used for displaying data, it should not affect game play. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04017">4017</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04018" name="l04018"></a><span class="lineno"> 4018</span>{</div>
<div class="line"><a id="l04019" name="l04019"></a><span class="lineno"> 4019</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">item::color_in_inventory</a>( <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>() );</div>
<div class="line"><a id="l04020" name="l04020"></a><span class="lineno"> 4020</span>}</div>
<div class="ttc" id="aclassitem_html_a6bc022aab35ecd1f591a065aa4006eff"><div class="ttname"><a href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">item::color_in_inventory</a></div><div class="ttdeci">nc_color color_in_inventory() const</div><div class="ttdoc">Returns the color of the item depending on usefulness for the player character, e....</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04017">item.cpp:4017</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l04017">color_in_inventory()</a>, and <a class="el" href="avatar_8cpp_source.html#l00100">get_avatar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04017">color_in_inventory()</a>, <a class="el" href="iuse_8cpp_source.html#l06747">colorized_item_name()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="player_8cpp_source.html#l01916">player::drink_from_hands()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00251">inventory_selector_preset::get_color()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01068">read_inventory_preset::get_color()</a>, <a class="el" href="player_8cpp_source.html#l03519">player::gunmod_add()</a>, <a class="el" href="game_8cpp_source.html#l07526">game::list_items()</a>, <a class="el" href="iuse_8cpp_source.html#l01407">iuse::marloss_seed()</a>, <a class="el" href="pickup_8cpp_source.html#l00571">pickup::pick_up()</a>, <a class="el" href="iuse_8cpp_source.html#l06003">iuse::seed()</a>, <a class="el" href="player_8cpp_source.html#l02977">player::takeoff()</a>, and <a class="el" href="consumption_8cpp_source.html#l00728">Character::will_eat()</a>.</p>

</div>
</div>
<a id="a060cec2896ecb7acb62683e0cf956c76" name="a060cec2896ecb7acb62683e0cf956c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a060cec2896ecb7acb62683e0cf956c76">&#9670;&nbsp;</a></span>color_in_inventory() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> item::color_in_inventory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the color of the item depending on usefulness for the passed player, e.g. </p>
<p >differently if it its an unread book or a spoiling food item etc. This should only be used for displaying data, it should not affect game play.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">for_player</td><td>NPC or avatar which would read book. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04022">4022</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04023" name="l04023"></a><span class="lineno"> 4023</span>{</div>
<div class="line"><a id="l04024" name="l04024"></a><span class="lineno"> 4024</span>    <span class="comment">// Only item not otherwise colored gets colored as favorite</span></div>
<div class="line"><a id="l04025" name="l04025"></a><span class="lineno"> 4025</span>    <a class="code hl_class" href="classnc__color.html">nc_color</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_variable" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> ? <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> : <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>;</div>
<div class="line"><a id="l04026" name="l04026"></a><span class="lineno"> 4026</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;learn_spell&quot;</span> ) ) {</div>
<div class="line"><a id="l04027" name="l04027"></a><span class="lineno"> 4027</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structuse__function.html">use_function</a> *<a class="code hl_namespace" href="namespaceiuse.html">iuse</a> = <a class="code hl_function" href="classitem.html#a71dac02bae8b97487391d5540a89bc1c">get_use</a>( <span class="stringliteral">&quot;learn_spell&quot;</span> );</div>
<div class="line"><a id="l04028" name="l04028"></a><span class="lineno"> 4028</span>        <span class="keyword">const</span> <a class="code hl_class" href="classlearn__spell__actor.html">learn_spell_actor</a> *actor_ptr =</div>
<div class="line"><a id="l04029" name="l04029"></a><span class="lineno"> 4029</span>            <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classlearn__spell__actor.html">learn_spell_actor</a> *<span class="keyword">&gt;</span>( <a class="code hl_namespace" href="namespaceiuse.html">iuse</a>-&gt;get_actor_ptr() );</div>
<div class="line"><a id="l04030" name="l04030"></a><span class="lineno"> 4030</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;spell_id_str : actor_ptr-&gt;<a class="code hl_variable" href="classlearn__spell__actor.html#a25721a2c9e023087537b1f6b3026deb4">spells</a> ) {</div>
<div class="line"><a id="l04031" name="l04031"></a><span class="lineno"> 4031</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">spell_id</a> sp_id( spell_id_str );</div>
<div class="line"><a id="l04032" name="l04032"></a><span class="lineno"> 4032</span>            <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;knows_spell( sp_id ) &amp;&amp; !p.<a class="code hl_variable" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;get_spell( sp_id ).is_max_level() ) {</div>
<div class="line"><a id="l04033" name="l04033"></a><span class="lineno"> 4033</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a id="l04034" name="l04034"></a><span class="lineno"> 4034</span>            }</div>
<div class="line"><a id="l04035" name="l04035"></a><span class="lineno"> 4035</span>            <span class="keywordflow">if</span>( !p.<a class="code hl_variable" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;knows_spell( sp_id ) &amp;&amp; p.<a class="code hl_variable" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a>-&gt;can_learn_spell( p, sp_id ) ) {</div>
<div class="line"><a id="l04036" name="l04036"></a><span class="lineno"> 4036</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>;</div>
<div class="line"><a id="l04037" name="l04037"></a><span class="lineno"> 4037</span>            }</div>
<div class="line"><a id="l04038" name="l04038"></a><span class="lineno"> 4038</span>        }</div>
<div class="line"><a id="l04039" name="l04039"></a><span class="lineno"> 4039</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a0f35b65e17801413ce658571f42dd000">flag_WET</a> ) ) {</div>
<div class="line"><a id="l04040" name="l04040"></a><span class="lineno"> 4040</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a>;</div>
<div class="line"><a id="l04041" name="l04041"></a><span class="lineno"> 4041</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6b884d53e3f77f6e66be745ffa043335">flag_LITCIG</a> ) ) {</div>
<div class="line"><a id="l04042" name="l04042"></a><span class="lineno"> 4042</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a id="l04043" name="l04043"></a><span class="lineno"> 4043</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="item_8cpp.html#a1ed0e0569ca42bfbb736694d90fd03fa">trait_WOOLALLERGY</a> ) &amp;&amp;</div>
<div class="line"><a id="l04044" name="l04044"></a><span class="lineno"> 4044</span>               ( <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;wool&quot;</span> ) ) || <a class="code hl_function" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a>( <span class="stringliteral">&quot;wooled&quot;</span> ) ) ) {</div>
<div class="line"><a id="l04045" name="l04045"></a><span class="lineno"> 4045</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a id="l04046" name="l04046"></a><span class="lineno"> 4046</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a5093379156498b4d523b3ac1f733adc4">is_filthy</a>() || <a class="code hl_function" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a>( <span class="stringliteral">&quot;DIRTY&quot;</span> ) ) {</div>
<div class="line"><a id="l04047" name="l04047"></a><span class="lineno"> 4047</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a50c10870af6969c67007ca1374cf5da3">c_brown</a>;</div>
<div class="line"><a id="l04048" name="l04048"></a><span class="lineno"> 4048</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">is_bionic</a>() ) {</div>
<div class="line"><a id="l04049" name="l04049"></a><span class="lineno"> 4049</span>        <span class="keywordflow">if</span>( !p.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a33aeb53774679283298d0202ae3e78ce">bionic</a>-&gt;id ) ) {</div>
<div class="line"><a id="l04050" name="l04050"></a><span class="lineno"> 4050</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = p.<a class="code hl_function" href="classCharacter.html#a650c06130969baf51c158c9645a6d769">bionic_installation_issues</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a33aeb53774679283298d0202ae3e78ce">bionic</a>-&gt;id ).empty() ? <a class="code hl_define" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> : <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a id="l04051" name="l04051"></a><span class="lineno"> 4051</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a186e23235b49b90b0e027ab61cdf2eef">flag_NO_STERILE</a> ) ) {</div>
<div class="line"><a id="l04052" name="l04052"></a><span class="lineno"> 4052</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a id="l04053" name="l04053"></a><span class="lineno"> 4053</span>        }</div>
<div class="line"><a id="l04054" name="l04054"></a><span class="lineno"> 4054</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a450233a88bf43aa6380c2b09d89cf0bf">flag_LEAK_DAM</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#adc75c21d21b85c1a29f21a3c0872326c">flag_RADIOACTIVE</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; 0 ) {</div>
<div class="line"><a id="l04055" name="l04055"></a><span class="lineno"> 4055</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>;</div>
<div class="line"><a id="l04056" name="l04056"></a><span class="lineno"> 4056</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> &amp;&amp; !<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#a6921d1c458f1e840933b765ca9c7e583">is_food_container</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a id="l04057" name="l04057"></a><span class="lineno"> 4057</span>        <span class="comment">// Active items show up as yellow</span></div>
<div class="line"><a id="l04058" name="l04058"></a><span class="lineno"> 4058</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a id="l04059" name="l04059"></a><span class="lineno"> 4059</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#ab000493eba0ddea5a6d0e4e9587a5f83">can_revive</a>() ) {</div>
<div class="line"><a id="l04060" name="l04060"></a><span class="lineno"> 4060</span>        <span class="comment">// Only reviving corpses are yellow</span></div>
<div class="line"><a id="l04061" name="l04061"></a><span class="lineno"> 4061</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a id="l04062" name="l04062"></a><span class="lineno"> 4062</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *food = <a class="code hl_function" href="classitem.html#acab4550c97cabd8d8067e5e53b001178">get_food</a>() ) {</div>
<div class="line"><a id="l04063" name="l04063"></a><span class="lineno"> 4063</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> preserves = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;preserves;</div>
<div class="line"><a id="l04064" name="l04064"></a><span class="lineno"> 4064</span> </div>
<div class="line"><a id="l04065" name="l04065"></a><span class="lineno"> 4065</span>        <span class="comment">// Give color priority to allergy (allergy &gt; inedible by freeze or other conditions)</span></div>
<div class="line"><a id="l04066" name="l04066"></a><span class="lineno"> 4066</span>        <span class="comment">// TODO: refactor u.will_eat to let this section handle coloring priority without duplicating code.</span></div>
<div class="line"><a id="l04067" name="l04067"></a><span class="lineno"> 4067</span>        <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#a306dfd8496f2ff25cce5ad2a9cc7f80e">allergy_type</a>( *food ) != <a class="code hl_class" href="classstring__id.html">morale_type</a>( <span class="stringliteral">&quot;morale_null&quot;</span> ) ) {</div>
<div class="line"><a id="l04068" name="l04068"></a><span class="lineno"> 4068</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a id="l04069" name="l04069"></a><span class="lineno"> 4069</span>        }</div>
<div class="line"><a id="l04070" name="l04070"></a><span class="lineno"> 4070</span> </div>
<div class="line"><a id="l04071" name="l04071"></a><span class="lineno"> 4071</span>        <span class="comment">// Default: permafood, drugs</span></div>
<div class="line"><a id="l04072" name="l04072"></a><span class="lineno"> 4072</span>        <span class="comment">// Brown: rotten (for non-saprophages) or non-rotten (for saprophages)</span></div>
<div class="line"><a id="l04073" name="l04073"></a><span class="lineno"> 4073</span>        <span class="comment">// Dark gray: inedible</span></div>
<div class="line"><a id="l04074" name="l04074"></a><span class="lineno"> 4074</span>        <span class="comment">// Red: morale penalty</span></div>
<div class="line"><a id="l04075" name="l04075"></a><span class="lineno"> 4075</span>        <span class="comment">// Yellow: will rot soon</span></div>
<div class="line"><a id="l04076" name="l04076"></a><span class="lineno"> 4076</span>        <span class="comment">// Cyan: will rot eventually</span></div>
<div class="line"><a id="l04077" name="l04077"></a><span class="lineno"> 4077</span>        <span class="keyword">const</span> <a class="code hl_class" href="classret__val.html">ret_val&lt;edible_rating&gt;</a> rating = p.<a class="code hl_function" href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">will_eat</a>( *food );</div>
<div class="line"><a id="l04078" name="l04078"></a><span class="lineno"> 4078</span>        <span class="comment">// TODO: More colors</span></div>
<div class="line"><a id="l04079" name="l04079"></a><span class="lineno"> 4079</span>        <span class="keywordflow">switch</span>( rating.<a class="code hl_function" href="classret__val.html#a277e45f995cd21adfaceab9aa8388138">value</a>() ) {</div>
<div class="line"><a id="l04080" name="l04080"></a><span class="lineno"> 4080</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfad31765030932e90b353bfa393a1fd5ab">edible_rating::edible</a>:</div>
<div class="line"><a id="l04081" name="l04081"></a><span class="lineno"> 4081</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfab04d8d82ebedc4846179e7d31ac97ef4">edible_rating::too_full</a>:</div>
<div class="line"><a id="l04082" name="l04082"></a><span class="lineno"> 4082</span>                <span class="keywordflow">if</span>( preserves ) {</div>
<div class="line"><a id="l04083" name="l04083"></a><span class="lineno"> 4083</span>                    <span class="comment">// Nothing, canned food won&#39;t rot</span></div>
<div class="line"><a id="l04084" name="l04084"></a><span class="lineno"> 4084</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( food-&gt;is_going_bad() ) {</div>
<div class="line"><a id="l04085" name="l04085"></a><span class="lineno"> 4085</span>                    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a id="l04086" name="l04086"></a><span class="lineno"> 4086</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( food-&gt;goes_bad() ) {</div>
<div class="line"><a id="l04087" name="l04087"></a><span class="lineno"> 4087</span>                    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a>;</div>
<div class="line"><a id="l04088" name="l04088"></a><span class="lineno"> 4088</span>                }</div>
<div class="line"><a id="l04089" name="l04089"></a><span class="lineno"> 4089</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04090" name="l04090"></a><span class="lineno"> 4090</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa244ec09f53b12cf3149398aa67cfd0f9">edible_rating::inedible</a>:</div>
<div class="line"><a id="l04091" name="l04091"></a><span class="lineno"> 4091</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5">edible_rating::inedible_mutation</a>:</div>
<div class="line"><a id="l04092" name="l04092"></a><span class="lineno"> 4092</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a id="l04093" name="l04093"></a><span class="lineno"> 4093</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04094" name="l04094"></a><span class="lineno"> 4094</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfae13d519f1da4a4e37af747205ba9ca23">edible_rating::allergy</a>:</div>
<div class="line"><a id="l04095" name="l04095"></a><span class="lineno"> 4095</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfafdf8798a8492541a3d494c0e6fd1af5e">edible_rating::allergy_weak</a>:</div>
<div class="line"><a id="l04096" name="l04096"></a><span class="lineno"> 4096</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfaee115c898593ed7d1898b2e0ed0fd39c">edible_rating::cannibalism</a>:</div>
<div class="line"><a id="l04097" name="l04097"></a><span class="lineno"> 4097</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a id="l04098" name="l04098"></a><span class="lineno"> 4098</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04099" name="l04099"></a><span class="lineno"> 4099</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa78226289aba350a58537ecc63eccdff6">edible_rating::rotten</a>:</div>
<div class="line"><a id="l04100" name="l04100"></a><span class="lineno"> 4100</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a50c10870af6969c67007ca1374cf5da3">c_brown</a>;</div>
<div class="line"><a id="l04101" name="l04101"></a><span class="lineno"> 4101</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04102" name="l04102"></a><span class="lineno"> 4102</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa072ff6bd71a0e05f5b6f7a91b2a16547">edible_rating::nausea</a>:</div>
<div class="line"><a id="l04103" name="l04103"></a><span class="lineno"> 4103</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa3670b0eaf04d6077f95061efc4fad858">edible_rating::bloated</a>:</div>
<div class="line"><a id="l04104" name="l04104"></a><span class="lineno"> 4104</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a>;</div>
<div class="line"><a id="l04105" name="l04105"></a><span class="lineno"> 4105</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04106" name="l04106"></a><span class="lineno"> 4106</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa0165972a7b3702e2d84cad0fd0d07c95">edible_rating::no_tool</a>:</div>
<div class="line"><a id="l04107" name="l04107"></a><span class="lineno"> 4107</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04108" name="l04108"></a><span class="lineno"> 4108</span>        }</div>
<div class="line"><a id="l04109" name="l04109"></a><span class="lineno"> 4109</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l04110" name="l04110"></a><span class="lineno"> 4110</span>        <span class="comment">// Guns are green if you are carrying ammo for them</span></div>
<div class="line"><a id="l04111" name="l04111"></a><span class="lineno"> 4111</span>        <span class="comment">// ltred if you have ammo but no mags</span></div>
<div class="line"><a id="l04112" name="l04112"></a><span class="lineno"> 4112</span>        <span class="comment">// Gun with integrated mag counts as both</span></div>
<div class="line"><a id="l04113" name="l04113"></a><span class="lineno"> 4113</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>() ) {</div>
<div class="line"><a id="l04114" name="l04114"></a><span class="lineno"> 4114</span>            <span class="comment">// get_ammo finds uncontained ammo, find_ammo finds ammo in magazines</span></div>
<div class="line"><a id="l04115" name="l04115"></a><span class="lineno"> 4115</span>            <span class="keywordtype">bool</span> has_ammo = !p.<a class="code hl_function" href="classCharacter.html#a91c25d98b1050595bb9d1a36454d6740">get_ammo</a>( at ).empty() || !p.<a class="code hl_function" href="classCharacter.html#af6a33462a9476b6f490a6cea8b19d5a4">find_ammo</a>( *<span class="keyword">this</span>, <span class="keyword">false</span>, -1 ).empty();</div>
<div class="line"><a id="l04116" name="l04116"></a><span class="lineno"> 4116</span>            <span class="keywordtype">bool</span> has_mag = <a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() || !p.<a class="code hl_function" href="classCharacter.html#af6a33462a9476b6f490a6cea8b19d5a4">find_ammo</a>( *<span class="keyword">this</span>, <span class="keyword">true</span>, -1 ).empty();</div>
<div class="line"><a id="l04117" name="l04117"></a><span class="lineno"> 4117</span>            <span class="keywordflow">if</span>( has_ammo &amp;&amp; has_mag ) {</div>
<div class="line"><a id="l04118" name="l04118"></a><span class="lineno"> 4118</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>;</div>
<div class="line"><a id="l04119" name="l04119"></a><span class="lineno"> 4119</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04120" name="l04120"></a><span class="lineno"> 4120</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( has_ammo || has_mag ) {</div>
<div class="line"><a id="l04121" name="l04121"></a><span class="lineno"> 4121</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>;</div>
<div class="line"><a id="l04122" name="l04122"></a><span class="lineno"> 4122</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04123" name="l04123"></a><span class="lineno"> 4123</span>            }</div>
<div class="line"><a id="l04124" name="l04124"></a><span class="lineno"> 4124</span>        }</div>
<div class="line"><a id="l04125" name="l04125"></a><span class="lineno"> 4125</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() ) {</div>
<div class="line"><a id="l04126" name="l04126"></a><span class="lineno"> 4126</span>        <span class="comment">// Likewise, ammo is green if you have guns that use it</span></div>
<div class="line"><a id="l04127" name="l04127"></a><span class="lineno"> 4127</span>        <span class="comment">// ltred if you have the gun but no mags</span></div>
<div class="line"><a id="l04128" name="l04128"></a><span class="lineno"> 4128</span>        <span class="comment">// Gun with integrated mag counts as both</span></div>
<div class="line"><a id="l04129" name="l04129"></a><span class="lineno"> 4129</span>        <span class="keywordtype">bool</span> has_gun = p.<a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; i ) {</div>
<div class="line"><a id="l04130" name="l04130"></a><span class="lineno"> 4130</span>            <span class="keywordflow">return</span> i.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; i.<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().count( <a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>() );</div>
<div class="line"><a id="l04131" name="l04131"></a><span class="lineno"> 4131</span>        } );</div>
<div class="line"><a id="l04132" name="l04132"></a><span class="lineno"> 4132</span>        <span class="keywordtype">bool</span> has_mag = p.<a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; i ) {</div>
<div class="line"><a id="l04133" name="l04133"></a><span class="lineno"> 4133</span>            <span class="keywordflow">return</span> ( i.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; i.<a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() &amp;&amp; i.<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().count( <a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>() ) ) ||</div>
<div class="line"><a id="l04134" name="l04134"></a><span class="lineno"> 4134</span>                   ( i.<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() &amp;&amp; i.<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().count( <a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>() ) );</div>
<div class="line"><a id="l04135" name="l04135"></a><span class="lineno"> 4135</span>        } );</div>
<div class="line"><a id="l04136" name="l04136"></a><span class="lineno"> 4136</span>        <span class="keywordflow">if</span>( has_gun &amp;&amp; has_mag ) {</div>
<div class="line"><a id="l04137" name="l04137"></a><span class="lineno"> 4137</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>;</div>
<div class="line"><a id="l04138" name="l04138"></a><span class="lineno"> 4138</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( has_gun || has_mag ) {</div>
<div class="line"><a id="l04139" name="l04139"></a><span class="lineno"> 4139</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>;</div>
<div class="line"><a id="l04140" name="l04140"></a><span class="lineno"> 4140</span>        }</div>
<div class="line"><a id="l04141" name="l04141"></a><span class="lineno"> 4141</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l04142" name="l04142"></a><span class="lineno"> 4142</span>        <span class="comment">// Magazines are green if you have guns and ammo for them</span></div>
<div class="line"><a id="l04143" name="l04143"></a><span class="lineno"> 4143</span>        <span class="comment">// ltred if you have one but not the other</span></div>
<div class="line"><a id="l04144" name="l04144"></a><span class="lineno"> 4144</span>        <span class="keywordtype">bool</span> has_gun = p.<a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l04145" name="l04145"></a><span class="lineno"> 4145</span>            <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; it.<a class="code hl_function" href="classitem.html#a3ebcbfa7afc85cc501d72f52d09e9984">magazine_compatible</a>().count( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) &gt; 0;</div>
<div class="line"><a id="l04146" name="l04146"></a><span class="lineno"> 4146</span>        } );</div>
<div class="line"><a id="l04147" name="l04147"></a><span class="lineno"> 4147</span>        <span class="keywordtype">bool</span> has_ammo = !p.<a class="code hl_function" href="classCharacter.html#af6a33462a9476b6f490a6cea8b19d5a4">find_ammo</a>( *<span class="keyword">this</span>, <span class="keyword">false</span>, -1 ).empty();</div>
<div class="line"><a id="l04148" name="l04148"></a><span class="lineno"> 4148</span>        <span class="keywordflow">if</span>( has_gun &amp;&amp; has_ammo ) {</div>
<div class="line"><a id="l04149" name="l04149"></a><span class="lineno"> 4149</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>;</div>
<div class="line"><a id="l04150" name="l04150"></a><span class="lineno"> 4150</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( has_gun || has_ammo ) {</div>
<div class="line"><a id="l04151" name="l04151"></a><span class="lineno"> 4151</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>;</div>
<div class="line"><a id="l04152" name="l04152"></a><span class="lineno"> 4152</span>        }</div>
<div class="line"><a id="l04153" name="l04153"></a><span class="lineno"> 4153</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a980b9e48afd103973a201fc487d0af8b">is_book</a>() ) {</div>
<div class="line"><a id="l04154" name="l04154"></a><span class="lineno"> 4154</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structislot__book.html">islot_book</a> &amp;tmp = *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>;</div>
<div class="line"><a id="l04155" name="l04155"></a><span class="lineno"> 4155</span>        <span class="comment">// Player doesn&#39;t actually interested if NPC has identified book yet.</span></div>
<div class="line"><a id="l04156" name="l04156"></a><span class="lineno"> 4156</span>        <span class="comment">// So we check identification for human avatar.</span></div>
<div class="line"><a id="l04157" name="l04157"></a><span class="lineno"> 4157</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>().has_identified( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) ) {</div>
<div class="line"><a id="l04158" name="l04158"></a><span class="lineno"> 4158</span>            <span class="keywordflow">if</span>( tmp.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> &amp;&amp; <span class="comment">// Book can improve skill: blue</span></div>
<div class="line"><a id="l04159" name="l04159"></a><span class="lineno"> 4159</span>                p.<a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( tmp.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> ).<a class="code hl_function" href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">can_train</a>() &amp;&amp;</div>
<div class="line"><a id="l04160" name="l04160"></a><span class="lineno"> 4160</span>                p.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( tmp.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> ) &gt;= tmp.<a class="code hl_variable" href="structislot__book.html#a899cf37dd220cfce62e17e9f072ca9c5">req</a> &amp;&amp;</div>
<div class="line"><a id="l04161" name="l04161"></a><span class="lineno"> 4161</span>                p.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( tmp.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> ) &lt; tmp.<a class="code hl_variable" href="structislot__book.html#a6eca476a412d945669fcb56e20d8ef97">level</a> ) {</div>
<div class="line"><a id="l04162" name="l04162"></a><span class="lineno"> 4162</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>;</div>
<div class="line"><a id="l04163" name="l04163"></a><span class="lineno"> 4163</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;MA_MANUAL&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l04164" name="l04164"></a><span class="lineno"> 4164</span>                       !p.<a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;has_martialart( <a class="code hl_function" href="martialarts_8cpp.html#ad99254fef8817d713c1577c9f7021eb0">martial_art_learned_from</a>( *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> ) ) ) {</div>
<div class="line"><a id="l04165" name="l04165"></a><span class="lineno"> 4165</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>;</div>
<div class="line"><a id="l04166" name="l04166"></a><span class="lineno"> 4166</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tmp.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> &amp;&amp; <span class="comment">// Book can&#39;t improve skill right now, but maybe later: pink</span></div>
<div class="line"><a id="l04167" name="l04167"></a><span class="lineno"> 4167</span>                       p.<a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( tmp.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> ).<a class="code hl_function" href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">can_train</a>() &amp;&amp;</div>
<div class="line"><a id="l04168" name="l04168"></a><span class="lineno"> 4168</span>                       p.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( tmp.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> ) &lt; tmp.<a class="code hl_variable" href="structislot__book.html#a6eca476a412d945669fcb56e20d8ef97">level</a> ) {</div>
<div class="line"><a id="l04169" name="l04169"></a><span class="lineno"> 4169</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a>;</div>
<div class="line"><a id="l04170" name="l04170"></a><span class="lineno"> 4170</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !p.<a class="code hl_function" href="classplayer.html#a5c7fb735b20f0ca0fa641c0f990a67b0">studied_all_recipes</a>(</div>
<div class="line"><a id="l04171" name="l04171"></a><span class="lineno"> 4171</span>                           *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> ) ) { <span class="comment">// Book can&#39;t improve skill anymore, but has more recipes: yellow</span></div>
<div class="line"><a id="l04172" name="l04172"></a><span class="lineno"> 4172</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a id="l04173" name="l04173"></a><span class="lineno"> 4173</span>            }</div>
<div class="line"><a id="l04174" name="l04174"></a><span class="lineno"> 4174</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tmp.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a> || <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;MA_MANUAL&quot;</span> ) ) {</div>
<div class="line"><a id="l04175" name="l04175"></a><span class="lineno"> 4175</span>            <span class="comment">// Book can teach you something and hasn&#39;t been identified yet</span></div>
<div class="line"><a id="l04176" name="l04176"></a><span class="lineno"> 4176</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a id="l04177" name="l04177"></a><span class="lineno"> 4177</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04178" name="l04178"></a><span class="lineno"> 4178</span>            <span class="comment">// &quot;just for fun&quot; book that they haven&#39;t read yet</span></div>
<div class="line"><a id="l04179" name="l04179"></a><span class="lineno"> 4179</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_define" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>;</div>
<div class="line"><a id="l04180" name="l04180"></a><span class="lineno"> 4180</span>        }</div>
<div class="line"><a id="l04181" name="l04181"></a><span class="lineno"> 4181</span>    }</div>
<div class="line"><a id="l04182" name="l04182"></a><span class="lineno"> 4182</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l04183" name="l04183"></a><span class="lineno"> 4183</span>}</div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa0165972a7b3702e2d84cad0fd0d07c95"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa0165972a7b3702e2d84cad0fd0d07c95">edible_rating::no_tool</a></div><div class="ttdeci">@ no_tool</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa072ff6bd71a0e05f5b6f7a91b2a16547"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa072ff6bd71a0e05f5b6f7a91b2a16547">edible_rating::nausea</a></div><div class="ttdeci">@ nausea</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa244ec09f53b12cf3149398aa67cfd0f9"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa244ec09f53b12cf3149398aa67cfd0f9">edible_rating::inedible</a></div><div class="ttdeci">@ inedible</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa3670b0eaf04d6077f95061efc4fad858"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa3670b0eaf04d6077f95061efc4fad858">edible_rating::bloated</a></div><div class="ttdeci">@ bloated</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5">edible_rating::inedible_mutation</a></div><div class="ttdeci">@ inedible_mutation</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa78226289aba350a58537ecc63eccdff6"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa78226289aba350a58537ecc63eccdff6">edible_rating::rotten</a></div><div class="ttdeci">@ rotten</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfab04d8d82ebedc4846179e7d31ac97ef4"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfab04d8d82ebedc4846179e7d31ac97ef4">edible_rating::too_full</a></div><div class="ttdeci">@ too_full</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfad31765030932e90b353bfa393a1fd5ab"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfad31765030932e90b353bfa393a1fd5ab">edible_rating::edible</a></div><div class="ttdeci">@ edible</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfae13d519f1da4a4e37af747205ba9ca23"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfae13d519f1da4a4e37af747205ba9ca23">edible_rating::allergy</a></div><div class="ttdeci">@ allergy</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfaee115c898593ed7d1898b2e0ed0fd39c"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfaee115c898593ed7d1898b2e0ed0fd39c">edible_rating::cannibalism</a></div><div class="ttdeci">@ cannibalism</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfafdf8798a8492541a3d494c0e6fd1af5e"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfafdf8798a8492541a3d494c0e6fd1af5e">edible_rating::allergy_weak</a></div><div class="ttdeci">@ allergy_weak</div></div>
<div class="ttc" id="aclassCharacter_html_a2726ac089fa49e864b486e289f53fade"><div class="ttname"><a href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">Character::get_skill_level_object</a></div><div class="ttdeci">SkillLevel &amp; get_skill_level_object(const skill_id &amp;ident)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03322">character.cpp:3322</a></div></div>
<div class="ttc" id="aclassCharacter_html_a306dfd8496f2ff25cce5ad2a9cc7f80e"><div class="ttname"><a href="classCharacter.html#a306dfd8496f2ff25cce5ad2a9cc7f80e">Character::allergy_type</a></div><div class="ttdeci">morale_type allergy_type(const item &amp;food) const</div><div class="ttdoc">Returns allergy type or MORALE_NULL if not allergic for this character.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00614">consumption.cpp:614</a></div></div>
<div class="ttc" id="aclassCharacter_html_a313797e99525bfd2a5ead68b7672f168"><div class="ttname"><a href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">Character::martial_arts_data</a></div><div class="ttdeci">pimpl&lt; character_martial_arts &gt; martial_arts_data</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01589">character.h:1589</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4eb1793aafe89d34ba7ab96bf9facc19"><div class="ttname"><a href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">Character::will_eat</a></div><div class="ttdeci">ret_val&lt; edible_rating &gt; will_eat(const item &amp;food, bool interactive=false) const</div><div class="ttdoc">Same as can_eat, but takes consequences into account.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00728">consumption.cpp:728</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5751b689e5a4ecd43b6de5c3e2d31541"><div class="ttname"><a href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">Character::has_bionic</a></div><div class="ttdeci">bool has_bionic(const bionic_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered bionic id.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01866">character.cpp:1866</a></div></div>
<div class="ttc" id="aclassCharacter_html_a650c06130969baf51c158c9645a6d769"><div class="ttname"><a href="classCharacter.html#a650c06130969baf51c158c9645a6d769">Character::bionic_installation_issues</a></div><div class="ttdeci">std::map&lt; bodypart_id, int &gt; bionic_installation_issues(const bionic_id &amp;bioid) const</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l02501">bionics.cpp:2501</a></div></div>
<div class="ttc" id="aclassCharacter_html_a91c25d98b1050595bb9d1a36454d6740"><div class="ttname"><a href="classCharacter.html#a91c25d98b1050595bb9d1a36454d6740">Character::get_ammo</a></div><div class="ttdeci">std::vector&lt; const item * &gt; get_ammo(const ammotype &amp;at) const</div><div class="ttdoc">Returns the items that are ammo and have the matching ammo type.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02565">character.cpp:2565</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00103">mutation.cpp:103</a></div></div>
<div class="ttc" id="aclassCharacter_html_af2ff32cce5f17bcf04be958121abe524"><div class="ttname"><a href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">Character::magic</a></div><div class="ttdeci">pimpl&lt; known_magic &gt; magic</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01476">character.h:1476</a></div></div>
<div class="ttc" id="aclassCharacter_html_af6a33462a9476b6f490a6cea8b19d5a4"><div class="ttname"><a href="classCharacter.html#af6a33462a9476b6f490a6cea8b19d5a4">Character::find_ammo</a></div><div class="ttdeci">std::vector&lt; item_location &gt; find_ammo(const item &amp;obj, bool empty=true, int radius=1) const</div><div class="ttdoc">Searches for ammo or magazines that can be used to reload obj.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02657">character.cpp:2657</a></div></div>
<div class="ttc" id="aclassCharacter_html_afa95fe499ca6b55ab97f1b442a4c95c5"><div class="ttname"><a href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">Character::get_skill_level</a></div><div class="ttdeci">int get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03327">character.cpp:3327</a></div></div>
<div class="ttc" id="aclassitem_html_a05c24ca1052a7a8cb9fd314acdb49f40"><div class="ttname"><a href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">item::is_favorite</a></div><div class="ttdeci">bool is_favorite</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02234">item.h:2234</a></div></div>
<div class="ttc" id="aclassitem_html_a3ebcbfa7afc85cc501d72f52d09e9984"><div class="ttname"><a href="classitem.html#a3ebcbfa7afc85cc501d72f52d09e9984">item::magazine_compatible</a></div><div class="ttdeci">std::set&lt; itype_id &gt; magazine_compatible(bool conversion=true) const</div><div class="ttdoc">Get compatible magazines (if any) for this item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07539">item.cpp:7539</a></div></div>
<div class="ttc" id="aclassitem_html_a5093379156498b4d523b3ac1f733adc4"><div class="ttname"><a href="classitem.html#a5093379156498b4d523b3ac1f733adc4">item::is_filthy</a></div><div class="ttdeci">bool is_filthy() const</div><div class="ttdoc">Marks the item as filthy, so characters with squeamish trait can't wear it.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09808">item.cpp:9808</a></div></div>
<div class="ttc" id="aclassitem_html_a6921d1c458f1e840933b765ca9c7e583"><div class="ttname"><a href="classitem.html#a6921d1c458f1e840933b765ca9c7e583">item::is_food_container</a></div><div class="ttdeci">bool is_food_container() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06458">item.cpp:6458</a></div></div>
<div class="ttc" id="aclassitem_html_a71dac02bae8b97487391d5540a89bc1c"><div class="ttname"><a href="classitem.html#a71dac02bae8b97487391d5540a89bc1c">item::get_use</a></div><div class="ttdeci">const use_function * get_use(const std::string &amp;use_name) const</div><div class="ttdoc">Returns the pointer to use_function with name use_name assigned to the type of this item or any of it...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07786">item.cpp:7786</a></div></div>
<div class="ttc" id="aclassitem_html_ab000493eba0ddea5a6d0e4e9587a5f83"><div class="ttname"><a href="classitem.html#ab000493eba0ddea5a6d0e4e9587a5f83">item::can_revive</a></div><div class="ttdeci">bool can_revive() const</div><div class="ttdoc">Whether this is a corpse that can be revived.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05807">item.cpp:5807</a></div></div>
<div class="ttc" id="aclasslearn__spell__actor_html"><div class="ttname"><a href="classlearn__spell__actor.html">learn_spell_actor</a></div><div class="ttdoc">Learn a spell.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00799">iuse_actor.h:800</a></div></div>
<div class="ttc" id="aclasslearn__spell__actor_html_a25721a2c9e023087537b1f6b3026deb4"><div class="ttname"><a href="classlearn__spell__actor.html#a25721a2c9e023087537b1f6b3026deb4">learn_spell_actor::spells</a></div><div class="ttdeci">std::vector&lt; std::string &gt; spells</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00803">iuse_actor.h:803</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00348">color.h:349</a></div></div>
<div class="ttc" id="aclassplayer_html_a5c7fb735b20f0ca0fa641c0f990a67b0"><div class="ttname"><a href="classplayer.html#a5c7fb735b20f0ca0fa641c0f990a67b0">player::studied_all_recipes</a></div><div class="ttdeci">bool studied_all_recipes(const itype &amp;book) const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03687">player.cpp:3687</a></div></div>
<div class="ttc" id="aclassret__val_html"><div class="ttname"><a href="classret__val.html">ret_val</a></div><div class="ttdoc">The class represents a composite return value of an arbitrary function (result).</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00020">ret_val.h:21</a></div></div>
<div class="ttc" id="aclassret__val_html_a277e45f995cd21adfaceab9aa8388138"><div class="ttname"><a href="classret__val.html#a277e45f995cd21adfaceab9aa8388138">ret_val::value</a></div><div class="ttdeci">T value() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00074">ret_val.h:74</a></div></div>
<div class="ttc" id="aclassvisitable_html_abf24bf044bbf16def702fd78351fc46f"><div class="ttname"><a href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">visitable::has_item_with</a></div><div class="ttdeci">bool has_item_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter) const</div><div class="ttdoc">Returns true if any item (including those within a container) matches the filter.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00105">visitable.cpp:105</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00022">color.h:22</a></div></div>
<div class="ttc" id="acolor_8h_html_a2236aa1fe66b707a104f19ad45c23230"><div class="ttname"><a href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a></div><div class="ttdeci">#define c_light_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00028">color.h:28</a></div></div>
<div class="ttc" id="acolor_8h_html_a39fc218ef401d918701636583a85a168"><div class="ttname"><a href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a></div><div class="ttdeci">#define c_magenta</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00025">color.h:25</a></div></div>
<div class="ttc" id="acolor_8h_html_a50c10870af6969c67007ca1374cf5da3"><div class="ttname"><a href="color_8h.html#a50c10870af6969c67007ca1374cf5da3">c_brown</a></div><div class="ttdeci">#define c_brown</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00026">color.h:26</a></div></div>
<div class="ttc" id="acolor_8h_html_a5738d18ff9e165cca088a623cb1883ae"><div class="ttname"><a href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a></div><div class="ttdeci">#define c_dark_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="acolor_8h_html_a6c870a877c442090edead1e229b3953d"><div class="ttname"><a href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a></div><div class="ttdeci">#define c_pink</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00031">color.h:31</a></div></div>
<div class="ttc" id="acolor_8h_html_a7b00fb82de0be83f6fc5f7965ea86623"><div class="ttname"><a href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a></div><div class="ttdeci">#define c_light_blue</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00029">color.h:29</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00032">color.h:32</a></div></div>
<div class="ttc" id="acolor_8h_html_a95b67111e2e4be7fcac981d2b7b208f6"><div class="ttname"><a href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a></div><div class="ttdeci">#define c_cyan</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00024">color.h:24</a></div></div>
<div class="ttc" id="acolor_8h_html_aab11865a3631a7ce78da82b7fb386b71"><div class="ttname"><a href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a></div><div class="ttdeci">#define c_light_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00027">color.h:27</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00021">color.h:21</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a0f35b65e17801413ce658571f42dd000"><div class="ttname"><a href="item_8cpp.html#a0f35b65e17801413ce658571f42dd000">flag_WET</a></div><div class="ttdeci">static const std::string flag_WET(&quot;WET&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a1ed0e0569ca42bfbb736694d90fd03fa"><div class="ttname"><a href="item_8cpp.html#a1ed0e0569ca42bfbb736694d90fd03fa">trait_WOOLALLERGY</a></div><div class="ttdeci">static const trait_id trait_WOOLALLERGY(&quot;WOOLALLERGY&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a450233a88bf43aa6380c2b09d89cf0bf"><div class="ttname"><a href="item_8cpp.html#a450233a88bf43aa6380c2b09d89cf0bf">flag_LEAK_DAM</a></div><div class="ttdeci">static const std::string flag_LEAK_DAM(&quot;LEAK_DAM&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a6b884d53e3f77f6e66be745ffa043335"><div class="ttname"><a href="item_8cpp.html#a6b884d53e3f77f6e66be745ffa043335">flag_LITCIG</a></div><div class="ttdeci">static const std::string flag_LITCIG(&quot;LITCIG&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_adc75c21d21b85c1a29f21a3c0872326c"><div class="ttname"><a href="item_8cpp.html#adc75c21d21b85c1a29f21a3c0872326c">flag_RADIOACTIVE</a></div><div class="ttdeci">static const std::string flag_RADIOACTIVE(&quot;RADIOACTIVE&quot;)</div></div>
<div class="ttc" id="anamespaceiuse_html"><div class="ttname"><a href="namespaceiuse.html">iuse</a></div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00024">iuse.h:25</a></div></div>
<div class="ttc" id="astructuse__function_html"><div class="ttname"><a href="structuse__function.html">use_function</a></div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00303">iuse.h:303</a></div></div>
<div class="ttc" id="atype__id_8h_html_a569ce0271cf4ab170e63bb05658be142"><div class="ttname"><a href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a></div><div class="ttdeci">string_id&lt; material_type &gt; material_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00085">type_id.h:85</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfae13d519f1da4a4e37af747205ba9ca23">allergy</a>, <a class="el" href="consumption_8cpp_source.html#l00614">Character::allergy_type()</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfafdf8798a8492541a3d494c0e6fd1af5e">allergy_weak</a>, <a class="el" href="item_8cpp_source.html#l07431">ammo_type()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="itype_8h_source.html#l00861">itype::bionic</a>, <a class="el" href="bionics_8cpp_source.html#l02501">Character::bionic_installation_issues()</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa3670b0eaf04d6077f95061efc4fad858">bloated</a>, <a class="el" href="itype_8h_source.html#l00852">itype::book</a>, <a class="el" href="color_8h_source.html#l00026">c_brown</a>, <a class="el" href="color_8h_source.html#l00024">c_cyan</a>, <a class="el" href="color_8h_source.html#l00020">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00022">c_green</a>, <a class="el" href="color_8h_source.html#l00029">c_light_blue</a>, <a class="el" href="color_8h_source.html#l00019">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00028">c_light_green</a>, <a class="el" href="color_8h_source.html#l00027">c_light_red</a>, <a class="el" href="color_8h_source.html#l00025">c_magenta</a>, <a class="el" href="color_8h_source.html#l00031">c_pink</a>, <a class="el" href="color_8h_source.html#l00021">c_red</a>, <a class="el" href="color_8h_source.html#l00018">c_white</a>, <a class="el" href="color_8h_source.html#l00032">c_yellow</a>, <a class="el" href="item_8cpp_source.html#l05807">can_revive()</a>, <a class="el" href="skill_8cpp_source.html#l00298">SkillLevel::can_train()</a>, <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfaee115c898593ed7d1898b2e0ed0fd39c">cannibalism</a>, <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfad31765030932e90b353bfa393a1fd5ab">edible</a>, <a class="el" href="character_8cpp_source.html#l02657">Character::find_ammo()</a>, <a class="el" href="item_8cpp.html#a450233a88bf43aa6380c2b09d89cf0bf">flag_LEAK_DAM()</a>, <a class="el" href="item_8cpp.html#a6b884d53e3f77f6e66be745ffa043335">flag_LITCIG()</a>, <a class="el" href="item_8cpp.html#a186e23235b49b90b0e027ab61cdf2eef">flag_NO_STERILE()</a>, <a class="el" href="item_8cpp.html#adc75c21d21b85c1a29f21a3c0872326c">flag_RADIOACTIVE()</a>, <a class="el" href="item_8cpp.html#a0f35b65e17801413ce658571f42dd000">flag_WET()</a>, <a class="el" href="character_8cpp_source.html#l02565">Character::get_ammo()</a>, <a class="el" href="avatar_8cpp_source.html#l00100">get_avatar()</a>, <a class="el" href="item_8cpp_source.html#l06492">get_food()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l03322">Character::get_skill_level_object()</a>, <a class="el" href="item_8cpp_source.html#l07786">get_use()</a>, <a class="el" href="character_8cpp_source.html#l01866">Character::has_bionic()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="visitable_8cpp_source.html#l00105">visitable&lt; T &gt;::has_item_with()</a>, <a class="el" href="item_8cpp_source.html#l05187">has_own_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa244ec09f53b12cf3149398aa67cfd0f9">inedible</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5">inedible_mutation</a>, <a class="el" href="item_8cpp_source.html#l06432">is_ammo()</a>, <a class="el" href="item_8cpp_source.html#l06554">is_armor()</a>, <a class="el" href="item_8cpp_source.html#l06402">is_bionic()</a>, <a class="el" href="item_8cpp_source.html#l06559">is_book()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8h_source.html#l02234">is_favorite</a>, <a class="el" href="item_8cpp_source.html#l09808">is_filthy()</a>, <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>, <a class="el" href="item_8cpp_source.html#l06458">is_food_container()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="itype_8h_source.html#l00334">islot_book::level</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="item_8cpp_source.html#l07539">magazine_compatible()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="character_8h_source.html#l01476">Character::magic</a>, <a class="el" href="martialarts_8cpp_source.html#l00055">martial_art_learned_from()</a>, <a class="el" href="character_8h_source.html#l01589">Character::martial_arts_data</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa072ff6bd71a0e05f5b6f7a91b2a16547">nausea</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa0165972a7b3702e2d84cad0fd0d07c95">no_tool</a>, <a class="el" href="itype_8h_source.html#l00338">islot_book::req</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa78226289aba350a58537ecc63eccdff6">rotten</a>, <a class="el" href="itype_8h_source.html#l00326">islot_book::skill</a>, <a class="el" href="iuse__actor_8h_source.html#l00803">learn_spell_actor::spells</a>, <a class="el" href="player_8cpp_source.html#l03687">player::studied_all_recipes()</a>, <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfab04d8d82ebedc4846179e7d31ac97ef4">too_full</a>, <a class="el" href="item_8cpp.html#a1ed0e0569ca42bfbb736694d90fd03fa">trait_WOOLALLERGY</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, <a class="el" href="ret__val_8h_source.html#l00074">ret_val&lt; T &gt;::value()</a>, and <a class="el" href="consumption_8cpp_source.html#l00728">Character::will_eat()</a>.</p>

</div>
</div>
<a id="a4feef041aa5b9785d106266864cf7ab4" name="a4feef041aa5b9785d106266864cf7ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4feef041aa5b9785d106266864cf7ab4">&#9670;&nbsp;</a></span>combat_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::combat_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03343">3343</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03345" name="l03345"></a><span class="lineno"> 3345</span>{</div>
<div class="line"><a id="l03346" name="l03346"></a><span class="lineno"> 3346</span>    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> = <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a id="l03347" name="l03347"></a><span class="lineno"> 3347</span> </div>
<div class="line"><a id="l03348" name="l03348"></a><span class="lineno"> 3348</span>    <span class="keywordtype">int</span> dmg_bash = <a class="code hl_function" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a> );</div>
<div class="line"><a id="l03349" name="l03349"></a><span class="lineno"> 3349</span>    <span class="keywordtype">int</span> dmg_cut  = <a class="code hl_function" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a> );</div>
<div class="line"><a id="l03350" name="l03350"></a><span class="lineno"> 3350</span>    <span class="keywordtype">int</span> dmg_stab = <a class="code hl_function" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a> );</div>
<div class="line"><a id="l03351" name="l03351"></a><span class="lineno"> 3351</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1c321648d4dd9c894f346daded141455">iteminfo_parts::BASE_DAMAGE</a> ) ) {</div>
<div class="line"><a id="l03352" name="l03352"></a><span class="lineno"> 3352</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03353" name="l03353"></a><span class="lineno"> 3353</span>        std::string sep;</div>
<div class="line"><a id="l03354" name="l03354"></a><span class="lineno"> 3354</span>        <span class="keywordflow">if</span>( dmg_bash || dmg_cut || dmg_stab ) {</div>
<div class="line"><a id="l03355" name="l03355"></a><span class="lineno"> 3355</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Melee damage&lt;/bold&gt;: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> ) );</div>
<div class="line"><a id="l03356" name="l03356"></a><span class="lineno"> 3356</span>        }</div>
<div class="line"><a id="l03357" name="l03357"></a><span class="lineno"> 3357</span>        <span class="keywordflow">if</span>( dmg_bash ) {</div>
<div class="line"><a id="l03358" name="l03358"></a><span class="lineno"> 3358</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bash: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, dmg_bash ) );</div>
<div class="line"><a id="l03359" name="l03359"></a><span class="lineno"> 3359</span>            sep = <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a>;</div>
<div class="line"><a id="l03360" name="l03360"></a><span class="lineno"> 3360</span>        }</div>
<div class="line"><a id="l03361" name="l03361"></a><span class="lineno"> 3361</span>        <span class="keywordflow">if</span>( dmg_cut ) {</div>
<div class="line"><a id="l03362" name="l03362"></a><span class="lineno"> 3362</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, sep + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Cut: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, dmg_cut ) );</div>
<div class="line"><a id="l03363" name="l03363"></a><span class="lineno"> 3363</span>            sep = <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a>;</div>
<div class="line"><a id="l03364" name="l03364"></a><span class="lineno"> 3364</span>        }</div>
<div class="line"><a id="l03365" name="l03365"></a><span class="lineno"> 3365</span>        <span class="keywordflow">if</span>( dmg_stab ) {</div>
<div class="line"><a id="l03366" name="l03366"></a><span class="lineno"> 3366</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, sep + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Pierce: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, dmg_stab ) );</div>
<div class="line"><a id="l03367" name="l03367"></a><span class="lineno"> 3367</span>        }</div>
<div class="line"><a id="l03368" name="l03368"></a><span class="lineno"> 3368</span>    }</div>
<div class="line"><a id="l03369" name="l03369"></a><span class="lineno"> 3369</span> </div>
<div class="line"><a id="l03370" name="l03370"></a><span class="lineno"> 3370</span>    <span class="keywordflow">if</span>( dmg_bash || dmg_cut || dmg_stab ) {</div>
<div class="line"><a id="l03371" name="l03371"></a><span class="lineno"> 3371</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaff564f8fd99c036ec6c012ad5a01d2f5">iteminfo_parts::BASE_TOHIT</a> ) ) {</div>
<div class="line"><a id="l03372" name="l03372"></a><span class="lineno"> 3372</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;To-hit bonus: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03373" name="l03373"></a><span class="lineno"> 3373</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a22e5b87c820d8b3323ffb43788bfe17c">m_to_hit</a> ) );</div>
<div class="line"><a id="l03374" name="l03374"></a><span class="lineno"> 3374</span>        }</div>
<div class="line"><a id="l03375" name="l03375"></a><span class="lineno"> 3375</span> </div>
<div class="line"><a id="l03376" name="l03376"></a><span class="lineno"> 3376</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa52620fa7ac46300572fe8ab4a186d1b0">iteminfo_parts::BASE_MOVES</a> ) ) {</div>
<div class="line"><a id="l03377" name="l03377"></a><span class="lineno"> 3377</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Moves per attack: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03378" name="l03378"></a><span class="lineno"> 3378</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, <a class="code hl_function" href="classitem.html#ae75cd02ac10dda906018f27096a6efa9">attack_cost</a>() ) );</div>
<div class="line"><a id="l03379" name="l03379"></a><span class="lineno"> 3379</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Typical damage per second:&quot;</span> ), <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l03380" name="l03380"></a><span class="lineno"> 3380</span>            <span class="keyword">const</span> std::map&lt;std::string, double&gt; &amp;dps_data = <a class="code hl_function" href="classitem.html#a797cccb8d7a567cb34ab5cfcd226ec27">dps</a>( <span class="keyword">true</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l03381" name="l03381"></a><span class="lineno"> 3381</span>            std::string sep;</div>
<div class="line"><a id="l03382" name="l03382"></a><span class="lineno"> 3382</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const std::string, double&gt; &amp;dps_entry : dps_data ) {</div>
<div class="line"><a id="l03383" name="l03383"></a><span class="lineno"> 3383</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;BASE&quot;</span>, sep + dps_entry.first + <span class="stringliteral">&quot;: &quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l03384" name="l03384"></a><span class="lineno"> 3384</span>                                   <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l03385" name="l03385"></a><span class="lineno"> 3385</span>                                   dps_entry.second );</div>
<div class="line"><a id="l03386" name="l03386"></a><span class="lineno"> 3386</span>                sep = <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a>;</div>
<div class="line"><a id="l03387" name="l03387"></a><span class="lineno"> 3387</span>            }</div>
<div class="line"><a id="l03388" name="l03388"></a><span class="lineno"> 3388</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;BASE&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l03389" name="l03389"></a><span class="lineno"> 3389</span>        }</div>
<div class="line"><a id="l03390" name="l03390"></a><span class="lineno"> 3390</span>    }</div>
<div class="line"><a id="l03391" name="l03391"></a><span class="lineno"> 3391</span> </div>
<div class="line"><a id="l03392" name="l03392"></a><span class="lineno"> 3392</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab5838b25437614ec77a9a8dee31e27f5">iteminfo_parts::DESCRIPTION_TECHNIQUES</a> ) ) {</div>
<div class="line"><a id="l03393" name="l03393"></a><span class="lineno"> 3393</span>        std::set&lt;matec_id&gt; all_techniques = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#af120b48958f64cb16301d76d95d57d6a">techniques</a>;</div>
<div class="line"><a id="l03394" name="l03394"></a><span class="lineno"> 3394</span>        all_techniques.insert( <a class="code hl_variable" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>.begin(), <a class="code hl_variable" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>.end() );</div>
<div class="line"><a id="l03395" name="l03395"></a><span class="lineno"> 3395</span> </div>
<div class="line"><a id="l03396" name="l03396"></a><span class="lineno"> 3396</span>        <span class="keywordflow">if</span>( !all_techniques.empty() ) {</div>
<div class="line"><a id="l03397" name="l03397"></a><span class="lineno"> 3397</span>            <span class="keyword">const</span> std::vector&lt;matec_id&gt; all_tec_sorted = <a class="code hl_function" href="string__id__utils_8h.html#ae1571ed28c2d17ee7a7d6973aa31e8b5">sorted_lex</a>( all_techniques );</div>
<div class="line"><a id="l03398" name="l03398"></a><span class="lineno"> 3398</span>            <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03399" name="l03399"></a><span class="lineno"> 3399</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Techniques when wielded&lt;/bold&gt;: &quot;</span> ) +</div>
<div class="line"><a id="l03400" name="l03400"></a><span class="lineno"> 3400</span>            <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( all_tec_sorted.begin(), all_tec_sorted.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">matec_id</a> &amp; tid ) {</div>
<div class="line"><a id="l03401" name="l03401"></a><span class="lineno"> 3401</span>                return string_format( <span class="stringliteral">&quot;&lt;stat&gt;%s&lt;/stat&gt;: &lt;info&gt;%s&lt;/info&gt;&quot;</span>, _( tid.obj().name ),</div>
<div class="line"><a id="l03402" name="l03402"></a><span class="lineno"> 3402</span>                                      _( tid.obj().description ) );</div>
<div class="line"><a id="l03403" name="l03403"></a><span class="lineno"> 3403</span>            } ) ) );</div>
<div class="line"><a id="l03404" name="l03404"></a><span class="lineno"> 3404</span>        }</div>
<div class="line"><a id="l03405" name="l03405"></a><span class="lineno"> 3405</span>    }</div>
<div class="line"><a id="l03406" name="l03406"></a><span class="lineno"> 3406</span> </div>
<div class="line"><a id="l03407" name="l03407"></a><span class="lineno"> 3407</span>    <span class="comment">// display which martial arts styles character can use with this weapon</span></div>
<div class="line"><a id="l03408" name="l03408"></a><span class="lineno"> 3408</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf5b11c68a15a74d1a95636d4af06c7fa">iteminfo_parts::DESCRIPTION_APPLICABLEMARTIALARTS</a> ) ) {</div>
<div class="line"><a id="l03409" name="l03409"></a><span class="lineno"> 3409</span>        <span class="keyword">const</span> std::string valid_styles = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.martial_arts_data-&gt;enumerate_known_styles( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l03410" name="l03410"></a><span class="lineno"> 3410</span>        <span class="keywordflow">if</span>( !valid_styles.empty() ) {</div>
<div class="line"><a id="l03411" name="l03411"></a><span class="lineno"> 3411</span>            <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03412" name="l03412"></a><span class="lineno"> 3412</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03413" name="l03413"></a><span class="lineno"> 3413</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You know how to use this with these martial arts &quot;</span></div>
<div class="line"><a id="l03414" name="l03414"></a><span class="lineno"> 3414</span>                                         <span class="stringliteral">&quot;styles: &quot;</span> ) + valid_styles ) );</div>
<div class="line"><a id="l03415" name="l03415"></a><span class="lineno"> 3415</span>        }</div>
<div class="line"><a id="l03416" name="l03416"></a><span class="lineno"> 3416</span>    }</div>
<div class="line"><a id="l03417" name="l03417"></a><span class="lineno"> 3417</span> </div>
<div class="line"><a id="l03418" name="l03418"></a><span class="lineno"> 3418</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aae5d9490c49c95e551245d7f1cf69cb5">flag_REACH_ATTACK</a> ) &amp;&amp;</div>
<div class="line"><a id="l03419" name="l03419"></a><span class="lineno"> 3419</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab2afd4a6277b698ee512778caa6febf8">iteminfo_parts::DESCRIPTION_GUNMOD_ADDREACHATTACK</a> ) ) {</div>
<div class="line"><a id="l03420" name="l03420"></a><span class="lineno"> 3420</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03421" name="l03421"></a><span class="lineno"> 3421</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a011ca7576b4a18c6cd3c8e3ec54fa6e2">flag_REACH3</a> ) ) {</div>
<div class="line"><a id="l03422" name="l03422"></a><span class="lineno"> 3422</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03423" name="l03423"></a><span class="lineno"> 3423</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item can be used to make &lt;stat&gt;long reach &quot;</span></div>
<div class="line"><a id="l03424" name="l03424"></a><span class="lineno"> 3424</span>                                         <span class="stringliteral">&quot;attacks&lt;/stat&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l03425" name="l03425"></a><span class="lineno"> 3425</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03426" name="l03426"></a><span class="lineno"> 3426</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03427" name="l03427"></a><span class="lineno"> 3427</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item can be used to make &lt;stat&gt;reach &quot;</span></div>
<div class="line"><a id="l03428" name="l03428"></a><span class="lineno"> 3428</span>                                         <span class="stringliteral">&quot;attacks&lt;/stat&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l03429" name="l03429"></a><span class="lineno"> 3429</span>        }</div>
<div class="line"><a id="l03430" name="l03430"></a><span class="lineno"> 3430</span>    }</div>
<div class="line"><a id="l03431" name="l03431"></a><span class="lineno"> 3431</span> </div>
<div class="line"><a id="l03432" name="l03432"></a><span class="lineno"> 3432</span>    <span class="keywordflow">if</span>( ( dmg_bash || dmg_cut || dmg_stab || <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a22e5b87c820d8b3323ffb43788bfe17c">m_to_hit</a> &gt; 0 ) || <a class="code hl_variable" href="cached__options_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> ) {</div>
<div class="line"><a id="l03433" name="l03433"></a><span class="lineno"> 3433</span>        <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> non_crit;</div>
<div class="line"><a id="l03434" name="l03434"></a><span class="lineno"> 3434</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.roll_all_damage( <span class="keyword">false</span>, non_crit, <span class="keyword">true</span>, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l03435" name="l03435"></a><span class="lineno"> 3435</span>        <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> crit;</div>
<div class="line"><a id="l03436" name="l03436"></a><span class="lineno"> 3436</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.roll_all_damage( <span class="keyword">true</span>, crit, <span class="keyword">true</span>, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l03437" name="l03437"></a><span class="lineno"> 3437</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classitem.html#ae75cd02ac10dda906018f27096a6efa9">attack_cost</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.attack_cost( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l03438" name="l03438"></a><span class="lineno"> 3438</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03439" name="l03439"></a><span class="lineno"> 3439</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaacb04b55844124d02ab4f05a877a0a0ea">iteminfo_parts::DESCRIPTION_MELEEDMG</a> ) ) {</div>
<div class="line"><a id="l03440" name="l03440"></a><span class="lineno"> 3440</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Average melee damage&lt;/bold&gt;:&quot;</span> ) ) );</div>
<div class="line"><a id="l03441" name="l03441"></a><span class="lineno"> 3441</span>        }</div>
<div class="line"><a id="l03442" name="l03442"></a><span class="lineno"> 3442</span>        <span class="comment">// Chance of critical hit</span></div>
<div class="line"><a id="l03443" name="l03443"></a><span class="lineno"> 3443</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa77442a937fb6af35a59186ae8128306b">iteminfo_parts::DESCRIPTION_MELEEDMG_CRIT</a> ) ) {</div>
<div class="line"><a id="l03444" name="l03444"></a><span class="lineno"> 3444</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03445" name="l03445"></a><span class="lineno"> 3445</span>                                      <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Critical hit chance &lt;neutral&gt;%d%% - %d%%&lt;/neutral&gt;&quot;</span> ),</div>
<div class="line"><a id="l03446" name="l03446"></a><span class="lineno"> 3446</span>                                              <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.crit_chance( 0, 100, *<span class="keyword">this</span> ) *</div>
<div class="line"><a id="l03447" name="l03447"></a><span class="lineno"> 3447</span>                                                      100 ),</div>
<div class="line"><a id="l03448" name="l03448"></a><span class="lineno"> 3448</span>                                              <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.crit_chance( 100, 0, *<span class="keyword">this</span> ) *</div>
<div class="line"><a id="l03449" name="l03449"></a><span class="lineno"> 3449</span>                                                      100 ) ) ) );</div>
<div class="line"><a id="l03450" name="l03450"></a><span class="lineno"> 3450</span>        }</div>
<div class="line"><a id="l03451" name="l03451"></a><span class="lineno"> 3451</span>        <span class="comment">// Bash damage</span></div>
<div class="line"><a id="l03452" name="l03452"></a><span class="lineno"> 3452</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf91c22c0fb390acccc617a06a2599c81">iteminfo_parts::DESCRIPTION_MELEEDMG_BASH</a> ) ) {</div>
<div class="line"><a id="l03453" name="l03453"></a><span class="lineno"> 3453</span>            <span class="comment">// NOTE: Using &quot;BASE&quot; instead of &quot;DESCRIPTION&quot;, so numerical formatting will work</span></div>
<div class="line"><a id="l03454" name="l03454"></a><span class="lineno"> 3454</span>            <span class="comment">// (output.cpp:format_item_info does not interpolate &lt;num&gt; for DESCRIPTION info)</span></div>
<div class="line"><a id="l03455" name="l03455"></a><span class="lineno"> 3455</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bashing: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>,</div>
<div class="line"><a id="l03456" name="l03456"></a><span class="lineno"> 3456</span>                                      non_crit.<a class="code hl_function" href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">type_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a> ) ) );</div>
<div class="line"><a id="l03457" name="l03457"></a><span class="lineno"> 3457</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Critical bash: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>,</div>
<div class="line"><a id="l03458" name="l03458"></a><span class="lineno"> 3458</span>                                      crit.<a class="code hl_function" href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">type_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a> ) ) );</div>
<div class="line"><a id="l03459" name="l03459"></a><span class="lineno"> 3459</span>        }</div>
<div class="line"><a id="l03460" name="l03460"></a><span class="lineno"> 3460</span>        <span class="comment">// Cut damage</span></div>
<div class="line"><a id="l03461" name="l03461"></a><span class="lineno"> 3461</span>        <span class="keywordflow">if</span>( ( non_crit.<a class="code hl_function" href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">type_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a> ) &gt; 0.0f || crit.<a class="code hl_function" href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">type_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a> ) &gt; 0.0f )</div>
<div class="line"><a id="l03462" name="l03462"></a><span class="lineno"> 3462</span>            &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabffbe6b7003abd3c53f1f609f9b134b8">iteminfo_parts::DESCRIPTION_MELEEDMG_CUT</a> ) ) {</div>
<div class="line"><a id="l03463" name="l03463"></a><span class="lineno"> 3463</span> </div>
<div class="line"><a id="l03464" name="l03464"></a><span class="lineno"> 3464</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Cutting: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>,</div>
<div class="line"><a id="l03465" name="l03465"></a><span class="lineno"> 3465</span>                                      non_crit.<a class="code hl_function" href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">type_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a> ) ) );</div>
<div class="line"><a id="l03466" name="l03466"></a><span class="lineno"> 3466</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Critical cut: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>,</div>
<div class="line"><a id="l03467" name="l03467"></a><span class="lineno"> 3467</span>                                      crit.<a class="code hl_function" href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">type_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a> ) ) );</div>
<div class="line"><a id="l03468" name="l03468"></a><span class="lineno"> 3468</span>        }</div>
<div class="line"><a id="l03469" name="l03469"></a><span class="lineno"> 3469</span>        <span class="comment">// Pierce/stab damage</span></div>
<div class="line"><a id="l03470" name="l03470"></a><span class="lineno"> 3470</span>        <span class="keywordflow">if</span>( ( non_crit.<a class="code hl_function" href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">type_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a> ) &gt; 0.0f || crit.<a class="code hl_function" href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">type_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a> ) &gt; 0.0f )</div>
<div class="line"><a id="l03471" name="l03471"></a><span class="lineno"> 3471</span>            &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa2d553816b3ccd737d9f04d03c42ae6dd">iteminfo_parts::DESCRIPTION_MELEEDMG_PIERCE</a> ) ) {</div>
<div class="line"><a id="l03472" name="l03472"></a><span class="lineno"> 3472</span> </div>
<div class="line"><a id="l03473" name="l03473"></a><span class="lineno"> 3473</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Piercing: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>,</div>
<div class="line"><a id="l03474" name="l03474"></a><span class="lineno"> 3474</span>                                      non_crit.<a class="code hl_function" href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">type_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a> ) ) );</div>
<div class="line"><a id="l03475" name="l03475"></a><span class="lineno"> 3475</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Critical pierce: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>,</div>
<div class="line"><a id="l03476" name="l03476"></a><span class="lineno"> 3476</span>                                      crit.<a class="code hl_function" href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">type_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a> ) ) );</div>
<div class="line"><a id="l03477" name="l03477"></a><span class="lineno"> 3477</span>        }</div>
<div class="line"><a id="l03478" name="l03478"></a><span class="lineno"> 3478</span>        <span class="comment">// Moves</span></div>
<div class="line"><a id="l03479" name="l03479"></a><span class="lineno"> 3479</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad0a3f4aa5c78e900f55d39ba41d6c9ff">iteminfo_parts::DESCRIPTION_MELEEDMG_MOVES</a> ) ) {</div>
<div class="line"><a id="l03480" name="l03480"></a><span class="lineno"> 3480</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Moves per attack: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>,</div>
<div class="line"><a id="l03481" name="l03481"></a><span class="lineno"> 3481</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, <a class="code hl_function" href="classitem.html#ae75cd02ac10dda906018f27096a6efa9">attack_cost</a> ) );</div>
<div class="line"><a id="l03482" name="l03482"></a><span class="lineno"> 3482</span>        }</div>
<div class="line"><a id="l03483" name="l03483"></a><span class="lineno"> 3483</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03484" name="l03484"></a><span class="lineno"> 3484</span>    }</div>
<div class="line"><a id="l03485" name="l03485"></a><span class="lineno"> 3485</span>}</div>
<div class="ttc" id="acached__options_8cpp_html_aa021995764a0c77f628e3411497239cc"><div class="ttname"><a href="cached__options_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a></div><div class="ttdeci">bool debug_mode</div><div class="ttdoc">Extended debugging mode, can be toggled during game.</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00004">cached_options.cpp:4</a></div></div>
<div class="ttc" id="aclassitem_html_ae75cd02ac10dda906018f27096a6efa9"><div class="ttname"><a href="classitem.html#ae75cd02ac10dda906018f27096a6efa9">item::attack_cost</a></div><div class="ttdeci">int attack_cost() const</div><div class="ttdoc">Base number of moves (Creature::moves) that a single melee attack with this items takes.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05084">item.cpp:5084</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a></div><div class="ttdeci">@ DT_STAB</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00027">damage.h:27</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a></div><div class="ttdeci">@ DT_BASH</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00024">damage.h:24</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a></div><div class="ttdeci">@ DT_CUT</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00025">damage.h:25</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a011ca7576b4a18c6cd3c8e3ec54fa6e2"><div class="ttname"><a href="item_8cpp.html#a011ca7576b4a18c6cd3c8e3ec54fa6e2">flag_REACH3</a></div><div class="ttdeci">static const std::string flag_REACH3(&quot;REACH3&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aae5d9490c49c95e551245d7f1cf69cb5"><div class="ttname"><a href="item_8cpp.html#aae5d9490c49c95e551245d7f1cf69cb5">flag_REACH_ATTACK</a></div><div class="ttdeci">static const std::string flag_REACH_ATTACK(&quot;REACH_ATTACK&quot;)</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa1c321648d4dd9c894f346daded141455"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1c321648d4dd9c894f346daded141455">iteminfo_parts::BASE_DAMAGE</a></div><div class="ttdeci">@ BASE_DAMAGE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa2d553816b3ccd737d9f04d03c42ae6dd"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa2d553816b3ccd737d9f04d03c42ae6dd">iteminfo_parts::DESCRIPTION_MELEEDMG_PIERCE</a></div><div class="ttdeci">@ DESCRIPTION_MELEEDMG_PIERCE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa52620fa7ac46300572fe8ab4a186d1b0"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa52620fa7ac46300572fe8ab4a186d1b0">iteminfo_parts::BASE_MOVES</a></div><div class="ttdeci">@ BASE_MOVES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa77442a937fb6af35a59186ae8128306b"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa77442a937fb6af35a59186ae8128306b">iteminfo_parts::DESCRIPTION_MELEEDMG_CRIT</a></div><div class="ttdeci">@ DESCRIPTION_MELEEDMG_CRIT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaab2afd4a6277b698ee512778caa6febf8"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab2afd4a6277b698ee512778caa6febf8">iteminfo_parts::DESCRIPTION_GUNMOD_ADDREACHATTACK</a></div><div class="ttdeci">@ DESCRIPTION_GUNMOD_ADDREACHATTACK</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaab5838b25437614ec77a9a8dee31e27f5"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab5838b25437614ec77a9a8dee31e27f5">iteminfo_parts::DESCRIPTION_TECHNIQUES</a></div><div class="ttdeci">@ DESCRIPTION_TECHNIQUES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaabffbe6b7003abd3c53f1f609f9b134b8"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabffbe6b7003abd3c53f1f609f9b134b8">iteminfo_parts::DESCRIPTION_MELEEDMG_CUT</a></div><div class="ttdeci">@ DESCRIPTION_MELEEDMG_CUT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaacb04b55844124d02ab4f05a877a0a0ea"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaacb04b55844124d02ab4f05a877a0a0ea">iteminfo_parts::DESCRIPTION_MELEEDMG</a></div><div class="ttdeci">@ DESCRIPTION_MELEEDMG</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaad0a3f4aa5c78e900f55d39ba41d6c9ff"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad0a3f4aa5c78e900f55d39ba41d6c9ff">iteminfo_parts::DESCRIPTION_MELEEDMG_MOVES</a></div><div class="ttdeci">@ DESCRIPTION_MELEEDMG_MOVES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaf5b11c68a15a74d1a95636d4af06c7fa"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf5b11c68a15a74d1a95636d4af06c7fa">iteminfo_parts::DESCRIPTION_APPLICABLEMARTIALARTS</a></div><div class="ttdeci">@ DESCRIPTION_APPLICABLEMARTIALARTS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaf91c22c0fb390acccc617a06a2599c81"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf91c22c0fb390acccc617a06a2599c81">iteminfo_parts::DESCRIPTION_MELEEDMG_BASH</a></div><div class="ttdeci">@ DESCRIPTION_MELEEDMG_BASH</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaff564f8fd99c036ec6c012ad5a01d2f5"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaff564f8fd99c036ec6c012ad5a01d2f5">iteminfo_parts::BASE_TOHIT</a></div><div class="ttdeci">@ BASE_TOHIT</div></div>
<div class="ttc" id="astructdamage__instance_html_a49a115522012b203ebff570ea59f7743"><div class="ttname"><a href="structdamage__instance.html#a49a115522012b203ebff570ea59f7743">damage_instance::type_damage</a></div><div class="ttdeci">float type_damage(damage_type dt) const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00064">damage.cpp:64</a></div></div>
<div class="ttc" id="astructitype_html_a22e5b87c820d8b3323ffb43788bfe17c"><div class="ttname"><a href="structitype.html#a22e5b87c820d8b3323ffb43788bfe17c">itype::m_to_hit</a></div><div class="ttdeci">int m_to_hit</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00998">itype.h:998</a></div></div>
<div class="ttc" id="astructitype_html_af120b48958f64cb16301d76d95d57d6a"><div class="ttname"><a href="structitype.html#af120b48958f64cb16301d76d95d57d6a">itype::techniques</a></div><div class="ttdeci">std::set&lt; matec_id &gt; techniques</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00933">itype.h:933</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l05084">attack_cost()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1c321648d4dd9c894f346daded141455">BASE_DAMAGE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa52620fa7ac46300572fe8ab4a186d1b0">BASE_MOVES</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaff564f8fd99c036ec6c012ad5a01d2f5">BASE_TOHIT</a>, <a class="el" href="item_8cpp_source.html#l05091">damage_melee()</a>, <a class="el" href="cached__options_8cpp_source.html#l00004">debug_mode</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf5b11c68a15a74d1a95636d4af06c7fa">DESCRIPTION_APPLICABLEMARTIALARTS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab2afd4a6277b698ee512778caa6febf8">DESCRIPTION_GUNMOD_ADDREACHATTACK</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaacb04b55844124d02ab4f05a877a0a0ea">DESCRIPTION_MELEEDMG</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf91c22c0fb390acccc617a06a2599c81">DESCRIPTION_MELEEDMG_BASH</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa77442a937fb6af35a59186ae8128306b">DESCRIPTION_MELEEDMG_CRIT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabffbe6b7003abd3c53f1f609f9b134b8">DESCRIPTION_MELEEDMG_CUT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad0a3f4aa5c78e900f55d39ba41d6c9ff">DESCRIPTION_MELEEDMG_MOVES</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa2d553816b3ccd737d9f04d03c42ae6dd">DESCRIPTION_MELEEDMG_PIERCE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab5838b25437614ec77a9a8dee31e27f5">DESCRIPTION_TECHNIQUES</a>, <a class="el" href="item_8cpp_source.html#l01433">dps()</a>, <a class="el" href="damage_8h_source.html#l00024">DT_BASH</a>, <a class="el" href="damage_8h_source.html#l00025">DT_CUT</a>, <a class="el" href="damage_8h_source.html#l00027">DT_STAB</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="item_8cpp.html#a011ca7576b4a18c6cd3c8e3ec54fa6e2">flag_REACH3()</a>, <a class="el" href="item_8cpp.html#aae5d9490c49c95e551245d7f1cf69cb5">flag_REACH_ATTACK()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8h_source.html#l00142">iteminfo::is_decimal</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="item_8h_source.html#l00145">iteminfo::lower_is_better</a>, <a class="el" href="itype_8h_source.html#l00998">itype::m_to_hit</a>, <a class="el" href="item_8h_source.html#l00141">iteminfo::no_flags</a>, <a class="el" href="item_8h_source.html#l00144">iteminfo::no_newline</a>, <a class="el" href="item_8h_source.html#l00147">iteminfo::show_plus</a>, <a class="el" href="string__id__utils_8h_source.html#l00022">sorted_lex()</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::space</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="item_8h_source.html#l02170">techniques</a>, <a class="el" href="itype_8h_source.html#l00933">itype::techniques</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="damage_8cpp_source.html#l00064">damage_instance::type_damage()</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a5cc833f71e0454446fd0f877d24f6585" name="a5cc833f71e0454446fd0f877d24f6585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cc833f71e0454446fd0f877d24f6585">&#9670;&nbsp;</a></span>common_ammo_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> item::common_ammo_default </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>conversion</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get default ammo for the first ammotype common to an item and its current magazine or "NULL" if none exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversion</td><td>whether to include the effect of any flags or mods which convert the type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>itype_id of default ammo for the first ammotype common to an item and its current magazine or "NULL" if none exists </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07455">7455</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07456" name="l07456"></a><span class="lineno"> 7456</span>{</div>
<div class="line"><a id="l07457" name="l07457"></a><span class="lineno"> 7457</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>( conversion ).empty() ) {</div>
<div class="line"><a id="l07458" name="l07458"></a><span class="lineno"> 7458</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>( conversion ) ) {</div>
<div class="line"><a id="l07459" name="l07459"></a><span class="lineno"> 7459</span>            <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *mag = <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>();</div>
<div class="line"><a id="l07460" name="l07460"></a><span class="lineno"> 7460</span>            <span class="keywordflow">if</span>( mag &amp;&amp; mag-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;type.count( at ) ) {</div>
<div class="line"><a id="l07461" name="l07461"></a><span class="lineno"> 7461</span>                <a class="code hl_class" href="classstring__id.html">itype_id</a> res = at-&gt;default_ammotype();</div>
<div class="line"><a id="l07462" name="l07462"></a><span class="lineno"> 7462</span>                <span class="keywordflow">if</span>( !res.<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a id="l07463" name="l07463"></a><span class="lineno"> 7463</span>                    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07464" name="l07464"></a><span class="lineno"> 7464</span>                }</div>
<div class="line"><a id="l07465" name="l07465"></a><span class="lineno"> 7465</span>            }</div>
<div class="line"><a id="l07466" name="l07466"></a><span class="lineno"> 7466</span>        }</div>
<div class="line"><a id="l07467" name="l07467"></a><span class="lineno"> 7467</span>    }</div>
<div class="line"><a id="l07468" name="l07468"></a><span class="lineno"> 7468</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">itype_id::NULL_ID</a>();</div>
<div class="line"><a id="l07469" name="l07469"></a><span class="lineno"> 7469</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="string__id_8h_source.html#l00298">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; itype &gt;::NULL_ID()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">player::gun_value()</a>, and <a class="el" href="player_8cpp_source.html#l03519">player::gunmod_add()</a>.</p>

</div>
</div>
<a id="a733d3f8bc85cb1bc0e8d87b6ed5af7ac" name="a733d3f8bc85cb1bc0e8d87b6ed5af7ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a733d3f8bc85cb1bc0e8d87b6ed5af7ac">&#9670;&nbsp;</a></span>component_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::component_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03068">3068</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03070" name="l03070"></a><span class="lineno"> 3070</span>{</div>
<div class="line"><a id="l03071" name="l03071"></a><span class="lineno"> 3071</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.empty() || !parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa68c87b5b76e6830a909f2f02a517d4a9">iteminfo_parts::DESCRIPTION_COMPONENTS_MADEFROM</a> ) ) {</div>
<div class="line"><a id="l03072" name="l03072"></a><span class="lineno"> 3072</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03073" name="l03073"></a><span class="lineno"> 3073</span>    }</div>
<div class="line"><a id="l03074" name="l03074"></a><span class="lineno"> 3074</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l03075" name="l03075"></a><span class="lineno"> 3075</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Using: %s&quot;</span> ),</div>
<div class="line"><a id="l03076" name="l03076"></a><span class="lineno"> 3076</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <a class="code hl_function" href="classitem.html#adce9200620918ac031843f985f6cbfb7">components_to_string</a>() ) ) ) );</div>
<div class="line"><a id="l03077" name="l03077"></a><span class="lineno"> 3077</span>        <span class="comment">// Ugly hack warning! Corpses have CBMs as their components</span></div>
<div class="line"><a id="l03078" name="l03078"></a><span class="lineno"> 3078</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a id="l03079" name="l03079"></a><span class="lineno"> 3079</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Made from: %s&quot;</span> ),</div>
<div class="line"><a id="l03080" name="l03080"></a><span class="lineno"> 3080</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <a class="code hl_function" href="classitem.html#adce9200620918ac031843f985f6cbfb7">components_to_string</a>() ) ) ) );</div>
<div class="line"><a id="l03081" name="l03081"></a><span class="lineno"> 3081</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;bionics_scanned_by&quot;</span>, -1 ) == <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>().getID().get_value() ) {</div>
<div class="line"><a id="l03082" name="l03082"></a><span class="lineno"> 3082</span>        <span class="comment">// TODO: Extract into a more proper place (function in namespace)</span></div>
<div class="line"><a id="l03083" name="l03083"></a><span class="lineno"> 3083</span>        std::string bionics_string = <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.begin(), <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.end(),</div>
<div class="line"><a id="l03084" name="l03084"></a><span class="lineno"> 3084</span>        []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; entry ) -&gt; std::string {</div>
<div class="line"><a id="l03085" name="l03085"></a><span class="lineno"> 3085</span>            return entry.is_bionic() ? entry.display_name() : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l03086" name="l03086"></a><span class="lineno"> 3086</span>        }, <a class="code hl_enumvalue" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a> );</div>
<div class="line"><a id="l03087" name="l03087"></a><span class="lineno"> 3087</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Contains: %s&quot;</span> ),</div>
<div class="line"><a id="l03088" name="l03088"></a><span class="lineno"> 3088</span>                                  bionics_string ) ) );</div>
<div class="line"><a id="l03089" name="l03089"></a><span class="lineno"> 3089</span>    }</div>
<div class="line"><a id="l03090" name="l03090"></a><span class="lineno"> 3090</span>}</div>
<div class="ttc" id="aclassitem_html_adce9200620918ac031843f985f6cbfb7"><div class="ttname"><a href="classitem.html#adce9200620918ac031843f985f6cbfb7">item::components_to_string</a></div><div class="ttdeci">std::string components_to_string() const</div><div class="ttdoc">List of all components in printable form, empty if this item has no components.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08733">item.cpp:8733</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa68c87b5b76e6830a909f2f02a517d4a9"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa68c87b5b76e6830a909f2f02a517d4a9">iteminfo_parts::DESCRIPTION_COMPONENTS_MADEFROM</a></div><div class="ttdeci">@ DESCRIPTION_COMPONENTS_MADEFROM</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="item_8cpp_source.html#l08733">components_to_string()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa68c87b5b76e6830a909f2f02a517d4a9">DESCRIPTION_COMPONENTS_MADEFROM</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="avatar_8cpp_source.html#l00100">get_avatar()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, <a class="el" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, and <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="adce9200620918ac031843f985f6cbfb7" name="adce9200620918ac031843f985f6cbfb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adce9200620918ac031843f985f6cbfb7">&#9670;&nbsp;</a></span>components_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::components_to_string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of all <a class="el" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> in printable form, empty if this item has no components. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08733">8733</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08734" name="l08734"></a><span class="lineno"> 8734</span>{</div>
<div class="line"><a id="l08735" name="l08735"></a><span class="lineno"> 8735</span>    <span class="keyword">using</span> t_count_map = std::map&lt;std::string, int&gt;;</div>
<div class="line"><a id="l08736" name="l08736"></a><span class="lineno"> 8736</span>    t_count_map counts;</div>
<div class="line"><a id="l08737" name="l08737"></a><span class="lineno"> 8737</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;elem : <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l08738" name="l08738"></a><span class="lineno"> 8738</span>        <span class="keywordflow">if</span>( !elem.has_flag( <a class="code hl_function" href="item_8cpp.html#a7db9c307e6c910db699fffaccf9c5e0d">flag_BYPRODUCT</a> ) ) {</div>
<div class="line"><a id="l08739" name="l08739"></a><span class="lineno"> 8739</span>            <span class="keyword">const</span> std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = elem.display_name();</div>
<div class="line"><a id="l08740" name="l08740"></a><span class="lineno"> 8740</span>            counts[<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>]++;</div>
<div class="line"><a id="l08741" name="l08741"></a><span class="lineno"> 8741</span>        }</div>
<div class="line"><a id="l08742" name="l08742"></a><span class="lineno"> 8742</span>    }</div>
<div class="line"><a id="l08743" name="l08743"></a><span class="lineno"> 8743</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( counts.begin(), counts.end(),</div>
<div class="line"><a id="l08744" name="l08744"></a><span class="lineno"> 8744</span>    []( <span class="keyword">const</span> std::pair&lt;std::string, int&gt; &amp;entry ) -&gt; std::string {</div>
<div class="line"><a id="l08745" name="l08745"></a><span class="lineno"> 8745</span>        if( entry.second != 1 )</div>
<div class="line"><a id="l08746" name="l08746"></a><span class="lineno"> 8746</span>        {</div>
<div class="line"><a id="l08747" name="l08747"></a><span class="lineno"> 8747</span>            return string_format( pgettext( <span class="stringliteral">&quot;components count&quot;</span>, <span class="stringliteral">&quot;%d x %s&quot;</span> ), entry.second, entry.first );</div>
<div class="line"><a id="l08748" name="l08748"></a><span class="lineno"> 8748</span>        } <span class="keywordflow">else</span></div>
<div class="line"><a id="l08749" name="l08749"></a><span class="lineno"> 8749</span>        {</div>
<div class="line"><a id="l08750" name="l08750"></a><span class="lineno"> 8750</span>            return entry.first;</div>
<div class="line"><a id="l08751" name="l08751"></a><span class="lineno"> 8751</span>        }</div>
<div class="line"><a id="l08752" name="l08752"></a><span class="lineno"> 8752</span>    }, <a class="code hl_enumvalue" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a> );</div>
<div class="line"><a id="l08753" name="l08753"></a><span class="lineno"> 8753</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a7db9c307e6c910db699fffaccf9c5e0d"><div class="ttname"><a href="item_8cpp.html#a7db9c307e6c910db699fffaccf9c5e0d">flag_BYPRODUCT</a></div><div class="ttdeci">static const std::string flag_BYPRODUCT(&quot;BYPRODUCT&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="item_8cpp.html#a7db9c307e6c910db699fffaccf9c5e0d">flag_BYPRODUCT()</a>, and <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03068">component_info()</a>.</p>

</div>
</div>
<a id="a2cce9a58e90e7bcc596240004ac54288" name="a2cce9a58e90e7bcc596240004ac54288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cce9a58e90e7bcc596240004ac54288">&#9670;&nbsp;</a></span>conductive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::conductive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the items is conductive. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06328">6328</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06329" name="l06329"></a><span class="lineno"> 6329</span>{</div>
<div class="line"><a id="l06330" name="l06330"></a><span class="lineno"> 6330</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l06331" name="l06331"></a><span class="lineno"> 6331</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06332" name="l06332"></a><span class="lineno"> 6332</span>    }</div>
<div class="line"><a id="l06333" name="l06333"></a><span class="lineno"> 6333</span> </div>
<div class="line"><a id="l06334" name="l06334"></a><span class="lineno"> 6334</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a29822d25418f301087e5c0feab22b3d5">flag_CONDUCTIVE</a> ) ) {</div>
<div class="line"><a id="l06335" name="l06335"></a><span class="lineno"> 6335</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06336" name="l06336"></a><span class="lineno"> 6336</span>    }</div>
<div class="line"><a id="l06337" name="l06337"></a><span class="lineno"> 6337</span> </div>
<div class="line"><a id="l06338" name="l06338"></a><span class="lineno"> 6338</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ad996b682c3a639305ccab4abe76b6e14">flag_NONCONDUCTIVE</a> ) ) {</div>
<div class="line"><a id="l06339" name="l06339"></a><span class="lineno"> 6339</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06340" name="l06340"></a><span class="lineno"> 6340</span>    }</div>
<div class="line"><a id="l06341" name="l06341"></a><span class="lineno"> 6341</span> </div>
<div class="line"><a id="l06342" name="l06342"></a><span class="lineno"> 6342</span>    <span class="comment">// If any material has electricity resistance equal to or lower than flesh (1) we are conductive.</span></div>
<div class="line"><a id="l06343" name="l06343"></a><span class="lineno"> 6343</span>    <span class="keyword">const</span> std::vector&lt;const material_type *&gt; &amp;mats = <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>();</div>
<div class="line"><a id="l06344" name="l06344"></a><span class="lineno"> 6344</span>    <span class="keywordflow">return</span> std::any_of( mats.begin(), mats.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> * mt ) {</div>
<div class="line"><a id="l06345" name="l06345"></a><span class="lineno"> 6345</span>        return mt-&gt;elec_resist() &lt;= 1;</div>
<div class="line"><a id="l06346" name="l06346"></a><span class="lineno"> 6346</span>    } );</div>
<div class="line"><a id="l06347" name="l06347"></a><span class="lineno"> 6347</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a29822d25418f301087e5c0feab22b3d5"><div class="ttname"><a href="item_8cpp.html#a29822d25418f301087e5c0feab22b3d5">flag_CONDUCTIVE</a></div><div class="ttdeci">static const std::string flag_CONDUCTIVE(&quot;CONDUCTIVE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ad996b682c3a639305ccab4abe76b6e14"><div class="ttname"><a href="item_8cpp.html#ad996b682c3a639305ccab4abe76b6e14">flag_NONCONDUCTIVE</a></div><div class="ttdeci">static const std::string flag_NONCONDUCTIVE(&quot;NONCONDUCTIVE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a29822d25418f301087e5c0feab22b3d5">flag_CONDUCTIVE()</a>, <a class="el" href="item_8cpp.html#ad996b682c3a639305ccab4abe76b6e14">flag_NONCONDUCTIVE()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, and <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>.</p>

<p class="reference">Referenced by <a class="el" href="melee_8cpp_source.html#l01530">Character::block_hit()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="melee_8cpp_source.html#l01764">Character::melee_special_effects()</a>, and <a class="el" href="mondefense_8cpp_source.html#l00048">mdefense::zapback()</a>.</p>

</div>
</div>
<a id="a5b2240199659bfe1bc99201615926a57" name="a5b2240199659bfe1bc99201615926a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b2240199659bfe1bc99201615926a57">&#9670;&nbsp;</a></span>contain_monster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::contain_monster </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09338">9338</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09339" name="l09339"></a><span class="lineno"> 9339</span>{</div>
<div class="line"><a id="l09340" name="l09340"></a><span class="lineno"> 9340</span>    <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon_ptr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( target );</div>
<div class="line"><a id="l09341" name="l09341"></a><span class="lineno"> 9341</span>    <span class="keywordflow">if</span>( !mon_ptr ) {</div>
<div class="line"><a id="l09342" name="l09342"></a><span class="lineno"> 9342</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09343" name="l09343"></a><span class="lineno"> 9343</span>    }</div>
<div class="line"><a id="l09344" name="l09344"></a><span class="lineno"> 9344</span>    <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> &amp;f = *mon_ptr;</div>
<div class="line"><a id="l09345" name="l09345"></a><span class="lineno"> 9345</span> </div>
<div class="line"><a id="l09346" name="l09346"></a><span class="lineno"> 9346</span>    <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;contained_json&quot;</span>, ::<a class="code hl_function" href="classitem.html#a4cfe6a9d7c14e5ee594010eb4584dcd0">serialize</a>( f ) );</div>
<div class="line"><a id="l09347" name="l09347"></a><span class="lineno"> 9347</span>    <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;contained_name&quot;</span>, f.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>() );</div>
<div class="line"><a id="l09348" name="l09348"></a><span class="lineno"> 9348</span>    <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s holding %s&quot;</span> ), <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 ),</div>
<div class="line"><a id="l09349" name="l09349"></a><span class="lineno"> 9349</span>                                    f.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>() ) );</div>
<div class="line"><a id="l09350" name="l09350"></a><span class="lineno"> 9350</span>    <span class="comment">// Need to add the weight of the empty container because item::weight uses the &quot;weight&quot; variable directly.</span></div>
<div class="line"><a id="l09351" name="l09351"></a><span class="lineno"> 9351</span>    <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;weight&quot;</span>, <a class="code hl_function" href="namespaceunits.html#a45d721a4da124440a894d4c2bebf40f0">to_milligram</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">weight</a> + f.<a class="code hl_function" href="classmonster.html#ac657665936ef8e009e683c2fa02f4ce3">get_weight</a>() ) );</div>
<div class="line"><a id="l09352" name="l09352"></a><span class="lineno"> 9352</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;remove_zombie( f );</div>
<div class="line"><a id="l09353" name="l09353"></a><span class="lineno"> 9353</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09354" name="l09354"></a><span class="lineno"> 9354</span>}</div>
<div class="ttc" id="aclassitem_html_a4cfe6a9d7c14e5ee594010eb4584dcd0"><div class="ttname"><a href="classitem.html#a4cfe6a9d7c14e5ee594010eb4584dcd0">item::serialize</a></div><div class="ttdeci">void serialize(JsonOut &amp;json) const</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l02359">savegame_json.cpp:2359</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00083">monster.h:84</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00478">monster.h:478</a></div></div>
<div class="ttc" id="aclassmonster_html_ac657665936ef8e009e683c2fa02f4ce3"><div class="ttname"><a href="classmonster.html#ac657665936ef8e009e683c2fa02f4ce3">monster::get_weight</a></div><div class="ttdeci">units::mass get_weight() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02673">monster.cpp:2673</a></div></div>
<div class="ttc" id="anamespaceunits_html_a45d721a4da124440a894d4c2bebf40f0"><div class="ttname"><a href="namespaceunits.html#a45d721a4da124440a894d4c2bebf40f0">units::to_milligram</a></div><div class="ttdeci">constexpr value_type to_milligram(const quantity&lt; value_type, mass_in_milligram_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__mass_8h_source.html#l00061">units_mass.h:61</a></div></div>
<div class="ttc" id="astructitype_html_a4ecb806dae208ff275b4aa50ffcd3902"><div class="ttname"><a href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">itype::weight</a></div><div class="ttdeci">units::mass weight</div><div class="ttdoc">Weight of item ( or each stack member )</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00965">itype.h:965</a></div></div>
<div class="ttc" id="astructitype_html_ad35fbe0013544c1c396944b20b264421"><div class="ttname"><a href="structitype.html#ad35fbe0013544c1c396944b20b264421">itype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00046">itype.cpp:46</a></div></div>
<div class="ttc" id="astructmtype_html_a9a8f4ead67d1836e3f4db624533af5aa"><div class="ttname"><a href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">mtype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity=1) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00065">mtype.cpp:65</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="monster_8cpp_source.html#l02673">monster::get_weight()</a>, <a class="el" href="itype_8cpp_source.html#l00046">itype::nname()</a>, <a class="el" href="mtype_8cpp_source.html#l00065">mtype::nname()</a>, <a class="el" href="savegame__json_8cpp_source.html#l02359">serialize()</a>, <a class="el" href="item_8cpp_source.html#l00992">set_var()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="units__mass_8h_source.html#l00061">units::to_milligram()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="monster_8h_source.html#l00478">monster::type</a>, and <a class="el" href="itype_8h_source.html#l00965">itype::weight</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l09356">iuse::capture_monster_act()</a>.</p>

</div>
</div>
<a id="afc8458b2c9fee9022ea2356dd171f402" name="afc8458b2c9fee9022ea2356dd171f402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc8458b2c9fee9022ea2356dd171f402">&#9670;&nbsp;</a></span>container_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::container_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l02973">2973</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>{</div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() || !parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa80263078017e46b25d6c4f7bc5427e4c">iteminfo_parts::CONTAINER_DETAILS</a> ) ) {</div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span>    }</div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span> </div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__container.html">islot_container</a> &amp;<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> = *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>;</div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span> </div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span>    std::string container_str =  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This container &quot;</span> );</div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span> </div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.seals ) {</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>        container_str += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;can be &lt;info&gt;resealed&lt;/info&gt;, &quot;</span> );</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span>    }</div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.watertight ) {</div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span>        container_str += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;is &lt;info&gt;watertight&lt;/info&gt;, &quot;</span> );</div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>    }</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.preserves ) {</div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>        container_str += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;good&gt;prevents spoiling&lt;/good&gt;, &quot;</span> );</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>    }</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span> </div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span>    container_str += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;can store &lt;info&gt;%s %s&lt;/info&gt;.&quot;</span> ),</div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span>                                    <a class="code hl_function" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.contains ), <a class="code hl_function" href="units__utility_8cpp.html#a258633120714b8c5306866b2df52a41b">volume_units_long</a>() );</div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span> </div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;CONTAINER&quot;</span>, container_str ) );</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>}</div>
<div class="ttc" id="aclassitem_html_a723753bab4cc789e3ec186846c9916a3"><div class="ttname"><a href="classitem.html#a723753bab4cc789e3ec186846c9916a3">item::is_container</a></div><div class="ttdeci">bool is_container() const</div><div class="ttdoc">Whether this is container.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06569">item.cpp:6569</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa80263078017e46b25d6c4f7bc5427e4c"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa80263078017e46b25d6c4f7bc5427e4c">iteminfo_parts::CONTAINER_DETAILS</a></div><div class="ttdeci">@ CONTAINER_DETAILS</div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01031">magic.cpp:1031</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a297635a05a44e1f896fb829a0474f586"><div class="ttname"><a href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a></div><div class="ttdeci">std::string format_volume(const units::volume &amp;volume)</div><div class="ttdoc">Convert, round up and format a volume.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01974">output.cpp:1974</a></div></div>
<div class="ttc" id="astructislot__container_html"><div class="ttname"><a href="structislot__container.html">islot_container</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00209">itype.h:209</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a258633120714b8c5306866b2df52a41b"><div class="ttname"><a href="units__utility_8cpp.html#a258633120714b8c5306866b2df52a41b">volume_units_long</a></div><div class="ttdeci">const char * volume_units_long()</div><div class="ttdoc">Create a units label for a volume value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00049">units_utility.cpp:49</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="magic_8cpp_source.html#l01031">c</a>, <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa80263078017e46b25d6c4f7bc5427e4c">CONTAINER_DETAILS</a>, <a class="el" href="output_8cpp_source.html#l01974">format_volume()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="units__utility_8cpp_source.html#l00049">volume_units_long()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a219a2cb372b167889ab732c9e33a70c5" name="a219a2cb372b167889ab732c9e33a70c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a219a2cb372b167889ab732c9e33a70c5">&#9670;&nbsp;</a></span>contents_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::contents_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03487">3487</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03489" name="l03489"></a><span class="lineno"> 3489</span>{</div>
<div class="line"><a id="l03490" name="l03490"></a><span class="lineno"> 3490</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() || !parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7087619a79dc1f23208e2aaf2e1ad12b">iteminfo_parts::DESCRIPTION_CONTENTS</a> ) ) {</div>
<div class="line"><a id="l03491" name="l03491"></a><span class="lineno"> 3491</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03492" name="l03492"></a><span class="lineno"> 3492</span>    }</div>
<div class="line"><a id="l03493" name="l03493"></a><span class="lineno"> 3493</span>    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> = <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a id="l03494" name="l03494"></a><span class="lineno"> 3494</span> </div>
<div class="line"><a id="l03495" name="l03495"></a><span class="lineno"> 3495</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() : <a class="code hl_function" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a>() ) {</div>
<div class="line"><a id="l03496" name="l03496"></a><span class="lineno"> 3496</span>        std::string mod_str;</div>
<div class="line"><a id="l03497" name="l03497"></a><span class="lineno"> 3497</span>        <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod ) {</div>
<div class="line"><a id="l03498" name="l03498"></a><span class="lineno"> 3498</span>            <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;is_irremovable() ) {</div>
<div class="line"><a id="l03499" name="l03499"></a><span class="lineno"> 3499</span>                mod_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Integrated mod: &quot;</span> );</div>
<div class="line"><a id="l03500" name="l03500"></a><span class="lineno"> 3500</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03501" name="l03501"></a><span class="lineno"> 3501</span>                mod_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mod: &quot;</span> );</div>
<div class="line"><a id="l03502" name="l03502"></a><span class="lineno"> 3502</span>            }</div>
<div class="line"><a id="l03503" name="l03503"></a><span class="lineno"> 3503</span>            mod_str += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;bold&gt;%s&lt;/bold&gt; (%s) &quot;</span>, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;tname(),</div>
<div class="line"><a id="l03504" name="l03504"></a><span class="lineno"> 3504</span>                                      <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;location.name() );</div>
<div class="line"><a id="l03505" name="l03505"></a><span class="lineno"> 3505</span>        }</div>
<div class="line"><a id="l03506" name="l03506"></a><span class="lineno"> 3506</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03507" name="l03507"></a><span class="lineno"> 3507</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, mod_str );</div>
<div class="line"><a id="l03508" name="l03508"></a><span class="lineno"> 3508</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;description.translated() );</div>
<div class="line"><a id="l03509" name="l03509"></a><span class="lineno"> 3509</span>    }</div>
<div class="line"><a id="l03510" name="l03510"></a><span class="lineno"> 3510</span>    <span class="keywordtype">bool</span> contents_header = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03511" name="l03511"></a><span class="lineno"> 3511</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *contents_item : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l03512" name="l03512"></a><span class="lineno"> 3512</span>        <span class="keywordflow">if</span>( !contents_item-&gt;type-&gt;mod ) {</div>
<div class="line"><a id="l03513" name="l03513"></a><span class="lineno"> 3513</span>            <span class="keywordflow">if</span>( !contents_header ) {</div>
<div class="line"><a id="l03514" name="l03514"></a><span class="lineno"> 3514</span>                <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03515" name="l03515"></a><span class="lineno"> 3515</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Contents of this item&lt;/bold&gt;:&quot;</span> ) );</div>
<div class="line"><a id="l03516" name="l03516"></a><span class="lineno"> 3516</span>                contents_header = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03517" name="l03517"></a><span class="lineno"> 3517</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03518" name="l03518"></a><span class="lineno"> 3518</span>                <span class="comment">// Separate items with a blank line</span></div>
<div class="line"><a id="l03519" name="l03519"></a><span class="lineno"> 3519</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> );</div>
<div class="line"><a id="l03520" name="l03520"></a><span class="lineno"> 3520</span>            }</div>
<div class="line"><a id="l03521" name="l03521"></a><span class="lineno"> 3521</span> </div>
<div class="line"><a id="l03522" name="l03522"></a><span class="lineno"> 3522</span>            <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;description = contents_item-&gt;type-&gt;description;</div>
<div class="line"><a id="l03523" name="l03523"></a><span class="lineno"> 3523</span> </div>
<div class="line"><a id="l03524" name="l03524"></a><span class="lineno"> 3524</span>            <span class="keywordflow">if</span>( contents_item-&gt;made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l03525" name="l03525"></a><span class="lineno"> 3525</span>                <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> contents_volume = contents_item-&gt;volume() * batch;</div>
<div class="line"><a id="l03526" name="l03526"></a><span class="lineno"> 3526</span>                <span class="keywordtype">int</span> converted_volume_scale = 0;</div>
<div class="line"><a id="l03527" name="l03527"></a><span class="lineno"> 3527</span>                <span class="keyword">const</span> <span class="keywordtype">double</span> converted_volume =</div>
<div class="line"><a id="l03528" name="l03528"></a><span class="lineno"> 3528</span>                    <a class="code hl_function" href="cata__utility_8cpp.html#a9dbcecb703a6e1111a0552177b6bf9fc">round_up</a>( <a class="code hl_function" href="units__utility_8cpp.html#afa125a0ee11c6790f0be6d3b3707d28a">convert_volume</a>( contents_volume.<a class="code hl_function" href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">value</a>(),</div>
<div class="line"><a id="l03529" name="l03529"></a><span class="lineno"> 3529</span>                                              &amp;converted_volume_scale ), 2 );</div>
<div class="line"><a id="l03530" name="l03530"></a><span class="lineno"> 3530</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, contents_item-&gt;display_name() );</div>
<div class="line"><a id="l03531" name="l03531"></a><span class="lineno"> 3531</span>                <a class="code hl_enumeration" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16">iteminfo::flags</a> f = <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>;</div>
<div class="line"><a id="l03532" name="l03532"></a><span class="lineno"> 3532</span>                <span class="keywordflow">if</span>( converted_volume_scale != 0 ) {</div>
<div class="line"><a id="l03533" name="l03533"></a><span class="lineno"> 3533</span>                    f |= <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>;</div>
<div class="line"><a id="l03534" name="l03534"></a><span class="lineno"> 3534</span>                }</div>
<div class="line"><a id="l03535" name="l03535"></a><span class="lineno"> 3535</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;CONTAINER&quot;</span>, description + <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a>,</div>
<div class="line"><a id="l03536" name="l03536"></a><span class="lineno"> 3536</span>                                   <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;num&gt; %s&quot;</span>, <a class="code hl_function" href="units__utility_8cpp.html#a5c2697027e2386941cdc4f6adbe8faac">volume_units_abbr</a>() ), f,</div>
<div class="line"><a id="l03537" name="l03537"></a><span class="lineno"> 3537</span>                                   converted_volume );</div>
<div class="line"><a id="l03538" name="l03538"></a><span class="lineno"> 3538</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03539" name="l03539"></a><span class="lineno"> 3539</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, contents_item-&gt;display_name() );</div>
<div class="line"><a id="l03540" name="l03540"></a><span class="lineno"> 3540</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, description.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() );</div>
<div class="line"><a id="l03541" name="l03541"></a><span class="lineno"> 3541</span>            }</div>
<div class="line"><a id="l03542" name="l03542"></a><span class="lineno"> 3542</span>        }</div>
<div class="line"><a id="l03543" name="l03543"></a><span class="lineno"> 3543</span>    }</div>
<div class="line"><a id="l03544" name="l03544"></a><span class="lineno"> 3544</span>}</div>
<div class="ttc" id="aclasstranslation_html"><div class="ttname"><a href="classtranslation.html">translation</a></div><div class="ttdoc">Class for storing translation context and raw string for deferred translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00151">translations.h:152</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html_a239e9b238064a23fab11ff2094537958"><div class="ttname"><a href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">units::quantity::value</a></div><div class="ttdeci">constexpr const value_type &amp; value() const</div><div class="ttdoc">Access the raw dimensionless value.</div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00044">units_def.h:44</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa7087619a79dc1f23208e2aaf2e1ad12b"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7087619a79dc1f23208e2aaf2e1ad12b">iteminfo_parts::DESCRIPTION_CONTENTS</a></div><div class="ttdeci">@ DESCRIPTION_CONTENTS</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="units__utility_8cpp_source.html#l00096">convert_volume()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7087619a79dc1f23208e2aaf2e1ad12b">DESCRIPTION_CONTENTS</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8h_source.html#l00142">iteminfo::is_decimal</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8h_source.html#l00144">iteminfo::no_newline</a>, <a class="el" href="cata__utility_8cpp_source.html#l00042">round_up()</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::space</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, <a class="el" href="translations_8cpp_source.html#l00309">translation::translated()</a>, <a class="el" href="units__def_8h_source.html#l00044">units::quantity&lt; V, U &gt;::value()</a>, and <a class="el" href="units__utility_8cpp_source.html#l00037">volume_units_abbr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="ac2165c43ba47bfecf5e3cff16a3c3f03" name="ac2165c43ba47bfecf5e3cff16a3c3f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2165c43ba47bfecf5e3cff16a3c3f03">&#9670;&nbsp;</a></span>contents_made_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::contents_made_of </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5">phase_id</a>&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If contents nonempty, return true if item phase is same, else false. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06315">6315</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06316" name="l06316"></a><span class="lineno"> 6316</span>{</div>
<div class="line"><a id="l06317" name="l06317"></a><span class="lineno"> 6317</span>    <span class="keywordflow">return</span> !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( phase );</div>
<div class="line"><a id="l06318" name="l06318"></a><span class="lineno"> 6318</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, and <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, and <a class="el" href="player_8cpp_source.html#l02389">player::list_ammo()</a>.</p>

</div>
</div>
<a id="a768ea4fe5f4b0b5054a91c4bab1a5bab" name="a768ea4fe5f4b0b5054a91c4bab1a5bab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a768ea4fe5f4b0b5054a91c4bab1a5bab">&#9670;&nbsp;</a></span>contextualize_skill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> item::contextualize_skill </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts the skill in context of the item. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09793">9793</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09794" name="l09794"></a><span class="lineno"> 9794</span>{</div>
<div class="line"><a id="l09795" name="l09795"></a><span class="lineno"> 9795</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>-&gt;is_contextual_skill() ) {</div>
<div class="line"><a id="l09796" name="l09796"></a><span class="lineno"> 9796</span>        <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="item_8cpp.html#a35f2f8386cafac888b1488869514370c">skill_weapon</a> ) {</div>
<div class="line"><a id="l09797" name="l09797"></a><span class="lineno"> 9797</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l09798" name="l09798"></a><span class="lineno"> 9798</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>();</div>
<div class="line"><a id="l09799" name="l09799"></a><span class="lineno"> 9799</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa2f8dc7ce32d941473ec949d809ae328">is_melee</a>() ) {</div>
<div class="line"><a id="l09800" name="l09800"></a><span class="lineno"> 9800</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a634166a0674bcf69eb3874c7e7789344">melee_skill</a>();</div>
<div class="line"><a id="l09801" name="l09801"></a><span class="lineno"> 9801</span>            }</div>
<div class="line"><a id="l09802" name="l09802"></a><span class="lineno"> 9802</span>        }</div>
<div class="line"><a id="l09803" name="l09803"></a><span class="lineno"> 9803</span>    }</div>
<div class="line"><a id="l09804" name="l09804"></a><span class="lineno"> 9804</span> </div>
<div class="line"><a id="l09805" name="l09805"></a><span class="lineno"> 9805</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>;</div>
<div class="line"><a id="l09806" name="l09806"></a><span class="lineno"> 9806</span>}</div>
<div class="ttc" id="aclassitem_html_a3d8542661f2e2a82e8cb3792584912f3"><div class="ttname"><a href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">item::gun_skill</a></div><div class="ttdeci">skill_id gun_skill() const</div><div class="ttdoc">The skill used to operate the gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07026">item.cpp:7026</a></div></div>
<div class="ttc" id="aclassitem_html_a634166a0674bcf69eb3874c7e7789344"><div class="ttname"><a href="classitem.html#a634166a0674bcf69eb3874c7e7789344">item::melee_skill</a></div><div class="ttdeci">skill_id melee_skill() const</div><div class="ttdoc">The most relevant skill used with this melee weapon.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07047">item.cpp:7047</a></div></div>
<div class="ttc" id="aclassitem_html_aa2f8dc7ce32d941473ec949d809ae328"><div class="ttname"><a href="classitem.html#aa2f8dc7ce32d941473ec949d809ae328">item::is_melee</a></div><div class="ttdeci">bool is_melee() const</div><div class="ttdoc">Is this item an effective melee weapon for any damage type?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06517">item.cpp:6517</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a35f2f8386cafac888b1488869514370c"><div class="ttname"><a href="item_8cpp.html#a35f2f8386cafac888b1488869514370c">skill_weapon</a></div><div class="ttdeci">static const skill_id skill_weapon(&quot;weapon&quot;)</div></div>
<div class="ttc" id="anamespacebase__camps_html_a04fa69b1c0952a34dc4a7d26b3f9f786"><div class="ttname"><a href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a></div><div class="ttdeci">const std::string id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00087">basecamp.h:87</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07026">gun_skill()</a>, <a class="el" href="basecamp_8h_source.html#l00087">base_camps::id</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06517">is_melee()</a>, <a class="el" href="item_8cpp_source.html#l07047">melee_skill()</a>, and <a class="el" href="item_8cpp.html#a35f2f8386cafac888b1488869514370c">skill_weapon</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l03347">Character::enumerate_unmet_requirements()</a>, and <a class="el" href="skill_8cpp_source.html#l00344">SkillLevelMap::get_skill_level()</a>.</p>

</div>
</div>
<a id="a4667634357eecafb506b27ee4f5e763b" name="a4667634357eecafb506b27ee4f5e763b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4667634357eecafb506b27ee4f5e763b">&#9670;&nbsp;</a></span>convert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::convert </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>new_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter converting this instance to another type preserving all other aspects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_type</td><td>the type id to convert to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>same instance to allow method chaining </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00530">530</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>{</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> = &amp;*new_type;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <a class="code hl_variable" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ab5ccbb62a76230f61c7047b0f4258ff4">relic_data</a>;</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02193">relic_data</a>, <a class="el" href="itype_8h_source.html#l00865">itype::relic_data</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, <a class="el" href="iuse_8cpp_source.html#l03771">iuse::arrow_flammable()</a>, <a class="el" href="iuse_8cpp_source.html#l03714">iuse::c4()</a>, <a class="el" href="iuse_8cpp_source.html#l07494">iuse::camera()</a>, <a class="el" href="iuse_8cpp_source.html#l03485">iuse::can_goo()</a>, <a class="el" href="item_8cpp_source.html#l00537">deactivate()</a>, <a class="el" href="iuse_8cpp_source.html#l04239">iuse::dive_tank()</a>, <a class="el" href="iuse_8cpp_source.html#l06206">einkpc_download_memory_card()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03741">heal_actor::finish_using()</a>, <a class="el" href="iuse_8cpp_source.html#l03859">iuse::firecracker()</a>, <a class="el" href="iuse_8cpp_source.html#l03818">iuse::firecracker_pack()</a>, <a class="el" href="iuse_8cpp_source.html#l03382">iuse::geiger()</a>, <a class="el" href="iuse_8cpp_source.html#l03560">iuse::granade()</a>, <a class="el" href="iuse_8cpp_source.html#l06131">init_memory_card_with_random_stuff()</a>, <a class="el" href="item_8cpp_source.html#l08539">iteminfo::iteminfo()</a>, <a class="el" href="iuse_8cpp_source.html#l03893">iuse::mininuke()</a>, <a class="el" href="iuse_8cpp_source.html#l03793">iuse::molotov_lit()</a>, <a class="el" href="iuse_8cpp_source.html#l04104">iuse::mp3()</a>, <a class="el" href="iuse_8cpp_source.html#l04190">iuse::mp3_on()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="iuse_8cpp_source.html#l02252">iuse::noise_emitter_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02263">iuse::noise_emitter_on()</a>, <a class="el" href="item_8cpp_source.html#l04424">on_contents_changed()</a>, <a class="el" href="iuse_8cpp_source.html#l02066">iuse::pack_item()</a>, <a class="el" href="item_8cpp_source.html#l09105">process_extinguish()</a>, <a class="el" href="item_8cpp_source.html#l09031">process_litcig()</a>, <a class="el" href="item_8cpp_source.html#l09289">process_wet()</a>, <a class="el" href="iuse_8cpp_source.html#l02120">iuse::radio_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02165">iuse::radio_on()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="iuse_8cpp_source.html#l07973">iuse::radiocaron()</a>, <a class="el" href="iuse_8cpp_source.html#l01980">iuse::rm13armor_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02002">iuse::rm13armor_on()</a>, <a class="el" href="iuse_8cpp_source.html#l04053">iuse::shocktonfa_off()</a>, <a class="el" href="iuse_8cpp_source.html#l04077">iuse::shocktonfa_on()</a>, <a class="el" href="iuse_8cpp_source.html#l04287">iuse::solarpack()</a>, <a class="el" href="iuse_8cpp_source.html#l04316">iuse::solarpack_off()</a>, <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>, <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>, <a class="el" href="iuse_8cpp_source.html#l05571">iuse::towel_common()</a>, <a class="el" href="iuse_8cpp_source.html#l02022">iuse::unpack_item()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02171">fireweapon_off_actor::use()</a>, <a class="el" href="iuse_8cpp_source.html#l04541">iuse::vortex()</a>, and <a class="el" href="iuse_8cpp_source.html#l02093">iuse::water_purifier()</a>.</p>

</div>
</div>
<a id="a6f2be68fcb884d25e7bbd41d98b625b3" name="a6f2be68fcb884d25e7bbd41d98b625b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f2be68fcb884d25e7bbd41d98b625b3">&#9670;&nbsp;</a></span>corpse_volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> item::corpse_volume </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmtype.html">mtype</a> *&#160;</td>
          <td class="paramname"><em>corpse</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Volume check for corpses, helper for <a class="el" href="classitem.html#a1d9c8bbf0bc8223ce3bde8876e99ec8e" title="Simplified, faster volume check for when processing time is important and exact volume is not.">base_volume()</a>. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04941">4941</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04942" name="l04942"></a><span class="lineno"> 4942</span>{</div>
<div class="line"><a id="l04943" name="l04943"></a><span class="lineno"> 4943</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_function" href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">corpse_volume</a> = <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_variable" href="structmtype.html#a228db8f2c45aee4865f92ca5a561889f">volume</a>;</div>
<div class="line"><a id="l04944" name="l04944"></a><span class="lineno"> 4944</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED</a> ) ) {</div>
<div class="line"><a id="l04945" name="l04945"></a><span class="lineno"> 4945</span>        <a class="code hl_function" href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">corpse_volume</a> /= 4;</div>
<div class="line"><a id="l04946" name="l04946"></a><span class="lineno"> 4946</span>    }</div>
<div class="line"><a id="l04947" name="l04947"></a><span class="lineno"> 4947</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS</a> ) || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED</a> ) ) {</div>
<div class="line"><a id="l04948" name="l04948"></a><span class="lineno"> 4948</span>        <a class="code hl_function" href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">corpse_volume</a> *= 0.75;</div>
<div class="line"><a id="l04949" name="l04949"></a><span class="lineno"> 4949</span>    }</div>
<div class="line"><a id="l04950" name="l04950"></a><span class="lineno"> 4950</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6dd10563bf4bc543c31f1282afabaf0f">flag_GIBBED</a> ) ) {</div>
<div class="line"><a id="l04951" name="l04951"></a><span class="lineno"> 4951</span>        <a class="code hl_function" href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">corpse_volume</a> *= 0.85;</div>
<div class="line"><a id="l04952" name="l04952"></a><span class="lineno"> 4952</span>    }</div>
<div class="line"><a id="l04953" name="l04953"></a><span class="lineno"> 4953</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a1d7ac4becfeaaa64b846aa3570298b85">flag_SKINNED</a> ) ) {</div>
<div class="line"><a id="l04954" name="l04954"></a><span class="lineno"> 4954</span>        <a class="code hl_function" href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">corpse_volume</a> *= 0.85;</div>
<div class="line"><a id="l04955" name="l04955"></a><span class="lineno"> 4955</span>    }</div>
<div class="line"><a id="l04956" name="l04956"></a><span class="lineno"> 4956</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">corpse_volume</a> &gt; 0_ml ) {</div>
<div class="line"><a id="l04957" name="l04957"></a><span class="lineno"> 4957</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">corpse_volume</a>;</div>
<div class="line"><a id="l04958" name="l04958"></a><span class="lineno"> 4958</span>    }</div>
<div class="line"><a id="l04959" name="l04959"></a><span class="lineno"> 4959</span>    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid monster volume for corpse&quot;</span> );</div>
<div class="line"><a id="l04960" name="l04960"></a><span class="lineno"> 4960</span>    <span class="keywordflow">return</span> 0_ml;</div>
<div class="line"><a id="l04961" name="l04961"></a><span class="lineno"> 4961</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a6dd10563bf4bc543c31f1282afabaf0f"><div class="ttname"><a href="item_8cpp.html#a6dd10563bf4bc543c31f1282afabaf0f">flag_GIBBED</a></div><div class="ttdeci">static const std::string flag_GIBBED(&quot;GIBBED&quot;)</div></div>
<div class="ttc" id="astructmtype_html_a228db8f2c45aee4865f92ca5a561889f"><div class="ttname"><a href="structmtype.html#a228db8f2c45aee4865f92ca5a561889f">mtype::volume</a></div><div class="ttdeci">units::volume volume</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00260">mtype.h:260</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp_source.html#l04941">corpse_volume()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS()</a>, <a class="el" href="item_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED()</a>, <a class="el" href="item_8cpp.html#a6dd10563bf4bc543c31f1282afabaf0f">flag_GIBBED()</a>, <a class="el" href="item_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED()</a>, <a class="el" href="item_8cpp.html#a1d7ac4becfeaaa64b846aa3570298b85">flag_SKINNED()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, and <a class="el" href="mtype_8h_source.html#l00260">mtype::volume</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="item_8cpp_source.html#l04941">corpse_volume()</a>, and <a class="el" href="item_8cpp_source.html#l04991">volume()</a>.</p>

</div>
</div>
<a id="a016494fa25a7a403fe78fadbd90b267b" name="a016494fa25a7a403fe78fadbd90b267b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016494fa25a7a403fe78fadbd90b267b">&#9670;&nbsp;</a></span>count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If <a class="el" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges()</a>, returns charges, otherwise 1. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05860">5860</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05861" name="l05861"></a><span class="lineno"> 5861</span>{</div>
<div class="line"><a id="l05862" name="l05862"></a><span class="lineno"> 5862</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ? <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> : 1;</div>
<div class="line"><a id="l05863" name="l05863"></a><span class="lineno"> 5863</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">charges</a>, and <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l02112">activity_on_turn_move_loot()</a>, <a class="el" href="map__item__stack_8cpp_source.html#l00033">map_item_stack::add_at_pos()</a>, <a class="el" href="item_8cpp_source.html#l08376">allow_crafting_component()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l05084">attack_cost()</a>, <a class="el" href="consumption_8cpp_source.html#l00353">Character::compute_nutrient_range()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03883">basecamp::distribute_food()</a>, <a class="el" href="character_8cpp_source.html#l02493">Character::drop()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00302">drop_on_map()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00732">wash_activity_actor::finish()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00155">inventory_entry::get_available_count()</a>, <a class="el" href="profession_8cpp_source.html#l00667">json_item_substitution::get_substitution()</a>, <a class="el" href="item_8cpp_source.html#l07749">gun_set_mode()</a>, <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00709">advanced_inventory::move_all_items()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00160">put_into_vehicle()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00452">pickup::reorder_for_dropping()</a>, <a class="el" href="npctrade_8cpp_source.html#l00214">item_pricing::set_values()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01924">tidy_activity()</a>, and <a class="el" href="iuse_8cpp_source.html#l09542">wash_items()</a>.</p>

</div>
</div>
<a id="a40963a016376016eb408bdb9dbb94388" name="a40963a016376016eb408bdb9dbb94388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40963a016376016eb408bdb9dbb94388">&#9670;&nbsp;</a></span>count_by_charges() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::count_by_charges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05855">5855</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05856" name="l05856"></a><span class="lineno"> 5856</span>{</div>
<div class="line"><a id="l05857" name="l05857"></a><span class="lineno"> 5857</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a9defae7ba72f6d0af2e5629c4244f00e">count_by_charges</a>();</div>
<div class="line"><a id="l05858" name="l05858"></a><span class="lineno"> 5858</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l01074">itype::count_by_charges()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l00687">activity_on_turn_wear()</a>, <a class="el" href="vehicle_8cpp_source.html#l05183">vehicle::add_charges()</a>, <a class="el" href="vehicle_8cpp_source.html#l05209">vehicle::add_item()</a>, <a class="el" href="map_8cpp_source.html#l04228">map::add_item_or_charges()</a>, <a class="el" href="item__stack_8cpp_source.html#l00107">item_stack::amount_can_fit()</a>, <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03252">repair_item_actor::can_repair_target()</a>, <a class="el" href="visitable_8cpp_source.html#l00900">charges_of_internal()</a>, <a class="el" href="item_8cpp_source.html#l00861">charges_per_volume()</a>, <a class="el" href="craft__command_8cpp_source.html#l00287">craft_command::check_item_components_missing()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="crafting_8cpp_source.html#l01493">player::consume_items()</a>, <a class="el" href="item_8cpp_source.html#l05860">count()</a>, <a class="el" href="item_8cpp_source.html#l05865">craft_has_charges()</a>, <a class="el" href="recipe_8cpp_source.html#l00471">recipe::create_byproducts()</a>, <a class="el" href="recipe_8cpp_source.html#l00450">recipe::create_results()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="item_8cpp_source.html#l00881">display_stacked_with()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00764">move_items_activity_actor::do_turn()</a>, <a class="el" href="monattack_8cpp_source.html#l00337">mattack::eat_food()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02279">farm_action()</a>, <a class="el" href="consumption_8cpp_source.html#l01338">Character::feed_furnace_with()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01977">fetch_activity()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01086">talk_function::field_harvest()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00993">talk_function::field_plant()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00339">iuse_transform::finalize()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04231">emit_actor::finalize()</a>, <a class="el" href="inventory_8cpp_source.html#l01001">for_each_item_in_both()</a>, <a class="el" href="consumption_8cpp_source.html#l01445">Character::get_acquirable_energy()</a>, <a class="el" href="recipe_8cpp_source.html#l00365">recipe::get_consistency_error()</a>, <a class="el" href="requirements_8cpp_source.html#l00610">requirement_data::get_folded_list()</a>, <a class="el" href="iexamine_8cpp_source.html#l02247">iexamine::get_harvest_items()</a>, <a class="el" href="monexamine_8cpp_source.html#l00633">monexamine::give_items_to()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03104">repair_item_actor::handle_components()</a>, <a class="el" href="requirements_8cpp_source.html#l00805">item_comp::has()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00711">talk_function::individual_mission()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01433">repair_inventory_preset::is_shown()</a>, <a class="el" href="item_8cpp_source.html#l00968">merge_charges()</a>, <a class="el" href="savegame__json_8cpp_source.html#l02119">to_cbc_migration::migration_required()</a>, <a class="el" href="item_8cpp_source.html#l09548">mod_charges()</a>, <a class="el" href="item_8cpp_source.html#l06076">mod_damage()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00709">advanced_inventory::move_all_items()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00964">move_item()</a>, <a class="el" href="npcmove_8cpp_source.html#l03467">npc_throw()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00584">pickup::obtain_and_tokenize_items()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="pickup_8cpp_source.html#l00571">pickup::pick_up()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03727">activity_handlers::plant_seed_finish()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00845">avatar_action::plthrow()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01698">advanced_inventory::query_charges()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01151">vehicle::reload_seeds()</a>, <a class="el" href="crafting_8cpp_source.html#l01299">player::select_item_component()</a>, <a class="el" href="npctalk_8cpp_source.html#l02045">talk_effect_fun_t::set_u_buy_item()</a>, <a class="el" href="npctalk_8cpp_source.html#l02087">talk_effect_fun_t::set_u_sell_item()</a>, <a class="el" href="item_8cpp_source.html#l08069">simulate_burn()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00693">spell_effect::spawn_ethereal_item()</a>, <a class="el" href="item_8cpp_source.html#l00718">split()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="character_8cpp_source.html#l06249">Character::throw_range()</a>, <a class="el" href="ranged_8cpp_source.html#l01061">ranged::throwing_dispersion()</a>, <a class="el" href="npctrade_8cpp_source.html#l00699">npc_trading::trade()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, <a class="el" href="item_8cpp_source.html#l07830">units_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07853">units_sufficient()</a>, <a class="el" href="inventory_8cpp_source.html#l01107">inventory::update_quality_cache()</a>, <a class="el" href="item_8cpp_source.html#l08454">use_charges()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, <a class="el" href="character_8cpp_source.html#l02731">Character::weight_carried_reduced_by()</a>, and <a class="el" href="wish_8cpp_source.html#l00535">debug_menu::wishitem()</a>.</p>

</div>
</div>
<a id="ac239a6d2e48b4dcf6703c20bbce575c5" name="ac239a6d2e48b4dcf6703c20bbce575c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac239a6d2e48b4dcf6703c20bbce575c5">&#9670;&nbsp;</a></span>count_by_charges() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::count_by_charges </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether the item is counted by charges, this is a static wrapper around <a class="el" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>, that does not need an items instance. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09754">9754</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09755" name="l09755"></a><span class="lineno"> 9755</span>{</div>
<div class="line"><a id="l09756" name="l09756"></a><span class="lineno"> 9756</span>    <span class="keywordflow">return</span> <span class="keywordtype">id</span>-&gt;count_by_charges();</div>
<div class="line"><a id="l09757" name="l09757"></a><span class="lineno"> 9757</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5b753d7b46c55de9a5b66bbc2b14b99" name="ad5b753d7b46c55de9a5b66bbc2b14b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5b753d7b46c55de9a5b66bbc2b14b99">&#9670;&nbsp;</a></span>covers() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::covers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a>&#160;</td>
          <td class="paramname"><em>bp</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this item (when worn) covers the given body part. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00740">740</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>{</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ) );</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>}</div>
<div class="ttc" id="abodypart_8cpp_html_ae34a481a7c686b233f2d8c48e43b723a"><div class="ttname"><a href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a></div><div class="ttdeci">const bodypart_str_id &amp; convert_bp(body_part bp)</div><div class="ttdoc">Returns the new id for old token.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00185">bodypart.cpp:185</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bodypart_8cpp_source.html#l00185">convert_bp()</a>, and <a class="el" href="item_8cpp_source.html#l00740">covers()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08130">Character::absorb_hit()</a>, <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="melee_8cpp_source.html#l01530">Character::block_hit()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="game_8cpp_source.html#l12044">check_art_charge_req()</a>, <a class="el" href="mutation_8cpp_source.html#l00220">mutation_branch::conflicts_with_item()</a>, <a class="el" href="item_8cpp_source.html#l00740">covers()</a>, <a class="el" href="dump_8cpp_source.html#l00037">game::dump_stats()</a>, <a class="el" href="item_8cpp_source.html#l04185">on_wear()</a>, <a class="el" href="map__field_8cpp_source.html#l01220">map::player_in_field()</a>, <a class="el" href="player__display_8cpp_source.html#l00094">player::print_encumbrance()</a>, <a class="el" href="player__display_8cpp_source.html#l00059">should_combine_bps()</a>, <a class="el" href="npc_8cpp_source.html#l01045">npc::wear_if_wanted()</a>, <a class="el" href="character_8cpp_source.html#l02170">Character::wear_item()</a>, and <a class="el" href="mondefense_8cpp_source.html#l00048">mdefense::zapback()</a>.</p>

</div>
</div>
<a id="ae18b1e273926e9acfd5792c98f153ea9" name="ae18b1e273926e9acfd5792c98f153ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae18b1e273926e9acfd5792c98f153ea9">&#9670;&nbsp;</a></span>covers() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::covers </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;&#160;</td>
          <td class="paramname"><em>bp</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00745">745</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>{</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aa370bf267d606ed6098dc9d1c518ebf5">get_covered_body_parts</a>().<a class="code hl_function" href="classbody__part__set.html#a450fb1707f17ac6ba5147ea73c3957c2">test</a>( bp-&gt;token );</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>}</div>
<div class="ttc" id="aclassbody__part__set_html_a450fb1707f17ac6ba5147ea73c3957c2"><div class="ttname"><a href="classbody__part__set.html#a450fb1707f17ac6ba5147ea73c3957c2">body_part_set::test</a></div><div class="ttdeci">bool test(const body_part &amp;bp) const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00237">bodypart.h:237</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00750">get_covered_body_parts()</a>, and <a class="el" href="bodypart_8h_source.html#l00237">body_part_set::test()</a>.</p>

</div>
</div>
<a id="a0a1914fabd9248c6aa29f944b3f9e205" name="a0a1914fabd9248c6aa29f944b3f9e205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a1914fabd9248c6aa29f944b3f9e205">&#9670;&nbsp;</a></span>craft_has_charges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::craft_has_charges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05865">5865</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05866" name="l05866"></a><span class="lineno"> 5866</span>{</div>
<div class="line"><a id="l05867" name="l05867"></a><span class="lineno"> 5867</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l05868" name="l05868"></a><span class="lineno"> 5868</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05869" name="l05869"></a><span class="lineno"> 5869</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().empty() ) {</div>
<div class="line"><a id="l05870" name="l05870"></a><span class="lineno"> 5870</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05871" name="l05871"></a><span class="lineno"> 5871</span>    }</div>
<div class="line"><a id="l05872" name="l05872"></a><span class="lineno"> 5872</span> </div>
<div class="line"><a id="l05873" name="l05873"></a><span class="lineno"> 5873</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05874" name="l05874"></a><span class="lineno"> 5874</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, and <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, and <a class="el" href="recipe_8cpp_source.html#l00471">recipe::create_byproducts()</a>.</p>

</div>
</div>
<a id="ad7ead414844fff807b3cf1d69fe37f84" name="ad7ead414844fff807b3cf1d69fe37f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7ead414844fff807b3cf1d69fe37f84">&#9670;&nbsp;</a></span>cut_resist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::cut_resist </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_self</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05909">5909</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05910" name="l05910"></a><span class="lineno"> 5910</span>{</div>
<div class="line"><a id="l05911" name="l05911"></a><span class="lineno"> 5911</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l05912" name="l05912"></a><span class="lineno"> 5912</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05913" name="l05913"></a><span class="lineno"> 5913</span>    }</div>
<div class="line"><a id="l05914" name="l05914"></a><span class="lineno"> 5914</span> </div>
<div class="line"><a id="l05915" name="l05915"></a><span class="lineno"> 5915</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> base_thickness = <a class="code hl_function" href="classitem.html#a3f86c0174d8c700cc3308860c8513798">get_thickness</a>();</div>
<div class="line"><a id="l05916" name="l05916"></a><span class="lineno"> 5916</span>    <span class="keywordtype">float</span> resist = 0;</div>
<div class="line"><a id="l05917" name="l05917"></a><span class="lineno"> 5917</span>    <span class="keywordtype">float</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = <a class="code hl_function" href="classitem.html#a487b1c2d4c6e05794c446b231f39d6e8">get_clothing_mod_val</a>( <a class="code hl_enumvalue" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152a342ae4773f302c28b2d13ff8438f7725">clothing_mod_type_cut</a> );</div>
<div class="line"><a id="l05918" name="l05918"></a><span class="lineno"> 5918</span>    <span class="keywordtype">int</span> eff_thickness = 1;</div>
<div class="line"><a id="l05919" name="l05919"></a><span class="lineno"> 5919</span> </div>
<div class="line"><a id="l05920" name="l05920"></a><span class="lineno"> 5920</span>    <span class="comment">// base resistance</span></div>
<div class="line"><a id="l05921" name="l05921"></a><span class="lineno"> 5921</span>    <span class="comment">// Don&#39;t give reinforced items +armor, just more resistance to ripping</span></div>
<div class="line"><a id="l05922" name="l05922"></a><span class="lineno"> 5922</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> dmg = <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 );</div>
<div class="line"><a id="l05923" name="l05923"></a><span class="lineno"> 5923</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> eff_damage = to_self ? std::min( dmg, 0 ) : <a class="code hl_namespace" href="namespacestd.html">std</a>::max( dmg, 0 );</div>
<div class="line"><a id="l05924" name="l05924"></a><span class="lineno"> 5924</span>    eff_thickness = std::max( 1, base_thickness - eff_damage );</div>
<div class="line"><a id="l05925" name="l05925"></a><span class="lineno"> 5925</span> </div>
<div class="line"><a id="l05926" name="l05926"></a><span class="lineno"> 5926</span>    <span class="keyword">const</span> std::vector&lt;const material_type *&gt; mat_types = <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>();</div>
<div class="line"><a id="l05927" name="l05927"></a><span class="lineno"> 5927</span>    <span class="keywordflow">if</span>( !mat_types.empty() ) {</div>
<div class="line"><a id="l05928" name="l05928"></a><span class="lineno"> 5928</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> *mat : mat_types ) {</div>
<div class="line"><a id="l05929" name="l05929"></a><span class="lineno"> 5929</span>            resist += mat-&gt;cut_resist();</div>
<div class="line"><a id="l05930" name="l05930"></a><span class="lineno"> 5930</span>        }</div>
<div class="line"><a id="l05931" name="l05931"></a><span class="lineno"> 5931</span>        <span class="comment">// Average based on number of materials.</span></div>
<div class="line"><a id="l05932" name="l05932"></a><span class="lineno"> 5932</span>        resist /= mat_types.size();</div>
<div class="line"><a id="l05933" name="l05933"></a><span class="lineno"> 5933</span>    }</div>
<div class="line"><a id="l05934" name="l05934"></a><span class="lineno"> 5934</span> </div>
<div class="line"><a id="l05935" name="l05935"></a><span class="lineno"> 5935</span>    <span class="keywordflow">return</span> std::lround( ( resist * eff_thickness ) + <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l05936" name="l05936"></a><span class="lineno"> 5936</span>}</div>
<div class="ttc" id="aclothing__mod_8h_html_ab129387d97c2c7f0393c210d21df0152a342ae4773f302c28b2d13ff8438f7725"><div class="ttname"><a href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152a342ae4773f302c28b2d13ff8438f7725">clothing_mod_type_cut</a></div><div class="ttdeci">@ clothing_mod_type_cut</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00020">clothing_mod.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="clothing__mod_8h_source.html#l00020">clothing_mod_type_cut</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="item_8cpp_source.html#l09970">get_clothing_mod_val()</a>, <a class="el" href="item_8cpp_source.html#l05759">get_thickness()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, and <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l00282">armor_inventory_preset::armor_inventory_preset()</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00314">anonymous_namespace{armor_layers.cpp}::clothing_protection()</a>, <a class="el" href="item_8cpp_source.html#l06221">damage_resist()</a>, <a class="el" href="item_8cpp_source.html#l05942">stab_resist()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="ae8a58c6fe3c80cded11d6f3ccfa548a3" name="ae8a58c6fe3c80cded11d6f3ccfa548a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a58c6fe3c80cded11d6f3ccfa548a3">&#9670;&nbsp;</a></span>damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::damage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How much damage has the item sustained? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00693">693</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>{</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a>;</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02228">damage_</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="mondeath_8cpp_source.html#l00623">mdeath::broken()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03252">repair_item_actor::can_repair_target()</a>, <a class="el" href="item_8cpp_source.html#l05807">can_revive()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="iuse_8cpp_source.html#l06747">colorized_item_name()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01638">salvage_actor::cut_up()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00144">vehicle_part::damage()</a>, <a class="el" href="item_8cpp_source.html#l06113">damage_color()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00164">vehicle_part::damage_percent()</a>, <a class="el" href="item_8cpp_source.html#l06142">damage_symbol()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03372">repair_item_actor::default_action()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01172">veh_interact::do_repair()</a>, <a class="el" href="item_8cpp_source.html#l06166">durability_indicator()</a>, <a class="el" href="editmap_8cpp_source.html#l01379">editmap::edit_itm()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="item_8cpp_source.html#l06071">get_relative_health()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00159">vehicle_part::health_percent()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00134">vehicle_part::hp()</a>, <a class="el" href="monster_8cpp_source.html#l02758">monster::init_from_item()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00170">vehicle_part::is_broken()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02506">activity_handlers::lockpicking_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01849">activity_handlers::make_zlave_finish()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01380">vehicle::operate_scoop()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="item_8cpp_source.html#l09415">process_blackpowder_fouling()</a>, <a class="el" href="item_8cpp_source.html#l08961">process_corpse()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="game_8cpp_source.html#l05195">game::save_cyborg()</a>, <a class="el" href="suffer_8cpp_source.html#l00429">Character::suffer_from_schizophrenia()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="aa918a6274dd357deafb91444e201927e" name="aa918a6274dd357deafb91444e201927e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa918a6274dd357deafb91444e201927e">&#9670;&nbsp;</a></span>damage_color()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> item::damage_color </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provide color for UI display dependent upon current item damage level. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06113">6113</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06114" name="l06114"></a><span class="lineno"> 6114</span>{</div>
<div class="line"><a id="l06115" name="l06115"></a><span class="lineno"> 6115</span>    <span class="comment">// TODO: unify with veh_interact::countDurability</span></div>
<div class="line"><a id="l06116" name="l06116"></a><span class="lineno"> 6116</span>    <span class="keywordflow">switch</span>( <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) ) {</div>
<div class="line"><a id="l06117" name="l06117"></a><span class="lineno"> 6117</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l06118" name="l06118"></a><span class="lineno"> 6118</span>            <span class="comment">// reinforced</span></div>
<div class="line"><a id="l06119" name="l06119"></a><span class="lineno"> 6119</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &lt;= <a class="code hl_function" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a>() ) {</div>
<div class="line"><a id="l06120" name="l06120"></a><span class="lineno"> 6120</span>                <span class="comment">// fully reinforced</span></div>
<div class="line"><a id="l06121" name="l06121"></a><span class="lineno"> 6121</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>;</div>
<div class="line"><a id="l06122" name="l06122"></a><span class="lineno"> 6122</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06123" name="l06123"></a><span class="lineno"> 6123</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>;</div>
<div class="line"><a id="l06124" name="l06124"></a><span class="lineno"> 6124</span>            }</div>
<div class="line"><a id="l06125" name="l06125"></a><span class="lineno"> 6125</span>        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l06126" name="l06126"></a><span class="lineno"> 6126</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>;</div>
<div class="line"><a id="l06127" name="l06127"></a><span class="lineno"> 6127</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l06128" name="l06128"></a><span class="lineno"> 6128</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a id="l06129" name="l06129"></a><span class="lineno"> 6129</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l06130" name="l06130"></a><span class="lineno"> 6130</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>;</div>
<div class="line"><a id="l06131" name="l06131"></a><span class="lineno"> 6131</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l06132" name="l06132"></a><span class="lineno"> 6132</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>;</div>
<div class="line"><a id="l06133" name="l06133"></a><span class="lineno"> 6133</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l06134" name="l06134"></a><span class="lineno"> 6134</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt;= <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() ) {</div>
<div class="line"><a id="l06135" name="l06135"></a><span class="lineno"> 6135</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a id="l06136" name="l06136"></a><span class="lineno"> 6136</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06137" name="l06137"></a><span class="lineno"> 6137</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a id="l06138" name="l06138"></a><span class="lineno"> 6138</span>            }</div>
<div class="line"><a id="l06139" name="l06139"></a><span class="lineno"> 6139</span>    }</div>
<div class="line"><a id="l06140" name="l06140"></a><span class="lineno"> 6140</span>}</div>
<div class="ttc" id="aclassitem_html_a8f94ab0bb7b77ec4157ec5af2f8493b7"><div class="ttname"><a href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">item::min_damage</a></div><div class="ttdeci">int min_damage() const</div><div class="ttdoc">Minimum amount of damage to an item (state of maximum repair)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06061">item.cpp:6061</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00020">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00022">c_green</a>, <a class="el" href="color_8h_source.html#l00028">c_light_green</a>, <a class="el" href="color_8h_source.html#l00027">c_light_red</a>, <a class="el" href="color_8h_source.html#l00025">c_magenta</a>, <a class="el" href="color_8h_source.html#l00021">c_red</a>, <a class="el" href="color_8h_source.html#l00032">c_yellow</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>, and <a class="el" href="item_8cpp_source.html#l06061">min_damage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06166">durability_indicator()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00105">vehicle_part::name()</a>, and <a class="el" href="veh__utils_8cpp_source.html#l00109">veh_utils::repair_part()</a>.</p>

</div>
</div>
<a id="a5be1c00110bff10a98ab02b8410c9af7" name="a5be1c00110bff10a98ab02b8410c9af7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be1c00110bff10a98ab02b8410c9af7">&#9670;&nbsp;</a></span>damage_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::damage_level </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scale item damage to the given number of levels. </p>
<p >This function is here mostly for back-compatibility. It should not be used when doing continuous math with the damage value: use <a class="el" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3" title="How much damage has the item sustained?">damage()</a> instead.</p>
<p >For example, for max = 4, min_damage = -1000, max_damage = 4000 damage level -1000 ~ -1 -1 0 0 1 ~ 1333 1 1334 ~ 2666 2 2667 ~ 3999 3 4000 4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max</td><td>Maximum number of levels </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00698">698</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>{</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> == 0 || max &lt;= 0 ) {</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() &lt;= 1 ) {</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> &gt; 0 ? max : <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a>;</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> &lt; 0 ) {</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>        <span class="keywordflow">return</span> -( ( max - 1 ) * ( -<a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> - 1 ) / ( <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() - 1 ) + 1 );</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        <span class="keywordflow">return</span> ( max - 1 ) * ( <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> - 1 ) / ( <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() - 1 ) + 1;</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    }</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02228">damage_</a>, and <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08272">Character::armor_absorb()</a>, <a class="el" href="item_8cpp_source.html#l05881">bash_resist()</a>, <a class="el" href="item_8cpp_source.html#l05948">bullet_resist()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01126">activity_handlers::butcher_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00866">butchery_drops_harvest()</a>, <a class="el" href="iuse_8cpp_source.html#l03072">iuse::chainsaw_off()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="iuse_8cpp_source.html#l03090">iuse::cs_lajatang_off()</a>, <a class="el" href="item_8cpp_source.html#l05909">cut_resist()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01638">salvage_actor::cut_up()</a>, <a class="el" href="item_8cpp_source.html#l06113">damage_color()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00154">vehicle_part::damage_level()</a>, <a class="el" href="item_8cpp_source.html#l05091">damage_melee()</a>, <a class="el" href="item_8cpp_source.html#l06142">damage_symbol()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01172">veh_interact::do_repair()</a>, <a class="el" href="item_8cpp_source.html#l06166">durability_indicator()</a>, <a class="el" href="item_8cpp_source.html#l07119">gun_damage()</a>, <a class="el" href="item_8cpp_source.html#l07072">gun_dispersion()</a>, <a class="el" href="player_8cpp_source.html#l03486">player::gunmod_installation_odds()</a>, <a class="el" href="monster_8cpp_source.html#l02758">monster::init_from_item()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00067">vehicle_part::properties_to_item()</a>, <a class="el" href="item_8cpp_source.html#l05815">ready_to_revive()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03325">repair_item_actor::repair_chance()</a>, <a class="el" href="game_8cpp_source.html#l05195">game::save_cyborg()</a>, <a class="el" href="iuse_8cpp_source.html#l03117">iuse::trimmer_off()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02171">fireweapon_off_actor::use()</a>.</p>

</div>
</div>
<a id="a9d4da29e558173400314e00718341eae" name="a9d4da29e558173400314e00718341eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d4da29e558173400314e00718341eae">&#9670;&nbsp;</a></span>damage_melee()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::damage_melee </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a>&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Damage of given type caused when this item is used as melee weapon. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05091">5091</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05092" name="l05092"></a><span class="lineno"> 5092</span>{</div>
<div class="line"><a id="l05093" name="l05093"></a><span class="lineno"> 5093</span>    assert( dt &gt;= <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a> &amp;&amp; dt &lt; <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aaada32332c0245dc6e4744b66e20cd76f">NUM_DT</a> );</div>
<div class="line"><a id="l05094" name="l05094"></a><span class="lineno"> 5094</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l05095" name="l05095"></a><span class="lineno"> 5095</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05096" name="l05096"></a><span class="lineno"> 5096</span>    }</div>
<div class="line"><a id="l05097" name="l05097"></a><span class="lineno"> 5097</span> </div>
<div class="line"><a id="l05098" name="l05098"></a><span class="lineno"> 5098</span>    <span class="comment">// effectiveness is reduced by 10% per damage level</span></div>
<div class="line"><a id="l05099" name="l05099"></a><span class="lineno"> 5099</span>    <span class="keywordtype">int</span> res = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ae287a1f1bf88e79b98da2bb0893546a7">melee</a>[ dt ];</div>
<div class="line"><a id="l05100" name="l05100"></a><span class="lineno"> 5100</span>    res -= res * std::max( <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ), 0 ) * 0.1;</div>
<div class="line"><a id="l05101" name="l05101"></a><span class="lineno"> 5101</span> </div>
<div class="line"><a id="l05102" name="l05102"></a><span class="lineno"> 5102</span>    <span class="comment">// apply type specific flags</span></div>
<div class="line"><a id="l05103" name="l05103"></a><span class="lineno"> 5103</span>    <span class="keywordflow">switch</span>( dt ) {</div>
<div class="line"><a id="l05104" name="l05104"></a><span class="lineno"> 5104</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>:</div>
<div class="line"><a id="l05105" name="l05105"></a><span class="lineno"> 5105</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ad01ba322b5cd7975fae4a2ffc85e156a">flag_REDUCED_BASHING</a> ) ) {</div>
<div class="line"><a id="l05106" name="l05106"></a><span class="lineno"> 5106</span>                res *= 0.5;</div>
<div class="line"><a id="l05107" name="l05107"></a><span class="lineno"> 5107</span>            }</div>
<div class="line"><a id="l05108" name="l05108"></a><span class="lineno"> 5108</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05109" name="l05109"></a><span class="lineno"> 5109</span> </div>
<div class="line"><a id="l05110" name="l05110"></a><span class="lineno"> 5110</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a>:</div>
<div class="line"><a id="l05111" name="l05111"></a><span class="lineno"> 5111</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a>:</div>
<div class="line"><a id="l05112" name="l05112"></a><span class="lineno"> 5112</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6e3abd26810b9daacc0533ce433b2171">flag_DIAMOND</a> ) ) {</div>
<div class="line"><a id="l05113" name="l05113"></a><span class="lineno"> 5113</span>                res *= 1.3;</div>
<div class="line"><a id="l05114" name="l05114"></a><span class="lineno"> 5114</span>            }</div>
<div class="line"><a id="l05115" name="l05115"></a><span class="lineno"> 5115</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05116" name="l05116"></a><span class="lineno"> 5116</span> </div>
<div class="line"><a id="l05117" name="l05117"></a><span class="lineno"> 5117</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l05118" name="l05118"></a><span class="lineno"> 5118</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05119" name="l05119"></a><span class="lineno"> 5119</span>    }</div>
<div class="line"><a id="l05120" name="l05120"></a><span class="lineno"> 5120</span> </div>
<div class="line"><a id="l05121" name="l05121"></a><span class="lineno"> 5121</span>    <span class="comment">// consider any melee gunmods</span></div>
<div class="line"><a id="l05122" name="l05122"></a><span class="lineno"> 5122</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l05123" name="l05123"></a><span class="lineno"> 5123</span>        <span class="keyword">const</span> std::vector&lt;const item *&gt; &amp;mods = <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>();</div>
<div class="line"><a id="l05124" name="l05124"></a><span class="lineno"> 5124</span>        <span class="keywordflow">return</span> std::accumulate( mods.begin(), mods.end(), res, [dt]( <span class="keywordtype">int</span> last_max, <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> * it ) {</div>
<div class="line"><a id="l05125" name="l05125"></a><span class="lineno"> 5125</span>            return it-&gt;has_flag( flag_MELEE_GUNMOD ) ? std::max( last_max, it-&gt;damage_melee( dt ) ) : last_max;</div>
<div class="line"><a id="l05126" name="l05126"></a><span class="lineno"> 5126</span>        } );</div>
<div class="line"><a id="l05127" name="l05127"></a><span class="lineno"> 5127</span> </div>
<div class="line"><a id="l05128" name="l05128"></a><span class="lineno"> 5128</span>    }</div>
<div class="line"><a id="l05129" name="l05129"></a><span class="lineno"> 5129</span> </div>
<div class="line"><a id="l05130" name="l05130"></a><span class="lineno"> 5130</span>    <span class="keywordflow">return</span> std::max( res, 0 );</div>
<div class="line"><a id="l05131" name="l05131"></a><span class="lineno"> 5131</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a6e3abd26810b9daacc0533ce433b2171"><div class="ttname"><a href="item_8cpp.html#a6e3abd26810b9daacc0533ce433b2171">flag_DIAMOND</a></div><div class="ttdeci">static const std::string flag_DIAMOND(&quot;DIAMOND&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ad01ba322b5cd7975fae4a2ffc85e156a"><div class="ttname"><a href="item_8cpp.html#ad01ba322b5cd7975fae4a2ffc85e156a">flag_REDUCED_BASHING</a></div><div class="ttdeci">static const std::string flag_REDUCED_BASHING(&quot;REDUCED_BASHING&quot;)</div></div>
<div class="ttc" id="astructitype_html_ae287a1f1bf88e79b98da2bb0893546a7"><div class="ttname"><a href="structitype.html#ae287a1f1bf88e79b98da2bb0893546a7">itype::melee</a></div><div class="ttdeci">std::array&lt; int, NUM_DT &gt; melee</div><div class="ttdoc">Damage output in melee for zero or more damage types.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00994">itype.h:994</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="damage_8h_source.html#l00024">DT_BASH</a>, <a class="el" href="damage_8h_source.html#l00025">DT_CUT</a>, <a class="el" href="damage_8h_source.html#l00021">DT_NULL</a>, <a class="el" href="damage_8h_source.html#l00027">DT_STAB</a>, <a class="el" href="item_8cpp.html#a6e3abd26810b9daacc0533ce433b2171">flag_DIAMOND()</a>, <a class="el" href="item_8cpp.html#ad01ba322b5cd7975fae4a2ffc85e156a">flag_REDUCED_BASHING()</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="itype_8h_source.html#l00994">itype::melee</a>, <a class="el" href="damage_8h_source.html#l00032">NUM_DT</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05133">base_damage_melee()</a>, <a class="el" href="item_8cpp_source.html#l03343">combat_info()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01314">weapon_inventory_preset::deals_melee_damage()</a>, <a class="el" href="player_8cpp_source.html#l00901">player::intimidation()</a>, <a class="el" href="item_8cpp_source.html#l06527">is_melee()</a>, <a class="el" href="martialarts_8cpp_source.html#l00484">ma_requirements::is_valid_weapon()</a>, <a class="el" href="item_8cpp_source.html#l07047">melee_skill()</a>, <a class="el" href="melee_8cpp_source.html#l01764">Character::melee_special_effects()</a>, <a class="el" href="melee_8cpp_source.html#l00359">melee_train()</a>, <a class="el" href="character_8cpp_source.html#l09938">Character::power_rating()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01972">activity_handlers::pulp_do_turn()</a>, <a class="el" href="melee_8cpp_source.html#l00622">player::reach_attack()</a>, <a class="el" href="melee_8cpp_source.html#l00840">Character::roll_bash_damage()</a>, <a class="el" href="melee_8cpp_source.html#l00944">Character::roll_cut_damage()</a>, <a class="el" href="melee_8cpp_source.html#l01018">Character::roll_stab_damage()</a>, <a class="el" href="handle__action_8cpp_source.html#l00671">smash()</a>, and <a class="el" href="npc_8cpp_source.html#l02154">npc::smash_ability()</a>.</p>

</div>
</div>
<a id="a6f58f1c6ccece13e5e37aea8a640df20" name="a6f58f1c6ccece13e5e37aea8a640df20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f58f1c6ccece13e5e37aea8a640df20">&#9670;&nbsp;</a></span>damage_resist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::damage_resist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a>&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_self</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resistance provided by this item against damage type given by an enum. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06221">6221</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06222" name="l06222"></a><span class="lineno"> 6222</span>{</div>
<div class="line"><a id="l06223" name="l06223"></a><span class="lineno"> 6223</span>    <span class="keywordflow">switch</span>( dt ) {</div>
<div class="line"><a id="l06224" name="l06224"></a><span class="lineno"> 6224</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a>:</div>
<div class="line"><a id="l06225" name="l06225"></a><span class="lineno"> 6225</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aaada32332c0245dc6e4744b66e20cd76f">NUM_DT</a>:</div>
<div class="line"><a id="l06226" name="l06226"></a><span class="lineno"> 6226</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06227" name="l06227"></a><span class="lineno"> 6227</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa64ca6840e504bdf899795e9e112d9077">DT_TRUE</a>:</div>
<div class="line"><a id="l06228" name="l06228"></a><span class="lineno"> 6228</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aadc0cf68a04ad822c9169fc69791c0d43">DT_BIOLOGICAL</a>:</div>
<div class="line"><a id="l06229" name="l06229"></a><span class="lineno"> 6229</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb">DT_ELECTRIC</a>:</div>
<div class="line"><a id="l06230" name="l06230"></a><span class="lineno"> 6230</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa1d827b8c2d8d7d5008cb94273dd20517">DT_COLD</a>:</div>
<div class="line"><a id="l06231" name="l06231"></a><span class="lineno"> 6231</span>            <span class="comment">// Currently hardcoded:</span></div>
<div class="line"><a id="l06232" name="l06232"></a><span class="lineno"> 6232</span>            <span class="comment">// Items can never be damaged by those types</span></div>
<div class="line"><a id="l06233" name="l06233"></a><span class="lineno"> 6233</span>            <span class="comment">// But they provide 0 protection from them</span></div>
<div class="line"><a id="l06234" name="l06234"></a><span class="lineno"> 6234</span>            <span class="keywordflow">return</span> to_self ? INT_MAX : 0;</div>
<div class="line"><a id="l06235" name="l06235"></a><span class="lineno"> 6235</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>:</div>
<div class="line"><a id="l06236" name="l06236"></a><span class="lineno"> 6236</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a08e362362ade6af1e4e31aca9f70ade7">bash_resist</a>( to_self );</div>
<div class="line"><a id="l06237" name="l06237"></a><span class="lineno"> 6237</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a>:</div>
<div class="line"><a id="l06238" name="l06238"></a><span class="lineno"> 6238</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ad7ead414844fff807b3cf1d69fe37f84">cut_resist</a>( to_self );</div>
<div class="line"><a id="l06239" name="l06239"></a><span class="lineno"> 6239</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90">DT_ACID</a>:</div>
<div class="line"><a id="l06240" name="l06240"></a><span class="lineno"> 6240</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a9b91d51ced70c7329b6c37bdc4c845d5">acid_resist</a>( to_self );</div>
<div class="line"><a id="l06241" name="l06241"></a><span class="lineno"> 6241</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a>:</div>
<div class="line"><a id="l06242" name="l06242"></a><span class="lineno"> 6242</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a5eab0b2465cf9e6ee9dba5e3b15852d1">stab_resist</a>( to_self );</div>
<div class="line"><a id="l06243" name="l06243"></a><span class="lineno"> 6243</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aae6af44cd6e0e8cafcc63cea198f627c9">DT_HEAT</a>:</div>
<div class="line"><a id="l06244" name="l06244"></a><span class="lineno"> 6244</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a9aa80e0c16baec64375371b22ee21fc2">fire_resist</a>( to_self );</div>
<div class="line"><a id="l06245" name="l06245"></a><span class="lineno"> 6245</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aaad8d2bf05b729b401070cf08e163e0c6">DT_BULLET</a>:</div>
<div class="line"><a id="l06246" name="l06246"></a><span class="lineno"> 6246</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ac6e793a2b6ba3b3c91e1d10962c25a51">bullet_resist</a>( to_self );</div>
<div class="line"><a id="l06247" name="l06247"></a><span class="lineno"> 6247</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l06248" name="l06248"></a><span class="lineno"> 6248</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid damage type: %d&quot;</span>, dt );</div>
<div class="line"><a id="l06249" name="l06249"></a><span class="lineno"> 6249</span>    }</div>
<div class="line"><a id="l06250" name="l06250"></a><span class="lineno"> 6250</span> </div>
<div class="line"><a id="l06251" name="l06251"></a><span class="lineno"> 6251</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06252" name="l06252"></a><span class="lineno"> 6252</span>}</div>
<div class="ttc" id="aclassitem_html_a5eab0b2465cf9e6ee9dba5e3b15852d1"><div class="ttname"><a href="classitem.html#a5eab0b2465cf9e6ee9dba5e3b15852d1">item::stab_resist</a></div><div class="ttdeci">int stab_resist(bool to_self=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05942">item.cpp:5942</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa1d827b8c2d8d7d5008cb94273dd20517"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa1d827b8c2d8d7d5008cb94273dd20517">DT_COLD</a></div><div class="ttdeci">@ DT_COLD</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00029">damage.h:29</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb">DT_ELECTRIC</a></div><div class="ttdeci">@ DT_ELECTRIC</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00030">damage.h:30</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa64ca6840e504bdf899795e9e112d9077"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa64ca6840e504bdf899795e9e112d9077">DT_TRUE</a></div><div class="ttdeci">@ DT_TRUE</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00022">damage.h:22</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90">DT_ACID</a></div><div class="ttdeci">@ DT_ACID</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00026">damage.h:26</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aaad8d2bf05b729b401070cf08e163e0c6"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aaad8d2bf05b729b401070cf08e163e0c6">DT_BULLET</a></div><div class="ttdeci">@ DT_BULLET</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00031">damage.h:31</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aadc0cf68a04ad822c9169fc69791c0d43"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aadc0cf68a04ad822c9169fc69791c0d43">DT_BIOLOGICAL</a></div><div class="ttdeci">@ DT_BIOLOGICAL</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00023">damage.h:23</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aae6af44cd6e0e8cafcc63cea198f627c9"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aae6af44cd6e0e8cafcc63cea198f627c9">DT_HEAT</a></div><div class="ttdeci">@ DT_HEAT</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00028">damage.h:28</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05977">acid_resist()</a>, <a class="el" href="item_8cpp_source.html#l05881">bash_resist()</a>, <a class="el" href="item_8cpp_source.html#l05948">bullet_resist()</a>, <a class="el" href="item_8cpp_source.html#l05909">cut_resist()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="damage_8h_source.html#l00026">DT_ACID</a>, <a class="el" href="damage_8h_source.html#l00024">DT_BASH</a>, <a class="el" href="damage_8h_source.html#l00023">DT_BIOLOGICAL</a>, <a class="el" href="damage_8h_source.html#l00031">DT_BULLET</a>, <a class="el" href="damage_8h_source.html#l00029">DT_COLD</a>, <a class="el" href="damage_8h_source.html#l00025">DT_CUT</a>, <a class="el" href="damage_8h_source.html#l00030">DT_ELECTRIC</a>, <a class="el" href="damage_8h_source.html#l00028">DT_HEAT</a>, <a class="el" href="damage_8h_source.html#l00021">DT_NULL</a>, <a class="el" href="damage_8h_source.html#l00027">DT_STAB</a>, <a class="el" href="damage_8h_source.html#l00022">DT_TRUE</a>, <a class="el" href="item_8cpp_source.html#l06011">fire_resist()</a>, <a class="el" href="damage_8h_source.html#l00032">NUM_DT</a>, and <a class="el" href="item_8cpp_source.html#l05942">stab_resist()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08272">Character::armor_absorb()</a>, and <a class="el" href="damage_8cpp_source.html#l00190">resistances::resistances()</a>.</p>

</div>
</div>
<a id="a3eecb0fa602e42d66ed82a93f5de9a34" name="a3eecb0fa602e42d66ed82a93f5de9a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eecb0fa602e42d66ed82a93f5de9a34">&#9670;&nbsp;</a></span>damage_symbol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::damage_symbol </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provide prefix symbol for UI display dependent upon current item damage level. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06142">6142</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06143" name="l06143"></a><span class="lineno"> 6143</span>{</div>
<div class="line"><a id="l06144" name="l06144"></a><span class="lineno"> 6144</span>    <span class="keywordflow">switch</span>( <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) ) {</div>
<div class="line"><a id="l06145" name="l06145"></a><span class="lineno"> 6145</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l06146" name="l06146"></a><span class="lineno"> 6146</span>            <span class="comment">// reinforced</span></div>
<div class="line"><a id="l06147" name="l06147"></a><span class="lineno"> 6147</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( R<span class="stringliteral">&quot;(++)&quot; );</span></div>
<div class="line"><a id="l06148" name="l06148"></a><span class="lineno"> 6148</span><span class="stringliteral">        </span><span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l06149" name="l06149"></a><span class="lineno"> 6149</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( R<span class="stringliteral">&quot;(||)&quot; );</span></div>
<div class="line"><a id="l06150" name="l06150"></a><span class="lineno"> 6150</span><span class="stringliteral">        </span><span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l06151" name="l06151"></a><span class="lineno"> 6151</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( R<span class="stringliteral">&quot;(|\)&quot; );</span></div>
<div class="line"><a id="l06152" name="l06152"></a><span class="lineno"> 6152</span><span class="stringliteral">        </span><span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l06153" name="l06153"></a><span class="lineno"> 6153</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( R<span class="stringliteral">&quot;(|.)&quot; );</span></div>
<div class="line"><a id="l06154" name="l06154"></a><span class="lineno"> 6154</span><span class="stringliteral">        </span><span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l06155" name="l06155"></a><span class="lineno"> 6155</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( R<span class="stringliteral">&quot;(\.)&quot; );</span></div>
<div class="line"><a id="l06156" name="l06156"></a><span class="lineno"> 6156</span><span class="stringliteral">        </span><span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l06157" name="l06157"></a><span class="lineno"> 6157</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt;= <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() ) {</div>
<div class="line"><a id="l06158" name="l06158"></a><span class="lineno"> 6158</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( R<span class="stringliteral">&quot;(XX)&quot; );</span></div>
<div class="line"><a id="l06159" name="l06159"></a><span class="lineno"> 6159</span><span class="stringliteral">            } </span><span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06160" name="l06160"></a><span class="lineno"> 6160</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( R<span class="stringliteral">&quot;(..)&quot; );</span></div>
<div class="line"><a id="l06161" name="l06161"></a><span class="lineno"> 6161</span><span class="stringliteral">            }</span></div>
<div class="line"><a id="l06162" name="l06162"></a><span class="lineno"> 6162</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l06163" name="l06163"></a><span class="lineno"> 6163</span><span class="stringliteral">    }</span></div>
<div class="line"><a id="l06164" name="l06164"></a><span class="lineno"> 6164</span><span class="stringliteral">}</span></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, and <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06166">durability_indicator()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00105">vehicle_part::name()</a>, and <a class="el" href="veh__utils_8cpp_source.html#l00109">veh_utils::repair_part()</a>.</p>

</div>
</div>
<a id="a3e058f8327de11a69a8e33f597be6d80" name="a3e058f8327de11a69a8e33f597be6d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e058f8327de11a69a8e33f597be6d80">&#9670;&nbsp;</a></span>deactivate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::deactivate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>ch</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>alert</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter converting this instance to the inactive type If the item is either inactive or cannot be deactivated is a no-op. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>character currently possessing or acting upon the item (if any) </td></tr>
    <tr><td class="paramname">alert</td><td>whether to display any messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>same instance to allow method chaining </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00537">537</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>{</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>; <span class="comment">// no-op</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    }</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span> </div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;revert_to ) {</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        <span class="keywordflow">if</span>( ch &amp;&amp; alert &amp;&amp; !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;revert_msg.empty() ) {</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            ch-&gt;<a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;revert_msg ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>        }</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>        <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;revert_to );</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span> </div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    }</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>}</div>
<div class="ttc" id="aclassCreature_html_a91dc4715c36eef7d116f944be9a4d435"><div class="ttname"><a href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a></div><div class="ttdeci">virtual void add_msg_if_player(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00593">creature.h:593</a></div></div>
<div class="ttc" id="aclassitem_html_a4667634357eecafb506b27ee4f5e763b"><div class="ttname"><a href="classitem.html#a4667634357eecafb506b27ee4f5e763b">item::convert</a></div><div class="ttdeci">item &amp; convert(const itype_id &amp;new_type)</div><div class="ttdoc">Filter converting this instance to another type preserving all other aspects.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00530">item.cpp:530</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00258">enums.h:258</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="creature_8h_source.html#l00593">Creature::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l00530">convert()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l02277">iuse::note_bionics()</a>, <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02232">fireweapon_on_actor::use()</a>.</p>

</div>
</div>
<a id="a213df85346f895e9182f3860eec49891" name="a213df85346f895e9182f3860eec49891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a213df85346f895e9182f3860eec49891">&#9670;&nbsp;</a></span>deserialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::deserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonIn.html">JsonIn</a> &amp;&#160;</td>
          <td class="paramname"><em>jsin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02335">2335</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>{</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>    <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> data = jsin.<a class="code hl_function" href="classJsonIn.html#af988f122efed0696d9d05f649e57c9b2">get_object</a>();</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>    data.<a class="code hl_function" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>    <a class="code hl_class" href="classio_1_1JsonObjectInputArchive.html">io::JsonObjectInputArchive</a> archive( data );</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>    <a class="code hl_function" href="classitem.html#a18ede775ada6d0b88f984b9dae6fed00">io</a>( archive );</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>    <span class="comment">// made for fast forwarding time from 0.D to 0.E</span></div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8h.html#ad92349523462977f97edd9afbed2a996">savegame_loading_version</a> &lt; 27 ) {</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>        <a class="code hl_function" href="classitem.html#ac654c33b3e67bc06d01c5d3ee78f752c">legacy_fast_forward_time</a>();</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>    }</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>    <span class="keywordflow">if</span>( data.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;contents&quot;</span> ) ) {</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>        std::list&lt;item&gt; items;</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>        data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;contents&quot;</span>, items );</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>        <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a> = <a class="code hl_class" href="classitem__contents.html">item_contents</a>( items );</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>        data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;contents&quot;</span>, <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a> );</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>    }</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span> </div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>    <span class="comment">// Sealed item migration: items with &quot;unseals_into&quot; set should always have contents</span></div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aabd0667301ad29a57bb257acfd7a4470">is_non_resealable_container</a>() ) {</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>        <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;unseals_into );</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>    }</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>}</div>
<div class="ttc" id="aclassJsonIn_html_af988f122efed0696d9d05f649e57c9b2"><div class="ttname"><a href="classJsonIn.html#af988f122efed0696d9d05f649e57c9b2">JsonIn::get_object</a></div><div class="ttdeci">JsonObject get_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01364">json.cpp:1364</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00831">json.h:832</a></div></div>
<div class="ttc" id="aclassJsonObject_html_aa92b5eb23f6b39645877d79fbef784a0"><div class="ttname"><a href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00415">json.cpp:415</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae00f195360e3783cf50527cf07344202"><div class="ttname"><a href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">JsonObject::allow_omitted_members</a></div><div class="ttdeci">void allow_omitted_members() const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00150">json.cpp:150</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae66d47f9cb4993dfaf79819ec2aff2f8"><div class="ttname"><a href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">JsonObject::read</a></div><div class="ttdeci">bool read(const std::string &amp;name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00944">json.h:944</a></div></div>
<div class="ttc" id="aclassio_1_1JsonObjectInputArchive_html"><div class="ttname"><a href="classio_1_1JsonObjectInputArchive.html">io::JsonObjectInputArchive</a></div><div class="ttdoc">Input archive reading data from a Json object.</div><div class="ttdef"><b>Definition:</b> <a href="cata__io_8h_source.html#l00184">cata_io.h:185</a></div></div>
<div class="ttc" id="aclassitem__contents_html"><div class="ttname"><a href="classitem__contents.html">item_contents</a></div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8h_source.html#l00023">item_contents.h:24</a></div></div>
<div class="ttc" id="aclassitem_html_a18ede775ada6d0b88f984b9dae6fed00"><div class="ttname"><a href="classitem.html#a18ede775ada6d0b88f984b9dae6fed00">item::io</a></div><div class="ttdeci">void io(Archive &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l02156">savegame_json.cpp:2156</a></div></div>
<div class="ttc" id="aclassitem_html_aabd0667301ad29a57bb257acfd7a4470"><div class="ttname"><a href="classitem.html#aabd0667301ad29a57bb257acfd7a4470">item::is_non_resealable_container</a></div><div class="ttdeci">bool is_non_resealable_container() const</div><div class="ttdoc">Whether removing this item's contents will permanently alter it.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06579">item.cpp:6579</a></div></div>
<div class="ttc" id="aclassitem_html_ac654c33b3e67bc06d01c5d3ee78f752c"><div class="ttname"><a href="classitem.html#ac654c33b3e67bc06d01c5d3ee78f752c">item::legacy_fast_forward_time</a></div><div class="ttdeci">void legacy_fast_forward_time()</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09842">item.cpp:9842</a></div></div>
<div class="ttc" id="agame_8h_html_ad92349523462977f97edd9afbed2a996"><div class="ttname"><a href="game_8h.html#ad92349523462977f97edd9afbed2a996">savegame_loading_version</a></div><div class="ttdeci">int savegame_loading_version</div><div class="ttdef"><b>Definition:</b> <a href="savegame_8cpp_source.html#l00066">savegame.cpp:66</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l00150">JsonObject::allow_omitted_members()</a>, <a class="el" href="string__formatter_8h_source.html#l00094">cata::convert()</a>, <a class="el" href="json_8cpp_source.html#l01364">JsonIn::get_object()</a>, <a class="el" href="json_8cpp_source.html#l00415">JsonObject::has_array()</a>, <a class="el" href="json_8h_source.html#l00944">JsonObject::read()</a>, <a class="el" href="savegame_8cpp_source.html#l00066">savegame_loading_version</a>, and <a class="el" href="enums_8h_source.html#l00075">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l01749">inventory::json_load_items()</a>, <a class="el" href="savegame__json_8cpp_source.html#l01769">monster::load()</a>, and <a class="el" href="iuse_8cpp_source.html#l09317">release_monster()</a>.</p>

</div>
</div>
<a id="aa9b33d5c1eadc6daed4520a3ef2415b4" name="aa9b33d5c1eadc6daed4520a3ef2415b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9b33d5c1eadc6daed4520a3ef2415b4">&#9670;&nbsp;</a></span>destroyed_at_zero_charges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::destroyed_at_zero_charges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06362">6362</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06363" name="l06363"></a><span class="lineno"> 6363</span>{</div>
<div class="line"><a id="l06364" name="l06364"></a><span class="lineno"> 6364</span>    <span class="keywordflow">return</span> ( <a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() || <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() );</div>
<div class="line"><a id="l06365" name="l06365"></a><span class="lineno"> 6365</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06432">is_ammo()</a>, and <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>.</p>

</div>
</div>
<a id="ae79cfef3dd3698b98478cfc08ba20a01" name="ae79cfef3dd3698b98478cfc08ba20a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae79cfef3dd3698b98478cfc08ba20a01">&#9670;&nbsp;</a></span>detonate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::detonate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>drops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detonates the item and adds remains (if any) to drops. </p>
<p >Returns true if the item actually detonated, potentially destroying other items and invalidating iterators. Should NOT be called on an item on the map, but on a local copy. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08592">8592</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08593" name="l08593"></a><span class="lineno"> 8593</span>{</div>
<div class="line"><a id="l08594" name="l08594"></a><span class="lineno"> 8594</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a15ce9f3914d2afb7992e4683a0996791">explosion</a> ) {</div>
<div class="line"><a id="l08595" name="l08595"></a><span class="lineno"> 8595</span>        <a class="code hl_function" href="namespaceexplosion__handler.html#aedf90c876bd69288b266c6a60dbc91dc">explosion_handler::explosion</a>( p, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a15ce9f3914d2afb7992e4683a0996791">explosion</a> );</div>
<div class="line"><a id="l08596" name="l08596"></a><span class="lineno"> 8596</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08597" name="l08597"></a><span class="lineno"> 8597</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> &amp;&amp; ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;special_cookoff || <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;cookoff ) ) {</div>
<div class="line"><a id="l08598" name="l08598"></a><span class="lineno"> 8598</span>        <span class="keywordtype">int</span> charges_remaining = <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l08599" name="l08599"></a><span class="lineno"> 8599</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> rounds_exploded = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, charges_remaining );</div>
<div class="line"><a id="l08600" name="l08600"></a><span class="lineno"> 8600</span>        <span class="comment">// Yank the exploding item off the map for the duration of the explosion</span></div>
<div class="line"><a id="l08601" name="l08601"></a><span class="lineno"> 8601</span>        <span class="comment">// so it doesn&#39;t blow itself up.</span></div>
<div class="line"><a id="l08602" name="l08602"></a><span class="lineno"> 8602</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structislot__ammo.html">islot_ammo</a> &amp;<a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a> = *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>;</div>
<div class="line"><a id="l08603" name="l08603"></a><span class="lineno"> 8603</span> </div>
<div class="line"><a id="l08604" name="l08604"></a><span class="lineno"> 8604</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>.special_cookoff ) {</div>
<div class="line"><a id="l08605" name="l08605"></a><span class="lineno"> 8605</span>            <span class="comment">// If it has a special effect just trigger it.</span></div>
<div class="line"><a id="l08606" name="l08606"></a><span class="lineno"> 8606</span>            <a class="code hl_function" href="projectile_8cpp.html#a8d1d738056c0d5abc83c7f3ca7666e64">apply_ammo_effects</a>( p, <a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>.ammo_effects );</div>
<div class="line"><a id="l08607" name="l08607"></a><span class="lineno"> 8607</span>        }</div>
<div class="line"><a id="l08608" name="l08608"></a><span class="lineno"> 8608</span>        charges_remaining -= rounds_exploded;</div>
<div class="line"><a id="l08609" name="l08609"></a><span class="lineno"> 8609</span>        <span class="keywordflow">if</span>( charges_remaining &gt; 0 ) {</div>
<div class="line"><a id="l08610" name="l08610"></a><span class="lineno"> 8610</span>            <a class="code hl_class" href="classitem.html">item</a> temp_item = *<span class="keyword">this</span>;</div>
<div class="line"><a id="l08611" name="l08611"></a><span class="lineno"> 8611</span>            temp_item.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = charges_remaining;</div>
<div class="line"><a id="l08612" name="l08612"></a><span class="lineno"> 8612</span>            drops.push_back( temp_item );</div>
<div class="line"><a id="l08613" name="l08613"></a><span class="lineno"> 8613</span>        }</div>
<div class="line"><a id="l08614" name="l08614"></a><span class="lineno"> 8614</span> </div>
<div class="line"><a id="l08615" name="l08615"></a><span class="lineno"> 8615</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08616" name="l08616"></a><span class="lineno"> 8616</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; ( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a> || !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;protects_contents ) ) {</div>
<div class="line"><a id="l08617" name="l08617"></a><span class="lineno"> 8617</span>        std::vector&lt;item *&gt; removed_items;</div>
<div class="line"><a id="l08618" name="l08618"></a><span class="lineno"> 8618</span>        <span class="keywordtype">bool</span> detonated = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08619" name="l08619"></a><span class="lineno"> 8619</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *it : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l08620" name="l08620"></a><span class="lineno"> 8620</span>            <span class="keywordflow">if</span>( it-&gt;detonate( p, drops ) ) {</div>
<div class="line"><a id="l08621" name="l08621"></a><span class="lineno"> 8621</span>                removed_items.push_back( it );</div>
<div class="line"><a id="l08622" name="l08622"></a><span class="lineno"> 8622</span>                detonated = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08623" name="l08623"></a><span class="lineno"> 8623</span>            }</div>
<div class="line"><a id="l08624" name="l08624"></a><span class="lineno"> 8624</span>        }</div>
<div class="line"><a id="l08625" name="l08625"></a><span class="lineno"> 8625</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *it : removed_items ) {</div>
<div class="line"><a id="l08626" name="l08626"></a><span class="lineno"> 8626</span>            <a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *it );</div>
<div class="line"><a id="l08627" name="l08627"></a><span class="lineno"> 8627</span>        }</div>
<div class="line"><a id="l08628" name="l08628"></a><span class="lineno"> 8628</span>        <span class="keywordflow">return</span> detonated;</div>
<div class="line"><a id="l08629" name="l08629"></a><span class="lineno"> 8629</span>    }</div>
<div class="line"><a id="l08630" name="l08630"></a><span class="lineno"> 8630</span> </div>
<div class="line"><a id="l08631" name="l08631"></a><span class="lineno"> 8631</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08632" name="l08632"></a><span class="lineno"> 8632</span>}</div>
<div class="ttc" id="anamespaceexplosion__handler_html_aedf90c876bd69288b266c6a60dbc91dc"><div class="ttname"><a href="namespaceexplosion__handler.html#aedf90c876bd69288b266c6a60dbc91dc">explosion_handler::explosion</a></div><div class="ttdeci">void explosion(const tripoint &amp;p, float power, float factor, bool fire, int legacy_casing_mass, float)</div><div class="ttdoc">Legacy explosion function.</div><div class="ttdef"><b>Definition:</b> <a href="explosion_8cpp_source.html#l00684">explosion.cpp:684</a></div></div>
<div class="ttc" id="aprojectile_8cpp_html_a8d1d738056c0d5abc83c7f3ca7666e64"><div class="ttname"><a href="projectile_8cpp.html#a8d1d738056c0d5abc83c7f3ca7666e64">apply_ammo_effects</a></div><div class="ttdeci">void apply_ammo_effects(const tripoint &amp;p, const std::set&lt; ammo_effect_str_id &gt; &amp;effects)</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8cpp_source.html#l00110">projectile.cpp:110</a></div></div>
<div class="ttc" id="astructitype_html_a15ce9f3914d2afb7992e4683a0996791"><div class="ttname"><a href="structitype.html#a15ce9f3914d2afb7992e4683a0996791">itype::explosion</a></div><div class="ttdeci">explosion_data explosion</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00945">itype.h:945</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07431">ammo_type()</a>, <a class="el" href="projectile_8cpp_source.html#l00110">apply_ammo_effects()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="explosion_8cpp_source.html#l00684">explosion_handler::explosion()</a>, <a class="el" href="itype_8h_source.html#l00945">itype::explosion</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; item &gt;::remove_item()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="map__field_8cpp_source.html#l00394">map::process_fields_in_submap()</a>.</p>

</div>
</div>
<a id="a4ebb47a7b946240255e3a91e892abab5" name="a4ebb47a7b946240255e3a91e892abab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ebb47a7b946240255e3a91e892abab5">&#9670;&nbsp;</a></span>disassembly_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::disassembly_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03113">3113</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03115" name="l03115"></a><span class="lineno"> 3115</span>{</div>
<div class="line"><a id="l03116" name="l03116"></a><span class="lineno"> 3116</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.empty() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa68c87b5b76e6830a909f2f02a517d4a9">iteminfo_parts::DESCRIPTION_COMPONENTS_MADEFROM</a> ) ) {</div>
<div class="line"><a id="l03117" name="l03117"></a><span class="lineno"> 3117</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03118" name="l03118"></a><span class="lineno"> 3118</span>    }</div>
<div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span>    <span class="keywordflow">if</span>( !parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3097bde01b4addf9cfdd2d211c3ebf57">iteminfo_parts::DESCRIPTION_COMPONENTS_DISASSEMBLE</a> ) ) {</div>
<div class="line"><a id="l03120" name="l03120"></a><span class="lineno"> 3120</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span>    }</div>
<div class="line"><a id="l03122" name="l03122"></a><span class="lineno"> 3122</span> </div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp;dis = <a class="code hl_function" href="classrecipe__dictionary.html#a93af439fed4b5043d9709235e0cea03e">recipe_dictionary::get_uncraft</a>( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structrequirement__data.html">requirement_data</a> &amp;req = dis.<a class="code hl_function" href="classrecipe.html#a555772480849b6e628c94dd0f56af81e">disassembly_requirements</a>();</div>
<div class="line"><a id="l03125" name="l03125"></a><span class="lineno"> 3125</span>    <span class="keywordflow">if</span>( !req.<a class="code hl_function" href="structrequirement__data.html#a7acde751aa71fb09c3272929afae503f">is_empty</a>() ) {</div>
<div class="line"><a id="l03126" name="l03126"></a><span class="lineno"> 3126</span>        <span class="keyword">const</span> std::string approx_time = <a class="code hl_function" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a>( <a class="code hl_function" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( dis.<a class="code hl_variable" href="classrecipe.html#a6f112b43cfa1f07bb48529d110839e6d">time</a> / 100 ) );</div>
<div class="line"><a id="l03127" name="l03127"></a><span class="lineno"> 3127</span> </div>
<div class="line"><a id="l03128" name="l03128"></a><span class="lineno"> 3128</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="structrequirement__data.html#a81eb3f292988bc3b327f50cdcbb74e0c">requirement_data::alter_item_comp_vector</a> &amp;comps_list = req.<a class="code hl_function" href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">get_components</a>();</div>
<div class="line"><a id="l03129" name="l03129"></a><span class="lineno"> 3129</span>        <span class="keyword">const</span> std::string comps_str = <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( comps_list.begin(), comps_list.end(),</div>
<div class="line"><a id="l03130" name="l03130"></a><span class="lineno"> 3130</span>        []( <span class="keyword">const</span> std::vector&lt;item_comp&gt; &amp;comp_opts ) {</div>
<div class="line"><a id="l03131" name="l03131"></a><span class="lineno"> 3131</span>            return comp_opts.front().to_string();</div>
<div class="line"><a id="l03132" name="l03132"></a><span class="lineno"> 3132</span>        } );</div>
<div class="line"><a id="l03133" name="l03133"></a><span class="lineno"> 3133</span> </div>
<div class="line"><a id="l03134" name="l03134"></a><span class="lineno"> 3134</span>        std::vector&lt;std::string&gt; reqs_list;</div>
<div class="line"><a id="l03135" name="l03135"></a><span class="lineno"> 3135</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="structrequirement__data.html#afa25e820b20f0a2ace91a174fafe648a">requirement_data::alter_tool_comp_vector</a> &amp;tools_list = req.<a class="code hl_function" href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">get_tools</a>();</div>
<div class="line"><a id="l03136" name="l03136"></a><span class="lineno"> 3136</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::vector&lt;tool_comp&gt; &amp;it : tools_list ) {</div>
<div class="line"><a id="l03137" name="l03137"></a><span class="lineno"> 3137</span>            <span class="keywordflow">if</span>( !it.empty() ) {</div>
<div class="line"><a id="l03138" name="l03138"></a><span class="lineno"> 3138</span>                reqs_list.push_back( it.front().to_string() );</div>
<div class="line"><a id="l03139" name="l03139"></a><span class="lineno"> 3139</span>            }</div>
<div class="line"><a id="l03140" name="l03140"></a><span class="lineno"> 3140</span>        }</div>
<div class="line"><a id="l03141" name="l03141"></a><span class="lineno"> 3141</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="structrequirement__data.html#a7aa4a6fdb32c1ef086a2d6a9518ff9d0">requirement_data::alter_quali_req_vector</a> &amp;quals_list = req.<a class="code hl_function" href="structrequirement__data.html#ad7733e9b478f08e7e6e1ef94057e3502">get_qualities</a>();</div>
<div class="line"><a id="l03142" name="l03142"></a><span class="lineno"> 3142</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::vector&lt;quality_requirement&gt; &amp;it : quals_list ) {</div>
<div class="line"><a id="l03143" name="l03143"></a><span class="lineno"> 3143</span>            <span class="keywordflow">if</span>( !it.empty() ) {</div>
<div class="line"><a id="l03144" name="l03144"></a><span class="lineno"> 3144</span>                reqs_list.push_back( it.front().to_colored_string() );</div>
<div class="line"><a id="l03145" name="l03145"></a><span class="lineno"> 3145</span>            }</div>
<div class="line"><a id="l03146" name="l03146"></a><span class="lineno"> 3146</span>        }</div>
<div class="line"><a id="l03147" name="l03147"></a><span class="lineno"> 3147</span> </div>
<div class="line"><a id="l03148" name="l03148"></a><span class="lineno"> 3148</span>        std::string descr;</div>
<div class="line"><a id="l03149" name="l03149"></a><span class="lineno"> 3149</span>        <span class="keywordflow">if</span>( reqs_list.empty() ) {</div>
<div class="line"><a id="l03150" name="l03150"></a><span class="lineno"> 3150</span>            <span class="comment">//~ 1 is approx. time (e.g. &#39;about 5 minutes&#39;), 2 is a list of items</span></div>
<div class="line"><a id="l03151" name="l03151"></a><span class="lineno"> 3151</span>            descr = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Disassembly&lt;/bold&gt; takes %1$s and might yield: %2$s.&quot;</span> ),</div>
<div class="line"><a id="l03152" name="l03152"></a><span class="lineno"> 3152</span>                                   approx_time, comps_str );</div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span>            <span class="keyword">const</span> std::string reqs_str = <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( reqs_list );</div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span>            descr = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>(</div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span>                        <span class="comment">//~ 1 is approx. time, 2 is a list of items and tools with qualities, 3 is a list of items.</span></div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"> 3157</span>                        <span class="comment">//~ Bold text in the middle makes it easier to see where the second list starts.</span></div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Disassembly&lt;/bold&gt; takes %1$s, requires %2$s and &lt;bold&gt;might yield&lt;/bold&gt;: %3$s.&quot;</span> ),</div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span>                        approx_time, reqs_str, comps_str );</div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span>        }</div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span> </div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, descr ) );</div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span>    }</div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_a3cbd6a4aa555daec83ee03cc90dd7715"><div class="ttname"><a href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a></div><div class="ttdeci">std::string to_string_approx(const time_duration &amp;dur, const bool verbose)</div><div class="ttdoc">Returns approximate duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00361">calendar.cpp:361</a></div></div>
<div class="ttc" id="aclassrecipe__dictionary_html_a93af439fed4b5043d9709235e0cea03e"><div class="ttname"><a href="classrecipe__dictionary.html#a93af439fed4b5043d9709235e0cea03e">recipe_dictionary::get_uncraft</a></div><div class="ttdeci">static const recipe &amp; get_uncraft(const itype_id &amp;id)</div><div class="ttdoc">Returns disassembly recipe (or null recipe if no match)</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00073">recipe_dictionary.cpp:73</a></div></div>
<div class="ttc" id="aclassrecipe_html"><div class="ttname"><a href="classrecipe.html">recipe</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00034">recipe.h:35</a></div></div>
<div class="ttc" id="aclassrecipe_html_a555772480849b6e628c94dd0f56af81e"><div class="ttname"><a href="classrecipe.html#a555772480849b6e628c94dd0f56af81e">recipe::disassembly_requirements</a></div><div class="ttdeci">requirement_data disassembly_requirements() const</div><div class="ttdoc">If recipe can be used for disassembly fetch the combined requirements.</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00094">recipe.h:94</a></div></div>
<div class="ttc" id="aclassrecipe_html_a6f112b43cfa1f07bb48529d110839e6d"><div class="ttname"><a href="classrecipe.html#a6f112b43cfa1f07bb48529d110839e6d">recipe::time</a></div><div class="ttdeci">int time</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00059">recipe.h:59</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00204">calendar.h:204</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa3097bde01b4addf9cfdd2d211c3ebf57"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3097bde01b4addf9cfdd2d211c3ebf57">iteminfo_parts::DESCRIPTION_COMPONENTS_DISASSEMBLE</a></div><div class="ttdeci">@ DESCRIPTION_COMPONENTS_DISASSEMBLE</div></div>
<div class="ttc" id="astructrequirement__data_html"><div class="ttname"><a href="structrequirement__data.html">requirement_data</a></div><div class="ttdoc">The *_vector members represent list of alternatives requirements: alter_tool_comp_vector = { * { { a,...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00215">requirements.h:215</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a175d46943600149603b7a915cb48092b"><div class="ttname"><a href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">requirement_data::get_tools</a></div><div class="ttdeci">const alter_tool_comp_vector &amp; get_tools() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00975">requirements.cpp:975</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a56dbf23ade6bced0dc6148b8e1a12d4c"><div class="ttname"><a href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">requirement_data::get_components</a></div><div class="ttdeci">const alter_item_comp_vector &amp; get_components() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00985">requirements.cpp:985</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a7aa4a6fdb32c1ef086a2d6a9518ff9d0"><div class="ttname"><a href="structrequirement__data.html#a7aa4a6fdb32c1ef086a2d6a9518ff9d0">requirement_data::alter_quali_req_vector</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; quality_requirement &gt; &gt; alter_quali_req_vector</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00222">requirements.h:222</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a7acde751aa71fb09c3272929afae503f"><div class="ttname"><a href="structrequirement__data.html#a7acde751aa71fb09c3272929afae503f">requirement_data::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">empty requirements are not necessary null</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00247">requirements.h:247</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a81eb3f292988bc3b327f50cdcbb74e0c"><div class="ttname"><a href="structrequirement__data.html#a81eb3f292988bc3b327f50cdcbb74e0c">requirement_data::alter_item_comp_vector</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; item_comp &gt; &gt; alter_item_comp_vector</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00223">requirements.h:223</a></div></div>
<div class="ttc" id="astructrequirement__data_html_ad7733e9b478f08e7e6e1ef94057e3502"><div class="ttname"><a href="structrequirement__data.html#ad7733e9b478f08e7e6e1ef94057e3502">requirement_data::get_qualities</a></div><div class="ttdeci">const alter_quali_req_vector &amp; get_qualities() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00980">requirements.cpp:980</a></div></div>
<div class="ttc" id="astructrequirement__data_html_afa25e820b20f0a2ace91a174fafe648a"><div class="ttname"><a href="structrequirement__data.html#afa25e820b20f0a2ace91a174fafe648a">requirement_data::alter_tool_comp_vector</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; tool_comp &gt; &gt; alter_tool_comp_vector</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00221">requirements.h:221</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3097bde01b4addf9cfdd2d211c3ebf57">DESCRIPTION_COMPONENTS_DISASSEMBLE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa68c87b5b76e6830a909f2f02a517d4a9">DESCRIPTION_COMPONENTS_MADEFROM</a>, <a class="el" href="recipe_8h_source.html#l00094">recipe::disassembly_requirements()</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="calendar_8h_source.html#l00204">time_duration::from_turns()</a>, <a class="el" href="requirements_8cpp_source.html#l00985">requirement_data::get_components()</a>, <a class="el" href="requirements_8cpp_source.html#l00980">requirement_data::get_qualities()</a>, <a class="el" href="requirements_8cpp_source.html#l00975">requirement_data::get_tools()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00073">recipe_dictionary::get_uncraft()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="requirements_8h_source.html#l00247">requirement_data::is_empty()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="recipe_8h_source.html#l00059">recipe::time</a>, <a class="el" href="calendar_8cpp_source.html#l00361">to_string_approx()</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a92974d46b5abae5eafcb369cb8ec2f4a" name="a92974d46b5abae5eafcb369cb8ec2f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92974d46b5abae5eafcb369cb8ec2f4a">&#9670;&nbsp;</a></span>display_money()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::display_money </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>total</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>selected</em> = <code><a class="el" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04685">4685</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04687" name="l04687"></a><span class="lineno"> 4687</span>{</div>
<div class="line"><a id="l04688" name="l04688"></a><span class="lineno"> 4688</span>    <span class="keywordflow">if</span>( selected ) {</div>
<div class="line"><a id="l04689" name="l04689"></a><span class="lineno"> 4689</span>        <span class="comment">//~ This is a string to display the selected and total amount of money in a stack of cash cards.</span></div>
<div class="line"><a id="l04690" name="l04690"></a><span class="lineno"> 4690</span>        <span class="comment">//~ %1$s is the display name of cash cards.</span></div>
<div class="line"><a id="l04691" name="l04691"></a><span class="lineno"> 4691</span>        <span class="comment">//~ %2$s is the total amount of money.</span></div>
<div class="line"><a id="l04692" name="l04692"></a><span class="lineno"> 4692</span>        <span class="comment">//~ %3$s is the selected amount of money.</span></div>
<div class="line"><a id="l04693" name="l04693"></a><span class="lineno"> 4693</span>        <span class="comment">//~ Example: &quot;cash cards $15.35 of $20.48&quot;</span></div>
<div class="line"><a id="l04694" name="l04694"></a><span class="lineno"> 4694</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;cash card and money&quot;</span>, <span class="stringliteral">&quot;%1$s %3$s of %2$s&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( quantity ),</div>
<div class="line"><a id="l04695" name="l04695"></a><span class="lineno"> 4695</span>                              <a class="code hl_function" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( total ), <a class="code hl_function" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( *selected ) );</div>
<div class="line"><a id="l04696" name="l04696"></a><span class="lineno"> 4696</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04697" name="l04697"></a><span class="lineno"> 4697</span>        <span class="comment">//~ This is a string to display the total amount of money in a stack of cash cards.</span></div>
<div class="line"><a id="l04698" name="l04698"></a><span class="lineno"> 4698</span>        <span class="comment">//~ %1$s is the display name of cash cards.</span></div>
<div class="line"><a id="l04699" name="l04699"></a><span class="lineno"> 4699</span>        <span class="comment">//~ %2$s is the total amount of money on the cash cards.</span></div>
<div class="line"><a id="l04700" name="l04700"></a><span class="lineno"> 4700</span>        <span class="comment">//~ Example: &quot;cash cards $20.48&quot;</span></div>
<div class="line"><a id="l04701" name="l04701"></a><span class="lineno"> 4701</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;cash card and money&quot;</span>, <span class="stringliteral">&quot;%1$s %2$s&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( quantity ),</div>
<div class="line"><a id="l04702" name="l04702"></a><span class="lineno"> 4702</span>                              <a class="code hl_function" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( total ) );</div>
<div class="line"><a id="l04703" name="l04703"></a><span class="lineno"> 4703</span>    }</div>
<div class="line"><a id="l04704" name="l04704"></a><span class="lineno"> 4704</span>}</div>
<div class="ttc" id="aoutput_8h_html_afc5db1b09e0b37fa89eda5966c61b1f5"><div class="ttname"><a href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a></div><div class="ttdeci">std::string format_money(int cents)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00963">output.h:963</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_af0c79b5c75a7cf2df78663485b03ed9a"><div class="ttname"><a href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a></div><div class="ttdeci">const char * pgettext(const char *context, const char *msgid)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00041">translations.cpp:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="output_8h_source.html#l00963">format_money()</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l00266">inventory_selector_preset::get_caption()</a>, and <a class="el" href="inventory__ui_8cpp_source.html#l00095">selection_column_preset::get_caption()</a>.</p>

</div>
</div>
<a id="a893525fea93fa0a45a51edeb64f1b973" name="a893525fea93fa0a45a51edeb64f1b973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a893525fea93fa0a45a51edeb64f1b973">&#9670;&nbsp;</a></span>display_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::display_name </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em> = <code>1</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the item name and the charges or contained charges (if the item can have charges at all). </p>
<p >Calls <a class="el" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a> with given quantity and with_prefix being true. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04706">4706</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04707" name="l04707"></a><span class="lineno"> 4707</span>{</div>
<div class="line"><a id="l04708" name="l04708"></a><span class="lineno"> 4708</span>    std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( quantity );</div>
<div class="line"><a id="l04709" name="l04709"></a><span class="lineno"> 4709</span>    std::string sidetxt;</div>
<div class="line"><a id="l04710" name="l04710"></a><span class="lineno"> 4710</span>    std::string amt;</div>
<div class="line"><a id="l04711" name="l04711"></a><span class="lineno"> 4711</span> </div>
<div class="line"><a id="l04712" name="l04712"></a><span class="lineno"> 4712</span>    <span class="keywordflow">switch</span>( <a class="code hl_function" href="classitem.html#aecf84874cbc13ba0ce8a205690747305">get_side</a>() ) {</div>
<div class="line"><a id="l04713" name="l04713"></a><span class="lineno"> 4713</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">side::BOTH</a>:</div>
<div class="line"><a id="l04714" name="l04714"></a><span class="lineno"> 4714</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62">side::num_sides</a>:</div>
<div class="line"><a id="l04715" name="l04715"></a><span class="lineno"> 4715</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04716" name="l04716"></a><span class="lineno"> 4716</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">side::LEFT</a>:</div>
<div class="line"><a id="l04717" name="l04717"></a><span class="lineno"> 4717</span>            sidetxt = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot; (%s)&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;left&quot;</span> ) );</div>
<div class="line"><a id="l04718" name="l04718"></a><span class="lineno"> 4718</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04719" name="l04719"></a><span class="lineno"> 4719</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">side::RIGHT</a>:</div>
<div class="line"><a id="l04720" name="l04720"></a><span class="lineno"> 4720</span>            sidetxt = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot; (%s)&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;right&quot;</span> ) );</div>
<div class="line"><a id="l04721" name="l04721"></a><span class="lineno"> 4721</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04722" name="l04722"></a><span class="lineno"> 4722</span>    }</div>
<div class="line"><a id="l04723" name="l04723"></a><span class="lineno"> 4723</span>    <a class="code hl_class" href="classavatar.html">avatar</a> &amp;player_character = <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>();</div>
<div class="line"><a id="l04724" name="l04724"></a><span class="lineno"> 4724</span>    <span class="keywordtype">int</span> amount = 0;</div>
<div class="line"><a id="l04725" name="l04725"></a><span class="lineno"> 4725</span>    <span class="keywordtype">int</span> max_amount = 0;</div>
<div class="line"><a id="l04726" name="l04726"></a><span class="lineno"> 4726</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a> = <a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">num_item_stacks</a>() == 1;</div>
<div class="line"><a id="l04727" name="l04727"></a><span class="lineno"> 4727</span>    <span class="keywordtype">bool</span> has_ammo = <a class="code hl_function" href="classitem.html#a187a2679361c6546be613657dbad3b3f">is_ammo_container</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">num_item_stacks</a>() == 1;</div>
<div class="line"><a id="l04728" name="l04728"></a><span class="lineno"> 4728</span>    <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40abb56b2cfd438fea4417d59941a2018ad">contains</a> = <a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a> || has_ammo;</div>
<div class="line"><a id="l04729" name="l04729"></a><span class="lineno"> 4729</span>    <span class="keywordtype">bool</span> show_amt = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04730" name="l04730"></a><span class="lineno"> 4730</span>    <span class="comment">// We should handle infinite charges properly in all cases.</span></div>
<div class="line"><a id="l04731" name="l04731"></a><span class="lineno"> 4731</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40abb56b2cfd438fea4417d59941a2018ad">contains</a> ) {</div>
<div class="line"><a id="l04732" name="l04732"></a><span class="lineno"> 4732</span>        amount = <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l04733" name="l04733"></a><span class="lineno"> 4733</span>        max_amount = <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a>( <a class="code hl_function" href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">get_container_capacity</a>() );</div>
<div class="line"><a id="l04734" name="l04734"></a><span class="lineno"> 4734</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a980b9e48afd103973a201fc487d0af8b">is_book</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#af607ad36c67593022397b437a3a5b5b4">get_chapters</a>() &gt; 0 ) {</div>
<div class="line"><a id="l04735" name="l04735"></a><span class="lineno"> 4735</span>        <span class="comment">// a book which has remaining unread chapters</span></div>
<div class="line"><a id="l04736" name="l04736"></a><span class="lineno"> 4736</span>        amount = <a class="code hl_function" href="classitem.html#a496e2a01e5a06776c322d4f1c3396e66">get_remaining_chapters</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l04737" name="l04737"></a><span class="lineno"> 4737</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() &gt; 0 ) {</div>
<div class="line"><a id="l04738" name="l04738"></a><span class="lineno"> 4738</span>        <span class="comment">// anything that can be reloaded including tools, magazines, guns and auxiliary gunmods</span></div>
<div class="line"><a id="l04739" name="l04739"></a><span class="lineno"> 4739</span>        <span class="comment">// but excluding bows etc., which have ammo, but can&#39;t be reloaded</span></div>
<div class="line"><a id="l04740" name="l04740"></a><span class="lineno"> 4740</span>        amount = <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>();</div>
<div class="line"><a id="l04741" name="l04741"></a><span class="lineno"> 4741</span>        max_amount = <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>();</div>
<div class="line"><a id="l04742" name="l04742"></a><span class="lineno"> 4742</span>        show_amt = !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a30c9d25adcf2167a8bff0fe6ca21fdaf">flag_RELOAD_AND_SHOOT</a> );</div>
<div class="line"><a id="l04743" name="l04743"></a><span class="lineno"> 4743</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#a310539e1dbfb640f2b23796a40c881f2">has_infinite_charges</a>() ) {</div>
<div class="line"><a id="l04744" name="l04744"></a><span class="lineno"> 4744</span>        <span class="comment">// A chargeable item</span></div>
<div class="line"><a id="l04745" name="l04745"></a><span class="lineno"> 4745</span>        amount = <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l04746" name="l04746"></a><span class="lineno"> 4746</span>        max_amount = <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>();</div>
<div class="line"><a id="l04747" name="l04747"></a><span class="lineno"> 4747</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9e0411a5010e03c8d2670fe23eb25d0f">is_battery</a>() ) {</div>
<div class="line"><a id="l04748" name="l04748"></a><span class="lineno"> 4748</span>        show_amt = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04749" name="l04749"></a><span class="lineno"> 4749</span>        amount = <a class="code hl_function" href="namespaceunits.html#a16c5ffd73f399f1731d7176ee699ce0e">to_joule</a>( <a class="code hl_function" href="classitem.html#aabdd1a1ca453608c862ee23e53d66d59">energy_remaining</a>() );</div>
<div class="line"><a id="l04750" name="l04750"></a><span class="lineno"> 4750</span>        max_amount = <a class="code hl_function" href="namespaceunits.html#a16c5ffd73f399f1731d7176ee699ce0e">to_joule</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9bf7494805acc141b007ddade6a6313c">battery</a>-&gt;max_capacity );</div>
<div class="line"><a id="l04751" name="l04751"></a><span class="lineno"> 4751</span>    }</div>
<div class="line"><a id="l04752" name="l04752"></a><span class="lineno"> 4752</span> </div>
<div class="line"><a id="l04753" name="l04753"></a><span class="lineno"> 4753</span>    std::string ammotext;</div>
<div class="line"><a id="l04754" name="l04754"></a><span class="lineno"> 4754</span>    <span class="keywordflow">if</span>( ( ( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>() ) || <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;AMMO_IN_NAMES&quot;</span> ) ) {</div>
<div class="line"><a id="l04755" name="l04755"></a><span class="lineno"> 4755</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>().<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l04756" name="l04756"></a><span class="lineno"> 4756</span>            ammotext = <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;type-&gt;name();</div>
<div class="line"><a id="l04757" name="l04757"></a><span class="lineno"> 4757</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04758" name="l04758"></a><span class="lineno"> 4758</span>            ammotext = <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( *<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().begin() )-&gt;<a class="code hl_function" href="classammunition__type.html#a3c5d67ec1974c9a43d79c0ab3e7f979a">name</a>();</div>
<div class="line"><a id="l04759" name="l04759"></a><span class="lineno"> 4759</span>        }</div>
<div class="line"><a id="l04760" name="l04760"></a><span class="lineno"> 4760</span>    }</div>
<div class="line"><a id="l04761" name="l04761"></a><span class="lineno"> 4761</span> </div>
<div class="line"><a id="l04762" name="l04762"></a><span class="lineno"> 4762</span>    <span class="keywordflow">if</span>( amount || show_amt ) {</div>
<div class="line"><a id="l04763" name="l04763"></a><span class="lineno"> 4763</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a72d58d172f74830b7d965a0fdfaa2c17">is_money</a>() ) {</div>
<div class="line"><a id="l04764" name="l04764"></a><span class="lineno"> 4764</span>            amt = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot; $%.2f&quot;</span>, amount / 100.0 );</div>
<div class="line"><a id="l04765" name="l04765"></a><span class="lineno"> 4765</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04766" name="l04766"></a><span class="lineno"> 4766</span>            <span class="keywordflow">if</span>( !ammotext.empty() ) {</div>
<div class="line"><a id="l04767" name="l04767"></a><span class="lineno"> 4767</span>                ammotext = <span class="stringliteral">&quot; &quot;</span> + ammotext;</div>
<div class="line"><a id="l04768" name="l04768"></a><span class="lineno"> 4768</span>            }</div>
<div class="line"><a id="l04769" name="l04769"></a><span class="lineno"> 4769</span> </div>
<div class="line"><a id="l04770" name="l04770"></a><span class="lineno"> 4770</span>            <span class="keywordflow">if</span>( max_amount != 0 ) {</div>
<div class="line"><a id="l04771" name="l04771"></a><span class="lineno"> 4771</span>                amt = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot; (%i/%i%s)&quot;</span>, amount, max_amount, ammotext );</div>
<div class="line"><a id="l04772" name="l04772"></a><span class="lineno"> 4772</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04773" name="l04773"></a><span class="lineno"> 4773</span>                amt = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot; (%i%s)&quot;</span>, amount, ammotext );</div>
<div class="line"><a id="l04774" name="l04774"></a><span class="lineno"> 4774</span>            }</div>
<div class="line"><a id="l04775" name="l04775"></a><span class="lineno"> 4775</span>        }</div>
<div class="line"><a id="l04776" name="l04776"></a><span class="lineno"> 4776</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !ammotext.empty() ) {</div>
<div class="line"><a id="l04777" name="l04777"></a><span class="lineno"> 4777</span>        amt = <span class="stringliteral">&quot; (&quot;</span> + ammotext + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a id="l04778" name="l04778"></a><span class="lineno"> 4778</span>    }</div>
<div class="line"><a id="l04779" name="l04779"></a><span class="lineno"> 4779</span> </div>
<div class="line"><a id="l04780" name="l04780"></a><span class="lineno"> 4780</span>    <span class="comment">// HACK: This is a hack to prevent possible crashing when displaying maps as items during character creation</span></div>
<div class="line"><a id="l04781" name="l04781"></a><span class="lineno"> 4781</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaaf3784eda060adabe524a54cc873e68">is_map</a>() &amp;&amp; <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> != <a class="code hl_variable" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a> ) {</div>
<div class="line"><a id="l04782" name="l04782"></a><span class="lineno"> 4782</span>        <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a id="l04783" name="l04783"></a><span class="lineno"> 4783</span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> map_pos_omt =</div>
<div class="line"><a id="l04784" name="l04784"></a><span class="lineno"> 4784</span>            <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;reveal_map_center_omt&quot;</span>, player_character.<a class="code hl_function" href="classCharacter.html#af254fa44c7792574ff19973b0fa06b36">global_omt_location</a>().<a class="code hl_function" href="classcoords_1_1coord__point.html#a3f9a44403c08f2eaf0d605b1d034c048">raw</a>() );</div>
<div class="line"><a id="l04785" name="l04785"></a><span class="lineno"> 4785</span>        <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_sm</a> map_pos =</div>
<div class="line"><a id="l04786" name="l04786"></a><span class="lineno"> 4786</span>            project_to&lt;coords::sm&gt;( <a class="code hl_typedef" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( map_pos_omt ) );</div>
<div class="line"><a id="l04787" name="l04787"></a><span class="lineno"> 4787</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structcity.html">city</a> *<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> = <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#ae65ce03be0ec7c6890583b7ae2ee639f">closest_city</a>( map_pos ).<a class="code hl_variable" href="structcity__reference.html#ab0c773d91319598da593679bf737f4aa">city</a>;</div>
<div class="line"><a id="l04788" name="l04788"></a><span class="lineno"> 4788</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l04789" name="l04789"></a><span class="lineno"> 4789</span>            <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s %s&quot;</span>, <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;name, <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l04790" name="l04790"></a><span class="lineno"> 4790</span>        }</div>
<div class="line"><a id="l04791" name="l04791"></a><span class="lineno"> 4791</span>    }</div>
<div class="line"><a id="l04792" name="l04792"></a><span class="lineno"> 4792</span> </div>
<div class="line"><a id="l04793" name="l04793"></a><span class="lineno"> 4793</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s%s%s&quot;</span>, <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>, sidetxt, amt );</div>
<div class="line"><a id="l04794" name="l04794"></a><span class="lineno"> 4794</span>}</div>
<div class="ttc" id="abodypart_8h_html_ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403"><div class="ttname"><a href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">side::RIGHT</a></div><div class="ttdeci">@ RIGHT</div></div>
<div class="ttc" id="abodypart_8h_html_ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197"><div class="ttname"><a href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">side::BOTH</a></div><div class="ttdeci">@ BOTH</div></div>
<div class="ttc" id="abodypart_8h_html_ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758"><div class="ttname"><a href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">side::LEFT</a></div><div class="ttdeci">@ LEFT</div></div>
<div class="ttc" id="abodypart_8h_html_ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62"><div class="ttname"><a href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62">side::num_sides</a></div><div class="ttdeci">@ num_sides</div></div>
<div class="ttc" id="aclassCharacter_html_af254fa44c7792574ff19973b0fa06b36"><div class="ttname"><a href="classCharacter.html#af254fa44c7792574ff19973b0fa06b36">Character::global_omt_location</a></div><div class="ttdeci">tripoint_abs_omt global_omt_location() const</div><div class="ttdoc">Returns the location of the player in global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06318">character.cpp:6318</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::sm &gt;</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html_a3f9a44403c08f2eaf0d605b1d034c048"><div class="ttname"><a href="classcoords_1_1coord__point.html#a3f9a44403c08f2eaf0d605b1d034c048">coords::coord_point::raw</a></div><div class="ttdeci">constexpr Point &amp; raw()</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00111">coordinates.h:111</a></div></div>
<div class="ttc" id="aclassitem_html_a187a2679361c6546be613657dbad3b3f"><div class="ttname"><a href="classitem.html#a187a2679361c6546be613657dbad3b3f">item::is_ammo_container</a></div><div class="ttdeci">bool is_ammo_container() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06512">item.cpp:6512</a></div></div>
<div class="ttc" id="aclassitem_html_a310539e1dbfb640f2b23796a40c881f2"><div class="ttname"><a href="classitem.html#a310539e1dbfb640f2b23796a40c881f2">item::has_infinite_charges</a></div><div class="ttdeci">bool has_infinite_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09788">item.cpp:9788</a></div></div>
<div class="ttc" id="aclassitem_html_a624c3b7ec10ae766a9e75718af71e647"><div class="ttname"><a href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">item::ammo_current</a></div><div class="ttdeci">itype_id ammo_current() const</div><div class="ttdoc">Specific ammo type, returns &quot;null&quot; if item is neither ammo nor loaded with any.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07402">item.cpp:7402</a></div></div>
<div class="ttc" id="aclassitem_html_aaaf3784eda060adabe524a54cc873e68"><div class="ttname"><a href="classitem.html#aaaf3784eda060adabe524a54cc873e68">item::is_map</a></div><div class="ttdeci">bool is_map() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06564">item.cpp:6564</a></div></div>
<div class="ttc" id="aclassitem_html_aabdd1a1ca453608c862ee23e53d66d59"><div class="ttname"><a href="classitem.html#aabdd1a1ca453608c862ee23e53d66d59">item::energy_remaining</a></div><div class="ttdeci">units::energy energy_remaining() const</div><div class="ttdoc">Quantity of energy currently loaded in tool or battery.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07217">item.cpp:7217</a></div></div>
<div class="ttc" id="aclassitem_html_abc27dc693d588feea7812432929fb5a9"><div class="ttname"><a href="classitem.html#abc27dc693d588feea7812432929fb5a9">item::charges_per_volume</a></div><div class="ttdeci">int charges_per_volume(const units::volume &amp;vol) const</div><div class="ttdoc">Number of (charges of) this item that fit into the given volume.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00861">item.cpp:861</a></div></div>
<div class="ttc" id="aclassitem_html_acbc651b09ebafad57974d0cfa04b8e5d"><div class="ttname"><a href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">item::get_container_capacity</a></div><div class="ttdeci">units::volume get_container_capacity() const</div><div class="ttdoc">It returns the total capacity (volume) of the container for liquids.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08239">item.cpp:8239</a></div></div>
<div class="ttc" id="aclassitem_html_aecf84874cbc13ba0ce8a205690747305"><div class="ttname"><a href="classitem.html#aecf84874cbc13ba0ce8a205690747305">item::get_side</a></div><div class="ttdeci">side get_side() const</div><div class="ttdoc">Returns side item currently worn on.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00805">item.cpp:805</a></div></div>
<div class="ttc" id="aclassitem_html_af607ad36c67593022397b437a3a5b5b4"><div class="ttname"><a href="classitem.html#af607ad36c67593022397b437a3a5b5b4">item::get_chapters</a></div><div class="ttdeci">int get_chapters() const</div><div class="ttdoc">How many chapters the book has (if any).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06928">item.cpp:6928</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_ae65ce03be0ec7c6890583b7ae2ee639f"><div class="ttname"><a href="classovermapbuffer.html#ae65ce03be0ec7c6890583b7ae2ee639f">overmapbuffer::closest_city</a></div><div class="ttdeci">city_reference closest_city(const tripoint_abs_sm &amp;center)</div><div class="ttdoc">Find the closest city.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01373">overmapbuffer.cpp:1373</a></div></div>
<div class="ttc" id="aclassvisitable_html_af49d5ef7b3f2f0a8664c23097a56373f"><div class="ttname"><a href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">visitable&lt; item &gt;::has_item</a></div><div class="ttdeci">bool has_item(const item &amp;it) const</div><div class="ttdoc">Returns true if this visitable instance contains the item.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00061">visitable.cpp:96</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a383a8345c0282c087ef788e4421c3ded"><div class="ttname"><a href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::abs, coords::omt &gt; tripoint_abs_omt</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00493">coordinates.h:493</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40abb56b2cfd438fea4417d59941a2018ad"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40abb56b2cfd438fea4417d59941a2018ad">contains</a></div><div class="ttdeci">@ contains</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00083">enums.h:83</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a30c9d25adcf2167a8bff0fe6ca21fdaf"><div class="ttname"><a href="item_8cpp.html#a30c9d25adcf2167a8bff0fe6ca21fdaf">flag_RELOAD_AND_SHOOT</a></div><div class="ttdeci">static const std::string flag_RELOAD_AND_SHOOT(&quot;RELOAD_AND_SHOOT&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_a2ad145a605c70358e73fdd4a802ba21a"><div class="ttname"><a href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a></div><div class="ttdeci">const time_point turn_zero</div><div class="ttdoc">Represents time point 0.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00026">calendar.cpp:26</a></div></div>
<div class="ttc" id="aovermapbuffer_8cpp_html_ab3cf8344ec3e473f9ce96a33dc3425af"><div class="ttname"><a href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a></div><div class="ttdeci">overmapbuffer overmap_buffer</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00046">overmapbuffer.cpp:44</a></div></div>
<div class="ttc" id="astructcity__reference_html_ab0c773d91319598da593679bf737f4aa"><div class="ttname"><a href="structcity__reference.html#ab0c773d91319598da593679bf737f4aa">city_reference::city</a></div><div class="ttdeci">const struct city * city</div><div class="ttdoc">The city itself, points into overmap::cities.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00076">overmapbuffer.h:76</a></div></div>
<div class="ttc" id="astructcity_html"><div class="ttname"><a href="structcity.html">city</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap_8h_source.html#l00052">overmap.h:52</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07402">ammo_current()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07296">ammo_required()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="itype_8h_source.html#l00860">itype::battery</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">BOTH</a>, <a class="el" href="magic_8cpp_source.html#l01031">c</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8cpp_source.html#l00861">charges_per_volume()</a>, <a class="el" href="overmapbuffer_8h_source.html#l00076">city_reference::city</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01373">overmapbuffer::closest_city()</a>, <a class="el" href="enums_8h_source.html#l00083">contains</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8cpp_source.html#l07217">energy_remaining()</a>, <a class="el" href="item_8cpp.html#a30c9d25adcf2167a8bff0fe6ca21fdaf">flag_RELOAD_AND_SHOOT()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="avatar_8cpp_source.html#l00100">get_avatar()</a>, <a class="el" href="item_8cpp_source.html#l06928">get_chapters()</a>, <a class="el" href="item_8cpp_source.html#l08239">get_container_capacity()</a>, <a class="el" href="item_8cpp_source.html#l06936">get_remaining_chapters()</a>, <a class="el" href="item_8cpp_source.html#l00805">get_side()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="character_8cpp_source.html#l06318">Character::global_omt_location()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l09788">has_infinite_charges()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; item &gt;::has_item()</a>, <a class="el" href="item_8cpp_source.html#l06512">is_ammo_container()</a>, <a class="el" href="item_8cpp_source.html#l06412">is_battery()</a>, <a class="el" href="item_8cpp_source.html#l06559">is_book()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06564">is_map()</a>, <a class="el" href="item_8cpp_source.html#l05850">is_money()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">LEFT</a>, <a class="el" href="ammo_8cpp_source.html#l00079">ammunition_type::name()</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, <a class="el" href="item__contents_8cpp_source.html#l00027">item_contents::num_item_stacks()</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62">num_sides</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00044">overmap_buffer</a>, <a class="el" href="coordinates_8h_source.html#l00111">coords::coord_point&lt; Point, Origin, Scale &gt;::raw()</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">RIGHT</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="units__energy_8h_source.html#l00040">units::to_joule()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="calendar_8cpp_source.html#l00026">calendar::turn_zero</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02928">act_vehicle_unload_fuel()</a>, <a class="el" href="monexamine_8cpp_source.html#l00672">monexamine::add_armor()</a>, <a class="el" href="character_8cpp_source.html#l08385">Character::apply_damage()</a>, <a class="el" href="monexamine_8cpp_source.html#l00580">monexamine::attach_bag_to()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01753">veh_interact::can_remove_part()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00399">game_menus::inv::container_for()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00266">inventory_selector_preset::get_caption()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00095">selection_column_preset::get_caption()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00156">liquid_handler::get_liquid_target()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, <a class="el" href="pickup_8cpp_source.html#l00140">handle_problematic_pickup()</a>, <a class="el" href="pickup_8cpp_source.html#l01238">pickup::handle_spillable_contents()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01763">inscribe_actor::item_inscription()</a>, <a class="el" href="game_8cpp_source.html#l07526">game::list_items()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="pickup_8cpp_source.html#l00571">pickup::pick_up()</a>, <a class="el" href="npctrade_8cpp_source.html#l00266">trading_window::update_win()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02325">musical_instrument_actor::use()</a>.</p>

</div>
</div>
<a id="a7454027d8aaeb67f6e9d6b374bae55c7" name="a7454027d8aaeb67f6e9d6b374bae55c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7454027d8aaeb67f6e9d6b374bae55c7">&#9670;&nbsp;</a></span>display_stacked_with()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::display_stacked_with </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check_components</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether two items should stack when displayed in a inventory menu. </p>
<p >This is different from stacks_with, when two previously non-stackable items are now stackable and mergeable because, for example, they reaches the same temperature. This is necessary to avoid misleading stacks like "3 items-count-by-charge (5)". </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00881">881</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>{</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>    <span class="keywordflow">return</span> !<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#a31a0fa72add9cbbffc189b0eab0b34c0">stacks_with</a>( rhs, check_components );</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>}</div>
<div class="ttc" id="aclassitem_html_a31a0fa72add9cbbffc189b0eab0b34c0"><div class="ttname"><a href="classitem.html#a31a0fa72add9cbbffc189b0eab0b34c0">item::stacks_with</a></div><div class="ttdeci">bool stacks_with(const item &amp;rhs, bool check_components=false, bool skip_type_check=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00886">item.cpp:886</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pickup_8cpp_source.html#l00480">pickup::stack_for_pickup_ui()</a>.</p>

</div>
</div>
<a id="a39870eb9db6162668a1e093864e09315" name="a39870eb9db6162668a1e093864e09315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39870eb9db6162668a1e093864e09315">&#9670;&nbsp;</a></span>dps() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, double &gt; item::dps </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_display</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_calc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01448">1448</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>{</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a797cccb8d7a567cb34ab5cfcd226ec27">dps</a>( for_display, for_calc, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l01433">dps()</a>, and <a class="el" href="game_8cpp_source.html#l00267">g</a>.</p>

</div>
</div>
<a id="a797cccb8d7a567cb34ab5cfcd226ec27" name="a797cccb8d7a567cb34ab5cfcd226ec27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797cccb8d7a567cb34ab5cfcd226ec27">&#9670;&nbsp;</a></span>dps() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, double &gt; item::dps </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_display</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_calc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculate effective dps against a stock set of monsters. </p>
<p >by default, assume g-&gt;u is wielding for_display - include monsters intended for display purposes for_calc - include monsters intended for evaluation purposes for_display and for_calc are inclusive </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01433">1433</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>{</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>    std::map&lt;std::string, double&gt; results;</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;translation, dps_comp_data&gt; &amp;comp_mon : <a class="code hl_variable" href="item_8cpp.html#a17134d1aca453e886b1c7af72b8c7339">dps_comp_monsters</a> ) {</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>        <span class="keywordflow">if</span>( ( comp_mon.second.display != for_display ) &amp;&amp;</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>            ( comp_mon.second.evaluate != for_calc ) ) {</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>        }</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>        <a class="code hl_class" href="classmonster.html">monster</a> test_mon = <a class="code hl_class" href="classmonster.html">monster</a>( comp_mon.second.mon_id );</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>        results[ comp_mon.first.translated() ] = <a class="code hl_function" href="classitem.html#abe90c8a12690aea2e67d58f5c120050c">effective_dps</a>( guy, test_mon );</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>    }</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>    <span class="keywordflow">return</span> results;</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>}</div>
<div class="ttc" id="aclassitem_html_abe90c8a12690aea2e67d58f5c120050c"><div class="ttname"><a href="classitem.html#abe90c8a12690aea2e67d58f5c120050c">item::effective_dps</a></div><div class="ttdeci">double effective_dps(const player &amp;guy, const monster &amp;mon) const</div><div class="ttdoc">Calculate the item's effective damage per second past armor when wielded by a character against a mon...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01330">item.cpp:1330</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a17134d1aca453e886b1c7af72b8c7339"><div class="ttname"><a href="item_8cpp.html#a17134d1aca453e886b1c7af72b8c7339">dps_comp_monsters</a></div><div class="ttdeci">static const std::vector&lt; std::pair&lt; translation, dps_comp_data &gt; &gt; dps_comp_monsters</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01426">item.cpp:1426</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l01426">dps_comp_monsters</a>, and <a class="el" href="item_8cpp_source.html#l01330">effective_dps()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01453">average_dps()</a>, <a class="el" href="item_8cpp_source.html#l03343">combat_info()</a>, and <a class="el" href="item_8cpp_source.html#l01448">dps()</a>.</p>

</div>
</div>
<a id="a80ef6d13a5545c5d32af710fedf717eb" name="a80ef6d13a5545c5d32af710fedf717eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80ef6d13a5545c5d32af710fedf717eb">&#9670;&nbsp;</a></span>durability_indicator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::durability_indicator </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_intact</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides a prefix for the durability state of the item. </p>
<p >with ITEM_HEALTH_BAR enabled, returns a symbol with color tag already applied. Otherwise, returns an adjective. if include_intact is true, this provides a string for the corner case of a player with ITEM_HEALTH_BAR disabled, but we need still a string for some reason. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06166">6166</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06167" name="l06167"></a><span class="lineno"> 6167</span>{</div>
<div class="line"><a id="l06168" name="l06168"></a><span class="lineno"> 6168</span>    std::string outputstring;</div>
<div class="line"><a id="l06169" name="l06169"></a><span class="lineno"> 6169</span> </div>
<div class="line"><a id="l06170" name="l06170"></a><span class="lineno"> 6170</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &lt; 0 )  {</div>
<div class="line"><a id="l06171" name="l06171"></a><span class="lineno"> 6171</span>        <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;ITEM_HEALTH_BAR&quot;</span> ) ) {</div>
<div class="line"><a id="l06172" name="l06172"></a><span class="lineno"> 6172</span>            outputstring = <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code hl_function" href="classitem.html#a3eecb0fa602e42d66ed82a93f5de9a34">damage_symbol</a>() + <span class="stringliteral">&quot;\u00A0&quot;</span>, <a class="code hl_function" href="classitem.html#aa918a6274dd357deafb91444e201927e">damage_color</a>() );</div>
<div class="line"><a id="l06173" name="l06173"></a><span class="lineno"> 6173</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l06174" name="l06174"></a><span class="lineno"> 6174</span>            outputstring = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;damage adjective&quot;</span>, <span class="stringliteral">&quot;accurized &quot;</span> );</div>
<div class="line"><a id="l06175" name="l06175"></a><span class="lineno"> 6175</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06176" name="l06176"></a><span class="lineno"> 6176</span>            outputstring = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;damage adjective&quot;</span>, <span class="stringliteral">&quot;reinforced &quot;</span> );</div>
<div class="line"><a id="l06177" name="l06177"></a><span class="lineno"> 6177</span>        }</div>
<div class="line"><a id="l06178" name="l06178"></a><span class="lineno"> 6178</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE</a> ) ) {</div>
<div class="line"><a id="l06179" name="l06179"></a><span class="lineno"> 6179</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; 0 ) {</div>
<div class="line"><a id="l06180" name="l06180"></a><span class="lineno"> 6180</span>            <span class="keywordflow">switch</span>( <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) ) {</div>
<div class="line"><a id="l06181" name="l06181"></a><span class="lineno"> 6181</span>                <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l06182" name="l06182"></a><span class="lineno"> 6182</span>                    outputstring = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;damage adjective&quot;</span>, <span class="stringliteral">&quot;bruised &quot;</span> );</div>
<div class="line"><a id="l06183" name="l06183"></a><span class="lineno"> 6183</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06184" name="l06184"></a><span class="lineno"> 6184</span>                <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l06185" name="l06185"></a><span class="lineno"> 6185</span>                    outputstring = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;damage adjective&quot;</span>, <span class="stringliteral">&quot;damaged &quot;</span> );</div>
<div class="line"><a id="l06186" name="l06186"></a><span class="lineno"> 6186</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06187" name="l06187"></a><span class="lineno"> 6187</span>                <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l06188" name="l06188"></a><span class="lineno"> 6188</span>                    outputstring = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;damage adjective&quot;</span>, <span class="stringliteral">&quot;mangled &quot;</span> );</div>
<div class="line"><a id="l06189" name="l06189"></a><span class="lineno"> 6189</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06190" name="l06190"></a><span class="lineno"> 6190</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l06191" name="l06191"></a><span class="lineno"> 6191</span>                    outputstring = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;damage adjective&quot;</span>, <span class="stringliteral">&quot;pulped &quot;</span> );</div>
<div class="line"><a id="l06192" name="l06192"></a><span class="lineno"> 6192</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06193" name="l06193"></a><span class="lineno"> 6193</span>            }</div>
<div class="line"><a id="l06194" name="l06194"></a><span class="lineno"> 6194</span>        }</div>
<div class="line"><a id="l06195" name="l06195"></a><span class="lineno"> 6195</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;ITEM_HEALTH_BAR&quot;</span> ) ) {</div>
<div class="line"><a id="l06196" name="l06196"></a><span class="lineno"> 6196</span>        outputstring = <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code hl_function" href="classitem.html#a3eecb0fa602e42d66ed82a93f5de9a34">damage_symbol</a>() + <span class="stringliteral">&quot;\u00A0&quot;</span>, <a class="code hl_function" href="classitem.html#aa918a6274dd357deafb91444e201927e">damage_color</a>() );</div>
<div class="line"><a id="l06197" name="l06197"></a><span class="lineno"> 6197</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06198" name="l06198"></a><span class="lineno"> 6198</span>        outputstring = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s &quot;</span>, <a class="code hl_function" href="classitem.html#a773105801673bb74d69b3ca2dac471d6">get_base_material</a>().dmg_adj( <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) ) );</div>
<div class="line"><a id="l06199" name="l06199"></a><span class="lineno"> 6199</span>        <span class="keywordflow">if</span>( include_intact &amp;&amp; outputstring == <span class="stringliteral">&quot; &quot;</span> ) {</div>
<div class="line"><a id="l06200" name="l06200"></a><span class="lineno"> 6200</span>            outputstring = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;fully intact &quot;</span> );</div>
<div class="line"><a id="l06201" name="l06201"></a><span class="lineno"> 6201</span>        }</div>
<div class="line"><a id="l06202" name="l06202"></a><span class="lineno"> 6202</span>    }</div>
<div class="line"><a id="l06203" name="l06203"></a><span class="lineno"> 6203</span> </div>
<div class="line"><a id="l06204" name="l06204"></a><span class="lineno"> 6204</span>    <span class="keywordflow">return</span>  outputstring;</div>
<div class="line"><a id="l06205" name="l06205"></a><span class="lineno"> 6205</span>}</div>
<div class="ttc" id="aclassitem_html_a3eecb0fa602e42d66ed82a93f5de9a34"><div class="ttname"><a href="classitem.html#a3eecb0fa602e42d66ed82a93f5de9a34">item::damage_symbol</a></div><div class="ttdeci">std::string damage_symbol() const</div><div class="ttdoc">Provide prefix symbol for UI display dependent upon current item damage level.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06142">item.cpp:6142</a></div></div>
<div class="ttc" id="aclassitem_html_a773105801673bb74d69b3ca2dac471d6"><div class="ttname"><a href="classitem.html#a773105801673bb74d69b3ca2dac471d6">item::get_base_material</a></div><div class="ttdeci">const material_type &amp; get_base_material() const</div><div class="ttdoc">Get the basic (main) material of this item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06990">item.cpp:6990</a></div></div>
<div class="ttc" id="aclassitem_html_aa918a6274dd357deafb91444e201927e"><div class="ttname"><a href="classitem.html#aa918a6274dd357deafb91444e201927e">item::damage_color</a></div><div class="ttdeci">nc_color damage_color() const</div><div class="ttdoc">Provide color for UI display dependent upon current item damage level.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06113">item.cpp:6113</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00669">color.cpp:669</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="item_8cpp_source.html#l06113">damage_color()</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="item_8cpp_source.html#l06142">damage_symbol()</a>, <a class="el" href="item_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE()</a>, <a class="el" href="item_8cpp_source.html#l06990">get_base_material()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, and <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l06747">colorized_item_name()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03413">damage_item()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="abe90c8a12690aea2e67d58f5c120050c" name="abe90c8a12690aea2e67d58f5c120050c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe90c8a12690aea2e67d58f5c120050c">&#9670;&nbsp;</a></span>effective_dps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double item::effective_dps </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"><em>mon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the item's effective damage per second past armor when wielded by a character against a monster. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01330">1330</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>{</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> mon_dodge = mon.<a class="code hl_function" href="classmonster.html#a3b731badad539e0f37595cea907ea256">get_dodge</a>();</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>    <span class="keywordtype">float</span> base_hit = guy.<a class="code hl_function" href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">get_dex</a>() / 4.0f + guy.<a class="code hl_function" href="classCharacter.html#a52dfbf13174b42bc92e9bea730b1e1ef">get_hit_weapon</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>    base_hit *= std::max( 0.25f, 1.0f - guy.<a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a> ) / 100.0f );</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>    <span class="keywordtype">float</span> mon_defense = mon_dodge + mon.<a class="code hl_function" href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">size_melee_penalty</a>() / 5.0;</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>    <span class="keyword">constexpr</span> <span class="keywordtype">double</span> hit_trials = 10000.0;</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> rng_mean = std::max( std::min( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( base_hit - mon_defense ), 20 ),</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>                                   -20 ) + 20;</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>    <span class="keywordtype">double</span> num_all_hits = <a class="code hl_variable" href="item_8cpp.html#a158c2eb37bd9b705fe3f272498db2ac2">hits_by_accuracy</a>[ rng_mean ];</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>    <span class="comment">/* critical hits have two chances to occur: triple critical hits happen much less frequently,</span></div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span><span class="comment">     * and double critical hits can only occur if a hit roll is more than 1.5 * monster dodge.</span></div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span><span class="comment">     * Not the hit roll used to determine the attack, another one.</span></div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span><span class="comment">     * the way the math works, some percentage of the total hits are eligible to be double</span></div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span><span class="comment">     * critical hits, and the rest are eligible to be triple critical hits, but in each case,</span></div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span><span class="comment">     * only some small percent of them actually become critical hits.</span></div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span><span class="comment">     */</span></div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> rng_high_mean = std::max( std::min( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( base_hit - 1.5 * mon_dodge ),</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>                                        20 ), -20 ) + 20;</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>    <span class="keywordtype">double</span> num_high_hits = <a class="code hl_variable" href="item_8cpp.html#a158c2eb37bd9b705fe3f272498db2ac2">hits_by_accuracy</a>[ rng_high_mean ] * num_all_hits / hit_trials;</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>    <span class="keywordtype">double</span> double_crit_chance = guy.<a class="code hl_function" href="classCharacter.html#a938cbb0dad93f07152c6e81fd270b153">crit_chance</a>( 4, 0, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>    <span class="keywordtype">double</span> crit_chance = guy.<a class="code hl_function" href="classCharacter.html#a938cbb0dad93f07152c6e81fd270b153">crit_chance</a>( 0, 0, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>    <span class="keywordtype">double</span> num_low_hits = std::max( 0.0, num_all_hits - num_high_hits );</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span> </div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>    <span class="keywordtype">double</span> moves_per_attack = guy.<a class="code hl_function" href="classCharacter.html#a0f40bb355d62047f8140901ee35995ec">attack_cost</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>    <span class="comment">// attacks that miss do no damage but take time</span></div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>    <span class="keywordtype">double</span> total_moves = ( hit_trials - num_all_hits ) * moves_per_attack;</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>    <span class="keywordtype">double</span> total_damage = 0.0;</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>    <span class="keywordtype">double</span> num_crits = std::min( num_low_hits * crit_chance + num_high_hits * double_crit_chance,</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>                                 num_all_hits );</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>    <span class="comment">// critical hits are counted separately</span></div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>    <span class="keywordtype">double</span> num_hits = num_all_hits - num_crits;</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>    <span class="comment">// sum average damage past armor and return the number of moves required to achieve</span></div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>    <span class="comment">// that damage</span></div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>    <span class="keyword">const</span> <span class="keyword">auto</span> calc_effective_damage = [ &amp;, moves_per_attack]( <span class="keyword">const</span> <span class="keywordtype">double</span> num_strikes,</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> crit, <span class="keyword">const</span> <a class="code hl_class" href="classplayer.html">player</a> &amp; guy, <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> &amp; mon ) {</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>        <a class="code hl_class" href="classmonster.html">monster</a> temp_mon = mon;</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>        <span class="keywordtype">double</span> subtotal_damage = 0;</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>        <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> base_damage;</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>        guy.roll_all_damage( crit, base_damage, <span class="keyword">true</span>, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>        <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> dealt_damage = base_damage;</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>        temp_mon.<a class="code hl_function" href="classmonster.html#af7e6e9e59ce7a4cb7696cfac8d62e8f7">absorb_hit</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), dealt_damage );</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>        <a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a> dealt_dams;</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a> &amp;dmg_unit : dealt_damage.<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a> ) {</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>            <span class="keywordtype">int</span> cur_damage = 0;</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>            <span class="keywordtype">int</span> total_pain = 0;</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>            temp_mon.<a class="code hl_function" href="classmonster.html#a38a6bbcc67c5c0329e6b81e367b7eacf">deal_damage_handle_type</a>( dmg_unit, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), cur_damage, total_pain );</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>            <span class="keywordflow">if</span>( cur_damage &gt; 0 ) {</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>                dealt_dams.<a class="code hl_variable" href="structdealt__damage__instance.html#a406b816a99913bd6a91b000cc7198a7c">dealt_dams</a>[ dmg_unit.<a class="code hl_variable" href="structdamage__unit.html#a6fb9768fbc374c9c24960cdef9bee2f3">type</a> ] += cur_damage;</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>            }</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>        }</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>        <span class="keywordtype">double</span> damage_per_hit = dealt_dams.<a class="code hl_function" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>();</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>        subtotal_damage = damage_per_hit * num_strikes;</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>        <span class="keywordtype">double</span> subtotal_moves = moves_per_attack * num_strikes;</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span> </div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ab842b7c3aaa4d813575035be37cd3714">has_technique</a>( <a class="code hl_variable" href="item_8cpp.html#a7043b1627f48fc57af9071f847d93338">rapid_strike</a> ) ) {</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>            <a class="code hl_class" href="classmonster.html">monster</a> temp_rs_mon = mon;</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>            <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> rs_base_damage;</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>            guy.roll_all_damage( crit, rs_base_damage, <span class="keyword">true</span>, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>            <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> dealt_rs_damage = rs_base_damage;</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>            <span class="keywordflow">for</span>( <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a> &amp;dmg_unit : dealt_rs_damage.<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a> ) {</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>                dmg_unit.<a class="code hl_variable" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> *= 0.66;</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>            }</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>            temp_rs_mon.<a class="code hl_function" href="classmonster.html#af7e6e9e59ce7a4cb7696cfac8d62e8f7">absorb_hit</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), dealt_rs_damage );</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>            <a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a> rs_dealt_dams;</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a> &amp;dmg_unit : dealt_rs_damage.<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a> ) {</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>                <span class="keywordtype">int</span> cur_damage = 0;</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>                <span class="keywordtype">int</span> total_pain = 0;</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>                temp_rs_mon.<a class="code hl_function" href="classmonster.html#a38a6bbcc67c5c0329e6b81e367b7eacf">deal_damage_handle_type</a>( dmg_unit, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), cur_damage, total_pain );</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>                <span class="keywordflow">if</span>( cur_damage &gt; 0 ) {</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>                    rs_dealt_dams.<a class="code hl_variable" href="structdealt__damage__instance.html#a406b816a99913bd6a91b000cc7198a7c">dealt_dams</a>[ dmg_unit.<a class="code hl_variable" href="structdamage__unit.html#a6fb9768fbc374c9c24960cdef9bee2f3">type</a> ] += cur_damage;</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>                }</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>            }</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>            <span class="keywordtype">double</span> rs_damage_per_hit = rs_dealt_dams.<a class="code hl_function" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>();</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>            subtotal_moves *= 0.5;</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>            subtotal_damage *= 0.5;</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>            subtotal_moves += moves_per_attack * num_strikes * 0.33;</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>            subtotal_damage += rs_damage_per_hit * num_strikes * 0.5;</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>        }</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>        <span class="keywordflow">return</span> std::make_pair( subtotal_moves, subtotal_damage );</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>    };</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    std::pair&lt;double, double&gt; crit_summary = calc_effective_damage( num_crits, <span class="keyword">true</span>, guy, mon );</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>    total_moves += crit_summary.first;</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>    total_damage += crit_summary.second;</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>    std::pair&lt;double, double&gt; summary = calc_effective_damage( num_hits, <span class="keyword">false</span>, guy, mon );</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>    total_moves += summary.first;</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>    total_damage += summary.second;</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>    <span class="keywordflow">return</span> total_damage * to_moves&lt;double&gt;( 1_seconds ) / total_moves;</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>}</div>
<div class="ttc" id="abodypart_8h_html_a426444e2d486ce1ee315d8b8acc86b40"><div class="ttname"><a href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a></div><div class="ttdeci">int_id&lt; body_part_type &gt; bodypart_id</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00023">bodypart.h:23</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0f40bb355d62047f8140901ee35995ec"><div class="ttname"><a href="classCharacter.html#a0f40bb355d62047f8140901ee35995ec">Character::attack_cost</a></div><div class="ttdeci">int attack_cost(const item &amp;weap) const</div><div class="ttdoc">Returns cost (in moves) of attacking with given item (no modifiers, like stuck)</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l02165">melee.cpp:2165</a></div></div>
<div class="ttc" id="aclassCharacter_html_a34a927d0f161ac92ab0d462397828bd5"><div class="ttname"><a href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">Character::get_dex</a></div><div class="ttdeci">virtual int get_dex() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04052">character.cpp:4052</a></div></div>
<div class="ttc" id="aclassCharacter_html_a52dfbf13174b42bc92e9bea730b1e1ef"><div class="ttname"><a href="classCharacter.html#a52dfbf13174b42bc92e9bea730b1e1ef">Character::get_hit_weapon</a></div><div class="ttdeci">float get_hit_weapon(const item &amp;weap) const</div><div class="ttdoc">Gets melee accuracy component from weapon+skills.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00274">melee.cpp:274</a></div></div>
<div class="ttc" id="aclassCharacter_html_a938cbb0dad93f07152c6e81fd270b153"><div class="ttname"><a href="classCharacter.html#a938cbb0dad93f07152c6e81fd270b153">Character::crit_chance</a></div><div class="ttdeci">double crit_chance(float roll_hit, float target_dodge, const item &amp;weap) const</div><div class="ttdoc">Returns the chance to critical given a hit roll and target's dodge roll.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00712">melee.cpp:712</a></div></div>
<div class="ttc" id="aclassCharacter_html_adc1fd84a88722a905e57fea8bfd5b6b0"><div class="ttname"><a href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">Character::encumb</a></div><div class="ttdeci">int encumb(body_part bp) const</div><div class="ttdoc">Returns ENC provided by armor, etc.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03985">character.cpp:3985</a></div></div>
<div class="ttc" id="aclassCreature_html_a6748055fb3a5922e1fa55c4214aff48f"><div class="ttname"><a href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">Creature::size_melee_penalty</a></div><div class="ttdeci">int size_melee_penalty() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00475">creature.cpp:475</a></div></div>
<div class="ttc" id="aclassitem_html_ab842b7c3aaa4d813575035be37cd3714"><div class="ttname"><a href="classitem.html#ab842b7c3aaa4d813575035be37cd3714">item::has_technique</a></div><div class="ttdeci">bool has_technique(const matec_id &amp;tech) const</div><div class="ttdoc">Whether the item supports a specific martial art technique (either through its type,...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05328">item.cpp:5328</a></div></div>
<div class="ttc" id="aclassmonster_html_a38a6bbcc67c5c0329e6b81e367b7eacf"><div class="ttname"><a href="classmonster.html#a38a6bbcc67c5c0329e6b81e367b7eacf">monster::deal_damage_handle_type</a></div><div class="ttdeci">void deal_damage_handle_type(const damage_unit &amp;du, bodypart_id bp, int &amp;damage, int &amp;pain) override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01572">monster.cpp:1572</a></div></div>
<div class="ttc" id="aclassmonster_html_a3b731badad539e0f37595cea907ea256"><div class="ttname"><a href="classmonster.html#a3b731badad539e0f37595cea907ea256">monster::get_dodge</a></div><div class="ttdeci">float get_dodge() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01953">monster.cpp:1953</a></div></div>
<div class="ttc" id="aclassmonster_html_af7e6e9e59ce7a4cb7696cfac8d62e8f7"><div class="ttname"><a href="classmonster.html#af7e6e9e59ce7a4cb7696cfac8d62e8f7">monster::absorb_hit</a></div><div class="ttdeci">void absorb_hit(const bodypart_id &amp;bp, damage_instance &amp;dam) override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01360">monster.cpp:1360</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00098">player.h:99</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a158c2eb37bd9b705fe3f272498db2ac2"><div class="ttname"><a href="item_8cpp.html#a158c2eb37bd9b705fe3f272498db2ac2">hits_by_accuracy</a></div><div class="ttdeci">static const double hits_by_accuracy[41]</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01318">item.cpp:1318</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a7043b1627f48fc57af9071f847d93338"><div class="ttname"><a href="item_8cpp.html#a7043b1627f48fc57af9071f847d93338">rapid_strike</a></div><div class="ttdeci">static const matec_id rapid_strike(&quot;RAPID&quot;)</div></div>
<div class="ttc" id="astructdamage__unit_html"><div class="ttname"><a href="structdamage__unit.html">damage_unit</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00035">damage.h:35</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a6fb9768fbc374c9c24960cdef9bee2f3"><div class="ttname"><a href="structdamage__unit.html#a6fb9768fbc374c9c24960cdef9bee2f3">damage_unit::type</a></div><div class="ttdeci">damage_type type</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00036">damage.h:36</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a8c5cf76dd074bd5dac9b76aaece0ecf4"><div class="ttname"><a href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_unit::damage_multiplier</a></div><div class="ttdeci">float damage_multiplier</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00040">damage.h:40</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html"><div class="ttname"><a href="structdealt__damage__instance.html">dealt_damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00085">damage.h:85</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a406b816a99913bd6a91b000cc7198a7c"><div class="ttname"><a href="structdealt__damage__instance.html#a406b816a99913bd6a91b000cc7198a7c">dealt_damage_instance::dealt_dams</a></div><div class="ttdeci">std::array&lt; int, NUM_DT &gt; dealt_dams</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00086">damage.h:86</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a86b702070a1c313624abc78ff34eff48"><div class="ttname"><a href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">dealt_damage_instance::total_damage</a></div><div class="ttdeci">int total_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00180">damage.cpp:180</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8cpp_source.html#l01360">monster::absorb_hit()</a>, <a class="el" href="melee_8cpp_source.html#l02165">Character::attack_cost()</a>, <a class="el" href="bodypart_8h_source.html#l00040">bp_torso</a>, <a class="el" href="melee_8cpp_source.html#l00712">Character::crit_chance()</a>, <a class="el" href="damage_8h_source.html#l00040">damage_unit::damage_multiplier</a>, <a class="el" href="damage_8h_source.html#l00052">damage_instance::damage_units</a>, <a class="el" href="monster_8cpp_source.html#l01572">monster::deal_damage_handle_type()</a>, <a class="el" href="damage_8h_source.html#l00086">dealt_damage_instance::dealt_dams</a>, <a class="el" href="character_8cpp_source.html#l03985">Character::encumb()</a>, <a class="el" href="character_8cpp_source.html#l04052">Character::get_dex()</a>, <a class="el" href="monster_8cpp_source.html#l01953">monster::get_dodge()</a>, <a class="el" href="melee_8cpp_source.html#l00274">Character::get_hit_weapon()</a>, <a class="el" href="item_8cpp_source.html#l05328">has_technique()</a>, <a class="el" href="item_8cpp_source.html#l01318">hits_by_accuracy</a>, <a class="el" href="item_8cpp.html#a7043b1627f48fc57af9071f847d93338">rapid_strike</a>, <a class="el" href="melee_8cpp_source.html#l00351">Character::roll_all_damage()</a>, <a class="el" href="creature_8cpp_source.html#l00475">Creature::size_melee_penalty()</a>, <a class="el" href="damage_8cpp_source.html#l00180">dealt_damage_instance::total_damage()</a>, and <a class="el" href="damage_8h_source.html#l00036">damage_unit::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01433">dps()</a>.</p>

</div>
</div>
<a id="aabdd1a1ca453608c862ee23e53d66d59" name="aabdd1a1ca453608c862ee23e53d66d59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabdd1a1ca453608c862ee23e53d66d59">&#9670;&nbsp;</a></span>energy_remaining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a> item::energy_remaining </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Quantity of energy currently loaded in tool or battery. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07217">7217</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07218" name="l07218"></a><span class="lineno"> 7218</span>{</div>
<div class="line"><a id="l07219" name="l07219"></a><span class="lineno"> 7219</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9e0411a5010e03c8d2670fe23eb25d0f">is_battery</a>() ) {</div>
<div class="line"><a id="l07220" name="l07220"></a><span class="lineno"> 7220</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a>;</div>
<div class="line"><a id="l07221" name="l07221"></a><span class="lineno"> 7221</span>    }</div>
<div class="line"><a id="l07222" name="l07222"></a><span class="lineno"> 7222</span> </div>
<div class="line"><a id="l07223" name="l07223"></a><span class="lineno"> 7223</span>    <span class="keywordflow">return</span> 0_J;</div>
<div class="line"><a id="l07224" name="l07224"></a><span class="lineno"> 7224</span>}</div>
<div class="ttc" id="aclassitem_html_aa037d122821f2c41b52b1e0b061fd4f2"><div class="ttname"><a href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">item::energy</a></div><div class="ttdeci">units::energy energy</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02196">item.h:2196</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02196">energy</a>, and <a class="el" href="item_8cpp_source.html#l06412">is_battery()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="item_8cpp_source.html#l00569">mod_energy()</a>, <a class="el" href="map_8cpp_source.html#l04474">process_vehicle_items()</a>, and <a class="el" href="active__tile__data_8cpp_source.html#l00246">charger_tile::update_internal()</a>.</p>

</div>
</div>
<a id="adad8973d1533a919bf44d71415754600" name="adad8973d1533a919bf44d71415754600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad8973d1533a919bf44d71415754600">&#9670;&nbsp;</a></span>engine_displacement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::engine_displacement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>for combustion engines the displacement (cc) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04007">4007</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04008" name="l04008"></a><span class="lineno"> 4008</span>{</div>
<div class="line"><a id="l04009" name="l04009"></a><span class="lineno"> 4009</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a6e22c966e0816d5b8ad665f74fc6aeaa">engine</a> ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a6e22c966e0816d5b8ad665f74fc6aeaa">engine</a>-&gt;displacement : 0;</div>
<div class="line"><a id="l04010" name="l04010"></a><span class="lineno"> 4010</span>}</div>
<div class="ttc" id="astructitype_html_a6e22c966e0816d5b8ad665f74fc6aeaa"><div class="ttname"><a href="structitype.html#a6e22c966e0816d5b8ad665f74fc6aeaa">itype::engine</a></div><div class="ttdeci">cata::value_ptr&lt; islot_engine &gt; engine</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00854">itype.h:854</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00854">itype::engine</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02712">veh_interact::display_details()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00105">vehicle_part::name()</a>, <a class="el" href="vehicle_8cpp_source.html#l01149">vehicle::part_vpower_w()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="aa24fc115fb6cd1124efec30970cfcd9b" name="aa24fc115fb6cd1124efec30970cfcd9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa24fc115fb6cd1124efec30970cfcd9b">&#9670;&nbsp;</a></span>erase_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::erase_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase the value of the given variable. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01072">1072</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>{</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>    <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.erase( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, and <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iuse_8cpp_source.html#l06206">einkpc_download_memory_card()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01763">inscribe_actor::item_inscription()</a>, <a class="el" href="item_8cpp_source.html#l06942">mark_chapter_as_read()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00964">move_item()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="item_8cpp_source.html#l09271">process_UPS()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00067">vehicle_part::properties_to_item()</a>, <a class="el" href="iuse_8cpp_source.html#l09317">release_monster()</a>, <a class="el" href="item_8cpp_source.html#l09254">reset_cable()</a>, <a class="el" href="item_8cpp_source.html#l00812">set_side()</a>, <a class="el" href="iuse_8cpp_source.html#l07438">show_photo_selection()</a>, and <a class="el" href="npctrade_8cpp_source.html#l00699">npc_trading::trade()</a>.</p>

</div>
</div>
<a id="adaaa3ece39eb40637371659dad8550e3" name="adaaa3ece39eb40637371659dad8550e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaaa3ece39eb40637371659dad8550e3">&#9670;&nbsp;</a></span>faults_potential()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> &gt; item::faults_potential </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>What faults can potentially occur with this item? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06654">6654</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06655" name="l06655"></a><span class="lineno"> 6655</span>{</div>
<div class="line"><a id="l06656" name="l06656"></a><span class="lineno"> 6656</span>    std::set&lt;fault_id&gt; res;</div>
<div class="line"><a id="l06657" name="l06657"></a><span class="lineno"> 6657</span>    res.insert( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a71835820e6594955948ef1e8bc7bed68">faults</a>.begin(), <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a71835820e6594955948ef1e8bc7bed68">faults</a>.end() );</div>
<div class="line"><a id="l06658" name="l06658"></a><span class="lineno"> 6658</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l06659" name="l06659"></a><span class="lineno"> 6659</span>}</div>
<div class="ttc" id="astructitype_html_a71835820e6594955948ef1e8bc7bed68"><div class="ttname"><a href="structitype.html#a71835820e6594955948ef1e8bc7bed68">itype::faults</a></div><div class="ttdeci">std::set&lt; fault_id &gt; faults</div><div class="ttdoc">What faults (if any) can occur.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01017">itype.h:1017</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l01017">itype::faults</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle__part_8cpp_source.html#l00397">vehicle_part::faults_potential()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, and <a class="el" href="player_8cpp_source.html#l03296">player::rate_action_mend()</a>.</p>

</div>
</div>
<a id="a3466a1bff4903c7b2d3f570187b73b2a" name="a3466a1bff4903c7b2d3f570187b73b2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3466a1bff4903c7b2d3f570187b73b2a">&#9670;&nbsp;</a></span>fill_with()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::fill_with </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>liquid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>amount</em> = <code><a class="el" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fill item with liquid up to its capacity. </p>
<p >This works for guns and tools that accept liquid ammo. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">liquid</td><td>Liquid to fill the container with. </td></tr>
    <tr><td class="paramname">amount</td><td>Amount to fill item with, capped by remaining capacity </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08406">8406</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08407" name="l08407"></a><span class="lineno"> 8407</span>{</div>
<div class="line"><a id="l08408" name="l08408"></a><span class="lineno"> 8408</span>    amount = std::min( <a class="code hl_function" href="classitem.html#aaff8311e14e6819e6b6c2e207037f292">get_remaining_capacity_for_liquid</a>( liquid, <span class="keyword">true</span> ),</div>
<div class="line"><a id="l08409" name="l08409"></a><span class="lineno"> 8409</span>                       std::min( amount, liquid.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) );</div>
<div class="line"><a id="l08410" name="l08410"></a><span class="lineno"> 8410</span>    <span class="keywordflow">if</span>( amount &lt;= 0 ) {</div>
<div class="line"><a id="l08411" name="l08411"></a><span class="lineno"> 8411</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08412" name="l08412"></a><span class="lineno"> 8412</span>    }</div>
<div class="line"><a id="l08413" name="l08413"></a><span class="lineno"> 8413</span> </div>
<div class="line"><a id="l08414" name="l08414"></a><span class="lineno"> 8414</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ) {</div>
<div class="line"><a id="l08415" name="l08415"></a><span class="lineno"> 8415</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a16d564fa461f2ef8547f137847dbb124">is_reloadable_with</a>( liquid.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) ) {</div>
<div class="line"><a id="l08416" name="l08416"></a><span class="lineno"> 8416</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to fill %s which is not a container and can&#39;t be reloaded with %s.&quot;</span>,</div>
<div class="line"><a id="l08417" name="l08417"></a><span class="lineno"> 8417</span>                      <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), liquid.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l08418" name="l08418"></a><span class="lineno"> 8418</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08419" name="l08419"></a><span class="lineno"> 8419</span>        }</div>
<div class="line"><a id="l08420" name="l08420"></a><span class="lineno"> 8420</span>        <a class="code hl_function" href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">ammo_set</a>( liquid.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>(), <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() + amount );</div>
<div class="line"><a id="l08421" name="l08421"></a><span class="lineno"> 8421</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a6921d1c458f1e840933b765ca9c7e583">is_food_container</a>() ) {</div>
<div class="line"><a id="l08422" name="l08422"></a><span class="lineno"> 8422</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;cts = <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l08423" name="l08423"></a><span class="lineno"> 8423</span>        <span class="comment">// Use maximum rot between the two</span></div>
<div class="line"><a id="l08424" name="l08424"></a><span class="lineno"> 8424</span>        cts.<a class="code hl_function" href="classitem.html#ad6cdbdd7e8295f3a6e802adffcd665ae">set_relative_rot</a>( std::max( cts.<a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>(),</div>
<div class="line"><a id="l08425" name="l08425"></a><span class="lineno"> 8425</span>                                        liquid.<a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>() ) );</div>
<div class="line"><a id="l08426" name="l08426"></a><span class="lineno"> 8426</span>        cts.<a class="code hl_function" href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">mod_charges</a>( amount );</div>
<div class="line"><a id="l08427" name="l08427"></a><span class="lineno"> 8427</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() ) {</div>
<div class="line"><a id="l08428" name="l08428"></a><span class="lineno"> 8428</span>        <span class="comment">// if container already has liquid we need to set the amount</span></div>
<div class="line"><a id="l08429" name="l08429"></a><span class="lineno"> 8429</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;cts = <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l08430" name="l08430"></a><span class="lineno"> 8430</span>        cts.<a class="code hl_function" href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">mod_charges</a>( amount );</div>
<div class="line"><a id="l08431" name="l08431"></a><span class="lineno"> 8431</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08432" name="l08432"></a><span class="lineno"> 8432</span>        <a class="code hl_class" href="classitem.html">item</a> liquid_copy( liquid );</div>
<div class="line"><a id="l08433" name="l08433"></a><span class="lineno"> 8433</span>        liquid_copy.charges = amount;</div>
<div class="line"><a id="l08434" name="l08434"></a><span class="lineno"> 8434</span>        <a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( liquid_copy );</div>
<div class="line"><a id="l08435" name="l08435"></a><span class="lineno"> 8435</span>    }</div>
<div class="line"><a id="l08436" name="l08436"></a><span class="lineno"> 8436</span> </div>
<div class="line"><a id="l08437" name="l08437"></a><span class="lineno"> 8437</span>    liquid.<a class="code hl_function" href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">mod_charges</a>( -amount );</div>
<div class="line"><a id="l08438" name="l08438"></a><span class="lineno"> 8438</span>    <a class="code hl_function" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a id="l08439" name="l08439"></a><span class="lineno"> 8439</span>}</div>
<div class="ttc" id="aclassitem_html_a16d564fa461f2ef8547f137847dbb124"><div class="ttname"><a href="classitem.html#a16d564fa461f2ef8547f137847dbb124">item::is_reloadable_with</a></div><div class="ttdeci">bool is_reloadable_with(const itype_id &amp;ammo) const</div><div class="ttdoc">Returns true if this item can be reloaded with specified ammo type at this moment.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06716">item.cpp:6716</a></div></div>
<div class="ttc" id="aclassitem_html_a473448af85ae4182f130bd488bf7c0fb"><div class="ttname"><a href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">item::mod_charges</a></div><div class="ttdeci">void mod_charges(int mod)</div><div class="ttdoc">Modify the charges of this item, only use for items counted by charges! The item must have enough cha...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09548">item.cpp:9548</a></div></div>
<div class="ttc" id="aclassitem_html_a6d1575c31b1dc0df51cbe3a1dfbfef16"><div class="ttname"><a href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">item::on_contents_changed</a></div><div class="ttdeci">void on_contents_changed()</div><div class="ttdoc">Callback when contents of the item are affected in any way other than just processing.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04424">item.cpp:4424</a></div></div>
<div class="ttc" id="aclassitem_html_aaff8311e14e6819e6b6c2e207037f292"><div class="ttname"><a href="classitem.html#aaff8311e14e6819e6b6c2e207037f292">item::get_remaining_capacity_for_liquid</a></div><div class="ttdeci">int get_remaining_capacity_for_liquid(const item &amp;liquid, bool allow_bucket=false, std::string *err=nullptr) const</div><div class="ttdoc">How much more of this liquid (in charges) can be put in this container.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08268">item.cpp:8268</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l05420">get_relative_rot()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="item_8cpp_source.html#l06687">is_container_empty()</a>, <a class="el" href="item_8cpp_source.html#l06458">is_food_container()</a>, <a class="el" href="item_8cpp_source.html#l06716">is_reloadable_with()</a>, <a class="el" href="item_8cpp_source.html#l09548">mod_charges()</a>, <a class="el" href="item_8cpp_source.html#l04424">on_contents_changed()</a>, <a class="el" href="item_8cpp_source.html#l00987">put_in()</a>, <a class="el" href="item_8cpp_source.html#l05428">set_relative_rot()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00382">vehicle_part::fill_with()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01656">advanced_inventory::move_content()</a>, <a class="el" href="character_8cpp_source.html#l06426">Character::pour_into()</a>, and <a class="el" href="item_8cpp_source.html#l07949">reload()</a>.</p>

</div>
</div>
<a id="ae2393a9b4e31f34c14c0f3496ef938a4" name="ae2393a9b4e31f34c14c0f3496ef938a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2393a9b4e31f34c14c0f3496ef938a4">&#9670;&nbsp;</a></span>final_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::final_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03546">3546</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03548" name="l03548"></a><span class="lineno"> 3548</span>{</div>
<div class="line"><a id="l03549" name="l03549"></a><span class="lineno"> 3549</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l03550" name="l03550"></a><span class="lineno"> 3550</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03551" name="l03551"></a><span class="lineno"> 3551</span>    }</div>
<div class="line"><a id="l03552" name="l03552"></a><span class="lineno"> 3552</span> </div>
<div class="line"><a id="l03553" name="l03553"></a><span class="lineno"> 3553</span>    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> = <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a id="l03554" name="l03554"></a><span class="lineno"> 3554</span> </div>
<div class="line"><a id="l03555" name="l03555"></a><span class="lineno"> 3555</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03556" name="l03556"></a><span class="lineno"> 3556</span> </div>
<div class="line"><a id="l03557" name="l03557"></a><span class="lineno"> 3557</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf69c0403f5998ebed28c7377c75cf753">iteminfo_parts::BASE_RIGIDITY</a> ) ) {</div>
<div class="line"><a id="l03558" name="l03558"></a><span class="lineno"> 3558</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a14fcae616635cf3a66644e0d473a3622">rigid</a> ) {</div>
<div class="line"><a id="l03559" name="l03559"></a><span class="lineno"> 3559</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;BASE&quot;</span>,</div>
<div class="line"><a id="l03560" name="l03560"></a><span class="lineno"> 3560</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item is &lt;info&gt;not rigid&lt;/info&gt;.  Its&quot;</span></div>
<div class="line"><a id="l03561" name="l03561"></a><span class="lineno"> 3561</span>                                  <span class="stringliteral">&quot; volume and encumbrance increase with contents.&quot;</span> ) );</div>
<div class="line"><a id="l03562" name="l03562"></a><span class="lineno"> 3562</span>        }</div>
<div class="line"><a id="l03563" name="l03563"></a><span class="lineno"> 3563</span>    }</div>
<div class="line"><a id="l03564" name="l03564"></a><span class="lineno"> 3564</span> </div>
<div class="line"><a id="l03565" name="l03565"></a><span class="lineno"> 3565</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa02b2ee1cfc05bf8c73324c9882afe557">iteminfo_parts::DESCRIPTION_CONDUCTIVITY</a> ) ) {</div>
<div class="line"><a id="l03566" name="l03566"></a><span class="lineno"> 3566</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2cce9a58e90e7bcc596240004ac54288">conductive</a>() ) {</div>
<div class="line"><a id="l03567" name="l03567"></a><span class="lineno"> 3567</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item &lt;good&gt;does not &quot;</span></div>
<div class="line"><a id="l03568" name="l03568"></a><span class="lineno"> 3568</span>                                                 <span class="stringliteral">&quot;conduct&lt;/good&gt; electricity.&quot;</span> ) ) );</div>
<div class="line"><a id="l03569" name="l03569"></a><span class="lineno"> 3569</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a29822d25418f301087e5c0feab22b3d5">flag_CONDUCTIVE</a> ) ) {</div>
<div class="line"><a id="l03570" name="l03570"></a><span class="lineno"> 3570</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>,</div>
<div class="line"><a id="l03571" name="l03571"></a><span class="lineno"> 3571</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item effectively &lt;bad&gt;conducts&lt;/bad&gt; &quot;</span></div>
<div class="line"><a id="l03572" name="l03572"></a><span class="lineno"> 3572</span>                                         <span class="stringliteral">&quot;electricity, as it has no guard.&quot;</span> ) ) );</div>
<div class="line"><a id="l03573" name="l03573"></a><span class="lineno"> 3573</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03574" name="l03574"></a><span class="lineno"> 3574</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item &lt;bad&gt;conducts&lt;/bad&gt; electricity.&quot;</span> ) ) );</div>
<div class="line"><a id="l03575" name="l03575"></a><span class="lineno"> 3575</span>        }</div>
<div class="line"><a id="l03576" name="l03576"></a><span class="lineno"> 3576</span>    }</div>
<div class="line"><a id="l03577" name="l03577"></a><span class="lineno"> 3577</span> </div>
<div class="line"><a id="l03578" name="l03578"></a><span class="lineno"> 3578</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="item_8cpp.html#a1ed0e0569ca42bfbb736694d90fd03fa">trait_WOOLALLERGY</a> ) &amp;&amp;</div>
<div class="line"><a id="l03579" name="l03579"></a><span class="lineno"> 3579</span>        ( <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;wool&quot;</span> ) ) || <a class="code hl_function" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a>( <span class="stringliteral">&quot;wooled&quot;</span> ) ) ) {</div>
<div class="line"><a id="l03580" name="l03580"></a><span class="lineno"> 3580</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03581" name="l03581"></a><span class="lineno"> 3581</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This clothing will give you an &lt;bad&gt;allergic &quot;</span></div>
<div class="line"><a id="l03582" name="l03582"></a><span class="lineno"> 3582</span>                                     <span class="stringliteral">&quot;reaction&lt;/bad&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l03583" name="l03583"></a><span class="lineno"> 3583</span>    }</div>
<div class="line"><a id="l03584" name="l03584"></a><span class="lineno"> 3584</span> </div>
<div class="line"><a id="l03585" name="l03585"></a><span class="lineno"> 3585</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa684af65c6df05045e79e249dcb823f99">iteminfo_parts::DESCRIPTION_FLAGS</a> ) ) {</div>
<div class="line"><a id="l03586" name="l03586"></a><span class="lineno"> 3586</span>        <span class="comment">// concatenate base and acquired flags...</span></div>
<div class="line"><a id="l03587" name="l03587"></a><span class="lineno"> 3587</span>        std::vector&lt;std::string&gt; flags;</div>
<div class="line"><a id="l03588" name="l03588"></a><span class="lineno"> 3588</span>        std::set_union( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#adc8d0bfd6899a3b8b4868e028c5a2214">get_flags</a>().<a class="code hl_function" href="classcata_1_1flat__set.html#a038c2f807983027c730259560308285c">begin</a>(), <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#adc8d0bfd6899a3b8b4868e028c5a2214">get_flags</a>().<a class="code hl_function" href="classcata_1_1flat__set.html#ac2cc2580a6f1501d51da9e51a8de2e8c">end</a>(),</div>
<div class="line"><a id="l03589" name="l03589"></a><span class="lineno"> 3589</span>                        <a class="code hl_function" href="classitem.html#a054cbf5ac79938bbfb527bb0314043b1">get_flags</a>().begin(), <a class="code hl_function" href="classitem.html#a054cbf5ac79938bbfb527bb0314043b1">get_flags</a>().end(),</div>
<div class="line"><a id="l03590" name="l03590"></a><span class="lineno"> 3590</span>                        std::back_inserter( flags ) );</div>
<div class="line"><a id="l03591" name="l03591"></a><span class="lineno"> 3591</span> </div>
<div class="line"><a id="l03592" name="l03592"></a><span class="lineno"> 3592</span>        <span class="comment">// ...and display those which have an info description</span></div>
<div class="line"><a id="l03593" name="l03593"></a><span class="lineno"> 3593</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;e : flags ) {</div>
<div class="line"><a id="l03594" name="l03594"></a><span class="lineno"> 3594</span>            <span class="keyword">const</span> <a class="code hl_class" href="classjson__flag.html">json_flag</a> &amp;f = <a class="code hl_function" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( e );</div>
<div class="line"><a id="l03595" name="l03595"></a><span class="lineno"> 3595</span>            <span class="keywordflow">if</span>( !f.<a class="code hl_function" href="classjson__flag.html#a4e37aa18092793ee949dda50f9fd5ad2">info</a>().empty() ) {</div>
<div class="line"><a id="l03596" name="l03596"></a><span class="lineno"> 3596</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;* %s&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( f.<a class="code hl_function" href="classjson__flag.html#a4e37aa18092793ee949dda50f9fd5ad2">info</a>() ) ) );</div>
<div class="line"><a id="l03597" name="l03597"></a><span class="lineno"> 3597</span>            }</div>
<div class="line"><a id="l03598" name="l03598"></a><span class="lineno"> 3598</span>        }</div>
<div class="line"><a id="l03599" name="l03599"></a><span class="lineno"> 3599</span>    }</div>
<div class="line"><a id="l03600" name="l03600"></a><span class="lineno"> 3600</span> </div>
<div class="line"><a id="l03601" name="l03601"></a><span class="lineno"> 3601</span>    <a class="code hl_function" href="classitem.html#ac46c94fbae3a31ba0e21f348875a3e74">armor_fit_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03602" name="l03602"></a><span class="lineno"> 3602</span> </div>
<div class="line"><a id="l03603" name="l03603"></a><span class="lineno"> 3603</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l03604" name="l03604"></a><span class="lineno"> 3604</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a82e0833373b0141aec30768dfc349bbe">is_power_armor</a>() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa806bc3e9eb5192c0e501fe1b73311d96">iteminfo_parts::DESCRIPTION_BIONIC_ARMOR_INTERFACE</a> ) ) {</div>
<div class="line"><a id="l03605" name="l03605"></a><span class="lineno"> 3605</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03606" name="l03606"></a><span class="lineno"> 3606</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This tool can draw power from a &lt;info&gt;Bionic Armor Interface&lt;/info&gt;&quot;</span> ) ) );</div>
<div class="line"><a id="l03607" name="l03607"></a><span class="lineno"> 3607</span>        }</div>
<div class="line"><a id="l03608" name="l03608"></a><span class="lineno"> 3608</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS</a> ) &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaac9ddd8ec0ae7bb9c31ab86c5b710a26b">iteminfo_parts::DESCRIPTION_RECHARGE_UPSMODDED</a> ) ) {</div>
<div class="line"><a id="l03609" name="l03609"></a><span class="lineno"> 3609</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03610" name="l03610"></a><span class="lineno"> 3610</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This tool uses a &lt;info&gt;universal power supply&lt;/info&gt; &quot;</span></div>
<div class="line"><a id="l03611" name="l03611"></a><span class="lineno"> 3611</span>                                         <span class="stringliteral">&quot;and is &lt;neutral&gt;not compatible&lt;/neutral&gt; with &quot;</span></div>
<div class="line"><a id="l03612" name="l03612"></a><span class="lineno"> 3612</span>                                         <span class="stringliteral">&quot;&lt;info&gt;standard batteries&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l03613" name="l03613"></a><span class="lineno"> 3613</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6b940582bc90ec14579168cad43bad81">flag_RECHARGE</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">flag_NO_RELOAD</a> ) &amp;&amp;</div>
<div class="line"><a id="l03614" name="l03614"></a><span class="lineno"> 3614</span>                   parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa66ded97adad69f0d0e43b011564cd41d">iteminfo_parts::DESCRIPTION_RECHARGE_NORELOAD</a> ) ) {</div>
<div class="line"><a id="l03615" name="l03615"></a><span class="lineno"> 3615</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03616" name="l03616"></a><span class="lineno"> 3616</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This tool has a &lt;info&gt;rechargeable power cell&lt;/info&gt; &quot;</span></div>
<div class="line"><a id="l03617" name="l03617"></a><span class="lineno"> 3617</span>                                         <span class="stringliteral">&quot;and is &lt;neutral&gt;not compatible&lt;/neutral&gt; with &quot;</span></div>
<div class="line"><a id="l03618" name="l03618"></a><span class="lineno"> 3618</span>                                         <span class="stringliteral">&quot;&lt;info&gt;standard batteries&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l03619" name="l03619"></a><span class="lineno"> 3619</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6b940582bc90ec14579168cad43bad81">flag_RECHARGE</a> ) &amp;&amp;</div>
<div class="line"><a id="l03620" name="l03620"></a><span class="lineno"> 3620</span>                   parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3a07e3ba4359475b31e1eae6b5743467">iteminfo_parts::DESCRIPTION_RECHARGE_UPSCAPABLE</a> ) ) {</div>
<div class="line"><a id="l03621" name="l03621"></a><span class="lineno"> 3621</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03622" name="l03622"></a><span class="lineno"> 3622</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This tool has a &lt;info&gt;rechargeable power cell&lt;/info&gt; &quot;</span></div>
<div class="line"><a id="l03623" name="l03623"></a><span class="lineno"> 3623</span>                                         <span class="stringliteral">&quot;and can be recharged in any &lt;neutral&gt;UPS-compatible &quot;</span></div>
<div class="line"><a id="l03624" name="l03624"></a><span class="lineno"> 3624</span>                                         <span class="stringliteral">&quot;recharging station&lt;/neutral&gt;. You could charge it with &quot;</span></div>
<div class="line"><a id="l03625" name="l03625"></a><span class="lineno"> 3625</span>                                         <span class="stringliteral">&quot;&lt;info&gt;standard batteries&lt;/info&gt;, but unloading it is &quot;</span></div>
<div class="line"><a id="l03626" name="l03626"></a><span class="lineno"> 3626</span>                                         <span class="stringliteral">&quot;impossible.&quot;</span> ) ) );</div>
<div class="line"><a id="l03627" name="l03627"></a><span class="lineno"> 3627</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ac598f189b2cb0091f6d5f7ad687d8bdb">flag_USES_BIONIC_POWER</a> ) ) {</div>
<div class="line"><a id="l03628" name="l03628"></a><span class="lineno"> 3628</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03629" name="l03629"></a><span class="lineno"> 3629</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This tool &lt;info&gt;runs on bionic power&lt;/info&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l03630" name="l03630"></a><span class="lineno"> 3630</span>        }</div>
<div class="line"><a id="l03631" name="l03631"></a><span class="lineno"> 3631</span>    }</div>
<div class="line"><a id="l03632" name="l03632"></a><span class="lineno"> 3632</span> </div>
<div class="line"><a id="l03633" name="l03633"></a><span class="lineno"> 3633</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a74d9758bd8ff342c804d5b9af87cad9c">flag_RADIO_ACTIVATION</a> ) &amp;&amp;</div>
<div class="line"><a id="l03634" name="l03634"></a><span class="lineno"> 3634</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadf835c38764a7e0322a8c9745f8025f9">iteminfo_parts::DESCRIPTION_RADIO_ACTIVATION</a> ) ) {</div>
<div class="line"><a id="l03635" name="l03635"></a><span class="lineno"> 3635</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#af6d8b27a9e9e6f274a4f37347efd89d3">flag_RADIO_MOD</a> ) ) {</div>
<div class="line"><a id="l03636" name="l03636"></a><span class="lineno"> 3636</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03637" name="l03637"></a><span class="lineno"> 3637</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item has been modified to listen to &lt;info&gt;radio &quot;</span></div>
<div class="line"><a id="l03638" name="l03638"></a><span class="lineno"> 3638</span>                                  <span class="stringliteral">&quot;signals&lt;/info&gt;.  It can still be activated manually.&quot;</span> ) );</div>
<div class="line"><a id="l03639" name="l03639"></a><span class="lineno"> 3639</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03640" name="l03640"></a><span class="lineno"> 3640</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03641" name="l03641"></a><span class="lineno"> 3641</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item can only be activated by a &lt;info&gt;radio &quot;</span></div>
<div class="line"><a id="l03642" name="l03642"></a><span class="lineno"> 3642</span>                                  <span class="stringliteral">&quot;signal&lt;/info&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l03643" name="l03643"></a><span class="lineno"> 3643</span>        }</div>
<div class="line"><a id="l03644" name="l03644"></a><span class="lineno"> 3644</span> </div>
<div class="line"><a id="l03645" name="l03645"></a><span class="lineno"> 3645</span>        std::string signame;</div>
<div class="line"><a id="l03646" name="l03646"></a><span class="lineno"> 3646</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a3a93039896bf4ad4009b71761a6fc37b">flag_RADIOSIGNAL_1</a> ) ) {</div>
<div class="line"><a id="l03647" name="l03647"></a><span class="lineno"> 3647</span>            signame = <span class="stringliteral">&quot;&lt;color_c_red&gt;red&lt;/color&gt; radio signal.&quot;</span>;</div>
<div class="line"><a id="l03648" name="l03648"></a><span class="lineno"> 3648</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a00bc62d36f164a5bd40f09ac660d5b3c">flag_RADIOSIGNAL_2</a> ) ) {</div>
<div class="line"><a id="l03649" name="l03649"></a><span class="lineno"> 3649</span>            signame = <span class="stringliteral">&quot;&lt;color_c_blue&gt;blue&lt;/color&gt; radio signal.&quot;</span>;</div>
<div class="line"><a id="l03650" name="l03650"></a><span class="lineno"> 3650</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab39ec543f35c9976b0fdb0a24620bdee">flag_RADIOSIGNAL_3</a> ) ) {</div>
<div class="line"><a id="l03651" name="l03651"></a><span class="lineno"> 3651</span>            signame = <span class="stringliteral">&quot;&lt;color_c_green&gt;green&lt;/color&gt; radio signal.&quot;</span>;</div>
<div class="line"><a id="l03652" name="l03652"></a><span class="lineno"> 3652</span>        }</div>
<div class="line"><a id="l03653" name="l03653"></a><span class="lineno"> 3653</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa57b3ed51f4fb96ad22d4cae36bef975f">iteminfo_parts::DESCRIPTION_RADIO_ACTIVATION_CHANNEL</a> ) ) {</div>
<div class="line"><a id="l03654" name="l03654"></a><span class="lineno"> 3654</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03655" name="l03655"></a><span class="lineno"> 3655</span>                               <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* It will be activated by the %s.&quot;</span> ),</div>
<div class="line"><a id="l03656" name="l03656"></a><span class="lineno"> 3656</span>                                              signame ) );</div>
<div class="line"><a id="l03657" name="l03657"></a><span class="lineno"> 3657</span>        }</div>
<div class="line"><a id="l03658" name="l03658"></a><span class="lineno"> 3658</span> </div>
<div class="line"><a id="l03659" name="l03659"></a><span class="lineno"> 3659</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a7f6eeaf4da8e31ec0af7b6423db44fc0">flag_RADIO_INVOKE_PROC</a> ) &amp;&amp;</div>
<div class="line"><a id="l03660" name="l03660"></a><span class="lineno"> 3660</span>            parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaac8b25c720b60691923e3e81192cc4185">iteminfo_parts::DESCRIPTION_RADIO_ACTIVATION_PROC</a> ) ) {</div>
<div class="line"><a id="l03661" name="l03661"></a><span class="lineno"> 3661</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03662" name="l03662"></a><span class="lineno"> 3662</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* Activating this item with a &lt;info&gt;radio signal&lt;/info&gt; will &quot;</span></div>
<div class="line"><a id="l03663" name="l03663"></a><span class="lineno"> 3663</span>                                  <span class="stringliteral">&quot;&lt;neutral&gt;detonate&lt;/neutral&gt; it immediately.&quot;</span> ) );</div>
<div class="line"><a id="l03664" name="l03664"></a><span class="lineno"> 3664</span>        }</div>
<div class="line"><a id="l03665" name="l03665"></a><span class="lineno"> 3665</span>    }</div>
<div class="line"><a id="l03666" name="l03666"></a><span class="lineno"> 3666</span> </div>
<div class="line"><a id="l03667" name="l03667"></a><span class="lineno"> 3667</span>    <a class="code hl_function" href="classitem.html#a6233ded50f0c2ddc86761f9b5cef5298">bionic_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03668" name="l03668"></a><span class="lineno"> 3668</span> </div>
<div class="line"><a id="l03669" name="l03669"></a><span class="lineno"> 3669</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a02edfa7a6cb1a0f7a67ae1aca7a34753">flag_FIRE_TWOHAND</a> ) &amp;&amp;</div>
<div class="line"><a id="l03670" name="l03670"></a><span class="lineno"> 3670</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaafa560e15f742e18dd9c9308413882612">iteminfo_parts::DESCRIPTION_TWOHANDED</a> ) ) {</div>
<div class="line"><a id="l03671" name="l03671"></a><span class="lineno"> 3671</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03672" name="l03672"></a><span class="lineno"> 3672</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This weapon needs &lt;info&gt;two free hands&lt;/info&gt; &quot;</span></div>
<div class="line"><a id="l03673" name="l03673"></a><span class="lineno"> 3673</span>                                     <span class="stringliteral">&quot;to fire.&quot;</span> ) ) );</div>
<div class="line"><a id="l03674" name="l03674"></a><span class="lineno"> 3674</span>    }</div>
<div class="line"><a id="l03675" name="l03675"></a><span class="lineno"> 3675</span> </div>
<div class="line"><a id="l03676" name="l03676"></a><span class="lineno"> 3676</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a473d946b810b948e6d47e6bcc7e64d04">flag_DISABLE_SIGHTS</a> ) &amp;&amp;</div>
<div class="line"><a id="l03677" name="l03677"></a><span class="lineno"> 3677</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4087f2afe0ce4e0ac1deb457321cc3a2">iteminfo_parts::DESCRIPTION_GUNMOD_DISABLESSIGHTS</a> ) ) {</div>
<div class="line"><a id="l03678" name="l03678"></a><span class="lineno"> 3678</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03679" name="l03679"></a><span class="lineno"> 3679</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This mod &lt;bad&gt;obscures sights&lt;/bad&gt; of the &quot;</span></div>
<div class="line"><a id="l03680" name="l03680"></a><span class="lineno"> 3680</span>                                     <span class="stringliteral">&quot;base weapon.&quot;</span> ) ) );</div>
<div class="line"><a id="l03681" name="l03681"></a><span class="lineno"> 3681</span>    }</div>
<div class="line"><a id="l03682" name="l03682"></a><span class="lineno"> 3682</span> </div>
<div class="line"><a id="l03683" name="l03683"></a><span class="lineno"> 3683</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a916c022e69240915ee6678d0170882d3">flag_CONSUMABLE</a> ) &amp;&amp;</div>
<div class="line"><a id="l03684" name="l03684"></a><span class="lineno"> 3684</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad1c2acf6fd6e337cb1de996a8e264a80">iteminfo_parts::DESCRIPTION_GUNMOD_CONSUMABLE</a> ) ) {</div>
<div class="line"><a id="l03685" name="l03685"></a><span class="lineno"> 3685</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03686" name="l03686"></a><span class="lineno"> 3686</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This mod might &lt;bad&gt;suffer wear&lt;/bad&gt; when firing &quot;</span></div>
<div class="line"><a id="l03687" name="l03687"></a><span class="lineno"> 3687</span>                                     <span class="stringliteral">&quot;the base weapon.&quot;</span> ) ) );</div>
<div class="line"><a id="l03688" name="l03688"></a><span class="lineno"> 3688</span>    }</div>
<div class="line"><a id="l03689" name="l03689"></a><span class="lineno"> 3689</span> </div>
<div class="line"><a id="l03690" name="l03690"></a><span class="lineno"> 3690</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a450233a88bf43aa6380c2b09d89cf0bf">flag_LEAK_DAM</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#adc75c21d21b85c1a29f21a3c0872326c">flag_RADIOACTIVE</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; 0</div>
<div class="line"><a id="l03691" name="l03691"></a><span class="lineno"> 3691</span>        &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8dba4b60e82bdf811f35108884eb0c9a">iteminfo_parts::DESCRIPTION_RADIOACTIVITY_DAMAGED</a> ) ) {</div>
<div class="line"><a id="l03692" name="l03692"></a><span class="lineno"> 3692</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03693" name="l03693"></a><span class="lineno"> 3693</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* The casing of this item has &lt;neutral&gt;cracked&lt;/neutral&gt;, &quot;</span></div>
<div class="line"><a id="l03694" name="l03694"></a><span class="lineno"> 3694</span>                                     <span class="stringliteral">&quot;revealing an &lt;info&gt;ominous green glow&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l03695" name="l03695"></a><span class="lineno"> 3695</span>    }</div>
<div class="line"><a id="l03696" name="l03696"></a><span class="lineno"> 3696</span> </div>
<div class="line"><a id="l03697" name="l03697"></a><span class="lineno"> 3697</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ac726b0317d486dde06a92a3f81470899">flag_LEAK_ALWAYS</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#adc75c21d21b85c1a29f21a3c0872326c">flag_RADIOACTIVE</a> ) &amp;&amp;</div>
<div class="line"><a id="l03698" name="l03698"></a><span class="lineno"> 3698</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadd581caa6dcfb7e4078b28e30553e329">iteminfo_parts::DESCRIPTION_RADIOACTIVITY_ALWAYS</a> ) ) {</div>
<div class="line"><a id="l03699" name="l03699"></a><span class="lineno"> 3699</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03700" name="l03700"></a><span class="lineno"> 3700</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This object is &lt;neutral&gt;surrounded&lt;/neutral&gt; by a &quot;</span></div>
<div class="line"><a id="l03701" name="l03701"></a><span class="lineno"> 3701</span>                                     <span class="stringliteral">&quot;&lt;info&gt;sickly green glow&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l03702" name="l03702"></a><span class="lineno"> 3702</span>    }</div>
<div class="line"><a id="l03703" name="l03703"></a><span class="lineno"> 3703</span> </div>
<div class="line"><a id="l03704" name="l03704"></a><span class="lineno"> 3704</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9781b39e9c1a98383f202db9935b6a23">is_brewable</a>() || ( !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#a9781b39e9c1a98383f202db9935b6a23">is_brewable</a>() ) ) {</div>
<div class="line"><a id="l03705" name="l03705"></a><span class="lineno"> 3705</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;brewed = !<a class="code hl_function" href="classitem.html#a9781b39e9c1a98383f202db9935b6a23">is_brewable</a>() ? <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>() : *<span class="keyword">this</span>;</div>
<div class="line"><a id="l03706" name="l03706"></a><span class="lineno"> 3706</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa56d9e37dc7f27fdedca6f786acf78bf7">iteminfo_parts::DESCRIPTION_BREWABLE_DURATION</a> ) ) {</div>
<div class="line"><a id="l03707" name="l03707"></a><span class="lineno"> 3707</span>            <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> btime = brewed.<a class="code hl_function" href="classitem.html#a1c4782661219fccd444ab8d91ec04d58">brewing_time</a>();</div>
<div class="line"><a id="l03708" name="l03708"></a><span class="lineno"> 3708</span>            <span class="keywordtype">int</span> btime_i = to_days&lt;int&gt;( btime );</div>
<div class="line"><a id="l03709" name="l03709"></a><span class="lineno"> 3709</span>            <span class="keywordflow">if</span>( btime &lt;= 2_days ) {</div>
<div class="line"><a id="l03710" name="l03710"></a><span class="lineno"> 3710</span>                btime_i = to_hours&lt;int&gt;( btime );</div>
<div class="line"><a id="l03711" name="l03711"></a><span class="lineno"> 3711</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03712" name="l03712"></a><span class="lineno"> 3712</span>                                          <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;* Once set in a vat, this &quot;</span></div>
<div class="line"><a id="l03713" name="l03713"></a><span class="lineno"> 3713</span>                                                  <span class="stringliteral">&quot;will ferment in around %d hour.&quot;</span>,</div>
<div class="line"><a id="l03714" name="l03714"></a><span class="lineno"> 3714</span>                                                  <span class="stringliteral">&quot;* Once set in a vat, this will ferment in &quot;</span></div>
<div class="line"><a id="l03715" name="l03715"></a><span class="lineno"> 3715</span>                                                  <span class="stringliteral">&quot;around %d hours.&quot;</span>, btime_i ), btime_i ) ) );</div>
<div class="line"><a id="l03716" name="l03716"></a><span class="lineno"> 3716</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03717" name="l03717"></a><span class="lineno"> 3717</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03718" name="l03718"></a><span class="lineno"> 3718</span>                                          <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;* Once set in a vat, this &quot;</span></div>
<div class="line"><a id="l03719" name="l03719"></a><span class="lineno"> 3719</span>                                                  <span class="stringliteral">&quot;will ferment in around %d day.&quot;</span>,</div>
<div class="line"><a id="l03720" name="l03720"></a><span class="lineno"> 3720</span>                                                  <span class="stringliteral">&quot;* Once set in a vat, this will ferment in &quot;</span></div>
<div class="line"><a id="l03721" name="l03721"></a><span class="lineno"> 3721</span>                                                  <span class="stringliteral">&quot;around %d days.&quot;</span>, btime_i ), btime_i ) ) );</div>
<div class="line"><a id="l03722" name="l03722"></a><span class="lineno"> 3722</span>            }</div>
<div class="line"><a id="l03723" name="l03723"></a><span class="lineno"> 3723</span>        }</div>
<div class="line"><a id="l03724" name="l03724"></a><span class="lineno"> 3724</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa62d4071aabf7f7291f31959e440cd966">iteminfo_parts::DESCRIPTION_BREWABLE_PRODUCTS</a> ) ) {</div>
<div class="line"><a id="l03725" name="l03725"></a><span class="lineno"> 3725</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;res : brewed.<a class="code hl_function" href="classitem.html#a099ea278b365213e371a3c125b7d8342">brewing_results</a>() ) {</div>
<div class="line"><a id="l03726" name="l03726"></a><span class="lineno"> 3726</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03727" name="l03727"></a><span class="lineno"> 3727</span>                                          <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* Fermenting this will produce &quot;</span></div>
<div class="line"><a id="l03728" name="l03728"></a><span class="lineno"> 3728</span>                                                  <span class="stringliteral">&quot;&lt;neutral&gt;%s&lt;/neutral&gt;.&quot;</span> ),</div>
<div class="line"><a id="l03729" name="l03729"></a><span class="lineno"> 3729</span>                                                  <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">nname</a>( res, brewed.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) ) ) );</div>
<div class="line"><a id="l03730" name="l03730"></a><span class="lineno"> 3730</span>            }</div>
<div class="line"><a id="l03731" name="l03731"></a><span class="lineno"> 3731</span>        }</div>
<div class="line"><a id="l03732" name="l03732"></a><span class="lineno"> 3732</span>    }</div>
<div class="line"><a id="l03733" name="l03733"></a><span class="lineno"> 3733</span> </div>
<div class="line"><a id="l03734" name="l03734"></a><span class="lineno"> 3734</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6a938bcf44eb5ee746d9f76f10fa3c98">iteminfo_parts::DESCRIPTION_FAULTS</a> ) ) {</div>
<div class="line"><a id="l03735" name="l03735"></a><span class="lineno"> 3735</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">fault_id</a> &amp;e : <a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a> ) {</div>
<div class="line"><a id="l03736" name="l03736"></a><span class="lineno"> 3736</span>            <span class="comment">//~ %1$s is the name of a fault and %2$s is the description of the fault</span></div>
<div class="line"><a id="l03737" name="l03737"></a><span class="lineno"> 3737</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* &lt;bad&gt;%1$s&lt;/bad&gt;.  %2$s&quot;</span> ),</div>
<div class="line"><a id="l03738" name="l03738"></a><span class="lineno"> 3738</span>                               e.obj().name(), e.obj().description() ) );</div>
<div class="line"><a id="l03739" name="l03739"></a><span class="lineno"> 3739</span>        }</div>
<div class="line"><a id="l03740" name="l03740"></a><span class="lineno"> 3740</span>    }</div>
<div class="line"><a id="l03741" name="l03741"></a><span class="lineno"> 3741</span> </div>
<div class="line"><a id="l03742" name="l03742"></a><span class="lineno"> 3742</span>    <span class="comment">// does the item fit in any holsters?</span></div>
<div class="line"><a id="l03743" name="l03743"></a><span class="lineno"> 3743</span>    std::vector&lt;const itype *&gt; holsters = <a class="code hl_variable" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;find( [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> &amp; e ) {</div>
<div class="line"><a id="l03744" name="l03744"></a><span class="lineno"> 3744</span>        <span class="keywordflow">if</span>( !e.<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;holster&quot;</span> ) ) {</div>
<div class="line"><a id="l03745" name="l03745"></a><span class="lineno"> 3745</span>            return false;</div>
<div class="line"><a id="l03746" name="l03746"></a><span class="lineno"> 3746</span>        }</div>
<div class="line"><a id="l03747" name="l03747"></a><span class="lineno"> 3747</span>        <span class="keyword">const</span> <a class="code hl_class" href="classholster__actor.html">holster_actor</a> *<a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a> = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classholster__actor.html">holster_actor</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l03748" name="l03748"></a><span class="lineno"> 3748</span>                                   ( e.<a class="code hl_function" href="structitype.html#a304367633fdfe6c63a53bdce0caced92">get_use</a>( <span class="stringliteral">&quot;holster&quot;</span> )-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() );</div>
<div class="line"><a id="l03749" name="l03749"></a><span class="lineno"> 3749</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a>-&gt;can_holster( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l03750" name="l03750"></a><span class="lineno"> 3750</span>    } );</div>
<div class="line"><a id="l03751" name="l03751"></a><span class="lineno"> 3751</span> </div>
<div class="line"><a id="l03752" name="l03752"></a><span class="lineno"> 3752</span>    <span class="keywordflow">if</span>( !holsters.empty() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad25e1ad70042be7b6a83d94dc7ec02c6">iteminfo_parts::DESCRIPTION_HOLSTERS</a> ) ) {</div>
<div class="line"><a id="l03753" name="l03753"></a><span class="lineno"> 3753</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03754" name="l03754"></a><span class="lineno"> 3754</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Can be stored in&lt;/bold&gt;: &quot;</span> ) +</div>
<div class="line"><a id="l03755" name="l03755"></a><span class="lineno"> 3755</span>                           <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( holsters.begin(), holsters.end(),</div>
<div class="line"><a id="l03756" name="l03756"></a><span class="lineno"> 3756</span>        []( <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> * e ) {</div>
<div class="line"><a id="l03757" name="l03757"></a><span class="lineno"> 3757</span>            return e-&gt;nname( 1 );</div>
<div class="line"><a id="l03758" name="l03758"></a><span class="lineno"> 3758</span>        } ) );</div>
<div class="line"><a id="l03759" name="l03759"></a><span class="lineno"> 3759</span>    }</div>
<div class="line"><a id="l03760" name="l03760"></a><span class="lineno"> 3760</span> </div>
<div class="line"><a id="l03761" name="l03761"></a><span class="lineno"> 3761</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa73a99ae46e1eb6f0d9e007bbc43d1aa0">iteminfo_parts::DESCRIPTION_ACTIVATABLE_TRANSFORMATION</a> ) ) {</div>
<div class="line"><a id="l03762" name="l03762"></a><span class="lineno"> 3762</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;u : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a> ) {</div>
<div class="line"><a id="l03763" name="l03763"></a><span class="lineno"> 3763</span>            <span class="keyword">const</span> <a class="code hl_class" href="classdelayed__transform__iuse.html">delayed_transform_iuse</a> *tt = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classdelayed__transform__iuse.html">delayed_transform_iuse</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l03764" name="l03764"></a><span class="lineno"> 3764</span>                                               ( u.second.get_actor_ptr() );</div>
<div class="line"><a id="l03765" name="l03765"></a><span class="lineno"> 3765</span>            <span class="keywordflow">if</span>( tt == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03766" name="l03766"></a><span class="lineno"> 3766</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03767" name="l03767"></a><span class="lineno"> 3767</span>            }</div>
<div class="line"><a id="l03768" name="l03768"></a><span class="lineno"> 3768</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> time_to_do = tt-&gt;<a class="code hl_function" href="classdelayed__transform__iuse.html#a083d8a58f26d025d8331f01e5c41c6ab">time_to_do</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l03769" name="l03769"></a><span class="lineno"> 3769</span>            <span class="keywordflow">if</span>( time_to_do &lt;= 0 ) {</div>
<div class="line"><a id="l03770" name="l03770"></a><span class="lineno"> 3770</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03771" name="l03771"></a><span class="lineno"> 3771</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s done and &lt;info&gt;can be activated&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l03772" name="l03772"></a><span class="lineno"> 3772</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03773" name="l03773"></a><span class="lineno"> 3773</span>                <span class="keyword">const</span> std::string time = <a class="code hl_function" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a>( <a class="code hl_function" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( time_to_do ) );</div>
<div class="line"><a id="l03774" name="l03774"></a><span class="lineno"> 3774</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03775" name="l03775"></a><span class="lineno"> 3775</span>                                          <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It will be done in %s.&quot;</span> ),</div>
<div class="line"><a id="l03776" name="l03776"></a><span class="lineno"> 3776</span>                                                  time.c_str() ) ) );</div>
<div class="line"><a id="l03777" name="l03777"></a><span class="lineno"> 3777</span>            }</div>
<div class="line"><a id="l03778" name="l03778"></a><span class="lineno"> 3778</span>        }</div>
<div class="line"><a id="l03779" name="l03779"></a><span class="lineno"> 3779</span>    }</div>
<div class="line"><a id="l03780" name="l03780"></a><span class="lineno"> 3780</span> </div>
<div class="line"><a id="l03781" name="l03781"></a><span class="lineno"> 3781</span>    std::map&lt;std::string, std::string&gt;::const_iterator item_note = <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.find( <span class="stringliteral">&quot;item_note&quot;</span> );</div>
<div class="line"><a id="l03782" name="l03782"></a><span class="lineno"> 3782</span>    std::map&lt;std::string, std::string&gt;::const_iterator item_note_tool =</div>
<div class="line"><a id="l03783" name="l03783"></a><span class="lineno"> 3783</span>        <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.find( <span class="stringliteral">&quot;item_note_tool&quot;</span> );</div>
<div class="line"><a id="l03784" name="l03784"></a><span class="lineno"> 3784</span> </div>
<div class="line"><a id="l03785" name="l03785"></a><span class="lineno"> 3785</span>    <span class="keywordflow">if</span>( item_note != <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef9ed3c3dfaa9742675bccedcbb7eb5d">iteminfo_parts::DESCRIPTION_NOTES</a> ) ) {</div>
<div class="line"><a id="l03786" name="l03786"></a><span class="lineno"> 3786</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03787" name="l03787"></a><span class="lineno"> 3787</span>        std::string ntext;</div>
<div class="line"><a id="l03788" name="l03788"></a><span class="lineno"> 3788</span>        <span class="keyword">const</span> <a class="code hl_class" href="classinscribe__actor.html">inscribe_actor</a> *use_actor = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l03789" name="l03789"></a><span class="lineno"> 3789</span>        <span class="keywordflow">if</span>( item_note_tool != <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end() ) {</div>
<div class="line"><a id="l03790" name="l03790"></a><span class="lineno"> 3790</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structuse__function.html">use_function</a> *use_func = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( item_note_tool-&gt;second )-&gt;get_use( <span class="stringliteral">&quot;inscribe&quot;</span> );</div>
<div class="line"><a id="l03791" name="l03791"></a><span class="lineno"> 3791</span>            use_actor = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classinscribe__actor.html">inscribe_actor</a> *<span class="keyword">&gt;</span>( use_func-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() );</div>
<div class="line"><a id="l03792" name="l03792"></a><span class="lineno"> 3792</span>        }</div>
<div class="line"><a id="l03793" name="l03793"></a><span class="lineno"> 3793</span>        <span class="keywordflow">if</span>( use_actor ) {</div>
<div class="line"><a id="l03794" name="l03794"></a><span class="lineno"> 3794</span>            <span class="comment">//~ %1$s: gerund (e.g. carved), %2$s: item name, %3$s: inscription text</span></div>
<div class="line"><a id="l03795" name="l03795"></a><span class="lineno"> 3795</span>            ntext = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;carving&quot;</span>, <span class="stringliteral">&quot;%1$s on the %2$s is: %3$s&quot;</span> ),</div>
<div class="line"><a id="l03796" name="l03796"></a><span class="lineno"> 3796</span>                                   use_actor-&gt;<a class="code hl_variable" href="classinscribe__actor.html#a7c6b1d6a65059ab89625cd314c5c50b6">gerund</a>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), item_note-&gt;second );</div>
<div class="line"><a id="l03797" name="l03797"></a><span class="lineno"> 3797</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03798" name="l03798"></a><span class="lineno"> 3798</span>            <span class="comment">//~ %1$s: inscription text</span></div>
<div class="line"><a id="l03799" name="l03799"></a><span class="lineno"> 3799</span>            ntext = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;carving&quot;</span>, <span class="stringliteral">&quot;Note: %1$s&quot;</span> ), item_note-&gt;second );</div>
<div class="line"><a id="l03800" name="l03800"></a><span class="lineno"> 3800</span>        }</div>
<div class="line"><a id="l03801" name="l03801"></a><span class="lineno"> 3801</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, ntext ) );</div>
<div class="line"><a id="l03802" name="l03802"></a><span class="lineno"> 3802</span>    }</div>
<div class="line"><a id="l03803" name="l03803"></a><span class="lineno"> 3803</span> </div>
<div class="line"><a id="l03804" name="l03804"></a><span class="lineno"> 3804</span>    <span class="keywordflow">if</span>( this-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;die_num_sides&quot;</span>, 0 ) != 0 ) {</div>
<div class="line"><a id="l03805" name="l03805"></a><span class="lineno"> 3805</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03806" name="l03806"></a><span class="lineno"> 3806</span>                           <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item can be used as a &lt;info&gt;die&lt;/info&gt;, &quot;</span></div>
<div class="line"><a id="l03807" name="l03807"></a><span class="lineno"> 3807</span>                                             <span class="stringliteral">&quot;and has &lt;info&gt;%d&lt;/info&gt; sides.&quot;</span> ),</div>
<div class="line"><a id="l03808" name="l03808"></a><span class="lineno"> 3808</span>                                          <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( this-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;die_num_sides&quot;</span>,</div>
<div class="line"><a id="l03809" name="l03809"></a><span class="lineno"> 3809</span>                                                  0 ) ) ) );</div>
<div class="line"><a id="l03810" name="l03810"></a><span class="lineno"> 3810</span>    }</div>
<div class="line"><a id="l03811" name="l03811"></a><span class="lineno"> 3811</span> </div>
<div class="line"><a id="l03812" name="l03812"></a><span class="lineno"> 3812</span>    <span class="comment">// Price and barter value</span></div>
<div class="line"><a id="l03813" name="l03813"></a><span class="lineno"> 3813</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> price_preapoc = <a class="code hl_function" href="classitem.html#a910393f5651f273b5df0bdd576bef78d">price</a>( <span class="keyword">false</span> ) * batch;</div>
<div class="line"><a id="l03814" name="l03814"></a><span class="lineno"> 3814</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> price_postapoc = <a class="code hl_function" href="classitem.html#a910393f5651f273b5df0bdd576bef78d">price</a>( <span class="keyword">true</span> ) * batch;</div>
<div class="line"><a id="l03815" name="l03815"></a><span class="lineno"> 3815</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf274919abb7f766dc610cb2b52cccea9">iteminfo_parts::BASE_PRICE</a> ) ) {</div>
<div class="line"><a id="l03816" name="l03816"></a><span class="lineno"> 3816</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03817" name="l03817"></a><span class="lineno"> 3817</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Price: &quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;$&lt;num&gt;&quot;</span> ),</div>
<div class="line"><a id="l03818" name="l03818"></a><span class="lineno"> 3818</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>,</div>
<div class="line"><a id="l03819" name="l03819"></a><span class="lineno"> 3819</span>                                  <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( price_preapoc ) / 100 ) );</div>
<div class="line"><a id="l03820" name="l03820"></a><span class="lineno"> 3820</span>    }</div>
<div class="line"><a id="l03821" name="l03821"></a><span class="lineno"> 3821</span>    <span class="keywordflow">if</span>( price_preapoc != price_postapoc &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6969097b379c9c7fcb8105d3d51d13a6">iteminfo_parts::BASE_BARTER</a> ) ) {</div>
<div class="line"><a id="l03822" name="l03822"></a><span class="lineno"> 3822</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;BASE&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Barter value: &quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;$&lt;num&gt;&quot;</span> ),</div>
<div class="line"><a id="l03823" name="l03823"></a><span class="lineno"> 3823</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l03824" name="l03824"></a><span class="lineno"> 3824</span>                                  <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( price_postapoc ) / 100 ) );</div>
<div class="line"><a id="l03825" name="l03825"></a><span class="lineno"> 3825</span>    }</div>
<div class="line"><a id="l03826" name="l03826"></a><span class="lineno"> 3826</span> </div>
<div class="line"><a id="l03827" name="l03827"></a><span class="lineno"> 3827</span>    <span class="comment">// Recipes using this item as an ingredient</span></div>
<div class="line"><a id="l03828" name="l03828"></a><span class="lineno"> 3828</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef58b71886978f09ff0d371bcb367485">iteminfo_parts::DESCRIPTION_APPLICABLE_RECIPES</a> ) ) {</div>
<div class="line"><a id="l03829" name="l03829"></a><span class="lineno"> 3829</span>        <a class="code hl_class" href="classstring__id.html">itype_id</a> tid = <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ? <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.front().<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>();</div>
<div class="line"><a id="l03830" name="l03830"></a><span class="lineno"> 3830</span>        <span class="keyword">const</span> <a class="code hl_class" href="classinventory.html">inventory</a> &amp;crafting_inv = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.crafting_inventory();</div>
<div class="line"><a id="l03831" name="l03831"></a><span class="lineno"> 3831</span> </div>
<div class="line"><a id="l03832" name="l03832"></a><span class="lineno"> 3832</span>        <span class="keyword">const</span> <a class="code hl_class" href="classrecipe__subset.html">recipe_subset</a> available_recipe_subset = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_available_recipes( crafting_inv, <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l03833" name="l03833"></a><span class="lineno"> 3833</span>                <a class="code hl_function" href="recipe__dictionary_8cpp.html#a8c3f41cb070dd02027e48c375c7706e5">recipe_filter_by_component</a>( tid ) );</div>
<div class="line"><a id="l03834" name="l03834"></a><span class="lineno"> 3834</span>        <span class="keyword">const</span> std::set&lt;const recipe *&gt; &amp;item_recipes = available_recipe_subset.<a class="code hl_function" href="classrecipe__subset.html#ab4acb1f4fcfc79a7415a55e2eeda9a95">of_component</a>( tid );</div>
<div class="line"><a id="l03835" name="l03835"></a><span class="lineno"> 3835</span> </div>
<div class="line"><a id="l03836" name="l03836"></a><span class="lineno"> 3836</span>        <span class="keywordflow">if</span>( item_recipes.empty() ) {</div>
<div class="line"><a id="l03837" name="l03837"></a><span class="lineno"> 3837</span>            <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03838" name="l03838"></a><span class="lineno"> 3838</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03839" name="l03839"></a><span class="lineno"> 3839</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You know of nothing you could craft with it.&quot;</span> ) ) );</div>
<div class="line"><a id="l03840" name="l03840"></a><span class="lineno"> 3840</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03841" name="l03841"></a><span class="lineno"> 3841</span>            <span class="keywordflow">if</span>( item_recipes.size() &gt; 24 ) {</div>
<div class="line"><a id="l03842" name="l03842"></a><span class="lineno"> 3842</span>                <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03843" name="l03843"></a><span class="lineno"> 3843</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03844" name="l03844"></a><span class="lineno"> 3844</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You know dozens of things you could craft with it.&quot;</span> ) ) );</div>
<div class="line"><a id="l03845" name="l03845"></a><span class="lineno"> 3845</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( item_recipes.size() &gt; 12 ) {</div>
<div class="line"><a id="l03846" name="l03846"></a><span class="lineno"> 3846</span>                <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03847" name="l03847"></a><span class="lineno"> 3847</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03848" name="l03848"></a><span class="lineno"> 3848</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You could use it to craft various other things.&quot;</span> ) ) );</div>
<div class="line"><a id="l03849" name="l03849"></a><span class="lineno"> 3849</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03850" name="l03850"></a><span class="lineno"> 3850</span>                <span class="comment">// Extract item names from recipes and sort them</span></div>
<div class="line"><a id="l03851" name="l03851"></a><span class="lineno"> 3851</span>                std::vector&lt;std::pair&lt;std::string, bool&gt;&gt; result_names;</div>
<div class="line"><a id="l03852" name="l03852"></a><span class="lineno"> 3852</span>                <a class="code hl_function" href="namespaceiexamine.html#ab9103bcb0e9cb4755b445e5395a0a62f">std::transform</a>(</div>
<div class="line"><a id="l03853" name="l03853"></a><span class="lineno"> 3853</span>                    item_recipes.begin(), item_recipes.end(),</div>
<div class="line"><a id="l03854" name="l03854"></a><span class="lineno"> 3854</span>                    std::back_inserter( result_names ),</div>
<div class="line"><a id="l03855" name="l03855"></a><span class="lineno"> 3855</span>                [&amp;crafting_inv]( <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> * r ) {</div>
<div class="line"><a id="l03856" name="l03856"></a><span class="lineno"> 3856</span>                    bool can_make = r-&gt;deduped_requirements().can_make_with_inventory(</div>
<div class="line"><a id="l03857" name="l03857"></a><span class="lineno"> 3857</span>                                        crafting_inv, r-&gt;get_component_filter() );</div>
<div class="line"><a id="l03858" name="l03858"></a><span class="lineno"> 3858</span>                    return std::make_pair( r-&gt;result_name(), can_make );</div>
<div class="line"><a id="l03859" name="l03859"></a><span class="lineno"> 3859</span>                } );</div>
<div class="line"><a id="l03860" name="l03860"></a><span class="lineno"> 3860</span>                std::sort( result_names.begin(), result_names.end(), <a class="code hl_variable" href="translations_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a> );</div>
<div class="line"><a id="l03861" name="l03861"></a><span class="lineno"> 3861</span>                <span class="keyword">const</span> std::string recipes =</div>
<div class="line"><a id="l03862" name="l03862"></a><span class="lineno"> 3862</span>                    <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( result_names.begin(), result_names.end(),</div>
<div class="line"><a id="l03863" name="l03863"></a><span class="lineno"> 3863</span>                []( <span class="keyword">const</span> std::pair&lt;std::string, bool&gt; &amp;p ) {</div>
<div class="line"><a id="l03864" name="l03864"></a><span class="lineno"> 3864</span>                    if( p.second ) {</div>
<div class="line"><a id="l03865" name="l03865"></a><span class="lineno"> 3865</span>                        return p.first;</div>
<div class="line"><a id="l03866" name="l03866"></a><span class="lineno"> 3866</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03867" name="l03867"></a><span class="lineno"> 3867</span>                        return string_format( <span class="stringliteral">&quot;&lt;dark&gt;%s&lt;/dark&gt;&quot;</span>, p.first );</div>
<div class="line"><a id="l03868" name="l03868"></a><span class="lineno"> 3868</span>                    }</div>
<div class="line"><a id="l03869" name="l03869"></a><span class="lineno"> 3869</span>                } );</div>
<div class="line"><a id="l03870" name="l03870"></a><span class="lineno"> 3870</span>                <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03871" name="l03871"></a><span class="lineno"> 3871</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03872" name="l03872"></a><span class="lineno"> 3872</span>                                          <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You could use it to craft: %s&quot;</span> ),</div>
<div class="line"><a id="l03873" name="l03873"></a><span class="lineno"> 3873</span>                                                  recipes ) ) );</div>
<div class="line"><a id="l03874" name="l03874"></a><span class="lineno"> 3874</span>            }</div>
<div class="line"><a id="l03875" name="l03875"></a><span class="lineno"> 3875</span>        }</div>
<div class="line"><a id="l03876" name="l03876"></a><span class="lineno"> 3876</span>    }</div>
<div class="line"><a id="l03877" name="l03877"></a><span class="lineno"> 3877</span>    <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;ENABLE_ASCII_ART_ITEM&quot;</span> ) ) {</div>
<div class="line"><a id="l03878" name="l03878"></a><span class="lineno"> 3878</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ascii_art_id</a> art = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4025c470ee962b556a984ad5acbf9e63">picture_id</a>;</div>
<div class="line"><a id="l03879" name="l03879"></a><span class="lineno"> 3879</span>        <span class="keywordflow">if</span>( art.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l03880" name="l03880"></a><span class="lineno"> 3880</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> : art-&gt;<a class="code hl_variable" href="classascii__art.html#ad15e094a0d8a2cd64309e4d943f10f39">picture</a> ) {</div>
<div class="line"><a id="l03881" name="l03881"></a><span class="lineno"> 3881</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> ) );</div>
<div class="line"><a id="l03882" name="l03882"></a><span class="lineno"> 3882</span>            }</div>
<div class="line"><a id="l03883" name="l03883"></a><span class="lineno"> 3883</span>        }</div>
<div class="line"><a id="l03884" name="l03884"></a><span class="lineno"> 3884</span>    }</div>
<div class="line"><a id="l03885" name="l03885"></a><span class="lineno"> 3885</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_a595c4d560d7152dceb681820e7e00882"><div class="ttname"><a href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a></div><div class="ttdeci">static std::string to_string_clipped(const int num, const clipped_unit type, const clipped_align align)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00228">calendar.cpp:228</a></div></div>
<div class="ttc" id="aclassascii__art_html_ad15e094a0d8a2cd64309e4d943f10f39"><div class="ttname"><a href="classascii__art.html#ad15e094a0d8a2cd64309e4d943f10f39">ascii_art::picture</a></div><div class="ttdeci">std::vector&lt; std::string &gt; picture</div><div class="ttdef"><b>Definition:</b> <a href="ascii__art_8h_source.html#l00022">ascii_art.h:22</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html_a038c2f807983027c730259560308285c"><div class="ttname"><a href="classcata_1_1flat__set.html#a038c2f807983027c730259560308285c">cata::flat_set::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00083">flat_set.h:83</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html_ac2cc2580a6f1501d51da9e51a8de2e8c"><div class="ttname"><a href="classcata_1_1flat__set.html#ac2cc2580a6f1501d51da9e51a8de2e8c">cata::flat_set::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00086">flat_set.h:86</a></div></div>
<div class="ttc" id="aclassdelayed__transform__iuse_html"><div class="ttname"><a href="classdelayed__transform__iuse.html">delayed_transform_iuse</a></div><div class="ttdoc">This is a iuse_transform that uses the age of the item instead of a counter.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00288">iuse_actor.h:289</a></div></div>
<div class="ttc" id="aclassdelayed__transform__iuse_html_a083d8a58f26d025d8331f01e5c41c6ab"><div class="ttname"><a href="classdelayed__transform__iuse.html#a083d8a58f26d025d8331f01e5c41c6ab">delayed_transform_iuse::time_to_do</a></div><div class="ttdeci">int time_to_do(const item &amp;it) const</div><div class="ttdoc">How much longer (in turns) until the transformation can be done, can be negative.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l00879">iuse_actor.cpp:879</a></div></div>
<div class="ttc" id="aclassinscribe__actor_html"><div class="ttname"><a href="classinscribe__actor.html">inscribe_actor</a></div><div class="ttdoc">Writes on stuff (ground or items)</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00610">iuse_actor.h:611</a></div></div>
<div class="ttc" id="aclassinscribe__actor_html_a7c6b1d6a65059ab89625cd314c5c50b6"><div class="ttname"><a href="classinscribe__actor.html#a7c6b1d6a65059ab89625cd314c5c50b6">inscribe_actor::gerund</a></div><div class="ttdeci">translation gerund</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00634">iuse_actor.h:634</a></div></div>
<div class="ttc" id="aclassinventory_html"><div class="ttname"><a href="classinventory.html">inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00089">inventory.h:90</a></div></div>
<div class="ttc" id="aclassitem_html_a054cbf5ac79938bbfb527bb0314043b1"><div class="ttname"><a href="classitem.html#a054cbf5ac79938bbfb527bb0314043b1">item::get_flags</a></div><div class="ttdeci">const FlagsSetType &amp; get_flags() const</div><div class="ttdoc">returs read-only set of flags of this item (not including flags from item type or gunmods)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05242">item.cpp:5242</a></div></div>
<div class="ttc" id="aclassitem_html_a099ea278b365213e371a3c125b7d8342"><div class="ttname"><a href="classitem.html#a099ea278b365213e371a3c125b7d8342">item::brewing_results</a></div><div class="ttdeci">const std::vector&lt; itype_id &gt; &amp; brewing_results() const</div><div class="ttdoc">The results of fermenting this item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05801">item.cpp:5801</a></div></div>
<div class="ttc" id="aclassitem_html_a12a6fa8aac1350f3ca4362a1bdccd9b0"><div class="ttname"><a href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">item::faults</a></div><div class="ttdeci">std::set&lt; fault_id &gt; faults</div><div class="ttdoc">What faults (if any) currently apply to this item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02160">item.h:2160</a></div></div>
<div class="ttc" id="aclassitem_html_a1c4782661219fccd444ab8d91ec04d58"><div class="ttname"><a href="classitem.html#a1c4782661219fccd444ab8d91ec04d58">item::brewing_time</a></div><div class="ttdeci">time_duration brewing_time() const</div><div class="ttdoc">Time for this item to be fully fermented.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05796">item.cpp:5796</a></div></div>
<div class="ttc" id="aclassitem_html_a2cce9a58e90e7bcc596240004ac54288"><div class="ttname"><a href="classitem.html#a2cce9a58e90e7bcc596240004ac54288">item::conductive</a></div><div class="ttdeci">bool conductive() const</div><div class="ttdoc">Whether the items is conductive.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06328">item.cpp:6328</a></div></div>
<div class="ttc" id="aclassitem_html_a6233ded50f0c2ddc86761f9b5cef5298"><div class="ttname"><a href="classitem.html#a6233ded50f0c2ddc86761f9b5cef5298">item::bionic_info</a></div><div class="ttdeci">void bionic_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03214">item.cpp:3214</a></div></div>
<div class="ttc" id="aclassitem_html_a910393f5651f273b5df0bdd576bef78d"><div class="ttname"><a href="classitem.html#a910393f5651f273b5df0bdd576bef78d">item::price</a></div><div class="ttdeci">int price(bool practical) const</div><div class="ttdoc">Returns the monetary value of an item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04807">item.cpp:4807</a></div></div>
<div class="ttc" id="aclassitem_html_ac46c94fbae3a31ba0e21f348875a3e74"><div class="ttname"><a href="classitem.html#ac46c94fbae3a31ba0e21f348875a3e74">item::armor_fit_info</a></div><div class="ttdeci">void armor_fit_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l02683">item.cpp:2683</a></div></div>
<div class="ttc" id="aclassjson__flag_html"><div class="ttname"><a href="classjson__flag.html">json_flag</a></div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00014">flag.h:15</a></div></div>
<div class="ttc" id="aclassjson__flag_html_a4e37aa18092793ee949dda50f9fd5ad2"><div class="ttname"><a href="classjson__flag.html#a4e37aa18092793ee949dda50f9fd5ad2">json_flag::info</a></div><div class="ttdeci">std::string info() const</div><div class="ttdoc">Get informative text for display in UI.</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00030">flag.h:30</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html"><div class="ttname"><a href="classrecipe__subset.html">recipe_subset</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00079">recipe_dictionary.h:80</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_ab4acb1f4fcfc79a7415a55e2eeda9a95"><div class="ttname"><a href="classrecipe__subset.html#ab4acb1f4fcfc79a7415a55e2eeda9a95">recipe_subset::of_component</a></div><div class="ttdeci">const std::set&lt; const recipe * &gt; &amp; of_component(const itype_id &amp;id) const</div><div class="ttdoc">Returns all recipes which could use component.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00296">recipe_dictionary.cpp:296</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a00bc62d36f164a5bd40f09ac660d5b3c"><div class="ttname"><a href="item_8cpp.html#a00bc62d36f164a5bd40f09ac660d5b3c">flag_RADIOSIGNAL_2</a></div><div class="ttdeci">static const std::string flag_RADIOSIGNAL_2(&quot;RADIOSIGNAL_2&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a02edfa7a6cb1a0f7a67ae1aca7a34753"><div class="ttname"><a href="item_8cpp.html#a02edfa7a6cb1a0f7a67ae1aca7a34753">flag_FIRE_TWOHAND</a></div><div class="ttdeci">static const std::string flag_FIRE_TWOHAND(&quot;FIRE_TWOHAND&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a3a93039896bf4ad4009b71761a6fc37b"><div class="ttname"><a href="item_8cpp.html#a3a93039896bf4ad4009b71761a6fc37b">flag_RADIOSIGNAL_1</a></div><div class="ttdeci">static const std::string flag_RADIOSIGNAL_1(&quot;RADIOSIGNAL_1&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a473d946b810b948e6d47e6bcc7e64d04"><div class="ttname"><a href="item_8cpp.html#a473d946b810b948e6d47e6bcc7e64d04">flag_DISABLE_SIGHTS</a></div><div class="ttdeci">static const std::string flag_DISABLE_SIGHTS(&quot;DISABLE_SIGHTS&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a621b1b54a8fa92c5d21f1b94aa6a0a68"><div class="ttname"><a href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS</a></div><div class="ttdeci">static const std::string flag_USE_UPS(&quot;USE_UPS&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a6b940582bc90ec14579168cad43bad81"><div class="ttname"><a href="item_8cpp.html#a6b940582bc90ec14579168cad43bad81">flag_RECHARGE</a></div><div class="ttdeci">static const std::string flag_RECHARGE(&quot;RECHARGE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a74d9758bd8ff342c804d5b9af87cad9c"><div class="ttname"><a href="item_8cpp.html#a74d9758bd8ff342c804d5b9af87cad9c">flag_RADIO_ACTIVATION</a></div><div class="ttdeci">static const std::string flag_RADIO_ACTIVATION(&quot;RADIO_ACTIVATION&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a7f6eeaf4da8e31ec0af7b6423db44fc0"><div class="ttname"><a href="item_8cpp.html#a7f6eeaf4da8e31ec0af7b6423db44fc0">flag_RADIO_INVOKE_PROC</a></div><div class="ttdeci">static const std::string flag_RADIO_INVOKE_PROC(&quot;RADIO_INVOKE_PROC&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a916c022e69240915ee6678d0170882d3"><div class="ttname"><a href="item_8cpp.html#a916c022e69240915ee6678d0170882d3">flag_CONSUMABLE</a></div><div class="ttdeci">static const std::string flag_CONSUMABLE(&quot;CONSUMABLE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ab1b77b826e76fc26c990435f29f87d50"><div class="ttname"><a href="item_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">flag_NO_RELOAD</a></div><div class="ttdeci">static const std::string flag_NO_RELOAD(&quot;NO_RELOAD&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ab39ec543f35c9976b0fdb0a24620bdee"><div class="ttname"><a href="item_8cpp.html#ab39ec543f35c9976b0fdb0a24620bdee">flag_RADIOSIGNAL_3</a></div><div class="ttdeci">static const std::string flag_RADIOSIGNAL_3(&quot;RADIOSIGNAL_3&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ac726b0317d486dde06a92a3f81470899"><div class="ttname"><a href="item_8cpp.html#ac726b0317d486dde06a92a3f81470899">flag_LEAK_ALWAYS</a></div><div class="ttdeci">static const std::string flag_LEAK_ALWAYS(&quot;LEAK_ALWAYS&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_af6d8b27a9e9e6f274a4f37347efd89d3"><div class="ttname"><a href="item_8cpp.html#af6d8b27a9e9e6f274a4f37347efd89d3">flag_RADIO_MOD</a></div><div class="ttdeci">static const std::string flag_RADIO_MOD(&quot;RADIO_MOD&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a62fc9d4e4ca8f0e62b4556f5f65b666c"><div class="ttname"><a href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a></div><div class="ttdeci">std::unique_ptr&lt; Item_factory &gt; item_controller</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00085">item_factory.cpp:85</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa02b2ee1cfc05bf8c73324c9882afe557"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa02b2ee1cfc05bf8c73324c9882afe557">iteminfo_parts::DESCRIPTION_CONDUCTIVITY</a></div><div class="ttdeci">@ DESCRIPTION_CONDUCTIVITY</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa3a07e3ba4359475b31e1eae6b5743467"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3a07e3ba4359475b31e1eae6b5743467">iteminfo_parts::DESCRIPTION_RECHARGE_UPSCAPABLE</a></div><div class="ttdeci">@ DESCRIPTION_RECHARGE_UPSCAPABLE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa4087f2afe0ce4e0ac1deb457321cc3a2"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4087f2afe0ce4e0ac1deb457321cc3a2">iteminfo_parts::DESCRIPTION_GUNMOD_DISABLESSIGHTS</a></div><div class="ttdeci">@ DESCRIPTION_GUNMOD_DISABLESSIGHTS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa56d9e37dc7f27fdedca6f786acf78bf7"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa56d9e37dc7f27fdedca6f786acf78bf7">iteminfo_parts::DESCRIPTION_BREWABLE_DURATION</a></div><div class="ttdeci">@ DESCRIPTION_BREWABLE_DURATION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa57b3ed51f4fb96ad22d4cae36bef975f"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa57b3ed51f4fb96ad22d4cae36bef975f">iteminfo_parts::DESCRIPTION_RADIO_ACTIVATION_CHANNEL</a></div><div class="ttdeci">@ DESCRIPTION_RADIO_ACTIVATION_CHANNEL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa62d4071aabf7f7291f31959e440cd966"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa62d4071aabf7f7291f31959e440cd966">iteminfo_parts::DESCRIPTION_BREWABLE_PRODUCTS</a></div><div class="ttdeci">@ DESCRIPTION_BREWABLE_PRODUCTS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa66ded97adad69f0d0e43b011564cd41d"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa66ded97adad69f0d0e43b011564cd41d">iteminfo_parts::DESCRIPTION_RECHARGE_NORELOAD</a></div><div class="ttdeci">@ DESCRIPTION_RECHARGE_NORELOAD</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa684af65c6df05045e79e249dcb823f99"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa684af65c6df05045e79e249dcb823f99">iteminfo_parts::DESCRIPTION_FLAGS</a></div><div class="ttdeci">@ DESCRIPTION_FLAGS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa6969097b379c9c7fcb8105d3d51d13a6"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6969097b379c9c7fcb8105d3d51d13a6">iteminfo_parts::BASE_BARTER</a></div><div class="ttdeci">@ BASE_BARTER</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa6a938bcf44eb5ee746d9f76f10fa3c98"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6a938bcf44eb5ee746d9f76f10fa3c98">iteminfo_parts::DESCRIPTION_FAULTS</a></div><div class="ttdeci">@ DESCRIPTION_FAULTS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa73a99ae46e1eb6f0d9e007bbc43d1aa0"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa73a99ae46e1eb6f0d9e007bbc43d1aa0">iteminfo_parts::DESCRIPTION_ACTIVATABLE_TRANSFORMATION</a></div><div class="ttdeci">@ DESCRIPTION_ACTIVATABLE_TRANSFORMATION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa806bc3e9eb5192c0e501fe1b73311d96"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa806bc3e9eb5192c0e501fe1b73311d96">iteminfo_parts::DESCRIPTION_BIONIC_ARMOR_INTERFACE</a></div><div class="ttdeci">@ DESCRIPTION_BIONIC_ARMOR_INTERFACE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa8dba4b60e82bdf811f35108884eb0c9a"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8dba4b60e82bdf811f35108884eb0c9a">iteminfo_parts::DESCRIPTION_RADIOACTIVITY_DAMAGED</a></div><div class="ttdeci">@ DESCRIPTION_RADIOACTIVITY_DAMAGED</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaac8b25c720b60691923e3e81192cc4185"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaac8b25c720b60691923e3e81192cc4185">iteminfo_parts::DESCRIPTION_RADIO_ACTIVATION_PROC</a></div><div class="ttdeci">@ DESCRIPTION_RADIO_ACTIVATION_PROC</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaac9ddd8ec0ae7bb9c31ab86c5b710a26b"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaac9ddd8ec0ae7bb9c31ab86c5b710a26b">iteminfo_parts::DESCRIPTION_RECHARGE_UPSMODDED</a></div><div class="ttdeci">@ DESCRIPTION_RECHARGE_UPSMODDED</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaad1c2acf6fd6e337cb1de996a8e264a80"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad1c2acf6fd6e337cb1de996a8e264a80">iteminfo_parts::DESCRIPTION_GUNMOD_CONSUMABLE</a></div><div class="ttdeci">@ DESCRIPTION_GUNMOD_CONSUMABLE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaad25e1ad70042be7b6a83d94dc7ec02c6"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad25e1ad70042be7b6a83d94dc7ec02c6">iteminfo_parts::DESCRIPTION_HOLSTERS</a></div><div class="ttdeci">@ DESCRIPTION_HOLSTERS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaadd581caa6dcfb7e4078b28e30553e329"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadd581caa6dcfb7e4078b28e30553e329">iteminfo_parts::DESCRIPTION_RADIOACTIVITY_ALWAYS</a></div><div class="ttdeci">@ DESCRIPTION_RADIOACTIVITY_ALWAYS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaadf835c38764a7e0322a8c9745f8025f9"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadf835c38764a7e0322a8c9745f8025f9">iteminfo_parts::DESCRIPTION_RADIO_ACTIVATION</a></div><div class="ttdeci">@ DESCRIPTION_RADIO_ACTIVATION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaef58b71886978f09ff0d371bcb367485"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef58b71886978f09ff0d371bcb367485">iteminfo_parts::DESCRIPTION_APPLICABLE_RECIPES</a></div><div class="ttdeci">@ DESCRIPTION_APPLICABLE_RECIPES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaef9ed3c3dfaa9742675bccedcbb7eb5d"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef9ed3c3dfaa9742675bccedcbb7eb5d">iteminfo_parts::DESCRIPTION_NOTES</a></div><div class="ttdeci">@ DESCRIPTION_NOTES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaf274919abb7f766dc610cb2b52cccea9"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf274919abb7f766dc610cb2b52cccea9">iteminfo_parts::BASE_PRICE</a></div><div class="ttdeci">@ BASE_PRICE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaf69c0403f5998ebed28c7377c75cf753"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf69c0403f5998ebed28c7377c75cf753">iteminfo_parts::BASE_RIGIDITY</a></div><div class="ttdeci">@ BASE_RIGIDITY</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaafa560e15f742e18dd9c9308413882612"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaafa560e15f742e18dd9c9308413882612">iteminfo_parts::DESCRIPTION_TWOHANDED</a></div><div class="ttdeci">@ DESCRIPTION_TWOHANDED</div></div>
<div class="ttc" id="amapgen_8cpp_html_a90f1f53dc044e93e7f7f9314cef1bd45"><div class="ttname"><a href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06454">mapgen.cpp:6454</a></div></div>
<div class="ttc" id="anamespaceiexamine_html_ab9103bcb0e9cb4755b445e5395a0a62f"><div class="ttname"><a href="namespaceiexamine.html#ab9103bcb0e9cb4755b445e5395a0a62f">iexamine::transform</a></div><div class="ttdeci">void transform(player &amp;p, const tripoint &amp;pos)</div><div class="ttdoc">Transform the examined object into the object specified by its transforms_into property.</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l01576">iexamine.cpp:1576</a></div></div>
<div class="ttc" id="arecipe__dictionary_8cpp_html_a8c3f41cb070dd02027e48c375c7706e5"><div class="ttname"><a href="recipe__dictionary_8cpp.html#a8c3f41cb070dd02027e48c375c7706e5">recipe_filter_by_component</a></div><div class="ttdeci">recipe_filter recipe_filter_by_component(const itype_id &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00079">recipe_dictionary.cpp:79</a></div></div>
<div class="ttc" id="astructitype_html_a4025c470ee962b556a984ad5acbf9e63"><div class="ttname"><a href="structitype.html#a4025c470ee962b556a984ad5acbf9e63">itype::picture_id</a></div><div class="ttdeci">ascii_art_id picture_id</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00909">itype.h:909</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa323a1324b9ad3f0c7dc65690aed09c6"><div class="ttname"><a href="translations_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a></div><div class="ttdeci">constexpr localized_comparator localized_compare</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00342">translations.h:342</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6969097b379c9c7fcb8105d3d51d13a6">BASE_BARTER</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf274919abb7f766dc610cb2b52cccea9">BASE_PRICE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf69c0403f5998ebed28c7377c75cf753">BASE_RIGIDITY</a>, <a class="el" href="flat__set_8h_source.html#l00083">cata::flat_set&lt; T, Compare, Data &gt;::begin()</a>, <a class="el" href="item_8cpp_source.html#l03214">bionic_info()</a>, <a class="el" href="item_8cpp_source.html#l05801">brewing_results()</a>, <a class="el" href="item_8cpp_source.html#l05796">brewing_time()</a>, <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8cpp_source.html#l06328">conductive()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="debug__menu_8cpp_source.html#l01325">debug_menu::debug()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa73a99ae46e1eb6f0d9e007bbc43d1aa0">DESCRIPTION_ACTIVATABLE_TRANSFORMATION</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef58b71886978f09ff0d371bcb367485">DESCRIPTION_APPLICABLE_RECIPES</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa806bc3e9eb5192c0e501fe1b73311d96">DESCRIPTION_BIONIC_ARMOR_INTERFACE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa56d9e37dc7f27fdedca6f786acf78bf7">DESCRIPTION_BREWABLE_DURATION</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa62d4071aabf7f7291f31959e440cd966">DESCRIPTION_BREWABLE_PRODUCTS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa02b2ee1cfc05bf8c73324c9882afe557">DESCRIPTION_CONDUCTIVITY</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6a938bcf44eb5ee746d9f76f10fa3c98">DESCRIPTION_FAULTS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa684af65c6df05045e79e249dcb823f99">DESCRIPTION_FLAGS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad1c2acf6fd6e337cb1de996a8e264a80">DESCRIPTION_GUNMOD_CONSUMABLE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4087f2afe0ce4e0ac1deb457321cc3a2">DESCRIPTION_GUNMOD_DISABLESSIGHTS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad25e1ad70042be7b6a83d94dc7ec02c6">DESCRIPTION_HOLSTERS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaef9ed3c3dfaa9742675bccedcbb7eb5d">DESCRIPTION_NOTES</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadf835c38764a7e0322a8c9745f8025f9">DESCRIPTION_RADIO_ACTIVATION</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa57b3ed51f4fb96ad22d4cae36bef975f">DESCRIPTION_RADIO_ACTIVATION_CHANNEL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaac8b25c720b60691923e3e81192cc4185">DESCRIPTION_RADIO_ACTIVATION_PROC</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadd581caa6dcfb7e4078b28e30553e329">DESCRIPTION_RADIOACTIVITY_ALWAYS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8dba4b60e82bdf811f35108884eb0c9a">DESCRIPTION_RADIOACTIVITY_DAMAGED</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa66ded97adad69f0d0e43b011564cd41d">DESCRIPTION_RECHARGE_NORELOAD</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3a07e3ba4359475b31e1eae6b5743467">DESCRIPTION_RECHARGE_UPSCAPABLE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaac9ddd8ec0ae7bb9c31ab86c5b710a26b">DESCRIPTION_RECHARGE_UPSMODDED</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaafa560e15f742e18dd9c9308413882612">DESCRIPTION_TWOHANDED</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="flat__set_8h_source.html#l00086">cata::flat_set&lt; T, Compare, Data &gt;::end()</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="item_8h_source.html#l02160">faults</a>, <a class="el" href="item_8cpp.html#a29822d25418f301087e5c0feab22b3d5">flag_CONDUCTIVE()</a>, <a class="el" href="item_8cpp.html#a916c022e69240915ee6678d0170882d3">flag_CONSUMABLE()</a>, <a class="el" href="item_8cpp.html#a473d946b810b948e6d47e6bcc7e64d04">flag_DISABLE_SIGHTS()</a>, <a class="el" href="item_8cpp.html#a02edfa7a6cb1a0f7a67ae1aca7a34753">flag_FIRE_TWOHAND()</a>, <a class="el" href="item_8cpp.html#ac726b0317d486dde06a92a3f81470899">flag_LEAK_ALWAYS()</a>, <a class="el" href="item_8cpp.html#a450233a88bf43aa6380c2b09d89cf0bf">flag_LEAK_DAM()</a>, <a class="el" href="item_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">flag_NO_RELOAD()</a>, <a class="el" href="item_8cpp.html#a74d9758bd8ff342c804d5b9af87cad9c">flag_RADIO_ACTIVATION()</a>, <a class="el" href="item_8cpp.html#a7f6eeaf4da8e31ec0af7b6423db44fc0">flag_RADIO_INVOKE_PROC()</a>, <a class="el" href="item_8cpp.html#af6d8b27a9e9e6f274a4f37347efd89d3">flag_RADIO_MOD()</a>, <a class="el" href="item_8cpp.html#adc75c21d21b85c1a29f21a3c0872326c">flag_RADIOACTIVE()</a>, <a class="el" href="item_8cpp.html#a3a93039896bf4ad4009b71761a6fc37b">flag_RADIOSIGNAL_1()</a>, <a class="el" href="item_8cpp.html#a00bc62d36f164a5bd40f09ac660d5b3c">flag_RADIOSIGNAL_2()</a>, <a class="el" href="item_8cpp.html#ab39ec543f35c9976b0fdb0a24620bdee">flag_RADIOSIGNAL_3()</a>, <a class="el" href="item_8cpp.html#a6b940582bc90ec14579168cad43bad81">flag_RECHARGE()</a>, <a class="el" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS()</a>, <a class="el" href="item_8cpp.html#ac598f189b2cb0091f6d5f7ad687d8bdb">flag_USES_BIONIC_POWER()</a>, <a class="el" href="calendar_8h_source.html#l00204">time_duration::from_turns()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="iuse__actor_8h_source.html#l00634">inscribe_actor::gerund</a>, <a class="el" href="flag_8cpp_source.html#l00070">json_flag::get()</a>, <a class="el" href="iuse_8h_source.html#l00315">use_function::get_actor_ptr()</a>, <a class="el" href="item_8cpp_source.html#l05242">get_flags()</a>, <a class="el" href="itype_8cpp_source.html#l00081">itype::get_flags()</a>, <a class="el" href="itype_8cpp_source.html#l00091">itype::get_use()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l05187">has_own_flag()</a>, <a class="el" href="flag_8h_source.html#l00030">json_flag::info()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06554">is_armor()</a>, <a class="el" href="item_8cpp_source.html#l06453">is_brewable()</a>, <a class="el" href="item_8h_source.html#l00142">iteminfo::is_decimal</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="item_8cpp_source.html#l05636">is_power_armor()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="item__factory_8cpp_source.html#l00085">item_controller</a>, <a class="el" href="item_8h_source.html#l02167">item_vars</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>, <a class="el" href="translations_8h_source.html#l00342">localized_compare</a>, <a class="el" href="item_8h_source.html#l00145">iteminfo::lower_is_better</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="item_8cpp_source.html#l09749">nname()</a>, <a class="el" href="item_8h_source.html#l00144">iteminfo::no_newline</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00296">recipe_subset::of_component()</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="fmtlib__format_8h_source.html#l04100">ptr()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00079">recipe_filter_by_component()</a>, <a class="el" href="itype_8h_source.html#l00991">itype::rigid</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::space</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00879">delayed_transform_iuse::time_to_do()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="calendar_8cpp_source.html#l00228">to_string_clipped()</a>, <a class="el" href="item_8cpp.html#a1ed0e0569ca42bfbb736694d90fd03fa">trait_WOOLALLERGY</a>, <a class="el" href="iexamine_8cpp_source.html#l01576">iexamine::transform()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, <a class="el" href="itype_8h_source.html#l00925">itype::use_methods</a>, and <a class="el" href="translations_8cpp_source.html#l00036">vgettext()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a97dda9dbf79f8df65ac930cb89ac9b98" name="a97dda9dbf79f8df65ac930cb89ac9b98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97dda9dbf79f8df65ac930cb89ac9b98">&#9670;&nbsp;</a></span>find_armor_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structislot__armor.html">islot_armor</a> * item::find_armor_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If this is an armor item, return its armor data. </p>
<p >You should probably not use this function, use the various functions above (like <a class="el" href="classitem.html#a9653264e34fbb2b99737e09e0a207df4">get_storage</a>) to access armor data directly. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06532">6532</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06533" name="l06533"></a><span class="lineno"> 6533</span>{</div>
<div class="line"><a id="l06534" name="l06534"></a><span class="lineno"> 6534</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7099f3ad89573870d81ce764d6cccb04">armor</a> ) {</div>
<div class="line"><a id="l06535" name="l06535"></a><span class="lineno"> 6535</span>        <span class="keywordflow">return</span> &amp;*<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7099f3ad89573870d81ce764d6cccb04">armor</a>;</div>
<div class="line"><a id="l06536" name="l06536"></a><span class="lineno"> 6536</span>    }</div>
<div class="line"><a id="l06537" name="l06537"></a><span class="lineno"> 6537</span>    <span class="comment">// Currently the only way to make a non-armor item into armor is to install a gun mod.</span></div>
<div class="line"><a id="l06538" name="l06538"></a><span class="lineno"> 6538</span>    <span class="comment">// The gunmods are stored in the items contents, as are the contents of a container, and the</span></div>
<div class="line"><a id="l06539" name="l06539"></a><span class="lineno"> 6539</span>    <span class="comment">// tools in a tool belt (a container actually), or the ammo in a quiver (container again).</span></div>
<div class="line"><a id="l06540" name="l06540"></a><span class="lineno"> 6540</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l06541" name="l06541"></a><span class="lineno"> 6541</span>        <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;armor ) {</div>
<div class="line"><a id="l06542" name="l06542"></a><span class="lineno"> 6542</span>            <span class="keywordflow">return</span> &amp;*<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;armor;</div>
<div class="line"><a id="l06543" name="l06543"></a><span class="lineno"> 6543</span>        }</div>
<div class="line"><a id="l06544" name="l06544"></a><span class="lineno"> 6544</span>    }</div>
<div class="line"><a id="l06545" name="l06545"></a><span class="lineno"> 6545</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l06546" name="l06546"></a><span class="lineno"> 6546</span>}</div>
<div class="ttc" id="astructitype_html_a7099f3ad89573870d81ce764d6cccb04"><div class="ttname"><a href="structitype.html#a7099f3ad89573870d81ce764d6cccb04">itype::armor</a></div><div class="ttdeci">cata::value_ptr&lt; islot_armor &gt; armor</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00850">itype.h:850</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00850">itype::armor</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01228">get_base_env_resist()</a>, <a class="el" href="item_8cpp_source.html#l05627">get_base_env_resist_w_filter()</a>, <a class="el" href="item_8cpp_source.html#l05750">get_coverage()</a>, <a class="el" href="item_8cpp_source.html#l00755">get_covered_body_parts()</a>, <a class="el" href="item_8cpp_source.html#l05642">get_encumber()</a>, <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>, <a class="el" href="item_8cpp_source.html#l05613">get_env_resist()</a>, <a class="el" href="item_8cpp_source.html#l05582">get_storage()</a>, <a class="el" href="item_8cpp_source.html#l05759">get_thickness()</a>, <a class="el" href="item_8cpp_source.html#l05768">get_warmth()</a>, <a class="el" href="item_8cpp_source.html#l05604">get_weight_capacity_bonus()</a>, <a class="el" href="item_8cpp_source.html#l05595">get_weight_capacity_modifier()</a>, <a class="el" href="item_8cpp_source.html#l06554">is_armor()</a>, and <a class="el" href="item_8cpp_source.html#l00799">is_sided()</a>.</p>

</div>
</div>
<a id="a9aa80e0c16baec64375371b22ee21fc2" name="a9aa80e0c16baec64375371b22ee21fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aa80e0c16baec64375371b22ee21fc2">&#9670;&nbsp;</a></span>fire_resist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::fire_resist </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_self</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base_env_resist</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06011">6011</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06012" name="l06012"></a><span class="lineno"> 6012</span>{</div>
<div class="line"><a id="l06013" name="l06013"></a><span class="lineno"> 6013</span>    <span class="keywordflow">if</span>( to_self ) {</div>
<div class="line"><a id="l06014" name="l06014"></a><span class="lineno"> 6014</span>        <span class="comment">// Fire damages items in a different way</span></div>
<div class="line"><a id="l06015" name="l06015"></a><span class="lineno"> 6015</span>        <span class="keywordflow">return</span> INT_MAX;</div>
<div class="line"><a id="l06016" name="l06016"></a><span class="lineno"> 6016</span>    }</div>
<div class="line"><a id="l06017" name="l06017"></a><span class="lineno"> 6017</span> </div>
<div class="line"><a id="l06018" name="l06018"></a><span class="lineno"> 6018</span>    <span class="keywordtype">float</span> resist = 0.0;</div>
<div class="line"><a id="l06019" name="l06019"></a><span class="lineno"> 6019</span>    <span class="keywordtype">float</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = <a class="code hl_function" href="classitem.html#a487b1c2d4c6e05794c446b231f39d6e8">get_clothing_mod_val</a>( <a class="code hl_enumvalue" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152ad90ebbf164202c0c673c68e74286a9f2">clothing_mod_type_fire</a> );</div>
<div class="line"><a id="l06020" name="l06020"></a><span class="lineno"> 6020</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l06021" name="l06021"></a><span class="lineno"> 6021</span>        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a id="l06022" name="l06022"></a><span class="lineno"> 6022</span>    }</div>
<div class="line"><a id="l06023" name="l06023"></a><span class="lineno"> 6023</span> </div>
<div class="line"><a id="l06024" name="l06024"></a><span class="lineno"> 6024</span>    <span class="keyword">const</span> std::vector&lt;const material_type *&gt; mat_types = <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>();</div>
<div class="line"><a id="l06025" name="l06025"></a><span class="lineno"> 6025</span>    <span class="keywordflow">if</span>( !mat_types.empty() ) {</div>
<div class="line"><a id="l06026" name="l06026"></a><span class="lineno"> 6026</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> *mat : mat_types ) {</div>
<div class="line"><a id="l06027" name="l06027"></a><span class="lineno"> 6027</span>            resist += mat-&gt;fire_resist();</div>
<div class="line"><a id="l06028" name="l06028"></a><span class="lineno"> 6028</span>        }</div>
<div class="line"><a id="l06029" name="l06029"></a><span class="lineno"> 6029</span>        <span class="comment">// Average based on number of materials.</span></div>
<div class="line"><a id="l06030" name="l06030"></a><span class="lineno"> 6030</span>        resist /= mat_types.size();</div>
<div class="line"><a id="l06031" name="l06031"></a><span class="lineno"> 6031</span>    }</div>
<div class="line"><a id="l06032" name="l06032"></a><span class="lineno"> 6032</span> </div>
<div class="line"><a id="l06033" name="l06033"></a><span class="lineno"> 6033</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> env = <a class="code hl_function" href="classitem.html#ac56f53ef32f24c048d9e893c9336ec95">get_env_resist</a>( base_env_resist );</div>
<div class="line"><a id="l06034" name="l06034"></a><span class="lineno"> 6034</span>    <span class="keywordflow">if</span>( env &lt; 10 ) {</div>
<div class="line"><a id="l06035" name="l06035"></a><span class="lineno"> 6035</span>        <span class="comment">// Iron resists immersion in magma, iron-clad knight won&#39;t.</span></div>
<div class="line"><a id="l06036" name="l06036"></a><span class="lineno"> 6036</span>        resist *= env / 10.0f;</div>
<div class="line"><a id="l06037" name="l06037"></a><span class="lineno"> 6037</span>    }</div>
<div class="line"><a id="l06038" name="l06038"></a><span class="lineno"> 6038</span> </div>
<div class="line"><a id="l06039" name="l06039"></a><span class="lineno"> 6039</span>    <span class="keywordflow">return</span> std::lround( resist + <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l06040" name="l06040"></a><span class="lineno"> 6040</span>}</div>
<div class="ttc" id="aclothing__mod_8h_html_ab129387d97c2c7f0393c210d21df0152ad90ebbf164202c0c673c68e74286a9f2"><div class="ttname"><a href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152ad90ebbf164202c0c673c68e74286a9f2">clothing_mod_type_fire</a></div><div class="ttdeci">@ clothing_mod_type_fire</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00018">clothing_mod.h:18</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="clothing__mod_8h_source.html#l00018">clothing_mod_type_fire</a>, <a class="el" href="item_8cpp_source.html#l09970">get_clothing_mod_val()</a>, <a class="el" href="item_8cpp_source.html#l05613">get_env_resist()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, and <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l00282">armor_inventory_preset::armor_inventory_preset()</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00314">anonymous_namespace{armor_layers.cpp}::clothing_protection()</a>, <a class="el" href="item_8cpp_source.html#l06221">damage_resist()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="a464c09886d48850b162592b9aa985853" name="a464c09886d48850b162592b9aa985853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a464c09886d48850b162592b9aa985853">&#9670;&nbsp;</a></span>flammable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::flammable </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threshold</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the items is flammable. </p>
<p >(Make sure to keep this in sync with fire code in fields.cpp) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threshold</td><td>Item is flammable if it provides more fuel than threshold. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08159">8159</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08160" name="l08160"></a><span class="lineno"> 8160</span>{</div>
<div class="line"><a id="l08161" name="l08161"></a><span class="lineno"> 8161</span>    <span class="keyword">const</span> std::vector&lt;const material_type *&gt; &amp;mats = <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>();</div>
<div class="line"><a id="l08162" name="l08162"></a><span class="lineno"> 8162</span>    <span class="keywordflow">if</span>( mats.empty() ) {</div>
<div class="line"><a id="l08163" name="l08163"></a><span class="lineno"> 8163</span>        <span class="comment">// Don&#39;t know how to burn down something made of nothing.</span></div>
<div class="line"><a id="l08164" name="l08164"></a><span class="lineno"> 8164</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08165" name="l08165"></a><span class="lineno"> 8165</span>    }</div>
<div class="line"><a id="l08166" name="l08166"></a><span class="lineno"> 8166</span> </div>
<div class="line"><a id="l08167" name="l08167"></a><span class="lineno"> 8167</span>    <span class="keywordtype">int</span> flammability = 0;</div>
<div class="line"><a id="l08168" name="l08168"></a><span class="lineno"> 8168</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> volume_per_turn = 0_ml;</div>
<div class="line"><a id="l08169" name="l08169"></a><span class="lineno"> 8169</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> *m : mats ) {</div>
<div class="line"><a id="l08170" name="l08170"></a><span class="lineno"> 8170</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structmat__burn__data.html">mat_burn_data</a> &amp;bd = m-&gt;burn_data( 1 );</div>
<div class="line"><a id="l08171" name="l08171"></a><span class="lineno"> 8171</span>        <span class="keywordflow">if</span>( bd.<a class="code hl_variable" href="structmat__burn__data.html#a304f96d38e70395b7625d2c80f56de1c">immune</a> ) {</div>
<div class="line"><a id="l08172" name="l08172"></a><span class="lineno"> 8172</span>            <span class="comment">// Made to protect from fire</span></div>
<div class="line"><a id="l08173" name="l08173"></a><span class="lineno"> 8173</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08174" name="l08174"></a><span class="lineno"> 8174</span>        }</div>
<div class="line"><a id="l08175" name="l08175"></a><span class="lineno"> 8175</span> </div>
<div class="line"><a id="l08176" name="l08176"></a><span class="lineno"> 8176</span>        flammability += bd.<a class="code hl_variable" href="structmat__burn__data.html#ae107a447a65043c0c2fc12822c9115de">fuel</a>;</div>
<div class="line"><a id="l08177" name="l08177"></a><span class="lineno"> 8177</span>        volume_per_turn += bd.<a class="code hl_variable" href="structmat__burn__data.html#a7d46d977a131b61638e03a07421f51db">volume_per_turn</a>;</div>
<div class="line"><a id="l08178" name="l08178"></a><span class="lineno"> 8178</span>    }</div>
<div class="line"><a id="l08179" name="l08179"></a><span class="lineno"> 8179</span> </div>
<div class="line"><a id="l08180" name="l08180"></a><span class="lineno"> 8180</span>    <span class="keywordflow">if</span>( threshold == 0 || flammability &lt;= 0 ) {</div>
<div class="line"><a id="l08181" name="l08181"></a><span class="lineno"> 8181</span>        <span class="keywordflow">return</span> flammability &gt; 0;</div>
<div class="line"><a id="l08182" name="l08182"></a><span class="lineno"> 8182</span>    }</div>
<div class="line"><a id="l08183" name="l08183"></a><span class="lineno"> 8183</span> </div>
<div class="line"><a id="l08184" name="l08184"></a><span class="lineno"> 8184</span>    volume_per_turn /= mats.size();</div>
<div class="line"><a id="l08185" name="l08185"></a><span class="lineno"> 8185</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> vol = <a class="code hl_function" href="classitem.html#a1d9c8bbf0bc8223ce3bde8876e99ec8e">base_volume</a>();</div>
<div class="line"><a id="l08186" name="l08186"></a><span class="lineno"> 8186</span>    <span class="keywordflow">if</span>( volume_per_turn &gt; 0_ml &amp;&amp; volume_per_turn &lt; vol ) {</div>
<div class="line"><a id="l08187" name="l08187"></a><span class="lineno"> 8187</span>        flammability = flammability * volume_per_turn / vol;</div>
<div class="line"><a id="l08188" name="l08188"></a><span class="lineno"> 8188</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08189" name="l08189"></a><span class="lineno"> 8189</span>        <span class="comment">// If it burns well, it provides a bonus here</span></div>
<div class="line"><a id="l08190" name="l08190"></a><span class="lineno"> 8190</span>        flammability *= vol / <a class="code hl_variable" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a>;</div>
<div class="line"><a id="l08191" name="l08191"></a><span class="lineno"> 8191</span>    }</div>
<div class="line"><a id="l08192" name="l08192"></a><span class="lineno"> 8192</span> </div>
<div class="line"><a id="l08193" name="l08193"></a><span class="lineno"> 8193</span>    <span class="keywordflow">return</span> flammability &gt; threshold;</div>
<div class="line"><a id="l08194" name="l08194"></a><span class="lineno"> 8194</span>}</div>
<div class="ttc" id="astructmat__burn__data_html"><div class="ttname"><a href="structmat__burn__data.html">mat_burn_data</a></div><div class="ttdoc">Contains burning parameters for a given material.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00046">fire.h:46</a></div></div>
<div class="ttc" id="astructmat__burn__data_html_a304f96d38e70395b7625d2c80f56de1c"><div class="ttname"><a href="structmat__burn__data.html#a304f96d38e70395b7625d2c80f56de1c">mat_burn_data::immune</a></div><div class="ttdeci">bool immune</div><div class="ttdoc">If this is true, an object will not burn or be destroyed by fire.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00048">fire.h:48</a></div></div>
<div class="ttc" id="astructmat__burn__data_html_a7d46d977a131b61638e03a07421f51db"><div class="ttname"><a href="structmat__burn__data.html#a7d46d977a131b61638e03a07421f51db">mat_burn_data::volume_per_turn</a></div><div class="ttdeci">units::volume volume_per_turn</div><div class="ttdoc">If non-zero and lower than item's volume, scale burning by volume_penalty / volume.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00050">fire.h:50</a></div></div>
<div class="ttc" id="astructmat__burn__data_html_ae107a447a65043c0c2fc12822c9115de"><div class="ttname"><a href="structmat__burn__data.html#ae107a447a65043c0c2fc12822c9115de">mat_burn_data::fuel</a></div><div class="ttdeci">float fuel</div><div class="ttdoc">Fuel contributed per tick when this material burns.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00052">fire.h:52</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="fire_8h_source.html#l00052">mat_burn_data::fuel</a>, <a class="el" href="fire_8h_source.html#l00048">mat_burn_data::immune</a>, <a class="el" href="units__volume_8h_source.html#l00050">units::legacy_volume_factor</a>, <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>, and <a class="el" href="fire_8h_source.html#l00050">mat_burn_data::volume_per_turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="consumption_8cpp_source.html#l01320">Character::can_feed_furnace_with()</a>, <a class="el" href="character__oracle_8cpp_source.html#l00070">behavior::character_oracle_t::can_make_fire()</a>, and <a class="el" href="monster_8cpp_source.html#l02137">monster::process_turn()</a>.</p>

</div>
</div>
<a id="aecc0a01ad32ee5f835915f41e818f59e" name="aecc0a01ad32ee5f835915f41e818f59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecc0a01ad32ee5f835915f41e818f59e">&#9670;&nbsp;</a></span>food_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::food_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>food_item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
Survival &gt;=3 allows detection of poisonous food Survival &gt;=5 allows detection of hallucinogenic food 
<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01654">1654</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>{</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>    <a class="code hl_struct" href="structnutrients.html">nutrients</a> min_nutr;</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>    <a class="code hl_struct" href="structnutrients.html">nutrients</a> max_nutr;</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span> </div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>    std::string recipe_exemplar = <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;recipe_exemplar&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>    <span class="keywordflow">if</span>( recipe_exemplar.empty() ) {</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>        min_nutr = max_nutr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.compute_effective_nutrients( *food_item );</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>        std::tie( min_nutr, max_nutr ) =</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.compute_nutrient_range( *food_item, <a class="code hl_typedef" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( recipe_exemplar ) );</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>    }</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span> </div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>    <span class="keywordtype">bool</span> show_nutr = parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0b722d518bb16d21ae0d735b0e0a5163">iteminfo_parts::FOOD_NUTRITION</a> ) ||</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>                     parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa347683c8f53a1a7f66b004254a18438d">iteminfo_parts::FOOD_VITAMINS</a> );</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>    <span class="keywordflow">if</span>( min_nutr != max_nutr &amp;&amp; show_nutr ) {</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back(</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>            <span class="stringliteral">&quot;FOOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Nutrition will &lt;color_cyan&gt;vary with chosen ingredients&lt;/color&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a>.<a class="code hl_function" href="classrecipe__dictionary.html#a5f22263eae1314377f1c64ff6d6400fe">is_item_on_loop</a>( food_item-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) ) {</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back(</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>                <span class="stringliteral">&quot;FOOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Nutrition range cannot be calculated accurately due to &quot;</span></div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>                           <span class="stringliteral">&quot;&lt;color_red&gt;recipe loops&lt;/color&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>        }</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>    }</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span> </div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> = <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>    <span class="keywordflow">if</span>( max_nutr.<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> != 0 || food_item-&gt;<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;quench != 0 ) {</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0b722d518bb16d21ae0d735b0e0a5163">iteminfo_parts::FOOD_NUTRITION</a> ) ) {</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;FOOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Calories (kcal)&lt;/bold&gt;: &quot;</span> ),</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>                                      <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, min_nutr.<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> ) );</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>            <span class="keywordflow">if</span>( max_nutr.<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> != min_nutr.<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> ) {</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;FOOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;-&quot;</span> ),</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>                                          <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, max_nutr.<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> ) );</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>            }</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>        }</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0c708ea0bab72a2433ec6b6fab2c956b">iteminfo_parts::FOOD_QUENCH</a> ) ) {</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;FOOD&quot;</span>, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Quench: &quot;</span> ),</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>                                      food_item-&gt;<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;quench ) );</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>        }</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>    }</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span> </div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>    <span class="keyword">const</span> std::pair&lt;int, int&gt; fun_for_food_item = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.fun_for( *food_item );</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>    <span class="keywordflow">if</span>( fun_for_food_item.first != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa9336e8db6fe4df7cb5f461ce256685c">iteminfo_parts::FOOD_JOY</a> ) ) {</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;FOOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Enjoyability: &quot;</span> ), fun_for_food_item.first ) );</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>    }</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span> </div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaade6794c936294d98290d82987eb6ee81">iteminfo_parts::FOOD_PORTIONS</a> ) ) {</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;FOOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Portions: &quot;</span> ),</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>                                  std::abs( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( food_item-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) * batch ) ) );</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>    }</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>    <span class="keywordflow">if</span>( food_item-&gt;<a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> != <span class="keyword">nullptr</span> &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa17f398622223b7a7cab29171e28ca7c">iteminfo_parts::FOOD_SMELL</a> ) &amp;&amp;</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>        ( <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> || ( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a> != <span class="keyword">nullptr</span> &amp;&amp; ( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="item_8cpp.html#a4fbf975d8c329497caf15aa91d65a664">trait_CARNIVORE</a> ) ||</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>                                       <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_artifact_with( <a class="code hl_enumvalue" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621ab487fd357de9aca72cb33d22e3a17ed0">AEP_SUPER_CLAIRVOYANCE</a> ) ) ) ) ) {</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;FOOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Smells like: &quot;</span> ) + food_item-&gt;<a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>() ) );</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>    }</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span> </div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>    <span class="keyword">auto</span> format_vitamin = [&amp;]( <span class="keyword">const</span> std::pair&lt;vitamin_id, int&gt; &amp;v, <span class="keywordtype">bool</span> display_vitamins ) {</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_vitamin = v.first-&gt;type() == <a class="code hl_enumvalue" href="vitamin_8h.html#a1614a36ad4442e08210a822735541012a6332547a7029263c6caae02ab40dc0d3">vitamin_type::VITAMIN</a>;</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>        <span class="comment">// only display vitamins that we actually require</span></div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.vitamin_rate( v.first ) == 0_turns || v.second == 0 ||</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>            display_vitamins != is_vitamin || v.first-&gt;has_flag( <a class="code hl_function" href="item_8cpp.html#a33913b0fb893e7e3a076518b02aa5fb8">flag_NO_DISPLAY</a> ) ) {</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>            <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>        }</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> multiplier = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.vitamin_rate( v.first ) / 1_days * 100;</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> min_value = min_nutr.<a class="code hl_function" href="structnutrients.html#a6f702fc676d942df593b7cac4e2facd0">get_vitamin</a>( v.first );</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="namespacedetail.html#a32ecbd320068f0f120c060b49c3c4f79">max_value</a> = v.second;</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> min_rda = std::lround( min_value * multiplier );</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> max_rda = std::lround( <a class="code hl_function" href="namespacedetail.html#a32ecbd320068f0f120c060b49c3c4f79">max_value</a> * multiplier );</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>        <span class="keyword">const</span> std::string <a class="code hl_function" href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a> = min_rda == max_rda ? <span class="stringliteral">&quot;%s (%i%%)&quot;</span> : <span class="stringliteral">&quot;%s (%i-%i%%)&quot;</span>;</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="fmtlib__core_8h.html#a80bdffd1698c1834f081bcf015be1cff">format</a>, v.first-&gt;name(), min_value, <a class="code hl_function" href="namespacedetail.html#a32ecbd320068f0f120c060b49c3c4f79">max_value</a> );</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>    };</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span> </div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>    <span class="keyword">const</span> <span class="keyword">auto</span> max_nutr_vitamins = <a class="code hl_function" href="string__id__utils_8h.html#ae1571ed28c2d17ee7a7d6973aa31e8b5">sorted_lex</a>( max_nutr.<a class="code hl_variable" href="structnutrients.html#a36c005a254fba5f37415d8ac6bdac04d">vitamins</a> );</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    <span class="keyword">const</span> std::string required_vits = <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>(</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>                                          max_nutr_vitamins.begin(),</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>                                          max_nutr_vitamins.end(),</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>    [&amp;]( <span class="keyword">const</span> std::pair&lt;vitamin_id, int&gt; &amp;v ) {</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>        return format_vitamin( v, true );</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>    } );</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span> </div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>    <span class="keyword">const</span> std::string effect_vits = <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>(</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>                                        max_nutr_vitamins.begin(),</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>                                        max_nutr_vitamins.end(),</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    [&amp;]( <span class="keyword">const</span> std::pair&lt;vitamin_id, int&gt; &amp;v ) {</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>        return format_vitamin( v, false );</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>    } );</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span> </div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>    <span class="keywordflow">if</span>( !required_vits.empty() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa347683c8f53a1a7f66b004254a18438d">iteminfo_parts::FOOD_VITAMINS</a> ) ) {</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;FOOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Vitamins (RDA): &quot;</span> ), required_vits );</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    }</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span> </div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>    <span class="keywordflow">if</span>( !effect_vits.empty() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa03aac02ab98286d03fecc04cd363c0a2">iteminfo_parts::FOOD_VIT_EFFECTS</a> ) ) {</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;FOOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Other contents: &quot;</span> ), effect_vits );</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>    }</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span> </div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span> </div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.allergy_type( *food_item ) != <a class="code hl_class" href="classstring__id.html">morale_type</a>( <span class="stringliteral">&quot;morale_null&quot;</span> ) ) {</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This food will cause an &lt;bad&gt;allergic reaction&lt;/bad&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>    }</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span> </div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>    <span class="keywordflow">if</span>( food_item-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6fb4b249c40ac59e1c881e9094939dab">flag_CANNIBALISM</a> ) &amp;&amp;</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadeecc2651cff75ce994f8579b823e929">iteminfo_parts::FOOD_CANNIBALISM</a> ) ) {</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait_flag( <a class="code hl_function" href="item_8cpp.html#aa0a8171c82d9d98177ec082a22416d61">trait_flag_CANNIBAL</a> ) ) {</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This food contains &lt;bad&gt;human flesh&lt;/bad&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This food contains &lt;good&gt;human flesh&lt;/good&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>        }</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>    }</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span> </div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>    <span class="keywordflow">if</span>( food_item-&gt;<a class="code hl_function" href="classitem.html#ac7fc1e9e44759c1ae2dd5ef423fc5c1b">is_tainted</a>() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadeecc2651cff75ce994f8579b823e929">iteminfo_parts::FOOD_CANNIBALISM</a> ) ) {</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This food is &lt;bad&gt;tainted&lt;/bad&gt; and will poison you.&quot;</span> ) );</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>    }</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span><span class="comment"></span> </div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span><span class="comment">    ///\EFFECT_SURVIVAL &gt;=3 allows detection of poisonous food</span></div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span><span class="comment"></span>    <span class="keywordflow">if</span>( food_item-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a297facea6437f9bb596d9a944c1a5728">flag_HIDDEN_POISON</a> ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_skill_level( <a class="code hl_variable" href="item_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a> ) &gt;= 3 &amp;&amp;</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa76bf19daad9839801f098cd4db69d1c">iteminfo_parts::FOOD_POISON</a> ) ) {</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* On closer inspection, this appears to be &quot;</span></div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>                              <span class="stringliteral">&quot;&lt;bad&gt;poisonous&lt;/bad&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>    }</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span><span class="comment"></span> </div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span><span class="comment">    ///\EFFECT_SURVIVAL &gt;=5 allows detection of hallucinogenic food</span></div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span><span class="comment"></span>    <span class="keywordflow">if</span>( food_item-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU</a> ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_skill_level( <a class="code hl_variable" href="item_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a> ) &gt;= 5 &amp;&amp;</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>        parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3f2572bc958e4490db06b7322b4675b6">iteminfo_parts::FOOD_HALLUCINOGENIC</a> ) ) {</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* On closer inspection, this appears to be &quot;</span></div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>                              <span class="stringliteral">&quot;&lt;neutral&gt;hallucinogenic&lt;/neutral&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>    }</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span> </div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    <span class="keywordflow">if</span>( food_item-&gt;<a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3f6f1966e9b2cbe97a4d33992f9fab84">iteminfo_parts::FOOD_ROT</a> ) ) {</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>        <span class="keyword">const</span> std::string rot_time = <a class="code hl_function" href="calendar_8cpp.html#a595c4d560d7152dceb681820e7e00882">to_string_clipped</a>( food_item-&gt;<a class="code hl_function" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a>() );</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>                           <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This food is &lt;neutral&gt;perishable&lt;/neutral&gt;, &quot;</span></div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>                                             <span class="stringliteral">&quot;and at room temperature has an estimated nominal &quot;</span></div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>                                             <span class="stringliteral">&quot;shelf life of &lt;info&gt;%s&lt;/info&gt;.&quot;</span> ), rot_time ) );</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span> </div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>        <span class="keywordflow">if</span>( !food_item-&gt;<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) {</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="item_8cpp.html#aca6160da93053b44b107ccef5e04175f">get_freshness_description</a>( *food_item ) );</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>        }</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span> </div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>        <span class="keywordflow">if</span>( food_item-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa026dbb6ce20973d00e8847f056865dc">flag_NO_PARASITES</a> ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_skill_level( <a class="code hl_variable" href="item_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">skill_cooking</a> ) &gt;= 3 ) {</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* It seems that deep freezing &lt;good&gt;killed all &quot;</span></div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>                                  <span class="stringliteral">&quot;parasites&lt;/good&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>        }</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>        <span class="keywordflow">if</span>( food_item-&gt;<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) {</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_bionic( <a class="code hl_variable" href="item_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a> ) ) {</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This food has started to &lt;neutral&gt;rot&lt;/neutral&gt;, &quot;</span></div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>                                             <span class="stringliteral">&quot;but &lt;info&gt;your bionic digestion can tolerate &quot;</span></div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>                                             <span class="stringliteral">&quot;it&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="item_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a> ) ) {</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This food has started to &lt;neutral&gt;rot&lt;/neutral&gt;, &quot;</span></div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>                                             <span class="stringliteral">&quot;but &lt;info&gt;you can tolerate it&lt;/info&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This food has started to &lt;bad&gt;rot&lt;/bad&gt;. &quot;</span></div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>                                             <span class="stringliteral">&quot;&lt;info&gt;Eating&lt;/info&gt; it would be a &lt;bad&gt;very bad &quot;</span></div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>                                             <span class="stringliteral">&quot;idea&lt;/bad&gt;.&quot;</span> ) ) );</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>            }</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>        }</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>    }</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>}</div>
<div class="ttc" id="aclassitem_html_a34f7ae5deade2f4a8fed4f04e81797ce"><div class="ttname"><a href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">item::rotten</a></div><div class="ttdeci">bool rotten() const</div><div class="ttdoc">returns true if item is now rotten after all shelf life has elapsed</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00853">item.h:853</a></div></div>
<div class="ttc" id="aclassitem_html_a411163e892e27c57b802d0d015c05162"><div class="ttname"><a href="classitem.html#a411163e892e27c57b802d0d015c05162">item::get_comestible</a></div><div class="ttdeci">const cata::value_ptr&lt; islot_comestible &gt; &amp; get_comestible() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09951">item.cpp:9951</a></div></div>
<div class="ttc" id="aclassitem_html_ac7fc1e9e44759c1ae2dd5ef423fc5c1b"><div class="ttname"><a href="classitem.html#ac7fc1e9e44759c1ae2dd5ef423fc5c1b">item::is_tainted</a></div><div class="ttdeci">bool is_tainted() const</div><div class="ttdoc">Is item derived from a zombie?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09644">item.cpp:9644</a></div></div>
<div class="ttc" id="aclassrecipe__dictionary_html_a5f22263eae1314377f1c64ff6d6400fe"><div class="ttname"><a href="classrecipe__dictionary.html#a5f22263eae1314377f1c64ff6d6400fe">recipe_dictionary::is_item_on_loop</a></div><div class="ttdeci">bool is_item_on_loop(const itype_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00348">recipe_dictionary.cpp:348</a></div></div>
<div class="ttc" id="aenums_8h_html_abbe6432d5446acdbb3c80999ba5a4621ab487fd357de9aca72cb33d22e3a17ed0"><div class="ttname"><a href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621ab487fd357de9aca72cb33d22e3a17ed0">AEP_SUPER_CLAIRVOYANCE</a></div><div class="ttdeci">@ AEP_SUPER_CLAIRVOYANCE</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00112">enums.h:112</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a297facea6437f9bb596d9a944c1a5728"><div class="ttname"><a href="item_8cpp.html#a297facea6437f9bb596d9a944c1a5728">flag_HIDDEN_POISON</a></div><div class="ttdeci">static const std::string flag_HIDDEN_POISON(&quot;HIDDEN_POISON&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a33913b0fb893e7e3a076518b02aa5fb8"><div class="ttname"><a href="item_8cpp.html#a33913b0fb893e7e3a076518b02aa5fb8">flag_NO_DISPLAY</a></div><div class="ttdeci">static const std::string flag_NO_DISPLAY(&quot;NO_DISPLAY&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a36f9b5f5d763f2c224b59b75af340c6c"><div class="ttname"><a href="item_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a></div><div class="ttdeci">static const bionic_id bio_digestion(&quot;bio_digestion&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a4fbf975d8c329497caf15aa91d65a664"><div class="ttname"><a href="item_8cpp.html#a4fbf975d8c329497caf15aa91d65a664">trait_CARNIVORE</a></div><div class="ttdeci">static const trait_id trait_CARNIVORE(&quot;CARNIVORE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a6fb4b249c40ac59e1c881e9094939dab"><div class="ttname"><a href="item_8cpp.html#a6fb4b249c40ac59e1c881e9094939dab">flag_CANNIBALISM</a></div><div class="ttdeci">static const std::string flag_CANNIBALISM(&quot;CANNIBALISM&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a74fdff0ac6c7a40b84739f512ff69880"><div class="ttname"><a href="item_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU</a></div><div class="ttdeci">static const std::string flag_HIDDEN_HALLU(&quot;HIDDEN_HALLU&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a92fc92f8871feb56f05a24b582966275"><div class="ttname"><a href="item_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a></div><div class="ttdeci">static const trait_id trait_SAPROVORE(&quot;SAPROVORE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa026dbb6ce20973d00e8847f056865dc"><div class="ttname"><a href="item_8cpp.html#aa026dbb6ce20973d00e8847f056865dc">flag_NO_PARASITES</a></div><div class="ttdeci">static const std::string flag_NO_PARASITES(&quot;NO_PARASITES&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa0a8171c82d9d98177ec082a22416d61"><div class="ttname"><a href="item_8cpp.html#aa0a8171c82d9d98177ec082a22416d61">trait_flag_CANNIBAL</a></div><div class="ttdeci">static const std::string trait_flag_CANNIBAL(&quot;CANNIBAL&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ac038c6319122de04af85fb88e6618601"><div class="ttname"><a href="item_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a></div><div class="ttdeci">static const skill_id skill_survival(&quot;survival&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aca6160da93053b44b107ccef5e04175f"><div class="ttname"><a href="item_8cpp.html#aca6160da93053b44b107ccef5e04175f">get_freshness_description</a></div><div class="ttdeci">static std::string get_freshness_description(const item &amp;food_item)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01119">item.cpp:1119</a></div></div>
<div class="ttc" id="aitem_8cpp_html_ad0e39d29af45ea0a03f280197b35ca72"><div class="ttname"><a href="item_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">skill_cooking</a></div><div class="ttdeci">static const skill_id skill_cooking(&quot;cooking&quot;)</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa03aac02ab98286d03fecc04cd363c0a2"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa03aac02ab98286d03fecc04cd363c0a2">iteminfo_parts::FOOD_VIT_EFFECTS</a></div><div class="ttdeci">@ FOOD_VIT_EFFECTS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa0b722d518bb16d21ae0d735b0e0a5163"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0b722d518bb16d21ae0d735b0e0a5163">iteminfo_parts::FOOD_NUTRITION</a></div><div class="ttdeci">@ FOOD_NUTRITION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa0c708ea0bab72a2433ec6b6fab2c956b"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0c708ea0bab72a2433ec6b6fab2c956b">iteminfo_parts::FOOD_QUENCH</a></div><div class="ttdeci">@ FOOD_QUENCH</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa347683c8f53a1a7f66b004254a18438d"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa347683c8f53a1a7f66b004254a18438d">iteminfo_parts::FOOD_VITAMINS</a></div><div class="ttdeci">@ FOOD_VITAMINS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa3f2572bc958e4490db06b7322b4675b6"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3f2572bc958e4490db06b7322b4675b6">iteminfo_parts::FOOD_HALLUCINOGENIC</a></div><div class="ttdeci">@ FOOD_HALLUCINOGENIC</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa3f6f1966e9b2cbe97a4d33992f9fab84"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3f6f1966e9b2cbe97a4d33992f9fab84">iteminfo_parts::FOOD_ROT</a></div><div class="ttdeci">@ FOOD_ROT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaa17f398622223b7a7cab29171e28ca7c"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa17f398622223b7a7cab29171e28ca7c">iteminfo_parts::FOOD_SMELL</a></div><div class="ttdeci">@ FOOD_SMELL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaa76bf19daad9839801f098cd4db69d1c"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa76bf19daad9839801f098cd4db69d1c">iteminfo_parts::FOOD_POISON</a></div><div class="ttdeci">@ FOOD_POISON</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaa9336e8db6fe4df7cb5f461ce256685c"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa9336e8db6fe4df7cb5f461ce256685c">iteminfo_parts::FOOD_JOY</a></div><div class="ttdeci">@ FOOD_JOY</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaade6794c936294d98290d82987eb6ee81"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaade6794c936294d98290d82987eb6ee81">iteminfo_parts::FOOD_PORTIONS</a></div><div class="ttdeci">@ FOOD_PORTIONS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaadeecc2651cff75ce994f8579b823e929"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadeecc2651cff75ce994f8579b823e929">iteminfo_parts::FOOD_CANNIBALISM</a></div><div class="ttdeci">@ FOOD_CANNIBALISM</div></div>
<div class="ttc" id="anamespacedetail_html_a32ecbd320068f0f120c060b49c3c4f79"><div class="ttname"><a href="namespacedetail.html#a32ecbd320068f0f120c060b49c3c4f79">detail::max_value</a></div><div class="ttdeci">constexpr T max_value()</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l00344">fmtlib_format.h:344</a></div></div>
<div class="ttc" id="arecipe__dictionary_8cpp_html_a9fdb53bd54fb6dcc5f9b2e1e1b44570f"><div class="ttname"><a href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a></div><div class="ttdeci">recipe_dictionary recipe_dict</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00027">recipe_dictionary.cpp:27</a></div></div>
<div class="ttc" id="astructnutrients_html"><div class="ttname"><a href="structnutrients.html">nutrients</a></div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00016">stomach.h:16</a></div></div>
<div class="ttc" id="astructnutrients_html_a250b8d24985580cc4b6a640050bef208"><div class="ttname"><a href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">nutrients::kcal</a></div><div class="ttdeci">int kcal</div><div class="ttdoc">amount of kcal this food has</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00018">stomach.h:18</a></div></div>
<div class="ttc" id="astructnutrients_html_a36c005a254fba5f37415d8ac6bdac04d"><div class="ttname"><a href="structnutrients.html#a36c005a254fba5f37415d8ac6bdac04d">nutrients::vitamins</a></div><div class="ttdeci">std::map&lt; vitamin_id, int &gt; vitamins</div><div class="ttdoc">vitamins potentially provided by this comestible (if any)</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00021">stomach.h:21</a></div></div>
<div class="ttc" id="astructnutrients_html_a6f702fc676d942df593b7cac4e2facd0"><div class="ttname"><a href="structnutrients.html#a6f702fc676d942df593b7cac4e2facd0">nutrients::get_vitamin</a></div><div class="ttdeci">int get_vitamin(const vitamin_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8cpp_source.html#l00042">stomach.cpp:42</a></div></div>
<div class="ttc" id="atype__id_8h_html_a7d1934ae1f3ab6bea8bd75f88070482d"><div class="ttname"><a href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a></div><div class="ttdeci">string_id&lt; recipe &gt; recipe_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00117">type_id.h:117</a></div></div>
<div class="ttc" id="avitamin_8h_html_a1614a36ad4442e08210a822735541012a6332547a7029263c6caae02ab40dc0d3"><div class="ttname"><a href="vitamin_8h.html#a1614a36ad4442e08210a822735541012a6332547a7029263c6caae02ab40dc0d3">VITAMIN</a></div><div class="ttdeci">@ VITAMIN</div><div class="ttdef"><b>Definition:</b> <a href="vitamin_8h_source.html#l00019">vitamin.h:19</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="enums_8h_source.html#l00112">AEP_SUPER_CLAIRVOYANCE</a>, <a class="el" href="item_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="debug__menu_8cpp_source.html#l01325">debug_menu::debug()</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="item_8cpp.html#a6fb4b249c40ac59e1c881e9094939dab">flag_CANNIBALISM()</a>, <a class="el" href="item_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU()</a>, <a class="el" href="item_8cpp.html#a297facea6437f9bb596d9a944c1a5728">flag_HIDDEN_POISON()</a>, <a class="el" href="item_8cpp.html#a33913b0fb893e7e3a076518b02aa5fb8">flag_NO_DISPLAY()</a>, <a class="el" href="item_8cpp.html#aa026dbb6ce20973d00e8847f056865dc">flag_NO_PARASITES()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadeecc2651cff75ce994f8579b823e929">FOOD_CANNIBALISM</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3f2572bc958e4490db06b7322b4675b6">FOOD_HALLUCINOGENIC</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa9336e8db6fe4df7cb5f461ce256685c">FOOD_JOY</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0b722d518bb16d21ae0d735b0e0a5163">FOOD_NUTRITION</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa76bf19daad9839801f098cd4db69d1c">FOOD_POISON</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaade6794c936294d98290d82987eb6ee81">FOOD_PORTIONS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0c708ea0bab72a2433ec6b6fab2c956b">FOOD_QUENCH</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa3f6f1966e9b2cbe97a4d33992f9fab84">FOOD_ROT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa17f398622223b7a7cab29171e28ca7c">FOOD_SMELL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa03aac02ab98286d03fecc04cd363c0a2">FOOD_VIT_EFFECTS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa347683c8f53a1a7f66b004254a18438d">FOOD_VITAMINS</a>, <a class="el" href="fmtlib__core_8h_source.html#l02316">format()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, <a class="el" href="item_8cpp_source.html#l01119">get_freshness_description()</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="stomach_8cpp_source.html#l00042">nutrients::get_vitamin()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00348">recipe_dictionary::is_item_on_loop()</a>, <a class="el" href="item_8cpp_source.html#l09644">is_tainted()</a>, <a class="el" href="stomach_8h_source.html#l00018">nutrients::kcal</a>, <a class="el" href="fmtlib__format_8h_source.html#l00344">detail::max_value()</a>, <a class="el" href="mtype_8cpp_source.html#l00065">mtype::nname()</a>, <a class="el" href="item_8h_source.html#l00144">iteminfo::no_newline</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00027">recipe_dict</a>, <a class="el" href="item_8h_source.html#l00853">rotten()</a>, <a class="el" href="item_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">skill_cooking</a>, <a class="el" href="item_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="string__id__utils_8h_source.html#l00022">sorted_lex()</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::space</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="calendar_8cpp_source.html#l00228">to_string_clipped()</a>, <a class="el" href="item_8cpp.html#a4fbf975d8c329497caf15aa91d65a664">trait_CARNIVORE</a>, <a class="el" href="item_8cpp.html#aa0a8171c82d9d98177ec082a22416d61">trait_flag_CANNIBAL()</a>, <a class="el" href="item_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, <a class="el" href="vitamin_8h_source.html#l00019">VITAMIN</a>, and <a class="el" href="stomach_8h_source.html#l00021">nutrients::vitamins</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a820e79d915781a615d3b160fa63946af" name="a820e79d915781a615d3b160fa63946af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820e79d915781a615d3b160fa63946af">&#9670;&nbsp;</a></span>fuel_energy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float item::fuel_energy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns energy of one charge of this item as fuel for an engine. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06666">6666</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06667" name="l06667"></a><span class="lineno"> 6667</span>{</div>
<div class="line"><a id="l06668" name="l06668"></a><span class="lineno"> 6668</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ad8d4ac9512f65051e505e3359b5a6f2c">is_fuel</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9599d60ae3f70f8791bf108a4bde877b">fuel</a>-&gt;energy : 0.0f;</div>
<div class="line"><a id="l06669" name="l06669"></a><span class="lineno"> 6669</span>}</div>
<div class="ttc" id="aclassitem_html_ad8d4ac9512f65051e505e3359b5a6f2c"><div class="ttname"><a href="classitem.html#ad8d4ac9512f65051e505e3359b5a6f2c">item::is_fuel</a></div><div class="ttdeci">bool is_fuel() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06610">item.cpp:6610</a></div></div>
<div class="ttc" id="astructitype_html_a9599d60ae3f70f8791bf108a4bde877b"><div class="ttname"><a href="structitype.html#a9599d60ae3f70f8791bf108a4bde877b">itype::fuel</a></div><div class="ttdeci">cata::value_ptr&lt; islot_fuel &gt; fuel</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00856">itype.h:856</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00856">itype::fuel</a>, <a class="el" href="item_8cpp_source.html#l06610">is_fuel()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="bionics_8cpp_source.html#l01154">Character::burn_fuel()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00302">vehicle_part::consume_energy()</a>, <a class="el" href="vehicle_8cpp_source.html#l04400">vehicle::consume_fuel()</a>, <a class="el" href="vehicle_8cpp_source.html#l03318">vehicle::consumption_per_hour()</a>, <a class="el" href="consumption_8cpp_source.html#l01445">Character::get_acquirable_energy()</a>, <a class="el" href="game_8cpp_source.html#l10258">game::on_move_effects()</a>, and <a class="el" href="bionics_8cpp_source.html#l01311">Character::passive_power_gen()</a>.</p>

</div>
</div>
<a id="a31cd84620cdba14d6614aaba1c805849" name="a31cd84620cdba14d6614aaba1c805849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31cd84620cdba14d6614aaba1c805849">&#9670;&nbsp;</a></span>fuel_pump_terrain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::fuel_pump_terrain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the string of the id of the terrain that pumps this fuel, if any. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06671">6671</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06672" name="l06672"></a><span class="lineno"> 6672</span>{</div>
<div class="line"><a id="l06673" name="l06673"></a><span class="lineno"> 6673</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ad8d4ac9512f65051e505e3359b5a6f2c">is_fuel</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9599d60ae3f70f8791bf108a4bde877b">fuel</a>-&gt;pump_terrain : <span class="stringliteral">&quot;t_null&quot;</span>;</div>
<div class="line"><a id="l06674" name="l06674"></a><span class="lineno"> 6674</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00856">itype::fuel</a>, <a class="el" href="item_8cpp_source.html#l06610">is_fuel()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l05439">map::place_gas_pump()</a>.</p>

</div>
</div>
<a id="a245db12c86dcfb1abf029cf0527dcf7e" name="a245db12c86dcfb1abf029cf0527dcf7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a245db12c86dcfb1abf029cf0527dcf7e">&#9670;&nbsp;</a></span>get_available_recipes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; const <a class="el" href="classrecipe.html">recipe</a> *, int &gt; &gt; item::get_available_recipes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumerates recipes available from this book and the skill level required to use them. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06954">6954</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06955" name="l06955"></a><span class="lineno"> 6955</span>{</div>
<div class="line"><a id="l06956" name="l06956"></a><span class="lineno"> 6956</span>    std::vector&lt;std::pair&lt;const recipe *, int&gt;&gt; recipe_entries;</div>
<div class="line"><a id="l06957" name="l06957"></a><span class="lineno"> 6957</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a980b9e48afd103973a201fc487d0af8b">is_book</a>() ) {</div>
<div class="line"><a id="l06958" name="l06958"></a><span class="lineno"> 6958</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structislot__book_1_1recipe__with__description__t.html">islot_book::recipe_with_description_t</a> &amp;elem : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>-&gt;recipes ) {</div>
<div class="line"><a id="l06959" name="l06959"></a><span class="lineno"> 6959</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( elem.<a class="code hl_variable" href="structislot__book_1_1recipe__with__description__t.html#a81128db90cd0174d3500d4cb1bbf002e">recipe</a>-&gt;<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) &gt;= elem.<a class="code hl_variable" href="structislot__book_1_1recipe__with__description__t.html#a281ac0918950f3547a56cb9e218ffe9e">skill_level</a> ) {</div>
<div class="line"><a id="l06960" name="l06960"></a><span class="lineno"> 6960</span>                recipe_entries.push_back( std::make_pair( elem.<a class="code hl_variable" href="structislot__book_1_1recipe__with__description__t.html#a81128db90cd0174d3500d4cb1bbf002e">recipe</a>, elem.<a class="code hl_variable" href="structislot__book_1_1recipe__with__description__t.html#a281ac0918950f3547a56cb9e218ffe9e">skill_level</a> ) );</div>
<div class="line"><a id="l06961" name="l06961"></a><span class="lineno"> 6961</span>            }</div>
<div class="line"><a id="l06962" name="l06962"></a><span class="lineno"> 6962</span>        }</div>
<div class="line"><a id="l06963" name="l06963"></a><span class="lineno"> 6963</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a478ecf81e48540e1ba39de33df968c43">has_var</a>( <span class="stringliteral">&quot;EIPC_RECIPES&quot;</span> ) ) {</div>
<div class="line"><a id="l06964" name="l06964"></a><span class="lineno"> 6964</span>        <span class="comment">// See einkpc_download_memory_card() in iuse.cpp where this is set.</span></div>
<div class="line"><a id="l06965" name="l06965"></a><span class="lineno"> 6965</span>        <span class="keyword">const</span> std::string recipes = <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EIPC_RECIPES&quot;</span> );</div>
<div class="line"><a id="l06966" name="l06966"></a><span class="lineno"> 6966</span>        <span class="comment">// Capture the index one past the delimiter, i.e. start of target string.</span></div>
<div class="line"><a id="l06967" name="l06967"></a><span class="lineno"> 6967</span>        <span class="keywordtype">size_t</span> first_string_index = recipes.find_first_of( <span class="charliteral">&#39;,&#39;</span> ) + 1;</div>
<div class="line"><a id="l06968" name="l06968"></a><span class="lineno"> 6968</span>        <span class="keywordflow">while</span>( first_string_index != std::string::npos ) {</div>
<div class="line"><a id="l06969" name="l06969"></a><span class="lineno"> 6969</span>            <span class="keywordtype">size_t</span> next_string_index = recipes.find_first_of( <span class="charliteral">&#39;,&#39;</span>, first_string_index );</div>
<div class="line"><a id="l06970" name="l06970"></a><span class="lineno"> 6970</span>            <span class="keywordflow">if</span>( next_string_index == std::string::npos ) {</div>
<div class="line"><a id="l06971" name="l06971"></a><span class="lineno"> 6971</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06972" name="l06972"></a><span class="lineno"> 6972</span>            }</div>
<div class="line"><a id="l06973" name="l06973"></a><span class="lineno"> 6973</span>            std::string new_recipe = recipes.substr( first_string_index,</div>
<div class="line"><a id="l06974" name="l06974"></a><span class="lineno"> 6974</span>                                     next_string_index - first_string_index );</div>
<div class="line"><a id="l06975" name="l06975"></a><span class="lineno"> 6975</span>            <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> *r = &amp;<a class="code hl_typedef" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( new_recipe ).<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l06976" name="l06976"></a><span class="lineno"> 6976</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( r-&gt;<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) &gt;= r-&gt;<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> ) {</div>
<div class="line"><a id="l06977" name="l06977"></a><span class="lineno"> 6977</span>                recipe_entries.push_back( std::make_pair( r, r-&gt;<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> ) );</div>
<div class="line"><a id="l06978" name="l06978"></a><span class="lineno"> 6978</span>            }</div>
<div class="line"><a id="l06979" name="l06979"></a><span class="lineno"> 6979</span>            first_string_index = next_string_index + 1;</div>
<div class="line"><a id="l06980" name="l06980"></a><span class="lineno"> 6980</span>        }</div>
<div class="line"><a id="l06981" name="l06981"></a><span class="lineno"> 6981</span>    }</div>
<div class="line"><a id="l06982" name="l06982"></a><span class="lineno"> 6982</span>    <span class="keywordflow">return</span> recipe_entries;</div>
<div class="line"><a id="l06983" name="l06983"></a><span class="lineno"> 6983</span>}</div>
<div class="ttc" id="aclassrecipe_html_a10e4e7582e7174825ead3d07c3e4fca1"><div class="ttname"><a href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">recipe::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00060">recipe.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00852">itype::book</a>, <a class="el" href="recipe_8h_source.html#l00060">recipe::difficulty</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l01067">has_var()</a>, <a class="el" href="item_8cpp_source.html#l06559">is_book()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="itype_8h_source.html#l00363">islot_book::recipe_with_description_t::recipe</a>, <a class="el" href="itype_8h_source.html#l00367">islot_book::recipe_with_description_t::skill_level</a>, <a class="el" href="recipe_8h_source.html#l00107">recipe::skill_used</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, and <a class="el" href="player_8cpp_source.html#l03715">player::get_recipes_from_books()</a>.</p>

</div>
</div>
<a id="acb31dfc93d0de49315fdbbac504236df" name="acb31dfc93d0de49315fdbbac504236df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb31dfc93d0de49315fdbbac504236df">&#9670;&nbsp;</a></span>get_base_env_resist_w_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_base_env_resist_w_filter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the base resistance to environmental effects if an item (for example a gas mask) requires a gas filter to operate and this filter is installed. </p>
<p >Used in <a class="el" href="namespaceiuse.html#afb61c8d119bd0c545bc42c10d11d357b">iuse::gasmask</a> to change protection of a gas mask if it has (or don't has) filters. For other applications use <a class="el" href="classitem.html#ac56f53ef32f24c048d9e893c9336ec95" title="Returns the resistance to environmental effects (islot_armor::env_resist) that this item provides whe...">get_env_resist()</a> above. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05627">5627</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05628" name="l05628"></a><span class="lineno"> 5628</span>{</div>
<div class="line"><a id="l05629" name="l05629"></a><span class="lineno"> 5629</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l05630" name="l05630"></a><span class="lineno"> 5630</span>    <span class="keywordflow">if</span>( t == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05631" name="l05631"></a><span class="lineno"> 5631</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">is_pet_armor</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">pet_armor</a>-&gt;env_resist_w_filter : 0;</div>
<div class="line"><a id="l05632" name="l05632"></a><span class="lineno"> 5632</span>    }</div>
<div class="line"><a id="l05633" name="l05633"></a><span class="lineno"> 5633</span>    <span class="keywordflow">return</span> t-&gt;<a class="code hl_variable" href="structislot__armor.html#a87b0eca7d014fdb845b58be81257c95c">env_resist_w_filter</a>;</div>
<div class="line"><a id="l05634" name="l05634"></a><span class="lineno"> 5634</span>}</div>
<div class="ttc" id="aclassitem_html_a97dda9dbf79f8df65ac930cb89ac9b98"><div class="ttname"><a href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">item::find_armor_data</a></div><div class="ttdeci">const islot_armor * find_armor_data() const</div><div class="ttdoc">If this is an armor item, return its armor data.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06532">item.cpp:6532</a></div></div>
<div class="ttc" id="astructislot__armor_html"><div class="ttname"><a href="structislot__armor.html">islot_armor</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00233">itype.h:233</a></div></div>
<div class="ttc" id="astructislot__armor_html_a87b0eca7d014fdb845b58be81257c95c"><div class="ttname"><a href="structislot__armor.html#a87b0eca7d014fdb845b58be81257c95c">islot_armor::env_resist_w_filter</a></div><div class="ttdeci">int env_resist_w_filter</div><div class="ttdoc">Environmental protection of a gas mask with installed filter.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00267">itype.h:267</a></div></div>
<div class="ttc" id="astructitype_html_a37254c7bdbbddd208cc69e2338ab833b"><div class="ttname"><a href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">itype::pet_armor</a></div><div class="ttdeci">cata::value_ptr&lt; islot_pet_armor &gt; pet_armor</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00851">itype.h:851</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00267">islot_armor::env_resist_w_filter</a>, <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="itype_8h_source.html#l00851">itype::pet_armor</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="iuse_8cpp_source.html#l04239">iuse::dive_tank()</a>, and <a class="el" href="iuse_8cpp_source.html#l04330">iuse::gasmask()</a>.</p>

</div>
</div>
<a id="a773105801673bb74d69b3ca2dac471d6" name="a773105801673bb74d69b3ca2dac471d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a773105801673bb74d69b3ca2dac471d6">&#9670;&nbsp;</a></span>get_base_material()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classmaterial__type.html">material_type</a> &amp; item::get_base_material </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the basic (main) material of this item. </p>
<p >May return the null-material. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06990">6990</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06991" name="l06991"></a><span class="lineno"> 6991</span>{</div>
<div class="line"><a id="l06992" name="l06992"></a><span class="lineno"> 6992</span>    <span class="keyword">const</span> std::vector&lt;material_id&gt; &amp;mats = <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>();</div>
<div class="line"><a id="l06993" name="l06993"></a><span class="lineno"> 6993</span>    <span class="keywordflow">return</span> mats.empty() ? <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">material_id::NULL_ID</a>().<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>() : mats.front().obj();</div>
<div class="line"><a id="l06994" name="l06994"></a><span class="lineno"> 6994</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; material_type &gt;::NULL_ID()</a>, and <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08272">Character::armor_absorb()</a>, and <a class="el" href="item_8cpp_source.html#l06166">durability_indicator()</a>.</p>

</div>
</div>
<a id="ab6e199f76e3d8f9d2770cf18a1b6e0cf" name="ab6e199f76e3d8f9d2770cf18a1b6e0cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6e199f76e3d8f9d2770cf18a1b6e0cf">&#9670;&nbsp;</a></span>get_cable_target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; item::get_cable_target </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the point (vehicle tile) the cable is connected to. </p>
<p >Returns nothing if not connected to anything. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09179">9179</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09180" name="l09180"></a><span class="lineno"> 9180</span>{</div>
<div class="line"><a id="l09181" name="l09181"></a><span class="lineno"> 9181</span>    <span class="keyword">const</span> std::string &amp;state = <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;state&quot;</span> );</div>
<div class="line"><a id="l09182" name="l09182"></a><span class="lineno"> 9182</span>    <span class="keywordflow">if</span>( state != <span class="stringliteral">&quot;pay_out_cable&quot;</span> &amp;&amp; state != <span class="stringliteral">&quot;cable_charger_link&quot;</span> ) {</div>
<div class="line"><a id="l09183" name="l09183"></a><span class="lineno"> 9183</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l09184" name="l09184"></a><span class="lineno"> 9184</span>    }</div>
<div class="line"><a id="l09185" name="l09185"></a><span class="lineno"> 9185</span>    <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp_pos = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pos );</div>
<div class="line"><a id="l09186" name="l09186"></a><span class="lineno"> 9186</span>    <span class="keywordflow">if</span>( vp_pos ) {</div>
<div class="line"><a id="l09187" name="l09187"></a><span class="lineno"> 9187</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> seat = vp_pos.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;BOARDABLE&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l09188" name="l09188"></a><span class="lineno"> 9188</span>        <span class="keywordflow">if</span>( seat &amp;&amp; p == seat-&gt;vehicle().get_passenger( seat-&gt;part_index() ) ) {</div>
<div class="line"><a id="l09189" name="l09189"></a><span class="lineno"> 9189</span>            <span class="keywordflow">return</span> pos;</div>
<div class="line"><a id="l09190" name="l09190"></a><span class="lineno"> 9190</span>        }</div>
<div class="line"><a id="l09191" name="l09191"></a><span class="lineno"> 9191</span>    }</div>
<div class="line"><a id="l09192" name="l09192"></a><span class="lineno"> 9192</span> </div>
<div class="line"><a id="l09193" name="l09193"></a><span class="lineno"> 9193</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> source( <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;source_x&quot;</span>, 0 ), <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;source_y&quot;</span>, 0 ), <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;source_z&quot;</span>, 0 ) );</div>
<div class="line"><a id="l09194" name="l09194"></a><span class="lineno"> 9194</span> </div>
<div class="line"><a id="l09195" name="l09195"></a><span class="lineno"> 9195</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getlocal( source );</div>
<div class="line"><a id="l09196" name="l09196"></a><span class="lineno"> 9196</span>}</div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a cata::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00101">vpart_position.h:102</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html_a2f0829fa83c2c4d3007e26b91af11856"><div class="ttname"><a href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">optional_vpart_position::part_with_feature</a></div><div class="ttdeci">cata::optional&lt; vpart_reference &gt; part_with_feature(const std::string &amp;f, bool unbroken) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02479">vehicle.cpp:2479</a></div></div>
<div class="ttc" id="anamespacecata_html_ad05314667ac5d05f984aeeef26b9a87f"><div class="ttname"><a href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a></div><div class="ttdeci">static constexpr nullopt_t nullopt</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00022">optional.h:22</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, and <a class="el" href="vehicle_8cpp_source.html#l02479">optional_vpart_position::part_with_feature()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09198">process_cable()</a>.</p>

</div>
</div>
<a id="a3650e3828a796997cf5fa2f21cb2ee18" name="a3650e3828a796997cf5fa2f21cb2ee18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3650e3828a796997cf5fa2f21cb2ee18">&#9670;&nbsp;</a></span>get_cached_tool_selections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &gt; &amp; item::get_cached_tool_selections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09945">9945</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09946" name="l09946"></a><span class="lineno"> 9946</span>{</div>
<div class="line"><a id="l09947" name="l09947"></a><span class="lineno"> 9947</span>    assert( <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> );</div>
<div class="line"><a id="l09948" name="l09948"></a><span class="lineno"> 9948</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;cached_tool_selections;</div>
<div class="line"><a id="l09949" name="l09949"></a><span class="lineno"> 9949</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02190">craft_data_</a>.</p>

</div>
</div>
<a id="ad43578374fc9be1e16117405cd709f7d" name="ad43578374fc9be1e16117405cd709f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad43578374fc9be1e16117405cd709f7d">&#9670;&nbsp;</a></span>get_category()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem__category.html">item_category</a> &amp; item::get_category </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08529">8529</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08530" name="l08530"></a><span class="lineno"> 8530</span>{</div>
<div class="line"><a id="l08531" name="l08531"></a><span class="lineno"> 8531</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() &amp;&amp; !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ) {</div>
<div class="line"><a id="l08532" name="l08532"></a><span class="lineno"> 8532</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#ad43578374fc9be1e16117405cd709f7d">get_category</a>();</div>
<div class="line"><a id="l08533" name="l08533"></a><span class="lineno"> 8533</span>    }</div>
<div class="line"><a id="l08534" name="l08534"></a><span class="lineno"> 8534</span> </div>
<div class="line"><a id="l08535" name="l08535"></a><span class="lineno"> 8535</span>    <span class="keyword">static</span> <a class="code hl_class" href="classitem__category.html">item_category</a> null_category;</div>
<div class="line"><a id="l08536" name="l08536"></a><span class="lineno"> 8536</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a713cf194c7af78a6a101a6bfb26bc3a9">category_force</a>.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a713cf194c7af78a6a101a6bfb26bc3a9">category_force</a>.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>() : null_category;</div>
<div class="line"><a id="l08537" name="l08537"></a><span class="lineno"> 8537</span>}</div>
<div class="ttc" id="aclassitem__category_html"><div class="ttname"><a href="classitem__category.html">item_category</a></div><div class="ttdoc">Contains metadata for one category of items.</div><div class="ttdef"><b>Definition:</b> <a href="item__category_8h_source.html#l00034">item_category.h:35</a></div></div>
<div class="ttc" id="astructitype_html_a713cf194c7af78a6a101a6bfb26bc3a9"><div class="ttname"><a href="structitype.html#a713cf194c7af78a6a101a6bfb26bc3a9">itype::category_force</a></div><div class="ttdeci">item_category_id category_force</div><div class="ttdoc">If set via JSON forces item category to this (preventing automatic assignment)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01003">itype.h:1003</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l01003">itype::category_force</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l08529">get_category()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="achievement_8cpp_source.html#l00065">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l01166">inventory_selector::add_items()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="npctalk_8cpp_source.html#l03153">json_talk_topic::gen_responses()</a>, <a class="el" href="item_8cpp_source.html#l08529">get_category()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00191">inventory_entry::get_category_ptr()</a>, <a class="el" href="clzones_8cpp_source.html#l00846">zone_manager::get_near_zone_type_for_item()</a>, <a class="el" href="item_8cpp_source.html#l06564">is_map()</a>, <a class="el" href="map__item__stack_8cpp_source.html#l00046">map_item_stack::map_item_stack_sort()</a>, <a class="el" href="item_8cpp_source.html#l06996">operator&lt;()</a>, <a class="el" href="condition_8cpp_source.html#l00293">conditional_t&lt; T &gt;::set_has_item_category()</a>, and <a class="el" href="item_8cpp_source.html#l05446">spoilage_sort_order()</a>.</p>

</div>
</div>
<a id="af607ad36c67593022397b437a3a5b5b4" name="af607ad36c67593022397b437a3a5b5b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af607ad36c67593022397b437a3a5b5b4">&#9670;&nbsp;</a></span>get_chapters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_chapters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many chapters the book has (if any). </p>
<p >Will be 0 if the item is not a book, or if it has no chapters at all. Each reading will "consume" a chapter, if the book has no unread chapters, it's less fun. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06928">6928</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06929" name="l06929"></a><span class="lineno"> 6929</span>{</div>
<div class="line"><a id="l06930" name="l06930"></a><span class="lineno"> 6930</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a> ) {</div>
<div class="line"><a id="l06931" name="l06931"></a><span class="lineno"> 6931</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06932" name="l06932"></a><span class="lineno"> 6932</span>    }</div>
<div class="line"><a id="l06933" name="l06933"></a><span class="lineno"> 6933</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>-&gt;chapters;</div>
<div class="line"><a id="l06934" name="l06934"></a><span class="lineno"> 6934</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00852">itype::book</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03659">player::book_fun_for()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, and <a class="el" href="item_8cpp_source.html#l06936">get_remaining_chapters()</a>.</p>

</div>
</div>
<a id="a487b1c2d4c6e05794c446b231f39d6e8" name="a487b1c2d4c6e05794c446b231f39d6e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a487b1c2d4c6e05794c446b231f39d6e8">&#9670;&nbsp;</a></span>get_clothing_mod_val()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float item::get_clothing_mod_val </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152">clothing_mod_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09970">9970</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09971" name="l09971"></a><span class="lineno"> 9971</span>{</div>
<div class="line"><a id="l09972" name="l09972"></a><span class="lineno"> 9972</span>    <span class="keyword">const</span> std::string key = <a class="code hl_function" href="item_8cpp.html#aab0054280289e72ae8b8d9f062e20e47">CLOTHING_MOD_VAR_PREFIX</a> + <a class="code hl_function" href="namespaceclothing__mods.html#a5bf63dd4b0368188aa71cfa230cfa989">clothing_mods::string_from_clothing_mod_type</a>(</div>
<div class="line"><a id="l09973" name="l09973"></a><span class="lineno"> 9973</span>                                <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l09974" name="l09974"></a><span class="lineno"> 9974</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( key, 0.0 );</div>
<div class="line"><a id="l09975" name="l09975"></a><span class="lineno"> 9975</span>}</div>
<div class="ttc" id="aitem_8cpp_html_aab0054280289e72ae8b8d9f062e20e47"><div class="ttname"><a href="item_8cpp.html#aab0054280289e72ae8b8d9f062e20e47">CLOTHING_MOD_VAR_PREFIX</a></div><div class="ttdeci">static const std::string CLOTHING_MOD_VAR_PREFIX(&quot;clothing_mod_&quot;)</div></div>
<div class="ttc" id="anamespaceclothing__mods_html_a5bf63dd4b0368188aa71cfa230cfa989"><div class="ttname"><a href="namespaceclothing__mods.html#a5bf63dd4b0368188aa71cfa230cfa989">clothing_mods::string_from_clothing_mod_type</a></div><div class="ttdeci">std::string string_from_clothing_mod_type(clothing_mod_type type)</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8cpp_source.html#l00168">clothing_mod.cpp:168</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#aab0054280289e72ae8b8d9f062e20e47">CLOTHING_MOD_VAR_PREFIX()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="clothing__mod_8cpp_source.html#l00168">clothing_mods::string_from_clothing_mod_type()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05977">acid_resist()</a>, <a class="el" href="item_8cpp_source.html#l05881">bash_resist()</a>, <a class="el" href="item_8cpp_source.html#l05948">bullet_resist()</a>, <a class="el" href="item_8cpp_source.html#l05909">cut_resist()</a>, <a class="el" href="item_8cpp_source.html#l06011">fire_resist()</a>, <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>, <a class="el" href="item_8cpp_source.html#l05582">get_storage()</a>, and <a class="el" href="item_8cpp_source.html#l05768">get_warmth()</a>.</p>

</div>
</div>
<a id="a411163e892e27c57b802d0d015c05162" name="a411163e892e27c57b802d0d015c05162"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a411163e892e27c57b802d0d015c05162">&#9670;&nbsp;</a></span>get_comestible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt; <a class="el" href="structislot__comestible.html">islot_comestible</a> &gt; &amp; item::get_comestible </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09951">9951</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09952" name="l09952"></a><span class="lineno"> 9952</span>{</div>
<div class="line"><a id="l09953" name="l09953"></a><span class="lineno"> 9953</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l09954" name="l09954"></a><span class="lineno"> 9954</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;making-&gt;result()-&gt;comestible;</div>
<div class="line"><a id="l09955" name="l09955"></a><span class="lineno"> 9955</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09956" name="l09956"></a><span class="lineno"> 9956</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">comestible</a>;</div>
<div class="line"><a id="l09957" name="l09957"></a><span class="lineno"> 9957</span>    }</div>
<div class="line"><a id="l09958" name="l09958"></a><span class="lineno"> 9958</span>}</div>
<div class="ttc" id="astructitype_html_aa656fede37aaf975ab567bcc5c6a452e"><div class="ttname"><a href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">itype::comestible</a></div><div class="ttdeci">cata::value_ptr&lt; islot_comestible &gt; comestible</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00848">itype.h:848</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00848">itype::comestible</a>, <a class="el" href="item_8h_source.html#l02190">craft_data_</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l00481">alcohol()</a>, <a class="el" href="iuse_8cpp_source.html#l01026">iuse::blech()</a>, <a class="el" href="iexamine_8cpp_source.html#l01774">can_drink_nectar()</a>, <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="consumption_8cpp_source.html#l00284">compute_default_effective_vitamins()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00791">game_menus::inv::consume_drink()</a>, <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00776">game_menus::inv::consume_food()</a>, <a class="el" href="player_8cpp_source.html#l01935">player::consume_med()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03883">basecamp::distribute_food()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">player::eat()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00762">avatar_action::eat_here()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="consumption_8cpp_source.html#l00464">Character::fun_for()</a>, <a class="el" href="item_8cpp_source.html#l05371">get_comestible_fun()</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="character__oracle_8cpp_source.html#l00108">behavior::character_oracle_t::has_food()</a>, <a class="el" href="character__oracle_8cpp_source.html#l00099">behavior::character_oracle_t::has_water()</a>, <a class="el" href="item_8cpp_source.html#l06437">is_comestible()</a>, <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>, <a class="el" href="item_8cpp_source.html#l06448">is_medication()</a>, <a class="el" href="item_8cpp_source.html#l01625">med_info()</a>, <a class="el" href="consumption_8cpp_source.html#l01059">Character::modify_morale()</a>, <a class="el" href="iuse_8cpp_source.html#l01076">iuse::plantblech()</a>, <a class="el" href="npcmove_8cpp_source.html#l03745">rate_food()</a>, <a class="el" href="map_8cpp_source.html#l06935">map::rotten_item_spawn()</a>, <a class="el" href="item_8cpp_source.html#l05446">spoilage_sort_order()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>, and <a class="el" href="consumption_8cpp_source.html#l00728">Character::will_eat()</a>.</p>

</div>
</div>
<a id="a66b0bbc211f6fb668781640c971d3acc" name="a66b0bbc211f6fb668781640c971d3acc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66b0bbc211f6fb668781640c971d3acc">&#9670;&nbsp;</a></span>get_comestible_fun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_comestible_fun </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05371">5371</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05372" name="l05372"></a><span class="lineno"> 5372</span>{</div>
<div class="line"><a id="l05373" name="l05373"></a><span class="lineno"> 5373</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() ) {</div>
<div class="line"><a id="l05374" name="l05374"></a><span class="lineno"> 5374</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05375" name="l05375"></a><span class="lineno"> 5375</span>    }</div>
<div class="line"><a id="l05376" name="l05376"></a><span class="lineno"> 5376</span>    <span class="keywordtype">int</span> fun = <a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;fun;</div>
<div class="line"><a id="l05377" name="l05377"></a><span class="lineno"> 5377</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;flag : <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a> ) {</div>
<div class="line"><a id="l05378" name="l05378"></a><span class="lineno"> 5378</span>        fun += <a class="code hl_function" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( flag ).<a class="code hl_function" href="classjson__flag.html#a8c224e9340ff9189219bcf81a43d2e07">taste_mod</a>();</div>
<div class="line"><a id="l05379" name="l05379"></a><span class="lineno"> 5379</span>    }</div>
<div class="line"><a id="l05380" name="l05380"></a><span class="lineno"> 5380</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;flag : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#adc8d0bfd6899a3b8b4868e028c5a2214">get_flags</a>() ) {</div>
<div class="line"><a id="l05381" name="l05381"></a><span class="lineno"> 5381</span>        fun += <a class="code hl_function" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( flag ).<a class="code hl_function" href="classjson__flag.html#a8c224e9340ff9189219bcf81a43d2e07">taste_mod</a>();</div>
<div class="line"><a id="l05382" name="l05382"></a><span class="lineno"> 5382</span>    }</div>
<div class="line"><a id="l05383" name="l05383"></a><span class="lineno"> 5383</span> </div>
<div class="line"><a id="l05384" name="l05384"></a><span class="lineno"> 5384</span>    <span class="keywordflow">return</span> fun;</div>
<div class="line"><a id="l05385" name="l05385"></a><span class="lineno"> 5385</span>}</div>
<div class="ttc" id="aclassitem_html_ac070089c03e5dc687bae39670edd5401"><div class="ttname"><a href="classitem.html#ac070089c03e5dc687bae39670edd5401">item::is_comestible</a></div><div class="ttdeci">bool is_comestible() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06437">item.cpp:6437</a></div></div>
<div class="ttc" id="aclassjson__flag_html_a8c224e9340ff9189219bcf81a43d2e07"><div class="ttname"><a href="classjson__flag.html#a8c224e9340ff9189219bcf81a43d2e07">json_flag::taste_mod</a></div><div class="ttdeci">int taste_mod() const</div><div class="ttdoc">The flag's modifier on the fun value of comestibles.</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00055">flag.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flag_8cpp_source.html#l00070">json_flag::get()</a>, <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, <a class="el" href="itype_8cpp_source.html#l00081">itype::get_flags()</a>, <a class="el" href="item_8cpp_source.html#l06437">is_comestible()</a>, <a class="el" href="item_8h_source.html#l02163">item_tags</a>, <a class="el" href="flag_8h_source.html#l00055">json_flag::taste_mod()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l01026">iuse::blech()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03883">basecamp::distribute_food()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">player::eat()</a>, <a class="el" href="monattack_8cpp_source.html#l00337">mattack::eat_food()</a>, <a class="el" href="consumption_8cpp_source.html#l00464">Character::fun_for()</a>, <a class="el" href="item_8cpp_source.html#l01625">med_info()</a>, <a class="el" href="npcmove_8cpp_source.html#l03745">rate_food()</a>, and <a class="el" href="npc_8cpp_source.html#l02880">npc::will_accept_from_player()</a>.</p>

</div>
</div>
<a id="aeb62f6d93e37bf01af71f795cc39f4f1" name="aeb62f6d93e37bf01af71f795cc39f4f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb62f6d93e37bf01af71f795cc39f4f1">&#9670;&nbsp;</a></span>get_contained()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem.html">item</a> &amp; item::get_contained </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a contained item (if any and only one). </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06890">6890</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06891" name="l06891"></a><span class="lineno"> 6891</span>{</div>
<div class="line"><a id="l06892" name="l06892"></a><span class="lineno"> 6892</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ) {</div>
<div class="line"><a id="l06893" name="l06893"></a><span class="lineno"> 6893</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="item_8cpp.html#a300b99af4ea719590afac661e0bff7a1">null_item_reference</a>();</div>
<div class="line"><a id="l06894" name="l06894"></a><span class="lineno"> 6894</span>    }</div>
<div class="line"><a id="l06895" name="l06895"></a><span class="lineno"> 6895</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l06896" name="l06896"></a><span class="lineno"> 6896</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a300b99af4ea719590afac661e0bff7a1"><div class="ttname"><a href="item_8cpp.html#a300b99af4ea719590afac661e0bff7a1">null_item_reference</a></div><div class="ttdeci">item &amp; null_item_reference()</div><div class="ttdoc">Returns a reference to a null item (see item::is_null).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00319">item.cpp:319</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, and <a class="el" href="item_8cpp_source.html#l00319">null_item_reference()</a>.</p>

<p class="reference">Referenced by <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03883">basecamp::distribute_food()</a>, <a class="el" href="npctrade_8cpp_source.html#l00474">trading_window::get_var_trade()</a>, <a class="el" href="character_8cpp_source.html#l07318">Character::invoke_item()</a>, <a class="el" href="player_8cpp_source.html#l03318">player::rate_action_use()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>, <a class="el" href="avatar_8cpp_source.html#l01226">avatar::wield()</a>, <a class="el" href="game_8cpp_source.html#l09008">game::wield()</a>, and <a class="el" href="npc_8cpp_source.html#l02880">npc::will_accept_from_player()</a>.</p>

</div>
</div>
<a id="acbc651b09ebafad57974d0cfa04b8e5d" name="acbc651b09ebafad57974d0cfa04b8e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbc651b09ebafad57974d0cfa04b8e5d">&#9670;&nbsp;</a></span>get_container_capacity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> item::get_container_capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It returns the total capacity (volume) of the container for liquids. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08239">8239</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08240" name="l08240"></a><span class="lineno"> 8240</span>{</div>
<div class="line"><a id="l08241" name="l08241"></a><span class="lineno"> 8241</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ) {</div>
<div class="line"><a id="l08242" name="l08242"></a><span class="lineno"> 8242</span>        <span class="keywordflow">return</span> 0_ml;</div>
<div class="line"><a id="l08243" name="l08243"></a><span class="lineno"> 8243</span>    }</div>
<div class="line"><a id="l08244" name="l08244"></a><span class="lineno"> 8244</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;contains;</div>
<div class="line"><a id="l08245" name="l08245"></a><span class="lineno"> 8245</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle__part_8cpp_source.html#l00228">vehicle_part::ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="item_8cpp_source.html#l08247">get_total_capacity()</a>, <a class="el" href="item_8cpp_source.html#l06773">is_funnel_container()</a>, <a class="el" href="item__factory_8cpp_source.html#l02683">Item_factory::migrate_item()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, and <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>.</p>

</div>
</div>
<a id="a34e056f70813c85c5b4399cbbdf47f30" name="a34e056f70813c85c5b4399cbbdf47f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34e056f70813c85c5b4399cbbdf47f30">&#9670;&nbsp;</a></span>get_continue_reqs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrequirement__data.html">requirement_data</a> item::get_continue_reqs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns requirement data representing what is needed to resume work on an in progress craft. </p>
<p >Causes a debugmsg and returns empty requirement data if called on a non-craft </p><dl class="section return"><dt>Returns</dt><dd>what is needed to continue craft, may be empty requirement data </dd></dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00963">963</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>{</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;get_continue_reqs() called on non-craft &#39;%s.&#39;  Aborting.&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>        <span class="keywordflow">return</span> <a class="code hl_struct" href="structrequirement__data.html">requirement_data</a>();</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    }</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="structrequirement__data.html#aa3dcaf8b6e213b59959a5117201ef826">requirement_data::continue_requirements</a>( <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;comps_used, <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> );</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>}</div>
<div class="ttc" id="astructrequirement__data_html_aa3dcaf8b6e213b59959a5117201ef826"><div class="ttname"><a href="structrequirement__data.html#aa3dcaf8b6e213b59959a5117201ef826">requirement_data::continue_requirements</a></div><div class="ttdeci">static requirement_data continue_requirements(const std::vector&lt; item_comp &gt; &amp;required_comps, const std::list&lt; item &gt; &amp;remaining_comps)</div><div class="ttdoc">Returns the item requirements to continue an in progress craft with the passed components.</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01113">requirements.cpp:1113</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="requirements_8cpp_source.html#l01113">requirement_data::continue_requirements()</a>, <a class="el" href="item_8h_source.html#l02190">craft_data_</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="a6480d7f6764d23547ce4a504b11954b5" name="a6480d7f6764d23547ce4a504b11954b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6480d7f6764d23547ce4a504b11954b5">&#9670;&nbsp;</a></span>get_corpse_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::get_corpse_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns name of deceased being if it had any or empty string if not. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09741">9741</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09742" name="l09742"></a><span class="lineno"> 9742</span>{</div>
<div class="line"><a id="l09743" name="l09743"></a><span class="lineno"> 9743</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ae6e0d727dd759f898591df93162b8614">corpse_name</a>.empty() ) {</div>
<div class="line"><a id="l09744" name="l09744"></a><span class="lineno"> 9744</span>        <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a id="l09745" name="l09745"></a><span class="lineno"> 9745</span>    }</div>
<div class="line"><a id="l09746" name="l09746"></a><span class="lineno"> 9746</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ae6e0d727dd759f898591df93162b8614">corpse_name</a>;</div>
<div class="line"><a id="l09747" name="l09747"></a><span class="lineno"> 9747</span>}</div>
<div class="ttc" id="aclassitem_html_ae6e0d727dd759f898591df93162b8614"><div class="ttname"><a href="classitem.html#ae6e0d727dd759f898591df93162b8614">item::corpse_name</a></div><div class="ttdeci">std::string corpse_name</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02169">item.h:2169</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02169">corpse_name</a>.</p>

</div>
</div>
<a id="aae86ed52f17bed14dffddbbc618b8afa" name="aae86ed52f17bed14dffddbbc618b8afa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae86ed52f17bed14dffddbbc618b8afa">&#9670;&nbsp;</a></span>get_coverage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_coverage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the relative coverage that this item has when worn. </p>
<p >Values range from 0 (not covering anything, or no armor at all) to 100 (covering the whole body part). Items that cover more are more likely to absorb damage from attacks. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05750">5750</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05751" name="l05751"></a><span class="lineno"> 5751</span>{</div>
<div class="line"><a id="l05752" name="l05752"></a><span class="lineno"> 5752</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l05753" name="l05753"></a><span class="lineno"> 5753</span>    <span class="keywordflow">if</span>( t == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05754" name="l05754"></a><span class="lineno"> 5754</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05755" name="l05755"></a><span class="lineno"> 5755</span>    }</div>
<div class="line"><a id="l05756" name="l05756"></a><span class="lineno"> 5756</span>    <span class="keywordflow">return</span> t-&gt;<a class="code hl_variable" href="structislot__armor.html#a6c6b3bf062dd98af5bff4417bbfb6a0e">coverage</a>;</div>
<div class="line"><a id="l05757" name="l05757"></a><span class="lineno"> 5757</span>}</div>
<div class="ttc" id="astructislot__armor_html_a6c6b3bf062dd98af5bff4417bbfb6a0e"><div class="ttname"><a href="structislot__armor.html#a6c6b3bf062dd98af5bff4417bbfb6a0e">islot_armor::coverage</a></div><div class="ttdeci">int coverage</div><div class="ttdoc">Percentage of the body part area that this item covers.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00255">itype.h:255</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00255">islot_armor::coverage</a>, and <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08272">Character::armor_absorb()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00282">armor_inventory_preset::armor_inventory_preset()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00294">anonymous_namespace{armor_layers.cpp}::clothing_properties()</a>, <a class="el" href="clothing__mod_8cpp_source.html#l00096">clothing_mod::get_mod_val()</a>, <a class="el" href="map__field_8cpp_source.html#l01220">map::player_in_field()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00235">tutorial_game::post_action()</a>, <a class="el" href="character_8cpp_source.html#l03850">wind_resistance_from_item_list()</a>, and <a class="el" href="mondefense_8cpp_source.html#l00048">mdefense::zapback()</a>.</p>

</div>
</div>
<a id="aa370bf267d606ed6098dc9d1c518ebf5" name="aa370bf267d606ed6098dc9d1c518ebf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa370bf267d606ed6098dc9d1c518ebf5">&#9670;&nbsp;</a></span>get_covered_body_parts() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbody__part__set.html">body_part_set</a> item::get_covered_body_parts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bitset of all covered body parts. </p>
<p >If the bit is set, the body part is covered by this item (when worn). The index of the bit should be a body part, for example: </p><div class="fragment"><div class="line"><span class="keywordflow">if</span>( some_armor.get_covered_body_parts().test( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab1635a97e6cc33a051cd378b60e48698">bp_head</a> ) ) { ... } </div>
</div><!-- fragment --><p> For testing only a single body part, use <a class="el" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a> instead. This function allows you to get the whole covering data in one call. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00750">750</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>{</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aa370bf267d606ed6098dc9d1c518ebf5">get_covered_body_parts</a>( <a class="code hl_function" href="classitem.html#aecf84874cbc13ba0ce8a205690747305">get_side</a>() );</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00750">get_covered_body_parts()</a>, and <a class="el" href="item_8cpp_source.html#l00805">get_side()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l04585">npc::adjust_worn()</a>, <a class="el" href="character_8cpp_source.html#l08272">Character::armor_absorb()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="character_8cpp_source.html#l03145">Character::can_swap()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="item_8cpp_source.html#l00745">covers()</a>, <a class="el" href="item_8cpp_source.html#l00750">get_covered_body_parts()</a>, <a class="el" href="character_8cpp_source.html#l03725">layer_item()</a>, <a class="el" href="item_8cpp_source.html#l04185">on_wear()</a>, <a class="el" href="morale_8cpp_source.html#l00951">player_morale::on_worn_item_washed()</a>, <a class="el" href="morale_8cpp_source.html#l01000">player_morale::set_worn()</a>, and <a class="el" href="weather_8cpp_source.html#l00372">weather_effect::wet_player()</a>.</p>

</div>
</div>
<a id="a28eef763e61e3986a0ca58786113749a" name="a28eef763e61e3986a0ca58786113749a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28eef763e61e3986a0ca58786113749a">&#9670;&nbsp;</a></span>get_covered_body_parts() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbody__part__set.html">body_part_set</a> item::get_covered_body_parts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bitset of all covered body parts, from a specific side. </p>
<p >If the bit is set, the body part is covered by this item (when worn). The index of the bit should be a body part, for example: </p><div class="fragment"><div class="line"><span class="keywordflow">if</span>( some_armor.get_covered_body_parts().test( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab1635a97e6cc33a051cd378b60e48698">bp_head</a> ) ) { ... } </div>
</div><!-- fragment --><p> For testing only a single body part, use <a class="el" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a> instead. This function allows you to get the whole covering data in one call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Specifies the side. Will be ignored for non-sided items. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00755">755</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>{</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    <a class="code hl_class" href="classbody__part__set.html">body_part_set</a> res;</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span> </div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>        <span class="comment">// Currently only used for guns with the should strap mod, other guns might</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>        <span class="comment">// go on another bodypart.</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>        res.<a class="code hl_function" href="classbody__part__set.html#a6e283702940781efa731615116bdd070">set</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a> );</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    }</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span> </div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *armor = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    <span class="keywordflow">if</span>( armor == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>        <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    }</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span> </div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    res |= armor-&gt;<a class="code hl_variable" href="structislot__armor.html#a9acc37fdb7909ae064f331d29ded7f68">covers</a>;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span> </div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    <span class="keywordflow">if</span>( !armor-&gt;<a class="code hl_variable" href="structislot__armor.html#a0da3d1bef6cc7dd66499906eadfaf57f">sided</a> ) {</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>        <span class="keywordflow">return</span> res; <span class="comment">// Just ignore the side.</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span> </div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    <span class="keywordflow">switch</span>( s ) {</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">side::BOTH</a>:</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62">side::num_sides</a>:</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">side::LEFT</a>:</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>            res.<a class="code hl_function" href="classbody__part__set.html#a9ff1afd1f2191db23b02937de26f5f71">reset</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a> );</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>            res.<a class="code hl_function" href="classbody__part__set.html#a9ff1afd1f2191db23b02937de26f5f71">reset</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a> );</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>            res.<a class="code hl_function" href="classbody__part__set.html#a9ff1afd1f2191db23b02937de26f5f71">reset</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a> );</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>            res.<a class="code hl_function" href="classbody__part__set.html#a9ff1afd1f2191db23b02937de26f5f71">reset</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a> );</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span> </div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">side::RIGHT</a>:</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>            res.<a class="code hl_function" href="classbody__part__set.html#a9ff1afd1f2191db23b02937de26f5f71">reset</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a> );</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>            res.<a class="code hl_function" href="classbody__part__set.html#a9ff1afd1f2191db23b02937de26f5f71">reset</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a> );</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>            res.<a class="code hl_function" href="classbody__part__set.html#a9ff1afd1f2191db23b02937de26f5f71">reset</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a> );</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            res.<a class="code hl_function" href="classbody__part__set.html#a9ff1afd1f2191db23b02937de26f5f71">reset</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a> );</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>    }</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span> </div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>}</div>
<div class="ttc" id="aclassbody__part__set_html_a6e283702940781efa731615116bdd070"><div class="ttname"><a href="classbody__part__set.html#a6e283702940781efa731615116bdd070">body_part_set::set</a></div><div class="ttdeci">void set(const body_part &amp;bp)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00240">bodypart.h:240</a></div></div>
<div class="ttc" id="aclassbody__part__set_html_a9ff1afd1f2191db23b02937de26f5f71"><div class="ttname"><a href="classbody__part__set.html#a9ff1afd1f2191db23b02937de26f5f71">body_part_set::reset</a></div><div class="ttdeci">void reset(const body_part &amp;bp)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00243">bodypart.h:243</a></div></div>
<div class="ttc" id="astructislot__armor_html_a0da3d1bef6cc7dd66499906eadfaf57f"><div class="ttname"><a href="structislot__armor.html#a0da3d1bef6cc7dd66499906eadfaf57f">islot_armor::sided</a></div><div class="ttdeci">bool sided</div><div class="ttdoc">Whether this item can be worn on either side of the body.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00242">itype.h:242</a></div></div>
<div class="ttc" id="astructislot__armor_html_a9acc37fdb7909ae064f331d29ded7f68"><div class="ttname"><a href="structislot__armor.html#a9acc37fdb7909ae064f331d29ded7f68">islot_armor::covers</a></div><div class="ttdeci">body_part_set covers</div><div class="ttdoc">Bitfield of enum body_part TODO: document me.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00238">itype.h:238</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">BOTH</a>, <a class="el" href="bodypart_8h_source.html#l00044">bp_arm_l</a>, <a class="el" href="bodypart_8h_source.html#l00045">bp_arm_r</a>, <a class="el" href="bodypart_8h_source.html#l00050">bp_foot_l</a>, <a class="el" href="bodypart_8h_source.html#l00051">bp_foot_r</a>, <a class="el" href="bodypart_8h_source.html#l00046">bp_hand_l</a>, <a class="el" href="bodypart_8h_source.html#l00047">bp_hand_r</a>, <a class="el" href="bodypart_8h_source.html#l00048">bp_leg_l</a>, <a class="el" href="bodypart_8h_source.html#l00049">bp_leg_r</a>, <a class="el" href="bodypart_8h_source.html#l00040">bp_torso</a>, <a class="el" href="itype_8h_source.html#l00238">islot_armor::covers</a>, <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">LEFT</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62">num_sides</a>, <a class="el" href="bodypart_8h_source.html#l00243">body_part_set::reset()</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">RIGHT</a>, <a class="el" href="bodypart_8h_source.html#l00240">body_part_set::set()</a>, and <a class="el" href="itype_8h_source.html#l00242">islot_armor::sided</a>.</p>

</div>
</div>
<a id="a30d7889672228732cb7268d7e755ee8b" name="a30d7889672228732cb7268d7e755ee8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d7889672228732cb7268d7e755ee8b">&#9670;&nbsp;</a></span>get_enchantments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classenchantment.html">enchantment</a> &gt; item::get_enchantments </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06823">6823</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06824" name="l06824"></a><span class="lineno"> 6824</span>{</div>
<div class="line"><a id="l06825" name="l06825"></a><span class="lineno"> 6825</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a3604c56b1c776e6f127524867f0c1b7c">is_relic</a>() ) {</div>
<div class="line"><a id="l06826" name="l06826"></a><span class="lineno"> 6826</span>        <span class="keywordflow">return</span> std::vector&lt;enchantment&gt; {};</div>
<div class="line"><a id="l06827" name="l06827"></a><span class="lineno"> 6827</span>    }</div>
<div class="line"><a id="l06828" name="l06828"></a><span class="lineno"> 6828</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a>-&gt;get_enchantments();</div>
<div class="line"><a id="l06829" name="l06829"></a><span class="lineno"> 6829</span>}</div>
<div class="ttc" id="aclassitem_html_a3604c56b1c776e6f127524867f0c1b7c"><div class="ttname"><a href="classitem.html#a3604c56b1c776e6f127524867f0c1b7c">item::is_relic</a></div><div class="ttdeci">bool is_relic() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06818">item.cpp:6818</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06818">is_relic()</a>, and <a class="el" href="item_8h_source.html#l02193">relic_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06831">bonus_from_enchantments()</a>, <a class="el" href="item_8cpp_source.html#l06850">bonus_from_enchantments_wielded()</a>, <a class="el" href="item_8cpp_source.html#l08947">process_relic()</a>, and <a class="el" href="character_8cpp_source.html#l07965">Character::recalculate_enchantment_cache()</a>.</p>

</div>
</div>
<a id="ac242b34e6ae35efdcdd956df3f320e84" name="ac242b34e6ae35efdcdd956df3f320e84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac242b34e6ae35efdcdd956df3f320e84">&#9670;&nbsp;</a></span>get_encumber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_encumber </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the encumbrance value that this item has when worn by given player. </p>
<p >Returns 0 if this is can not be worn at all. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05642">5642</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05643" name="l05643"></a><span class="lineno"> 5643</span>{</div>
<div class="line"><a id="l05644" name="l05644"></a><span class="lineno"> 5644</span> </div>
<div class="line"><a id="l05645" name="l05645"></a><span class="lineno"> 5645</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> contents_volume( 0_ml );</div>
<div class="line"><a id="l05646" name="l05646"></a><span class="lineno"> 5646</span> </div>
<div class="line"><a id="l05647" name="l05647"></a><span class="lineno"> 5647</span>    contents_volume += <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a78b244617d790aa60293b82f356a491b">item_size_modifier</a>();</div>
<div class="line"><a id="l05648" name="l05648"></a><span class="lineno"> 5648</span> </div>
<div class="line"><a id="l05649" name="l05649"></a><span class="lineno"> 5649</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l05650" name="l05650"></a><span class="lineno"> 5650</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l05651" name="l05651"></a><span class="lineno"> 5651</span> </div>
<div class="line"><a id="l05652" name="l05652"></a><span class="lineno"> 5652</span>        <span class="keywordflow">if</span>( t != <span class="keyword">nullptr</span> &amp;&amp; t-&gt;<a class="code hl_variable" href="structislot__armor.html#a409d99d9509c3a12acf98e5d4da89b0c">max_encumber</a> != 0 ) {</div>
<div class="line"><a id="l05653" name="l05653"></a><span class="lineno"> 5653</span>            <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> char_storage( 0_ml );</div>
<div class="line"><a id="l05654" name="l05654"></a><span class="lineno"> 5654</span> </div>
<div class="line"><a id="l05655" name="l05655"></a><span class="lineno"> 5655</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;e : p.<a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l05656" name="l05656"></a><span class="lineno"> 5656</span>                char_storage += e.<a class="code hl_function" href="classitem.html#a9653264e34fbb2b99737e09e0a207df4">get_storage</a>();</div>
<div class="line"><a id="l05657" name="l05657"></a><span class="lineno"> 5657</span>            }</div>
<div class="line"><a id="l05658" name="l05658"></a><span class="lineno"> 5658</span> </div>
<div class="line"><a id="l05659" name="l05659"></a><span class="lineno"> 5659</span>            <span class="keywordflow">if</span>( char_storage != 0_ml ) {</div>
<div class="line"><a id="l05660" name="l05660"></a><span class="lineno"> 5660</span>                <span class="comment">// Cast up to 64 to prevent overflow. Dividing before would prevent this but lose data.</span></div>
<div class="line"><a id="l05661" name="l05661"></a><span class="lineno"> 5661</span>                contents_volume += <a class="code hl_function" href="namespaceunits.html#ae88f75884a4675d88f416f8fc6510558">units::from_milliliter</a>( <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>( t-&gt;<a class="code hl_variable" href="structislot__armor.html#afea4f5875d9a65ab246ad0d6e78e5332">storage</a>.<a class="code hl_function" href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">value</a>() ) *</div>
<div class="line"><a id="l05662" name="l05662"></a><span class="lineno"> 5662</span>                                   p.<a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">volume</a>().<a class="code hl_function" href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">value</a>() / char_storage.value() );</div>
<div class="line"><a id="l05663" name="l05663"></a><span class="lineno"> 5663</span>            }</div>
<div class="line"><a id="l05664" name="l05664"></a><span class="lineno"> 5664</span>        }</div>
<div class="line"><a id="l05665" name="l05665"></a><span class="lineno"> 5665</span>    }</div>
<div class="line"><a id="l05666" name="l05666"></a><span class="lineno"> 5666</span> </div>
<div class="line"><a id="l05667" name="l05667"></a><span class="lineno"> 5667</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a358c2251db699caf33786512138bba54">get_encumber_when_containing</a>( p, contents_volume );</div>
<div class="line"><a id="l05668" name="l05668"></a><span class="lineno"> 5668</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3d69eddc0a03b21378fc68cc08d32c7f"><div class="ttname"><a href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">Character::inv</a></div><div class="ttdeci">inventory inv</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01583">character.h:1583</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4c3defc0d53472077cb7577b30b1605f"><div class="ttname"><a href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">Character::worn</a></div><div class="ttdeci">std::list&lt; item &gt; worn</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01571">character.h:1571</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4d8d747c469431f530acb05c5f7a7f45"><div class="ttname"><a href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">Character::is_worn</a></div><div class="ttdeci">bool is_worn(const item &amp;thing) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01142">character.h:1142</a></div></div>
<div class="ttc" id="aclassinventory_html_aec6a20058fa80f78b727c3524f9a8fb1"><div class="ttname"><a href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">inventory::volume</a></div><div class="ttdeci">units::volume volume() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01050">inventory.cpp:1050</a></div></div>
<div class="ttc" id="aclassitem__contents_html_a78b244617d790aa60293b82f356a491b"><div class="ttname"><a href="classitem__contents.html#a78b244617d790aa60293b82f356a491b">item_contents::item_size_modifier</a></div><div class="ttdeci">units::volume item_size_modifier() const</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00210">item_contents.cpp:210</a></div></div>
<div class="ttc" id="anamespaceunits_html_ae88f75884a4675d88f416f8fc6510558"><div class="ttname"><a href="namespaceunits.html#ae88f75884a4675d88f416f8fc6510558">units::from_milliliter</a></div><div class="ttdeci">constexpr quantity&lt; value_type, volume_in_milliliter_tag &gt; from_milliliter(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units__volume_8h_source.html#l00025">units_volume.h:25</a></div></div>
<div class="ttc" id="astructislot__armor_html_a409d99d9509c3a12acf98e5d4da89b0c"><div class="ttname"><a href="structislot__armor.html#a409d99d9509c3a12acf98e5d4da89b0c">islot_armor::max_encumber</a></div><div class="ttdeci">int max_encumber</div><div class="ttdoc">When storage is full, how much it encumbers the player.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00250">itype.h:250</a></div></div>
<div class="ttc" id="astructislot__armor_html_afea4f5875d9a65ab246ad0d6e78e5332"><div class="ttname"><a href="structislot__armor.html#afea4f5875d9a65ab246ad0d6e78e5332">islot_armor::storage</a></div><div class="ttdeci">units::volume storage</div><div class="ttdoc">How much storage this items provides when worn.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00275">itype.h:275</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="units__volume_8h_source.html#l00025">units::from_milliliter()</a>, <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>, <a class="el" href="item_8cpp_source.html#l05582">get_storage()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="character_8h_source.html#l01142">Character::is_worn()</a>, <a class="el" href="item__contents_8cpp_source.html#l00210">item_contents::item_size_modifier()</a>, <a class="el" href="itype_8h_source.html#l00250">islot_armor::max_encumber</a>, <a class="el" href="itype_8h_source.html#l00275">islot_armor::storage</a>, <a class="el" href="units__def_8h_source.html#l00044">units::quantity&lt; V, U &gt;::value()</a>, <a class="el" href="inventory_8cpp_source.html#l01050">inventory::volume()</a>, and <a class="el" href="character_8h_source.html#l01571">Character::worn</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00282">armor_inventory_preset::armor_inventory_preset()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03252">repair_item_actor::can_repair_target()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00294">anonymous_namespace{armor_layers.cpp}::clothing_properties()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03372">repair_item_actor::default_action()</a>, <a class="el" href="character_8cpp_source.html#l08886">Character::head_cloth_encumbrance()</a>, <a class="el" href="character_8cpp_source.html#l07592">Character::item_wear_cost()</a>, <a class="el" href="character_8cpp_source.html#l03725">layer_item()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="a358c2251db699caf33786512138bba54" name="a358c2251db699caf33786512138bba54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a358c2251db699caf33786512138bba54">&#9670;&nbsp;</a></span>get_encumber_when_containing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_encumber_when_containing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;&#160;</td>
          <td class="paramname"><em>contents_volume</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the encumbrance value that this item has when worn by given player, when containing a particular volume of contents. </p>
<p >Returns 0 if this can not be worn at all. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05670">5670</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05672" name="l05672"></a><span class="lineno"> 5672</span>{</div>
<div class="line"><a id="l05673" name="l05673"></a><span class="lineno"> 5673</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l05674" name="l05674"></a><span class="lineno"> 5674</span>    <span class="keywordflow">if</span>( t == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05675" name="l05675"></a><span class="lineno"> 5675</span>        <span class="comment">// handle wearable guns (e.g. shoulder strap) as special case</span></div>
<div class="line"><a id="l05676" name="l05676"></a><span class="lineno"> 5676</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() / 750_ml : 0;</div>
<div class="line"><a id="l05677" name="l05677"></a><span class="lineno"> 5677</span>    }</div>
<div class="line"><a id="l05678" name="l05678"></a><span class="lineno"> 5678</span>    <span class="keywordtype">int</span> encumber = t-&gt;<a class="code hl_variable" href="structislot__armor.html#aa1099034fd74fdb71f3fae5ce17ea88e">encumber</a>;</div>
<div class="line"><a id="l05679" name="l05679"></a><span class="lineno"> 5679</span> </div>
<div class="line"><a id="l05680" name="l05680"></a><span class="lineno"> 5680</span>    <span class="comment">// Non-rigid items add additional encumbrance proportional to their volume</span></div>
<div class="line"><a id="l05681" name="l05681"></a><span class="lineno"> 5681</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a14fcae616635cf3a66644e0d473a3622">rigid</a> ) {</div>
<div class="line"><a id="l05682" name="l05682"></a><span class="lineno"> 5682</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> capacity = <a class="code hl_function" href="classitem.html#a02f0b48a661f955def6f0fbbe2262a63">get_total_capacity</a>().<a class="code hl_function" href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">value</a>();</div>
<div class="line"><a id="l05683" name="l05683"></a><span class="lineno"> 5683</span> </div>
<div class="line"><a id="l05684" name="l05684"></a><span class="lineno"> 5684</span>        <span class="keywordflow">if</span>( t-&gt;<a class="code hl_variable" href="structislot__armor.html#a409d99d9509c3a12acf98e5d4da89b0c">max_encumber</a> != 0 ) {</div>
<div class="line"><a id="l05685" name="l05685"></a><span class="lineno"> 5685</span> </div>
<div class="line"><a id="l05686" name="l05686"></a><span class="lineno"> 5686</span>            <span class="keywordflow">if</span>( capacity &gt; 0 ) {</div>
<div class="line"><a id="l05687" name="l05687"></a><span class="lineno"> 5687</span>                <span class="comment">// Cast up to 64 to prevent overflow. Dividing before would prevent this but lose data.</span></div>
<div class="line"><a id="l05688" name="l05688"></a><span class="lineno"> 5688</span>                encumber += <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>( t-&gt;<a class="code hl_variable" href="structislot__armor.html#a409d99d9509c3a12acf98e5d4da89b0c">max_encumber</a> - t-&gt;<a class="code hl_variable" href="structislot__armor.html#aa1099034fd74fdb71f3fae5ce17ea88e">encumber</a> ) * contents_volume.<a class="code hl_function" href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">value</a>() /</div>
<div class="line"><a id="l05689" name="l05689"></a><span class="lineno"> 5689</span>                            capacity;</div>
<div class="line"><a id="l05690" name="l05690"></a><span class="lineno"> 5690</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05691" name="l05691"></a><span class="lineno"> 5691</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Non-rigid item (%s) without storage capacity.&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05692" name="l05692"></a><span class="lineno"> 5692</span>            }</div>
<div class="line"><a id="l05693" name="l05693"></a><span class="lineno"> 5693</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05694" name="l05694"></a><span class="lineno"> 5694</span>            encumber += contents_volume / 500_ml;</div>
<div class="line"><a id="l05695" name="l05695"></a><span class="lineno"> 5695</span>        }</div>
<div class="line"><a id="l05696" name="l05696"></a><span class="lineno"> 5696</span>    }</div>
<div class="line"><a id="l05697" name="l05697"></a><span class="lineno"> 5697</span> </div>
<div class="line"><a id="l05698" name="l05698"></a><span class="lineno"> 5698</span>    <span class="comment">// Fit checked before changes, fitting shouldn&#39;t reduce penalties from patching.</span></div>
<div class="line"><a id="l05699" name="l05699"></a><span class="lineno"> 5699</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a> ) ) {</div>
<div class="line"><a id="l05700" name="l05700"></a><span class="lineno"> 5700</span>        encumber = std::max( encumber / 2, encumber - 10 );</div>
<div class="line"><a id="l05701" name="l05701"></a><span class="lineno"> 5701</span>    }</div>
<div class="line"><a id="l05702" name="l05702"></a><span class="lineno"> 5702</span> </div>
<div class="line"><a id="l05703" name="l05703"></a><span class="lineno"> 5703</span>    <span class="comment">// TODO: Should probably have sizing affect coverage</span></div>
<div class="line"><a id="l05704" name="l05704"></a><span class="lineno"> 5704</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="classitem.html#a952452b603e34038ff8dff7ed9422a9c">sizing</a> sizing_level = <a class="code hl_function" href="classitem.html#ab499c1bb4b2c55f0199f8509f6eff6a3">get_sizing</a>( p, encumber != 0 );</div>
<div class="line"><a id="l05705" name="l05705"></a><span class="lineno"> 5705</span>    <span class="keywordflow">switch</span>( sizing_level ) {</div>
<div class="line"><a id="l05706" name="l05706"></a><span class="lineno"> 5706</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">sizing::small_sized_human_char</a>:</div>
<div class="line"><a id="l05707" name="l05707"></a><span class="lineno"> 5707</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">sizing::small_sized_big_char</a>:</div>
<div class="line"><a id="l05708" name="l05708"></a><span class="lineno"> 5708</span>            <span class="comment">// non small characters have a HARD time wearing undersized clothing</span></div>
<div class="line"><a id="l05709" name="l05709"></a><span class="lineno"> 5709</span>            encumber *= 3;</div>
<div class="line"><a id="l05710" name="l05710"></a><span class="lineno"> 5710</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05711" name="l05711"></a><span class="lineno"> 5711</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">sizing::human_sized_small_char</a>:</div>
<div class="line"><a id="l05712" name="l05712"></a><span class="lineno"> 5712</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">sizing::big_sized_small_char</a>:</div>
<div class="line"><a id="l05713" name="l05713"></a><span class="lineno"> 5713</span>            <span class="comment">// clothes bag up around smol characters and encumber them more</span></div>
<div class="line"><a id="l05714" name="l05714"></a><span class="lineno"> 5714</span>            encumber *= 2;</div>
<div class="line"><a id="l05715" name="l05715"></a><span class="lineno"> 5715</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05716" name="l05716"></a><span class="lineno"> 5716</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l05717" name="l05717"></a><span class="lineno"> 5717</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05718" name="l05718"></a><span class="lineno"> 5718</span>    }</div>
<div class="line"><a id="l05719" name="l05719"></a><span class="lineno"> 5719</span> </div>
<div class="line"><a id="l05720" name="l05720"></a><span class="lineno"> 5720</span>    encumber += <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( std::ceil( <a class="code hl_function" href="classitem.html#a487b1c2d4c6e05794c446b231f39d6e8">get_clothing_mod_val</a>( <a class="code hl_enumvalue" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152ac78afc125f0318b59e4a332b4f7775d6">clothing_mod_type_encumbrance</a> ) ) );</div>
<div class="line"><a id="l05721" name="l05721"></a><span class="lineno"> 5721</span> </div>
<div class="line"><a id="l05722" name="l05722"></a><span class="lineno"> 5722</span>    <span class="keywordflow">return</span> encumber;</div>
<div class="line"><a id="l05723" name="l05723"></a><span class="lineno"> 5723</span>}</div>
<div class="ttc" id="aclothing__mod_8h_html_ab129387d97c2c7f0393c210d21df0152ac78afc125f0318b59e4a332b4f7775d6"><div class="ttname"><a href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152ac78afc125f0318b59e4a332b4f7775d6">clothing_mod_type_encumbrance</a></div><div class="ttdeci">@ clothing_mod_type_encumbrance</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00022">clothing_mod.h:22</a></div></div>
<div class="ttc" id="astructislot__armor_html_aa1099034fd74fdb71f3fae5ce17ea88e"><div class="ttname"><a href="structislot__armor.html#aa1099034fd74fdb71f3fae5ce17ea88e">islot_armor::encumber</a></div><div class="ttdeci">int encumber</div><div class="ttdoc">How much this item encumbers the player.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00246">itype.h:246</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">big_sized_small_char</a>, <a class="el" href="clothing__mod_8h_source.html#l00022">clothing_mod_type_encumbrance</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="itype_8h_source.html#l00246">islot_armor::encumber</a>, <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT()</a>, <a class="el" href="item_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE()</a>, <a class="el" href="item_8cpp_source.html#l09970">get_clothing_mod_val()</a>, <a class="el" href="item_8cpp_source.html#l01185">get_sizing()</a>, <a class="el" href="item_8cpp_source.html#l08247">get_total_capacity()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">human_sized_small_char</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="itype_8h_source.html#l00250">islot_armor::max_encumber</a>, <a class="el" href="itype_8h_source.html#l00991">itype::rigid</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">small_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">small_sized_human_char</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="units__def_8h_source.html#l00044">units::quantity&lt; V, U &gt;::value()</a>, and <a class="el" href="item_8cpp_source.html#l04991">volume()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, and <a class="el" href="item_8cpp_source.html#l05642">get_encumber()</a>.</p>

</div>
</div>
<a id="ac56f53ef32f24c048d9e893c9336ec95" name="ac56f53ef32f24c048d9e893c9336ec95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac56f53ef32f24c048d9e893c9336ec95">&#9670;&nbsp;</a></span>get_env_resist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_env_resist </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>override_base_resist</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the resistance to environmental effects (<a class="el" href="structislot__armor.html#a3bf1982fb7e01dcb6f894a43fa689639">islot_armor::env_resist</a>) that this item provides when worn. </p>
<p >See <a class="el" href="classCharacter.html#a8bc4c7c3d24cec4d735cf276e02de93a">player::get_env_resist</a>. Higher values are better. For non-armor it returns 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">override_base_resist</td><td>Pass this to artifically increase the base resistance, so that the function can take care of other modifications to resistance for you. Note that this parameter will never decrease base resistnace. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05613">5613</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05614" name="l05614"></a><span class="lineno"> 5614</span>{</div>
<div class="line"><a id="l05615" name="l05615"></a><span class="lineno"> 5615</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l05616" name="l05616"></a><span class="lineno"> 5616</span>    <span class="keywordflow">if</span>( t == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05617" name="l05617"></a><span class="lineno"> 5617</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">is_pet_armor</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">pet_armor</a>-&gt;env_resist : 0;</div>
<div class="line"><a id="l05618" name="l05618"></a><span class="lineno"> 5618</span>    }</div>
<div class="line"><a id="l05619" name="l05619"></a><span class="lineno"> 5619</span>    <span class="comment">// modify if item is a gas mask and has filter</span></div>
<div class="line"><a id="l05620" name="l05620"></a><span class="lineno"> 5620</span>    <span class="keywordtype">int</span> resist_base = t-&gt;<a class="code hl_variable" href="structislot__armor.html#a3bf1982fb7e01dcb6f894a43fa689639">env_resist</a>;</div>
<div class="line"><a id="l05621" name="l05621"></a><span class="lineno"> 5621</span>    <span class="keywordtype">int</span> resist_filter = <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;overwrite_env_resist&quot;</span>, 0 );</div>
<div class="line"><a id="l05622" name="l05622"></a><span class="lineno"> 5622</span>    <span class="keywordtype">int</span> resist = std::max( { resist_base, resist_filter, override_base_resist } );</div>
<div class="line"><a id="l05623" name="l05623"></a><span class="lineno"> 5623</span> </div>
<div class="line"><a id="l05624" name="l05624"></a><span class="lineno"> 5624</span>    <span class="keywordflow">return</span> std::lround( resist * <a class="code hl_function" href="classitem.html#aa17494d6cb1d70c05f43e99db0a63a39">get_relative_health</a>() );</div>
<div class="line"><a id="l05625" name="l05625"></a><span class="lineno"> 5625</span>}</div>
<div class="ttc" id="aclassitem_html_aa17494d6cb1d70c05f43e99db0a63a39"><div class="ttname"><a href="classitem.html#aa17494d6cb1d70c05f43e99db0a63a39">item::get_relative_health</a></div><div class="ttdeci">float get_relative_health() const</div><div class="ttdoc">Relative item health.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06071">item.cpp:6071</a></div></div>
<div class="ttc" id="astructislot__armor_html_a3bf1982fb7e01dcb6f894a43fa689639"><div class="ttname"><a href="structislot__armor.html#a3bf1982fb7e01dcb6f894a43fa689639">islot_armor::env_resist</a></div><div class="ttdeci">int env_resist</div><div class="ttdoc">Resistance to environmental effects.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00263">itype.h:263</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00263">islot_armor::env_resist</a>, <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="item_8cpp_source.html#l06071">get_relative_health()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="itype_8h_source.html#l00851">itype::pet_armor</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05977">acid_resist()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00282">armor_inventory_preset::armor_inventory_preset()</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00314">anonymous_namespace{armor_layers.cpp}::clothing_protection()</a>, <a class="el" href="item_8cpp_source.html#l06011">fire_resist()</a>, and <a class="el" href="gamemode__tutorial_8cpp_source.html#l00235">tutorial_game::post_action()</a>.</p>

</div>
</div>
<a id="a474a143a408920b4bcecbe6a36c7287d" name="a474a143a408920b4bcecbe6a36c7287d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a474a143a408920b4bcecbe6a36c7287d">&#9670;&nbsp;</a></span>get_explosion_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfuel__explosion.html">fuel_explosion</a> item::get_explosion_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06681">6681</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06682" name="l06682"></a><span class="lineno"> 6682</span>{</div>
<div class="line"><a id="l06683" name="l06683"></a><span class="lineno"> 6683</span>    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code hl_struct" href="structfuel__explosion.html">fuel_explosion</a> null_data;</div>
<div class="line"><a id="l06684" name="l06684"></a><span class="lineno"> 6684</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a39e79f886f257aaaa199a7c2351993b7">has_explosion_data</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9599d60ae3f70f8791bf108a4bde877b">fuel</a>-&gt;explosion_data : null_data;</div>
<div class="line"><a id="l06685" name="l06685"></a><span class="lineno"> 6685</span>}</div>
<div class="ttc" id="aclassitem_html_a39e79f886f257aaaa199a7c2351993b7"><div class="ttname"><a href="classitem.html#a39e79f886f257aaaa199a7c2351993b7">item::has_explosion_data</a></div><div class="ttdeci">bool has_explosion_data() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06676">item.cpp:6676</a></div></div>
<div class="ttc" id="astructfuel__explosion_html"><div class="ttname"><a href="structfuel__explosion.html">fuel_explosion</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00441">itype.h:441</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00075">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle_8cpp_source.html#l06409">vehicle::explode_fuel()</a>.</p>

</div>
</div>
<a id="a054cbf5ac79938bbfb527bb0314043b1" name="a054cbf5ac79938bbfb527bb0314043b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a054cbf5ac79938bbfb527bb0314043b1">&#9670;&nbsp;</a></span>get_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem.html#a8dc4dc3c88665a905f8bed08cfa52e74">item::FlagsSetType</a> &amp; item::get_flags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returs read-only set of flags of this item (not including flags from item type or gunmods) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05242">5242</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05243" name="l05243"></a><span class="lineno"> 5243</span>{</div>
<div class="line"><a id="l05244" name="l05244"></a><span class="lineno"> 5244</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>;</div>
<div class="line"><a id="l05245" name="l05245"></a><span class="lineno"> 5245</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02163">item_tags</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>.</p>

</div>
</div>
<a id="acab4550c97cabd8d8067e5e53b001178" name="acab4550c97cabd8d8067e5e53b001178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acab4550c97cabd8d8067e5e53b001178">&#9670;&nbsp;</a></span>get_food() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * item::get_food </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06492">6492</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06493" name="l06493"></a><span class="lineno"> 6493</span>{</div>
<div class="line"><a id="l06494" name="l06494"></a><span class="lineno"> 6494</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="item_8cpp.html#ab80849566151d8e8d33fffd5503acf69">get_food_impl</a>( <span class="keyword">this</span> );</div>
<div class="line"><a id="l06495" name="l06495"></a><span class="lineno"> 6495</span>}</div>
<div class="ttc" id="aitem_8cpp_html_ab80849566151d8e8d33fffd5503acf69"><div class="ttname"><a href="item_8cpp.html#ab80849566151d8e8d33fffd5503acf69">get_food_impl</a></div><div class="ttdeci">static Item * get_food_impl(Item *it)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06481">item.cpp:6481</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06481">get_food_impl()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="npcmove_8cpp_source.html#l03863">npc::consume_food()</a>, <a class="el" href="npc_8cpp_source.html#l01483">npc::decide_needs()</a>, <a class="el" href="clzones_8cpp_source.html#l00846">zone_manager::get_near_zone_type_for_item()</a>, and <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a06050bd322b8f22a9361a9ed0fd998dc" name="a06050bd322b8f22a9361a9ed0fd998dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06050bd322b8f22a9361a9ed0fd998dc">&#9670;&nbsp;</a></span>get_food() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem.html">item</a> * item::get_food </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06497">6497</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06498" name="l06498"></a><span class="lineno"> 6498</span>{</div>
<div class="line"><a id="l06499" name="l06499"></a><span class="lineno"> 6499</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="item_8cpp.html#ab80849566151d8e8d33fffd5503acf69">get_food_impl</a>( <span class="keyword">this</span> );</div>
<div class="line"><a id="l06500" name="l06500"></a><span class="lineno"> 6500</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06481">get_food_impl()</a>.</p>

</div>
</div>
<a id="ad345f0faefeda773220f01b75acb9f28" name="ad345f0faefeda773220f01b75acb9f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad345f0faefeda773220f01b75acb9f28">&#9670;&nbsp;</a></span>get_free_mod_locations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_free_mod_locations </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgunmod__location.html">gunmod_location</a> &amp;&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of mods that can still be installed into the given mod location, for non-guns it always returns 0. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03985">3985</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03986" name="l03986"></a><span class="lineno"> 3986</span>{</div>
<div class="line"><a id="l03987" name="l03987"></a><span class="lineno"> 3987</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l03988" name="l03988"></a><span class="lineno"> 3988</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03989" name="l03989"></a><span class="lineno"> 3989</span>    }</div>
<div class="line"><a id="l03990" name="l03990"></a><span class="lineno"> 3990</span> </div>
<div class="line"><a id="l03991" name="l03991"></a><span class="lineno"> 3991</span>    std::map&lt;gunmod_location, int&gt; mod_locations = <a class="code hl_function" href="classitem.html#a727917284cddff4dbf0113d1329fec51">get_mod_locations</a>();</div>
<div class="line"><a id="l03992" name="l03992"></a><span class="lineno"> 3992</span> </div>
<div class="line"><a id="l03993" name="l03993"></a><span class="lineno"> 3993</span>    <span class="keyword">const</span> <span class="keyword">auto</span> loc = mod_locations.find( location );</div>
<div class="line"><a id="l03994" name="l03994"></a><span class="lineno"> 3994</span>    <span class="keywordflow">if</span>( loc == mod_locations.end() ) {</div>
<div class="line"><a id="l03995" name="l03995"></a><span class="lineno"> 3995</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03996" name="l03996"></a><span class="lineno"> 3996</span>    }</div>
<div class="line"><a id="l03997" name="l03997"></a><span class="lineno"> 3997</span>    <span class="keywordtype">int</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = loc-&gt;second;</div>
<div class="line"><a id="l03998" name="l03998"></a><span class="lineno"> 3998</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *elem : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l03999" name="l03999"></a><span class="lineno"> 3999</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1value__ptr.html">cata::value_ptr&lt;islot_gunmod&gt;</a> &amp;<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = elem-&gt;type-&gt;gunmod;</div>
<div class="line"><a id="l04000" name="l04000"></a><span class="lineno"> 4000</span>        <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> &amp;&amp; <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;location == location ) {</div>
<div class="line"><a id="l04001" name="l04001"></a><span class="lineno"> 4001</span>            <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>--;</div>
<div class="line"><a id="l04002" name="l04002"></a><span class="lineno"> 4002</span>        }</div>
<div class="line"><a id="l04003" name="l04003"></a><span class="lineno"> 4003</span>    }</div>
<div class="line"><a id="l04004" name="l04004"></a><span class="lineno"> 4004</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l04005" name="l04005"></a><span class="lineno"> 4005</span>}</div>
<div class="ttc" id="aclasscata_1_1value__ptr_html"><div class="ttname"><a href="classcata_1_1value__ptr.html">cata::value_ptr</a></div><div class="ttdoc">This class is essentially a copyable unique pointer.</div><div class="ttdef"><b>Definition:</b> <a href="value__ptr_8h_source.html#l00018">value_ptr.h:19</a></div></div>
<div class="ttc" id="aclassitem_html_a727917284cddff4dbf0113d1329fec51"><div class="ttname"><a href="classitem.html#a727917284cddff4dbf0113d1329fec51">item::get_mod_locations</a></div><div class="ttdeci">std::map&lt; gunmod_location, int &gt; get_mod_locations() const</div><div class="ttdoc">Get mod locations, including those added by other mods.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03968">item.cpp:3968</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01626">fmtlib_format-inl.h:1626</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8cpp_source.html#l03968">get_mod_locations()</a>, and <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="player_8cpp_source.html#l03435">player::gunmod_remove()</a>, and <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>.</p>

</div>
</div>
<a id="af6bd135500675d45eb9b79b196d9558e" name="af6bd135500675d45eb9b79b196d9558e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6bd135500675d45eb9b79b196d9558e">&#9670;&nbsp;</a></span>get_gun_ups_drain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_gun_ups_drain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09759">9759</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09760" name="l09760"></a><span class="lineno"> 9760</span>{</div>
<div class="line"><a id="l09761" name="l09761"></a><span class="lineno"> 9761</span>    <span class="keywordtype">int</span> draincount = 0;</div>
<div class="line"><a id="l09762" name="l09762"></a><span class="lineno"> 9762</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> ) {</div>
<div class="line"><a id="l09763" name="l09763"></a><span class="lineno"> 9763</span>        <span class="keywordtype">int</span> modifier = 0;</div>
<div class="line"><a id="l09764" name="l09764"></a><span class="lineno"> 9764</span>        <span class="keywordtype">float</span> multiplier = 1.0f;</div>
<div class="line"><a id="l09765" name="l09765"></a><span class="lineno"> 9765</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l09766" name="l09766"></a><span class="lineno"> 9766</span>            modifier += <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;ups_charges_modifier;</div>
<div class="line"><a id="l09767" name="l09767"></a><span class="lineno"> 9767</span>            multiplier *= <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;ups_charges_multiplier;</div>
<div class="line"><a id="l09768" name="l09768"></a><span class="lineno"> 9768</span>        }</div>
<div class="line"><a id="l09769" name="l09769"></a><span class="lineno"> 9769</span>        draincount = ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ups_charges * multiplier ) + modifier;</div>
<div class="line"><a id="l09770" name="l09770"></a><span class="lineno"> 9770</span>    }</div>
<div class="line"><a id="l09771" name="l09771"></a><span class="lineno"> 9771</span>    <span class="keywordflow">return</span> draincount;</div>
<div class="line"><a id="l09772" name="l09772"></a><span class="lineno"> 9772</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l06497">Character::ammo_count_for()</a>, <a class="el" href="bionics_8cpp_source.html#l00463">npc::check_or_use_weapon_cbm()</a>, <a class="el" href="npc_8cpp_source.html#l01483">npc::decide_needs()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="ranged_8cpp_source.html#l03683">ranged::gunmode_checks_weapon()</a>, <a class="el" href="turret_8cpp_source.html#l00232">turret_data::query()</a>, and <a class="el" href="ranged_8cpp_source.html#l03036">target_ui::update_ammo_range_from_gun_mode()</a>.</p>

</div>
</div>
<a id="a21481dceb4ee5fb0cf0ce84fbe855e39" name="a21481dceb4ee5fb0cf0ce84fbe855e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21481dceb4ee5fb0cf0ce84fbe855e39">&#9670;&nbsp;</a></span>get_layer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0">layer_level</a> item::get_layer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns clothing layer for item. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05725">5725</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05726" name="l05726"></a><span class="lineno"> 5726</span>{</div>
<div class="line"><a id="l05727" name="l05727"></a><span class="lineno"> 5727</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7099f3ad89573870d81ce764d6cccb04">armor</a> ) {</div>
<div class="line"><a id="l05728" name="l05728"></a><span class="lineno"> 5728</span>        <span class="comment">// We assume that an item will never have per-item flags defining its</span></div>
<div class="line"><a id="l05729" name="l05729"></a><span class="lineno"> 5729</span>        <span class="comment">// layer, so we can defer to the itype.</span></div>
<div class="line"><a id="l05730" name="l05730"></a><span class="lineno"> 5730</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a5b106ac527c4c0b217fb2e3c704efce4">layer</a>;</div>
<div class="line"><a id="l05731" name="l05731"></a><span class="lineno"> 5731</span>    }</div>
<div class="line"><a id="l05732" name="l05732"></a><span class="lineno"> 5732</span> </div>
<div class="line"><a id="l05733" name="l05733"></a><span class="lineno"> 5733</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ad21f0b7d4a811598d98780bfb162aa8e">flag_PERSONAL</a> ) ) {</div>
<div class="line"><a id="l05734" name="l05734"></a><span class="lineno"> 5734</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a72cee25119b7b609ebf592aec969a2bd">PERSONAL_LAYER</a>;</div>
<div class="line"><a id="l05735" name="l05735"></a><span class="lineno"> 5735</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a539171e26650f9a9e0128f706ed57c7c">flag_SKINTIGHT</a> ) ) {</div>
<div class="line"><a id="l05736" name="l05736"></a><span class="lineno"> 5736</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a282cebee3086bff2b441079fabb0fb78">UNDERWEAR_LAYER</a>;</div>
<div class="line"><a id="l05737" name="l05737"></a><span class="lineno"> 5737</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a049ecf75dafbf3d8c18e7fb19c29646b">flag_WAIST</a> ) ) {</div>
<div class="line"><a id="l05738" name="l05738"></a><span class="lineno"> 5738</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a1798d33bd4670133e7d8d2c2609b7cb8">WAIST_LAYER</a>;</div>
<div class="line"><a id="l05739" name="l05739"></a><span class="lineno"> 5739</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a84f34ef54c48bd2b3e6a86cdef914e4f">flag_OUTER</a> ) ) {</div>
<div class="line"><a id="l05740" name="l05740"></a><span class="lineno"> 5740</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0aedecd660b78c8063a26ae7a4f3e7f170">OUTER_LAYER</a>;</div>
<div class="line"><a id="l05741" name="l05741"></a><span class="lineno"> 5741</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a0acfb8cda610138cb8dc7a0eb0bcfe4c">flag_BELTED</a> ) ) {</div>
<div class="line"><a id="l05742" name="l05742"></a><span class="lineno"> 5742</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a6f2948421e2b71cc1b6919b2bc52b8e0">BELTED_LAYER</a>;</div>
<div class="line"><a id="l05743" name="l05743"></a><span class="lineno"> 5743</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab0e722b4d6c8fdcebccff1bc1c5ffea4">flag_AURA</a> ) ) {</div>
<div class="line"><a id="l05744" name="l05744"></a><span class="lineno"> 5744</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0aac956a1c8054985cc7855e3d4718df12">AURA_LAYER</a>;</div>
<div class="line"><a id="l05745" name="l05745"></a><span class="lineno"> 5745</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05746" name="l05746"></a><span class="lineno"> 5746</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a46c73803e6b0befade99fd510c81a860">REGULAR_LAYER</a>;</div>
<div class="line"><a id="l05747" name="l05747"></a><span class="lineno"> 5747</span>    }</div>
<div class="line"><a id="l05748" name="l05748"></a><span class="lineno"> 5748</span>}</div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0a1798d33bd4670133e7d8d2c2609b7cb8"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a1798d33bd4670133e7d8d2c2609b7cb8">WAIST_LAYER</a></div><div class="ttdeci">@ WAIST_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00222">enums.h:222</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0a282cebee3086bff2b441079fabb0fb78"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a282cebee3086bff2b441079fabb0fb78">UNDERWEAR_LAYER</a></div><div class="ttdeci">@ UNDERWEAR_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00218">enums.h:218</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0a46c73803e6b0befade99fd510c81a860"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a46c73803e6b0befade99fd510c81a860">REGULAR_LAYER</a></div><div class="ttdeci">@ REGULAR_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00220">enums.h:220</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0a6f2948421e2b71cc1b6919b2bc52b8e0"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a6f2948421e2b71cc1b6919b2bc52b8e0">BELTED_LAYER</a></div><div class="ttdeci">@ BELTED_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00226">enums.h:226</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0a72cee25119b7b609ebf592aec969a2bd"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a72cee25119b7b609ebf592aec969a2bd">PERSONAL_LAYER</a></div><div class="ttdeci">@ PERSONAL_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00216">enums.h:216</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0aac956a1c8054985cc7855e3d4718df12"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0aac956a1c8054985cc7855e3d4718df12">AURA_LAYER</a></div><div class="ttdeci">@ AURA_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00228">enums.h:228</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0aedecd660b78c8063a26ae7a4f3e7f170"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0aedecd660b78c8063a26ae7a4f3e7f170">OUTER_LAYER</a></div><div class="ttdeci">@ OUTER_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00224">enums.h:224</a></div></div>
<div class="ttc" id="astructitype_html_a5b106ac527c4c0b217fb2e3c704efce4"><div class="ttname"><a href="structitype.html#a5b106ac527c4c0b217fb2e3c704efce4">itype::layer</a></div><div class="ttdeci">layer_level layer</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01028">itype.h:1028</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00850">itype::armor</a>, <a class="el" href="enums_8h_source.html#l00228">AURA_LAYER</a>, <a class="el" href="enums_8h_source.html#l00226">BELTED_LAYER</a>, <a class="el" href="item_8cpp.html#ab0e722b4d6c8fdcebccff1bc1c5ffea4">flag_AURA()</a>, <a class="el" href="item_8cpp.html#a0acfb8cda610138cb8dc7a0eb0bcfe4c">flag_BELTED()</a>, <a class="el" href="item_8cpp.html#a84f34ef54c48bd2b3e6a86cdef914e4f">flag_OUTER()</a>, <a class="el" href="item_8cpp.html#ad21f0b7d4a811598d98780bfb162aa8e">flag_PERSONAL()</a>, <a class="el" href="item_8cpp.html#a539171e26650f9a9e0128f706ed57c7c">flag_SKINTIGHT()</a>, <a class="el" href="item_8cpp.html#a049ecf75dafbf3d8c18e7fb19c29646b">flag_WAIST()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="itype_8h_source.html#l01028">itype::layer</a>, <a class="el" href="enums_8h_source.html#l00224">OUTER_LAYER</a>, <a class="el" href="enums_8h_source.html#l00216">PERSONAL_LAYER</a>, <a class="el" href="enums_8h_source.html#l00220">REGULAR_LAYER</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="enums_8h_source.html#l00218">UNDERWEAR_LAYER</a>, and <a class="el" href="enums_8h_source.html#l00222">WAIST_LAYER</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l07592">Character::item_wear_cost()</a>, <a class="el" href="profession_8cpp_source.html#l00389">profession::items()</a>, and <a class="el" href="character_8cpp_source.html#l03725">layer_item()</a>.</p>

</div>
</div>
<a id="a685baa0530bf9e4cb57c2cea27ed332b" name="a685baa0530bf9e4cb57c2cea27ed332b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a685baa0530bf9e4cb57c2cea27ed332b">&#9670;&nbsp;</a></span>get_making()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classrecipe.html">recipe</a> &amp; item::get_making </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the stored recipe for in progress crafts. </p>
<p >Causes a debugmsg if called on a non-craft and returns the null recipe. </p><dl class="section return"><dt>Returns</dt><dd>the recipe in progress </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09916">9916</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09917" name="l09917"></a><span class="lineno"> 9917</span>{</div>
<div class="line"><a id="l09918" name="l09918"></a><span class="lineno"> 9918</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> ) {</div>
<div class="line"><a id="l09919" name="l09919"></a><span class="lineno"> 9919</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;&#39;%s&#39; is not a craft or has a null recipe&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09920" name="l09920"></a><span class="lineno"> 9920</span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> dummy{};</div>
<div class="line"><a id="l09921" name="l09921"></a><span class="lineno"> 9921</span>        <span class="keywordflow">return</span> dummy;</div>
<div class="line"><a id="l09922" name="l09922"></a><span class="lineno"> 9922</span>    }</div>
<div class="line"><a id="l09923" name="l09923"></a><span class="lineno"> 9923</span>    assert( <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;making );</div>
<div class="line"><a id="l09924" name="l09924"></a><span class="lineno"> 9924</span>    <span class="keywordflow">return</span> *<a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;making;</div>
<div class="line"><a id="l09925" name="l09925"></a><span class="lineno"> 9925</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02190">craft_data_</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>, <a class="el" href="crafting_8cpp_source.html#l00918">handle_craft_failure()</a>, and <a class="el" href="crafting_8cpp_source.html#l00892">set_next_failure_point()</a>.</p>

</div>
</div>
<a id="a2899a37f781e1efea9465a98277141c7" name="a2899a37f781e1efea9465a98277141c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2899a37f781e1efea9465a98277141c7">&#9670;&nbsp;</a></span>get_min_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_min_str </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09871">9871</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09872" name="l09872"></a><span class="lineno"> 9872</span>{</div>
<div class="line"><a id="l09873" name="l09873"></a><span class="lineno"> 9873</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> ) {</div>
<div class="line"><a id="l09874" name="l09874"></a><span class="lineno"> 9874</span>        <span class="keywordtype">int</span> min_str = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad8c03a65fe401a2c39c5f76116a46164">min_str</a>;</div>
<div class="line"><a id="l09875" name="l09875"></a><span class="lineno"> 9875</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l09876" name="l09876"></a><span class="lineno"> 9876</span>            min_str += <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;min_str_required_mod;</div>
<div class="line"><a id="l09877" name="l09877"></a><span class="lineno"> 9877</span>        }</div>
<div class="line"><a id="l09878" name="l09878"></a><span class="lineno"> 9878</span>        <span class="keywordflow">return</span> min_str &gt; 0 ? min_str : 0;</div>
<div class="line"><a id="l09879" name="l09879"></a><span class="lineno"> 9879</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09880" name="l09880"></a><span class="lineno"> 9880</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad8c03a65fe401a2c39c5f76116a46164">min_str</a>;</div>
<div class="line"><a id="l09881" name="l09881"></a><span class="lineno"> 9881</span>    }</div>
<div class="line"><a id="l09882" name="l09882"></a><span class="lineno"> 9882</span>}</div>
<div class="ttc" id="astructitype_html_ad8c03a65fe401a2c39c5f76116a46164"><div class="ttname"><a href="structitype.html#ad8c03a65fe401a2c39c5f76116a46164">itype::min_str</a></div><div class="ttdeci">int min_str</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00937">itype.h:937</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="itype_8h_source.html#l00937">itype::min_str</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="character_8cpp_source.html#l03347">Character::enumerate_unmet_requirements()</a>, <a class="el" href="ranged_8cpp_source.html#l00995">ranged::get_str_draw_penalty()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00251">aim_activity_actor::load_RAS_weapon()</a>, <a class="el" href="character_8cpp_source.html#l03427">Character::meets_stat_requirements()</a>, <a class="el" href="ranged_8cpp_source.html#l01007">ranged::str_draw_damage_modifier()</a>, <a class="el" href="ranged_8cpp_source.html#l01021">ranged::str_draw_dispersion_modifier()</a>, and <a class="el" href="ranged_8cpp_source.html#l01033">ranged::str_draw_range_modifier()</a>.</p>

</div>
</div>
<a id="a727917284cddff4dbf0113d1329fec51" name="a727917284cddff4dbf0113d1329fec51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a727917284cddff4dbf0113d1329fec51">&#9670;&nbsp;</a></span>get_mod_locations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; <a class="el" href="classgunmod__location.html">gunmod_location</a>, int &gt; item::get_mod_locations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get mod locations, including those added by other mods. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03968">3968</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03969" name="l03969"></a><span class="lineno"> 3969</span>{</div>
<div class="line"><a id="l03970" name="l03970"></a><span class="lineno"> 3970</span>    std::map&lt;gunmod_location, int&gt; mod_locations = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;valid_mod_locations;</div>
<div class="line"><a id="l03971" name="l03971"></a><span class="lineno"> 3971</span> </div>
<div class="line"><a id="l03972" name="l03972"></a><span class="lineno"> 3972</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l03973" name="l03973"></a><span class="lineno"> 3973</span>        <span class="keywordflow">if</span>( !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;add_mod.empty() ) {</div>
<div class="line"><a id="l03974" name="l03974"></a><span class="lineno"> 3974</span>            std::map&lt;gunmod_location, int&gt; add_locations = <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;add_mod;</div>
<div class="line"><a id="l03975" name="l03975"></a><span class="lineno"> 3975</span> </div>
<div class="line"><a id="l03976" name="l03976"></a><span class="lineno"> 3976</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const gunmod_location, int&gt; &amp;add_location : add_locations ) {</div>
<div class="line"><a id="l03977" name="l03977"></a><span class="lineno"> 3977</span>                mod_locations[add_location.first] += add_location.second;</div>
<div class="line"><a id="l03978" name="l03978"></a><span class="lineno"> 3978</span>            }</div>
<div class="line"><a id="l03979" name="l03979"></a><span class="lineno"> 3979</span>        }</div>
<div class="line"><a id="l03980" name="l03980"></a><span class="lineno"> 3980</span>    }</div>
<div class="line"><a id="l03981" name="l03981"></a><span class="lineno"> 3981</span> </div>
<div class="line"><a id="l03982" name="l03982"></a><span class="lineno"> 3982</span>    <span class="keywordflow">return</span> mod_locations;</div>
<div class="line"><a id="l03983" name="l03983"></a><span class="lineno"> 3983</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03985">get_free_mod_locations()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="player_8cpp_source.html#l03435">player::gunmod_remove()</a>, and <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>.</p>

</div>
</div>
<a id="a66ba4b05a8ea5f9f15e4694027235aae" name="a66ba4b05a8ea5f9f15e4694027235aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66ba4b05a8ea5f9f15e4694027235aae">&#9670;&nbsp;</a></span>get_mtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structmtype.html">mtype</a> * item::get_mtype </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The monster type associated with this item (<a class="el" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>). It is usually the type that this item is made of (e.g. corpse, meat or blood of the monster). May return a null-pointer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06475">6475</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06476" name="l06476"></a><span class="lineno"> 6476</span>{</div>
<div class="line"><a id="l06477" name="l06477"></a><span class="lineno"> 6477</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>;</div>
<div class="line"><a id="l06478" name="l06478"></a><span class="lineno"> 6478</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02168">corpse</a>.</p>

<p class="reference">Referenced by <a class="el" href="computer__session_8cpp_source.html#l00744">computer_session::action_blood_anal()</a>, <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01126">activity_handlers::butcher_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00762">butcher_time_to_cut()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00866">butchery_drops_harvest()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01114">butchery_quarter()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00531">consider_butchery()</a>, <a class="el" href="editmap_8cpp_source.html#l00503">editmap::draw_main_ui_overlay()</a>, and <a class="el" href="game_8cpp_source.html#l05155">game::revive_corpse()</a>.</p>

</div>
</div>
<a id="ab52c68a1c6d56a8cbebfd619d0768b45" name="ab52c68a1c6d56a8cbebfd619d0768b45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab52c68a1c6d56a8cbebfd619d0768b45">&#9670;&nbsp;</a></span>get_next_failure_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_next_failure_point </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the failure point stored in this item. </p>
<p >returns INT_MAX if the failure point is unset. Causes a debugmsg and returns INT_MAX if called on a non-craft. </p><dl class="section return"><dt>Returns</dt><dd>an integer &gt;= 0 representing a percent to 5 decimal places. 67.32 percent would be represented as 6732000 </dd></dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00883">883</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>{</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;get_next_failure_point() called on non-craft &#39;%s.&#39;  Aborting.&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>        <span class="keywordflow">return</span> INT_MAX;</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>    }</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;next_failure_point &gt;= 0 ? <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;next_failure_point : INT_MAX;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02190">craft_data_</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="ab0d353c3b6df035982eab3dc22d0b196" name="ab0d353c3b6df035982eab3dc22d0b196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0d353c3b6df035982eab3dc22d0b196">&#9670;&nbsp;</a></span>get_old_owner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> item::get_old_owner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01290">1290</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>{</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>    <a class="code hl_function" href="classitem.html#a381a3d667caa4c26c8961fd08f3c5a7f">validate_ownership</a>();</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a155a45ada3eb970d006b701a50026c27">old_owner</a>;</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>}</div>
<div class="ttc" id="aclassitem_html_a155a45ada3eb970d006b701a50026c27"><div class="ttname"><a href="classitem.html#a155a45ada3eb970d006b701a50026c27">item::old_owner</a></div><div class="ttdeci">faction_id old_owner</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02227">item.h:2227</a></div></div>
<div class="ttc" id="aclassitem_html_a381a3d667caa4c26c8961fd08f3c5a7f"><div class="ttname"><a href="classitem.html#a381a3d667caa4c26c8961fd08f3c5a7f">item::validate_ownership</a></div><div class="ttdeci">void validate_ownership() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01296">item.cpp:1296</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02227">old_owner</a>, and <a class="el" href="item_8cpp_source.html#l01296">validate_ownership()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01254">is_old_owner()</a>.</p>

</div>
</div>
<a id="a326dae8709070c316f6859ef0704bf85" name="a326dae8709070c316f6859ef0704bf85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a326dae8709070c316f6859ef0704bf85">&#9670;&nbsp;</a></span>get_owner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> item::get_owner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01284">1284</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>{</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    <a class="code hl_function" href="classitem.html#a381a3d667caa4c26c8961fd08f3c5a7f">validate_ownership</a>();</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a>;</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02225">owner</a>, and <a class="el" href="item_8cpp_source.html#l01296">validate_ownership()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="item_8cpp_source.html#l01266">get_owner_name()</a>, <a class="el" href="item_8cpp_source.html#l04364">handle_pickup_ownership()</a>, <a class="el" href="item_8cpp_source.html#l01239">is_owned_by()</a>, and <a class="el" href="player_8cpp_source.html#l01985">query_consume_ownership()</a>.</p>

</div>
</div>
<a id="ae490218700ff9658235247b46ba75a56" name="ae490218700ff9658235247b46ba75a56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae490218700ff9658235247b46ba75a56">&#9670;&nbsp;</a></span>get_owner_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::get_owner_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01266">1266</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>{</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;get( <a class="code hl_function" href="classitem.html#a326dae8709070c316f6859ef0704bf85">get_owner</a>() ) ) {</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;item::get_owner_name() item %s has no valid nor null faction id &quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;no owner&quot;</span>;</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    }</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;get( <a class="code hl_function" href="classitem.html#a326dae8709070c316f6859ef0704bf85">get_owner</a>() )-&gt;name;</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>}</div>
<div class="ttc" id="aclassitem_html_a326dae8709070c316f6859ef0704bf85"><div class="ttname"><a href="classitem.html#a326dae8709070c316f6859ef0704bf85">item::get_owner</a></div><div class="ttdeci">faction_id get_owner() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01284">item.cpp:1284</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l01284">get_owner()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>.</p>

</div>
</div>
<a id="ae1413304deaa3b421aa4b4f252ea93d3" name="ae1413304deaa3b421aa4b4f252ea93d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1413304deaa3b421aa4b4f252ea93d3">&#9670;&nbsp;</a></span>get_pet_armor_bodytype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::get_pet_armor_bodytype </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05791">5791</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05792" name="l05792"></a><span class="lineno"> 5792</span>{</div>
<div class="line"><a id="l05793" name="l05793"></a><span class="lineno"> 5793</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">is_pet_armor</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">pet_armor</a>-&gt;bodytype : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l05794" name="l05794"></a><span class="lineno"> 5794</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="itype_8h_source.html#l00851">itype::pet_armor</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a6859ce2b8c50444a4991d773b490d58f" name="a6859ce2b8c50444a4991d773b490d58f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6859ce2b8c50444a4991d773b490d58f">&#9670;&nbsp;</a></span>get_pet_armor_max_vol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> item::get_pet_armor_max_vol </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05781">5781</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05782" name="l05782"></a><span class="lineno"> 5782</span>{</div>
<div class="line"><a id="l05783" name="l05783"></a><span class="lineno"> 5783</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">is_pet_armor</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">pet_armor</a>-&gt;max_vol : 0_ml;</div>
<div class="line"><a id="l05784" name="l05784"></a><span class="lineno"> 5784</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="itype_8h_source.html#l00851">itype::pet_armor</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a1a62737bde2472c83494f4842f49f10c" name="a1a62737bde2472c83494f4842f49f10c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a62737bde2472c83494f4842f49f10c">&#9670;&nbsp;</a></span>get_pet_armor_min_vol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> item::get_pet_armor_min_vol </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05786">5786</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05787" name="l05787"></a><span class="lineno"> 5787</span>{</div>
<div class="line"><a id="l05788" name="l05788"></a><span class="lineno"> 5788</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">is_pet_armor</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">pet_armor</a>-&gt;min_vol : 0_ml;</div>
<div class="line"><a id="l05789" name="l05789"></a><span class="lineno"> 5789</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="itype_8h_source.html#l00851">itype::pet_armor</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a6199bc2e670cfd2cbbe4d4c5dafae2ce" name="a6199bc2e670cfd2cbbe4d4c5dafae2ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6199bc2e670cfd2cbbe4d4c5dafae2ce">&#9670;&nbsp;</a></span>get_plant_epoch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> item::get_plant_epoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time it takes to grow from one stage to another. </p>
<p >There are 4 plant stages: seed, seedling, mature and harvest. Non-seed items return 0. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09606">9606</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09607" name="l09607"></a><span class="lineno"> 9607</span>{</div>
<div class="line"><a id="l09608" name="l09608"></a><span class="lineno"> 9608</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad55b9f82e65f57e8cfb6ecc4fc0445cb">seed</a> ) {</div>
<div class="line"><a id="l09609" name="l09609"></a><span class="lineno"> 9609</span>        <span class="keywordflow">return</span> 0_turns;</div>
<div class="line"><a id="l09610" name="l09610"></a><span class="lineno"> 9610</span>    }</div>
<div class="line"><a id="l09611" name="l09611"></a><span class="lineno"> 9611</span>    <span class="comment">// Growing times have been based around real world season length rather than</span></div>
<div class="line"><a id="l09612" name="l09612"></a><span class="lineno"> 9612</span>    <span class="comment">// the default in-game season length to give</span></div>
<div class="line"><a id="l09613" name="l09613"></a><span class="lineno"> 9613</span>    <span class="comment">// more accuracy for longer season lengths</span></div>
<div class="line"><a id="l09614" name="l09614"></a><span class="lineno"> 9614</span>    <span class="comment">// Also note that seed-&gt;grow is the time it takes from seeding to harvest, this is</span></div>
<div class="line"><a id="l09615" name="l09615"></a><span class="lineno"> 9615</span>    <span class="comment">// divided by 3 to get the time it takes from one plant state to the next.</span></div>
<div class="line"><a id="l09616" name="l09616"></a><span class="lineno"> 9616</span>    <span class="comment">// TODO: move this into the islot_seed</span></div>
<div class="line"><a id="l09617" name="l09617"></a><span class="lineno"> 9617</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad55b9f82e65f57e8cfb6ecc4fc0445cb">seed</a>-&gt;grow * <a class="code hl_function" href="namespacecalendar.html#aef148fa54dcd19dba93471745bb00975">calendar::season_ratio</a>() / 3;</div>
<div class="line"><a id="l09618" name="l09618"></a><span class="lineno"> 9618</span>}</div>
<div class="ttc" id="anamespacecalendar_html_aef148fa54dcd19dba93471745bb00975"><div class="ttname"><a href="namespacecalendar.html#aef148fa54dcd19dba93471745bb00975">calendar::season_ratio</a></div><div class="ttdeci">float season_ratio()</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00485">calendar.cpp:485</a></div></div>
<div class="ttc" id="astructitype_html_ad55b9f82e65f57e8cfb6ecc4fc0445cb"><div class="ttname"><a href="structitype.html#ad55b9f82e65f57e8cfb6ecc4fc0445cb">itype::seed</a></div><div class="ttdeci">cata::value_ptr&lt; islot_seed &gt; seed</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00863">itype.h:863</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00485">calendar::season_ratio()</a>, <a class="el" href="itype_8h_source.html#l00863">itype::seed</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a51f4fe9cc7d7089fce3faabf483c0bce" name="a51f4fe9cc7d7089fce3faabf483c0bce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51f4fe9cc7d7089fce3faabf483c0bce">&#9670;&nbsp;</a></span>get_plant_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::get_plant_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The name of the plant as it appears in the various informational menus. </p>
<p >This should be translated. Returns an empty string for non-seed items. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09620">9620</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09621" name="l09621"></a><span class="lineno"> 9621</span>{</div>
<div class="line"><a id="l09622" name="l09622"></a><span class="lineno"> 9622</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad55b9f82e65f57e8cfb6ecc4fc0445cb">seed</a> ) {</div>
<div class="line"><a id="l09623" name="l09623"></a><span class="lineno"> 9623</span>        <span class="keywordflow">return</span> std::string{};</div>
<div class="line"><a id="l09624" name="l09624"></a><span class="lineno"> 9624</span>    }</div>
<div class="line"><a id="l09625" name="l09625"></a><span class="lineno"> 9625</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad55b9f82e65f57e8cfb6ecc4fc0445cb">seed</a>-&gt;plant_name.translated();</div>
<div class="line"><a id="l09626" name="l09626"></a><span class="lineno"> 9626</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00863">itype::seed</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l06935">map::rotten_item_spawn()</a>.</p>

</div>
</div>
<a id="a19e6dd5afd4bada41c8d97792fd0815d" name="a19e6dd5afd4bada41c8d97792fd0815d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19e6dd5afd4bada41c8d97792fd0815d">&#9670;&nbsp;</a></span>get_property_int64_t()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t item::get_property_int64_t </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>def</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05258">5258</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05259" name="l05259"></a><span class="lineno"> 5259</span>{</div>
<div class="line"><a id="l05260" name="l05260"></a><span class="lineno"> 5260</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ada64ca1e7937118bb822cd9b0ea83497">properties</a>.find( prop );</div>
<div class="line"><a id="l05261" name="l05261"></a><span class="lineno"> 5261</span>    <span class="keywordflow">if</span>( it != <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ada64ca1e7937118bb822cd9b0ea83497">properties</a>.end() ) {</div>
<div class="line"><a id="l05262" name="l05262"></a><span class="lineno"> 5262</span>        <span class="keywordtype">char</span> *e = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l05263" name="l05263"></a><span class="lineno"> 5263</span>        int64_t r = std::strtoll( it-&gt;second.c_str(), &amp;e, 10 );</div>
<div class="line"><a id="l05264" name="l05264"></a><span class="lineno"> 5264</span>        <span class="keywordflow">if</span>( !it-&gt;second.empty() &amp;&amp; *e == <span class="charliteral">&#39;\0&#39;</span> ) {</div>
<div class="line"><a id="l05265" name="l05265"></a><span class="lineno"> 5265</span>            <span class="keywordflow">return</span> r;</div>
<div class="line"><a id="l05266" name="l05266"></a><span class="lineno"> 5266</span>        }</div>
<div class="line"><a id="l05267" name="l05267"></a><span class="lineno"> 5267</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid property &#39;%s&#39; for item &#39;%s&#39;&quot;</span>, prop.c_str(), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05268" name="l05268"></a><span class="lineno"> 5268</span>    }</div>
<div class="line"><a id="l05269" name="l05269"></a><span class="lineno"> 5269</span>    <span class="keywordflow">return</span> def;</div>
<div class="line"><a id="l05270" name="l05270"></a><span class="lineno"> 5270</span>}</div>
<div class="ttc" id="astructitype_html_ada64ca1e7937118bb822cd9b0ea83497"><div class="ttname"><a href="structitype.html#ada64ca1e7937118bb822cd9b0ea83497">itype::properties</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; properties</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00915">itype.h:915</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="itype_8h_source.html#l00915">itype::properties</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>.</p>

</div>
</div>
<a id="ac7c536dbf6f3c3e9e28015990a060e41" name="ac7c536dbf6f3c3e9e28015990a060e41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7c536dbf6f3c3e9e28015990a060e41">&#9670;&nbsp;</a></span>get_property_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::get_property_string </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>def</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get typed property for item. </p>
<p >Return same type as the passed default value, or string where no default provided </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05252">5252</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05253" name="l05253"></a><span class="lineno"> 5253</span>{</div>
<div class="line"><a id="l05254" name="l05254"></a><span class="lineno"> 5254</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ada64ca1e7937118bb822cd9b0ea83497">properties</a>.find( prop );</div>
<div class="line"><a id="l05255" name="l05255"></a><span class="lineno"> 5255</span>    <span class="keywordflow">return</span> it != <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ada64ca1e7937118bb822cd9b0ea83497">properties</a>.end() ? it-&gt;second : def;</div>
<div class="line"><a id="l05256" name="l05256"></a><span class="lineno"> 5256</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00915">itype::properties</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l09356">iuse::capture_monster_act()</a>.</p>

</div>
</div>
<a id="a0b5e2bad3b955a1f8da0ac2825785e34" name="a0b5e2bad3b955a1f8da0ac2825785e34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b5e2bad3b955a1f8da0ac2825785e34">&#9670;&nbsp;</a></span>get_qualities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>, int &gt; item::get_qualities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05319">5319</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05320" name="l05320"></a><span class="lineno"> 5320</span>{</div>
<div class="line"><a id="l05321" name="l05321"></a><span class="lineno"> 5321</span>    std::map&lt;quality_id, int&gt; qualities;</div>
<div class="line"><a id="l05322" name="l05322"></a><span class="lineno"> 5322</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_struct" href="structquality.html">quality</a> : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a> ) {</div>
<div class="line"><a id="l05323" name="l05323"></a><span class="lineno"> 5323</span>        qualities[<a class="code hl_struct" href="structquality.html">quality</a>.first] = <a class="code hl_function" href="classitem.html#a4055882f85be37628b8ac9fe1e9e6964">get_quality</a>( <a class="code hl_struct" href="structquality.html">quality</a>.first );</div>
<div class="line"><a id="l05324" name="l05324"></a><span class="lineno"> 5324</span>    }</div>
<div class="line"><a id="l05325" name="l05325"></a><span class="lineno"> 5325</span>    <span class="keywordflow">return</span> qualities;</div>
<div class="line"><a id="l05326" name="l05326"></a><span class="lineno"> 5326</span>}</div>
<div class="ttc" id="aclassitem_html_a4055882f85be37628b8ac9fe1e9e6964"><div class="ttname"><a href="classitem.html#a4055882f85be37628b8ac9fe1e9e6964">item::get_quality</a></div><div class="ttdeci">int get_quality(const quality_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05272">item.cpp:5272</a></div></div>
<div class="ttc" id="astructitype_html_a88ab4cc3858d8bb86e21cf83d13cc4c0"><div class="ttname"><a href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">itype::qualities</a></div><div class="ttdeci">std::map&lt; quality_id, int &gt; qualities</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00914">itype.h:914</a></div></div>
<div class="ttc" id="astructquality_html"><div class="ttname"><a href="structquality.html">quality</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00044">requirements.h:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05272">get_quality()</a>, <a class="el" href="itype_8h_source.html#l00914">itype::qualities</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01107">inventory::update_quality_cache()</a>.</p>

</div>
</div>
<a id="a4055882f85be37628b8ac9fe1e9e6964" name="a4055882f85be37628b8ac9fe1e9e6964"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4055882f85be37628b8ac9fe1e9e6964">&#9670;&nbsp;</a></span>get_quality()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_quality </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >EXCEPTION: Items with quality BOIL only count as such if they are empty, excluding items of their ammo type if they are tools.</p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05272">5272</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05273" name="l05273"></a><span class="lineno"> 5273</span>{</div>
<div class="line"><a id="l05274" name="l05274"></a><span class="lineno"> 5274</span>    <span class="keywordtype">int</span> return_quality = INT_MIN;</div>
<div class="line"><a id="l05275" name="l05275"></a><span class="lineno"> 5275</span><span class="comment"></span> </div>
<div class="line"><a id="l05276" name="l05276"></a><span class="lineno"> 5276</span><span class="comment">    /**</span></div>
<div class="line"><a id="l05277" name="l05277"></a><span class="lineno"> 5277</span><span class="comment">     * EXCEPTION: Items with quality BOIL only count as such if they are empty,</span></div>
<div class="line"><a id="l05278" name="l05278"></a><span class="lineno"> 5278</span><span class="comment">     * excluding items of their ammo type if they are tools.</span></div>
<div class="line"><a id="l05279" name="l05279"></a><span class="lineno"> 5279</span><span class="comment">     */</span></div>
<div class="line"><a id="l05280" name="l05280"></a><span class="lineno"> 5280</span>    <span class="keyword">auto</span> block_boil_filter = [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; itm ) {</div>
<div class="line"><a id="l05281" name="l05281"></a><span class="lineno"> 5281</span>        <span class="comment">// We want to skip (do not block) only those : correct ammo, correct magazine, correct toolmod.Everything else should block.</span></div>
<div class="line"><a id="l05282" name="l05282"></a><span class="lineno"> 5282</span>        <span class="keywordflow">if</span>( &amp;itm == <span class="keyword">this</span> ) {</div>
<div class="line"><a id="l05283" name="l05283"></a><span class="lineno"> 5283</span>            <span class="comment">// Do not block if checking itself - we are checking only item contents not item itself.</span></div>
<div class="line"><a id="l05284" name="l05284"></a><span class="lineno"> 5284</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05285" name="l05285"></a><span class="lineno"> 5285</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( itm.is_ammo() ) {</div>
<div class="line"><a id="l05286" name="l05286"></a><span class="lineno"> 5286</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().count( itm.ammo_type() ) == 0;</div>
<div class="line"><a id="l05287" name="l05287"></a><span class="lineno"> 5287</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( itm.is_magazine() ) {</div>
<div class="line"><a id="l05288" name="l05288"></a><span class="lineno"> 5288</span>            <span class="comment">// we want to return &quot;fine for boiling&quot; if any of the ammo types match and &quot;blocks boiling&quot; if none match.</span></div>
<div class="line"><a id="l05289" name="l05289"></a><span class="lineno"> 5289</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>() ) {</div>
<div class="line"><a id="l05290" name="l05290"></a><span class="lineno"> 5290</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;mag_at : itm.ammo_types() ) {</div>
<div class="line"><a id="l05291" name="l05291"></a><span class="lineno"> 5291</span>                    <span class="keywordflow">if</span>( at == mag_at ) {</div>
<div class="line"><a id="l05292" name="l05292"></a><span class="lineno"> 5292</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05293" name="l05293"></a><span class="lineno"> 5293</span>                    }</div>
<div class="line"><a id="l05294" name="l05294"></a><span class="lineno"> 5294</span>                }</div>
<div class="line"><a id="l05295" name="l05295"></a><span class="lineno"> 5295</span>            }</div>
<div class="line"><a id="l05296" name="l05296"></a><span class="lineno"> 5296</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05297" name="l05297"></a><span class="lineno"> 5297</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( itm.is_toolmod() ) {</div>
<div class="line"><a id="l05298" name="l05298"></a><span class="lineno"> 5298</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05299" name="l05299"></a><span class="lineno"> 5299</span>        }</div>
<div class="line"><a id="l05300" name="l05300"></a><span class="lineno"> 5300</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05301" name="l05301"></a><span class="lineno"> 5301</span>    };</div>
<div class="line"><a id="l05302" name="l05302"></a><span class="lineno"> 5302</span>    <span class="comment">// if it&#39;s has boil quality and it&#39;s empty, it&#39;s good to boil. If it&#39;s not empty and it&#39;s not a tool (it&#39;s probably a container), it&#39;s not good to boil. If it&#39;s a tool, it gets an extra chance: if it&#39;s only contents are mods or batteries, it&#39;s still good.</span></div>
<div class="line"><a id="l05303" name="l05303"></a><span class="lineno"> 5303</span>    <span class="comment">// Also  we are using inverted filter, since we don&#39;t care about items that the filter likes, we only care if it find something it doesn&#39;t like.</span></div>
<div class="line"><a id="l05304" name="l05304"></a><span class="lineno"> 5304</span>    <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_typedef" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>( <span class="stringliteral">&quot;BOIL&quot;</span> ) &amp;&amp; !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp;</div>
<div class="line"><a id="l05305" name="l05305"></a><span class="lineno"> 5305</span>        ( !<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() || <a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( block_boil_filter ) ) ) {</div>
<div class="line"><a id="l05306" name="l05306"></a><span class="lineno"> 5306</span>        <span class="keywordflow">return</span> INT_MIN;</div>
<div class="line"><a id="l05307" name="l05307"></a><span class="lineno"> 5307</span>    }</div>
<div class="line"><a id="l05308" name="l05308"></a><span class="lineno"> 5308</span> </div>
<div class="line"><a id="l05309" name="l05309"></a><span class="lineno"> 5309</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const quality_id, int&gt; &amp;<a class="code hl_struct" href="structquality.html">quality</a> : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a> ) {</div>
<div class="line"><a id="l05310" name="l05310"></a><span class="lineno"> 5310</span>        <span class="keywordflow">if</span>( <a class="code hl_struct" href="structquality.html">quality</a>.first == <span class="keywordtype">id</span> ) {</div>
<div class="line"><a id="l05311" name="l05311"></a><span class="lineno"> 5311</span>            return_quality = <a class="code hl_struct" href="structquality.html">quality</a>.second;</div>
<div class="line"><a id="l05312" name="l05312"></a><span class="lineno"> 5312</span>        }</div>
<div class="line"><a id="l05313" name="l05313"></a><span class="lineno"> 5313</span>    }</div>
<div class="line"><a id="l05314" name="l05314"></a><span class="lineno"> 5314</span>    return_quality = std::max( return_quality, <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ac79c45fbf5363f3a79a62083a72c4416">best_quality</a>( <span class="keywordtype">id</span> ) );</div>
<div class="line"><a id="l05315" name="l05315"></a><span class="lineno"> 5315</span> </div>
<div class="line"><a id="l05316" name="l05316"></a><span class="lineno"> 5316</span>    <span class="keywordflow">return</span> return_quality;</div>
<div class="line"><a id="l05317" name="l05317"></a><span class="lineno"> 5317</span>}</div>
<div class="ttc" id="aclassitem__contents_html_ac79c45fbf5363f3a79a62083a72c4416"><div class="ttname"><a href="classitem__contents.html#ac79c45fbf5363f3a79a62083a72c4416">item_contents::best_quality</a></div><div class="ttdeci">int best_quality(const quality_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00228">item_contents.cpp:228</a></div></div>
<div class="ttc" id="atype__id_8h_html_a462e78d510851b30d4f5795c409c7467"><div class="ttname"><a href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a></div><div class="ttdeci">string_id&lt; quality &gt; quality_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00158">type_id.h:158</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item__contents_8cpp_source.html#l00228">item_contents::best_quality()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="visitable_8cpp_source.html#l00105">visitable&lt; item &gt;::has_item_with()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="itype_8h_source.html#l00914">itype::qualities</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l02935">iuse::clear_rubble()</a>, <a class="el" href="iuse_8cpp_source.html#l02411">iuse::crowbar()</a>, <a class="el" href="iuse_8cpp_source.html#l02581">dig_pit_moves_and_byproducts()</a>, <a class="el" href="item_8cpp_source.html#l05319">get_qualities()</a>, <a class="el" href="bionics_8cpp_source.html#l02680">bionic::get_quality()</a>, <a class="el" href="visitable_8cpp_source.html#l00130">has_quality_internal()</a>, <a class="el" href="character_8cpp_source.html#l09974">Character::item_with_best_of_quality()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02506">activity_handlers::lockpicking_finish()</a>, <a class="el" href="visitable_8cpp_source.html#l00245">max_quality_internal()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l01147">pick_lock_actor::use()</a>.</p>

</div>
</div>
<a id="a18c14a07677f8ac9c197aefc2ee75bbb" name="a18c14a07677f8ac9c197aefc2ee75bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18c14a07677f8ac9c197aefc2ee75bbb">&#9670;&nbsp;</a></span>get_random_material()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classmaterial__type.html">material_type</a> &amp; item::get_random_material </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a material reference to a random material that this item is made of. </p>
<p >This might return the null-material, you may check this with <a class="el" href="classmaterial__type.html#a332aa379842e9200bdfc070a46b00cff">material_type::ident</a>. Note that this may also return a different material each time it's invoked (if the item is made from several materials). </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06985">6985</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06986" name="l06986"></a><span class="lineno"> 6986</span>{</div>
<div class="line"><a id="l06987" name="l06987"></a><span class="lineno"> 6987</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>(), <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">material_id::NULL_ID</a>() ).obj();</div>
<div class="line"><a id="l06988" name="l06988"></a><span class="lineno"> 6988</span>}</div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00088">rng.h:88</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; material_type &gt;::NULL_ID()</a>, and <a class="el" href="rng_8h_source.html#l00088">random_entry()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08272">Character::armor_absorb()</a>.</p>

</div>
</div>
<a id="aa17494d6cb1d70c05f43e99db0a63a39" name="aa17494d6cb1d70c05f43e99db0a63a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa17494d6cb1d70c05f43e99db0a63a39">&#9670;&nbsp;</a></span>get_relative_health()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float item::get_relative_health </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Relative item health. </p>
<p >Returns 1 for undamaged ||items, values in the range (0, 1) for damaged items and values above 1 for reinforced ++items. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06071">6071</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06072" name="l06072"></a><span class="lineno"> 6072</span>{</div>
<div class="line"><a id="l06073" name="l06073"></a><span class="lineno"> 6073</span>    <span class="keywordflow">return</span> ( <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() + 1.0f - <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() ) / ( <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() + 1.0f );</div>
<div class="line"><a id="l06074" name="l06074"></a><span class="lineno"> 6074</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, and <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01228">get_base_env_resist()</a>, and <a class="el" href="item_8cpp_source.html#l05613">get_env_resist()</a>.</p>

</div>
</div>
<a id="adfb5ddb3d50f317c79eb7a1a26a63905" name="adfb5ddb3d50f317c79eb7a1a26a63905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfb5ddb3d50f317c79eb7a1a26a63905">&#9670;&nbsp;</a></span>get_relative_rot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double item::get_relative_rot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get <a class="el" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> value relative to shelf life (or 0 if item does not spoil) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05420">5420</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05421" name="l05421"></a><span class="lineno"> 5421</span>{</div>
<div class="line"><a id="l05422" name="l05422"></a><span class="lineno"> 5422</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() ) {</div>
<div class="line"><a id="l05423" name="l05423"></a><span class="lineno"> 5423</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> / <a class="code hl_function" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a>();</div>
<div class="line"><a id="l05424" name="l05424"></a><span class="lineno"> 5424</span>    }</div>
<div class="line"><a id="l05425" name="l05425"></a><span class="lineno"> 5425</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05426" name="l05426"></a><span class="lineno"> 5426</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, and <a class="el" href="item_8h_source.html#l02219">rot</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05540">calc_rot()</a>, <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="consumption_8cpp_source.html#l00464">Character::fun_for()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00708">comestible_inventory_preset::get_freshness()</a>, <a class="el" href="item_8cpp_source.html#l01119">get_freshness_description()</a>, <a class="el" href="item_8cpp_source.html#l00448">get_most_rotten_component()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00680">comestible_inventory_preset::get_time_left()</a>, <a class="el" href="item_8cpp_source.html#l08633">has_rotten_away()</a>, <a class="el" href="item_8cpp_source.html#l00461">item()</a>, and <a class="el" href="npcmove_8cpp_source.html#l03745">rate_food()</a>.</p>

</div>
</div>
<a id="aad3353f629e527eb4b9f6c2f666f9e36" name="aad3353f629e527eb4b9f6c2f666f9e36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3353f629e527eb4b9f6c2f666f9e36">&#9670;&nbsp;</a></span>get_reload_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_reload_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the reload time of the gun. </p>
<p >Returns 0 if not a gun. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06378">6378</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06379" name="l06379"></a><span class="lineno"> 6379</span>{</div>
<div class="line"><a id="l06380" name="l06380"></a><span class="lineno"> 6380</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l06381" name="l06381"></a><span class="lineno"> 6381</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06382" name="l06382"></a><span class="lineno"> 6382</span>    }</div>
<div class="line"><a id="l06383" name="l06383"></a><span class="lineno"> 6383</span> </div>
<div class="line"><a id="l06384" name="l06384"></a><span class="lineno"> 6384</span>    <span class="keywordtype">int</span> reload_time = <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;reload_time : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;reload_time;</div>
<div class="line"><a id="l06385" name="l06385"></a><span class="lineno"> 6385</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l06386" name="l06386"></a><span class="lineno"> 6386</span>        reload_time = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( reload_time * ( 100 + <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;reload_modifier ) / 100 );</div>
<div class="line"><a id="l06387" name="l06387"></a><span class="lineno"> 6387</span>    }</div>
<div class="line"><a id="l06388" name="l06388"></a><span class="lineno"> 6388</span> </div>
<div class="line"><a id="l06389" name="l06389"></a><span class="lineno"> 6389</span>    <span class="keywordflow">return</span> reload_time;</div>
<div class="line"><a id="l06390" name="l06390"></a><span class="lineno"> 6390</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>.</p>

</div>
</div>
<a id="aaff8311e14e6819e6b6c2e207037f292" name="aaff8311e14e6819e6b6c2e207037f292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaff8311e14e6819e6b6c2e207037f292">&#9670;&nbsp;</a></span>get_remaining_capacity_for_liquid() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_remaining_capacity_for_liquid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>liquid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_bucket</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>err</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How much more of this liquid (in charges) can be put in this container. </p>
<p >If this is not a container (or not suitable for the liquid), it returns 0. Note that mixing different types of liquid is not possible. Also note that this works for guns and tools that accept liquid ammo. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">liquid</td><td>Liquid to check capacity for </td></tr>
    <tr><td class="paramname">allow_bucket</td><td>Allow filling non-sealable containers </td></tr>
    <tr><td class="paramname">err</td><td>Message to print if no more material will fit </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08268">8268</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08270" name="l08270"></a><span class="lineno"> 8270</span>{</div>
<div class="line"><a id="l08271" name="l08271"></a><span class="lineno"> 8271</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea5ac52de38b8cf793e5d933bfb76edf45">error</a> = [ &amp;err ]( <span class="keyword">const</span> std::string &amp; <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> ) {</div>
<div class="line"><a id="l08272" name="l08272"></a><span class="lineno"> 8272</span>        <span class="keywordflow">if</span>( err != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l08273" name="l08273"></a><span class="lineno"> 8273</span>            *err = <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a>;</div>
<div class="line"><a id="l08274" name="l08274"></a><span class="lineno"> 8274</span>        }</div>
<div class="line"><a id="l08275" name="l08275"></a><span class="lineno"> 8275</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08276" name="l08276"></a><span class="lineno"> 8276</span>    };</div>
<div class="line"><a id="l08277" name="l08277"></a><span class="lineno"> 8277</span> </div>
<div class="line"><a id="l08278" name="l08278"></a><span class="lineno"> 8278</span>    <span class="keywordtype">int</span> remaining_capacity = 0;</div>
<div class="line"><a id="l08279" name="l08279"></a><span class="lineno"> 8279</span> </div>
<div class="line"><a id="l08280" name="l08280"></a><span class="lineno"> 8280</span>    <span class="comment">// TODO: (sm) is_reloadable_with and this function call each other and can recurse for</span></div>
<div class="line"><a id="l08281" name="l08281"></a><span class="lineno"> 8281</span>    <span class="comment">// watertight containers.</span></div>
<div class="line"><a id="l08282" name="l08282"></a><span class="lineno"> 8282</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#a16d564fa461f2ef8547f137847dbb124">is_reloadable_with</a>( liquid.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) ) {</div>
<div class="line"><a id="l08283" name="l08283"></a><span class="lineno"> 8283</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() != 0 &amp;&amp; <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() != liquid.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) {</div>
<div class="line"><a id="l08284" name="l08284"></a><span class="lineno"> 8284</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea5ac52de38b8cf793e5d933bfb76edf45">error</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t mix loads in your %s.&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l08285" name="l08285"></a><span class="lineno"> 8285</span>        }</div>
<div class="line"><a id="l08286" name="l08286"></a><span class="lineno"> 8286</span>        remaining_capacity = <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() - <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>();</div>
<div class="line"><a id="l08287" name="l08287"></a><span class="lineno"> 8287</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ) {</div>
<div class="line"><a id="l08288" name="l08288"></a><span class="lineno"> 8288</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;watertight ) {</div>
<div class="line"><a id="l08289" name="l08289"></a><span class="lineno"> 8289</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea5ac52de38b8cf793e5d933bfb76edf45">error</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That %s isn&#39;t water-tight.&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l08290" name="l08290"></a><span class="lineno"> 8290</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;seals &amp;&amp; ( !allow_bucket || !<a class="code hl_function" href="classitem.html#ab3f85f52bf0b1191bfdc2a940d95454e">is_bucket</a>() ) ) {</div>
<div class="line"><a id="l08291" name="l08291"></a><span class="lineno"> 8291</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea5ac52de38b8cf793e5d933bfb76edf45">error</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="classitem.html#ab3f85f52bf0b1191bfdc2a940d95454e">is_bucket</a>() ?</div>
<div class="line"><a id="l08292" name="l08292"></a><span class="lineno"> 8292</span>                                         <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That %s must be on the ground or held to hold contents!&quot;</span> )</div>
<div class="line"><a id="l08293" name="l08293"></a><span class="lineno"> 8293</span>                                         : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t seal that %s!&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l08294" name="l08294"></a><span class="lineno"> 8294</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() != liquid.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) {</div>
<div class="line"><a id="l08295" name="l08295"></a><span class="lineno"> 8295</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea5ac52de38b8cf793e5d933bfb76edf45">error</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t mix loads in your %s.&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l08296" name="l08296"></a><span class="lineno"> 8296</span>        }</div>
<div class="line"><a id="l08297" name="l08297"></a><span class="lineno"> 8297</span>        remaining_capacity = liquid.<a class="code hl_function" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a>( <a class="code hl_function" href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">get_container_capacity</a>() );</div>
<div class="line"><a id="l08298" name="l08298"></a><span class="lineno"> 8298</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ) {</div>
<div class="line"><a id="l08299" name="l08299"></a><span class="lineno"> 8299</span>            remaining_capacity -= <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l08300" name="l08300"></a><span class="lineno"> 8300</span>        }</div>
<div class="line"><a id="l08301" name="l08301"></a><span class="lineno"> 8301</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08302" name="l08302"></a><span class="lineno"> 8302</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea5ac52de38b8cf793e5d933bfb76edf45">error</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That %1$s won&#39;t hold %2$s.&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(),</div>
<div class="line"><a id="l08303" name="l08303"></a><span class="lineno"> 8303</span>                                     liquid.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l08304" name="l08304"></a><span class="lineno"> 8304</span>    }</div>
<div class="line"><a id="l08305" name="l08305"></a><span class="lineno"> 8305</span> </div>
<div class="line"><a id="l08306" name="l08306"></a><span class="lineno"> 8306</span>    <span class="keywordflow">if</span>( remaining_capacity &lt;= 0 ) {</div>
<div class="line"><a id="l08307" name="l08307"></a><span class="lineno"> 8307</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea5ac52de38b8cf793e5d933bfb76edf45">error</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %1$s can&#39;t hold any more %2$s.&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(),</div>
<div class="line"><a id="l08308" name="l08308"></a><span class="lineno"> 8308</span>                                     liquid.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l08309" name="l08309"></a><span class="lineno"> 8309</span>    }</div>
<div class="line"><a id="l08310" name="l08310"></a><span class="lineno"> 8310</span> </div>
<div class="line"><a id="l08311" name="l08311"></a><span class="lineno"> 8311</span>    <span class="keywordflow">return</span> remaining_capacity;</div>
<div class="line"><a id="l08312" name="l08312"></a><span class="lineno"> 8312</span>}</div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5aea5ac52de38b8cf793e5d933bfb76edf45"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea5ac52de38b8cf793e5d933bfb76edf45">detail::digits::error</a></div><div class="ttdeci">@ error</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01630">fmtlib_format-inl.h:1629</a></div></div>
<div class="ttc" id="anamespacemapgen__defer_html_a616ad2c7ee2eb002b683b41b04a888c1"><div class="ttname"><a href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">mapgen_defer::message</a></div><div class="ttdeci">std::string message</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00403">mapgen.cpp:403</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07402">ammo_current()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8cpp_source.html#l00861">charges_per_volume()</a>, <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="fmtlib__format-inl_8h_source.html#l01629">detail::digits::error</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l08239">get_container_capacity()</a>, <a class="el" href="item_8cpp_source.html#l06584">is_bucket()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="item_8cpp_source.html#l06716">is_reloadable_with()</a>, <a class="el" href="mapgen_8cpp_source.html#l00403">mapgen_defer::message</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="weather_8cpp_source.html#l00211">add_rain_to_container()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="item_8cpp_source.html#l08314">get_remaining_capacity_for_liquid()</a>, <a class="el" href="item_8cpp_source.html#l06692">is_container_full()</a>, <a class="el" href="iexamine_8cpp_source.html#l03437">maple_tree_sap_container()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01656">advanced_inventory::move_content()</a>, <a class="el" href="character_8cpp_source.html#l06426">Character::pour_into()</a>, and <a class="el" href="item_8cpp_source.html#l07949">reload()</a>.</p>

</div>
</div>
<a id="a88eaf24479cff098fccfefd7a1a090cb" name="a88eaf24479cff098fccfefd7a1a090cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88eaf24479cff098fccfefd7a1a090cb">&#9670;&nbsp;</a></span>get_remaining_capacity_for_liquid() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_remaining_capacity_for_liquid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>liquid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>err</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08314">8314</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08316" name="l08316"></a><span class="lineno"> 8316</span>{</div>
<div class="line"><a id="l08317" name="l08317"></a><span class="lineno"> 8317</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> allow_bucket = <span class="keyword">this</span> == &amp;p.<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> || !p.<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l08318" name="l08318"></a><span class="lineno"> 8318</span>    <span class="keywordtype">int</span> res = <a class="code hl_function" href="classitem.html#aaff8311e14e6819e6b6c2e207037f292">get_remaining_capacity_for_liquid</a>( liquid, allow_bucket, err );</div>
<div class="line"><a id="l08319" name="l08319"></a><span class="lineno"> 8319</span> </div>
<div class="line"><a id="l08320" name="l08320"></a><span class="lineno"> 8320</span>    <span class="keywordflow">if</span>( res &gt; 0 &amp;&amp; !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a14fcae616635cf3a66644e0d473a3622">rigid</a> &amp;&amp; p.<a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l08321" name="l08321"></a><span class="lineno"> 8321</span>        <span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> volume_to_expand = std::max( p.<a class="code hl_function" href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">volume_capacity</a>() - p.<a class="code hl_function" href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">volume_carried</a>(),</div>
<div class="line"><a id="l08322" name="l08322"></a><span class="lineno"> 8322</span>                                               0_ml );</div>
<div class="line"><a id="l08323" name="l08323"></a><span class="lineno"> 8323</span> </div>
<div class="line"><a id="l08324" name="l08324"></a><span class="lineno"> 8324</span>        res = std::min( liquid.<a class="code hl_function" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a>( volume_to_expand ), res );</div>
<div class="line"><a id="l08325" name="l08325"></a><span class="lineno"> 8325</span> </div>
<div class="line"><a id="l08326" name="l08326"></a><span class="lineno"> 8326</span>        <span class="keywordflow">if</span>( res == 0 &amp;&amp; err != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l08327" name="l08327"></a><span class="lineno"> 8327</span>            *err = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That %s doesn&#39;t have room to expand.&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l08328" name="l08328"></a><span class="lineno"> 8328</span>        }</div>
<div class="line"><a id="l08329" name="l08329"></a><span class="lineno"> 8329</span>    }</div>
<div class="line"><a id="l08330" name="l08330"></a><span class="lineno"> 8330</span> </div>
<div class="line"><a id="l08331" name="l08331"></a><span class="lineno"> 8331</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l08332" name="l08332"></a><span class="lineno"> 8332</span>}</div>
<div class="ttc" id="aclassCharacter_html_a4f0f412e4bec8d107de42bd34f1fa441"><div class="ttname"><a href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">Character::volume_capacity</a></div><div class="ttdeci">units::volume volume_capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02832">character.cpp:2832</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab3a5a1cd76002a3e9903b7e09b77bb3f"><div class="ttname"><a href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">Character::volume_carried</a></div><div class="ttdeci">units::volume volume_carried() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02705">character.cpp:2705</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae68b7a6565646ba662e448bded8b6599"><div class="ttname"><a href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">Character::weapon</a></div><div class="ttdeci">item weapon</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01585">character.h:1585</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l00861">charges_per_volume()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="itype_8h_source.html#l00991">itype::rigid</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="character_8cpp_source.html#l02832">Character::volume_capacity()</a>, <a class="el" href="character_8cpp_source.html#l02705">Character::volume_carried()</a>, and <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>.</p>

</div>
</div>
<a id="a496e2a01e5a06776c322d4f1c3396e66" name="a496e2a01e5a06776c322d4f1c3396e66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a496e2a01e5a06776c322d4f1c3396e66">&#9670;&nbsp;</a></span>get_remaining_chapters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_remaining_chapters </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of unread chapters. </p>
<p >If the item is no book or has no chapters, it returns 0. This is a per-character setting, different characters may have different number of unread chapters. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06936">6936</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06937" name="l06937"></a><span class="lineno"> 6937</span>{</div>
<div class="line"><a id="l06938" name="l06938"></a><span class="lineno"> 6938</span>    <span class="keyword">const</span> std::string var = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;remaining-chapters-%d&quot;</span>, u.<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>().<a class="code hl_function" href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">get_value</a>() );</div>
<div class="line"><a id="l06939" name="l06939"></a><span class="lineno"> 6939</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( var, <a class="code hl_function" href="classitem.html#af607ad36c67593022397b437a3a5b5b4">get_chapters</a>() );</div>
<div class="line"><a id="l06940" name="l06940"></a><span class="lineno"> 6940</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06928">get_chapters()</a>, <a class="el" href="character__id_8h_source.html#l00023">character_id::get_value()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, and <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03659">player::book_fun_for()</a>, <a class="el" href="item_8cpp_source.html#l02839">book_info()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, and <a class="el" href="item_8cpp_source.html#l06942">mark_chapter_as_read()</a>.</p>

</div>
</div>
<a id="ac9288e8a4e4f02ba868cf6967a5bd488" name="ac9288e8a4e4f02ba868cf6967a5bd488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9288e8a4e4f02ba868cf6967a5bd488">&#9670;&nbsp;</a></span>get_rot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> item::get_rot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l00864">864</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>                                      {</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a>;</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l00866">butchery_drops_harvest()</a>, and <a class="el" href="item_8cpp_source.html#l08633">has_rotten_away()</a>.</p>

</div>
</div>
<a id="ab5606d3baf832d8d2b7a531e4da5e899" name="ab5606d3baf832d8d2b7a531e4da5e899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5606d3baf832d8d2b7a531e4da5e899">&#9670;&nbsp;</a></span>get_safe_reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsafe__reference.html">safe_reference</a>&lt; <a class="el" href="classitem.html">item</a> &gt; item::get_safe_reference </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a pointer-like type that's automatically invalidated if this item is destroyed or assigned-to. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00443">443</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>{</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a700374a9cb11d479855b03b4eff408e3">anchor</a>.<a class="code hl_function" href="classsafe__reference__anchor.html#a79dd1ba97e3e205e076d10850248dd0a">reference_to</a>( <span class="keyword">this</span> );</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>}</div>
<div class="ttc" id="aclassitem_html_a700374a9cb11d479855b03b4eff408e3"><div class="ttname"><a href="classitem.html#a700374a9cb11d479855b03b4eff408e3">item::anchor</a></div><div class="ttdeci">safe_reference_anchor anchor</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02165">item.h:2165</a></div></div>
<div class="ttc" id="aclasssafe__reference__anchor_html_a79dd1ba97e3e205e076d10850248dd0a"><div class="ttname"><a href="classsafe__reference__anchor.html#a79dd1ba97e3e205e076d10850248dd0a">safe_reference_anchor::reference_to</a></div><div class="ttdeci">safe_reference&lt; T &gt; reference_to(T *object)</div><div class="ttdef"><b>Definition:</b> <a href="safe__reference_8h_source.html#l00064">safe_reference.h:64</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02165">anchor</a>, and <a class="el" href="safe__reference_8h_source.html#l00064">safe_reference_anchor::reference_to()</a>.</p>

<p class="reference">Referenced by <a class="el" href="active__item__cache_8cpp_source.html#l00030">active_item_cache::add()</a>.</p>

</div>
</div>
<a id="aad1afe56872327f37ee02011e3a5fb8b" name="aad1afe56872327f37ee02011e3a5fb8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad1afe56872327f37ee02011e3a5fb8b">&#9670;&nbsp;</a></span>get_shelf_life()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> item::get_shelf_life </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the shelf life of the item. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05408">5408</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05409" name="l05409"></a><span class="lineno"> 5409</span>{</div>
<div class="line"><a id="l05410" name="l05410"></a><span class="lineno"> 5410</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() ) {</div>
<div class="line"><a id="l05411" name="l05411"></a><span class="lineno"> 5411</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) {</div>
<div class="line"><a id="l05412" name="l05412"></a><span class="lineno"> 5412</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;spoils;</div>
<div class="line"><a id="l05413" name="l05413"></a><span class="lineno"> 5413</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a id="l05414" name="l05414"></a><span class="lineno"> 5414</span>            <span class="keywordflow">return</span> 24_hours;</div>
<div class="line"><a id="l05415" name="l05415"></a><span class="lineno"> 5415</span>        }</div>
<div class="line"><a id="l05416" name="l05416"></a><span class="lineno"> 5416</span>    }</div>
<div class="line"><a id="l05417" name="l05417"></a><span class="lineno"> 5417</span>    <span class="keywordflow">return</span> 0_turns;</div>
<div class="line"><a id="l05418" name="l05418"></a><span class="lineno"> 5418</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, and <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l05540">calc_rot()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="item_8cpp_source.html#l01119">get_freshness_description()</a>, <a class="el" href="item_8cpp_source.html#l05420">get_relative_rot()</a>, <a class="el" href="item_8cpp_source.html#l08961">process_corpse()</a>, <a class="el" href="item_8cpp_source.html#l05428">set_relative_rot()</a>, <a class="el" href="item_8cpp_source.html#l05446">spoilage_sort_order()</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

</div>
</div>
<a id="aecf84874cbc13ba0ce8a205690747305" name="aecf84874cbc13ba0ce8a205690747305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf84874cbc13ba0ce8a205690747305">&#9670;&nbsp;</a></span>get_side()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a> item::get_side </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns side item currently worn on. </p>
<p >Returns BOTH if item is not sided or no side currently set </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00805">805</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>{</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    <span class="comment">// MSVC complains if directly cast double to enum</span></div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a><span class="keyword">&gt;</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;lateral&quot;</span>,</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>                              <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">side::BOTH</a> ) ) ) );</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>}</div>
<div class="ttc" id="abodypart_8h_html_ae70ba95c272bf8b7296bc0df8bcd03e4"><div class="ttname"><a href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a></div><div class="ttdeci">side</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00066">bodypart.h:66</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">BOTH</a>, and <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="item_8cpp_source.html#l00750">get_covered_body_parts()</a>, <a class="el" href="item_8cpp_source.html#l04185">on_wear()</a>, and <a class="el" href="item_8cpp_source.html#l00827">swap_side()</a>.</p>

</div>
</div>
<a id="ab499c1bb4b2c55f0199f8509f6eff6a3" name="ab499c1bb4b2c55f0199f8509f6eff6a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab499c1bb4b2c55f0199f8509f6eff6a3">&#9670;&nbsp;</a></span>get_sizing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9c">item::sizing</a> item::get_sizing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wearable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01185">1185</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>{</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>    <span class="keywordflow">if</span>( wearable ) {</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> small = p.<a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a>;</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> big = p.<a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a>;</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span> </div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        <span class="comment">// due to the iterative nature of these features, something can fit and be undersized/oversized</span></div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>        <span class="comment">// but that is fine because we have separate logic to adjust encumberance per each. One day we</span></div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        <span class="comment">// may want to have fit be a flag that only applies if a piece of clothing is sized for you as there</span></div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>        <span class="comment">// is a bit of cognitive dissonance when something &#39;fits&#39; and is &#39;oversized&#39; and the same time</span></div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> undersize = <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a2a1b60111a7bbffa1b9cffe54cbcf2da">flag_UNDERSIZE</a> );</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> oversize = <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a973aaf088b7a39f7efefcceec9746a0f">flag_OVERSIZE</a> );</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span> </div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>        <span class="keywordflow">if</span>( undersize ) {</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>            <span class="keywordflow">if</span>( small ) {</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca096d4645ed938b760b6111684abd8c4c">sizing::small_sized_small_char</a>;</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( big ) {</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">sizing::small_sized_big_char</a>;</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">sizing::small_sized_human_char</a>;</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>            }</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( oversize ) {</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>            <span class="keywordflow">if</span>( big ) {</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3c281ac6effc3982eea0c56df3fe766">sizing::big_sized_big_char</a>;</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( small ) {</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">sizing::big_sized_small_char</a>;</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c">sizing::big_sized_human_char</a>;</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>            }</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>            <span class="keywordflow">if</span>( big ) {</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">sizing::human_sized_big_char</a>;</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( small ) {</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">sizing::human_sized_small_char</a>;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca781d038afb4ccd0fb1b2085adfefd1c3">sizing::human_sized_human_char</a>;</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>            }</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>        }</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>    }</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca19ec7d24c824f147bac48b71faa18af4">sizing::not_wearable</a>;</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span> </div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>}</div>
<div class="ttc" id="aclassCharacter_html_aa5ca0f6c4fb1c08bb93ece1c9746c368"><div class="ttname"><a href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">Character::get_size</a></div><div class="ttdeci">m_size get_size() const override</div><div class="ttdoc">Get size class of character.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00534">character.cpp:534</a></div></div>
<div class="ttc" id="aclassitem_html_a952452b603e34038ff8dff7ed9422a9ca19ec7d24c824f147bac48b71faa18af4"><div class="ttname"><a href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca19ec7d24c824f147bac48b71faa18af4">item::sizing::not_wearable</a></div><div class="ttdeci">@ not_wearable</div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a></div><div class="ttdeci">@ MS_TINY</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00058">creature.h:58</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a></div><div class="ttdeci">@ MS_HUGE</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00062">creature.h:62</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a2a1b60111a7bbffa1b9cffe54cbcf2da"><div class="ttname"><a href="item_8cpp.html#a2a1b60111a7bbffa1b9cffe54cbcf2da">flag_UNDERSIZE</a></div><div class="ttdeci">static const std::string flag_UNDERSIZE(&quot;UNDERSIZE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a973aaf088b7a39f7efefcceec9746a0f"><div class="ttname"><a href="item_8cpp.html#a973aaf088b7a39f7efefcceec9746a0f">flag_OVERSIZE</a></div><div class="ttdeci">static const std::string flag_OVERSIZE(&quot;OVERSIZE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3c281ac6effc3982eea0c56df3fe766">big_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab7d23f1d2500850af59c5ed5e374c50c">big_sized_human_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">big_sized_small_char</a>, <a class="el" href="item_8cpp.html#a973aaf088b7a39f7efefcceec9746a0f">flag_OVERSIZE()</a>, <a class="el" href="item_8cpp.html#a2a1b60111a7bbffa1b9cffe54cbcf2da">flag_UNDERSIZE()</a>, <a class="el" href="character_8cpp_source.html#l00534">Character::get_size()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">human_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca781d038afb4ccd0fb1b2085adfefd1c3">human_sized_human_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">human_sized_small_char</a>, <a class="el" href="creature_8h_source.html#l00062">MS_HUGE</a>, <a class="el" href="creature_8h_source.html#l00058">MS_TINY</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca19ec7d24c824f147bac48b71faa18af4">not_wearable</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">small_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">small_sized_human_char</a>, and <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca096d4645ed938b760b6111684abd8c4c">small_sized_small_char</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="a9653264e34fbb2b99737e09e0a207df4" name="a9653264e34fbb2b99737e09e0a207df4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9653264e34fbb2b99737e09e0a207df4">&#9670;&nbsp;</a></span>get_storage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> item::get_storage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the storage amount (<a class="el" href="structislot__armor.html#afea4f5875d9a65ab246ad0d6e78e5332">islot_armor::storage</a>) that this item provides when worn. </p>
<p >For non-armor it returns 0. The storage amount increases the volume capacity of the character that wears the item. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05582">5582</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05583" name="l05583"></a><span class="lineno"> 5583</span>{</div>
<div class="line"><a id="l05584" name="l05584"></a><span class="lineno"> 5584</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l05585" name="l05585"></a><span class="lineno"> 5585</span>    <span class="keywordflow">if</span>( t == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05586" name="l05586"></a><span class="lineno"> 5586</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">is_pet_armor</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">pet_armor</a>-&gt;storage : 0_ml;</div>
<div class="line"><a id="l05587" name="l05587"></a><span class="lineno"> 5587</span>    }</div>
<div class="line"><a id="l05588" name="l05588"></a><span class="lineno"> 5588</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> storage = t-&gt;<a class="code hl_variable" href="structislot__armor.html#afea4f5875d9a65ab246ad0d6e78e5332">storage</a>;</div>
<div class="line"><a id="l05589" name="l05589"></a><span class="lineno"> 5589</span>    <span class="keywordtype">float</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = <a class="code hl_function" href="classitem.html#a487b1c2d4c6e05794c446b231f39d6e8">get_clothing_mod_val</a>( <a class="code hl_enumvalue" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152a16b015274b7553b0a572e14c446e8f45">clothing_mod_type_storage</a> );</div>
<div class="line"><a id="l05590" name="l05590"></a><span class="lineno"> 5590</span>    storage += std::lround( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) * <a class="code hl_variable" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a>;</div>
<div class="line"><a id="l05591" name="l05591"></a><span class="lineno"> 5591</span> </div>
<div class="line"><a id="l05592" name="l05592"></a><span class="lineno"> 5592</span>    <span class="keywordflow">return</span> storage;</div>
<div class="line"><a id="l05593" name="l05593"></a><span class="lineno"> 5593</span>}</div>
<div class="ttc" id="aclothing__mod_8h_html_ab129387d97c2c7f0393c210d21df0152a16b015274b7553b0a572e14c446e8f45"><div class="ttname"><a href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152a16b015274b7553b0a572e14c446e8f45">clothing_mod_type_storage</a></div><div class="ttdeci">@ clothing_mod_type_storage</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00024">clothing_mod.h:24</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="clothing__mod_8h_source.html#l00024">clothing_mod_type_storage</a>, <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="item_8cpp_source.html#l09970">get_clothing_mod_val()</a>, <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="units__volume_8h_source.html#l00050">units::legacy_volume_factor</a>, <a class="el" href="itype_8h_source.html#l00851">itype::pet_armor</a>, <a class="el" href="itype_8h_source.html#l00275">islot_armor::storage</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02658">animal_armor_info()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00282">armor_inventory_preset::armor_inventory_preset()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00294">anonymous_namespace{armor_layers.cpp}::clothing_properties()</a>, <a class="el" href="item_8cpp_source.html#l05642">get_encumber()</a>, <a class="el" href="item_8cpp_source.html#l08247">get_total_capacity()</a>, <a class="el" href="monexamine_8cpp_source.html#l00633">monexamine::give_items_to()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00584">pickup::obtain_and_tokenize_items()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03508">om_carry_weight_to_trips()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00235">tutorial_game::post_action()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00452">pickup::reorder_for_dropping()</a>, <a class="el" href="player_8cpp_source.html#l02977">player::takeoff()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="a26022bd0e72f14c5abf2fa5edf806c81" name="a26022bd0e72f14c5abf2fa5edf806c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26022bd0e72f14c5abf2fa5edf806c81">&#9670;&nbsp;</a></span>get_techniques()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a> &gt; item::get_techniques </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all the martial art techniques that this items supports. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05364">5364</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05365" name="l05365"></a><span class="lineno"> 5365</span>{</div>
<div class="line"><a id="l05366" name="l05366"></a><span class="lineno"> 5366</span>    std::set&lt;matec_id&gt; <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#af120b48958f64cb16301d76d95d57d6a">techniques</a>;</div>
<div class="line"><a id="l05367" name="l05367"></a><span class="lineno"> 5367</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.insert( <a class="code hl_variable" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>.begin(), <a class="code hl_variable" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>.end() );</div>
<div class="line"><a id="l05368" name="l05368"></a><span class="lineno"> 5368</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l05369" name="l05369"></a><span class="lineno"> 5369</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02170">techniques</a>, <a class="el" href="itype_8h_source.html#l00933">itype::techniques</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="martialarts_8cpp_source.html#l00877">character_martial_arts::get_all_techniques()</a>.</p>

</div>
</div>
<a id="a3f86c0174d8c700cc3308860c8513798" name="a3f86c0174d8c700cc3308860c8513798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f86c0174d8c700cc3308860c8513798">&#9670;&nbsp;</a></span>get_thickness()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_thickness </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="structislot__armor.html#abd747f7666386a848f2d6e432f46c72e">islot_armor::thickness</a> value, or 0 for non-armor. </p>
<p >Thickness is are relative value that affects the items resistance against bash / cutting / bullet damage. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05759">5759</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05760" name="l05760"></a><span class="lineno"> 5760</span>{</div>
<div class="line"><a id="l05761" name="l05761"></a><span class="lineno"> 5761</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l05762" name="l05762"></a><span class="lineno"> 5762</span>    <span class="keywordflow">if</span>( t == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05763" name="l05763"></a><span class="lineno"> 5763</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af8be3cc1fd31607205d7170b1e2eb4fb">is_pet_armor</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">pet_armor</a>-&gt;thickness : 0;</div>
<div class="line"><a id="l05764" name="l05764"></a><span class="lineno"> 5764</span>    }</div>
<div class="line"><a id="l05765" name="l05765"></a><span class="lineno"> 5765</span>    <span class="keywordflow">return</span> t-&gt;<a class="code hl_variable" href="structislot__armor.html#abd747f7666386a848f2d6e432f46c72e">thickness</a>;</div>
<div class="line"><a id="l05766" name="l05766"></a><span class="lineno"> 5766</span>}</div>
<div class="ttc" id="astructislot__armor_html_abd747f7666386a848f2d6e432f46c72e"><div class="ttname"><a href="structislot__armor.html#abd747f7666386a848f2d6e432f46c72e">islot_armor::thickness</a></div><div class="ttdeci">int thickness</div><div class="ttdoc">TODO: document me.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00259">itype.h:259</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="itype_8h_source.html#l00851">itype::pet_armor</a>, <a class="el" href="itype_8h_source.html#l00259">islot_armor::thickness</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05881">bash_resist()</a>, <a class="el" href="item_8cpp_source.html#l05948">bullet_resist()</a>, <a class="el" href="item_8cpp_source.html#l05909">cut_resist()</a>, <a class="el" href="clothing__mod_8cpp_source.html#l00096">clothing_mod::get_mod_val()</a>, and <a class="el" href="gamemode__tutorial_8cpp_source.html#l00235">tutorial_game::post_action()</a>.</p>

</div>
</div>
<a id="a02f0b48a661f955def6f0fbbe2262a63" name="a02f0b48a661f955def6f0fbbe2262a63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02f0b48a661f955def6f0fbbe2262a63">&#9670;&nbsp;</a></span>get_total_capacity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> item::get_total_capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It returns the maximum volume of any contents, including liquids, ammo, magazines, weapons, etc. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08247">8247</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08248" name="l08248"></a><span class="lineno"> 8248</span>{</div>
<div class="line"><a id="l08249" name="l08249"></a><span class="lineno"> 8249</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_function" href="classitem.html#a9653264e34fbb2b99737e09e0a207df4">get_storage</a>() + <a class="code hl_function" href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">get_container_capacity</a>();</div>
<div class="line"><a id="l08250" name="l08250"></a><span class="lineno"> 8250</span> </div>
<div class="line"><a id="l08251" name="l08251"></a><span class="lineno"> 8251</span>    <span class="comment">// Consider various iuse_actors which add containing capability</span></div>
<div class="line"><a id="l08252" name="l08252"></a><span class="lineno"> 8252</span>    <span class="comment">// Treating these two as special cases for now; if more appear in the</span></div>
<div class="line"><a id="l08253" name="l08253"></a><span class="lineno"> 8253</span>    <span class="comment">// future then this probably warrants a new method on use_function to</span></div>
<div class="line"><a id="l08254" name="l08254"></a><span class="lineno"> 8254</span>    <span class="comment">// access this information generically.</span></div>
<div class="line"><a id="l08255" name="l08255"></a><span class="lineno"> 8255</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a916a4a16b33de5c257fff71d9e579578">is_bandolier</a>() ) {</div>
<div class="line"><a id="l08256" name="l08256"></a><span class="lineno"> 8256</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> += <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classbandolier__actor.html">bandolier_actor</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l08257" name="l08257"></a><span class="lineno"> 8257</span>                  ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a304367633fdfe6c63a53bdce0caced92">get_use</a>( <span class="stringliteral">&quot;bandolier&quot;</span> )-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() )-&gt;max_stored_volume();</div>
<div class="line"><a id="l08258" name="l08258"></a><span class="lineno"> 8258</span>    }</div>
<div class="line"><a id="l08259" name="l08259"></a><span class="lineno"> 8259</span> </div>
<div class="line"><a id="l08260" name="l08260"></a><span class="lineno"> 8260</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a6de81eeb1c4666a84e1d774582b945ae">is_holster</a>() ) {</div>
<div class="line"><a id="l08261" name="l08261"></a><span class="lineno"> 8261</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> += <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classholster__actor.html">holster_actor</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l08262" name="l08262"></a><span class="lineno"> 8262</span>                  ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a304367633fdfe6c63a53bdce0caced92">get_use</a>( <span class="stringliteral">&quot;holster&quot;</span> )-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() )-&gt;max_stored_volume();</div>
<div class="line"><a id="l08263" name="l08263"></a><span class="lineno"> 8263</span>    }</div>
<div class="line"><a id="l08264" name="l08264"></a><span class="lineno"> 8264</span> </div>
<div class="line"><a id="l08265" name="l08265"></a><span class="lineno"> 8265</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l08266" name="l08266"></a><span class="lineno"> 8266</span>}</div>
<div class="ttc" id="aclassitem_html_a6de81eeb1c4666a84e1d774582b945ae"><div class="ttname"><a href="classitem.html#a6de81eeb1c4666a84e1d774582b945ae">item::is_holster</a></div><div class="ttdeci">bool is_holster() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06427">item.cpp:6427</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8h_source.html#l00315">use_function::get_actor_ptr()</a>, <a class="el" href="item_8cpp_source.html#l08239">get_container_capacity()</a>, <a class="el" href="item_8cpp_source.html#l05582">get_storage()</a>, <a class="el" href="itype_8cpp_source.html#l00091">itype::get_use()</a>, <a class="el" href="item_8cpp_source.html#l06422">is_bandolier()</a>, <a class="el" href="item_8cpp_source.html#l06427">is_holster()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, and <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>.</p>

</div>
</div>
<a id="a4974052f9a7c7c664bb62fd3a860c7fa" name="a4974052f9a7c7c664bb62fd3a860c7fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4974052f9a7c7c664bb62fd3a860c7fa">&#9670;&nbsp;</a></span>get_uncraft_components()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; item::get_uncraft_components </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of components used to craft this item or the default components if it wasn't player-crafted. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09884">9884</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09885" name="l09885"></a><span class="lineno"> 9885</span>{</div>
<div class="line"><a id="l09886" name="l09886"></a><span class="lineno"> 9886</span>    std::vector&lt;item_comp&gt; <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l09887" name="l09887"></a><span class="lineno"> 9887</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.empty() ) {</div>
<div class="line"><a id="l09888" name="l09888"></a><span class="lineno"> 9888</span>        <span class="comment">//If item wasn&#39;t crafted with specific components use default recipe</span></div>
<div class="line"><a id="l09889" name="l09889"></a><span class="lineno"> 9889</span>        std::vector&lt;std::vector&lt;item_comp&gt;&gt; <a class="code hl_class" href="classrecipe.html">recipe</a> = <a class="code hl_function" href="classrecipe__dictionary.html#a93af439fed4b5043d9709235e0cea03e">recipe_dictionary::get_uncraft</a>(</div>
<div class="line"><a id="l09890" name="l09890"></a><span class="lineno"> 9890</span>                                             <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ).<a class="code hl_function" href="classrecipe.html#a555772480849b6e628c94dd0f56af81e">disassembly_requirements</a>().<a class="code hl_function" href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">get_components</a>();</div>
<div class="line"><a id="l09891" name="l09891"></a><span class="lineno"> 9891</span>        <span class="keywordflow">for</span>( std::vector&lt;item_comp&gt; &amp;<a class="code hl_struct" href="structcomponent.html">component</a> : <a class="code hl_class" href="classrecipe.html">recipe</a> ) {</div>
<div class="line"><a id="l09892" name="l09892"></a><span class="lineno"> 9892</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.push_back( <a class="code hl_struct" href="structcomponent.html">component</a>.front() );</div>
<div class="line"><a id="l09893" name="l09893"></a><span class="lineno"> 9893</span>        }</div>
<div class="line"><a id="l09894" name="l09894"></a><span class="lineno"> 9894</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09895" name="l09895"></a><span class="lineno"> 9895</span>        <span class="comment">//Make a new vector of components from the registered components</span></div>
<div class="line"><a id="l09896" name="l09896"></a><span class="lineno"> 9896</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_struct" href="structcomponent.html">component</a> : <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l09897" name="l09897"></a><span class="lineno"> 9897</span>            <span class="keyword">auto</span> iter = std::find_if( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.begin(), <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.end(), [<a class="code hl_struct" href="structcomponent.html">component</a>]( <a class="code hl_struct" href="structitem__comp.html">item_comp</a> &amp; obj ) {</div>
<div class="line"><a id="l09898" name="l09898"></a><span class="lineno"> 9898</span>                return obj.type == component.typeId();</div>
<div class="line"><a id="l09899" name="l09899"></a><span class="lineno"> 9899</span>            } );</div>
<div class="line"><a id="l09900" name="l09900"></a><span class="lineno"> 9900</span> </div>
<div class="line"><a id="l09901" name="l09901"></a><span class="lineno"> 9901</span>            <span class="keywordflow">if</span>( iter != <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.end() ) {</div>
<div class="line"><a id="l09902" name="l09902"></a><span class="lineno"> 9902</span>                iter-&gt;count += <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a>();</div>
<div class="line"><a id="l09903" name="l09903"></a><span class="lineno"> 9903</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09904" name="l09904"></a><span class="lineno"> 9904</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.push_back( <a class="code hl_struct" href="structitem__comp.html">item_comp</a>( <a class="code hl_struct" href="structcomponent.html">component</a>.typeId(), <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a>() ) );</div>
<div class="line"><a id="l09905" name="l09905"></a><span class="lineno"> 9905</span>            }</div>
<div class="line"><a id="l09906" name="l09906"></a><span class="lineno"> 9906</span>        }</div>
<div class="line"><a id="l09907" name="l09907"></a><span class="lineno"> 9907</span>    }</div>
<div class="line"><a id="l09908" name="l09908"></a><span class="lineno"> 9908</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l09909" name="l09909"></a><span class="lineno"> 9909</span>}</div>
<div class="ttc" id="astructcomponent_html_aa6596b552ee2f19c2440c5a6aed9ecf4"><div class="ttname"><a href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">component::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00059">requirements.h:59</a></div></div>
<div class="ttc" id="astructitem__comp_html"><div class="ttname"><a href="structitem__comp.html">item_comp</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00116">requirements.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="requirements_8h_source.html#l00059">component::count</a>, <a class="el" href="recipe_8h_source.html#l00094">recipe::disassembly_requirements()</a>, <a class="el" href="requirements_8cpp_source.html#l00985">requirement_data::get_components()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00073">recipe_dictionary::get_uncraft()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00447">disassemble_inventory_preset::disassemble_inventory_preset()</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

</div>
</div>
<a id="a230c9ca0754cc8999c7d0136c93a5441" name="a230c9ca0754cc8999c7d0136c93a5441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a230c9ca0754cc8999c7d0136c93a5441">&#9670;&nbsp;</a></span>get_usable_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * item::get_usable_item </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>use_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks this item and its contents (recursively) for types that have <a class="el" href="structuse__function.html">use_function</a> with type use_name. </p>
<p >Returns the first item that does have such type or nullptr if none found. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07812">7812</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07813" name="l07813"></a><span class="lineno"> 7813</span>{</div>
<div class="line"><a id="l07814" name="l07814"></a><span class="lineno"> 7814</span>    <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l07815" name="l07815"></a><span class="lineno"> 7815</span>    <a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>(</div>
<div class="line"><a id="l07816" name="l07816"></a><span class="lineno"> 7816</span>    [&amp;<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>, &amp;use_name]( <a class="code hl_class" href="classitem.html">item</a> * it ) {</div>
<div class="line"><a id="l07817" name="l07817"></a><span class="lineno"> 7817</span>        <span class="keywordflow">if</span>( it == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l07818" name="l07818"></a><span class="lineno"> 7818</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613dab85df04e922fe1dd3c1f0692faeaacef">VisitResponse::SKIP</a>;</div>
<div class="line"><a id="l07819" name="l07819"></a><span class="lineno"> 7819</span>        }</div>
<div class="line"><a id="l07820" name="l07820"></a><span class="lineno"> 7820</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a33012849b7bf7ea24b61a1dbf6b90ad1">get_use_internal</a>( use_name ) ) {</div>
<div class="line"><a id="l07821" name="l07821"></a><span class="lineno"> 7821</span>            ret = it;</div>
<div class="line"><a id="l07822" name="l07822"></a><span class="lineno"> 7822</span>            return VisitResponse::ABORT;</div>
<div class="line"><a id="l07823" name="l07823"></a><span class="lineno"> 7823</span>        }</div>
<div class="line"><a id="l07824" name="l07824"></a><span class="lineno"> 7824</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l07825" name="l07825"></a><span class="lineno"> 7825</span>    } );</div>
<div class="line"><a id="l07826" name="l07826"></a><span class="lineno"> 7826</span> </div>
<div class="line"><a id="l07827" name="l07827"></a><span class="lineno"> 7827</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l07828" name="l07828"></a><span class="lineno"> 7828</span>}</div>
<div class="ttc" id="aclassitem_html_a33012849b7bf7ea24b61a1dbf6b90ad1"><div class="ttname"><a href="classitem.html#a33012849b7bf7ea24b61a1dbf6b90ad1">item::get_use_internal</a></div><div class="ttdeci">const use_function * get_use_internal(const std::string &amp;use_name) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07804">item.cpp:7804</a></div></div>
<div class="ttc" id="avisitable_8h_html_aa872f25fbac30cbf9e03c0153587613dab85df04e922fe1dd3c1f0692faeaacef"><div class="ttname"><a href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613dab85df04e922fe1dd3c1f0692faeaacef">VisitResponse::SKIP</a></div><div class="ttdeci">@ SKIP</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07804">get_use_internal()</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613dab85df04e922fe1dd3c1f0692faeaacef">SKIP</a>, and <a class="el" href="visitable_8cpp_source.html#l00423">visitable&lt; item &gt;::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l08556">game::butcher()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01640">activity_handlers::firstaid_finish()</a>, <a class="el" href="character_8cpp_source.html#l07318">Character::invoke_item()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01817">activity_handlers::longsalvage_finish()</a>, <a class="el" href="item__action_8cpp_source.html#l00104">item_action_generator::map_actions_to_items()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02129">activity_handlers::start_fire_finish()</a>.</p>

</div>
</div>
<a id="a71dac02bae8b97487391d5540a89bc1c" name="a71dac02bae8b97487391d5540a89bc1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71dac02bae8b97487391d5540a89bc1c">&#9670;&nbsp;</a></span>get_use()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structuse__function.html">use_function</a> * item::get_use </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>use_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the pointer to <a class="el" href="structuse__function.html">use_function</a> with name use_name assigned to the type of this item or any of its contents. </p>
<p >Checks contents recursively. Returns nullptr if not found. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07786">7786</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07787" name="l07787"></a><span class="lineno"> 7787</span>{</div>
<div class="line"><a id="l07788" name="l07788"></a><span class="lineno"> 7788</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structuse__function.html">use_function</a> *fun = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l07789" name="l07789"></a><span class="lineno"> 7789</span>    <a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>(</div>
<div class="line"><a id="l07790" name="l07790"></a><span class="lineno"> 7790</span>    [&amp;fun, &amp;use_name]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> * it ) {</div>
<div class="line"><a id="l07791" name="l07791"></a><span class="lineno"> 7791</span>        <span class="keywordflow">if</span>( it == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l07792" name="l07792"></a><span class="lineno"> 7792</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613dab85df04e922fe1dd3c1f0692faeaacef">VisitResponse::SKIP</a>;</div>
<div class="line"><a id="l07793" name="l07793"></a><span class="lineno"> 7793</span>        }</div>
<div class="line"><a id="l07794" name="l07794"></a><span class="lineno"> 7794</span>        fun = it-&gt;<a class="code hl_function" href="classitem.html#a33012849b7bf7ea24b61a1dbf6b90ad1">get_use_internal</a>( use_name );</div>
<div class="line"><a id="l07795" name="l07795"></a><span class="lineno"> 7795</span>        <span class="keywordflow">if</span>( fun != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l07796" name="l07796"></a><span class="lineno"> 7796</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da8d12a2ca7e5a64036d7251a3eda51a38">VisitResponse::ABORT</a>;</div>
<div class="line"><a id="l07797" name="l07797"></a><span class="lineno"> 7797</span>        }</div>
<div class="line"><a id="l07798" name="l07798"></a><span class="lineno"> 7798</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l07799" name="l07799"></a><span class="lineno"> 7799</span>    } );</div>
<div class="line"><a id="l07800" name="l07800"></a><span class="lineno"> 7800</span> </div>
<div class="line"><a id="l07801" name="l07801"></a><span class="lineno"> 7801</span>    <span class="keywordflow">return</span> fun;</div>
<div class="line"><a id="l07802" name="l07802"></a><span class="lineno"> 7802</span>}</div>
<div class="ttc" id="avisitable_8h_html_aa872f25fbac30cbf9e03c0153587613da8d12a2ca7e5a64036d7251a3eda51a38"><div class="ttname"><a href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da8d12a2ca7e5a64036d7251a3eda51a38">VisitResponse::ABORT</a></div><div class="ttdeci">@ ABORT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da8d12a2ca7e5a64036d7251a3eda51a38">ABORT</a>, <a class="el" href="item_8cpp_source.html#l07804">get_use_internal()</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613dab85df04e922fe1dd3c1f0692faeaacef">SKIP</a>, and <a class="el" href="visitable_8cpp_source.html#l00423">visitable&lt; item &gt;::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="active__item__cache_8cpp_source.html#l00030">active_item_cache::add()</a>, <a class="el" href="game_8cpp_source.html#l08556">game::butcher()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01640">activity_handlers::firstaid_finish()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00358">iuse_transform::info()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01817">activity_handlers::longsalvage_finish()</a>, <a class="el" href="item__action_8cpp_source.html#l00104">item_action_generator::map_actions_to_items()</a>, <a class="el" href="item_8cpp_source.html#l04283">on_takeoff()</a>, <a class="el" href="item_8cpp_source.html#l04185">on_wear()</a>, <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>, <a class="el" href="handle__action_8cpp_source.html#l01288">read()</a>, <a class="el" href="active__item__cache_8cpp_source.html#l00009">active_item_cache::remove()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="handle__action_8cpp_source.html#l01000">sleep()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02129">activity_handlers::start_fire_finish()</a>, <a class="el" href="avatar_8cpp_source.html#l01226">avatar::wield()</a>, <a class="el" href="game_8cpp_source.html#l09008">game::wield()</a>, and <a class="el" href="npcmove_8cpp_source.html#l03381">npc::wield_better_weapon()</a>.</p>

</div>
</div>
<a id="a33012849b7bf7ea24b61a1dbf6b90ad1" name="a33012849b7bf7ea24b61a1dbf6b90ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33012849b7bf7ea24b61a1dbf6b90ad1">&#9670;&nbsp;</a></span>get_use_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structuse__function.html">use_function</a> * item::get_use_internal </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>use_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07804">7804</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07805" name="l07805"></a><span class="lineno"> 7805</span>{</div>
<div class="line"><a id="l07806" name="l07806"></a><span class="lineno"> 7806</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l07807" name="l07807"></a><span class="lineno"> 7807</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a304367633fdfe6c63a53bdce0caced92">get_use</a>( use_name );</div>
<div class="line"><a id="l07808" name="l07808"></a><span class="lineno"> 7808</span>    }</div>
<div class="line"><a id="l07809" name="l07809"></a><span class="lineno"> 7809</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l07810" name="l07810"></a><span class="lineno"> 7810</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8cpp_source.html#l00091">itype::get_use()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07812">get_usable_item()</a>, and <a class="el" href="item_8cpp_source.html#l07786">get_use()</a>.</p>

</div>
</div>
<a id="a9c745bc1090f7d261d4009995eb2389c" name="a9c745bc1090f7d261d4009995eb2389c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c745bc1090f7d261d4009995eb2389c">&#9670;&nbsp;</a></span>get_var() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::get_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the variable, if it does not exists, returns an empty string. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01062">1062</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>{</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, and <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>.</p>

</div>
</div>
<a id="a8c60191080c9f0022a97131727db43d9" name="a8c60191080c9f0022a97131727db43d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c60191080c9f0022a97131727db43d9">&#9670;&nbsp;</a></span>get_var() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::get_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>default_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01053">1053</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>{</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.find( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>    <span class="keywordflow">if</span>( it == <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end() ) {</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>        <span class="keywordflow">return</span> default_value;</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>    }</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, and <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>.</p>

</div>
</div>
<a id="a686539d1437fbb15ec9b289d2d656dc3" name="a686539d1437fbb15ec9b289d2d656dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a686539d1437fbb15ec9b289d2d656dc3">&#9670;&nbsp;</a></span>get_var() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> item::get_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>default_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01036">1036</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>{</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.find( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    <span class="keywordflow">if</span>( it == <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end() ) {</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>        <span class="keywordflow">return</span> default_value;</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>    }</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>    std::vector&lt;std::string&gt; values = <a class="code hl_function" href="string__utils_8cpp.html#a325b20c0f964a52577cd24a651d5bda7">string_split</a>( it-&gt;second, <span class="charliteral">&#39;,&#39;</span> );</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a>( atoi( values[0].c_str() ),</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>                     atoi( values[1].c_str() ),</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>                     atoi( values[2].c_str() ) );</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>}</div>
<div class="ttc" id="astring__utils_8cpp_html_a325b20c0f964a52577cd24a651d5bda7"><div class="ttname"><a href="string__utils_8cpp.html#a325b20c0f964a52577cd24a651d5bda7">string_split</a></div><div class="ttdeci">std::vector&lt; std::string &gt; string_split(const std::string &amp;text_in, char delim_in)</div><div class="ttdoc">Split string by delimiter.</div><div class="ttdef"><b>Definition:</b> <a href="string__utils_8cpp_source.html#l00103">string_utils.cpp:103</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, and <a class="el" href="string__utils_8cpp_source.html#l00103">string_split()</a>.</p>

</div>
</div>
<a id="a0b12108a604ac9d940716bb8f1368cf5" name="a0b12108a604ac9d940716bb8f1368cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b12108a604ac9d940716bb8f1368cf5">&#9670;&nbsp;</a></span>get_var() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double item::get_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>default_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01022">1022</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>{</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.find( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>    <span class="keywordflow">if</span>( it == <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end() ) {</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>        <span class="keywordflow">return</span> default_value;</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>    }</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>    <span class="keywordflow">return</span> atof( it-&gt;second.c_str() );</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, and <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="iuse_8cpp_source.html#l08909">iuse::cable_attach()</a>, <a class="el" href="iuse_8cpp_source.html#l07494">iuse::camera()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="iuse_8cpp_source.html#l09356">iuse::capture_monster_act()</a>, <a class="el" href="profession_8cpp_source.html#l00379">clear_faults()</a>, <a class="el" href="item_8cpp_source.html#l03068">component_info()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="iuse_8cpp_source.html#l06206">einkpc_download_memory_card()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="mondeath_8cpp_source.html#l00586">mdeath::focused_beam()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="iuse_8cpp_source.html#l04330">iuse::gasmask()</a>, <a class="el" href="item_8cpp_source.html#l06954">get_available_recipes()</a>, <a class="el" href="item_8cpp_source.html#l09179">get_cable_target()</a>, <a class="el" href="item_8cpp_source.html#l09970">get_clothing_mod_val()</a>, <a class="el" href="item_8cpp_source.html#l05613">get_env_resist()</a>, <a class="el" href="item_8cpp_source.html#l06936">get_remaining_chapters()</a>, <a class="el" href="item_8cpp_source.html#l00805">get_side()</a>, <a class="el" href="item_8cpp_source.html#l01062">get_var()</a>, <a class="el" href="item_8cpp_source.html#l07741">gun_get_mode_id()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="monster_8cpp_source.html#l02758">monster::init_from_item()</a>, <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01763">inscribe_actor::item_inscription()</a>, <a class="el" href="iuse_8cpp_source.html#l07410">item_read_extended_photos()</a>, <a class="el" href="iuse_8cpp_source.html#l07367">item_save_monsters()</a>, <a class="el" href="item_8cpp_source.html#l09779">label()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00105">vehicle_part::name()</a>, <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>, <a class="el" href="item_8cpp_source.html#l09198">process_cable()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="item_8cpp_source.html#l09271">process_UPS()</a>, <a class="el" href="iuse_8cpp_source.html#l09317">release_monster()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>, <a class="el" href="game_8cpp_source.html#l05155">game::revive_corpse()</a>, <a class="el" href="iuse_8cpp_source.html#l04216">iuse::rpgdie()</a>, <a class="el" href="monattack_8cpp_source.html#l03436">mattack::searchlight()</a>, <a class="el" href="suffer_8cpp_source.html#l00429">Character::suffer_from_schizophrenia()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01924">tidy_activity()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="iuse_8cpp_source.html#l08782">iuse::tow_attach()</a>, <a class="el" href="npctrade_8cpp_source.html#l00699">npc_trading::trade()</a>, <a class="el" href="iuse_8cpp_source.html#l05639">iuse::unfold_generic()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00633">unfold_vehicle_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01339">reveal_map_actor::use()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="aa7e45a18f173ca31f0c0ba31f3397854" name="aa7e45a18f173ca31f0c0ba31f3397854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e45a18f173ca31f0c0ba31f3397854">&#9670;&nbsp;</a></span>get_warmth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::get_warmth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the warmth value that this item has when worn. </p>
<p >See player class for temperature related code, or <a class="el" href="classCharacter.html#a64f14497e3cba41e92963ba948f20e80">player::warmth</a>. Returned values should be positive. A value of 0 indicates no warmth from this item at all (this is also the default for non-armor). </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05768">5768</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05769" name="l05769"></a><span class="lineno"> 5769</span>{</div>
<div class="line"><a id="l05770" name="l05770"></a><span class="lineno"> 5770</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l05771" name="l05771"></a><span class="lineno"> 5771</span>    <span class="keywordflow">if</span>( t == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05772" name="l05772"></a><span class="lineno"> 5772</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05773" name="l05773"></a><span class="lineno"> 5773</span>    }</div>
<div class="line"><a id="l05774" name="l05774"></a><span class="lineno"> 5774</span>    <span class="keywordtype">int</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = t-&gt;<a class="code hl_variable" href="structislot__armor.html#a2818da442fdeaf06512874cc9944a89b">warmth</a>;</div>
<div class="line"><a id="l05775" name="l05775"></a><span class="lineno"> 5775</span> </div>
<div class="line"><a id="l05776" name="l05776"></a><span class="lineno"> 5776</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> += <a class="code hl_function" href="classitem.html#a487b1c2d4c6e05794c446b231f39d6e8">get_clothing_mod_val</a>( <a class="code hl_enumvalue" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152ace6c010f4f6485d88e125e59519e124a">clothing_mod_type_warmth</a> );</div>
<div class="line"><a id="l05777" name="l05777"></a><span class="lineno"> 5777</span> </div>
<div class="line"><a id="l05778" name="l05778"></a><span class="lineno"> 5778</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l05779" name="l05779"></a><span class="lineno"> 5779</span>}</div>
<div class="ttc" id="aclothing__mod_8h_html_ab129387d97c2c7f0393c210d21df0152ace6c010f4f6485d88e125e59519e124a"><div class="ttname"><a href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152ace6c010f4f6485d88e125e59519e124a">clothing_mod_type_warmth</a></div><div class="ttdeci">@ clothing_mod_type_warmth</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00023">clothing_mod.h:23</a></div></div>
<div class="ttc" id="astructislot__armor_html_a2818da442fdeaf06512874cc9944a89b"><div class="ttname"><a href="structislot__armor.html#a2818da442fdeaf06512874cc9944a89b">islot_armor::warmth</a></div><div class="ttdeci">int warmth</div><div class="ttdoc">How much warmth this item provides.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00271">itype.h:271</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="clothing__mod_8h_source.html#l00023">clothing_mod_type_warmth</a>, <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="item_8cpp_source.html#l09970">get_clothing_mod_val()</a>, and <a class="el" href="itype_8h_source.html#l00271">islot_armor::warmth</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00282">armor_inventory_preset::armor_inventory_preset()</a>, <a class="el" href="character__oracle_8cpp_source.html#l00056">behavior::character_oracle_t::can_wear_warmer_clothes()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00294">anonymous_namespace{armor_layers.cpp}::clothing_properties()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>, and <a class="el" href="character_8cpp_source.html#l09347">Character::warmth()</a>.</p>

</div>
</div>
<a id="a93d69d87b0c4bb5cc90f95f50785adb9" name="a93d69d87b0c4bb5cc90f95f50785adb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d69d87b0c4bb5cc90f95f50785adb9">&#9670;&nbsp;</a></span>get_weight_capacity_bonus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> item::get_weight_capacity_bonus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the weight capacity bonus (<a class="el" href="structislot__armor.html#ae0b4e44bebd93c6731e50f905cd89241">islot_armor::weight_capacity_modifier</a>) that this item provides when worn. </p>
<p >For non-armor it returns 0. The bonus is added to the total weight capacity of the character that wears the item. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05604">5604</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05605" name="l05605"></a><span class="lineno"> 5605</span>{</div>
<div class="line"><a id="l05606" name="l05606"></a><span class="lineno"> 5606</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l05607" name="l05607"></a><span class="lineno"> 5607</span>    <span class="keywordflow">if</span>( t == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05608" name="l05608"></a><span class="lineno"> 5608</span>        <span class="keywordflow">return</span> 0_gram;</div>
<div class="line"><a id="l05609" name="l05609"></a><span class="lineno"> 5609</span>    }</div>
<div class="line"><a id="l05610" name="l05610"></a><span class="lineno"> 5610</span>    <span class="keywordflow">return</span> t-&gt;<a class="code hl_variable" href="structislot__armor.html#a733a3e21b8944c8f738adc9dc0c2db4f">weight_capacity_bonus</a>;</div>
<div class="line"><a id="l05611" name="l05611"></a><span class="lineno"> 5611</span>}</div>
<div class="ttc" id="astructislot__armor_html_a733a3e21b8944c8f738adc9dc0c2db4f"><div class="ttname"><a href="structislot__armor.html#a733a3e21b8944c8f738adc9dc0c2db4f">islot_armor::weight_capacity_bonus</a></div><div class="ttdeci">units::mass weight_capacity_bonus</div><div class="ttdoc">Bonus to weight capacity.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00283">itype.h:283</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, and <a class="el" href="itype_8h_source.html#l00283">islot_armor::weight_capacity_bonus</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>.</p>

</div>
</div>
<a id="ac5c4e0b19f9a1b77e17286332f2ca550" name="ac5c4e0b19f9a1b77e17286332f2ca550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c4e0b19f9a1b77e17286332f2ca550">&#9670;&nbsp;</a></span>get_weight_capacity_modifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float item::get_weight_capacity_modifier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the weight capacity modifier (<a class="el" href="structislot__armor.html#ae0b4e44bebd93c6731e50f905cd89241">islot_armor::weight_capacity_modifier</a>) that this item provides when worn. </p>
<p >For non-armor it returns 1. The modifier is multiplied with the weight capacity of the character that wears the item. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05595">5595</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05596" name="l05596"></a><span class="lineno"> 5596</span>{</div>
<div class="line"><a id="l05597" name="l05597"></a><span class="lineno"> 5597</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l05598" name="l05598"></a><span class="lineno"> 5598</span>    <span class="keywordflow">if</span>( t == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05599" name="l05599"></a><span class="lineno"> 5599</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l05600" name="l05600"></a><span class="lineno"> 5600</span>    }</div>
<div class="line"><a id="l05601" name="l05601"></a><span class="lineno"> 5601</span>    <span class="keywordflow">return</span> t-&gt;<a class="code hl_variable" href="structislot__armor.html#ae0b4e44bebd93c6731e50f905cd89241">weight_capacity_modifier</a>;</div>
<div class="line"><a id="l05602" name="l05602"></a><span class="lineno"> 5602</span>}</div>
<div class="ttc" id="astructislot__armor_html_ae0b4e44bebd93c6731e50f905cd89241"><div class="ttname"><a href="structislot__armor.html#ae0b4e44bebd93c6731e50f905cd89241">islot_armor::weight_capacity_modifier</a></div><div class="ttdeci">float weight_capacity_modifier</div><div class="ttdoc">Factor modifiying weight capacity.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00279">itype.h:279</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, and <a class="el" href="itype_8h_source.html#l00279">islot_armor::weight_capacity_modifier</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>.</p>

</div>
</div>
<a id="a3c32a5f35a17296686ff631167312fa6" name="a3c32a5f35a17296686ff631167312fa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c32a5f35a17296686ff631167312fa6">&#9670;&nbsp;</a></span>getlight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::getlight </td>
          <td>(</td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>luminance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a> &amp;&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Directional light emission of the item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">luminance</td><td>The amount of light (see <a class="el" href="lightmap_8cpp.html">lightmap.cpp</a>) </td></tr>
    <tr><td class="paramname">width</td><td>If greater 0, the light is emitted in an arc, this is the angle of it. </td></tr>
    <tr><td class="paramname">direction</td><td>The direction of the light arc. In degrees. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08201">8201</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08202" name="l08202"></a><span class="lineno"> 8202</span>{</div>
<div class="line"><a id="l08203" name="l08203"></a><span class="lineno"> 8203</span>    luminance = 0;</div>
<div class="line"><a id="l08204" name="l08204"></a><span class="lineno"> 8204</span>    width = 0_degrees;</div>
<div class="line"><a id="l08205" name="l08205"></a><span class="lineno"> 8205</span>    <a class="code hl_enumeration" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> = 0_degrees;</div>
<div class="line"><a id="l08206" name="l08206"></a><span class="lineno"> 8206</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a>.<a class="code hl_variable" href="structlight__emission.html#a16250874faa8912324fbc4a305fe0e1b">luminance</a> &gt; 0 ) {</div>
<div class="line"><a id="l08207" name="l08207"></a><span class="lineno"> 8207</span>        luminance = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a>.<a class="code hl_variable" href="structlight__emission.html#a16250874faa8912324fbc4a305fe0e1b">luminance</a> );</div>
<div class="line"><a id="l08208" name="l08208"></a><span class="lineno"> 8208</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a>.<a class="code hl_variable" href="structlight__emission.html#ad2702f7a90a78ab3263fa52ffb803385">width</a> &gt; 0 ) {  <span class="comment">// width &gt; 0 is a light arc</span></div>
<div class="line"><a id="l08209" name="l08209"></a><span class="lineno"> 8209</span>            width = <a class="code hl_function" href="namespaceunits.html#a068cd98efba5fd1fbb936ce3597db23d">units::from_degrees</a>( <a class="code hl_variable" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a>.<a class="code hl_variable" href="structlight__emission.html#ad2702f7a90a78ab3263fa52ffb803385">width</a> );</div>
<div class="line"><a id="l08210" name="l08210"></a><span class="lineno"> 8210</span>            <a class="code hl_enumeration" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> = <a class="code hl_function" href="namespaceunits.html#a068cd98efba5fd1fbb936ce3597db23d">units::from_degrees</a>( <a class="code hl_variable" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a>.<a class="code hl_variable" href="structlight__emission.html#ab0ec1df6fca595be85ddc4ce6d64c274">direction</a> );</div>
<div class="line"><a id="l08211" name="l08211"></a><span class="lineno"> 8211</span>        }</div>
<div class="line"><a id="l08212" name="l08212"></a><span class="lineno"> 8212</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08213" name="l08213"></a><span class="lineno"> 8213</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08214" name="l08214"></a><span class="lineno"> 8214</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> lumint = <a class="code hl_function" href="classitem.html#ae70dfaf9ac8fb72e1656e8ff3d730e91">getlight_emit</a>();</div>
<div class="line"><a id="l08215" name="l08215"></a><span class="lineno"> 8215</span>        <span class="keywordflow">if</span>( lumint &gt; 0 ) {</div>
<div class="line"><a id="l08216" name="l08216"></a><span class="lineno"> 8216</span>            luminance = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( lumint );</div>
<div class="line"><a id="l08217" name="l08217"></a><span class="lineno"> 8217</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08218" name="l08218"></a><span class="lineno"> 8218</span>        }</div>
<div class="line"><a id="l08219" name="l08219"></a><span class="lineno"> 8219</span>    }</div>
<div class="line"><a id="l08220" name="l08220"></a><span class="lineno"> 8220</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08221" name="l08221"></a><span class="lineno"> 8221</span>}</div>
<div class="ttc" id="aclassitem_html_a811dfbca1ec2cd86b6b4de809c642fe8"><div class="ttname"><a href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">item::light</a></div><div class="ttdeci">light_emission light</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02229">item.h:2229</a></div></div>
<div class="ttc" id="aclassitem_html_ae70dfaf9ac8fb72e1656e8ff3d730e91"><div class="ttname"><a href="classitem.html#ae70dfaf9ac8fb72e1656e8ff3d730e91">item::getlight_emit</a></div><div class="ttdeci">int getlight_emit() const</div><div class="ttdoc">How much light (see lightmap.cpp) the item emits (it's assumed to be circular).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08223">item.cpp:8223</a></div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00039">line.h:39</a></div></div>
<div class="ttc" id="anamespaceunits_html_a068cd98efba5fd1fbb936ce3597db23d"><div class="ttname"><a href="namespaceunits.html#a068cd98efba5fd1fbb936ce3597db23d">units::from_degrees</a></div><div class="ttdeci">constexpr quantity&lt; double, angle_in_radians_tag &gt; from_degrees(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units__angle_8h_source.html#l00031">units_angle.h:31</a></div></div>
<div class="ttc" id="astructlight__emission_html_a16250874faa8912324fbc4a305fe0e1b"><div class="ttname"><a href="structlight__emission.html#a16250874faa8912324fbc4a305fe0e1b">light_emission::luminance</a></div><div class="ttdeci">unsigned short luminance</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00087">item.h:87</a></div></div>
<div class="ttc" id="astructlight__emission_html_ab0ec1df6fca595be85ddc4ce6d64c274"><div class="ttname"><a href="structlight__emission.html#ab0ec1df6fca595be85ddc4ce6d64c274">light_emission::direction</a></div><div class="ttdeci">short direction</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00089">item.h:89</a></div></div>
<div class="ttc" id="astructlight__emission_html_ad2702f7a90a78ab3263fa52ffb803385"><div class="ttname"><a href="structlight__emission.html#ad2702f7a90a78ab3263fa52ffb803385">light_emission::width</a></div><div class="ttdeci">short width</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00088">item.h:88</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l00089">light_emission::direction</a>, <a class="el" href="units__angle_8h_source.html#l00031">units::from_degrees()</a>, <a class="el" href="item_8cpp_source.html#l08223">getlight_emit()</a>, <a class="el" href="item_8h_source.html#l02229">light</a>, <a class="el" href="item_8h_source.html#l00087">light_emission::luminance</a>, and <a class="el" href="item_8h_source.html#l00088">light_emission::width</a>.</p>

</div>
</div>
<a id="ae70dfaf9ac8fb72e1656e8ff3d730e91" name="ae70dfaf9ac8fb72e1656e8ff3d730e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae70dfaf9ac8fb72e1656e8ff3d730e91">&#9670;&nbsp;</a></span>getlight_emit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::getlight_emit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How much light (see <a class="el" href="lightmap_8cpp.html">lightmap.cpp</a>) the item emits (it's assumed to be circular). </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08223">8223</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08224" name="l08224"></a><span class="lineno"> 8224</span>{</div>
<div class="line"><a id="l08225" name="l08225"></a><span class="lineno"> 8225</span>    <span class="keywordtype">float</span> lumint = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a64d8b1399996d38b2ed54e1543dcef50">light_emission</a>;</div>
<div class="line"><a id="l08226" name="l08226"></a><span class="lineno"> 8226</span> </div>
<div class="line"><a id="l08227" name="l08227"></a><span class="lineno"> 8227</span>    <span class="keywordflow">if</span>( lumint == 0 ) {</div>
<div class="line"><a id="l08228" name="l08228"></a><span class="lineno"> 8228</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08229" name="l08229"></a><span class="lineno"> 8229</span>    }</div>
<div class="line"><a id="l08230" name="l08230"></a><span class="lineno"> 8230</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a860d41dfa83596cee6c3be427c3a0c22">flag_CHARGEDIM</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS</a> ) ) {</div>
<div class="line"><a id="l08231" name="l08231"></a><span class="lineno"> 8231</span>        <span class="comment">// Falloff starts at 1/5 total charge and scales linearly from there to 0.</span></div>
<div class="line"><a id="l08232" name="l08232"></a><span class="lineno"> 8232</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &lt; ( <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() / 5 ) ) {</div>
<div class="line"><a id="l08233" name="l08233"></a><span class="lineno"> 8233</span>            lumint *= <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() * 5.0 / <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>();</div>
<div class="line"><a id="l08234" name="l08234"></a><span class="lineno"> 8234</span>        }</div>
<div class="line"><a id="l08235" name="l08235"></a><span class="lineno"> 8235</span>    }</div>
<div class="line"><a id="l08236" name="l08236"></a><span class="lineno"> 8236</span>    <span class="keywordflow">return</span> lumint;</div>
<div class="line"><a id="l08237" name="l08237"></a><span class="lineno"> 8237</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a860d41dfa83596cee6c3be427c3a0c22"><div class="ttname"><a href="item_8cpp.html#a860d41dfa83596cee6c3be427c3a0c22">flag_CHARGEDIM</a></div><div class="ttdeci">static const std::string flag_CHARGEDIM(&quot;CHARGEDIM&quot;)</div></div>
<div class="ttc" id="astructitype_html_a64d8b1399996d38b2ed54e1543dcef50"><div class="ttname"><a href="structitype.html#a64d8b1399996d38b2ed54e1543dcef50">itype::light_emission</a></div><div class="ttdeci">unsigned light_emission</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01000">itype.h:1000</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp.html#a860d41dfa83596cee6c3be427c3a0c22">flag_CHARGEDIM()</a>, <a class="el" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="itype_8h_source.html#l01000">itype::light_emission</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l06359">Character::active_light()</a>, and <a class="el" href="item_8cpp_source.html#l08201">getlight()</a>.</p>

</div>
</div>
<a id="a9e073e3ce3fcc2e91bdaea5d603e798b" name="a9e073e3ce3fcc2e91bdaea5d603e798b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e073e3ce3fcc2e91bdaea5d603e798b">&#9670;&nbsp;</a></span>goes_bad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::goes_bad </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>whether an item is perishable (can rot) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05387">5387</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05388" name="l05388"></a><span class="lineno"> 5388</span>{</div>
<div class="line"><a id="l05389" name="l05389"></a><span class="lineno"> 5389</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceitem__internal.html#af79d0fe9c048e24e0f008cdde4b7bd46">item_internal::goes_bad_cache_is_for</a>( <span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l05390" name="l05390"></a><span class="lineno"> 5390</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceitem__internal.html#a8bb10214908daf1a18955e5425081ca7">item_internal::goes_bad_cache_fetch</a>();</div>
<div class="line"><a id="l05391" name="l05391"></a><span class="lineno"> 5391</span>    }</div>
<div class="line"><a id="l05392" name="l05392"></a><span class="lineno"> 5392</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a44e5e6e712f172e377a17a0c9167c4c4">flag_PROCESSING</a> ) ) {</div>
<div class="line"><a id="l05393" name="l05393"></a><span class="lineno"> 5393</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05394" name="l05394"></a><span class="lineno"> 5394</span>    }</div>
<div class="line"><a id="l05395" name="l05395"></a><span class="lineno"> 5395</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a id="l05396" name="l05396"></a><span class="lineno"> 5396</span>        <span class="comment">// Corpses rot only if they are made of rotting materials</span></div>
<div class="line"><a id="l05397" name="l05397"></a><span class="lineno"> 5397</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a9e2c24734b538e61e186fb6777b62c25">made_of_any</a>( <a class="code hl_function" href="namespacematerials.html#a9efa40da895bb4f5dbeb7db8f3f0b5bb">materials::get_rotting</a>() );</div>
<div class="line"><a id="l05398" name="l05398"></a><span class="lineno"> 5398</span>    }</div>
<div class="line"><a id="l05399" name="l05399"></a><span class="lineno"> 5399</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;spoils != 0_turns;</div>
<div class="line"><a id="l05400" name="l05400"></a><span class="lineno"> 5400</span>}</div>
<div class="ttc" id="aclassitem_html_a9e2c24734b538e61e186fb6777b62c25"><div class="ttname"><a href="classitem.html#a9e2c24734b538e61e186fb6777b62c25">item::made_of_any</a></div><div class="ttdeci">bool made_of_any(const std::set&lt; material_id &gt; &amp;mat_idents) const</div><div class="ttdoc">Check we are made of at least one of a set (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06285">item.cpp:6285</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a44e5e6e712f172e377a17a0c9167c4c4"><div class="ttname"><a href="item_8cpp.html#a44e5e6e712f172e377a17a0c9167c4c4">flag_PROCESSING</a></div><div class="ttdeci">static const std::string flag_PROCESSING(&quot;PROCESSING&quot;)</div></div>
<div class="ttc" id="anamespaceitem__internal_html_a8bb10214908daf1a18955e5425081ca7"><div class="ttname"><a href="namespaceitem__internal.html#a8bb10214908daf1a18955e5425081ca7">item_internal::goes_bad_cache_fetch</a></div><div class="ttdeci">bool goes_bad_cache_fetch()</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00331">item.cpp:331</a></div></div>
<div class="ttc" id="anamespaceitem__internal_html_af79d0fe9c048e24e0f008cdde4b7bd46"><div class="ttname"><a href="namespaceitem__internal.html#af79d0fe9c048e24e0f008cdde4b7bd46">item_internal::goes_bad_cache_is_for</a></div><div class="ttdeci">bool goes_bad_cache_is_for(const item *i)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00345">item.cpp:345</a></div></div>
<div class="ttc" id="anamespacematerials_html_a9efa40da895bb4f5dbeb7db8f3f0b5bb"><div class="ttname"><a href="namespacematerials.html#a9efa40da895bb4f5dbeb7db8f3f0b5bb">materials::get_rotting</a></div><div class="ttdeci">std::set&lt; material_id &gt; get_rotting()</div><div class="ttdef"><b>Definition:</b> <a href="material_8cpp_source.html#l00327">material.cpp:327</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a44e5e6e712f172e377a17a0c9167c4c4">flag_PROCESSING()</a>, <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, <a class="el" href="material_8cpp_source.html#l00327">materials::get_rotting()</a>, <a class="el" href="item_8cpp_source.html#l00331">item_internal::goes_bad_cache_fetch()</a>, <a class="el" href="item_8cpp_source.html#l00345">item_internal::goes_bad_cache_is_for()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>, and <a class="el" href="item_8cpp_source.html#l06285">made_of_any()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="item_8cpp_source.html#l00448">get_most_rotten_component()</a>, <a class="el" href="item_8cpp_source.html#l05420">get_relative_rot()</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="item_8cpp_source.html#l05402">goes_bad_after_opening()</a>, <a class="el" href="item_8cpp_source.html#l00335">item_internal::goes_bad_cache_set()</a>, <a class="el" href="item_8cpp_source.html#l08642">has_rotten_away()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item_8cpp_source.html#l05428">set_relative_rot()</a>, <a class="el" href="item_8cpp_source.html#l05446">spoilage_sort_order()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="a29d5bcb46b16d719206e2db3bd4556cf" name="a29d5bcb46b16d719206e2db3bd4556cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29d5bcb46b16d719206e2db3bd4556cf">&#9670;&nbsp;</a></span>goes_bad_after_opening()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::goes_bad_after_opening </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>whether an item is perishable (can rot), even if it is currently in a preserving container </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05402">5402</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05403" name="l05403"></a><span class="lineno"> 5403</span>{</div>
<div class="line"><a id="l05404" name="l05404"></a><span class="lineno"> 5404</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() || ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;preserves &amp;&amp;</div>
<div class="line"><a id="l05405" name="l05405"></a><span class="lineno"> 5405</span>                           !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() );</div>
<div class="line"><a id="l05406" name="l05406"></a><span class="lineno"> 5406</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="aa1a2ecb3e9ebf95dc7fedac4c1de32b4" name="aa1a2ecb3e9ebf95dc7fedac4c1de32b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a2ecb3e9ebf95dc7fedac4c1de32b4">&#9670;&nbsp;</a></span>gun_all_modes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; <a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>, <a class="el" href="classgun__mode.html">gun_mode</a> &gt; item::gun_all_modes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all possible modes for this gun inclusive of any attached gunmods. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07677">7677</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07678" name="l07678"></a><span class="lineno"> 7678</span>{</div>
<div class="line"><a id="l07679" name="l07679"></a><span class="lineno"> 7679</span>    std::map&lt;gun_mode_id, gun_mode&gt; res;</div>
<div class="line"><a id="l07680" name="l07680"></a><span class="lineno"> 7680</span> </div>
<div class="line"><a id="l07681" name="l07681"></a><span class="lineno"> 7681</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() || <a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() ) {</div>
<div class="line"><a id="l07682" name="l07682"></a><span class="lineno"> 7682</span>        <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07683" name="l07683"></a><span class="lineno"> 7683</span>    }</div>
<div class="line"><a id="l07684" name="l07684"></a><span class="lineno"> 7684</span> </div>
<div class="line"><a id="l07685" name="l07685"></a><span class="lineno"> 7685</span>    std::vector&lt;const item *&gt; opts = <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>();</div>
<div class="line"><a id="l07686" name="l07686"></a><span class="lineno"> 7686</span>    opts.push_back( <span class="keyword">this</span> );</div>
<div class="line"><a id="l07687" name="l07687"></a><span class="lineno"> 7687</span> </div>
<div class="line"><a id="l07688" name="l07688"></a><span class="lineno"> 7688</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *e : opts ) {</div>
<div class="line"><a id="l07689" name="l07689"></a><span class="lineno"> 7689</span> </div>
<div class="line"><a id="l07690" name="l07690"></a><span class="lineno"> 7690</span>        <span class="comment">// handle base item plus any auxiliary gunmods</span></div>
<div class="line"><a id="l07691" name="l07691"></a><span class="lineno"> 7691</span>        <span class="keywordflow">if</span>( e-&gt;is_gun() ) {</div>
<div class="line"><a id="l07692" name="l07692"></a><span class="lineno"> 7692</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const gun_mode_id, gun_modifier_data&gt; &amp;m : e-&gt;type-&gt;gun-&gt;modes ) {</div>
<div class="line"><a id="l07693" name="l07693"></a><span class="lineno"> 7693</span>                <span class="comment">// prefix attached gunmods, e.g. M203_DEFAULT to avoid index key collisions</span></div>
<div class="line"><a id="l07694" name="l07694"></a><span class="lineno"> 7694</span>                std::string <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c">prefix</a> = e-&gt;is_gunmod() ? ( std::string( e-&gt;typeId() ) += <span class="stringliteral">&quot;_&quot;</span> ) : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l07695" name="l07695"></a><span class="lineno"> 7695</span>                <a class="code hl_function" href="namespaceiexamine.html#ab9103bcb0e9cb4755b445e5395a0a62f">std::transform</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c">prefix</a>.begin(), <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c">prefix</a>.end(), <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c">prefix</a>.begin(),</div>
<div class="line"><a id="l07696" name="l07696"></a><span class="lineno"> 7696</span>                                <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span>( * )( <span class="keywordtype">int</span> )<span class="keyword">&gt;</span>( toupper ) );</div>
<div class="line"><a id="l07697" name="l07697"></a><span class="lineno"> 7697</span> </div>
<div class="line"><a id="l07698" name="l07698"></a><span class="lineno"> 7698</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> qty = m.second.qty();</div>
<div class="line"><a id="l07699" name="l07699"></a><span class="lineno"> 7699</span> </div>
<div class="line"><a id="l07700" name="l07700"></a><span class="lineno"> 7700</span>                res.emplace( <a class="code hl_typedef" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c">prefix</a> + m.first.str() ), <a class="code hl_class" href="classgun__mode.html">gun_mode</a>( m.second.name(),</div>
<div class="line"><a id="l07701" name="l07701"></a><span class="lineno"> 7701</span>                             <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="classitem.html">item</a> *<span class="keyword">&gt;</span>( e ),</div>
<div class="line"><a id="l07702" name="l07702"></a><span class="lineno"> 7702</span>                             qty, m.second.flags() ) );</div>
<div class="line"><a id="l07703" name="l07703"></a><span class="lineno"> 7703</span>            }</div>
<div class="line"><a id="l07704" name="l07704"></a><span class="lineno"> 7704</span> </div>
<div class="line"><a id="l07705" name="l07705"></a><span class="lineno"> 7705</span>            <span class="comment">// non-auxiliary gunmods may provide additional modes for the base item</span></div>
<div class="line"><a id="l07706" name="l07706"></a><span class="lineno"> 7706</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e-&gt;is_gunmod() ) {</div>
<div class="line"><a id="l07707" name="l07707"></a><span class="lineno"> 7707</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const gun_mode_id, gun_modifier_data&gt; &amp;m : e-&gt;type-&gt;gunmod-&gt;mode_modifier ) {</div>
<div class="line"><a id="l07708" name="l07708"></a><span class="lineno"> 7708</span>                <span class="comment">//checks for melee gunmod, points to gunmod</span></div>
<div class="line"><a id="l07709" name="l07709"></a><span class="lineno"> 7709</span>                <span class="keywordflow">if</span>( m.first == <a class="code hl_variable" href="item_8cpp.html#a0e987240fca9e226501b6c99ad0dd4a4">gun_mode_REACH</a> ) {</div>
<div class="line"><a id="l07710" name="l07710"></a><span class="lineno"> 7710</span>                    res.emplace( m.first, <a class="code hl_class" href="classgun__mode.html">gun_mode</a> { m.second.name(), const_cast&lt;item *&gt;( e ),</div>
<div class="line"><a id="l07711" name="l07711"></a><span class="lineno"> 7711</span>                                                     m.second.qty(), m.second.flags() } );</div>
<div class="line"><a id="l07712" name="l07712"></a><span class="lineno"> 7712</span>                    <span class="comment">//otherwise points to the parent gun, not the gunmod</span></div>
<div class="line"><a id="l07713" name="l07713"></a><span class="lineno"> 7713</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07714" name="l07714"></a><span class="lineno"> 7714</span>                    res.emplace( m.first, <a class="code hl_class" href="classgun__mode.html">gun_mode</a> { m.second.name(), const_cast&lt;item *&gt;( this ),</div>
<div class="line"><a id="l07715" name="l07715"></a><span class="lineno"> 7715</span>                                                     m.second.qty(), m.second.flags() } );</div>
<div class="line"><a id="l07716" name="l07716"></a><span class="lineno"> 7716</span>                }</div>
<div class="line"><a id="l07717" name="l07717"></a><span class="lineno"> 7717</span>            }</div>
<div class="line"><a id="l07718" name="l07718"></a><span class="lineno"> 7718</span>        }</div>
<div class="line"><a id="l07719" name="l07719"></a><span class="lineno"> 7719</span>    }</div>
<div class="line"><a id="l07720" name="l07720"></a><span class="lineno"> 7720</span> </div>
<div class="line"><a id="l07721" name="l07721"></a><span class="lineno"> 7721</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07722" name="l07722"></a><span class="lineno"> 7722</span>}</div>
<div class="ttc" id="aclassgun__mode_html"><div class="ttname"><a href="classgun__mode.html">gun_mode</a></div><div class="ttdef"><b>Definition:</b> <a href="gun__mode_8h_source.html#l00012">gun_mode.h:13</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c">prefix</a></div><div class="ttdeci">@ prefix</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00079">enums.h:79</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a0e987240fca9e226501b6c99ad0dd4a4"><div class="ttname"><a href="item_8cpp.html#a0e987240fca9e226501b6c99ad0dd4a4">gun_mode_REACH</a></div><div class="ttdeci">static const gun_mode_id gun_mode_REACH(&quot;REACH&quot;)</div></div>
<div class="ttc" id="atype__id_8h_html_a8174d98bb32e389bd2e1ab691167f7b9"><div class="ttname"><a href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a></div><div class="ttdeci">string_id&lt; gun_mode &gt; gun_mode_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00061">type_id.h:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a0e987240fca9e226501b6c99ad0dd4a4">gun_mode_REACH</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="enums_8h_source.html#l00079">prefix</a>, and <a class="el" href="iexamine_8cpp_source.html#l01576">iexamine::transform()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02958">target_ui::action_switch_mode()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00649">can_fire_turret()</a>, <a class="el" href="npcmove_8cpp_source.html#l02027">npc::confident_shoot_range()</a>, <a class="el" href="item_8cpp_source.html#l07758">gun_cycle_mode()</a>, <a class="el" href="item_8cpp_source.html#l07724">gun_get_mode()</a>, <a class="el" href="item_8cpp_source.html#l07749">gun_set_mode()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, <a class="el" href="npcmove_8cpp_source.html#l01311">npc::method_of_attack()</a>, and <a class="el" href="item_8cpp_source.html#l05154">reach_range()</a>.</p>

</div>
</div>
<a id="a1a94ea108d695febf7f2bcf090f097fa" name="a1a94ea108d695febf7f2bcf090f097fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a94ea108d695febf7f2bcf090f097fa">&#9670;&nbsp;</a></span>gun_current_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgun__mode.html">gun_mode</a> item::gun_current_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current mode for this gun (or an invalid mode if item is not a gun) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07736">7736</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07737" name="l07737"></a><span class="lineno"> 7737</span>{</div>
<div class="line"><a id="l07738" name="l07738"></a><span class="lineno"> 7738</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af128df748a75405ab738424bff725de5">gun_get_mode</a>( <a class="code hl_function" href="classitem.html#a3b83c2e0d1313b542801169382be1605">gun_get_mode_id</a>() );</div>
<div class="line"><a id="l07739" name="l07739"></a><span class="lineno"> 7739</span>}</div>
<div class="ttc" id="aclassitem_html_a3b83c2e0d1313b542801169382be1605"><div class="ttname"><a href="classitem.html#a3b83c2e0d1313b542801169382be1605">item::gun_get_mode_id</a></div><div class="ttdeci">gun_mode_id gun_get_mode_id() const</div><div class="ttdoc">Get id of mode a gun is currently set to, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07741">item.cpp:7741</a></div></div>
<div class="ttc" id="aclassitem_html_af128df748a75405ab738424bff725de5"><div class="ttname"><a href="classitem.html#af128df748a75405ab738424bff725de5">item::gun_get_mode</a></div><div class="ttdeci">gun_mode gun_get_mode(const gun_mode_id &amp;mode) const</div><div class="ttdoc">Check if gun supports a specific mode returning an invalid/empty mode if not.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07724">item.cpp:7724</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07724">gun_get_mode()</a>, and <a class="el" href="item_8cpp_source.html#l07741">gun_get_mode_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar__action_8cpp_source.html#l00611">avatar_action::can_fire_weapon()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00097">aim_activity_actor::do_turn()</a>, <a class="el" href="ranged_8cpp_source.html#l03029">target_ui::ensure_ranged_gun_mode()</a>, <a class="el" href="npcmove_8cpp_source.html#l00952">npc::execute_action()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00157">aim_activity_actor::finish()</a>, <a class="el" href="handle__action_8cpp_source.html#l01319">fire()</a>, <a class="el" href="turret_8cpp_source.html#l00292">turret_data::fire()</a>, <a class="el" href="item_8cpp_source.html#l03887">info()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00251">aim_activity_actor::load_RAS_weapon()</a>, <a class="el" href="ranged_8cpp_source.html#l03583">target_ui::panel_fire_mode_aim()</a>, <a class="el" href="ranged_8cpp_source.html#l03447">target_ui::panel_gun_info()</a>, <a class="el" href="turret_8cpp_source.html#l00275">turret_data::post_fire()</a>, <a class="el" href="turret_8cpp_source.html#l00257">turret_data::prepare_fire()</a>, <a class="el" href="ranged_8cpp_source.html#l01539">print_aim()</a>, <a class="el" href="turret_8cpp_source.html#l00232">turret_data::query()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00557">gun_actor::shoot()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00297">aim_activity_actor::unload_RAS_weapon()</a>, <a class="el" href="ranged_8cpp_source.html#l03036">target_ui::update_ammo_range_from_gun_mode()</a>, <a class="el" href="ranged_8cpp_source.html#l02735">target_ui::update_status()</a>, and <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>.</p>

</div>
</div>
<a id="a74a90ea94f124f8d857058c2704a7fc7" name="a74a90ea94f124f8d857058c2704a7fc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74a90ea94f124f8d857058c2704a7fc7">&#9670;&nbsp;</a></span>gun_cycle_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::gun_cycle_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch to the next available firing mode. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07758">7758</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07759" name="l07759"></a><span class="lineno"> 7759</span>{</div>
<div class="line"><a id="l07760" name="l07760"></a><span class="lineno"> 7760</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() || <a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() ) {</div>
<div class="line"><a id="l07761" name="l07761"></a><span class="lineno"> 7761</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l07762" name="l07762"></a><span class="lineno"> 7762</span>    }</div>
<div class="line"><a id="l07763" name="l07763"></a><span class="lineno"> 7763</span> </div>
<div class="line"><a id="l07764" name="l07764"></a><span class="lineno"> 7764</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">gun_mode_id</a> cur = <a class="code hl_function" href="classitem.html#a3b83c2e0d1313b542801169382be1605">gun_get_mode_id</a>();</div>
<div class="line"><a id="l07765" name="l07765"></a><span class="lineno"> 7765</span>    <span class="keyword">const</span> std::map&lt;gun_mode_id, gun_mode&gt; modes = <a class="code hl_function" href="classitem.html#aa1a2ecb3e9ebf95dc7fedac4c1de32b4">gun_all_modes</a>();</div>
<div class="line"><a id="l07766" name="l07766"></a><span class="lineno"> 7766</span> </div>
<div class="line"><a id="l07767" name="l07767"></a><span class="lineno"> 7767</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> iter = modes.begin(); iter != modes.end(); ++iter ) {</div>
<div class="line"><a id="l07768" name="l07768"></a><span class="lineno"> 7768</span>        <span class="keywordflow">if</span>( iter-&gt;first == cur ) {</div>
<div class="line"><a id="l07769" name="l07769"></a><span class="lineno"> 7769</span>            <span class="keywordflow">if</span>( std::next( iter ) == modes.end() ) {</div>
<div class="line"><a id="l07770" name="l07770"></a><span class="lineno"> 7770</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l07771" name="l07771"></a><span class="lineno"> 7771</span>            }</div>
<div class="line"><a id="l07772" name="l07772"></a><span class="lineno"> 7772</span>            <a class="code hl_function" href="classitem.html#afcc181d2e2fe380ac28dd70f814798c2">gun_set_mode</a>( std::next( iter )-&gt;first );</div>
<div class="line"><a id="l07773" name="l07773"></a><span class="lineno"> 7773</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l07774" name="l07774"></a><span class="lineno"> 7774</span>        }</div>
<div class="line"><a id="l07775" name="l07775"></a><span class="lineno"> 7775</span>    }</div>
<div class="line"><a id="l07776" name="l07776"></a><span class="lineno"> 7776</span>    <a class="code hl_function" href="classitem.html#afcc181d2e2fe380ac28dd70f814798c2">gun_set_mode</a>( modes.begin()-&gt;first );</div>
<div class="line"><a id="l07777" name="l07777"></a><span class="lineno"> 7777</span> </div>
<div class="line"><a id="l07778" name="l07778"></a><span class="lineno"> 7778</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l07779" name="l07779"></a><span class="lineno"> 7779</span>}</div>
<div class="ttc" id="aclassitem_html_aa1a2ecb3e9ebf95dc7fedac4c1de32b4"><div class="ttname"><a href="classitem.html#aa1a2ecb3e9ebf95dc7fedac4c1de32b4">item::gun_all_modes</a></div><div class="ttdeci">std::map&lt; gun_mode_id, gun_mode &gt; gun_all_modes() const</div><div class="ttdoc">Get all possible modes for this gun inclusive of any attached gunmods.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07677">item.cpp:7677</a></div></div>
<div class="ttc" id="aclassitem_html_afcc181d2e2fe380ac28dd70f814798c2"><div class="ttname"><a href="classitem.html#afcc181d2e2fe380ac28dd70f814798c2">item::gun_set_mode</a></div><div class="ttdeci">bool gun_set_mode(const gun_mode_id &amp;mode)</div><div class="ttdoc">Try to set the mode for a gun, returning false if no such mode is possible.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07749">item.cpp:7749</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07677">gun_all_modes()</a>, <a class="el" href="item_8cpp_source.html#l07741">gun_get_mode_id()</a>, <a class="el" href="item_8cpp_source.html#l07749">gun_set_mode()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, and <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l03029">target_ui::ensure_ranged_gun_mode()</a>, and <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>.</p>

</div>
</div>
<a id="ada111938a57ec6c7b47fcca30ec9d36c" name="ada111938a57ec6c7b47fcca30ec9d36c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada111938a57ec6c7b47fcca30ec9d36c">&#9670;&nbsp;</a></span>gun_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdamage__instance.html">damage_instance</a> item::gun_damage </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_ammo</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Summed ranged damage, armor piercing, and multipliers for both, of a gun, including values from mods. </p>
<p >Returns empty instance on non-gun items. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07119">7119</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07120" name="l07120"></a><span class="lineno"> 7120</span>{</div>
<div class="line"><a id="l07121" name="l07121"></a><span class="lineno"> 7121</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07122" name="l07122"></a><span class="lineno"> 7122</span>        <span class="keywordflow">return</span> <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a>();</div>
<div class="line"><a id="l07123" name="l07123"></a><span class="lineno"> 7123</span>    }</div>
<div class="line"><a id="l07124" name="l07124"></a><span class="lineno"> 7124</span>    <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;damage;</div>
<div class="line"><a id="l07125" name="l07125"></a><span class="lineno"> 7125</span> </div>
<div class="line"><a id="l07126" name="l07126"></a><span class="lineno"> 7126</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l07127" name="l07127"></a><span class="lineno"> 7127</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.add( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;damage );</div>
<div class="line"><a id="l07128" name="l07128"></a><span class="lineno"> 7128</span>    }</div>
<div class="line"><a id="l07129" name="l07129"></a><span class="lineno"> 7129</span> </div>
<div class="line"><a id="l07130" name="l07130"></a><span class="lineno"> 7130</span>    <span class="keywordflow">if</span>( with_ammo &amp;&amp; <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() ) {</div>
<div class="line"><a id="l07131" name="l07131"></a><span class="lineno"> 7131</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.add( <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;ammo-&gt;damage );</div>
<div class="line"><a id="l07132" name="l07132"></a><span class="lineno"> 7132</span>    }</div>
<div class="line"><a id="l07133" name="l07133"></a><span class="lineno"> 7133</span> </div>
<div class="line"><a id="l07134" name="l07134"></a><span class="lineno"> 7134</span>    <span class="keywordtype">int</span> item_damage = <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 );</div>
<div class="line"><a id="l07135" name="l07135"></a><span class="lineno"> 7135</span>    <span class="keywordflow">if</span>( item_damage &gt; 0 ) {</div>
<div class="line"><a id="l07136" name="l07136"></a><span class="lineno"> 7136</span>        <span class="comment">// TODO: This isn&#39;t a good solution for multi-damage guns/ammos</span></div>
<div class="line"><a id="l07137" name="l07137"></a><span class="lineno"> 7137</span>        <span class="keywordflow">for</span>( <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a> &amp;du : <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> ) {</div>
<div class="line"><a id="l07138" name="l07138"></a><span class="lineno"> 7138</span>            <span class="keywordflow">if</span>( du.amount &lt;= 1.0 ) {</div>
<div class="line"><a id="l07139" name="l07139"></a><span class="lineno"> 7139</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l07140" name="l07140"></a><span class="lineno"> 7140</span>            }</div>
<div class="line"><a id="l07141" name="l07141"></a><span class="lineno"> 7141</span>            du.amount = std::max&lt;float&gt;( 1.0f, du.amount - item_damage * 2 );</div>
<div class="line"><a id="l07142" name="l07142"></a><span class="lineno"> 7142</span>        }</div>
<div class="line"><a id="l07143" name="l07143"></a><span class="lineno"> 7143</span>    }</div>
<div class="line"><a id="l07144" name="l07144"></a><span class="lineno"> 7144</span> </div>
<div class="line"><a id="l07145" name="l07145"></a><span class="lineno"> 7145</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l07146" name="l07146"></a><span class="lineno"> 7146</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">player::gun_value()</a>, <a class="el" href="ranged_8cpp_source.html#l01666">make_gun_projectile()</a>, and <a class="el" href="game__inventory_8cpp_source.html#l01243">weapon_inventory_preset::weapon_inventory_preset()</a>.</p>

</div>
</div>
<a id="adfd6f9946d4895a6ef2190e07c2486a3" name="adfd6f9946d4895a6ef2190e07c2486a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd6f9946d4895a6ef2190e07c2486a3">&#9670;&nbsp;</a></span>gun_dispersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::gun_dispersion </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_ammo</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_scaling</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Summed dispersion of a gun, including values from mods. </p>
<p >Returns 0 on non-gun items. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07072">7072</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07073" name="l07073"></a><span class="lineno"> 7073</span>{</div>
<div class="line"><a id="l07074" name="l07074"></a><span class="lineno"> 7074</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07075" name="l07075"></a><span class="lineno"> 7075</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07076" name="l07076"></a><span class="lineno"> 7076</span>    }</div>
<div class="line"><a id="l07077" name="l07077"></a><span class="lineno"> 7077</span>    <span class="keywordtype">int</span> dispersion_sum = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;dispersion;</div>
<div class="line"><a id="l07078" name="l07078"></a><span class="lineno"> 7078</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l07079" name="l07079"></a><span class="lineno"> 7079</span>        dispersion_sum += <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;dispersion;</div>
<div class="line"><a id="l07080" name="l07080"></a><span class="lineno"> 7080</span>    }</div>
<div class="line"><a id="l07081" name="l07081"></a><span class="lineno"> 7081</span>    <span class="keywordtype">int</span> dispPerDamage = get_option&lt; int &gt;( <span class="stringliteral">&quot;DISPERSION_PER_GUN_DAMAGE&quot;</span> );</div>
<div class="line"><a id="l07082" name="l07082"></a><span class="lineno"> 7082</span>    dispersion_sum += <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) * dispPerDamage;</div>
<div class="line"><a id="l07083" name="l07083"></a><span class="lineno"> 7083</span>    dispersion_sum = std::max( dispersion_sum, 0 );</div>
<div class="line"><a id="l07084" name="l07084"></a><span class="lineno"> 7084</span>    <span class="keywordflow">if</span>( with_ammo &amp;&amp; <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() ) {</div>
<div class="line"><a id="l07085" name="l07085"></a><span class="lineno"> 7085</span>        dispersion_sum += <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;dispersion;</div>
<div class="line"><a id="l07086" name="l07086"></a><span class="lineno"> 7086</span>    }</div>
<div class="line"><a id="l07087" name="l07087"></a><span class="lineno"> 7087</span>    <span class="keywordflow">if</span>( !with_scaling ) {</div>
<div class="line"><a id="l07088" name="l07088"></a><span class="lineno"> 7088</span>        <span class="keywordflow">return</span> dispersion_sum;</div>
<div class="line"><a id="l07089" name="l07089"></a><span class="lineno"> 7089</span>    }</div>
<div class="line"><a id="l07090" name="l07090"></a><span class="lineno"> 7090</span> </div>
<div class="line"><a id="l07091" name="l07091"></a><span class="lineno"> 7091</span>    <span class="comment">// Dividing dispersion by 15 temporarily as a gross adjustment,</span></div>
<div class="line"><a id="l07092" name="l07092"></a><span class="lineno"> 7092</span>    <span class="comment">// will bake that adjustment into individual gun definitions in the future.</span></div>
<div class="line"><a id="l07093" name="l07093"></a><span class="lineno"> 7093</span>    <span class="comment">// Absolute minimum gun dispersion is 1.</span></div>
<div class="line"><a id="l07094" name="l07094"></a><span class="lineno"> 7094</span>    <span class="keywordtype">double</span> divider = get_option&lt; float &gt;( <span class="stringliteral">&quot;GUN_DISPERSION_DIVIDER&quot;</span> );</div>
<div class="line"><a id="l07095" name="l07095"></a><span class="lineno"> 7095</span>    dispersion_sum = std::max( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( std::round( dispersion_sum / divider ) ), 1 );</div>
<div class="line"><a id="l07096" name="l07096"></a><span class="lineno"> 7096</span> </div>
<div class="line"><a id="l07097" name="l07097"></a><span class="lineno"> 7097</span>    <span class="keywordflow">return</span> dispersion_sum;</div>
<div class="line"><a id="l07098" name="l07098"></a><span class="lineno"> 7098</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01881">player::get_weapon_dispersion()</a>, and <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>.</p>

</div>
</div>
<a id="af128df748a75405ab738424bff725de5" name="af128df748a75405ab738424bff725de5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af128df748a75405ab738424bff725de5">&#9670;&nbsp;</a></span>gun_get_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgun__mode.html">gun_mode</a> item::gun_get_mode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a> &amp;&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if gun supports a specific mode returning an invalid/empty mode if not. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07724">7724</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07725" name="l07725"></a><span class="lineno"> 7725</span>{</div>
<div class="line"><a id="l07726" name="l07726"></a><span class="lineno"> 7726</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07727" name="l07727"></a><span class="lineno"> 7727</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const gun_mode_id, gun_mode&gt; &amp;e : <a class="code hl_function" href="classitem.html#aa1a2ecb3e9ebf95dc7fedac4c1de32b4">gun_all_modes</a>() ) {</div>
<div class="line"><a id="l07728" name="l07728"></a><span class="lineno"> 7728</span>            <span class="keywordflow">if</span>( e.first == mode ) {</div>
<div class="line"><a id="l07729" name="l07729"></a><span class="lineno"> 7729</span>                <span class="keywordflow">return</span> e.second;</div>
<div class="line"><a id="l07730" name="l07730"></a><span class="lineno"> 7730</span>            }</div>
<div class="line"><a id="l07731" name="l07731"></a><span class="lineno"> 7731</span>        }</div>
<div class="line"><a id="l07732" name="l07732"></a><span class="lineno"> 7732</span>    }</div>
<div class="line"><a id="l07733" name="l07733"></a><span class="lineno"> 7733</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classgun__mode.html">gun_mode</a>();</div>
<div class="line"><a id="l07734" name="l07734"></a><span class="lineno"> 7734</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07677">gun_all_modes()</a>, and <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l03321">mattack::frag()</a>, <a class="el" href="item_8cpp_source.html#l07736">gun_current_mode()</a>, <a class="el" href="monattack_8cpp_source.html#l03272">mattack::rifle()</a>, and <a class="el" href="monattack_8cpp_source.html#l03381">mattack::tankgun()</a>.</p>

</div>
</div>
<a id="a3b83c2e0d1313b542801169382be1605" name="a3b83c2e0d1313b542801169382be1605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b83c2e0d1313b542801169382be1605">&#9670;&nbsp;</a></span>gun_get_mode_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a> item::gun_get_mode_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get id of mode a gun is currently set to, e.g. </p>
<p >DEFAULT, AUTO, BURST </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07741">7741</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07742" name="l07742"></a><span class="lineno"> 7742</span>{</div>
<div class="line"><a id="l07743" name="l07743"></a><span class="lineno"> 7743</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() || <a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() ) {</div>
<div class="line"><a id="l07744" name="l07744"></a><span class="lineno"> 7744</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>();</div>
<div class="line"><a id="l07745" name="l07745"></a><span class="lineno"> 7745</span>    }</div>
<div class="line"><a id="l07746" name="l07746"></a><span class="lineno"> 7746</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>( <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <a class="code hl_function" href="item_8cpp.html#adc11d823a2cedb6fcbcd76d3b6ce6828">GUN_MODE_VAR_NAME</a>, <span class="stringliteral">&quot;DEFAULT&quot;</span> ) );</div>
<div class="line"><a id="l07747" name="l07747"></a><span class="lineno"> 7747</span>}</div>
<div class="ttc" id="aitem_8cpp_html_adc11d823a2cedb6fcbcd76d3b6ce6828"><div class="ttname"><a href="item_8cpp.html#adc11d823a2cedb6fcbcd76d3b6ce6828">GUN_MODE_VAR_NAME</a></div><div class="ttdeci">static const std::string GUN_MODE_VAR_NAME(&quot;item::mode&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp.html#adc11d823a2cedb6fcbcd76d3b6ce6828">GUN_MODE_VAR_NAME()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, and <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02958">target_ui::action_switch_mode()</a>, <a class="el" href="item_8cpp_source.html#l07736">gun_current_mode()</a>, and <a class="el" href="item_8cpp_source.html#l07758">gun_cycle_mode()</a>.</p>

</div>
</div>
<a id="a6d1f49b55eaaf92e616359490624bad2" name="a6d1f49b55eaaf92e616359490624bad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d1f49b55eaaf92e616359490624bad2">&#9670;&nbsp;</a></span>gun_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::gun_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01961">1961</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>{</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a76524fe7132f930875fca352b31e730d">space</a> = <span class="stringliteral">&quot;  &quot;</span>;</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__gun.html">islot_gun</a> &amp;gun = *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gun;</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>    <span class="keyword">const</span> <a class="code hl_class" href="classSkill.html">Skill</a> &amp;skill = *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;gun_skill();</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>    <a class="code hl_class" href="classavatar.html">avatar</a> &amp;viewer = <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>();</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span> </div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>    <span class="comment">// many statistics are dependent upon loaded ammo</span></div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>    <span class="comment">// if item is unloaded (or is RELOAD_AND_SHOOT) shows approximate stats using default ammo</span></div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *loaded_mod = <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>;</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>    <a class="code hl_class" href="classitem.html">item</a> tmp;</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_required() &amp;&amp; !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_remaining() ) {</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>        tmp = *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>;</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>        tmp.<a class="code hl_function" href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">ammo_set</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;magazine_current() ? tmp.<a class="code hl_function" href="classitem.html#a5cc833f71e0454446fd0f877d24f6585">common_ammo_default</a>() : tmp.<a class="code hl_function" href="classitem.html#ab07d96e30c441a84435972df842f4c77">ammo_default</a>() );</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>        <span class="keywordflow">if</span>( tmp.<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>            <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>,</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Weapon &lt;bad&gt;can&#39;t be loaded in its current state&lt;/bad&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>        }</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>        loaded_mod = &amp;tmp;</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa84f8270ca8b51f73539bdf7546473ebf">iteminfo_parts::GUN_DEFAULT_AMMO</a> ) ) {</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>            <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>,</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Weapon is &lt;bad&gt;not loaded&lt;/bad&gt;, so stats below assume the default ammo: &quot;</span> ),</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>                               <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;stat&gt;%s&lt;/stat&gt;&quot;</span>,</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>                                              loaded_mod-&gt;<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_function" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 ) ) );</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>        }</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>    }</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span> </div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *<a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> = loaded_mod-&gt;<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>();</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_required() &amp;&amp; !<a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> ) {</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;curammo is nullptr in item::gun_info()&quot;</span> );</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>    }</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>    <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a> gun_du = <a class="code hl_function" href="classitem.html#ada111938a57ec6c7b47fcca30ec9d36c">gun_damage</a>( <span class="keyword">false</span> ).<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a>.front();</div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span> </div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>    gun_du.<a class="code hl_variable" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> *= <a class="code hl_function" href="namespaceranged.html#a32d7ead84f4eb01b4050fdbbca0767ea">ranged::str_draw_damage_modifier</a>( *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>, viewer );</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span> </div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a> &amp;ammo_du = <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> != <span class="keyword">nullptr</span></div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>                                 ? <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;damage.damage_units.front()</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>                                 : <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a>, 0 );</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span> </div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa437183a2ee10b05dd04a2373e30f9fbb">iteminfo_parts::GUN_DAMAGE</a> ) ) {</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Ranged damage&lt;/bold&gt;: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>,</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>                                  gun_du.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> ) );</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>    }</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span> </div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_required() ) {</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>        <span class="comment">// ammo_damage, sum_of_damage, and ammo_mult not shown so don&#39;t need to translate.</span></div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9a043b451970b64c8fd3d543c424bab9">iteminfo_parts::GUN_DAMAGE_LOADEDAMMO</a> ) ) {</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>            assert( <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> ); <span class="comment">// Appease clang-tidy</span></div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>            <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> ammo_dam = <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;damage;</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;ammo_damage&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a> |</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a>, ammo_du.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> ) );</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>        }</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span> </div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad12a5950956c105707821b2948f71750">iteminfo_parts::GUN_DAMAGE_TOTAL</a> ) ) {</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>            <span class="comment">// Intentionally not using total_damage() as it applies multipliers</span></div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;sum_of_damage&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; = &lt;num&gt;&quot;</span> ),</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a>,</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>                                      gun_du.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> + ammo_du.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> ) );</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>        }</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>    }</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().bNewLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span> </div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>    <span class="keywordtype">int</span> max_gun_range = loaded_mod-&gt;<a class="code hl_function" href="classitem.html#af443024fa9e01c97953b3fcf81c9cfb1">gun_range</a>( &amp;<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>    <span class="keywordflow">if</span>( max_gun_range &gt; 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadc57ce01d968aafed58059e1bc743a04">iteminfo_parts::GUN_MAX_RANGE</a> ) ) {</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Maximum range: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>,</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>                           max_gun_range );</div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>    }</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span> </div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    <span class="comment">// TODO: This doesn&#39;t cover multiple damage types</span></div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaabae2ef3e5dc3ef734661234a6c8b263">iteminfo_parts::GUN_ARMORPIERCE</a> ) ) {</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Armor-pierce: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>, <a class="code hl_function" href="item_8cpp.html#ae629e87a352693e7f8d1895a698237d2">get_ranged_pierce</a>( gun ) ) );</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>    }</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_required() ) {</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>        assert( <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> ); <span class="comment">// Appease clang-tidy</span></div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>        <span class="keywordtype">int</span> ammo_pierce = <a class="code hl_function" href="item_8cpp.html#ae629e87a352693e7f8d1895a698237d2">get_ranged_pierce</a>( *<a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> );</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>        <span class="comment">// ammo_armor_pierce and sum_of_armor_pierce don&#39;t need to translate.</span></div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5f2fd59bf414e99ed703bbfa774e911e">iteminfo_parts::GUN_ARMORPIERCE_LOADEDAMMO</a> ) ) {</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;ammo_armor_pierce&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a> |</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a>, ammo_pierce ) );</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>        }</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa02464f1f20716c4b55229bfa5ae25e12">iteminfo_parts::GUN_ARMORPIERCE_TOTAL</a> ) ) {</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;sum_of_armor_pierce&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; = &lt;num&gt;&quot;</span> ),</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a>,</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>                                      <a class="code hl_function" href="item_8cpp.html#ae629e87a352693e7f8d1895a698237d2">get_ranged_pierce</a>( gun ) + ammo_pierce ) );</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>        }</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>    }</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().bNewLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span> </div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaafbb7951fba5f6639721b65f08f8e4690">iteminfo_parts::GUN_DAMAGEMULT</a> ) ) {</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Damage multiplier: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>                                  gun_du.<a class="code hl_variable" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> ) );</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>    }</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span> </div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_required() ) {</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8e1181facdeb9898ea08f5621d1f24c7">iteminfo_parts::GUN_DAMAGEMULT_AMMO</a> ) ) {</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;ammo_mult&quot;</span>, <span class="stringliteral">&quot;*&quot;</span>,</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>                                      ammo_du.<a class="code hl_variable" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> ) );</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>        }</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span> </div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9d9a7f5b278697d4d220058b0d839375">iteminfo_parts::GUN_DAMAGEMULT_TOTAL</a> ) ) {</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;sum_of_damage&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; = &lt;num&gt;&quot;</span> ),</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>                                      gun_du.<a class="code hl_variable" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> * ammo_du.<a class="code hl_variable" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> ) );</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>        }</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>    }</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().bNewLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span> </div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8b4442a732058b45d73b67e7b5662bdb">iteminfo_parts::GUN_ARMORMULT</a> ) ) {</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Armor multiplier: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>                                  gun_du.<a class="code hl_variable" href="structdamage__unit.html#af0a5ce1c282d7ed1a783fd4315404ec3">res_mult</a> ) );</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>    }</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_required() ) {</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5280819046df8462b66ab3ca53960e83">iteminfo_parts::GUN_ARMORMULT_LOADEDAMMO</a> ) ) {</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;ammo_armor_mult&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;*&lt;num&gt;&quot;</span> ),</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a> |</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>                                      ammo_du.<a class="code hl_variable" href="structdamage__unit.html#af0a5ce1c282d7ed1a783fd4315404ec3">res_mult</a> ) );</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>        }</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa45d524921f84f13961a3d0936e7153a6">iteminfo_parts::GUN_ARMORMULT_TOTAL</a> ) ) {</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;final_armor_mult&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; = &lt;num&gt;&quot;</span> ),</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a3d47ad00c6b1394cba5781ae07ae6698">iteminfo::is_decimal</a>,</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>                                      gun_du.<a class="code hl_variable" href="structdamage__unit.html#af0a5ce1c282d7ed1a783fd4315404ec3">res_mult</a> * ammo_du.<a class="code hl_variable" href="structdamage__unit.html#af0a5ce1c282d7ed1a783fd4315404ec3">res_mult</a> ) );</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>        }</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>    }</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().bNewLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span> </div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabf08329f3b4cb553c370380d01c111d6">iteminfo_parts::GUN_DISPERSION</a> ) ) {</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Dispersion: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>                                  <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;gun_dispersion( <span class="keyword">false</span>, <span class="keyword">false</span> ) ) );</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>    }</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_required() ) {</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>        <span class="keywordtype">int</span> ammo_dispersion = <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;dispersion;</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>        <span class="comment">// ammo_dispersion and sum_of_dispersion don&#39;t need to translate.</span></div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0c804e4fd5de9f864355262e269b3c99">iteminfo_parts::GUN_DISPERSION_LOADEDAMMO</a> ) ) {</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;ammo_dispersion&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> |</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a>,</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>                                      ammo_dispersion ) );</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>        }</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1b56f4aab725171f7745e0e0d8000bd7">iteminfo_parts::GUN_DISPERSION_TOTAL</a> ) ) {</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;sum_of_dispersion&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; = &lt;num&gt;&quot;</span> ),</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a>,</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>                                      loaded_mod-&gt;<a class="code hl_function" href="classitem.html#adfd6f9946d4895a6ef2190e07c2486a3">gun_dispersion</a>( <span class="keyword">true</span>, <span class="keyword">false</span> ) ) );</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;eff_dispersion&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (effective: &lt;num&gt;)&quot;</span> ),</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a>,</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>                                      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_weapon_dispersion( *this ).max() ) ) );</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>        }</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>    }</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().bNewLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span> </div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>    <span class="comment">// if effective sight dispersion differs from actual sight dispersion display both</span></div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>    <span class="keywordtype">int</span> act_disp = <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;sight_dispersion();</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>    <span class="keywordtype">int</span> eff_disp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.effective_dispersion( act_disp );</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>    <span class="keywordtype">int</span> adj_disp = eff_disp - act_disp;</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span> </div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7079d6c7eaab71f6fefcf4ea1c52698d">iteminfo_parts::GUN_DISPERSION_SIGHT</a> ) ) {</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Sight dispersion: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>                                  act_disp ) );</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span> </div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>        <span class="keywordflow">if</span>( adj_disp ) {</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;sight_adj_disp&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> |</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a>, adj_disp ) );</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;sight_eff_disp&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; = &lt;num&gt;&quot;</span> ),</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>                                      <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a>,</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>                                      eff_disp ) );</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>        }</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>    }</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span> </div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>    <span class="keywordtype">bool</span> bipod = <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;has_flag( <a class="code hl_function" href="item_8cpp.html#a408d6725de4403d9ba579aff053a347b">flag_BIPOD</a> );</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span> </div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>    <span class="keywordflow">if</span>( loaded_mod-&gt;<a class="code hl_function" href="classitem.html#a4dbbda81cd9bc9ed386b9c5bf71d5acd">gun_recoil</a>() ) {</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1647f009b5de6362dd3c6b8a4e0340af">iteminfo_parts::GUN_RECOIL_PERCENTAGE</a> ) ) {</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Recoil percentage: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>                               std::ceil( 100 * loaded_mod-&gt;<a class="code hl_function" href="classitem.html#ae4ecf94591fd2a0df49e940e93255a59">gun_recoil_multiplier</a>() ) );</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>        }</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>        <span class="keywordflow">if</span>( bipod &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaccbcdabd31babb3882bf69837ba92d5d">iteminfo_parts::GUN_RECOIL_PERCENTAGE_BIPOD</a> ) ) {</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;bipod_recoil_percentage&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (with bipod &lt;num&gt;)&quot;</span> ),</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a>,</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>                               std::ceil( 100 * loaded_mod-&gt;<a class="code hl_function" href="classitem.html#ae4ecf94591fd2a0df49e940e93255a59">gun_recoil_multiplier</a>( <span class="keyword">true</span> ) ) );</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>        }</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().bNewLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span> </div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaace40cbc4372a34b39ed693890360b024">iteminfo_parts::GUN_RECOIL</a> ) ) {</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Effective recoil: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>                               loaded_mod-&gt;<a class="code hl_function" href="classitem.html#a4dbbda81cd9bc9ed386b9c5bf71d5acd">gun_recoil</a>() );</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>        }</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>        <span class="keywordflow">if</span>( bipod &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa772f1191a9b2a8eea1de9ac71fa19e0">iteminfo_parts::GUN_RECOIL_BIPOD</a> ) ) {</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;bipod_recoil&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (with bipod &lt;num&gt;)&quot;</span> ),</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a>,</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>                               loaded_mod-&gt;<a class="code hl_function" href="classitem.html#a4dbbda81cd9bc9ed386b9c5bf71d5acd">gun_recoil</a>( <span class="keyword">true</span> ) );</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>        }</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>    }</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().bNewLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span> </div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>    std::map&lt;gun_mode_id, gun_mode&gt; fire_modes = <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;gun_all_modes();</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5bf65804d0a123916c8916f04b45c102">iteminfo_parts::GUN_BURST_PENALTY</a> ) ) {</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>        <span class="keywordflow">if</span>( std::any_of( fire_modes.begin(), fire_modes.end(),</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>        []( <span class="keyword">const</span> std::pair&lt;gun_mode_id, gun_mode&gt; &amp;e ) {</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>        return e.second.qty &gt; 1 &amp;&amp; !e.second.melee();</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>        } ) ) {</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Burst fire penalty: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a340086fad9f573d5b79675a99335e890">iteminfo::no_newline</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>                               <a class="code hl_function" href="namespaceranged.html#a5332ed56c9f0b3702e72aecdcaa1e7be">ranged::burst_penalty</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, *<span class="keyword">this</span>, loaded_mod-&gt;<a class="code hl_function" href="classitem.html#a4dbbda81cd9bc9ed386b9c5bf71d5acd">gun_recoil</a>() ) );</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>            <span class="keywordflow">if</span>( bipod ) {</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <span class="stringliteral">&quot;bipod_burst&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (with bipod &lt;num&gt;)&quot;</span> ),</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>                                   <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a>,</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>                                   <a class="code hl_function" href="namespaceranged.html#a5332ed56c9f0b3702e72aecdcaa1e7be">ranged::burst_penalty</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, *<span class="keyword">this</span>, loaded_mod-&gt;<a class="code hl_function" href="classitem.html#a4dbbda81cd9bc9ed386b9c5bf71d5acd">gun_recoil</a>( <span class="keyword">true</span> ) ) );</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>            }</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>        }</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().bNewLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>    }</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span> </div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6d831a28effbb6efe262c19a550349c5">iteminfo_parts::GUN_RELOAD_TIME</a> ) ) {</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Reload time: &quot;</span> ),</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>                           <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a0d6f759986c08c3aee23ac4284b9b01b">flag_RELOAD_ONE</a> ) ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt; moves per round&quot;</span> ) :</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt; moves &quot;</span> ),</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>                           <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>,  <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;get_reload_time() );</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>    }</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span> </div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabd3949d1da788505014ce644dd38b245">iteminfo_parts::GUN_USEDSKILL</a> ) ) {</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Skill used: &quot;</span> ),</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>                                  <span class="stringliteral">&quot;&lt;info&gt;&quot;</span> + skill.<a class="code hl_function" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>() + <span class="stringliteral">&quot;&lt;/info&gt;&quot;</span> ) );</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>    }</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span> </div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;magazine_integral() || <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;magazine_current() ) {</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>        <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;magazine_current() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaad5a64fee23bfe23b12a01e9b4d7c653">iteminfo_parts::GUN_MAGAZINE</a> ) ) {</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Magazine: &quot;</span> ),</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>                               <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;stat&gt;%s&lt;/stat&gt;&quot;</span>,</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>                                              <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;magazine_current()-&gt;tname() ) );</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>        }</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>        <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_capacity() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa69c5a2af31e3afb9da81b6910c42f90f">iteminfo_parts::GUN_CAPACITY</a> ) ) {</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_types() ) {</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>                <span class="keyword">const</span> std::string fmt = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;&lt;num&gt; round of %s&quot;</span>,</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>                                                       <span class="stringliteral">&quot;&lt;num&gt; rounds of %s&quot;</span>,</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>                                                       <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_capacity() ), at-&gt;name() );</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>                <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Capacity: &quot;</span> ), fmt, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>,</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>                                   <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_capacity() );</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>            }</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>        }</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa25a4260052ebde6514bb600ecd2a3a5c">iteminfo_parts::GUN_TYPE</a> ) ) {</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Type: &quot;</span> ), <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_types().begin(),</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_types().end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp; at ) {</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>            return at-&gt;name();</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>        }, <a class="code hl_enumvalue" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a> ) );</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>    }</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span> </div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_data() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabe9b83b8dfd0a66b1d7097d0f6cbe87e">iteminfo_parts::AMMO_REMAINING</a> ) ) {</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ammunition: &quot;</span> ), <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;stat&gt;%s&lt;/stat&gt;&quot;</span>,</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>                           <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_data()-&gt;nname( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;ammo_remaining() ) ) );</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>    }</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span> </div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;get_gun_ups_drain() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaaf11b61460c8a0f0f43ab34b995319b5">iteminfo_parts::AMMO_UPSCOST</a> ) ) {</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;AMMO&quot;</span>,</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>                           <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;Uses &lt;stat&gt;%i&lt;/stat&gt; charge of UPS per shot&quot;</span>,</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>                                          <span class="stringliteral">&quot;Uses &lt;stat&gt;%i&lt;/stat&gt; charges of UPS per shot&quot;</span>,</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>                                          <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;get_gun_ups_drain() ),</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>                                          <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;get_gun_ups_drain() ) );</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>    }</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span> </div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa48161940e933eea5d0b87c30433ef72f">iteminfo_parts::GUN_AIMING_STATS</a> ) ) {</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Base aim speed&lt;/bold&gt;: &quot;</span> ), <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>,</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>                           <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.aim_per_move( *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>, <a class="code hl_variable" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a> ) );</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structaim__type.html">aim_type</a> &amp;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_aim_types( *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>            <span class="comment">// Nameless aim levels don&#39;t get an entry.</span></div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>.<a class="code hl_variable" href="structitype.html#a82ca05abd5038bf680072963a3a97a7c">name</a>.<a class="code hl_function" href="classtranslation.html#a85e9c5ae8df7eb6df7bac2473b9716dd">empty</a>() ) {</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>            }</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>            <span class="comment">// For item comparison to work correctly each info object needs a</span></div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>            <span class="comment">// distinct tag per aim type.</span></div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>            <span class="keyword">const</span> std::string tag = <span class="stringliteral">&quot;GUN_&quot;</span> + <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>.<a class="code hl_variable" href="structitype.html#a82ca05abd5038bf680072963a3a97a7c">name</a>;</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( tag, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;info&gt;%s&lt;/info&gt;&quot;</span>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>.<a class="code hl_variable" href="structitype.html#a82ca05abd5038bf680072963a3a97a7c">name</a> ) );</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>            <span class="keywordtype">int</span> max_dispersion = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_weapon_dispersion( *loaded_mod ).max();</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>            <span class="keywordtype">int</span> range = <a class="code hl_function" href="ranged_8cpp.html#a6b4c3a2a360b378de261413fbb7d84f0">range_with_even_chance_of_good_hit</a>( max_dispersion + <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>.threshold );</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( tag, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Even chance of good hit at range: &quot;</span> ),</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt;&quot;</span> ), <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>, range );</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>            <span class="keywordtype">int</span> aim_mv = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.gun_engagement_moves( *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>.threshold );</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( tag, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Time to reach aim level: &quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt; moves &quot;</span> ),</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>                               <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, aim_mv );</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>        }</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>    }</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span> </div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7978badb14e7a32b55e875471196179f">iteminfo_parts::GUN_FIRE_MODES</a> ) ) {</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>        std::vector&lt;std::string&gt; fm;</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const gun_mode_id, gun_mode&gt; &amp;e : fire_modes ) {</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>            <span class="keywordflow">if</span>( e.second.target == <span class="keyword">this</span> &amp;&amp; !e.second.melee() ) {</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>                fm.emplace_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s (%i)&quot;</span>, e.second.tname(), e.second.qty ) );</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>            }</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>        }</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>        <span class="keywordflow">if</span>( !fm.empty() ) {</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>            <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUN&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Fire modes&lt;/bold&gt;: &quot;</span> ) +</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>                               <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( fm ) );</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>        }</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>    }</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span> </div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaacc0f6ba13027bdd335f96daf25b14ef5">iteminfo_parts::GUN_ALLOWED_MAGAZINES</a> ) ) {</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>        <span class="keyword">const</span> std::set&lt;itype_id&gt; compat = <a class="code hl_function" href="classitem.html#a3ebcbfa7afc85cc501d72f52d09e9984">magazine_compatible</a>();</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Compatible magazines&lt;/bold&gt;: &quot;</span> ) +</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>        <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( compat.begin(), compat.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp; <span class="keywordtype">id</span> ) {</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>            return item::nname( id );</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>        } ) );</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>    }</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span> </div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>    <span class="keywordflow">if</span>( !gun.<a class="code hl_variable" href="structislot__gun.html#acae6c7b0619e281370014c6fb3ea1f54">valid_mod_locations</a>.empty() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab8fdef243cfde306c9265b61ebf47080">iteminfo_parts::DESCRIPTION_GUN_MODS</a> ) ) {</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span> </div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>        std::string mod_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Mods&lt;/bold&gt;: &quot;</span> );</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span> </div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>        std::map&lt;gunmod_location, int&gt; mod_locations = <a class="code hl_function" href="classitem.html#a727917284cddff4dbf0113d1329fec51">get_mod_locations</a>();</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span> </div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>        <span class="keywordtype">int</span> iternum = 0;</div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>        <span class="keywordflow">for</span>( std::pair&lt;const gunmod_location, int&gt; &amp;elem : mod_locations ) {</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>            <span class="keywordflow">if</span>( iternum != 0 ) {</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>                mod_str += <span class="stringliteral">&quot;; &quot;</span>;</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>            }</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> free_slots = ( elem ).<a class="code hl_enumvalue" href="calendar_8h.html#a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612">second</a> - <a class="code hl_function" href="classitem.html#ad345f0faefeda773220f01b75acb9f28">get_free_mod_locations</a>( elem.first );</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>            mod_str += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;bold&gt;%d/%d&lt;/bold&gt; %s&quot;</span>, free_slots,  elem.second,</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>                                      elem.first.name() );</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>            <span class="keywordtype">bool</span> first_mods = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *gmod : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>                <span class="keywordflow">if</span>( gmod-&gt;type-&gt;gunmod-&gt;location == ( elem ).first ) { <span class="comment">// if mod for this location</span></div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>                    <span class="keywordflow">if</span>( first_mods ) {</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>                        mod_str += <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>                        first_mods = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>                        mod_str += <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>                    }</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>                    mod_str += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;stat&gt;%s&lt;/stat&gt;&quot;</span>, gmod-&gt;tname() );</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>                }</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>            }</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>            iternum++;</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>        }</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>        mod_str += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, mod_str ) );</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>    }</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span> </div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;casings_count() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaade426a25931d2a93b8b2377ecd103687">iteminfo_parts::DESCRIPTION_GUN_CASINGS</a> ) ) {</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>        std::string tmp = <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;Contains &lt;stat&gt;%i&lt;/stat&gt; casing&quot;</span>,</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>                                    <span class="stringliteral">&quot;Contains &lt;stat&gt;%i&lt;/stat&gt; casings&quot;</span>, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;casings_count() );</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( tmp, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;casings_count() ) );</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>    }</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>}</div>
<div class="ttc" id="acalendar_8h_html_a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612"><div class="ttname"><a href="calendar_8h.html#a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612">clipped_unit::second</a></div><div class="ttdeci">@ second</div></div>
<div class="ttc" id="aclassSkill_html"><div class="ttname"><a href="classSkill.html">Skill</a></div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00032">skill.h:33</a></div></div>
<div class="ttc" id="aclassitem_html_a4dbbda81cd9bc9ed386b9c5bf71d5acd"><div class="ttname"><a href="classitem.html#a4dbbda81cd9bc9ed386b9c5bf71d5acd">item::gun_recoil</a></div><div class="ttdeci">int gun_recoil(bool bipod=false) const</div><div class="ttdoc">Get effective recoil considering handling, loaded ammo and effects of attached gunmods.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07168">item.cpp:7168</a></div></div>
<div class="ttc" id="aclassitem_html_a5cc833f71e0454446fd0f877d24f6585"><div class="ttname"><a href="classitem.html#a5cc833f71e0454446fd0f877d24f6585">item::common_ammo_default</a></div><div class="ttdeci">itype_id common_ammo_default(bool conversion=true) const</div><div class="ttdoc">Get default ammo for the first ammotype common to an item and its current magazine or &quot;NULL&quot; if none ...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07455">item.cpp:7455</a></div></div>
<div class="ttc" id="aclassitem_html_ad345f0faefeda773220f01b75acb9f28"><div class="ttname"><a href="classitem.html#ad345f0faefeda773220f01b75acb9f28">item::get_free_mod_locations</a></div><div class="ttdeci">int get_free_mod_locations(const gunmod_location &amp;location) const</div><div class="ttdoc">Number of mods that can still be installed into the given mod location, for non-guns it always return...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03985">item.cpp:3985</a></div></div>
<div class="ttc" id="aclassitem_html_ada111938a57ec6c7b47fcca30ec9d36c"><div class="ttname"><a href="classitem.html#ada111938a57ec6c7b47fcca30ec9d36c">item::gun_damage</a></div><div class="ttdeci">damage_instance gun_damage(bool with_ammo=true) const</div><div class="ttdoc">Summed ranged damage, armor piercing, and multipliers for both, of a gun, including values from mods.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07119">item.cpp:7119</a></div></div>
<div class="ttc" id="aclassitem_html_adfd6f9946d4895a6ef2190e07c2486a3"><div class="ttname"><a href="classitem.html#adfd6f9946d4895a6ef2190e07c2486a3">item::gun_dispersion</a></div><div class="ttdeci">int gun_dispersion(bool with_ammo=true, bool with_scaling=true) const</div><div class="ttdoc">Summed dispersion of a gun, including values from mods.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07072">item.cpp:7072</a></div></div>
<div class="ttc" id="aclassitem_html_ae4ecf94591fd2a0df49e940e93255a59"><div class="ttname"><a href="classitem.html#ae4ecf94591fd2a0df49e940e93255a59">item::gun_recoil_multiplier</a></div><div class="ttdeci">double gun_recoil_multiplier(bool bipod=false) const</div><div class="ttdoc">Get multiplier on recoil considering handling and attached gunmods.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07148">item.cpp:7148</a></div></div>
<div class="ttc" id="aclassitem_html_af443024fa9e01c97953b3fcf81c9cfb1"><div class="ttname"><a href="classitem.html#af443024fa9e01c97953b3fcf81c9cfb1">item::gun_range</a></div><div class="ttdeci">int gun_range(const player *p) const</div><div class="ttdoc">The weapons range in map squares.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07201">item.cpp:7201</a></div></div>
<div class="ttc" id="aclasstranslation_html_a85e9c5ae8df7eb6df7bac2473b9716dd"><div class="ttname"><a href="classtranslation.html#a85e9c5ae8df7eb6df7bac2473b9716dd">translation::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Whether the underlying string is empty, not matter what the context is or whether translation is need...</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00342">translations.cpp:342</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a8226e8a134603e5bc06df05efd13d8d1"><div class="ttname"><a href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a></div><div class="ttdeci">constexpr double MAX_RECOIL</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00128">game_constants.h:128</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a0d6f759986c08c3aee23ac4284b9b01b"><div class="ttname"><a href="item_8cpp.html#a0d6f759986c08c3aee23ac4284b9b01b">flag_RELOAD_ONE</a></div><div class="ttdeci">static const std::string flag_RELOAD_ONE(&quot;RELOAD_ONE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a408d6725de4403d9ba579aff053a347b"><div class="ttname"><a href="item_8cpp.html#a408d6725de4403d9ba579aff053a347b">flag_BIPOD</a></div><div class="ttdeci">static const std::string flag_BIPOD(&quot;BIPOD&quot;)</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa02464f1f20716c4b55229bfa5ae25e12"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa02464f1f20716c4b55229bfa5ae25e12">iteminfo_parts::GUN_ARMORPIERCE_TOTAL</a></div><div class="ttdeci">@ GUN_ARMORPIERCE_TOTAL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa0c804e4fd5de9f864355262e269b3c99"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0c804e4fd5de9f864355262e269b3c99">iteminfo_parts::GUN_DISPERSION_LOADEDAMMO</a></div><div class="ttdeci">@ GUN_DISPERSION_LOADEDAMMO</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa1647f009b5de6362dd3c6b8a4e0340af"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1647f009b5de6362dd3c6b8a4e0340af">iteminfo_parts::GUN_RECOIL_PERCENTAGE</a></div><div class="ttdeci">@ GUN_RECOIL_PERCENTAGE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa1b56f4aab725171f7745e0e0d8000bd7"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1b56f4aab725171f7745e0e0d8000bd7">iteminfo_parts::GUN_DISPERSION_TOTAL</a></div><div class="ttdeci">@ GUN_DISPERSION_TOTAL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa25a4260052ebde6514bb600ecd2a3a5c"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa25a4260052ebde6514bb600ecd2a3a5c">iteminfo_parts::GUN_TYPE</a></div><div class="ttdeci">@ GUN_TYPE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa437183a2ee10b05dd04a2373e30f9fbb"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa437183a2ee10b05dd04a2373e30f9fbb">iteminfo_parts::GUN_DAMAGE</a></div><div class="ttdeci">@ GUN_DAMAGE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa45d524921f84f13961a3d0936e7153a6"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa45d524921f84f13961a3d0936e7153a6">iteminfo_parts::GUN_ARMORMULT_TOTAL</a></div><div class="ttdeci">@ GUN_ARMORMULT_TOTAL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa48161940e933eea5d0b87c30433ef72f"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa48161940e933eea5d0b87c30433ef72f">iteminfo_parts::GUN_AIMING_STATS</a></div><div class="ttdeci">@ GUN_AIMING_STATS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa5280819046df8462b66ab3ca53960e83"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5280819046df8462b66ab3ca53960e83">iteminfo_parts::GUN_ARMORMULT_LOADEDAMMO</a></div><div class="ttdeci">@ GUN_ARMORMULT_LOADEDAMMO</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa5bf65804d0a123916c8916f04b45c102"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5bf65804d0a123916c8916f04b45c102">iteminfo_parts::GUN_BURST_PENALTY</a></div><div class="ttdeci">@ GUN_BURST_PENALTY</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa5f2fd59bf414e99ed703bbfa774e911e"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5f2fd59bf414e99ed703bbfa774e911e">iteminfo_parts::GUN_ARMORPIERCE_LOADEDAMMO</a></div><div class="ttdeci">@ GUN_ARMORPIERCE_LOADEDAMMO</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa69c5a2af31e3afb9da81b6910c42f90f"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa69c5a2af31e3afb9da81b6910c42f90f">iteminfo_parts::GUN_CAPACITY</a></div><div class="ttdeci">@ GUN_CAPACITY</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa6d831a28effbb6efe262c19a550349c5"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6d831a28effbb6efe262c19a550349c5">iteminfo_parts::GUN_RELOAD_TIME</a></div><div class="ttdeci">@ GUN_RELOAD_TIME</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa7079d6c7eaab71f6fefcf4ea1c52698d"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7079d6c7eaab71f6fefcf4ea1c52698d">iteminfo_parts::GUN_DISPERSION_SIGHT</a></div><div class="ttdeci">@ GUN_DISPERSION_SIGHT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa7978badb14e7a32b55e875471196179f"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7978badb14e7a32b55e875471196179f">iteminfo_parts::GUN_FIRE_MODES</a></div><div class="ttdeci">@ GUN_FIRE_MODES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa84f8270ca8b51f73539bdf7546473ebf"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa84f8270ca8b51f73539bdf7546473ebf">iteminfo_parts::GUN_DEFAULT_AMMO</a></div><div class="ttdeci">@ GUN_DEFAULT_AMMO</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa8b4442a732058b45d73b67e7b5662bdb"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8b4442a732058b45d73b67e7b5662bdb">iteminfo_parts::GUN_ARMORMULT</a></div><div class="ttdeci">@ GUN_ARMORMULT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa8e1181facdeb9898ea08f5621d1f24c7"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8e1181facdeb9898ea08f5621d1f24c7">iteminfo_parts::GUN_DAMAGEMULT_AMMO</a></div><div class="ttdeci">@ GUN_DAMAGEMULT_AMMO</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa9a043b451970b64c8fd3d543c424bab9"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9a043b451970b64c8fd3d543c424bab9">iteminfo_parts::GUN_DAMAGE_LOADEDAMMO</a></div><div class="ttdeci">@ GUN_DAMAGE_LOADEDAMMO</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa9d9a7f5b278697d4d220058b0d839375"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9d9a7f5b278697d4d220058b0d839375">iteminfo_parts::GUN_DAMAGEMULT_TOTAL</a></div><div class="ttdeci">@ GUN_DAMAGEMULT_TOTAL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaa772f1191a9b2a8eea1de9ac71fa19e0"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa772f1191a9b2a8eea1de9ac71fa19e0">iteminfo_parts::GUN_RECOIL_BIPOD</a></div><div class="ttdeci">@ GUN_RECOIL_BIPOD</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaabae2ef3e5dc3ef734661234a6c8b263"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaabae2ef3e5dc3ef734661234a6c8b263">iteminfo_parts::GUN_ARMORPIERCE</a></div><div class="ttdeci">@ GUN_ARMORPIERCE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaad5a64fee23bfe23b12a01e9b4d7c653"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaad5a64fee23bfe23b12a01e9b4d7c653">iteminfo_parts::GUN_MAGAZINE</a></div><div class="ttdeci">@ GUN_MAGAZINE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaaf11b61460c8a0f0f43ab34b995319b5"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaaf11b61460c8a0f0f43ab34b995319b5">iteminfo_parts::AMMO_UPSCOST</a></div><div class="ttdeci">@ AMMO_UPSCOST</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaab8fdef243cfde306c9265b61ebf47080"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab8fdef243cfde306c9265b61ebf47080">iteminfo_parts::DESCRIPTION_GUN_MODS</a></div><div class="ttdeci">@ DESCRIPTION_GUN_MODS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaabd3949d1da788505014ce644dd38b245"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabd3949d1da788505014ce644dd38b245">iteminfo_parts::GUN_USEDSKILL</a></div><div class="ttdeci">@ GUN_USEDSKILL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaabe9b83b8dfd0a66b1d7097d0f6cbe87e"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabe9b83b8dfd0a66b1d7097d0f6cbe87e">iteminfo_parts::AMMO_REMAINING</a></div><div class="ttdeci">@ AMMO_REMAINING</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaabf08329f3b4cb553c370380d01c111d6"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabf08329f3b4cb553c370380d01c111d6">iteminfo_parts::GUN_DISPERSION</a></div><div class="ttdeci">@ GUN_DISPERSION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaacc0f6ba13027bdd335f96daf25b14ef5"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaacc0f6ba13027bdd335f96daf25b14ef5">iteminfo_parts::GUN_ALLOWED_MAGAZINES</a></div><div class="ttdeci">@ GUN_ALLOWED_MAGAZINES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaccbcdabd31babb3882bf69837ba92d5d"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaccbcdabd31babb3882bf69837ba92d5d">iteminfo_parts::GUN_RECOIL_PERCENTAGE_BIPOD</a></div><div class="ttdeci">@ GUN_RECOIL_PERCENTAGE_BIPOD</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaace40cbc4372a34b39ed693890360b024"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaace40cbc4372a34b39ed693890360b024">iteminfo_parts::GUN_RECOIL</a></div><div class="ttdeci">@ GUN_RECOIL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaad12a5950956c105707821b2948f71750"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad12a5950956c105707821b2948f71750">iteminfo_parts::GUN_DAMAGE_TOTAL</a></div><div class="ttdeci">@ GUN_DAMAGE_TOTAL</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaadc57ce01d968aafed58059e1bc743a04"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadc57ce01d968aafed58059e1bc743a04">iteminfo_parts::GUN_MAX_RANGE</a></div><div class="ttdeci">@ GUN_MAX_RANGE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaade426a25931d2a93b8b2377ecd103687"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaade426a25931d2a93b8b2377ecd103687">iteminfo_parts::DESCRIPTION_GUN_CASINGS</a></div><div class="ttdeci">@ DESCRIPTION_GUN_CASINGS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaafbb7951fba5f6639721b65f08f8e4690"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaafbb7951fba5f6639721b65f08f8e4690">iteminfo_parts::GUN_DAMAGEMULT</a></div><div class="ttdeci">@ GUN_DAMAGEMULT</div></div>
<div class="ttc" id="anamespaceranged_html_a32d7ead84f4eb01b4050fdbbca0767ea"><div class="ttname"><a href="namespaceranged.html#a32d7ead84f4eb01b4050fdbbca0767ea">ranged::str_draw_damage_modifier</a></div><div class="ttdeci">float str_draw_damage_modifier(const item &amp;it, const Character &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01007">ranged.cpp:1007</a></div></div>
<div class="ttc" id="anamespaceranged_html_a5332ed56c9f0b3702e72aecdcaa1e7be"><div class="ttname"><a href="namespaceranged.html#a5332ed56c9f0b3702e72aecdcaa1e7be">ranged::burst_penalty</a></div><div class="ttdeci">int burst_penalty(const Character &amp;p, const item &amp;gun, int gun_recoil)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l02120">ranged.cpp:2120</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a6b4c3a2a360b378de261413fbb7d84f0"><div class="ttname"><a href="ranged_8cpp.html#a6b4c3a2a360b378de261413fbb7d84f0">range_with_even_chance_of_good_hit</a></div><div class="ttdeci">int range_with_even_chance_of_good_hit(int dispersion)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l00561">ranged.cpp:561</a></div></div>
<div class="ttc" id="astructaim__type_html"><div class="ttname"><a href="structaim__type.html">aim_type</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00224">character.h:224</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a5937d5d78a6db9efaefb0bf9517377d3"><div class="ttname"><a href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">damage_unit::amount</a></div><div class="ttdeci">float amount</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00037">damage.h:37</a></div></div>
<div class="ttc" id="astructdamage__unit_html_af0a5ce1c282d7ed1a783fd4315404ec3"><div class="ttname"><a href="structdamage__unit.html#af0a5ce1c282d7ed1a783fd4315404ec3">damage_unit::res_mult</a></div><div class="ttdeci">float res_mult</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00039">damage.h:39</a></div></div>
<div class="ttc" id="astructislot__gun_html"><div class="ttname"><a href="structislot__gun.html">islot_gun</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00459">itype.h:459</a></div></div>
<div class="ttc" id="astructislot__gun_html_acae6c7b0619e281370014c6fb3ea1f54"><div class="ttname"><a href="structislot__gun.html#acae6c7b0619e281370014c6fb3ea1f54">islot_gun::valid_mod_locations</a></div><div class="ttdeci">std::map&lt; gunmod_location, int &gt; valid_mod_locations</div><div class="ttdoc">Location for gun mods.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00520">itype.h:520</a></div></div>
<div class="ttc" id="astructiteminfo_html_a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa"><div class="ttname"><a href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16acd4efabc933c1eb5ed469082a5eacaaa">iteminfo::no_name</a></div><div class="ttdeci">@ no_name</div><div class="ttdoc">Do not print the name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00146">item.h:146</a></div></div>
<div class="ttc" id="astructitype_html_a82ca05abd5038bf680072963a3a97a7c"><div class="ttname"><a href="structitype.html#a82ca05abd5038bf680072963a3a97a7c">itype::name</a></div><div class="ttdeci">translation name</div><div class="ttdoc">unique string identifier for this type</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00885">itype.h:885</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07439">ammo_default()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabe9b83b8dfd0a66b1d7097d0f6cbe87e">AMMO_REMAINING</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaaf11b61460c8a0f0f43ab34b995319b5">AMMO_UPSCOST</a>, <a class="el" href="damage_8h_source.html#l00037">damage_unit::amount</a>, <a class="el" href="ranged_8cpp_source.html#l02120">ranged::burst_penalty()</a>, <a class="el" href="item_8cpp_source.html#l07455">common_ammo_default()</a>, <a class="el" href="item_8h_source.html#l02166">curammo</a>, <a class="el" href="damage_8h_source.html#l00040">damage_unit::damage_multiplier</a>, <a class="el" href="damage_8h_source.html#l00052">damage_instance::damage_units</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaade426a25931d2a93b8b2377ecd103687">DESCRIPTION_GUN_CASINGS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab8fdef243cfde306c9265b61ebf47080">DESCRIPTION_GUN_MODS</a>, <a class="el" href="damage_8h_source.html#l00027">DT_STAB</a>, <a class="el" href="translations_8cpp_source.html#l00342">translation::empty()</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="item_8cpp.html#a408d6725de4403d9ba579aff053a347b">flag_BIPOD()</a>, <a class="el" href="item_8cpp.html#a0d6f759986c08c3aee23ac4284b9b01b">flag_RELOAD_ONE()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="avatar_8cpp_source.html#l00100">get_avatar()</a>, <a class="el" href="item_8cpp_source.html#l03985">get_free_mod_locations()</a>, <a class="el" href="item_8cpp_source.html#l03968">get_mod_locations()</a>, <a class="el" href="item_8cpp_source.html#l01083">get_ranged_pierce()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa48161940e933eea5d0b87c30433ef72f">GUN_AIMING_STATS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaacc0f6ba13027bdd335f96daf25b14ef5">GUN_ALLOWED_MAGAZINES</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8b4442a732058b45d73b67e7b5662bdb">GUN_ARMORMULT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5280819046df8462b66ab3ca53960e83">GUN_ARMORMULT_LOADEDAMMO</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa45d524921f84f13961a3d0936e7153a6">GUN_ARMORMULT_TOTAL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaabae2ef3e5dc3ef734661234a6c8b263">GUN_ARMORPIERCE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5f2fd59bf414e99ed703bbfa774e911e">GUN_ARMORPIERCE_LOADEDAMMO</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa02464f1f20716c4b55229bfa5ae25e12">GUN_ARMORPIERCE_TOTAL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa5bf65804d0a123916c8916f04b45c102">GUN_BURST_PENALTY</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa69c5a2af31e3afb9da81b6910c42f90f">GUN_CAPACITY</a>, <a class="el" href="item_8cpp_source.html#l07119">gun_damage()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa437183a2ee10b05dd04a2373e30f9fbb">GUN_DAMAGE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9a043b451970b64c8fd3d543c424bab9">GUN_DAMAGE_LOADEDAMMO</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaad12a5950956c105707821b2948f71750">GUN_DAMAGE_TOTAL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaafbb7951fba5f6639721b65f08f8e4690">GUN_DAMAGEMULT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8e1181facdeb9898ea08f5621d1f24c7">GUN_DAMAGEMULT_AMMO</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9d9a7f5b278697d4d220058b0d839375">GUN_DAMAGEMULT_TOTAL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa84f8270ca8b51f73539bdf7546473ebf">GUN_DEFAULT_AMMO</a>, <a class="el" href="item_8cpp_source.html#l07072">gun_dispersion()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabf08329f3b4cb553c370380d01c111d6">GUN_DISPERSION</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0c804e4fd5de9f864355262e269b3c99">GUN_DISPERSION_LOADEDAMMO</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7079d6c7eaab71f6fefcf4ea1c52698d">GUN_DISPERSION_SIGHT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1b56f4aab725171f7745e0e0d8000bd7">GUN_DISPERSION_TOTAL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa7978badb14e7a32b55e875471196179f">GUN_FIRE_MODES</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaad5a64fee23bfe23b12a01e9b4d7c653">GUN_MAGAZINE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadc57ce01d968aafed58059e1bc743a04">GUN_MAX_RANGE</a>, <a class="el" href="item_8cpp_source.html#l07201">gun_range()</a>, <a class="el" href="item_8cpp_source.html#l07168">gun_recoil()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaace40cbc4372a34b39ed693890360b024">GUN_RECOIL</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa772f1191a9b2a8eea1de9ac71fa19e0">GUN_RECOIL_BIPOD</a>, <a class="el" href="item_8cpp_source.html#l07148">gun_recoil_multiplier()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa1647f009b5de6362dd3c6b8a4e0340af">GUN_RECOIL_PERCENTAGE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaccbcdabd31babb3882bf69837ba92d5d">GUN_RECOIL_PERCENTAGE_BIPOD</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6d831a28effbb6efe262c19a550349c5">GUN_RELOAD_TIME</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa25a4260052ebde6514bb600ecd2a3a5c">GUN_TYPE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaabd3949d1da788505014ce644dd38b245">GUN_USEDSKILL</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8h_source.html#l00142">iteminfo::is_decimal</a>, <a class="el" href="item_8h_source.html#l00145">iteminfo::lower_is_better</a>, <a class="el" href="item_8cpp_source.html#l07539">magazine_compatible()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="game__constants_8h_source.html#l00128">MAX_RECOIL</a>, <a class="el" href="itype_8h_source.html#l00885">itype::name</a>, <a class="el" href="skill_8h_source.html#l00068">Skill::name()</a>, <a class="el" href="itype_8cpp_source.html#l00046">itype::nname()</a>, <a class="el" href="item_8h_source.html#l00141">iteminfo::no_flags</a>, <a class="el" href="item_8h_source.html#l00146">iteminfo::no_name</a>, <a class="el" href="item_8h_source.html#l00144">iteminfo::no_newline</a>, <a class="el" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="ranged_8cpp_source.html#l00561">range_with_even_chance_of_good_hit()</a>, <a class="el" href="damage_8h_source.html#l00039">damage_unit::res_mult</a>, <a class="el" href="calendar_8h.html#a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612">second</a>, <a class="el" href="item_8h_source.html#l00147">iteminfo::show_plus</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::space</a>, <a class="el" href="ranged_8cpp_source.html#l01007">ranged::str_draw_damage_modifier()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="itype_8h_source.html#l00520">islot_gun::valid_mod_locations</a>, and <a class="el" href="translations_8cpp_source.html#l00036">vgettext()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a3694c5d9138956736af2444bd7b3972e" name="a3694c5d9138956736af2444bd7b3972e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3694c5d9138956736af2444bd7b3972e">&#9670;&nbsp;</a></span>gun_noise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structitem_1_1sound__data.html">item::sound_data</a> item::gun_noise </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>burst</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the sound of the gun being fired. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">burst</td><td>Whether the gun was fired in burst mode (the sound string is usually different). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01776">1776</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>{</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>        <span class="keywordflow">return</span> { 0, <span class="stringliteral">&quot;&quot;</span> };</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>    }</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span> </div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;loudness;</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> += <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;loudness;</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>    }</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() ) {</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>        <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> += <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;loudness;</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    }</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span> </div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>    <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> = std::max( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, 0 );</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span> </div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="ranged_8cpp.html#a72d322a82b6cac799c940f935cbee213">itype_40x46mm</a> || <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="ranged_8cpp.html#a7cebe4dcc0fe98d9a37fe19beb640e1f">itype_40x53mm</a> ) {</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>        <span class="comment">// Grenade launchers</span></div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>        <span class="keywordflow">return</span> { 8, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Thunk!&quot;</span> ) };</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span> </div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="ranged_8cpp.html#a21b633b2e3ce24798652a8392b2be96e">itype_12mm</a> || <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="ranged_8cpp.html#a8cd1e1b3b0c3c6b1ba13f05f3831279c">itype_metal_rail</a> ) {</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>        <span class="comment">// Railguns</span></div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>        <span class="keywordflow">return</span> { 24, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;tz-CRACKck!&quot;</span> ) };</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span> </div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="ranged_8cpp.html#a31e6d6147ad05dd584d1f1e71ac5dce7">itype_flammable</a> || <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="ranged_8cpp.html#ae3075e5ce833b51beabbbf41bec72156">itype_66mm</a> ||</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>               <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="ranged_8cpp.html#a804a5958c8dea5a130b8a5c7fe686ac6">itype_84x246mm</a> || <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="ranged_8cpp.html#a45b1f02f143134444fdec57043934598">itype_m235</a> ) {</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>        <span class="comment">// Rocket launchers and flamethrowers</span></div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>        <span class="keywordflow">return</span> { 4, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Fwoosh!&quot;</span> ) };</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="ranged_8cpp.html#af6105e558342bb67286a7f70682f652f">itype_arrow</a> ) {</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>        <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;whizz!&quot;</span> ) };</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="ranged_8cpp.html#a8003de0be6343d0b891adb019a7b51ea">itype_bolt</a> ) {</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>        <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;thonk!&quot;</span> ) };</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>    }</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span> </div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>    <span class="keyword">auto</span> fx = <a class="code hl_function" href="classitem.html#a75fa277bb39c1d2922137986c67d48fb">ammo_effects</a>();</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span> </div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>    <span class="keywordflow">if</span>( fx.count( <a class="code hl_variable" href="ranged_8cpp.html#a4823a8b924c5e1c83c8e1e1a316e1ae7">ammo_effect_LASER</a> ) || fx.count( <a class="code hl_variable" href="ranged_8cpp.html#aaf09bb55e60a45b1eb81e989d0758e93">ammo_effect_PLASMA</a> ) ) {</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> &lt; 20 ) {</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Fzzt!&quot;</span> ) };</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> &lt; 40 ) {</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Pew!&quot;</span> ) };</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> &lt; 60 ) {</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Tsewww!&quot;</span> ) };</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Kra-kow!&quot;</span> ) };</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>        }</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span> </div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( fx.count( <a class="code hl_variable" href="ranged_8cpp.html#a17d7acb18d1ef9119106898d678fac76">ammo_effect_LIGHTNING</a> ) ) {</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> &lt; 20 ) {</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bzzt!&quot;</span> ) };</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> &lt; 40 ) {</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bzap!&quot;</span> ) };</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> &lt; 60 ) {</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bzaapp!&quot;</span> ) };</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Kra-koom!&quot;</span> ) };</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>        }</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span> </div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( fx.count( <a class="code hl_variable" href="ranged_8cpp.html#a08fa47ab74c2457fe092efe94c352dd7">ammo_effect_WHIP</a> ) ) {</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>        <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Crack!&quot;</span> ) };</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span> </div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> &gt; 0 ) {</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> &lt; 10 ) {</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, burst ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Brrrip!&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;plink!&quot;</span> ) };</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> &lt; 150 ) {</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, burst ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Brrrap!&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;bang!&quot;</span> ) };</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a> &lt; 175 ) {</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, burst ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;P-p-p-pow!&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;blam!&quot;</span> ) };</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>            <span class="keywordflow">return</span> { <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, burst ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Kaboom!&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;kerblam!&quot;</span> ) };</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>        }</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>    }</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span> </div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>    <span class="keywordflow">return</span> { 0, <span class="stringliteral">&quot;&quot;</span> }; <span class="comment">// silent weapons</span></div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>}</div>
<div class="ttc" id="aclassitem_html_a75fa277bb39c1d2922137986c67d48fb"><div class="ttname"><a href="classitem.html#a75fa277bb39c1d2922137986c67d48fb">item::ammo_effects</a></div><div class="ttdeci">std::set&lt; ammo_effect_str_id &gt; ammo_effects(bool with_ammo=true) const</div><div class="ttdoc">Get ammo effects for item optionally inclusive of any resulting from the loaded ammo.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07471">item.cpp:7471</a></div></div>
<div class="ttc" id="aenums_8h_html_a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481"><div class="ttname"><a href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">distraction_type::noise</a></div><div class="ttdeci">@ noise</div></div>
<div class="ttc" id="aranged_8cpp_html_a08fa47ab74c2457fe092efe94c352dd7"><div class="ttname"><a href="ranged_8cpp.html#a08fa47ab74c2457fe092efe94c352dd7">ammo_effect_WHIP</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_WHIP(&quot;WHIP&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a17d7acb18d1ef9119106898d678fac76"><div class="ttname"><a href="ranged_8cpp.html#a17d7acb18d1ef9119106898d678fac76">ammo_effect_LIGHTNING</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_LIGHTNING(&quot;LIGHTNING&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a21b633b2e3ce24798652a8392b2be96e"><div class="ttname"><a href="ranged_8cpp.html#a21b633b2e3ce24798652a8392b2be96e">itype_12mm</a></div><div class="ttdeci">static const itype_id itype_12mm(&quot;12mm&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a31e6d6147ad05dd584d1f1e71ac5dce7"><div class="ttname"><a href="ranged_8cpp.html#a31e6d6147ad05dd584d1f1e71ac5dce7">itype_flammable</a></div><div class="ttdeci">static const itype_id itype_flammable(&quot;flammable&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a45b1f02f143134444fdec57043934598"><div class="ttname"><a href="ranged_8cpp.html#a45b1f02f143134444fdec57043934598">itype_m235</a></div><div class="ttdeci">static const itype_id itype_m235(&quot;m235&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a4823a8b924c5e1c83c8e1e1a316e1ae7"><div class="ttname"><a href="ranged_8cpp.html#a4823a8b924c5e1c83c8e1e1a316e1ae7">ammo_effect_LASER</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_LASER(&quot;LASER&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a72d322a82b6cac799c940f935cbee213"><div class="ttname"><a href="ranged_8cpp.html#a72d322a82b6cac799c940f935cbee213">itype_40x46mm</a></div><div class="ttdeci">static const itype_id itype_40x46mm(&quot;40x46mm&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a7cebe4dcc0fe98d9a37fe19beb640e1f"><div class="ttname"><a href="ranged_8cpp.html#a7cebe4dcc0fe98d9a37fe19beb640e1f">itype_40x53mm</a></div><div class="ttdeci">static const itype_id itype_40x53mm(&quot;40x53mm&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a8003de0be6343d0b891adb019a7b51ea"><div class="ttname"><a href="ranged_8cpp.html#a8003de0be6343d0b891adb019a7b51ea">itype_bolt</a></div><div class="ttdeci">static const itype_id itype_bolt(&quot;bolt&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a804a5958c8dea5a130b8a5c7fe686ac6"><div class="ttname"><a href="ranged_8cpp.html#a804a5958c8dea5a130b8a5c7fe686ac6">itype_84x246mm</a></div><div class="ttdeci">static const itype_id itype_84x246mm(&quot;84x246mm&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a8cd1e1b3b0c3c6b1ba13f05f3831279c"><div class="ttname"><a href="ranged_8cpp.html#a8cd1e1b3b0c3c6b1ba13f05f3831279c">itype_metal_rail</a></div><div class="ttdeci">static const itype_id itype_metal_rail(&quot;metal_rail&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_aaf09bb55e60a45b1eb81e989d0758e93"><div class="ttname"><a href="ranged_8cpp.html#aaf09bb55e60a45b1eb81e989d0758e93">ammo_effect_PLASMA</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_PLASMA(&quot;PLASMA&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_ae3075e5ce833b51beabbbf41bec72156"><div class="ttname"><a href="ranged_8cpp.html#ae3075e5ce833b51beabbbf41bec72156">itype_66mm</a></div><div class="ttdeci">static const itype_id itype_66mm(&quot;66mm&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_af6105e558342bb67286a7f70682f652f"><div class="ttname"><a href="ranged_8cpp.html#af6105e558342bb67286a7f70682f652f">itype_arrow</a></div><div class="ttdeci">static const itype_id itype_arrow(&quot;arrow&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07402">ammo_current()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="ranged_8cpp.html#a4823a8b924c5e1c83c8e1e1a316e1ae7">ammo_effect_LASER</a>, <a class="el" href="ranged_8cpp.html#a17d7acb18d1ef9119106898d678fac76">ammo_effect_LIGHTNING</a>, <a class="el" href="ranged_8cpp.html#aaf09bb55e60a45b1eb81e989d0758e93">ammo_effect_PLASMA</a>, <a class="el" href="ranged_8cpp.html#a08fa47ab74c2457fe092efe94c352dd7">ammo_effect_WHIP</a>, <a class="el" href="item_8cpp_source.html#l07471">ammo_effects()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="ranged_8cpp.html#a21b633b2e3ce24798652a8392b2be96e">itype_12mm</a>, <a class="el" href="ranged_8cpp.html#a72d322a82b6cac799c940f935cbee213">itype_40x46mm</a>, <a class="el" href="ranged_8cpp.html#a7cebe4dcc0fe98d9a37fe19beb640e1f">itype_40x53mm</a>, <a class="el" href="ranged_8cpp.html#ae3075e5ce833b51beabbbf41bec72156">itype_66mm</a>, <a class="el" href="ranged_8cpp.html#a804a5958c8dea5a130b8a5c7fe686ac6">itype_84x246mm</a>, <a class="el" href="ranged_8cpp.html#af6105e558342bb67286a7f70682f652f">itype_arrow</a>, <a class="el" href="ranged_8cpp.html#a8003de0be6343d0b891adb019a7b51ea">itype_bolt</a>, <a class="el" href="ranged_8cpp.html#a31e6d6147ad05dd584d1f1e71ac5dce7">itype_flammable</a>, <a class="el" href="ranged_8cpp.html#a45b1f02f143134444fdec57043934598">itype_m235</a>, <a class="el" href="ranged_8cpp.html#a8cd1e1b3b0c3c6b1ba13f05f3831279c">itype_metal_rail</a>, <a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06392">is_silent()</a>, <a class="el" href="ranged_8cpp_source.html#l01767">make_gun_sound_effect()</a>, and <a class="el" href="ranged_8cpp_source.html#l00755">npc::pretend_fire()</a>.</p>

</div>
</div>
<a id="a3ddc87ae8a8c4afc09f1cb1b4a7d6d10" name="a3ddc87ae8a8c4afc09f1cb1b4a7d6d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ddc87ae8a8c4afc09f1cb1b4a7d6d10">&#9670;&nbsp;</a></span>gun_range() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::gun_range </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_ammo</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Summed range value of a gun, including values from mods. </p>
<p >Returns 0 on non-gun items. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07182">7182</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07183" name="l07183"></a><span class="lineno"> 7183</span>{</div>
<div class="line"><a id="l07184" name="l07184"></a><span class="lineno"> 7184</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07185" name="l07185"></a><span class="lineno"> 7185</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07186" name="l07186"></a><span class="lineno"> 7186</span>    }</div>
<div class="line"><a id="l07187" name="l07187"></a><span class="lineno"> 7187</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;range;</div>
<div class="line"><a id="l07188" name="l07188"></a><span class="lineno"> 7188</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l07189" name="l07189"></a><span class="lineno"> 7189</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;range;</div>
<div class="line"><a id="l07190" name="l07190"></a><span class="lineno"> 7190</span>    }</div>
<div class="line"><a id="l07191" name="l07191"></a><span class="lineno"> 7191</span>    <span class="keywordflow">if</span>( with_ammo &amp;&amp; <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() ) {</div>
<div class="line"><a id="l07192" name="l07192"></a><span class="lineno"> 7192</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;ammo-&gt;shape ) {</div>
<div class="line"><a id="l07193" name="l07193"></a><span class="lineno"> 7193</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;shape-&gt;get_range();</div>
<div class="line"><a id="l07194" name="l07194"></a><span class="lineno"> 7194</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07195" name="l07195"></a><span class="lineno"> 7195</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;range;</div>
<div class="line"><a id="l07196" name="l07196"></a><span class="lineno"> 7196</span>        }</div>
<div class="line"><a id="l07197" name="l07197"></a><span class="lineno"> 7197</span>    }</div>
<div class="line"><a id="l07198" name="l07198"></a><span class="lineno"> 7198</span>    <span class="keywordflow">return</span> std::min( std::max( 0, <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> ), <a class="code hl_variable" href="game__constants_8h.html#a9a0de4360143c33059120b35030853cf">RANGE_HARD_CAP</a> );</div>
<div class="line"><a id="l07199" name="l07199"></a><span class="lineno"> 7199</span>}</div>
<div class="ttc" id="agame__constants_8h_html_a9a0de4360143c33059120b35030853cf"><div class="ttname"><a href="game__constants_8h.html#a9a0de4360143c33059120b35030853cf">RANGE_HARD_CAP</a></div><div class="ttdeci">static constexpr int RANGE_HARD_CAP</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00117">game_constants.h:117</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="game__constants_8h_source.html#l00117">RANGE_HARD_CAP</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="af443024fa9e01c97953b3fcf81c9cfb1" name="af443024fa9e01c97953b3fcf81c9cfb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af443024fa9e01c97953b3fcf81c9cfb1">&#9670;&nbsp;</a></span>gun_range() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::gun_range </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The weapons range in map squares. </p>
<p >If the item has an active gunmod, it returns the range of that gunmod, the guns range is returned only when the item has no active gunmod. This function applies to guns and auxiliary gunmods. For other items, 0 is returned. It includes the range given by the ammo. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The player that uses the weapon, their strength might affect this. It's optional and can be null. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07201">7201</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07202" name="l07202"></a><span class="lineno"> 7202</span>{</div>
<div class="line"><a id="l07203" name="l07203"></a><span class="lineno"> 7203</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classitem.html#af443024fa9e01c97953b3fcf81c9cfb1">gun_range</a>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l07204" name="l07204"></a><span class="lineno"> 7204</span>    <span class="keywordflow">if</span>( p == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l07205" name="l07205"></a><span class="lineno"> 7205</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l07206" name="l07206"></a><span class="lineno"> 7206</span>    }</div>
<div class="line"><a id="l07207" name="l07207"></a><span class="lineno"> 7207</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#afca93d0bd4fe00f5c087d4040cbf98ae">meets_requirements</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l07208" name="l07208"></a><span class="lineno"> 7208</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07209" name="l07209"></a><span class="lineno"> 7209</span>    }</div>
<div class="line"><a id="l07210" name="l07210"></a><span class="lineno"> 7210</span> </div>
<div class="line"><a id="l07211" name="l07211"></a><span class="lineno"> 7211</span>    <span class="comment">// Reduce bow range if player has less than minimum strength.</span></div>
<div class="line"><a id="l07212" name="l07212"></a><span class="lineno"> 7212</span>    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> *= <a class="code hl_function" href="namespaceranged.html#aa7a46e309ff8892e692a92511635a4eb">ranged::str_draw_range_modifier</a>( *<span class="keyword">this</span>, *p );</div>
<div class="line"><a id="l07213" name="l07213"></a><span class="lineno"> 7213</span> </div>
<div class="line"><a id="l07214" name="l07214"></a><span class="lineno"> 7214</span>    <span class="keywordflow">return</span> std::max( 0, <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> );</div>
<div class="line"><a id="l07215" name="l07215"></a><span class="lineno"> 7215</span>}</div>
<div class="ttc" id="aclassCharacter_html_afca93d0bd4fe00f5c087d4040cbf98ae"><div class="ttname"><a href="classCharacter.html#afca93d0bd4fe00f5c087d4040cbf98ae">Character::meets_requirements</a></div><div class="ttdeci">bool meets_requirements(const item &amp;it, const item &amp;context=item()) const</div><div class="ttdoc">Checks whether the character meets overall requirements to be able to use the item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03435">character.cpp:3435</a></div></div>
<div class="ttc" id="anamespaceranged_html_aa7a46e309ff8892e692a92511635a4eb"><div class="ttname"><a href="namespaceranged.html#aa7a46e309ff8892e692a92511635a4eb">ranged::str_draw_range_modifier</a></div><div class="ttdeci">float str_draw_range_modifier(const item &amp;it, const Character &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01033">ranged.cpp:1033</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07201">gun_range()</a>, <a class="el" href="character_8cpp_source.html#l03435">Character::meets_requirements()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="ranged_8cpp_source.html#l01033">ranged::str_draw_range_modifier()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="item_8cpp_source.html#l07201">gun_range()</a>, <a class="el" href="game_8cpp_source.html#l07972">game::list_monsters()</a>, <a class="el" href="ranged_8cpp_source.html#l01666">make_gun_projectile()</a>, <a class="el" href="turret_8cpp_source.html#l00188">turret_data::range()</a>, and <a class="el" href="ranged_8cpp_source.html#l03036">target_ui::update_ammo_range_from_gun_mode()</a>.</p>

</div>
</div>
<a id="a4dbbda81cd9bc9ed386b9c5bf71d5acd" name="a4dbbda81cd9bc9ed386b9c5bf71d5acd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dbbda81cd9bc9ed386b9c5bf71d5acd">&#9670;&nbsp;</a></span>gun_recoil()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::gun_recoil </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bipod</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get effective recoil considering handling, loaded ammo and effects of attached gunmods. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bipod</td><td>whether any bipods should be considered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>effective recoil (per shot) or zero if gun uses ammo and none is loaded </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07168">7168</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07169" name="l07169"></a><span class="lineno"> 7169</span>{</div>
<div class="line"><a id="l07170" name="l07170"></a><span class="lineno"> 7170</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() || ( <a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() ) ) {</div>
<div class="line"><a id="l07171" name="l07171"></a><span class="lineno"> 7171</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07172" name="l07172"></a><span class="lineno"> 7172</span>    }</div>
<div class="line"><a id="l07173" name="l07173"></a><span class="lineno"> 7173</span> </div>
<div class="line"><a id="l07174" name="l07174"></a><span class="lineno"> 7174</span>    <span class="keywordtype">int</span> qty = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;recoil;</div>
<div class="line"><a id="l07175" name="l07175"></a><span class="lineno"> 7175</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() ) {</div>
<div class="line"><a id="l07176" name="l07176"></a><span class="lineno"> 7176</span>        qty += <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;recoil;</div>
<div class="line"><a id="l07177" name="l07177"></a><span class="lineno"> 7177</span>    }</div>
<div class="line"><a id="l07178" name="l07178"></a><span class="lineno"> 7178</span> </div>
<div class="line"><a id="l07179" name="l07179"></a><span class="lineno"> 7179</span>    <span class="keywordflow">return</span> qty * <a class="code hl_function" href="classitem.html#ae4ecf94591fd2a0df49e940e93255a59">gun_recoil_multiplier</a>( bipod );</div>
<div class="line"><a id="l07180" name="l07180"></a><span class="lineno"> 7180</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07296">ammo_required()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07148">gun_recoil_multiplier()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00792">calculate_dispersion()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, and <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>.</p>

</div>
</div>
<a id="ae4ecf94591fd2a0df49e940e93255a59" name="ae4ecf94591fd2a0df49e940e93255a59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4ecf94591fd2a0df49e940e93255a59">&#9670;&nbsp;</a></span>gun_recoil_multiplier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double item::gun_recoil_multiplier </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bipod</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get multiplier on recoil considering handling and attached gunmods. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bipod</td><td>whether any bipods should be considered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>multiplier on recoil applied to shots fired from this gun </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07148">7148</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07149" name="l07149"></a><span class="lineno"> 7149</span>{</div>
<div class="line"><a id="l07150" name="l07150"></a><span class="lineno"> 7150</span>    <span class="keywordtype">double</span> handling = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;handling;</div>
<div class="line"><a id="l07151" name="l07151"></a><span class="lineno"> 7151</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l07152" name="l07152"></a><span class="lineno"> 7152</span>        <span class="keywordflow">if</span>( bipod || !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;has_flag( <a class="code hl_function" href="item_8cpp.html#a408d6725de4403d9ba579aff053a347b">flag_BIPOD</a> ) ) {</div>
<div class="line"><a id="l07153" name="l07153"></a><span class="lineno"> 7153</span>            handling += <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;handling;</div>
<div class="line"><a id="l07154" name="l07154"></a><span class="lineno"> 7154</span>        }</div>
<div class="line"><a id="l07155" name="l07155"></a><span class="lineno"> 7155</span>    }</div>
<div class="line"><a id="l07156" name="l07156"></a><span class="lineno"> 7156</span> </div>
<div class="line"><a id="l07157" name="l07157"></a><span class="lineno"> 7157</span>    <span class="comment">// Rescale from JSON units which are intentionally specified as integral values</span></div>
<div class="line"><a id="l07158" name="l07158"></a><span class="lineno"> 7158</span>    handling /= 10;</div>
<div class="line"><a id="l07159" name="l07159"></a><span class="lineno"> 7159</span> </div>
<div class="line"><a id="l07160" name="l07160"></a><span class="lineno"> 7160</span>    <span class="comment">// Handling will almost always be above 1.0</span></div>
<div class="line"><a id="l07161" name="l07161"></a><span class="lineno"> 7161</span>    <span class="keywordflow">if</span>( handling &gt; 1.0 ) {</div>
<div class="line"><a id="l07162" name="l07162"></a><span class="lineno"> 7162</span>        <span class="keywordflow">return</span> 1.0 / handling;</div>
<div class="line"><a id="l07163" name="l07163"></a><span class="lineno"> 7163</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07164" name="l07164"></a><span class="lineno"> 7164</span>        <span class="keywordflow">return</span> 2.0 - handling;</div>
<div class="line"><a id="l07165" name="l07165"></a><span class="lineno"> 7165</span>    }</div>
<div class="line"><a id="l07166" name="l07166"></a><span class="lineno"> 7166</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a408d6725de4403d9ba579aff053a347b">flag_BIPOD()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, and <a class="el" href="item_8cpp_source.html#l07168">gun_recoil()</a>.</p>

</div>
</div>
<a id="afcc181d2e2fe380ac28dd70f814798c2" name="afcc181d2e2fe380ac28dd70f814798c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcc181d2e2fe380ac28dd70f814798c2">&#9670;&nbsp;</a></span>gun_set_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::gun_set_mode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a> &amp;&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to set the mode for a gun, returning false if no such mode is possible. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07749">7749</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07750" name="l07750"></a><span class="lineno"> 7750</span>{</div>
<div class="line"><a id="l07751" name="l07751"></a><span class="lineno"> 7751</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() || <a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() || !<a class="code hl_function" href="classitem.html#aa1a2ecb3e9ebf95dc7fedac4c1de32b4">gun_all_modes</a>().<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>( mode ) ) {</div>
<div class="line"><a id="l07752" name="l07752"></a><span class="lineno"> 7752</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07753" name="l07753"></a><span class="lineno"> 7753</span>    }</div>
<div class="line"><a id="l07754" name="l07754"></a><span class="lineno"> 7754</span>    <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <a class="code hl_function" href="item_8cpp.html#adc11d823a2cedb6fcbcd76d3b6ce6828">GUN_MODE_VAR_NAME</a>, mode.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l07755" name="l07755"></a><span class="lineno"> 7755</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l07756" name="l07756"></a><span class="lineno"> 7756</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05860">count()</a>, <a class="el" href="item_8cpp_source.html#l07677">gun_all_modes()</a>, <a class="el" href="item_8cpp.html#adc11d823a2cedb6fcbcd76d3b6ce6828">GUN_MODE_VAR_NAME()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="item_8cpp_source.html#l00992">set_var()</a>, and <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02958">target_ui::action_switch_mode()</a>, <a class="el" href="item_8cpp_source.html#l07758">gun_cycle_mode()</a>, <a class="el" href="player_8cpp_source.html#l03435">player::gunmod_remove()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, <a class="el" href="npcmove_8cpp_source.html#l01311">npc::method_of_attack()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l00557">gun_actor::shoot()</a>.</p>

</div>
</div>
<a id="a3d8542661f2e2a82e8cb3792584912f3" name="a3d8542661f2e2a82e8cb3792584912f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d8542661f2e2a82e8cb3792584912f3">&#9670;&nbsp;</a></span>gun_skill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> item::gun_skill </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The skill used to operate the gun. </p>
<p >Can be "null" if this is not a gun. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07026">7026</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07027" name="l07027"></a><span class="lineno"> 7027</span>{</div>
<div class="line"><a id="l07028" name="l07028"></a><span class="lineno"> 7028</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07029" name="l07029"></a><span class="lineno"> 7029</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">skill_id::NULL_ID</a>();</div>
<div class="line"><a id="l07030" name="l07030"></a><span class="lineno"> 7030</span>    }</div>
<div class="line"><a id="l07031" name="l07031"></a><span class="lineno"> 7031</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;skill_used;</div>
<div class="line"><a id="l07032" name="l07032"></a><span class="lineno"> 7032</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; Skill &gt;::NULL_ID()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l00637">Character::aim_cap_from_volume()</a>, <a class="el" href="character_8cpp_source.html#l00658">Character::aim_per_move()</a>, <a class="el" href="ranged_8cpp_source.html#l02120">ranged::burst_penalty()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02648">holster_actor::can_holster()</a>, <a class="el" href="item_8cpp_source.html#l09793">contextualize_skill()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="turret_8cpp_source.html#l00519">vehicle::get_targeting_npc()</a>, <a class="el" href="ranged_8cpp_source.html#l01881">player::get_weapon_dispersion()</a>, <a class="el" href="item_8cpp_source.html#l07034">gun_type()</a>, <a class="el" href="player_8cpp_source.html#l03486">player::gunmod_installation_odds()</a>, <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>, <a class="el" href="character_8cpp_source.html#l07577">Character::item_store_cost()</a>, <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02665">holster_actor::store()</a>, and <a class="el" href="player_8cpp_source.html#l04203">player::wield_contents()</a>.</p>

</div>
</div>
<a id="ac988f5071585ba014e6f72a485c3f9cf" name="ac988f5071585ba014e6f72a485c3f9cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac988f5071585ba014e6f72a485c3f9cf">&#9670;&nbsp;</a></span>gun_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgun__type__type.html">gun_type_type</a> item::gun_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the type of a ranged weapon (e.g. </p>
<p >"rifle", "crossbow"), or empty string if non-gun </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07034">7034</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07035" name="l07035"></a><span class="lineno"> 7035</span>{</div>
<div class="line"><a id="l07036" name="l07036"></a><span class="lineno"> 7036</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07037" name="l07037"></a><span class="lineno"> 7037</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classgun__type__type.html">gun_type_type</a>( std::string() );</div>
<div class="line"><a id="l07038" name="l07038"></a><span class="lineno"> 7038</span>    }</div>
<div class="line"><a id="l07039" name="l07039"></a><span class="lineno"> 7039</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a879ca51681aa9419a4d556cc219ea6c5">flag_CROSSBOW</a> ) ) {</div>
<div class="line"><a id="l07040" name="l07040"></a><span class="lineno"> 7040</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classgun__type__type.html">gun_type_type</a>( <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;gun_type_type&quot;</span>, <span class="stringliteral">&quot;crossbow&quot;</span> ) );</div>
<div class="line"><a id="l07041" name="l07041"></a><span class="lineno"> 7041</span>    }</div>
<div class="line"><a id="l07042" name="l07042"></a><span class="lineno"> 7042</span>    <span class="comment">// TODO: move to JSON and remove extraction of this from &quot;GUN&quot; (via skill id)</span></div>
<div class="line"><a id="l07043" name="l07043"></a><span class="lineno"> 7043</span>    <span class="comment">//and from &quot;GUNMOD&quot; (via &quot;mod_targets&quot;) in lang/extract_json_strings.py</span></div>
<div class="line"><a id="l07044" name="l07044"></a><span class="lineno"> 7044</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classgun__type__type.html">gun_type_type</a>( <a class="code hl_function" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>().str() );</div>
<div class="line"><a id="l07045" name="l07045"></a><span class="lineno"> 7045</span>}</div>
<div class="ttc" id="aclassgun__type__type_html"><div class="ttname"><a href="classgun__type__type.html">gun_type_type</a></div><div class="ttdoc">The type of gun. The second &quot;_type&quot; suffix is only to distinguish it from item::gun_type.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00547">itype.h:548</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a879ca51681aa9419a4d556cc219ea6c5"><div class="ttname"><a href="item_8cpp.html#a879ca51681aa9419a4d556cc219ea6c5">flag_CROSSBOW</a></div><div class="ttdeci">static const std::string flag_CROSSBOW(&quot;CROSSBOW&quot;)</div></div>
<div class="ttc" id="atranslations_8h_html_a9e39a96618079002323c6e554271d3e2"><div class="ttname"><a href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a></div><div class="ttdeci">#define translate_marker_context(c, x)</div><div class="ttdoc">Same as translate_marker, but also provides a context (string literal).</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00038">translations.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a879ca51681aa9419a4d556cc219ea6c5">flag_CROSSBOW()</a>, <a class="el" href="item_8cpp_source.html#l07026">gun_skill()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, and <a class="el" href="translations_8h_source.html#l00038">translate_marker_context</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>.</p>

</div>
</div>
<a id="a26ffce6c038cc9d398103dcd296275bd" name="a26ffce6c038cc9d398103dcd296275bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26ffce6c038cc9d398103dcd296275bd">&#9670;&nbsp;</a></span>gunmod_find() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * item::gunmod_find </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get first attached gunmod matching type or nullptr if no such mod or item is not a gun. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07588">7588</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07589" name="l07589"></a><span class="lineno"> 7589</span>{</div>
<div class="line"><a id="l07590" name="l07590"></a><span class="lineno"> 7590</span>    std::vector&lt;item *&gt; mods = <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>();</div>
<div class="line"><a id="l07591" name="l07591"></a><span class="lineno"> 7591</span>    <span class="keyword">auto</span> it = std::find_if( mods.begin(), mods.end(), [&amp;<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>]( <a class="code hl_class" href="classitem.html">item</a> * e ) {</div>
<div class="line"><a id="l07592" name="l07592"></a><span class="lineno"> 7592</span>        return e-&gt;typeId() == mod;</div>
<div class="line"><a id="l07593" name="l07593"></a><span class="lineno"> 7593</span>    } );</div>
<div class="line"><a id="l07594" name="l07594"></a><span class="lineno"> 7594</span>    <span class="keywordflow">return</span> it != mods.end() ? *it : <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l07595" name="l07595"></a><span class="lineno"> 7595</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l04274">saw_barrel_actor::can_use_on()</a>, <a class="el" href="ranged_8cpp_source.html#l01719">cycle_action()</a>, <a class="el" href="item_8cpp_source.html#l07597">gunmod_find()</a>, <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="a08d1d73decd26ea36f942c53cf7c037b" name="a08d1d73decd26ea36f942c53cf7c037b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d1d73decd26ea36f942c53cf7c037b">&#9670;&nbsp;</a></span>gunmod_find() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem.html">item</a> * item::gunmod_find </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07597">7597</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07598" name="l07598"></a><span class="lineno"> 7598</span>{</div>
<div class="line"><a id="l07599" name="l07599"></a><span class="lineno"> 7599</span>    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="classitem.html">item</a> *<span class="keyword">&gt;</span>( this )-&gt;<a class="code hl_function" href="classitem.html#a26ffce6c038cc9d398103dcd296275bd">gunmod_find</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l07600" name="l07600"></a><span class="lineno"> 7600</span>}</div>
<div class="ttc" id="aclassitem_html_a26ffce6c038cc9d398103dcd296275bd"><div class="ttname"><a href="classitem.html#a26ffce6c038cc9d398103dcd296275bd">item::gunmod_find</a></div><div class="ttdeci">item * gunmod_find(const itype_id &amp;mod)</div><div class="ttdoc">Get first attached gunmod matching type or nullptr if no such mod or item is not a gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07588">item.cpp:7588</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07588">gunmod_find()</a>.</p>

</div>
</div>
<a id="a0ad233b27797b39be495f7713e9ec6c0" name="a0ad233b27797b39be495f7713e9ec6c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ad233b27797b39be495f7713e9ec6c0">&#9670;&nbsp;</a></span>gunmod_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::gunmod_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l02324">2324</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>{</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() ) {</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>    }</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__gunmod.html">islot_gunmod</a> &amp;<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a>;</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span> </div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadc97189dd338a4574eb8cb260b8364b2">iteminfo_parts::DESCRIPTION_GUNMOD</a> ) ) {</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This mod &lt;info&gt;must be attached to a gun&lt;/info&gt;, &quot;</span></div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>                                     <span class="stringliteral">&quot;it can not be fired separately.&quot;</span> ) ) );</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>    }</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aae5d9490c49c95e551245d7f1cf69cb5">flag_REACH_ATTACK</a> ) &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaff44f29fcfbf562378921b15c7b62214">iteminfo_parts::DESCRIPTION_GUNMOD_REACH</a> ) ) {</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;When attached to a gun, &lt;good&gt;allows&lt;/good&gt; making &quot;</span></div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>                                     <span class="stringliteral">&quot;&lt;info&gt;reach melee attacks&lt;/info&gt; with it.&quot;</span> ) ) );</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>    }</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.dispersion != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0900665dd96e1f42ee85cfedc4289cd9">iteminfo_parts::GUNMOD_DISPERSION</a> ) ) {</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Dispersion modifier: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a> | <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a>,</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>                                  <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.dispersion ) );</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>    }</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.sight_dispersion != -1 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa06c04c2e1ad34f82cf09e10bff068b57">iteminfo_parts::GUNMOD_DISPERSION_SIGHT</a> ) ) {</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Sight dispersion: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.sight_dispersion ) );</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>    }</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.aim_speed &gt;= 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8f42ba37e0d5252392bcfc7b42e78056">iteminfo_parts::GUNMOD_AIMSPEED</a> ) ) {</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Aim speed: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>                                  <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.aim_speed ) );</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>    }</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>    <span class="keywordtype">int</span> total_damage = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.damage.total_damage() );</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>    <span class="keywordflow">if</span>( total_damage != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0589989590a223dd4c620484f6a6ab5d">iteminfo_parts::GUNMOD_DAMAGE</a> ) ) {</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Damage: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a>,</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>                                  total_damage ) );</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>    }</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>    <span class="keywordtype">int</span> pierce = <a class="code hl_function" href="item_8cpp.html#ae629e87a352693e7f8d1895a698237d2">get_ranged_pierce</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="item_8cpp.html#ae629e87a352693e7f8d1895a698237d2">get_ranged_pierce</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaba9e4ebccb5c1d0c86f74b485aef1a11">iteminfo_parts::GUNMOD_ARMORPIERCE</a> ) ) {</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Armor-pierce: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a>,</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>                                  pierce ) );</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>    }</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.handling != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaae0582478e0939db9658c75609f93395a">iteminfo_parts::GUNMOD_HANDLING</a> ) ) {</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUNMOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Handling modifier: &quot;</span> ), <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>                           <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a711e564f20b0271cab7a85e1ab115cf5">iteminfo::show_plus</a>, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.handling );</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>    }</div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>-&gt;ammo_modifier.empty() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadc47330fd0111d3045c4f72fd8d7bcc2">iteminfo_parts::GUNMOD_AMMO</a> ) ) {</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>-&gt;ammo_modifier ) {</div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ammo: &lt;stat&gt;%s&lt;/stat&gt;&quot;</span> ),</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>                                      at-&gt;<a class="code hl_function" href="classammunition__type.html#a3c5d67ec1974c9a43d79c0ab3e7f979a">name</a>() ) ) );</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>        }</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>    }</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.reload_modifier != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6cd1da54ade64f53c7b7cbfacab49ed2">iteminfo_parts::GUNMOD_RELOAD</a> ) ) {</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;GUNMOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Reload modifier: &quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt;%&quot;</span> ),</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>                           <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.reload_modifier );</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>    }</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.min_str_required_mod &gt; 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaddc94a8ab77ad873422caa16ceeabd96">iteminfo_parts::GUNMOD_STRENGTH</a> ) ) {</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Minimum strength required modifier: &quot;</span> ),</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>                                  <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.min_str_required_mod ) );</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>    }</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>    <span class="keywordflow">if</span>( !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.add_mod.empty() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa4d9a9d6597a0dbc66433c9ca051413b">iteminfo_parts::GUNMOD_ADD_MOD</a> ) ) {</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span> </div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>        std::string mod_loc_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Adds mod locations: &lt;/bold&gt; &quot;</span> );</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span> </div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>        std::map&lt;gunmod_location, int&gt; mod_locations = <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.add_mod;</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span> </div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>        <span class="keywordtype">int</span> iternum = 0;</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>        <span class="keywordflow">for</span>( std::pair&lt;const gunmod_location, int&gt; &amp;elem : mod_locations ) {</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>            <span class="keywordflow">if</span>( iternum != 0 ) {</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>                mod_loc_str += <span class="stringliteral">&quot;; &quot;</span>;</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>            }</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>            mod_loc_str += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;bold&gt;%s&lt;/bold&gt; %s&quot;</span>, elem.second, elem.first.name() );</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>            iternum++;</div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span>        }</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>        mod_loc_str += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, mod_loc_str ) );</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span>    }</div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span> </div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span> </div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa68367ada6561c3d16a3445277703e8a3">iteminfo_parts::GUNMOD_USEDON</a> ) ) {</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>        std::string used_on_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Used on: &quot;</span> ) +</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>        <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.usable.begin(), <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.usable.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classgun__type__type.html">gun_type_type</a> &amp; used_on ) {</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>            return string_format( <span class="stringliteral">&quot;&lt;info&gt;%s&lt;/info&gt;&quot;</span>, used_on.name() );</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>        } );</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, used_on_str ) );</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>    }</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span> </div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa35d582a771a2eb1e3b971ecda7ae6d84">iteminfo_parts::GUNMOD_LOCATION</a> ) ) {</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Location: %s&quot;</span> ),</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>                                  <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.location.name() ) ) );</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>    }</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span> </div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>    <span class="keywordflow">if</span>( !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.blacklist_mod.empty() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa70eb37b2dee60ddc859aa633437f52f3">iteminfo_parts::GUNMOD_BLACKLIST_MOD</a> ) ) {</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>        std::string mod_black_str = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Incompatible with mod location: &lt;/bold&gt; &quot;</span> );</div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span> </div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>        <span class="keywordtype">int</span> iternum = 0;</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classgunmod__location.html">gunmod_location</a> &amp;<a class="code hl_enumvalue" href="namespacecatacurses.html#a2181be54a83455ed99a7b7fab4fb46e8aa8987a61b46eae2571fc4ab9bc5d6ed5">black</a> : <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.blacklist_mod ) {</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>            <span class="keywordflow">if</span>( iternum != 0 ) {</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>                mod_black_str += <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>            }</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>            mod_black_str += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_enumvalue" href="namespacecatacurses.html#a2181be54a83455ed99a7b7fab4fb46e8aa8987a61b46eae2571fc4ab9bc5d6ed5">black</a>.name() );</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>            iternum++;</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>        }</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>        mod_black_str += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;GUNMOD&quot;</span>, mod_black_str ) );</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>    }</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>}</div>
<div class="ttc" id="aclassgunmod__location_html"><div class="ttname"><a href="classgunmod__location.html">gunmod_location</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00073">itype.h:74</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa0589989590a223dd4c620484f6a6ab5d"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0589989590a223dd4c620484f6a6ab5d">iteminfo_parts::GUNMOD_DAMAGE</a></div><div class="ttdeci">@ GUNMOD_DAMAGE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa06c04c2e1ad34f82cf09e10bff068b57"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa06c04c2e1ad34f82cf09e10bff068b57">iteminfo_parts::GUNMOD_DISPERSION_SIGHT</a></div><div class="ttdeci">@ GUNMOD_DISPERSION_SIGHT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa0900665dd96e1f42ee85cfedc4289cd9"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0900665dd96e1f42ee85cfedc4289cd9">iteminfo_parts::GUNMOD_DISPERSION</a></div><div class="ttdeci">@ GUNMOD_DISPERSION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa35d582a771a2eb1e3b971ecda7ae6d84"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa35d582a771a2eb1e3b971ecda7ae6d84">iteminfo_parts::GUNMOD_LOCATION</a></div><div class="ttdeci">@ GUNMOD_LOCATION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa68367ada6561c3d16a3445277703e8a3"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa68367ada6561c3d16a3445277703e8a3">iteminfo_parts::GUNMOD_USEDON</a></div><div class="ttdeci">@ GUNMOD_USEDON</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa6cd1da54ade64f53c7b7cbfacab49ed2"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6cd1da54ade64f53c7b7cbfacab49ed2">iteminfo_parts::GUNMOD_RELOAD</a></div><div class="ttdeci">@ GUNMOD_RELOAD</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa70eb37b2dee60ddc859aa633437f52f3"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa70eb37b2dee60ddc859aa633437f52f3">iteminfo_parts::GUNMOD_BLACKLIST_MOD</a></div><div class="ttdeci">@ GUNMOD_BLACKLIST_MOD</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa8f42ba37e0d5252392bcfc7b42e78056"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8f42ba37e0d5252392bcfc7b42e78056">iteminfo_parts::GUNMOD_AIMSPEED</a></div><div class="ttdeci">@ GUNMOD_AIMSPEED</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaa4d9a9d6597a0dbc66433c9ca051413b"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa4d9a9d6597a0dbc66433c9ca051413b">iteminfo_parts::GUNMOD_ADD_MOD</a></div><div class="ttdeci">@ GUNMOD_ADD_MOD</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaba9e4ebccb5c1d0c86f74b485aef1a11"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaba9e4ebccb5c1d0c86f74b485aef1a11">iteminfo_parts::GUNMOD_ARMORPIERCE</a></div><div class="ttdeci">@ GUNMOD_ARMORPIERCE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaadc47330fd0111d3045c4f72fd8d7bcc2"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadc47330fd0111d3045c4f72fd8d7bcc2">iteminfo_parts::GUNMOD_AMMO</a></div><div class="ttdeci">@ GUNMOD_AMMO</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaadc97189dd338a4574eb8cb260b8364b2"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadc97189dd338a4574eb8cb260b8364b2">iteminfo_parts::DESCRIPTION_GUNMOD</a></div><div class="ttdeci">@ DESCRIPTION_GUNMOD</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaddc94a8ab77ad873422caa16ceeabd96"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaddc94a8ab77ad873422caa16ceeabd96">iteminfo_parts::GUNMOD_STRENGTH</a></div><div class="ttdeci">@ GUNMOD_STRENGTH</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaae0582478e0939db9658c75609f93395a"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaae0582478e0939db9658c75609f93395a">iteminfo_parts::GUNMOD_HANDLING</a></div><div class="ttdeci">@ GUNMOD_HANDLING</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaff44f29fcfbf562378921b15c7b62214"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaff44f29fcfbf562378921b15c7b62214">iteminfo_parts::DESCRIPTION_GUNMOD_REACH</a></div><div class="ttdeci">@ DESCRIPTION_GUNMOD_REACH</div></div>
<div class="ttc" id="anamespacecatacurses_html_a2181be54a83455ed99a7b7fab4fb46e8aa8987a61b46eae2571fc4ab9bc5d6ed5"><div class="ttname"><a href="namespacecatacurses.html#a2181be54a83455ed99a7b7fab4fb46e8aa8987a61b46eae2571fc4ab9bc5d6ed5">catacurses::black</a></div><div class="ttdeci">@ black</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00079">cursesdef.h:79</a></div></div>
<div class="ttc" id="astructislot__gunmod_html"><div class="ttname"><a href="structislot__gunmod.html">islot_gunmod</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00579">itype.h:579</a></div></div>
<div class="ttc" id="astructitype_html_a37edee7dafc5711621f26844cab78cf6"><div class="ttname"><a href="structitype.html#a37edee7dafc5711621f26844cab78cf6">itype::gunmod</a></div><div class="ttdeci">cata::value_ptr&lt; islot_gunmod &gt; gunmod</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00858">itype.h:858</a></div></div>
<div class="ttc" id="astructitype_html_a7f957db922884120f5a9ce0d8789fdc4"><div class="ttname"><a href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">itype::mod</a></div><div class="ttdeci">cata::value_ptr&lt; islot_mod &gt; mod</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00853">itype.h:853</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="cursesdef_8h_source.html#l00079">catacurses::black</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadc97189dd338a4574eb8cb260b8364b2">DESCRIPTION_GUNMOD</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaff44f29fcfbf562378921b15c7b62214">DESCRIPTION_GUNMOD_REACH</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="item_8cpp.html#aae5d9490c49c95e551245d7f1cf69cb5">flag_REACH_ATTACK()</a>, <a class="el" href="item_8cpp_source.html#l01083">get_ranged_pierce()</a>, <a class="el" href="itype_8h_source.html#l00858">itype::gunmod</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa4d9a9d6597a0dbc66433c9ca051413b">GUNMOD_ADD_MOD</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8f42ba37e0d5252392bcfc7b42e78056">GUNMOD_AIMSPEED</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadc47330fd0111d3045c4f72fd8d7bcc2">GUNMOD_AMMO</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaba9e4ebccb5c1d0c86f74b485aef1a11">GUNMOD_ARMORPIERCE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa70eb37b2dee60ddc859aa633437f52f3">GUNMOD_BLACKLIST_MOD</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0589989590a223dd4c620484f6a6ab5d">GUNMOD_DAMAGE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa0900665dd96e1f42ee85cfedc4289cd9">GUNMOD_DISPERSION</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa06c04c2e1ad34f82cf09e10bff068b57">GUNMOD_DISPERSION_SIGHT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaae0582478e0939db9658c75609f93395a">GUNMOD_HANDLING</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa35d582a771a2eb1e3b971ecda7ae6d84">GUNMOD_LOCATION</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa6cd1da54ade64f53c7b7cbfacab49ed2">GUNMOD_RELOAD</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaddc94a8ab77ad873422caa16ceeabd96">GUNMOD_STRENGTH</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa68367ada6561c3d16a3445277703e8a3">GUNMOD_USEDON</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="item_8h_source.html#l00145">iteminfo::lower_is_better</a>, <a class="el" href="itype_8h_source.html#l00853">itype::mod</a>, <a class="el" href="ammo_8cpp_source.html#l00079">ammunition_type::name()</a>, <a class="el" href="item_8h_source.html#l00147">iteminfo::show_plus</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="acd78321ba4d5c09d39f1d58d20b68484" name="acd78321ba4d5c09d39f1d58d20b68484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd78321ba4d5c09d39f1d58d20b68484">&#9670;&nbsp;</a></span>gunmods() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; item::gunmods </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all gunmods currently attached to this item (always empty if item not a gun) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07578">7578</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07579" name="l07579"></a><span class="lineno"> 7579</span>{</div>
<div class="line"><a id="l07580" name="l07580"></a><span class="lineno"> 7580</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7c338da0319dc85f464a822a5f5651c4">gunmods</a>();</div>
<div class="line"><a id="l07581" name="l07581"></a><span class="lineno"> 7581</span>}</div>
<div class="ttc" id="aclassitem__contents_html_a7c338da0319dc85f464a822a5f5651c4"><div class="ttname"><a href="classitem__contents.html#a7c338da0319dc85f464a822a5f5651c4">item_contents::gunmods</a></div><div class="ttdeci">std::vector&lt; item * &gt; gunmods()</div><div class="ttdoc">gets all gunmods in the item</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00168">item_contents.cpp:168</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, and <a class="el" href="item__contents_8cpp_source.html#l00168">item_contents::gunmods()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07258">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07471">ammo_effects()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04395">detach_gunmods_actor::can_use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04274">saw_barrel_actor::can_use_on()</a>, <a class="el" href="item_8cpp_source.html#l03487">contents_info()</a>, <a class="el" href="item_8cpp_source.html#l05091">damage_melee()</a>, <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="character_8cpp_source.html#l00570">Character::get_fastest_sight()</a>, <a class="el" href="item_8cpp_source.html#l09759">get_gun_ups_drain()</a>, <a class="el" href="item_8cpp_source.html#l09871">get_min_str()</a>, <a class="el" href="item_8cpp_source.html#l03968">get_mod_locations()</a>, <a class="el" href="character_8cpp_source.html#l00594">Character::get_most_accurate_sight()</a>, <a class="el" href="item_8cpp_source.html#l06378">get_reload_time()</a>, <a class="el" href="item_8cpp_source.html#l07677">gun_all_modes()</a>, <a class="el" href="item_8cpp_source.html#l07119">gun_damage()</a>, <a class="el" href="item_8cpp_source.html#l07072">gun_dispersion()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="ranged_8cpp_source.html#l01776">gun_noise()</a>, <a class="el" href="item_8cpp_source.html#l07182">gun_range()</a>, <a class="el" href="item_8cpp_source.html#l07148">gun_recoil_multiplier()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03028">activity_handlers::gunmod_add_finish()</a>, <a class="el" href="item_8cpp_source.html#l07588">gunmod_find()</a>, <a class="el" href="player_8cpp_source.html#l03435">player::gunmod_remove()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="melee_8cpp_source.html#l00156">Character::handle_melee_wear()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="player_8cpp_source.html#l03425">has_mod()</a>, <a class="el" href="player_8cpp_source.html#l02389">player::list_ammo()</a>, <a class="el" href="item_8cpp_source.html#l07539">magazine_compatible()</a>, <a class="el" href="item_8cpp_source.html#l07518">magazine_default()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="player_8cpp_source.html#l03234">player::rate_action_reload()</a>, <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, <a class="el" href="item_8cpp_source.html#l07100">sight_dispersion()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04369">detach_gunmods_actor::use()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="ab2a88b8e62334185654d0a7a683a7ae8" name="ab2a88b8e62334185654d0a7a683a7ae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2a88b8e62334185654d0a7a683a7ae8">&#9670;&nbsp;</a></span>gunmods() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt; item::gunmods </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07583">7583</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07584" name="l07584"></a><span class="lineno"> 7584</span>{</div>
<div class="line"><a id="l07585" name="l07585"></a><span class="lineno"> 7585</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7c338da0319dc85f464a822a5f5651c4">gunmods</a>();</div>
<div class="line"><a id="l07586" name="l07586"></a><span class="lineno"> 7586</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, and <a class="el" href="item__contents_8cpp_source.html#l00168">item_contents::gunmods()</a>.</p>

</div>
</div>
<a id="a258fa3ae64c9e3c0b73101a816e8f653" name="a258fa3ae64c9e3c0b73101a816e8f653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a258fa3ae64c9e3c0b73101a816e8f653">&#9670;&nbsp;</a></span>handle_craft_failure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::handle_craft_failure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle failure during crafting. </p>
<p >Destroy components, lose progress, and set a new failure point. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">crafter</td><td>the crafting player. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the craft being worked on should be entirely destroyed </dd></dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00918">918</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>{</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;handle_craft_failure() called on non-craft &#39;%s.&#39;  Aborting.&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span> </div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> success_roll = crafter.<a class="code hl_function" href="classplayer.html#aeab8d12218640d360a89b3dfccebc9c8">crafting_success_roll</a>( <a class="code hl_function" href="classitem.html#a685baa0530bf9e4cb57c2cea27ed332b">get_making</a>() );</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> starting_components = this-&gt;<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.size();</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>    <span class="comment">// Destroy at most 75% of the components, always a chance of losing 1 though</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> max_destroyed = std::max&lt;size_t&gt;( 1, <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.size() * 3 / 4 );</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; max_destroyed; i++ ) {</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>        <span class="comment">// This shouldn&#39;t happen</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.empty() ) {</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>        }</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>        <span class="comment">// If we roll success, skip destroying a component</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( success_roll, 1.0 ) ) {</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>        }</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>        <a class="code hl_function" href="crafting_8cpp.html#a6cc7d109e703aa9feeefaf00bcdc75a2">destroy_random_component</a>( *<span class="keyword">this</span>, crafter );</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    }</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    <span class="keywordflow">if</span>( starting_components &gt; 0 &amp;&amp; this-&gt;<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.empty() ) {</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        <span class="comment">// The craft had components and all of them were destroyed.</span></div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    }</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span> </div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <span class="comment">// Minimum 25% progress lost, average 35%.  Falls off exponentially</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    <span class="comment">// Loss is scaled by the success roll</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> percent_progress_loss = <a class="code hl_function" href="rng_8cpp.html#a1e1e4fa018414368cda4b58f12fb4538">rng_exponential</a>( 0.25, 0.35 ) *</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>                                         ( 1.0 - std::min( success_roll, 1.0 ) );</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> progess_loss = <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> * percent_progress_loss;</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    crafter.<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You mess up and lose %d%% progress.&quot;</span> ),</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; messes up and loses %d%% progress.&quot;</span> ), progess_loss / 100000 );</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>    <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = <a class="code hl_function" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> - progess_loss, 0, 10000000 );</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span> </div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    <a class="code hl_function" href="classitem.html#a9f745513af67ccd8ddb45dec5d6a7263">set_next_failure_point</a>( crafter );</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span> </div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    <span class="comment">// Check if we can consume a new component and continue</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    <span class="keywordflow">if</span>( !crafter.<a class="code hl_function" href="classplayer.html#a9b76ffb136ac45068a15eca83a71b279">can_continue_craft</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>        crafter.<a class="code hl_function" href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">cancel_activity</a>();</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>    }</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_a359120c15f92d54a49fec9de7bcb571f"><div class="ttname"><a href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a></div><div class="ttdeci">bool x_in_y(const time_duration &amp;a, const time_duration &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00521">calendar.cpp:521</a></div></div>
<div class="ttc" id="acata__utility_8h_html_ad22b4a043b6eb4c2c06f87f83b720b15"><div class="ttname"><a href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a></div><div class="ttdeci">constexpr T clamp(const T &amp;val, const T &amp;min, const T &amp;max)</div><div class="ttdoc">Clamp first argument so that it is no lower than second and no higher than third.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00145">cata_utility.h:145</a></div></div>
<div class="ttc" id="aclassCharacter_html_a597968eba450c923b56a1c9cac1676dc"><div class="ttname"><a href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">Character::cancel_activity</a></div><div class="ttdeci">void cancel_activity()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09208">character.cpp:9208</a></div></div>
<div class="ttc" id="aclassitem_html_a685baa0530bf9e4cb57c2cea27ed332b"><div class="ttname"><a href="classitem.html#a685baa0530bf9e4cb57c2cea27ed332b">item::get_making</a></div><div class="ttdeci">const recipe &amp; get_making() const</div><div class="ttdoc">Get the stored recipe for in progress crafts.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09916">item.cpp:9916</a></div></div>
<div class="ttc" id="aclassitem_html_a9f745513af67ccd8ddb45dec5d6a7263"><div class="ttname"><a href="classitem.html#a9f745513af67ccd8ddb45dec5d6a7263">item::set_next_failure_point</a></div><div class="ttdeci">void set_next_failure_point(const player &amp;crafter)</div><div class="ttdoc">Calculates and sets the next failure point for an in progress craft.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00892">crafting.cpp:892</a></div></div>
<div class="ttc" id="aclassplayer_html_a07108565639fa6fe5b6776b4e8674fb6"><div class="ttname"><a href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">player::add_msg_player_or_npc</a></div><div class="ttdeci">void add_msg_player_or_npc(const std::string &amp;player_msg, const std::string &amp;npc_str) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04373">player.cpp:4373</a></div></div>
<div class="ttc" id="aclassplayer_html_a9b76ffb136ac45068a15eca83a71b279"><div class="ttname"><a href="classplayer.html#a9b76ffb136ac45068a15eca83a71b279">player::can_continue_craft</a></div><div class="ttdeci">bool can_continue_craft(item &amp;craft)</div><div class="ttdoc">Check if the player meets the requirements to continue the in progress craft and if unable to continu...</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01147">crafting.cpp:1147</a></div></div>
<div class="ttc" id="aclassplayer_html_aeab8d12218640d360a89b3dfccebc9c8"><div class="ttname"><a href="classplayer.html#aeab8d12218640d360a89b3dfccebc9c8">player::crafting_success_roll</a></div><div class="ttdeci">double crafting_success_roll(const recipe &amp;making) const</div><div class="ttdoc">Calculate a value representing the success of the player at crafting the given recipe,...</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00808">crafting.cpp:808</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a6cc7d109e703aa9feeefaf00bcdc75a2"><div class="ttname"><a href="crafting_8cpp.html#a6cc7d109e703aa9feeefaf00bcdc75a2">destroy_random_component</a></div><div class="ttdeci">static void destroy_random_component(item &amp;craft, const player &amp;crafter)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00905">crafting.cpp:905</a></div></div>
<div class="ttc" id="arng_8cpp_html_a1e1e4fa018414368cda4b58f12fb4538"><div class="ttname"><a href="rng_8cpp.html#a1e1e4fa018414368cda4b58f12fb4538">rng_exponential</a></div><div class="ttdeci">double rng_exponential(double min, double mean)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00055">rng.cpp:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="crafting_8cpp_source.html#l01147">player::can_continue_craft()</a>, <a class="el" href="character_8cpp_source.html#l09208">Character::cancel_activity()</a>, <a class="el" href="cata__utility_8h_source.html#l00145">clamp()</a>, <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="crafting_8cpp_source.html#l00808">player::crafting_success_roll()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="crafting_8cpp_source.html#l00905">destroy_random_component()</a>, <a class="el" href="item_8cpp_source.html#l09916">get_making()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, <a class="el" href="rng_8cpp_source.html#l00055">rng_exponential()</a>, <a class="el" href="crafting_8cpp_source.html#l00892">set_next_failure_point()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>.</p>

</div>
</div>
<a id="a9113a7b590ad5a3d343de910de33aff2" name="a9113a7b590ad5a3d343de910de33aff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9113a7b590ad5a3d343de910de33aff2">&#9670;&nbsp;</a></span>handle_pickup_ownership()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::handle_pickup_ownership </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04364">4364</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04365" name="l04365"></a><span class="lineno"> 4365</span>{</div>
<div class="line"><a id="l04366" name="l04366"></a><span class="lineno"> 4366</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a0b35b9066ad71987b77727af45d96059">is_owned_by</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> ) ) {</div>
<div class="line"><a id="l04367" name="l04367"></a><span class="lineno"> 4367</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l04368" name="l04368"></a><span class="lineno"> 4368</span>    }</div>
<div class="line"><a id="l04369" name="l04369"></a><span class="lineno"> 4369</span>    <span class="comment">// Add ownership to item if unowned</span></div>
<div class="line"><a id="l04370" name="l04370"></a><span class="lineno"> 4370</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a>.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l04371" name="l04371"></a><span class="lineno"> 4371</span>        <a class="code hl_function" href="classitem.html#aa51b9b2950e9ea68811bffb5635911c6">set_owner</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> );</div>
<div class="line"><a id="l04372" name="l04372"></a><span class="lineno"> 4372</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04373" name="l04373"></a><span class="lineno"> 4373</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a0b35b9066ad71987b77727af45d96059">is_owned_by</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> ) &amp;&amp; &amp;<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> == &amp;<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u ) {</div>
<div class="line"><a id="l04374" name="l04374"></a><span class="lineno"> 4374</span>            std::vector&lt;npc *&gt; witnesses;</div>
<div class="line"><a id="l04375" name="l04375"></a><span class="lineno"> 4375</span>            <span class="keywordflow">for</span>( <a class="code hl_class" href="classnpc.html">npc</a> &amp;elem : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_npcs() ) {</div>
<div class="line"><a id="l04376" name="l04376"></a><span class="lineno"> 4376</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( elem.pos(), <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) &lt; <a class="code hl_variable" href="game__constants_8h.html#a745392436b19cce3012d4d8dc0fe422c">MAX_VIEW_DISTANCE</a> &amp;&amp; elem.get_faction() &amp;&amp;</div>
<div class="line"><a id="l04377" name="l04377"></a><span class="lineno"> 4377</span>                    <a class="code hl_function" href="classitem.html#a0b35b9066ad71987b77727af45d96059">is_owned_by</a>( elem ) &amp;&amp; elem.sees( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) ) {</div>
<div class="line"><a id="l04378" name="l04378"></a><span class="lineno"> 4378</span>                    elem.say( <span class="stringliteral">&quot;&lt;witnessed_thievery&gt;&quot;</span>, 7 );</div>
<div class="line"><a id="l04379" name="l04379"></a><span class="lineno"> 4379</span>                    <a class="code hl_class" href="classnpc.html">npc</a> *npc_to_add = &amp;elem;</div>
<div class="line"><a id="l04380" name="l04380"></a><span class="lineno"> 4380</span>                    witnesses.push_back( npc_to_add );</div>
<div class="line"><a id="l04381" name="l04381"></a><span class="lineno"> 4381</span>                }</div>
<div class="line"><a id="l04382" name="l04382"></a><span class="lineno"> 4382</span>            }</div>
<div class="line"><a id="l04383" name="l04383"></a><span class="lineno"> 4383</span>            <span class="keywordflow">if</span>( !witnesses.empty() ) {</div>
<div class="line"><a id="l04384" name="l04384"></a><span class="lineno"> 4384</span>                <a class="code hl_function" href="classitem.html#a72a3777436f5b6b0fac303100451a42f">set_old_owner</a>( <a class="code hl_function" href="classitem.html#a326dae8709070c316f6859ef0704bf85">get_owner</a>() );</div>
<div class="line"><a id="l04385" name="l04385"></a><span class="lineno"> 4385</span>                <span class="comment">// Make sure there is only one witness</span></div>
<div class="line"><a id="l04386" name="l04386"></a><span class="lineno"> 4386</span>                <span class="keywordflow">for</span>( <a class="code hl_class" href="classnpc.html">npc</a> &amp;guy : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_npcs() ) {</div>
<div class="line"><a id="l04387" name="l04387"></a><span class="lineno"> 4387</span>                    <span class="keywordflow">if</span>( guy.get_attitude() == <a class="code hl_enumvalue" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a9ccd3ddb03edb6e10f0987b46ffbcc53">NPCATT_RECOVER_GOODS</a> ) {</div>
<div class="line"><a id="l04388" name="l04388"></a><span class="lineno"> 4388</span>                        guy.set_attitude( <a class="code hl_enumvalue" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a54aaedf3b06b118cd4d2ca5f63c8695b">NPCATT_NULL</a> );</div>
<div class="line"><a id="l04389" name="l04389"></a><span class="lineno"> 4389</span>                    }</div>
<div class="line"><a id="l04390" name="l04390"></a><span class="lineno"> 4390</span>                }</div>
<div class="line"><a id="l04391" name="l04391"></a><span class="lineno"> 4391</span>                <a class="code hl_function" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( witnesses )-&gt;set_attitude( <a class="code hl_enumvalue" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a9ccd3ddb03edb6e10f0987b46ffbcc53">NPCATT_RECOVER_GOODS</a> );</div>
<div class="line"><a id="l04392" name="l04392"></a><span class="lineno"> 4392</span>                <span class="comment">// Notify the activity that we got a witness</span></div>
<div class="line"><a id="l04393" name="l04393"></a><span class="lineno"> 4393</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.activity &amp;&amp; !<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.activity.is_null() &amp;&amp; <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.activity.id() == <a class="code hl_variable" href="item_8cpp.html#a58f71f56d9c41d9684aac70b8016f18c">ACT_PICKUP</a> ) {</div>
<div class="line"><a id="l04394" name="l04394"></a><span class="lineno"> 4394</span>                    <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.activity.str_values.clear();</div>
<div class="line"><a id="l04395" name="l04395"></a><span class="lineno"> 4395</span>                    <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.activity.str_values.emplace_back( <a class="code hl_function" href="item_8cpp.html#ab8899bbebde3df0befd57a9ff35765e7">has_thievery_witness</a> );</div>
<div class="line"><a id="l04396" name="l04396"></a><span class="lineno"> 4396</span>                }</div>
<div class="line"><a id="l04397" name="l04397"></a><span class="lineno"> 4397</span>            }</div>
<div class="line"><a id="l04398" name="l04398"></a><span class="lineno"> 4398</span>            <a class="code hl_function" href="classitem.html#aa51b9b2950e9ea68811bffb5635911c6">set_owner</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> );</div>
<div class="line"><a id="l04399" name="l04399"></a><span class="lineno"> 4399</span>        }</div>
<div class="line"><a id="l04400" name="l04400"></a><span class="lineno"> 4400</span>    }</div>
<div class="line"><a id="l04401" name="l04401"></a><span class="lineno"> 4401</span>}</div>
<div class="ttc" id="aclassitem_html_a0b35b9066ad71987b77727af45d96059"><div class="ttname"><a href="classitem.html#a0b35b9066ad71987b77727af45d96059">item::is_owned_by</a></div><div class="ttdeci">bool is_owned_by(const Character &amp;c, bool available_to_take=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01239">item.cpp:1239</a></div></div>
<div class="ttc" id="aclassitem_html_a72a3777436f5b6b0fac303100451a42f"><div class="ttname"><a href="classitem.html#a72a3777436f5b6b0fac303100451a42f">item::set_old_owner</a></div><div class="ttdeci">void set_old_owner(const faction_id &amp;temp_owner)</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02017">item.h:2017</a></div></div>
<div class="ttc" id="aclassitem_html_aa51b9b2950e9ea68811bffb5635911c6"><div class="ttname"><a href="classitem.html#aa51b9b2950e9ea68811bffb5635911c6">item::set_owner</a></div><div class="ttdeci">void set_owner(const faction_id &amp;new_owner)</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02023">item.h:2023</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00780">npc.h:781</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a47953b33a873caa0861b12222842a5ec"><div class="ttname"><a href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00519">coordinates.h:519</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a745392436b19cce3012d4d8dc0fe422c"><div class="ttname"><a href="game__constants_8h.html#a745392436b19cce3012d4d8dc0fe422c">MAX_VIEW_DISTANCE</a></div><div class="ttdeci">static constexpr int MAX_VIEW_DISTANCE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00045">game_constants.h:45</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a58f71f56d9c41d9684aac70b8016f18c"><div class="ttname"><a href="item_8cpp.html#a58f71f56d9c41d9684aac70b8016f18c">ACT_PICKUP</a></div><div class="ttdeci">static const activity_id ACT_PICKUP(&quot;ACT_PICKUP&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ab8899bbebde3df0befd57a9ff35765e7"><div class="ttname"><a href="item_8cpp.html#ab8899bbebde3df0befd57a9ff35765e7">has_thievery_witness</a></div><div class="ttdeci">static const std::string has_thievery_witness(&quot;has_thievery_witness&quot;)</div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4a54aaedf3b06b118cd4d2ca5f63c8695b"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a54aaedf3b06b118cd4d2ca5f63c8695b">NPCATT_NULL</a></div><div class="ttdeci">@ NPCATT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00081">npc.h:81</a></div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4a9ccd3ddb03edb6e10f0987b46ffbcc53"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a9ccd3ddb03edb6e10f0987b46ffbcc53">NPCATT_RECOVER_GOODS</a></div><div class="ttdeci">@ NPCATT_RECOVER_GOODS</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00100">npc.h:100</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a58f71f56d9c41d9684aac70b8016f18c">ACT_PICKUP</a>, <a class="el" href="magic_8cpp_source.html#l01031">c</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l01284">get_owner()</a>, <a class="el" href="item_8cpp.html#ab8899bbebde3df0befd57a9ff35765e7">has_thievery_witness()</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="item_8cpp_source.html#l01239">is_owned_by()</a>, <a class="el" href="game__constants_8h_source.html#l00045">MAX_VIEW_DISTANCE</a>, <a class="el" href="npc_8h_source.html#l00081">NPCATT_NULL</a>, <a class="el" href="npc_8h_source.html#l00100">NPCATT_RECOVER_GOODS</a>, <a class="el" href="item_8h_source.html#l02225">owner</a>, <a class="el" href="rng_8h_source.html#l00088">random_entry()</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, <a class="el" href="item_8h_source.html#l02017">set_old_owner()</a>, and <a class="el" href="item_8h_source.html#l02023">set_owner()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04403">on_pickup()</a>, <a class="el" href="item_8cpp_source.html#l04185">on_wear()</a>, and <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>.</p>

</div>
</div>
<a id="aca5abd8656e123435b97da00608a5daa" name="aca5abd8656e123435b97da00608a5daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca5abd8656e123435b97da00608a5daa">&#9670;&nbsp;</a></span>has_any_flag()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Container , typename T  = std::decay_t&lt;decltype( *std::declval&lt;const Container &amp;&gt;().begin() )&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_any_flag </td>
          <td>(</td>
          <td class="paramtype">const Container &amp;&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l01402">1402</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>                                                          {</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>            <span class="keywordflow">return</span> std::any_of( flags.begin(), flags.end(), [&amp;]( <span class="keyword">const</span> T &amp; flag ) {</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>                return has_flag( flag );</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>            } );</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, and <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>.</p>

</div>
</div>
<a id="ad1862bc5d5995e30dd224fab31d61f77" name="ad1862bc5d5995e30dd224fab31d61f77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1862bc5d5995e30dd224fab31d61f77">&#9670;&nbsp;</a></span>has_clothing_mod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_clothing_mod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09960">9960</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09961" name="l09961"></a><span class="lineno"> 9961</span>{</div>
<div class="line"><a id="l09962" name="l09962"></a><span class="lineno"> 9962</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structclothing__mod.html">clothing_mod</a> &amp;cm : <a class="code hl_function" href="namespaceclothing__mods.html#a76b8b8dcfd6c0d1af778f5722bbb3bdb">clothing_mods::get_all</a>() ) {</div>
<div class="line"><a id="l09963" name="l09963"></a><span class="lineno"> 9963</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a>( cm.flag ) ) {</div>
<div class="line"><a id="l09964" name="l09964"></a><span class="lineno"> 9964</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09965" name="l09965"></a><span class="lineno"> 9965</span>        }</div>
<div class="line"><a id="l09966" name="l09966"></a><span class="lineno"> 9966</span>    }</div>
<div class="line"><a id="l09967" name="l09967"></a><span class="lineno"> 9967</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09968" name="l09968"></a><span class="lineno"> 9968</span>}</div>
<div class="ttc" id="anamespaceclothing__mods_html_a76b8b8dcfd6c0d1af778f5722bbb3bdb"><div class="ttname"><a href="namespaceclothing__mods.html#a76b8b8dcfd6c0d1af778f5722bbb3bdb">clothing_mods::get_all</a></div><div class="ttdeci">const std::vector&lt; clothing_mod &gt; &amp; get_all()</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8cpp_source.html#l00145">clothing_mod.cpp:145</a></div></div>
<div class="ttc" id="astructclothing__mod_html"><div class="ttname"><a href="structclothing__mod.html">clothing_mod</a></div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00042">clothing_mod.h:42</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="clothing__mod_8cpp_source.html#l00145">clothing_mods::get_all()</a>, and <a class="el" href="item_8cpp_source.html#l05187">has_own_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="a5363173deb1ded8fd5bfd82cf6246018" name="a5363173deb1ded8fd5bfd82cf6246018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5363173deb1ded8fd5bfd82cf6246018">&#9670;&nbsp;</a></span>has_effect_when_carried()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_effect_when_carried </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621">art_effect_passive</a>&#160;</td>
          <td class="paramname"><em>effect</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does the item provide the artifact effect when it is carried? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09584">9584</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09585" name="l09585"></a><span class="lineno"> 9585</span>{</div>
<div class="line"><a id="l09586" name="l09586"></a><span class="lineno"> 9586</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a> ) {</div>
<div class="line"><a id="l09587" name="l09587"></a><span class="lineno"> 9587</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09588" name="l09588"></a><span class="lineno"> 9588</span>    }</div>
<div class="line"><a id="l09589" name="l09589"></a><span class="lineno"> 9589</span>    <span class="keyword">const</span> std::vector&lt;art_effect_passive&gt; &amp;ec = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a>-&gt;effects_carried;</div>
<div class="line"><a id="l09590" name="l09590"></a><span class="lineno"> 9590</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( ec.begin(), ec.end(), <a class="code hl_class" href="classeffect.html">effect</a> ) != ec.end() ) {</div>
<div class="line"><a id="l09591" name="l09591"></a><span class="lineno"> 9591</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09592" name="l09592"></a><span class="lineno"> 9592</span>    }</div>
<div class="line"><a id="l09593" name="l09593"></a><span class="lineno"> 9593</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *i : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l09594" name="l09594"></a><span class="lineno"> 9594</span>        <span class="keywordflow">if</span>( i-&gt;has_effect_when_carried( <a class="code hl_class" href="classeffect.html">effect</a> ) ) {</div>
<div class="line"><a id="l09595" name="l09595"></a><span class="lineno"> 9595</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09596" name="l09596"></a><span class="lineno"> 9596</span>        }</div>
<div class="line"><a id="l09597" name="l09597"></a><span class="lineno"> 9597</span>    }</div>
<div class="line"><a id="l09598" name="l09598"></a><span class="lineno"> 9598</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09599" name="l09599"></a><span class="lineno"> 9599</span>}</div>
<div class="ttc" id="aclasseffect_html"><div class="ttname"><a href="classeffect.html">effect</a></div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00160">effect.h:161</a></div></div>
<div class="ttc" id="anamespacedetail_html_ad06b74f7502b63cbab323bba1ca3f72b"><div class="ttname"><a href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">detail::find</a></div><div class="ttdeci">FMT_CONSTEXPR bool find(Ptr first, Ptr last, T value, Ptr &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l03355">fmtlib_format.h:3355</a></div></div>
<div class="ttc" id="astructitype_html_ad399e19889a6477a9f3f5a067a92c651"><div class="ttname"><a href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">itype::artifact</a></div><div class="ttdeci">cata::value_ptr&lt; islot_artifact &gt; artifact</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00864">itype.h:864</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="itype_8h_source.html#l00864">itype::artifact</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">player::hardcoded_effects()</a>, and <a class="el" href="character_8cpp_source.html#l03201">Character::has_artifact_with()</a>.</p>

</div>
</div>
<a id="a5a6bd0cdb74c37a3405b1295146bc5c8" name="a5a6bd0cdb74c37a3405b1295146bc5c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a6bd0cdb74c37a3405b1295146bc5c8">&#9670;&nbsp;</a></span>has_effect_when_wielded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_effect_when_wielded </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621">art_effect_passive</a>&#160;</td>
          <td class="paramname"><em>effect</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does the item provide the artifact effect when it is wielded? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09566">9566</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09567" name="l09567"></a><span class="lineno"> 9567</span>{</div>
<div class="line"><a id="l09568" name="l09568"></a><span class="lineno"> 9568</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a> ) {</div>
<div class="line"><a id="l09569" name="l09569"></a><span class="lineno"> 9569</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09570" name="l09570"></a><span class="lineno"> 9570</span>    }</div>
<div class="line"><a id="l09571" name="l09571"></a><span class="lineno"> 9571</span>    <span class="keyword">const</span> std::vector&lt;art_effect_passive&gt; &amp;ew = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a>-&gt;effects_wielded;</div>
<div class="line"><a id="l09572" name="l09572"></a><span class="lineno"> 9572</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( ew.begin(), ew.end(), <a class="code hl_class" href="classeffect.html">effect</a> ) != ew.end();</div>
<div class="line"><a id="l09573" name="l09573"></a><span class="lineno"> 9573</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00864">itype::artifact</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">player::hardcoded_effects()</a>, and <a class="el" href="character_8cpp_source.html#l03201">Character::has_artifact_with()</a>.</p>

</div>
</div>
<a id="a32687c97703808888ba479781c164028" name="a32687c97703808888ba479781c164028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32687c97703808888ba479781c164028">&#9670;&nbsp;</a></span>has_effect_when_worn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_effect_when_worn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621">art_effect_passive</a>&#160;</td>
          <td class="paramname"><em>effect</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does the item provide the artifact effect when it is worn? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09575">9575</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09576" name="l09576"></a><span class="lineno"> 9576</span>{</div>
<div class="line"><a id="l09577" name="l09577"></a><span class="lineno"> 9577</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a> ) {</div>
<div class="line"><a id="l09578" name="l09578"></a><span class="lineno"> 9578</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09579" name="l09579"></a><span class="lineno"> 9579</span>    }</div>
<div class="line"><a id="l09580" name="l09580"></a><span class="lineno"> 9580</span>    <span class="keyword">const</span> std::vector&lt;art_effect_passive&gt; &amp;ew = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a>-&gt;effects_worn;</div>
<div class="line"><a id="l09581" name="l09581"></a><span class="lineno"> 9581</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( ew.begin(), ew.end(), <a class="code hl_class" href="classeffect.html">effect</a> ) != ew.end();</div>
<div class="line"><a id="l09582" name="l09582"></a><span class="lineno"> 9582</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00864">itype::artifact</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a39e79f886f257aaaa199a7c2351993b7" name="a39e79f886f257aaaa199a7c2351993b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39e79f886f257aaaa199a7c2351993b7">&#9670;&nbsp;</a></span>has_explosion_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_explosion_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06676">6676</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06677" name="l06677"></a><span class="lineno"> 6677</span>{</div>
<div class="line"><a id="l06678" name="l06678"></a><span class="lineno"> 6678</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ad8d4ac9512f65051e505e3359b5a6f2c">is_fuel</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9599d60ae3f70f8791bf108a4bde877b">fuel</a>-&gt;has_explode_data : <span class="keyword">false</span>;</div>
<div class="line"><a id="l06679" name="l06679"></a><span class="lineno"> 6679</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00856">itype::fuel</a>, <a class="el" href="item_8cpp_source.html#l06610">is_fuel()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle_8cpp_source.html#l06409">vehicle::explode_fuel()</a>.</p>

</div>
</div>
<a id="a45bcd33992b7d26eb4ae9f76a16b58fa" name="a45bcd33992b7d26eb4ae9f76a16b58fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45bcd33992b7d26eb4ae9f76a16b58fa">&#9670;&nbsp;</a></span>has_fault()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_fault </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> &amp;&#160;</td>
          <td class="paramname"><em>fault</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does this item have the specified fault. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05182">5182</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05183" name="l05183"></a><span class="lineno"> 5183</span>{</div>
<div class="line"><a id="l05184" name="l05184"></a><span class="lineno"> 5184</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.count( <a class="code hl_class" href="classfault.html">fault</a> );</div>
<div class="line"><a id="l05185" name="l05185"></a><span class="lineno"> 5185</span>}</div>
<div class="ttc" id="aclassfault_html"><div class="ttname"><a href="classfault.html">fault</a></div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00028">fault.h:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02160">faults</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l04315">install_bionic_actor::can_use()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01788">bionic_install_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01897">bionic_install_surgeon_preset::get_denial()</a>, and <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>.</p>

</div>
</div>
<a id="abf8a997c18a4e22d133de5a8d171ff95" name="abf8a997c18a4e22d133de5a8d171ff95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf8a997c18a4e22d133de5a8d171ff95">&#9670;&nbsp;</a></span>has_flag() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_flag </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a0083caca181e3d6b8888ff104cec2170">flag_str_id</a> &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05216">5216</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05217" name="l05217"></a><span class="lineno"> 5217</span>{</div>
<div class="line"><a id="l05218" name="l05218"></a><span class="lineno"> 5218</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( flag.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l05219" name="l05219"></a><span class="lineno"> 5219</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, and <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>.</p>

</div>
</div>
<a id="aaa5aeb6f838927babb10ede535cf2a73" name="aaa5aeb6f838927babb10ede535cf2a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa5aeb6f838927babb10ede535cf2a73">&#9670;&nbsp;</a></span>has_flag() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_flag </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05192">5192</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05193" name="l05193"></a><span class="lineno"> 5193</span>{</div>
<div class="line"><a id="l05194" name="l05194"></a><span class="lineno"> 5194</span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05195" name="l05195"></a><span class="lineno"> 5195</span> </div>
<div class="line"><a id="l05196" name="l05196"></a><span class="lineno"> 5196</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( f ).inherit() ) {</div>
<div class="line"><a id="l05197" name="l05197"></a><span class="lineno"> 5197</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *e : <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() : <a class="code hl_function" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a>() ) {</div>
<div class="line"><a id="l05198" name="l05198"></a><span class="lineno"> 5198</span>            <span class="comment">// gunmods fired separately do not contribute to base gun flags</span></div>
<div class="line"><a id="l05199" name="l05199"></a><span class="lineno"> 5199</span>            <span class="keywordflow">if</span>( !e-&gt;is_gun() &amp;&amp; e-&gt;has_flag( f ) ) {</div>
<div class="line"><a id="l05200" name="l05200"></a><span class="lineno"> 5200</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05201" name="l05201"></a><span class="lineno"> 5201</span>            }</div>
<div class="line"><a id="l05202" name="l05202"></a><span class="lineno"> 5202</span>        }</div>
<div class="line"><a id="l05203" name="l05203"></a><span class="lineno"> 5203</span>    }</div>
<div class="line"><a id="l05204" name="l05204"></a><span class="lineno"> 5204</span> </div>
<div class="line"><a id="l05205" name="l05205"></a><span class="lineno"> 5205</span>    <span class="comment">// other item type flags</span></div>
<div class="line"><a id="l05206" name="l05206"></a><span class="lineno"> 5206</span>    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( f );</div>
<div class="line"><a id="l05207" name="l05207"></a><span class="lineno"> 5207</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> ) {</div>
<div class="line"><a id="l05208" name="l05208"></a><span class="lineno"> 5208</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l05209" name="l05209"></a><span class="lineno"> 5209</span>    }</div>
<div class="line"><a id="l05210" name="l05210"></a><span class="lineno"> 5210</span> </div>
<div class="line"><a id="l05211" name="l05211"></a><span class="lineno"> 5211</span>    <span class="comment">// now check for item specific flags</span></div>
<div class="line"><a id="l05212" name="l05212"></a><span class="lineno"> 5212</span>    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a>( f );</div>
<div class="line"><a id="l05213" name="l05213"></a><span class="lineno"> 5213</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l05214" name="l05214"></a><span class="lineno"> 5214</span>}</div>
<div class="ttc" id="astructitype_html_ab8196084d50fd9a33d6d93c290501b4f"><div class="ttname"><a href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">itype::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00071">itype.cpp:71</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flag_8cpp_source.html#l00070">json_flag::get()</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="itype_8cpp_source.html#l00071">itype::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l05187">has_own_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="bionics_8cpp_source.html#l00531">Character::activate_bionic()</a>, <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, <a class="el" href="map_8cpp_source.html#l04228">map::add_item_or_charges()</a>, <a class="el" href="character_8cpp_source.html#l09564">Character::all_items_with_flag()</a>, <a class="el" href="consumption_8cpp_source.html#l00614">Character::allergy_type()</a>, <a class="el" href="npcmove_8cpp_source.html#l03489">npc::alt_attack()</a>, <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07296">ammo_required()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="visitable_8cpp_source.html#l01032">amount_of_internal()</a>, <a class="el" href="character_8cpp_source.html#l08272">Character::armor_absorb()</a>, <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01697">autodoc_internal()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="monattack_8cpp_source.html#l05275">mattack::bio_op_disarm()</a>, <a class="el" href="item_8cpp_source.html#l03214">bionic_info()</a>, <a class="el" href="iuse_8cpp_source.html#l01026">iuse::blech()</a>, <a class="el" href="melee_8cpp_source.html#l01530">Character::block_hit()</a>, <a class="el" href="melee_8cpp_source.html#l01499">blocking_ability()</a>, <a class="el" href="player_8cpp_source.html#l03659">player::book_fun_for()</a>, <a class="el" href="bionics_8cpp_source.html#l01154">Character::burn_fuel()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00762">butcher_time_to_cut()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00866">butchery_drops_harvest()</a>, <a class="el" href="item_8cpp_source.html#l05540">calc_rot()</a>, <a class="el" href="iuse_8cpp_source.html#l07494">iuse::camera()</a>, <a class="el" href="consumption_8cpp_source.html#l01511">Character::can_consume()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01273">can_do_activity_there()</a>, <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="consumption_8cpp_source.html#l01320">Character::can_feed_furnace_with()</a>, <a class="el" href="character__oracle_8cpp_source.html#l00070">behavior::character_oracle_t::can_make_fire()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03252">repair_item_actor::can_repair_target()</a>, <a class="el" href="item_8cpp_source.html#l05807">can_revive()</a>, <a class="el" href="character_8cpp_source.html#l03145">Character::can_swap()</a>, <a class="el" href="player_8cpp_source.html#l02953">player::can_takeoff()</a>, <a class="el" href="character_8cpp_source.html#l03136">Character::can_unwield()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04315">install_bionic_actor::can_use()</a>, <a class="el" href="mutation_8cpp_source.html#l00424">Character::can_use_heal_item()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="player_8cpp_source.html#l02491">player::can_wield()</a>, <a class="el" href="iuse_8cpp_source.html#l09356">iuse::capture_monster_act()</a>, <a class="el" href="iuse_8cpp_source.html#l09302">iuse::capture_monster_veh()</a>, <a class="el" href="handle__action_8cpp_source.html#l01409">cast_spell()</a>, <a class="el" href="iuse_8cpp_source.html#l00431">check_litcig()</a>, <a class="el" href="bionics_8cpp_source.html#l00463">npc::check_or_use_weapon_cbm()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00336">anonymous_namespace{armor_layers.cpp}::clothing_flags_description()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00273">anonymous_namespace{armor_layers.cpp}::clothing_layer()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="item_8cpp_source.html#l03343">combat_info()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00502">comestible_inventory_preset::comestible_inventory_preset()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="consumption_8cpp_source.html#l00327">Character::compute_effective_nutrients()</a>, <a class="el" href="consumption_8cpp_source.html#l00353">Character::compute_nutrient_range()</a>, <a class="el" href="item_8cpp_source.html#l06328">conductive()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00531">consider_butchery()</a>, <a class="el" href="character_8cpp_source.html#l07496">Character::consume_charges()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00791">game_menus::inv::consume_drink()</a>, <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00776">game_menus::inv::consume_food()</a>, <a class="el" href="player_8cpp_source.html#l01935">player::consume_med()</a>, <a class="el" href="bionics_8cpp_source.html#l01408">Character::consume_remote_fuel()</a>, <a class="el" href="vehicle_8cpp_source.html#l03318">vehicle::consumption_per_hour()</a>, <a class="el" href="item_8cpp_source.html#l04941">corpse_volume()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03287">activity_handlers::cracking_do_turn()</a>, <a class="el" href="recipe_8cpp_source.html#l00471">recipe::create_byproducts()</a>, <a class="el" href="item__group_8cpp_source.html#l00050">Single_item_creator::create_single()</a>, <a class="el" href="iexamine_8cpp_source.html#l00251">iexamine::cvdmachine()</a>, <a class="el" href="ranged_8cpp_source.html#l01719">cycle_action()</a>, <a class="el" href="item_8cpp_source.html#l05091">damage_melee()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03372">repair_item_actor::default_action()</a>, <a class="el" href="iexamine_8cpp_source.html#l06007">iexamine::dimensional_portal()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00097">aim_activity_actor::do_turn()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00186">draw_bionics_titlebar()</a>, <a class="el" href="dump_8cpp_source.html#l00037">game::dump_stats()</a>, <a class="el" href="item_8cpp_source.html#l06166">durability_indicator()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">player::eat()</a>, <a class="el" href="iuse_8cpp_source.html#l06206">einkpc_download_memory_card()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="iuse_8cpp_source.html#l08007">emit_radio_signal()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="consumption_8cpp_source.html#l00210">find_food_heater()</a>, <a class="el" href="bionics_8cpp_source.html#l01355">Character::find_remote_fuel()</a>, <a class="el" href="iexamine_8cpp_source.html#l04151">findBestGasDiscount()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03242">activity_handlers::fish_do_turn()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="inventory_8cpp_source.html#l00508">inventory::form_from_map()</a>, <a class="el" href="consumption_8cpp_source.html#l00464">Character::fun_for()</a>, <a class="el" href="player_8cpp_source.html#l03645">player::fun_to_read()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01762">activity_handlers::game_do_turn()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00841">activatable_inventory_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01788">bionic_install_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01897">bionic_install_surgeon_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02076">bionic_sterilize_preset::get_denial()</a>, <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>, <a class="el" href="character_8cpp_source.html#l00570">Character::get_fastest_sight()</a>, <a class="el" href="character_8cpp_source.html#l02065">Character::get_fuel_available()</a>, <a class="el" href="item_8cpp_source.html#l05725">get_layer()</a>, <a class="el" href="clzones_8cpp_source.html#l00846">zone_manager::get_near_zone_type_for_item()</a>, <a class="el" href="item_8cpp_source.html#l01185">get_sizing()</a>, <a class="el" href="ranged_8cpp_source.html#l00995">ranged::get_str_draw_penalty()</a>, <a class="el" href="ranged_8cpp_source.html#l01881">player::get_weapon_dispersion()</a>, <a class="el" href="item_8cpp_source.html#l08223">getlight_emit()</a>, <a class="el" href="npctalk_8cpp_source.html#l03328">give_item_to()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="item_8cpp_source.html#l07034">gun_type()</a>, <a class="el" href="item_8cpp_source.html#l02324">gunmod_info()</a>, <a class="el" href="ranged_8cpp_source.html#l03647">ranged::gunmode_checks_common()</a>, <a class="el" href="ranged_8cpp_source.html#l03683">ranged::gunmode_checks_weapon()</a>, <a class="el" href="iuse_8cpp_source.html#l04466">iuse::hand_crank()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="melee_8cpp_source.html#l00156">Character::handle_melee_wear()</a>, <a class="el" href="pickup_8cpp_source.html#l00140">handle_problematic_pickup()</a>, <a class="el" href="character_8cpp_source.html#l07442">Character::has_enough_charges()</a>, <a class="el" href="item_8cpp_source.html#l05216">has_flag()</a>, <a class="el" href="character_8cpp_source.html#l09554">Character::has_item_with_flag()</a>, <a class="el" href="player_8cpp_source.html#l04154">player::has_magazine_for_ammo()</a>, <a class="el" href="character_8cpp_source.html#l08886">Character::head_cloth_encumbrance()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00358">iuse_transform::info()</a>, <a class="el" href="crafting_8cpp_source.html#l00972">inherit_flags()</a>, <a class="el" href="npctrade_8cpp_source.html#l00148">npc_trading::init_buying()</a>, <a class="el" href="iuse_8cpp_source.html#l06131">init_memory_card_with_random_stuff()</a>, <a class="el" href="npctrade_8cpp_source.html#l00096">npc_trading::init_selling()</a>, <a class="el" href="ranged_8cpp_source.html#l02380">target_ui::init_window_and_input()</a>, <a class="el" href="monexamine_8cpp_source.html#l00338">monexamine::insert_battery()</a>, <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, <a class="el" href="item_8cpp_source.html#l06417">is_ammo_belt()</a>, <a class="el" href="item_8cpp_source.html#l06554">is_armor()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l09628">is_dangerous()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00063">advanced_inventory_pane::is_filtered()</a>, <a class="el" href="item_8cpp_source.html#l09808">is_filthy()</a>, <a class="el" href="item_8cpp_source.html#l06372">is_firearm()</a>, <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>, <a class="el" href="item_8cpp_source.html#l06625">is_irremovable()</a>, <a class="el" href="vehicle_8cpp_source.html#l01081">vehicle::is_perpetual_type()</a>, <a class="el" href="item_8cpp_source.html#l06548">is_pet_armor()</a>, <a class="el" href="item_8cpp_source.html#l05636">is_power_armor()</a>, <a class="el" href="item_8cpp_source.html#l09657">is_reloadable()</a>, <a class="el" href="item_8cpp_source.html#l06754">is_salvageable()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01994">bionic_uninstall_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02072">bionic_sterilize_preset::is_shown()</a>, <a class="el" href="item_8cpp_source.html#l06254">is_two_handed()</a>, <a class="el" href="item_8cpp_source.html#l00735">is_unarmed_weapon()</a>, <a class="el" href="martialarts_8cpp_source.html#l00438">ma_requirements::is_valid_character()</a>, <a class="el" href="martialarts_8cpp_source.html#l00484">ma_requirements::is_valid_weapon()</a>, <a class="el" href="item_8cpp_source.html#l00832">is_worn_only_with()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="mondeath_8cpp_source.html#l00739">mdeath::jabberwock()</a>, <a class="el" href="character_8cpp_source.html#l03725">layer_item()</a>, <a class="el" href="player_8cpp_source.html#l02389">player::list_ammo()</a>, <a class="el" href="item_8cpp_source.html#l01825">magazine_info()</a>, <a class="el" href="item__action_8cpp_source.html#l00104">item_action_generator::map_actions_to_items()</a>, <a class="el" href="character_8cpp_source.html#l03427">Character::meets_stat_requirements()</a>, <a class="el" href="melee_8cpp_source.html#l00390">Character::melee_attack()</a>, <a class="el" href="item_8cpp_source.html#l07047">melee_skill()</a>, <a class="el" href="melee_8cpp_source.html#l01764">Character::melee_special_effects()</a>, <a class="el" href="melee_8cpp_source.html#l02233">player::melee_value()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02369">mine_activity()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="consumption_8cpp_source.html#l01059">Character::modify_morale()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00090">avatar_action::move()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01493">game_menus::inv::multiwash()</a>, <a class="el" href="mutation_8cpp_source.html#l00258">Character::mutation_effect()</a>, <a class="el" href="iexamine_8cpp_source.html#l00291">iexamine::nanofab()</a>, <a class="el" href="item_8cpp_source.html#l08772">needs_processing()</a>, <a class="el" href="item_8cpp_source.html#l04185">on_wear()</a>, <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>, <a class="el" href="iuse_8cpp_source.html#l02035">iuse::pack_cbm()</a>, <a class="el" href="bionics_8cpp_source.html#l01311">Character::passive_power_gen()</a>, <a class="el" href="monexamine_8cpp_source.html#l00064">monexamine::pet_menu()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00845">avatar_action::plthrow()</a>, <a class="el" href="iuse_8cpp_source.html#l00878">iuse::poison()</a>, <a class="el" href="item__category_8cpp_source.html#l00090">item_category::priority_zone()</a>, <a class="el" href="item_8cpp_source.html#l09105">process_extinguish()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="player_8cpp_source.html#l01782">player::process_items()</a>, <a class="el" href="item_8cpp_source.html#l09031">process_litcig()</a>, <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>, <a class="el" href="item_8cpp_source.html#l09271">process_UPS()</a>, <a class="el" href="map_8cpp_source.html#l04474">process_vehicle_items()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00067">vehicle_part::properties_to_item()</a>, <a class="el" href="monattack_8cpp_source.html#l00781">mattack::pull_metal_weapon()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01972">activity_handlers::pulp_do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l01650">iuse::radio_mod()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="iuse_8cpp_source.html#l08067">iuse::radiocontrol()</a>, <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, <a class="el" href="npcmove_8cpp_source.html#l03745">rate_food()</a>, <a class="el" href="handle__action_8cpp_source.html#l00390">rcdrive()</a>, <a class="el" href="melee_8cpp_source.html#l00622">player::reach_attack()</a>, <a class="el" href="item_8cpp_source.html#l05154">reach_range()</a>, <a class="el" href="item_8cpp_source.html#l05815">ready_to_revive()</a>, <a class="el" href="item_8cpp_source.html#l06349">reinforceable()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>, <a class="el" href="crafting_8cpp_source.html#l02292">remove_ammo()</a>, <a class="el" href="iuse_8cpp_source.html#l00414">remove_radio_mod()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>, <a class="el" href="item_8cpp_source.html#l06207">repaired_with()</a>, <a class="el" href="game_8cpp_source.html#l05155">game::revive_corpse()</a>, <a class="el" href="iexamine_8cpp_source.html#l01398">iexamine::safe()</a>, <a class="el" href="player_8cpp_source.html#l02156">player::select_ammo()</a>, <a class="el" href="item_8cpp_source.html#l05428">set_relative_rot()</a>, <a class="el" href="morale_8cpp_source.html#l01000">player_morale::set_worn()</a>, <a class="el" href="item_8cpp_source.html#l07100">sight_dispersion()</a>, <a class="el" href="iexamine_8cpp_source.html#l04041">iexamine::sign()</a>, <a class="el" href="iexamine_8cpp_source.html#l05385">smoker_load_food()</a>, <a class="el" href="map_8cpp_source.html#l04187">map::spawn_item()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02159">activity_handlers::start_fire_do_turn()</a>, <a class="el" href="npc_8cpp_source.html#l00543">starting_clothes()</a>, <a class="el" href="npc_8cpp_source.html#l00586">starting_inv()</a>, <a class="el" href="ranged_8cpp_source.html#l01007">ranged::str_draw_damage_modifier()</a>, <a class="el" href="ranged_8cpp_source.html#l01021">ranged::str_draw_dispersion_modifier()</a>, <a class="el" href="ranged_8cpp_source.html#l01033">ranged::str_draw_range_modifier()</a>, <a class="el" href="suffer_8cpp_source.html#l00806">Character::suffer_from_sunburn()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>, <a class="el" href="monexamine_8cpp_source.html#l00745">monexamine::tie_or_untie()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>, <a class="el" href="iuse_8cpp_source.html#l05936">iuse::toolmod_attach()</a>, <a class="el" href="iuse_8cpp_source.html#l05571">iuse::towel_common()</a>, <a class="el" href="item_8cpp_source.html#l09678">type_name()</a>, <a class="el" href="melee_8cpp_source.html#l00150">Character::unarmed_attack()</a>, <a class="el" href="item_8cpp_source.html#l07830">units_remaining()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00297">aim_activity_actor::unload_RAS_weapon()</a>, <a class="el" href="active__tile__data_8cpp_source.html#l00246">charger_tile::update_internal()</a>, <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00914">set_transform_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00388">unpack_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02584">cast_spell_actor::use()</a>, <a class="el" href="character_8cpp_source.html#l09631">Character::use_charges()</a>, <a class="el" href="iexamine_8cpp_source.html#l03910">iexamine::use_furn_fake_item()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00991">avatar_action::use_item()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01606">vehicle::use_washing_machine()</a>, <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>, <a class="el" href="martialarts_8cpp_source.html#l00844">martialart::weapon_valid()</a>, <a class="el" href="npc_8cpp_source.html#l01045">npc::wear_if_wanted()</a>, <a class="el" href="character_8cpp_source.html#l02170">Character::wear_item()</a>, <a class="el" href="iuse_8cpp_source.html#l09191">iuse::weather_tool()</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, <a class="el" href="weather_8cpp_source.html#l00372">weather_effect::wet_player()</a>, <a class="el" href="npc_8cpp_source.html#l02880">npc::will_accept_from_player()</a>, and <a class="el" href="consumption_8cpp_source.html#l00728">Character::will_eat()</a>.</p>

</div>
</div>
<a id="a310539e1dbfb640f2b23796a40c881f2" name="a310539e1dbfb640f2b23796a40c881f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a310539e1dbfb640f2b23796a40c881f2">&#9670;&nbsp;</a></span>has_infinite_charges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_infinite_charges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09788">9788</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09789" name="l09789"></a><span class="lineno"> 9789</span>{</div>
<div class="line"><a id="l09790" name="l09790"></a><span class="lineno"> 9790</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == <a class="code hl_variable" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a>;</div>
<div class="line"><a id="l09791" name="l09791"></a><span class="lineno"> 9791</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">charges</a>, and <a class="el" href="item_8h_source.html#l02154">INFINITE_CHARGES</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00156">liquid_handler::get_liquid_target()</a>, <a class="el" href="item_8cpp_source.html#l09548">mod_charges()</a>, and <a class="el" href="consumption_8cpp_source.html#l00728">Character::will_eat()</a>.</p>

</div>
</div>
<a id="ad9aa2c661ddeda4247546528984a1d3d" name="ad9aa2c661ddeda4247546528984a1d3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9aa2c661ddeda4247546528984a1d3d">&#9670;&nbsp;</a></span>has_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_label </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if item has "item_label" itemvar. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09774">9774</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09775" name="l09775"></a><span class="lineno"> 9775</span>{</div>
<div class="line"><a id="l09776" name="l09776"></a><span class="lineno"> 9776</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a478ecf81e48540e1ba39de33df968c43">has_var</a>( <span class="stringliteral">&quot;item_label&quot;</span> );</div>
<div class="line"><a id="l09777" name="l09777"></a><span class="lineno"> 9777</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l01067">has_var()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09779">label()</a>.</p>

</div>
</div>
<a id="acc31d53fc90c5d0af806946d51c45b0f" name="acc31d53fc90c5d0af806946d51c45b0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc31d53fc90c5d0af806946d51c45b0f">&#9670;&nbsp;</a></span>has_own_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_own_flag </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether item itself has given flag (doesn't check item type or gunmods). </p>
<p >Essentially <a class="el" href="classitem.html#a054cbf5ac79938bbfb527bb0314043b1" title="returs read-only set of flags of this item (not including flags from item type or gunmods)">get_flags()</a>.count(f). Works faster than <code>has_flag</code> </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05187">5187</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05188" name="l05188"></a><span class="lineno"> 5188</span>{</div>
<div class="line"><a id="l05189" name="l05189"></a><span class="lineno"> 5189</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>.<a class="code hl_function" href="classcata_1_1flat__set.html#ade623b3a09ac9a00ae027a89436fccf8">count</a>( f );</div>
<div class="line"><a id="l05190" name="l05190"></a><span class="lineno"> 5190</span>}</div>
<div class="ttc" id="aclasscata_1_1flat__set_html_ade623b3a09ac9a00ae027a89436fccf8"><div class="ttname"><a href="classcata_1_1flat__set.html#ade623b3a09ac9a00ae027a89436fccf8">cata::flat_set::count</a></div><div class="ttdeci">size_type count(const T &amp;t) const</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00141">flat_set.h:141</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flat__set_8h_source.html#l00141">cata::flat_set&lt; T, Compare, Data &gt;::count()</a>, and <a class="el" href="item_8h_source.html#l02163">item_tags</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05571">calc_rot_while_processing()</a>, <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="item_8cpp_source.html#l09960">has_clothing_mod()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l09819">on_drop()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8cpp_source.html#l09977">update_clothing_mod_val()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="aeb49bb1b64eba3731e606ffe83e95b4f" name="aeb49bb1b64eba3731e606ffe83e95b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb49bb1b64eba3731e606ffe83e95b4f">&#9670;&nbsp;</a></span>has_property()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_property </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prop</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05247">5247</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05248" name="l05248"></a><span class="lineno"> 5248</span>{</div>
<div class="line"><a id="l05249" name="l05249"></a><span class="lineno"> 5249</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ada64ca1e7937118bb822cd9b0ea83497">properties</a>.find( prop ) != <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ada64ca1e7937118bb822cd9b0ea83497">properties</a>.end();</div>
<div class="line"><a id="l05250" name="l05250"></a><span class="lineno"> 5250</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00915">itype::properties</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l09356">iuse::capture_monster_act()</a>, and <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>.</p>

</div>
</div>
<a id="ae1f6a127dcee627cc2758d8d30575733" name="ae1f6a127dcee627cc2758d8d30575733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1f6a127dcee627cc2758d8d30575733">&#9670;&nbsp;</a></span>has_rotten_away() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_rotten_away </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the item has enough rot that it should get removed. </p>
<p >Regular shelf life perishable foods rot away completely at 2x shelf life. Corpses last 10 days </p><dl class="section return"><dt>Returns</dt><dd>true if the item has enough rot to be removed, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08633">8633</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08634" name="l08634"></a><span class="lineno"> 8634</span>{</div>
<div class="line"><a id="l08635" name="l08635"></a><span class="lineno"> 8635</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#ab000493eba0ddea5a6d0e4e9587a5f83">can_revive</a>() ) {</div>
<div class="line"><a id="l08636" name="l08636"></a><span class="lineno"> 8636</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ac9288e8a4e4f02ba868cf6967a5bd488">get_rot</a>() &gt; 10_days;</div>
<div class="line"><a id="l08637" name="l08637"></a><span class="lineno"> 8637</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08638" name="l08638"></a><span class="lineno"> 8638</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>() &gt; 2.0;</div>
<div class="line"><a id="l08639" name="l08639"></a><span class="lineno"> 8639</span>    }</div>
<div class="line"><a id="l08640" name="l08640"></a><span class="lineno"> 8640</span>}</div>
<div class="ttc" id="aclassitem_html_ac9288e8a4e4f02ba868cf6967a5bd488"><div class="ttname"><a href="classitem.html#ac9288e8a4e4f02ba868cf6967a5bd488">item::get_rot</a></div><div class="ttdeci">time_duration get_rot() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00864">item.h:864</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05807">can_revive()</a>, <a class="el" href="item_8cpp_source.html#l05420">get_relative_rot()</a>, <a class="el" href="item_8h_source.html#l00864">get_rot()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, and <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08788">process_rot()</a>.</p>

</div>
</div>
<a id="a62e3e220a7d072fb578d333cde420428" name="a62e3e220a7d072fb578d333cde420428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62e3e220a7d072fb578d333cde420428">&#9670;&nbsp;</a></span>has_rotten_away() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_rotten_away </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pnt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the item has to be removed as it has rotten away completely. </p>
<p >May change the item as it calls <a class="el" href="classitem.html#a0ec0bafc51b3208a91c10eae62c2aa5b" title="Update temperature for things like food Update rot for things that perish All items that rot also hav...">process_rot()</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pnt</td><td>The <em>absolute</em> position of the item in the world (see <a class="el" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">map::getabs</a>), used for rot calculation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the item has rotten away and should be removed, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08642">8642</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08643" name="l08643"></a><span class="lineno"> 8643</span>{</div>
<div class="line"><a id="l08644" name="l08644"></a><span class="lineno"> 8644</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() ) {</div>
<div class="line"><a id="l08645" name="l08645"></a><span class="lineno"> 8645</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a0ec0bafc51b3208a91c10eae62c2aa5b">process_rot</a>( 1, <span class="keyword">false</span>, pnt, <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l08646" name="l08646"></a><span class="lineno"> 8646</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;preserves ) {</div>
<div class="line"><a id="l08647" name="l08647"></a><span class="lineno"> 8647</span>        <span class="comment">// Containers like tin cans preserves all items inside, they do not rot at all.</span></div>
<div class="line"><a id="l08648" name="l08648"></a><span class="lineno"> 8648</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08649" name="l08649"></a><span class="lineno"> 8649</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;seals ) {</div>
<div class="line"><a id="l08650" name="l08650"></a><span class="lineno"> 8650</span>        <span class="comment">// Items inside rot but do not vanish as the container seals them in.</span></div>
<div class="line"><a id="l08651" name="l08651"></a><span class="lineno"> 8651</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l08652" name="l08652"></a><span class="lineno"> 8652</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;goes_bad() ) {</div>
<div class="line"><a id="l08653" name="l08653"></a><span class="lineno"> 8653</span>                <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>-&gt;process_rot( 1, <span class="keyword">true</span>, pnt, <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l08654" name="l08654"></a><span class="lineno"> 8654</span>            }</div>
<div class="line"><a id="l08655" name="l08655"></a><span class="lineno"> 8655</span>        }</div>
<div class="line"><a id="l08656" name="l08656"></a><span class="lineno"> 8656</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08657" name="l08657"></a><span class="lineno"> 8657</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08658" name="l08658"></a><span class="lineno"> 8658</span>        std::vector&lt;item *&gt; removed_items;</div>
<div class="line"><a id="l08659" name="l08659"></a><span class="lineno"> 8659</span>        <span class="comment">// Check and remove rotten contents, but always keep the container.</span></div>
<div class="line"><a id="l08660" name="l08660"></a><span class="lineno"> 8660</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *it : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l08661" name="l08661"></a><span class="lineno"> 8661</span>            <span class="keywordflow">if</span>( it-&gt;has_rotten_away( pnt ) ) {</div>
<div class="line"><a id="l08662" name="l08662"></a><span class="lineno"> 8662</span>                removed_items.push_back( it );</div>
<div class="line"><a id="l08663" name="l08663"></a><span class="lineno"> 8663</span>            }</div>
<div class="line"><a id="l08664" name="l08664"></a><span class="lineno"> 8664</span>        }</div>
<div class="line"><a id="l08665" name="l08665"></a><span class="lineno"> 8665</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *it : removed_items ) {</div>
<div class="line"><a id="l08666" name="l08666"></a><span class="lineno"> 8666</span>            <a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *it );</div>
<div class="line"><a id="l08667" name="l08667"></a><span class="lineno"> 8667</span>        }</div>
<div class="line"><a id="l08668" name="l08668"></a><span class="lineno"> 8668</span> </div>
<div class="line"><a id="l08669" name="l08669"></a><span class="lineno"> 8669</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08670" name="l08670"></a><span class="lineno"> 8670</span>    }</div>
<div class="line"><a id="l08671" name="l08671"></a><span class="lineno"> 8671</span>}</div>
<div class="ttc" id="aclassitem_html_a0ec0bafc51b3208a91c10eae62c2aa5b"><div class="ttname"><a href="classitem.html#a0ec0bafc51b3208a91c10eae62c2aa5b">item::process_rot</a></div><div class="ttdeci">bool process_rot(float insulation, bool seals, const tripoint &amp;pos, player *carrier, temperature_flag flag=temperature_flag::TEMP_NORMAL)</div><div class="ttdoc">Update temperature for things like food Update rot for things that perish All items that rot also hav...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08788">item.cpp:8788</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="magic_8cpp_source.html#l01031">c</a>, <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="item_8cpp_source.html#l08788">process_rot()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; item &gt;::remove_item()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="ab842b7c3aaa4d813575035be37cd3714" name="ab842b7c3aaa4d813575035be37cd3714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab842b7c3aaa4d813575035be37cd3714">&#9670;&nbsp;</a></span>has_technique()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_technique </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a> &amp;&#160;</td>
          <td class="paramname"><em>tech</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the item supports a specific martial art technique (either through its type, or through its individual <a class="el" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>). </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05328">5328</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05329" name="l05329"></a><span class="lineno"> 5329</span>{</div>
<div class="line"><a id="l05330" name="l05330"></a><span class="lineno"> 5330</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#af120b48958f64cb16301d76d95d57d6a">techniques</a>.count( tech ) &gt; 0 || <a class="code hl_variable" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>.count( tech ) &gt; 0;</div>
<div class="line"><a id="l05331" name="l05331"></a><span class="lineno"> 5331</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02170">techniques</a>, <a class="el" href="itype_8h_source.html#l00933">itype::techniques</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="melee_8cpp_source.html#l01499">blocking_ability()</a>, <a class="el" href="item_8cpp_source.html#l01330">effective_dps()</a>, <a class="el" href="melee_8cpp_source.html#l01301">character_martial_arts::has_technique()</a>, and <a class="el" href="mondeath_8cpp_source.html#l00739">mdeath::jabberwock()</a>.</p>

</div>
</div>
<a id="a3e46e5d8e0848d74bfb7ab606125cbbe" name="a3e46e5d8e0848d74bfb7ab606125cbbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e46e5d8e0848d74bfb7ab606125cbbe">&#9670;&nbsp;</a></span>has_tools_to_continue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_tools_to_continue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09933">9933</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09934" name="l09934"></a><span class="lineno"> 9934</span>{</div>
<div class="line"><a id="l09935" name="l09935"></a><span class="lineno"> 9935</span>    assert( <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> );</div>
<div class="line"><a id="l09936" name="l09936"></a><span class="lineno"> 9936</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;tools_to_continue;</div>
<div class="line"><a id="l09937" name="l09937"></a><span class="lineno"> 9937</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02190">craft_data_</a>.</p>

</div>
</div>
<a id="afe000c27bcec09d0f4aa4cc84e3c3978" name="afe000c27bcec09d0f4aa4cc84e3c3978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe000c27bcec09d0f4aa4cc84e3c3978">&#9670;&nbsp;</a></span>has_use()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_use </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the item has any use function. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07781">7781</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07782" name="l07782"></a><span class="lineno"> 7782</span>{</div>
<div class="line"><a id="l07783" name="l07783"></a><span class="lineno"> 7783</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">has_use</a>();</div>
<div class="line"><a id="l07784" name="l07784"></a><span class="lineno"> 7784</span>}</div>
<div class="ttc" id="astructitype_html_a7ff45d94507fdbf7369ae269a0f1e52b"><div class="ttname"><a href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">itype::has_use</a></div><div class="ttdeci">bool has_use() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00066">itype.cpp:66</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8cpp_source.html#l00066">itype::has_use()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a478ecf81e48540e1ba39de33df968c43" name="a478ecf81e48540e1ba39de33df968c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a478ecf81e48540e1ba39de33df968c43">&#9670;&nbsp;</a></span>has_var()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::has_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the variable is defined at all. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01067">1067</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>{</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.count( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> ) &gt; 0;</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, and <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="iuse_8cpp_source.html#l09356">iuse::capture_monster_act()</a>, <a class="el" href="iuse_8cpp_source.html#l06206">einkpc_download_memory_card()</a>, <a class="el" href="item_8cpp_source.html#l06954">get_available_recipes()</a>, <a class="el" href="item_8cpp_source.html#l09774">has_label()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01763">inscribe_actor::item_inscription()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00105">vehicle_part::name()</a>, <a class="el" href="iexamine_8cpp_source.html#l00291">iexamine::nanofab()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="suffer_8cpp_source.html#l00429">Character::suffer_from_schizophrenia()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01924">tidy_activity()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="npctrade_8cpp_source.html#l00699">npc_trading::trade()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00633">unfold_vehicle_iuse::use()</a>, and <a class="el" href="vehicle__use_8cpp_source.html#l01748">vehicle::use_monster_capture()</a>.</p>

</div>
</div>
<a id="afa416d2d74b4ca417c936261d761c53a" name="afa416d2d74b4ca417c936261d761c53a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa416d2d74b4ca417c936261d761c53a">&#9670;&nbsp;</a></span>in_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> item::in_container </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>container_type</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00843">843</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>{</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <span class="keywordflow">if</span>( !cont.is_null() ) {</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>        <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>( cont, <a class="code hl_function" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>() );</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.put_in( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) &amp;&amp; <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.is_container() ) {</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>            <span class="comment">// Note: we can&#39;t use any of the normal container functions as they check the</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>            <span class="comment">// container being suitable (seals, watertight etc.)</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.contents.back().charges = <a class="code hl_function" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.get_container_capacity() );</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>        }</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span> </div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.invlet = <a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>;</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    }</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>}</div>
<div class="ttc" id="aclassitem_html_af38d78ce6d128f6c7a1999b7f9e00965"><div class="ttname"><a href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">item::invlet</a></div><div class="ttdeci">char invlet</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02232">item.h:2232</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l09853">birthday()</a>, <a class="el" href="item_8cpp_source.html#l00861">charges_per_volume()</a>, <a class="el" href="item_8h_source.html#l02232">invlet</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l00838">in_its_container()</a>.</p>

</div>
</div>
<a id="a56c6b4634fb5e178dc16c83d381e894f" name="a56c6b4634fb5e178dc16c83d381e894f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56c6b4634fb5e178dc16c83d381e894f">&#9670;&nbsp;</a></span>in_its_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> item::in_its_container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns this item into its default container. </p>
<p >If it does not have a default container, returns this. It's intended to be used like </p><div class="fragment"><div class="line">newitem = newitem.in_its_container();</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00838">838</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>{</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#afa416d2d74b4ca417c936261d761c53a">in_container</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a732c87e006a38b7dc35850450d588595">default_container</a>.value_or( <span class="stringliteral">&quot;null&quot;</span> ) );</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>}</div>
<div class="ttc" id="aclassitem_html_afa416d2d74b4ca417c936261d761c53a"><div class="ttname"><a href="classitem.html#afa416d2d74b4ca417c936261d761c53a">item::in_container</a></div><div class="ttdeci">item in_container(const itype_id &amp;container_type) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00843">item.cpp:843</a></div></div>
<div class="ttc" id="astructitype_html_a732c87e006a38b7dc35850450d588595"><div class="ttname"><a href="structitype.html#a732c87e006a38b7dc35850450d588595">itype::default_container</a></div><div class="ttdeci">cata::optional&lt; itype_id &gt; default_container</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00912">itype.h:912</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00912">itype::default_container</a>, <a class="el" href="item_8cpp_source.html#l00843">in_container()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="gamemode__defense_8cpp_source.html#l00857">defense_game::caravan()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="item__group_8cpp_source.html#l00050">Single_item_creator::create_single()</a>, <a class="el" href="map_8cpp_source.html#l04138">map::spawn_an_item()</a>, <a class="el" href="npc_8cpp_source.html#l00586">starting_inv()</a>, and <a class="el" href="wish_8cpp_source.html#l00535">debug_menu::wishitem()</a>.</p>

</div>
</div>
<a id="a6dc463a17ae0cac2850b6d1bc8b34fa7" name="a6dc463a17ae0cac2850b6d1bc8b34fa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dc463a17ae0cac2850b6d1bc8b34fa7">&#9670;&nbsp;</a></span>inc_damage() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::inc_damage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>same as other inc_damage, but uses <a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a> as damage type. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06108">6108</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06109" name="l06109"></a><span class="lineno"> 6109</span>{</div>
<div class="line"><a id="l06110" name="l06110"></a><span class="lineno"> 6110</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a6dc463a17ae0cac2850b6d1bc8b34fa7">inc_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a> );</div>
<div class="line"><a id="l06111" name="l06111"></a><span class="lineno"> 6111</span>}</div>
<div class="ttc" id="aclassitem_html_a6dc463a17ae0cac2850b6d1bc8b34fa7"><div class="ttname"><a href="classitem.html#a6dc463a17ae0cac2850b6d1bc8b34fa7">item::inc_damage</a></div><div class="ttdeci">bool inc_damage()</div><div class="ttdoc">same as other inc_damage, but uses DT_NULL as damage type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06108">item.cpp:6108</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="damage_8h_source.html#l00021">DT_NULL</a>, and <a class="el" href="item_8cpp_source.html#l06108">inc_damage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06108">inc_damage()</a>, and <a class="el" href="item_8cpp_source.html#l09415">process_blackpowder_fouling()</a>.</p>

</div>
</div>
<a id="aca60af3c295738c2c1fddf0fd669f9a1" name="aca60af3c295738c2c1fddf0fd669f9a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca60af3c295738c2c1fddf0fd669f9a1">&#9670;&nbsp;</a></span>inc_damage() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::inc_damage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a>&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increment item damage by <a class="el" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a> constrained by <a class="el" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>type of damage which may be passed to <a class="el" href="classitem.html#aadbabbc9e7714db37f32b7c6f7406d8f">on_damage</a> callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether item should be destroyed </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06103">6103</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06104" name="l06104"></a><span class="lineno"> 6104</span>{</div>
<div class="line"><a id="l06105" name="l06105"></a><span class="lineno"> 6105</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a58837e07450321aa679d9f00140762bd">mod_damage</a>( <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a>, dt );</div>
<div class="line"><a id="l06106" name="l06106"></a><span class="lineno"> 6106</span>}</div>
<div class="ttc" id="aclassitem_html_a58837e07450321aa679d9f00140762bd"><div class="ttname"><a href="classitem.html#a58837e07450321aa679d9f00140762bd">item::mod_damage</a></div><div class="ttdeci">bool mod_damage(int qty, damage_type dt)</div><div class="ttdoc">Apply damage to const itemrained by min_damage and max_damage.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06076">item.cpp:6076</a></div></div>
<div class="ttc" id="astructitype_html_acbc6974858332fd6933f71a304312d7f"><div class="ttname"><a href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a></div><div class="ttdeci">static constexpr int damage_scale</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01008">itype.h:1008</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l01008">itype::damage_scale</a>, and <a class="el" href="item_8cpp_source.html#l06076">mod_damage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l04606">iuse::blood_draw()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03413">damage_item()</a>, <a class="el" href="iuse_8cpp_source.html#l03836">iuse::firecracker_pack_act()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03028">activity_handlers::gunmod_add_finish()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="melee_8cpp_source.html#l00156">Character::handle_melee_wear()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02506">activity_handlers::lockpicking_finish()</a>, and <a class="el" href="vehicle__use_8cpp_source.html#l01380">vehicle::operate_scoop()</a>.</p>

</div>
</div>
<a id="a18cb1a59a34d4674d1ab39aea2ff107d" name="a18cb1a59a34d4674d1ab39aea2ff107d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18cb1a59a34d4674d1ab39aea2ff107d">&#9670;&nbsp;</a></span>info() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::info </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>showtext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>iteminfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return all the information about the item and its type, and dump to vector. </p>
<p >This includes the different properties of the <a class="el" href="structitype.html">itype</a> (if they are visible to the player). The returned string is already translated and can be <em>very</em> long. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">showtext</td><td>If true, shows the item description, otherwise only the properties item type. </td></tr>
    <tr><td class="paramname">iteminfo</td><td>The properties (encapsulated into <a class="el" href="structiteminfo.html">iteminfo</a>) are added to this vector, the vector can be used to compare them to properties of another item. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01107">1107</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>{</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>( showtext, <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>, 1 );</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l01101">info()</a>.</p>

</div>
</div>
<a id="a052b3ba6b4afad1862b3ee2d13758d54" name="a052b3ba6b4afad1862b3ee2d13758d54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a052b3ba6b4afad1862b3ee2d13758d54">&#9670;&nbsp;</a></span>info() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::info </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>showtext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>iteminfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return all the information about the item and its type, and dump to vector. </p>
<p >This includes the different properties of the <a class="el" href="structitype.html">itype</a> (if they are visible to the player). The returned string is already translated and can be <em>very</em> long. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">showtext</td><td>If true, shows the item description, otherwise only the properties item type. </td></tr>
    <tr><td class="paramname">iteminfo</td><td>The properties (encapsulated into <a class="el" href="structiteminfo.html">iteminfo</a>) are added to this vector, the vector can be used to compare them to properties of another item. </td></tr>
    <tr><td class="paramname">batch</td><td>The batch crafting number to multiply data by </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01112">1112</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>{</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>, showtext ? &amp;<a class="code hl_variable" href="classiteminfo__query.html#a5bd07a0642fad2dcf4e6a6d1484a41b9">iteminfo_query::all</a> : &amp;<a class="code hl_variable" href="classiteminfo__query.html#acf3436028f42b76c954c3571460e1783">iteminfo_query::notext</a>, batch );</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>}</div>
<div class="ttc" id="aclassiteminfo__query_html_a5bd07a0642fad2dcf4e6a6d1484a41b9"><div class="ttname"><a href="classiteminfo__query.html#a5bd07a0642fad2dcf4e6a6d1484a41b9">iteminfo_query::all</a></div><div class="ttdeci">static const iteminfo_query all</div><div class="ttdef"><b>Definition:</b> <a href="iteminfo__query_8h_source.html#l00261">iteminfo_query.h:261</a></div></div>
<div class="ttc" id="aclassiteminfo__query_html_acf3436028f42b76c954c3571460e1783"><div class="ttname"><a href="classiteminfo__query.html#acf3436028f42b76c954c3571460e1783">iteminfo_query::notext</a></div><div class="ttdeci">static const iteminfo_query notext</div><div class="ttdef"><b>Definition:</b> <a href="iteminfo__query_8h_source.html#l00262">iteminfo_query.h:262</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iteminfo__query_8h_source.html#l00261">iteminfo_query::all</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, and <a class="el" href="iteminfo__query_8h_source.html#l00262">iteminfo_query::notext</a>.</p>

</div>
</div>
<a id="a60ce7c1072cdd4a6384d95598ba10231" name="a60ce7c1072cdd4a6384d95598ba10231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60ce7c1072cdd4a6384d95598ba10231">&#9670;&nbsp;</a></span>info() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::info </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>showtext</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return all the information about the item and its type. </p>
<p >This includes the different properties of the <a class="el" href="structitype.html">itype</a> (if they are visible to the player). The returned string is already translated and can be <em>very</em> long. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">showtext</td><td>If true, shows the item description, otherwise only the properties item type. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01101">1101</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>{</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>    std::vector&lt;iteminfo&gt; dummy;</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>( showtext, dummy );</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l01101">info()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01293">advanced_inventory::action_examine()</a>, <a class="el" href="item_8cpp_source.html#l01848">ammo_info()</a>, <a class="el" href="item_8cpp_source.html#l02658">animal_armor_info()</a>, <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l03001">battery_info()</a>, <a class="el" href="item_8cpp_source.html#l03214">bionic_info()</a>, <a class="el" href="item_8cpp_source.html#l02839">book_info()</a>, <a class="el" href="iuse_8cpp_source.html#l06754">colorized_item_description()</a>, <a class="el" href="item_8cpp_source.html#l03343">combat_info()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01566">game_menus::inv::compare()</a>, <a class="el" href="item_8cpp_source.html#l03068">component_info()</a>, <a class="el" href="item_8cpp_source.html#l02973">container_info()</a>, <a class="el" href="item_8cpp_source.html#l03487">contents_info()</a>, <a class="el" href="item_8cpp_source.html#l03113">disassembly_info()</a>, <a class="el" href="gamemode__defense_8cpp_source.html#l01235">draw_caravan_items()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="item_8cpp_source.html#l02324">gunmod_info()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, <a class="el" href="game_8cpp_source.html#l07526">game::list_items()</a>, <a class="el" href="item_8cpp_source.html#l01825">magazine_info()</a>, <a class="el" href="item_8cpp_source.html#l01625">med_info()</a>, <a class="el" href="item_8cpp_source.html#l03167">qualities_info()</a>, <a class="el" href="wish_8cpp_source.html#l00494">wish_item_callback::refresh()</a>, <a class="el" href="item_8cpp_source.html#l03092">repair_info()</a>, <a class="el" href="npctrade_8cpp_source.html#l00407">trading_window::show_item_data()</a>, and <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>.</p>

</div>
</div>
<a id="ad6d0b5a4ccc9ab29dfd13c83e02313b1" name="ad6d0b5a4ccc9ab29dfd13c83e02313b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d0b5a4ccc9ab29dfd13c83e02313b1">&#9670;&nbsp;</a></span>info() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return all the information about the item and its type, and dump to vector. </p>
<p >This includes the different properties of the <a class="el" href="structitype.html">itype</a> (if they are visible to the player). The returned string is already translated and can be <em>very</em> long. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parts</td><td>controls which parts of the iteminfo to return. </td></tr>
    <tr><td class="paramname">info</td><td>The properties (encapsulated into <a class="el" href="structiteminfo.html">iteminfo</a>) are added to this vector, the vector can be used to compare them to properties of another item. </td></tr>
    <tr><td class="paramname">batch</td><td>The batch crafting number to multiply data by </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03887">3887</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03888" name="l03888"></a><span class="lineno"> 3888</span>{</div>
<div class="line"><a id="l03889" name="l03889"></a><span class="lineno"> 3889</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_variable" href="cached__options_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a>;</div>
<div class="line"><a id="l03890" name="l03890"></a><span class="lineno"> 3890</span> </div>
<div class="line"><a id="l03891" name="l03891"></a><span class="lineno"> 3891</span>    <span class="keywordflow">if</span>( parts == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03892" name="l03892"></a><span class="lineno"> 3892</span>        parts = &amp;<a class="code hl_variable" href="classiteminfo__query.html#a5bd07a0642fad2dcf4e6a6d1484a41b9">iteminfo_query::all</a>;</div>
<div class="line"><a id="l03893" name="l03893"></a><span class="lineno"> 3893</span>    }</div>
<div class="line"><a id="l03894" name="l03894"></a><span class="lineno"> 3894</span> </div>
<div class="line"><a id="l03895" name="l03895"></a><span class="lineno"> 3895</span>    <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.clear();</div>
<div class="line"><a id="l03896" name="l03896"></a><span class="lineno"> 3896</span> </div>
<div class="line"><a id="l03897" name="l03897"></a><span class="lineno"> 3897</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l03898" name="l03898"></a><span class="lineno"> 3898</span>        <a class="code hl_function" href="classitem.html#ad4e3984fc584c1fa9a77b6cee933d355">basic_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03899" name="l03899"></a><span class="lineno"> 3899</span>    }</div>
<div class="line"><a id="l03900" name="l03900"></a><span class="lineno"> 3900</span> </div>
<div class="line"><a id="l03901" name="l03901"></a><span class="lineno"> 3901</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *med_item = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l03902" name="l03902"></a><span class="lineno"> 3902</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>() ) {</div>
<div class="line"><a id="l03903" name="l03903"></a><span class="lineno"> 3903</span>        med_item = <span class="keyword">this</span>;</div>
<div class="line"><a id="l03904" name="l03904"></a><span class="lineno"> 3904</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a5313b04e655bcac64517ccaaad366a90">is_med_container</a>() ) {</div>
<div class="line"><a id="l03905" name="l03905"></a><span class="lineno"> 3905</span>        med_item = &amp;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l03906" name="l03906"></a><span class="lineno"> 3906</span>    }</div>
<div class="line"><a id="l03907" name="l03907"></a><span class="lineno"> 3907</span>    <span class="keywordflow">if</span>( med_item != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03908" name="l03908"></a><span class="lineno"> 3908</span>        <a class="code hl_function" href="classitem.html#a3ce3a9a28569e6784c5499e3aa7f55be">med_info</a>( med_item, <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03909" name="l03909"></a><span class="lineno"> 3909</span>    }</div>
<div class="line"><a id="l03910" name="l03910"></a><span class="lineno"> 3910</span> </div>
<div class="line"><a id="l03911" name="l03911"></a><span class="lineno"> 3911</span>    <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *food_item = <a class="code hl_function" href="classitem.html#acab4550c97cabd8d8067e5e53b001178">get_food</a>() ) {</div>
<div class="line"><a id="l03912" name="l03912"></a><span class="lineno"> 3912</span>        <a class="code hl_function" href="classitem.html#aecc0a01ad32ee5f835915f41e818f59e">food_info</a>( food_item, <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03913" name="l03913"></a><span class="lineno"> 3913</span>    }</div>
<div class="line"><a id="l03914" name="l03914"></a><span class="lineno"> 3914</span> </div>
<div class="line"><a id="l03915" name="l03915"></a><span class="lineno"> 3915</span>    <a class="code hl_function" href="classitem.html#afc8458b2c9fee9022ea2356dd171f402">container_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03916" name="l03916"></a><span class="lineno"> 3916</span>    <a class="code hl_function" href="classitem.html#a219a2cb372b167889ab732c9e33a70c5">contents_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03917" name="l03917"></a><span class="lineno"> 3917</span>    <a class="code hl_function" href="classitem.html#a4feef041aa5b9785d106266864cf7ab4">combat_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03918" name="l03918"></a><span class="lineno"> 3918</span> </div>
<div class="line"><a id="l03919" name="l03919"></a><span class="lineno"> 3919</span>    <a class="code hl_function" href="classitem.html#a884a7ea3cc59c2ed8342e3054c07a922">magazine_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03920" name="l03920"></a><span class="lineno"> 3920</span>    <a class="code hl_function" href="classitem.html#ad1a1b9e061715c122074e2df204d9bbc">ammo_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03921" name="l03921"></a><span class="lineno"> 3921</span> </div>
<div class="line"><a id="l03922" name="l03922"></a><span class="lineno"> 3922</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *gun = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l03923" name="l03923"></a><span class="lineno"> 3923</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l03924" name="l03924"></a><span class="lineno"> 3924</span>        gun = <span class="keyword">this</span>;</div>
<div class="line"><a id="l03925" name="l03925"></a><span class="lineno"> 3925</span>        <span class="keyword">const</span> <a class="code hl_class" href="classgun__mode.html">gun_mode</a> aux = <a class="code hl_function" href="classitem.html#a1a94ea108d695febf7f2bcf090f097fa">gun_current_mode</a>();</div>
<div class="line"><a id="l03926" name="l03926"></a><span class="lineno"> 3926</span>        <span class="comment">// if we have an active auxiliary gunmod display stats for this instead</span></div>
<div class="line"><a id="l03927" name="l03927"></a><span class="lineno"> 3927</span>        <span class="keywordflow">if</span>( aux &amp;&amp; aux-&gt;<a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() &amp;&amp; aux-&gt;<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp;</div>
<div class="line"><a id="l03928" name="l03928"></a><span class="lineno"> 3928</span>            parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8b373abf4d6fb882f3305e5c698ae7f1">iteminfo_parts::DESCRIPTION_AUX_GUNMOD_HEADER</a> ) ) {</div>
<div class="line"><a id="l03929" name="l03929"></a><span class="lineno"> 3929</span>            gun = &amp;*aux;</div>
<div class="line"><a id="l03930" name="l03930"></a><span class="lineno"> 3930</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>,</div>
<div class="line"><a id="l03931" name="l03931"></a><span class="lineno"> 3931</span>                               <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stats of the active &lt;info&gt;gunmod (%s)&lt;/info&gt; &quot;</span></div>
<div class="line"><a id="l03932" name="l03932"></a><span class="lineno"> 3932</span>                                                 <span class="stringliteral">&quot;are shown.&quot;</span> ), gun-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l03933" name="l03933"></a><span class="lineno"> 3933</span>        }</div>
<div class="line"><a id="l03934" name="l03934"></a><span class="lineno"> 3934</span>    }</div>
<div class="line"><a id="l03935" name="l03935"></a><span class="lineno"> 3935</span>    <span class="keywordflow">if</span>( gun != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03936" name="l03936"></a><span class="lineno"> 3936</span>        <a class="code hl_function" href="classitem.html#a6d1f49b55eaaf92e616359490624bad2">gun_info</a>( gun, <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03937" name="l03937"></a><span class="lineno"> 3937</span>    }</div>
<div class="line"><a id="l03938" name="l03938"></a><span class="lineno"> 3938</span> </div>
<div class="line"><a id="l03939" name="l03939"></a><span class="lineno"> 3939</span>    <a class="code hl_function" href="classitem.html#a0ad233b27797b39be495f7713e9ec6c0">gunmod_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03940" name="l03940"></a><span class="lineno"> 3940</span>    <a class="code hl_function" href="classitem.html#ac77c48d5e9c233b89f29a0aa9c68b9e7">armor_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03941" name="l03941"></a><span class="lineno"> 3941</span>    <a class="code hl_function" href="classitem.html#a364460e515672c6b19b7afeee0b9d560">animal_armor_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03942" name="l03942"></a><span class="lineno"> 3942</span>    <a class="code hl_function" href="classitem.html#ae0863124133813cad747398f561c8048">book_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03943" name="l03943"></a><span class="lineno"> 3943</span>    <a class="code hl_function" href="classitem.html#ace11ba657be810e5ee4cc2caeb8a0637">battery_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03944" name="l03944"></a><span class="lineno"> 3944</span>    <a class="code hl_function" href="classitem.html#af5218e06137e038fa90a320550884639">tool_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03945" name="l03945"></a><span class="lineno"> 3945</span>    <a class="code hl_function" href="classitem.html#a733d3f8bc85cb1bc0e8d87b6ed5af7ac">component_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03946" name="l03946"></a><span class="lineno"> 3946</span>    <a class="code hl_function" href="classitem.html#a5f1bd1f37a27ac2a4c994b4123dba5e6">qualities_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03947" name="l03947"></a><span class="lineno"> 3947</span> </div>
<div class="line"><a id="l03948" name="l03948"></a><span class="lineno"> 3948</span>    <span class="comment">// Uses for item (bandaging quality, holster capacity, grenade activation)</span></div>
<div class="line"><a id="l03949" name="l03949"></a><span class="lineno"> 3949</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4cd71a570f613530bbf1190e214229ee">iteminfo_parts::DESCRIPTION_USE_METHODS</a> ) ) {</div>
<div class="line"><a id="l03950" name="l03950"></a><span class="lineno"> 3950</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const std::string, use_function&gt; &amp;method : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a> ) {</div>
<div class="line"><a id="l03951" name="l03951"></a><span class="lineno"> 3951</span>            <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03952" name="l03952"></a><span class="lineno"> 3952</span>            method.second.dump_info( *<span class="keyword">this</span>, <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03953" name="l03953"></a><span class="lineno"> 3953</span>        }</div>
<div class="line"><a id="l03954" name="l03954"></a><span class="lineno"> 3954</span>    }</div>
<div class="line"><a id="l03955" name="l03955"></a><span class="lineno"> 3955</span> </div>
<div class="line"><a id="l03956" name="l03956"></a><span class="lineno"> 3956</span>    <a class="code hl_function" href="classitem.html#a7af3529d3ba327b8eac2d9be8bd5b1d6">repair_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03957" name="l03957"></a><span class="lineno"> 3957</span>    <a class="code hl_function" href="classitem.html#a4ebb47a7b946240255e3a91e892abab5">disassembly_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03958" name="l03958"></a><span class="lineno"> 3958</span> </div>
<div class="line"><a id="l03959" name="l03959"></a><span class="lineno"> 3959</span>    <a class="code hl_function" href="classitem.html#ae2393a9b4e31f34c14c0f3496ef938a4">final_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, parts, batch, <a class="code hl_function" href="namespacedebug__menu.html#aa07895d5fd8a5172b7e5fa9a1e261fa6">debug</a> );</div>
<div class="line"><a id="l03960" name="l03960"></a><span class="lineno"> 3960</span> </div>
<div class="line"><a id="l03961" name="l03961"></a><span class="lineno"> 3961</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.empty() &amp;&amp; <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.back().sName == <span class="stringliteral">&quot;--&quot;</span> ) {</div>
<div class="line"><a id="l03962" name="l03962"></a><span class="lineno"> 3962</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.pop_back();</div>
<div class="line"><a id="l03963" name="l03963"></a><span class="lineno"> 3963</span>    }</div>
<div class="line"><a id="l03964" name="l03964"></a><span class="lineno"> 3964</span> </div>
<div class="line"><a id="l03965" name="l03965"></a><span class="lineno"> 3965</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="output_8cpp.html#a001be4a8b824418455d413a555b6d025">format_item_info</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>, {} );</div>
<div class="line"><a id="l03966" name="l03966"></a><span class="lineno"> 3966</span>}</div>
<div class="ttc" id="aclassitem_html_a0ad233b27797b39be495f7713e9ec6c0"><div class="ttname"><a href="classitem.html#a0ad233b27797b39be495f7713e9ec6c0">item::gunmod_info</a></div><div class="ttdeci">void gunmod_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l02324">item.cpp:2324</a></div></div>
<div class="ttc" id="aclassitem_html_a1a94ea108d695febf7f2bcf090f097fa"><div class="ttname"><a href="classitem.html#a1a94ea108d695febf7f2bcf090f097fa">item::gun_current_mode</a></div><div class="ttdeci">gun_mode gun_current_mode() const</div><div class="ttdoc">Get the current mode for this gun (or an invalid mode if item is not a gun)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07736">item.cpp:7736</a></div></div>
<div class="ttc" id="aclassitem_html_a219a2cb372b167889ab732c9e33a70c5"><div class="ttname"><a href="classitem.html#a219a2cb372b167889ab732c9e33a70c5">item::contents_info</a></div><div class="ttdeci">void contents_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03487">item.cpp:3487</a></div></div>
<div class="ttc" id="aclassitem_html_a364460e515672c6b19b7afeee0b9d560"><div class="ttname"><a href="classitem.html#a364460e515672c6b19b7afeee0b9d560">item::animal_armor_info</a></div><div class="ttdeci">void animal_armor_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l02658">item.cpp:2658</a></div></div>
<div class="ttc" id="aclassitem_html_a3ce3a9a28569e6784c5499e3aa7f55be"><div class="ttname"><a href="classitem.html#a3ce3a9a28569e6784c5499e3aa7f55be">item::med_info</a></div><div class="ttdeci">void med_info(const item *med_item, std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01625">item.cpp:1625</a></div></div>
<div class="ttc" id="aclassitem_html_a4ebb47a7b946240255e3a91e892abab5"><div class="ttname"><a href="classitem.html#a4ebb47a7b946240255e3a91e892abab5">item::disassembly_info</a></div><div class="ttdeci">void disassembly_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03113">item.cpp:3113</a></div></div>
<div class="ttc" id="aclassitem_html_a4feef041aa5b9785d106266864cf7ab4"><div class="ttname"><a href="classitem.html#a4feef041aa5b9785d106266864cf7ab4">item::combat_info</a></div><div class="ttdeci">void combat_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03343">item.cpp:3343</a></div></div>
<div class="ttc" id="aclassitem_html_a5313b04e655bcac64517ccaaad366a90"><div class="ttname"><a href="classitem.html#a5313b04e655bcac64517ccaaad366a90">item::is_med_container</a></div><div class="ttdeci">bool is_med_container() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06465">item.cpp:6465</a></div></div>
<div class="ttc" id="aclassitem_html_a5f1bd1f37a27ac2a4c994b4123dba5e6"><div class="ttname"><a href="classitem.html#a5f1bd1f37a27ac2a4c994b4123dba5e6">item::qualities_info</a></div><div class="ttdeci">void qualities_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03167">item.cpp:3167</a></div></div>
<div class="ttc" id="aclassitem_html_a6d1f49b55eaaf92e616359490624bad2"><div class="ttname"><a href="classitem.html#a6d1f49b55eaaf92e616359490624bad2">item::gun_info</a></div><div class="ttdeci">void gun_info(const item *mod, std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01961">item.cpp:1961</a></div></div>
<div class="ttc" id="aclassitem_html_a733d3f8bc85cb1bc0e8d87b6ed5af7ac"><div class="ttname"><a href="classitem.html#a733d3f8bc85cb1bc0e8d87b6ed5af7ac">item::component_info</a></div><div class="ttdeci">void component_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03068">item.cpp:3068</a></div></div>
<div class="ttc" id="aclassitem_html_a7af3529d3ba327b8eac2d9be8bd5b1d6"><div class="ttname"><a href="classitem.html#a7af3529d3ba327b8eac2d9be8bd5b1d6">item::repair_info</a></div><div class="ttdeci">void repair_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03092">item.cpp:3092</a></div></div>
<div class="ttc" id="aclassitem_html_a884a7ea3cc59c2ed8342e3054c07a922"><div class="ttname"><a href="classitem.html#a884a7ea3cc59c2ed8342e3054c07a922">item::magazine_info</a></div><div class="ttdeci">void magazine_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01825">item.cpp:1825</a></div></div>
<div class="ttc" id="aclassitem_html_ac77c48d5e9c233b89f29a0aa9c68b9e7"><div class="ttname"><a href="classitem.html#ac77c48d5e9c233b89f29a0aa9c68b9e7">item::armor_info</a></div><div class="ttdeci">void armor_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l02476">item.cpp:2476</a></div></div>
<div class="ttc" id="aclassitem_html_ace11ba657be810e5ee4cc2caeb8a0637"><div class="ttname"><a href="classitem.html#ace11ba657be810e5ee4cc2caeb8a0637">item::battery_info</a></div><div class="ttdeci">void battery_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03001">item.cpp:3001</a></div></div>
<div class="ttc" id="aclassitem_html_ad1a1b9e061715c122074e2df204d9bbc"><div class="ttname"><a href="classitem.html#ad1a1b9e061715c122074e2df204d9bbc">item::ammo_info</a></div><div class="ttdeci">void ammo_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01848">item.cpp:1848</a></div></div>
<div class="ttc" id="aclassitem_html_ad4e3984fc584c1fa9a77b6cee933d355"><div class="ttname"><a href="classitem.html#ad4e3984fc584c1fa9a77b6cee933d355">item::basic_info</a></div><div class="ttdeci">void basic_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01463">item.cpp:1463</a></div></div>
<div class="ttc" id="aclassitem_html_ae0863124133813cad747398f561c8048"><div class="ttname"><a href="classitem.html#ae0863124133813cad747398f561c8048">item::book_info</a></div><div class="ttdeci">void book_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l02839">item.cpp:2839</a></div></div>
<div class="ttc" id="aclassitem_html_ae2393a9b4e31f34c14c0f3496ef938a4"><div class="ttname"><a href="classitem.html#ae2393a9b4e31f34c14c0f3496ef938a4">item::final_info</a></div><div class="ttdeci">void final_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03546">item.cpp:3546</a></div></div>
<div class="ttc" id="aclassitem_html_aecc0a01ad32ee5f835915f41e818f59e"><div class="ttname"><a href="classitem.html#aecc0a01ad32ee5f835915f41e818f59e">item::food_info</a></div><div class="ttdeci">void food_info(const item *food_item, std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01654">item.cpp:1654</a></div></div>
<div class="ttc" id="aclassitem_html_af5218e06137e038fa90a320550884639"><div class="ttname"><a href="classitem.html#af5218e06137e038fa90a320550884639">item::tool_info</a></div><div class="ttdeci">void tool_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03020">item.cpp:3020</a></div></div>
<div class="ttc" id="aclassitem_html_afc8458b2c9fee9022ea2356dd171f402"><div class="ttname"><a href="classitem.html#afc8458b2c9fee9022ea2356dd171f402">item::container_info</a></div><div class="ttdeci">void container_info(std::vector&lt; iteminfo &gt; &amp;info, const iteminfo_query *parts, int batch, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l02973">item.cpp:2973</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa4cd71a570f613530bbf1190e214229ee"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4cd71a570f613530bbf1190e214229ee">iteminfo_parts::DESCRIPTION_USE_METHODS</a></div><div class="ttdeci">@ DESCRIPTION_USE_METHODS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa8b373abf4d6fb882f3305e5c698ae7f1"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8b373abf4d6fb882f3305e5c698ae7f1">iteminfo_parts::DESCRIPTION_AUX_GUNMOD_HEADER</a></div><div class="ttdeci">@ DESCRIPTION_AUX_GUNMOD_HEADER</div></div>
<div class="ttc" id="aoutput_8cpp_html_a001be4a8b824418455d413a555b6d025"><div class="ttname"><a href="output_8cpp.html#a001be4a8b824418455d413a555b6d025">format_item_info</a></div><div class="ttdeci">std::string format_item_info(const std::vector&lt; iteminfo &gt; &amp;vItemDisplay, const std::vector&lt; iteminfo &gt; &amp;vItemCompare)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00854">output.cpp:854</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iteminfo__query_8h_source.html#l00261">iteminfo_query::all</a>, <a class="el" href="item_8cpp_source.html#l01848">ammo_info()</a>, <a class="el" href="item_8cpp_source.html#l02658">animal_armor_info()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l03001">battery_info()</a>, <a class="el" href="item_8cpp_source.html#l02839">book_info()</a>, <a class="el" href="item_8cpp_source.html#l03343">combat_info()</a>, <a class="el" href="item_8cpp_source.html#l03068">component_info()</a>, <a class="el" href="item_8cpp_source.html#l02973">container_info()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8cpp_source.html#l03487">contents_info()</a>, <a class="el" href="debug__menu_8cpp_source.html#l01325">debug_menu::debug()</a>, <a class="el" href="cached__options_8cpp_source.html#l00004">debug_mode</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa8b373abf4d6fb882f3305e5c698ae7f1">DESCRIPTION_AUX_GUNMOD_HEADER</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4cd71a570f613530bbf1190e214229ee">DESCRIPTION_USE_METHODS</a>, <a class="el" href="item_8cpp_source.html#l03113">disassembly_info()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="output_8cpp_source.html#l00854">format_item_info()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l06492">get_food()</a>, <a class="el" href="item_8cpp_source.html#l07736">gun_current_mode()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="item_8cpp_source.html#l02324">gunmod_info()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="item_8cpp_source.html#l06465">is_med_container()</a>, <a class="el" href="item_8cpp_source.html#l06448">is_medication()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="item_8cpp_source.html#l01825">magazine_info()</a>, <a class="el" href="item_8cpp_source.html#l01625">med_info()</a>, <a class="el" href="item_8cpp_source.html#l03167">qualities_info()</a>, <a class="el" href="item_8cpp_source.html#l03092">repair_info()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="itype_8h_source.html#l00925">itype::use_methods</a>.</p>

</div>
</div>
<a id="ada08330229a765662135756edf150787" name="ada08330229a765662135756edf150787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada08330229a765662135756edf150787">&#9670;&nbsp;</a></span>inherit_flags() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::inherit_flags </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>making</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inherit applicable flags from the given parent item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>Item to inherit from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00972">972</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>{</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>    <span class="comment">// default behavior is to resize the clothing, which happens elsewhere</span></div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>    <span class="keywordflow">if</span>( making.<a class="code hl_function" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a0ed9b881c9c23a77d8d1419cf5b81a37">flag_NO_RESIZE</a> ) ) {</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>        <span class="comment">//If item is crafted from poor-fit components, the result is poorly fitted too</span></div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>        <span class="keywordflow">if</span>( parent.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a> ) ) {</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>            <a class="code hl_function" href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">unset_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> );</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>        }</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>        <span class="comment">//If item is crafted from perfect-fit components, the result is perfectly fitted too</span></div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>        <span class="keywordflow">if</span>( parent.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> ) ) {</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>            <a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> );</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>        }</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    }</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;f : parent.<a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a> ) {</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( f ).craft_inherit() ) {</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>            <a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( f );</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>        }</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    }</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;f : parent.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#adc8d0bfd6899a3b8b4868e028c5a2214">get_flags</a>() ) {</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( f ).craft_inherit() ) {</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>            <a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( f );</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>        }</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>    }</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    <span class="keywordflow">if</span>( parent.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a297facea6437f9bb596d9a944c1a5728">flag_HIDDEN_POISON</a> ) ) {</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>        <a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> = parent.<a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a>;</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    }</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>}</div>
<div class="ttc" id="aclassitem_html_a9f276bdd47b29bc1649dce5c64cbe433"><div class="ttname"><a href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">item::poison</a></div><div class="ttdeci">int poison</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02200">item.h:2200</a></div></div>
<div class="ttc" id="aclassrecipe_html_aca293605940df4e5c431fa8ba5009074"><div class="ttname"><a href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">recipe::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag_name) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00092">recipe.cpp:92</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a0ed9b881c9c23a77d8d1419cf5b81a37"><div class="ttname"><a href="crafting_8cpp.html#a0ed9b881c9c23a77d8d1419cf5b81a37">flag_NO_RESIZE</a></div><div class="ttdeci">static const std::string flag_NO_RESIZE(&quot;NO_RESIZE&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_a297facea6437f9bb596d9a944c1a5728"><div class="ttname"><a href="crafting_8cpp.html#a297facea6437f9bb596d9a944c1a5728">flag_HIDDEN_POISON</a></div><div class="ttdeci">static const std::string flag_HIDDEN_POISON(&quot;HIDDEN_POISON&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_a614c2056b7d8fcc6773e3441a3feacc3"><div class="ttname"><a href="crafting_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a></div><div class="ttdeci">static const std::string flag_FIT(&quot;FIT&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_ad66d76d379c8d5dcdbb69ceac398607b"><div class="ttname"><a href="crafting_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a></div><div class="ttdeci">static const std::string flag_VARSIZE(&quot;VARSIZE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT()</a>, <a class="el" href="crafting_8cpp.html#a297facea6437f9bb596d9a944c1a5728">flag_HIDDEN_POISON()</a>, <a class="el" href="crafting_8cpp.html#a0ed9b881c9c23a77d8d1419cf5b81a37">flag_NO_RESIZE()</a>, <a class="el" href="crafting_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE()</a>, <a class="el" href="flag_8cpp_source.html#l00070">json_flag::get()</a>, <a class="el" href="itype_8cpp_source.html#l00081">itype::get_flags()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="recipe_8cpp_source.html#l00092">recipe::has_flag()</a>, <a class="el" href="item_8h_source.html#l02163">item_tags</a>, <a class="el" href="item_8h_source.html#l02200">poison</a>, <a class="el" href="item_8cpp_source.html#l05221">set_flag()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="item_8cpp_source.html#l05227">unset_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, and <a class="el" href="crafting_8cpp_source.html#l01000">inherit_flags()</a>.</p>

</div>
</div>
<a id="a71fee8e49d9b7c800ad9ed02bd4a3e33" name="a71fee8e49d9b7c800ad9ed02bd4a3e33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71fee8e49d9b7c800ad9ed02bd4a3e33">&#9670;&nbsp;</a></span>inherit_flags() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::inherit_flags </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>parents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>making</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inherit applicable flags from the given list of parent items. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parents</td><td>Items to inherit from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01000">1000</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>{</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;parent : <a class="code hl_function" href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">parents</a> ) {</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>        <a class="code hl_function" href="classitem.html#ada08330229a765662135756edf150787">inherit_flags</a>( parent, making );</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>    }</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>}</div>
<div class="ttc" id="aclassitem_html_ada08330229a765662135756edf150787"><div class="ttname"><a href="classitem.html#ada08330229a765662135756edf150787">item::inherit_flags</a></div><div class="ttdeci">void inherit_flags(const item &amp;parent, const recipe &amp;making)</div><div class="ttdoc">Inherit applicable flags from the given parent item.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00972">crafting.cpp:972</a></div></div>
<div class="ttc" id="aclassvisitable_html_a91f3c0f8e439b0ffda17e613fda94d04"><div class="ttname"><a href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">visitable&lt; item &gt;::parents</a></div><div class="ttdeci">std::vector&lt; item * &gt; parents(const item &amp;it)</div><div class="ttdoc">Returns vector of parent containers (if any) starting with the innermost.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00057">visitable.cpp:74</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l00972">inherit_flags()</a>, and <a class="el" href="visitable_8cpp_source.html#l00074">visitable&lt; item &gt;::parents()</a>.</p>

</div>
</div>
<a id="a18ede775ada6d0b88f984b9dae6fed00" name="a18ede775ada6d0b88f984b9dae6fed00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18ede775ada6d0b88f984b9dae6fed00">&#9670;&nbsp;</a></span>io()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Archive &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void item::io </td>
          <td>(</td>
          <td class="paramtype">Archive &amp;&#160;</td>
          <td class="paramname"><em>archive</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02156">2156</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>{</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span> </div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>    <a class="code hl_class" href="classstring__id.html">itype_id</a> orig; <span class="comment">// original ID as loaded from JSON</span></div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>    <span class="keyword">const</span> <span class="keyword">auto</span> load_type = [&amp;]( <span class="keyword">const</span> std::string &amp; <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a> ) {</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>        orig = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>        <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;migrate_id( orig ) );</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>    };</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span> </div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>    <span class="keyword">const</span> <span class="keyword">auto</span> load_curammo = [<span class="keyword">this</span>]( <span class="keyword">const</span> std::string &amp; <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a> ) {</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>        <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> = &amp;*<a class="code hl_variable" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;migrate_id( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <span class="keywordtype">id</span> ) );</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>    };</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>    <span class="keyword">const</span> <span class="keyword">auto</span> load_corpse = [<span class="keyword">this</span>]( <span class="keyword">const</span> std::string &amp; <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a> ) {</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <span class="keywordtype">id</span> ).is_null() ) {</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>            <span class="comment">// backwards compatibility, nullptr should not be stored at all</span></div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>            <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>            <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> = &amp;<a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">mtype_id</a>( <span class="keywordtype">id</span> ).obj();</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>        }</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>    };</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>    archive.template io&lt;const itype&gt;( <span class="stringliteral">&quot;typeid&quot;</span>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>, load_type, []( <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> &amp; i ) {</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>        <span class="keywordflow">return</span> i.<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>().str();</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>    }, <a class="code hl_struct" href="structio_1_1required__tag.html">io::required_tag</a>() );</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span> </div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>    <span class="comment">// normalize legacy saves to always have charges &gt;= 0</span></div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>    archive.io( <span class="stringliteral">&quot;charges&quot;</span>, <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, 0 );</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>    <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = std::max( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, 0 );</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span> </div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>    archive.io( <span class="stringliteral">&quot;energy&quot;</span>, <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a>, 0_J );</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span> </div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>    archive.io( <span class="stringliteral">&quot;burnt&quot;</span>, <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a>, 0 );</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>    archive.io( <span class="stringliteral">&quot;poison&quot;</span>, <a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a>, 0 );</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>    archive.io( <span class="stringliteral">&quot;frequency&quot;</span>, <a class="code hl_variable" href="classitem.html#ad16474656a39dfa7b0d89aec3345308f">frequency</a>, 0 );</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>    archive.io( <span class="stringliteral">&quot;snip_id&quot;</span>, <a class="code hl_variable" href="classitem.html#aa475db2839de54a872f47b7c238e214a">snip_id</a>, <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">snippet_id::NULL_ID</a>() );</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>    <span class="comment">// NB! field is named `irridation` in legacy files</span></div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>    archive.io( <span class="stringliteral">&quot;irridation&quot;</span>, <a class="code hl_variable" href="classitem.html#a663816619c55096d7e2736484047ce5a">irradiation</a>, 0 );</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>    archive.io( <span class="stringliteral">&quot;bday&quot;</span>, <a class="code hl_variable" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a>, <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a> );</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>    archive.io( <span class="stringliteral">&quot;mission_id&quot;</span>, <a class="code hl_variable" href="classitem.html#ab49c75e996c7d943b09c3c427b519088">mission_id</a>, -1 );</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>    archive.io( <span class="stringliteral">&quot;player_id&quot;</span>, <a class="code hl_variable" href="classitem.html#a3a7bbdd2a2150b21f4a56f73b6d69573">player_id</a>, -1 );</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>    archive.io( <span class="stringliteral">&quot;item_vars&quot;</span>, <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>, <a class="code hl_struct" href="structio_1_1empty__default__tag.html">io::empty_default_tag</a>() );</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>    <span class="comment">// TODO: change default to empty string</span></div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>    archive.io( <span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_variable" href="classitem.html#ae6e0d727dd759f898591df93162b8614">corpse_name</a>, std::string() );</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>    archive.io( <span class="stringliteral">&quot;owner&quot;</span>, <a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a>, <a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a>.<a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">NULL_ID</a>() );</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>    archive.io( <span class="stringliteral">&quot;old_owner&quot;</span>, <a class="code hl_variable" href="classitem.html#a155a45ada3eb970d006b701a50026c27">old_owner</a>, <a class="code hl_variable" href="classitem.html#a155a45ada3eb970d006b701a50026c27">old_owner</a>.<a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">NULL_ID</a>() );</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>    archive.io( <span class="stringliteral">&quot;invlet&quot;</span>, <a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>, <span class="charliteral">&#39;\0&#39;</span> );</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>    archive.io( <span class="stringliteral">&quot;damaged&quot;</span>, <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a>, 0 );</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>    archive.io( <span class="stringliteral">&quot;active&quot;</span>, <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>    archive.io( <span class="stringliteral">&quot;is_favorite&quot;</span>, <a class="code hl_variable" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>    archive.io( <span class="stringliteral">&quot;item_counter&quot;</span>, <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a>, <span class="keyword">static_cast&lt;</span>decltype( <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> )<span class="keyword">&gt;</span>( 0 ) );</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>    archive.io( <span class="stringliteral">&quot;rot&quot;</span>, <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a>, 0_turns );</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>    archive.io( <span class="stringliteral">&quot;last_rot_check&quot;</span>, <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a>, <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a> );</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>    archive.io( <span class="stringliteral">&quot;techniques&quot;</span>, <a class="code hl_variable" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a>, <a class="code hl_struct" href="structio_1_1empty__default__tag.html">io::empty_default_tag</a>() );</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>    archive.io( <span class="stringliteral">&quot;faults&quot;</span>, <a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>, <a class="code hl_struct" href="structio_1_1empty__default__tag.html">io::empty_default_tag</a>() );</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>    archive.io( <span class="stringliteral">&quot;item_tags&quot;</span>, <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>, <a class="code hl_struct" href="structio_1_1empty__default__tag.html">io::empty_default_tag</a>() );</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>    archive.io( <span class="stringliteral">&quot;components&quot;</span>, <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>, <a class="code hl_struct" href="structio_1_1empty__default__tag.html">io::empty_default_tag</a>() );</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>    archive.io( <span class="stringliteral">&quot;recipe_charges&quot;</span>, <a class="code hl_variable" href="classitem.html#ae6e5a27a821edd75162d46364a24699b">recipe_charges</a>, 1 );</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>    archive.template io&lt;const itype&gt;( <span class="stringliteral">&quot;curammo&quot;</span>, <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a>, load_curammo,</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>    []( <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> &amp; i ) {</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>        <span class="keywordflow">return</span> i.<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>().str();</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>    } );</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>    archive.template io&lt;const mtype&gt;( <span class="stringliteral">&quot;corpse&quot;</span>, <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>, load_corpse,</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>    []( <span class="keyword">const</span> <a class="code hl_struct" href="structmtype.html">mtype</a> &amp; i ) {</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>        <span class="keywordflow">return</span> i.<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>();</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>    } );</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>    archive.io( <span class="stringliteral">&quot;craft_data&quot;</span>, <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>, <span class="keyword">decltype</span>( <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> )() );</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>    archive.io( <span class="stringliteral">&quot;light&quot;</span>, <a class="code hl_variable" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a>.<a class="code hl_variable" href="structlight__emission.html#a16250874faa8912324fbc4a305fe0e1b">luminance</a>, <a class="code hl_variable" href="item_8cpp.html#a42c61c45a7c529e35bbd74c72b32a9ee">nolight</a>.<a class="code hl_variable" href="structlight__emission.html#a16250874faa8912324fbc4a305fe0e1b">luminance</a> );</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>    archive.io( <span class="stringliteral">&quot;light_width&quot;</span>, <a class="code hl_variable" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a>.<a class="code hl_variable" href="structlight__emission.html#ad2702f7a90a78ab3263fa52ffb803385">width</a>, <a class="code hl_variable" href="item_8cpp.html#a42c61c45a7c529e35bbd74c72b32a9ee">nolight</a>.<a class="code hl_variable" href="structlight__emission.html#ad2702f7a90a78ab3263fa52ffb803385">width</a> );</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>    archive.io( <span class="stringliteral">&quot;light_dir&quot;</span>, <a class="code hl_variable" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a>.<a class="code hl_variable" href="structlight__emission.html#ab0ec1df6fca595be85ddc4ce6d64c274">direction</a>, <a class="code hl_variable" href="item_8cpp.html#a42c61c45a7c529e35bbd74c72b32a9ee">nolight</a>.<a class="code hl_variable" href="structlight__emission.html#ab0ec1df6fca595be85ddc4ce6d64c274">direction</a> );</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span> </div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1value__ptr.html">cata::value_ptr&lt;relic&gt;</a> null_relic_ptr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>    archive.io( <span class="stringliteral">&quot;relic_data&quot;</span>, <a class="code hl_variable" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a>, null_relic_ptr );</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span> </div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>    archive.io( <span class="stringliteral">&quot;drop_token&quot;</span>, <a class="code hl_namespace" href="namespacedrop__token.html">drop_token</a>, <span class="keyword">decltype</span>( <a class="code hl_namespace" href="namespacedrop__token.html">drop_token</a> )() );</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span> </div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>    <a class="code hl_variable" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;migrate_item( orig, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span> </div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>    <span class="keywordflow">if</span>( !Archive::is_input::value ) {</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>    }</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>    <span class="comment">/* Loading has finished, following code is to ensure consistency and fixes bugs in saves. */</span></div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span> </div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>    <a class="code hl_function" href="savegame__json_8cpp.html#a036a45557ac6bab1361cadabb4d6ef7b">load_legacy_craft_data</a>( archive, <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> );</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span> </div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>    <span class="keywordtype">double</span> float_damage = 0;</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>    <span class="keywordflow">if</span>( archive.read( <span class="stringliteral">&quot;damage&quot;</span>, float_damage ) ) {</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>        <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> = std::min( std::max( <a class="code hl_function" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a>(),</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>                                      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( float_damage * <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a> ) ),</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>                            <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() );</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>    }</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span> </div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>    <span class="keywordtype">int</span> note = 0;</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> note_read = archive.read( <span class="stringliteral">&quot;note&quot;</span>, note );</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span> </div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>    <span class="comment">// Old saves used to only contain one of those values (stored under &quot;poison&quot;), it would be</span></div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>    <span class="comment">// loaded into a union of those members. Now they are separate members and must be set separately.</span></div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> != 0 &amp;&amp; note == 0 &amp;&amp; !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a0a5d70cf8c883cd69f606eead503f322">snippet_category</a>.empty() ) {</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>        <a class="code hl_function" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( note, <a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> );</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>    }</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> != 0 &amp;&amp; <a class="code hl_variable" href="classitem.html#ad16474656a39dfa7b0d89aec3345308f">frequency</a> == 0 &amp;&amp; ( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="savegame__json_8cpp.html#a731e18ebb9fe98be814fd8e70499907d">itype_radio_on</a> || <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="savegame__json_8cpp.html#a6a839c9b56bf28a92da6e778e8364280">itype_radio</a> ) ) {</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>        <a class="code hl_function" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( <a class="code hl_variable" href="classitem.html#ad16474656a39dfa7b0d89aec3345308f">frequency</a>, <a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> );</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>    }</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> != 0 &amp;&amp; <a class="code hl_variable" href="classitem.html#a663816619c55096d7e2736484047ce5a">irradiation</a> == 0 &amp;&amp; <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="savegame__json_8cpp.html#a8c80c02fb14cd9bf70ec9aa43eba5164">itype_rad_badge</a> ) {</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>        <a class="code hl_function" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( <a class="code hl_variable" href="classitem.html#a663816619c55096d7e2736484047ce5a">irradiation</a>, <a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> );</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>    }</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span> </div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>    <span class="comment">// erase all invalid flags (not defined in flags.json), display warning about invalid flags</span></div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>    <a class="code hl_function" href="cata__utility_8h.html#ad7f4be1b8ffc52a0be18e72d041241af">erase_if</a>( <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>, [&amp;]( <span class="keyword">const</span> std::string &amp; f ) {</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classjson__flag.html#ad60cc8cafad9e89dfbab36fd8dbd0eda">json_flag::get</a>( f ).<span class="keywordtype">id</span>.is_valid() ) {</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;item of type &#39;%s&#39; was loaded with undefined flag &#39;%s&#39;.&quot;</span>, <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().c_str(), f );</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>        }</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>    } );</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span> </div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>    <span class="keywordflow">if</span>( note_read ) {</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>        <a class="code hl_variable" href="classitem.html#aa475db2839de54a872f47b7c238e214a">snip_id</a> = <a class="code hl_variable" href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a>.<a class="code hl_function" href="classsnippet__library.html#ac60917e4982bf750054e6a3d5f8770dd">migrate_hash_to_id</a>( note );</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>        <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;std::string&gt;</a> snip;</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>        <span class="keywordflow">if</span>( archive.read( <span class="stringliteral">&quot;snippet_id&quot;</span>, snip ) &amp;&amp; snip ) {</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>            <a class="code hl_variable" href="classitem.html#aa475db2839de54a872f47b7c238e214a">snip_id</a> = <a class="code hl_typedef" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a>( snip.<a class="code hl_function" href="classcata_1_1optional.html#aeb8e2c36d85751ab0ddd296a2496b78c">value</a>() );</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>        }</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>    }</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span> </div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>    <span class="comment">// Compatibility for item type changes: for example soap changed from being a generic item</span></div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>    <span class="comment">// (item::charges -1 or 0 or anything else) to comestible (and thereby counted by charges),</span></div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>    <span class="comment">// old saves still have invalid charges, this fixes the charges value to the default charges.</span></div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt;= 0 ) {</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>, <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a> ).charges;</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>    }</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) {</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>    }</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>.<a class="code hl_function" href="classcata_1_1flat__set.html#ade623b3a09ac9a00ae027a89436fccf8">count</a>( <span class="stringliteral">&quot;WET&quot;</span> ) &gt; 0 ) {</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>        <span class="comment">// Some wet items from legacy saves may be inactive</span></div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>    }</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>    std::string mode;</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>    <span class="keywordflow">if</span>( archive.read( <span class="stringliteral">&quot;mode&quot;</span>, mode ) ) {</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>        <span class="comment">// only for backward compatibility (nowadays mode is stored in item_vars)</span></div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>        <a class="code hl_function" href="classitem.html#afcc181d2e2fe380ac28dd70f814798c2">gun_set_mode</a>( <a class="code hl_typedef" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>( mode ) );</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>    }</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span> </div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>    <span class="comment">// Books without any chapters don&#39;t need to store a remaining-chapters</span></div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>    <span class="comment">// counter, it will always be 0 and it prevents proper stacking.</span></div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#af607ad36c67593022397b437a3a5b5b4">get_chapters</a>() == 0 ) {</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.begin(); it != <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end(); ) {</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>            <span class="keywordflow">if</span>( it-&gt;first.compare( 0, 19, <span class="stringliteral">&quot;remaining-chapters-&quot;</span> ) == 0 ) {</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>                <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.erase( it++ );</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>                ++it;</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>            }</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>        }</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>    }</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span> </div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>    <span class="comment">// Remove stored translated gerund in favor of storing the inscription tool type</span></div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>    <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.erase( <span class="stringliteral">&quot;item_label_type&quot;</span> );</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>    <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.erase( <span class="stringliteral">&quot;item_note_type&quot;</span> );</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span> </div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>    <span class="comment">// Activate corpses from old saves</span></div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() &amp;&amp; !<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>    }</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span> </div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> != 0 &amp;&amp; !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#af2971652c35b420d02faa9337c51c00b">can_have_charges</a>() ) {</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>        <span class="comment">// Types that are known to have charges, but should not have them.</span></div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>        <span class="comment">// We fix it here, but it&#39;s expected from bugged saves and does not require a message.</span></div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecharge__removal__blacklist.html#a4c420e5c73d867c7b481e35c55c00a3b">charge_removal_blacklist::get</a>().<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>() ) == 0 ) {</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Item %s was loaded with charges, but can not have any!&quot;</span>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>() );</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>        }</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 0;</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>    }</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span> </div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>    <span class="comment">// Relic check. Kinda late, but that&#39;s how relics have to be</span></div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a> ) {</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>        <a class="code hl_variable" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a>-&gt;check();</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>    }</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>}</div>
<div class="ttc" id="acata__utility_8h_html_ad7f4be1b8ffc52a0be18e72d041241af"><div class="ttname"><a href="cata__utility_8h.html#ad7f4be1b8ffc52a0be18e72d041241af">erase_if</a></div><div class="ttdeci">bool erase_if(Col &amp;set, Pred predicate)</div><div class="ttdoc">Erases elements from a set that match given predicate function.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00233">cata_utility.h:233</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">cata_variant_type::mtype_id</a></div><div class="ttdeci">@ mtype_id</div></div>
<div class="ttc" id="aclassitem_html_a3a7bbdd2a2150b21f4a56f73b6d69573"><div class="ttname"><a href="classitem.html#a3a7bbdd2a2150b21f4a56f73b6d69573">item::player_id</a></div><div class="ttdeci">int player_id</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02206">item.h:2206</a></div></div>
<div class="ttc" id="aclassitem_html_ab49c75e996c7d943b09c3c427b519088"><div class="ttname"><a href="classitem.html#ab49c75e996c7d943b09c3c427b519088">item::mission_id</a></div><div class="ttdeci">int mission_id</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02205">item.h:2205</a></div></div>
<div class="ttc" id="aclassitem_html_ad16474656a39dfa7b0d89aec3345308f"><div class="ttname"><a href="classitem.html#ad16474656a39dfa7b0d89aec3345308f">item::frequency</a></div><div class="ttdeci">int frequency</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02201">item.h:2201</a></div></div>
<div class="ttc" id="aclassitem_html_ae6e5a27a821edd75162d46364a24699b"><div class="ttname"><a href="classitem.html#ae6e5a27a821edd75162d46364a24699b">item::recipe_charges</a></div><div class="ttdeci">int recipe_charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02198">item.h:2198</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_ac60917e4982bf750054e6a3d5f8770dd"><div class="ttname"><a href="classsnippet__library.html#ac60917e4982bf750054e6a3d5f8770dd">snippet_library::migrate_hash_to_id</a></div><div class="ttdeci">snippet_id migrate_hash_to_id(int hash)</div><div class="ttdoc">Used only for legacy compatibility.</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00176">text_snippets.cpp:176</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a42c61c45a7c529e35bbd74c72b32a9ee"><div class="ttname"><a href="item_8cpp.html#a42c61c45a7c529e35bbd74c72b32a9ee">nolight</a></div><div class="ttdeci">light_emission nolight</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00309">item.cpp:309</a></div></div>
<div class="ttc" id="anamespacecata_html_a097b137e977a6b843c0dada2c8b19611"><div class="ttname"><a href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">cata::swap</a></div><div class="ttdeci">void swap(colony&lt; element_type, element_allocator_type, element_skipfield_type &gt; &amp;a, colony&lt; element_type, element_allocator_type, element_skipfield_type &gt; &amp;b) COLONY_NOEXCEPT_SWAP(element_allocator_type)</div><div class="ttdoc">Swaps colony A's contents with that of colony B.</div><div class="ttdef"><b>Definition:</b> <a href="colony_8h_source.html#l03496">colony.h:3496</a></div></div>
<div class="ttc" id="anamespacecharge__removal__blacklist_html_a4c420e5c73d867c7b481e35c55c00a3b"><div class="ttname"><a href="namespacecharge__removal__blacklist.html#a4c420e5c73d867c7b481e35c55c00a3b">charge_removal_blacklist::get</a></div><div class="ttdeci">const std::set&lt; itype_id &gt; &amp; get()</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l02085">savegame_json.cpp:2085</a></div></div>
<div class="ttc" id="anamespacedrop__token_html"><div class="ttname"><a href="namespacedrop__token.html">drop_token</a></div><div class="ttdef"><b>Definition:</b> <a href="drop__token_8cpp_source.html#l00060">drop_token.cpp:61</a></div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a036a45557ac6bab1361cadabb4d6ef7b"><div class="ttname"><a href="savegame__json_8cpp.html#a036a45557ac6bab1361cadabb4d6ef7b">load_legacy_craft_data</a></div><div class="ttdeci">static void load_legacy_craft_data(io::JsonObjectInputArchive &amp;archive, T &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l02066">savegame_json.cpp:2066</a></div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a6a839c9b56bf28a92da6e778e8364280"><div class="ttname"><a href="savegame__json_8cpp.html#a6a839c9b56bf28a92da6e778e8364280">itype_radio</a></div><div class="ttdeci">static const itype_id itype_radio(&quot;radio&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a731e18ebb9fe98be814fd8e70499907d"><div class="ttname"><a href="savegame__json_8cpp.html#a731e18ebb9fe98be814fd8e70499907d">itype_radio_on</a></div><div class="ttdeci">static const itype_id itype_radio_on(&quot;radio_on&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a8c80c02fb14cd9bf70ec9aa43eba5164"><div class="ttname"><a href="savegame__json_8cpp.html#a8c80c02fb14cd9bf70ec9aa43eba5164">itype_rad_badge</a></div><div class="ttdeci">static const itype_id itype_rad_badge(&quot;rad_badge&quot;)</div></div>
<div class="ttc" id="astructio_1_1empty__default__tag_html"><div class="ttname"><a href="structio_1_1empty__default__tag.html">io::empty_default_tag</a></div><div class="ttdoc">Tag that indicates the value of the io is some kind of container and its default value is to be empty...</div><div class="ttdef"><b>Definition:</b> <a href="cata__io_8h_source.html#l00105">cata_io.h:105</a></div></div>
<div class="ttc" id="astructio_1_1required__tag_html"><div class="ttname"><a href="structio_1_1required__tag.html">io::required_tag</a></div><div class="ttdoc">Tag that indicates the value is required and must exists in the JSON data.</div><div class="ttdef"><b>Definition:</b> <a href="cata__io_8h_source.html#l00110">cata_io.h:110</a></div></div>
<div class="ttc" id="astructitype_html_af2971652c35b420d02faa9337c51c00b"><div class="ttname"><a href="structitype.html#af2971652c35b420d02faa9337c51c00b">itype::can_have_charges</a></div><div class="ttdeci">bool can_have_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00137">itype.cpp:137</a></div></div>
<div class="ttc" id="astructmtype_html_a60dea81cdc4c627313e540831d311b5a"><div class="ttname"><a href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">mtype::id</a></div><div class="ttdeci">mtype_id id</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00240">mtype.h:240</a></div></div>
<div class="ttc" id="atype__id_8h_html_a84db133d54da75a181233bc4ba230e4c"><div class="ttname"><a href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a></div><div class="ttdeci">string_id&lt; translation &gt; snippet_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00179">type_id.h:179</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="string__formatter_8h_source.html#l00094">cata::convert()</a>, <a class="el" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>, <a class="el" href="fmtlib__core_8h_source.html#l01073">detail::count()</a>, <a class="el" href="itype_8h_source.html#l01008">itype::damage_scale</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8h_source.html#l00089">light_emission::direction</a>, <a class="el" href="cata__utility_8h_source.html#l00233">erase_if()</a>, <a class="el" href="savegame__json_8cpp_source.html#l02085">charge_removal_blacklist::get()</a>, <a class="el" href="flag_8cpp_source.html#l00070">json_flag::get()</a>, <a class="el" href="itype_8h_source.html#l01070">itype::get_id()</a>, <a class="el" href="character_8h_source.html#l02230">Character::id</a>, <a class="el" href="itype_8h_source.html#l00881">itype::id</a>, <a class="el" href="item__factory_8cpp_source.html#l00085">item_controller</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>, <a class="el" href="savegame__json_8cpp.html#a8c80c02fb14cd9bf70ec9aa43eba5164">itype_rad_badge</a>, <a class="el" href="savegame__json_8cpp.html#a6a839c9b56bf28a92da6e778e8364280">itype_radio</a>, <a class="el" href="savegame__json_8cpp.html#a731e18ebb9fe98be814fd8e70499907d">itype_radio_on</a>, <a class="el" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a>, <a class="el" href="savegame__json_8cpp_source.html#l02066">load_legacy_craft_data()</a>, <a class="el" href="item_8h_source.html#l00087">light_emission::luminance</a>, <a class="el" href="text__snippets_8cpp_source.html#l00176">snippet_library::migrate_hash_to_id()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">mtype_id</a>, <a class="el" href="item_8cpp_source.html#l00309">nolight</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; translation &gt;::NULL_ID()</a>, <a class="el" href="iuse_8cpp_source.html#l00878">iuse::poison()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00012">SNIPPET</a>, <a class="el" href="calendar_8cpp_source.html#l00033">calendar::start_of_cataclysm</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="colony_8h_source.html#l03496">cata::swap()</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, <a class="el" href="optional_8h_source.html#l00124">cata::optional&lt; T &gt;::value()</a>, and <a class="el" href="item_8h_source.html#l00088">light_emission::width</a>.</p>

</div>
</div>
<a id="ac3cc4d74d020cbd36ae490cbe88f9152" name="ac3cc4d74d020cbd36ae490cbe88f9152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3cc4d74d020cbd36ae490cbe88f9152">&#9670;&nbsp;</a></span>is_ammo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_ammo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06432">6432</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06433" name="l06433"></a><span class="lineno"> 6433</span>{</div>
<div class="line"><a id="l06434" name="l06434"></a><span class="lineno"> 6434</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>;</div>
<div class="line"><a id="l06435" name="l06435"></a><span class="lineno"> 6435</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle_8cpp_source.html#l05209">vehicle::add_item()</a>, <a class="el" href="player_8cpp_source.html#l03026">player::add_or_drop_with_msg()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l01848">ammo_info()</a>, <a class="el" href="item_8cpp_source.html#l07489">ammo_sort_name()</a>, <a class="el" href="item_8cpp_source.html#l07431">ammo_type()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="consumption_8cpp_source.html#l01273">Character::can_feed_reactor_with()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="item_8cpp_source.html#l06362">destroyed_at_zero_charges()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="character_8cpp_source.html#l02274">Character::i_add_to_container()</a>, <a class="el" href="item_8cpp_source.html#l06512">is_ammo_container()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00235">tutorial_game::post_action()</a>, <a class="el" href="item_8cpp_source.html#l07889">item::reload_option::qty()</a>, and <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>.</p>

</div>
</div>
<a id="a44a8bb6387c8f43fa1040ded39d5b776" name="a44a8bb6387c8f43fa1040ded39d5b776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44a8bb6387c8f43fa1040ded39d5b776">&#9670;&nbsp;</a></span>is_ammo_belt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_ammo_belt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06417">6417</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06418" name="l06418"></a><span class="lineno"> 6418</span>{</div>
<div class="line"><a id="l06419" name="l06419"></a><span class="lineno"> 6419</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aed89787c042e594320288eddc31df1b1">flag_MAG_BELT</a> );</div>
<div class="line"><a id="l06420" name="l06420"></a><span class="lineno"> 6420</span>}</div>
<div class="ttc" id="aitem_8cpp_html_aed89787c042e594320288eddc31df1b1"><div class="ttname"><a href="item_8cpp.html#aed89787c042e594320288eddc31df1b1">flag_MAG_BELT</a></div><div class="ttdeci">static const std::string flag_MAG_BELT(&quot;MAG_BELT&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#aed89787c042e594320288eddc31df1b1">flag_MAG_BELT()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, and <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02649">player::can_reload()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="item_8cpp_source.html#l07866">item::reload_option::reload_option()</a>, and <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>.</p>

</div>
</div>
<a id="a187a2679361c6546be613657dbad3b3f" name="a187a2679361c6546be613657dbad3b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a187a2679361c6546be613657dbad3b3f">&#9670;&nbsp;</a></span>is_ammo_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_ammo_container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06512">6512</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06513" name="l06513"></a><span class="lineno"> 6513</span>{</div>
<div class="line"><a id="l06514" name="l06514"></a><span class="lineno"> 6514</span>    <span class="keywordflow">return</span> !<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() &amp;&amp; !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>();</div>
<div class="line"><a id="l06515" name="l06515"></a><span class="lineno"> 6515</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l06432">is_ammo()</a>, and <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="character_8cpp_source.html#l02274">Character::i_add_to_container()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="player_8cpp_source.html#l02389">player::list_ammo()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="player_8cpp_source.html#l02156">player::select_ammo()</a>, and <a class="el" href="npctrade_8cpp_source.html#l00214">item_pricing::set_values()</a>.</p>

</div>
</div>
<a id="a9aab8660fb40eedb8d2da95e797ecd32" name="a9aab8660fb40eedb8d2da95e797ecd32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aab8660fb40eedb8d2da95e797ecd32">&#9670;&nbsp;</a></span>is_armor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_armor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06554">6554</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06555" name="l06555"></a><span class="lineno"> 6555</span>{</div>
<div class="line"><a id="l06556" name="l06556"></a><span class="lineno"> 6556</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>() != <span class="keyword">nullptr</span> || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a485d0947a7de0f6ab737905fda80a89d">flag_IS_ARMOR</a> );</div>
<div class="line"><a id="l06557" name="l06557"></a><span class="lineno"> 6557</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a485d0947a7de0f6ab737905fda80a89d"><div class="ttname"><a href="item_8cpp.html#a485d0947a7de0f6ab737905fda80a89d">flag_IS_ARMOR</a></div><div class="ttdeci">static const std::string flag_IS_ARMOR(&quot;IS_ARMOR&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="item_8cpp.html#a485d0947a7de0f6ab737905fda80a89d">flag_IS_ARMOR()</a>, and <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="debug__menu_8cpp_source.html#l00491">debug_menu::character_edit_menu()</a>, <a class="el" href="game_8cpp_source.html#l12044">check_art_charge_req()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="iuse_8cpp_source.html#l09272">iuse::directional_hologram()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="npctalk_8cpp_source.html#l03328">give_item_to()</a>, <a class="el" href="pickup_8cpp_source.html#l00140">handle_problematic_pickup()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00343">wear_inventory_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00371">take_off_inventory_preset::is_shown()</a>, <a class="el" href="iexamine_8cpp_source.html#l00291">iexamine::nanofab()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00235">tutorial_game::post_action()</a>, <a class="el" href="game_8cpp_source.html#l11839">game::process_artifact()</a>, <a class="el" href="player_8cpp_source.html#l02923">player::rate_action_takeoff()</a>, <a class="el" href="player_8cpp_source.html#l03318">player::rate_action_use()</a>, <a class="el" href="player_8cpp_source.html#l02638">player::rate_action_wear()</a>, <a class="el" href="damage_8cpp_source.html#l00190">resistances::resistances()</a>, <a class="el" href="iuse_8cpp_source.html#l04287">iuse::solarpack()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="melee_8cpp_source.html#l02205">player::weapon_value()</a>, and <a class="el" href="npc_8cpp_source.html#l01045">npc::wear_if_wanted()</a>.</p>

</div>
</div>
<a id="a363ebdca3f9264390dbc6618de34c778" name="a363ebdca3f9264390dbc6618de34c778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a363ebdca3f9264390dbc6618de34c778">&#9670;&nbsp;</a></span>is_artifact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_artifact </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06813">6813</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06814" name="l06814"></a><span class="lineno"> 6814</span>{</div>
<div class="line"><a id="l06815" name="l06815"></a><span class="lineno"> 6815</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a>;</div>
<div class="line"><a id="l06816" name="l06816"></a><span class="lineno"> 6816</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00864">itype::artifact</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l05178">iuse::artifact()</a>, <a class="el" href="item_8cpp_source.html#l08772">needs_processing()</a>, and <a class="el" href="item_8cpp_source.html#l08905">process_artifact()</a>.</p>

</div>
</div>
<a id="a916a4a16b33de5c257fff71d9e579578" name="a916a4a16b33de5c257fff71d9e579578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a916a4a16b33de5c257fff71d9e579578">&#9670;&nbsp;</a></span>is_bandolier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_bandolier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06422">6422</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06423" name="l06423"></a><span class="lineno"> 6423</span>{</div>
<div class="line"><a id="l06424" name="l06424"></a><span class="lineno"> 6424</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;bandolier&quot;</span> );</div>
<div class="line"><a id="l06425" name="l06425"></a><span class="lineno"> 6425</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07258">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l08247">get_total_capacity()</a>, <a class="el" href="item_8cpp_source.html#l09657">is_reloadable()</a>, <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02858">bandolier_actor::reload()</a>, and <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>.</p>

</div>
</div>
<a id="a9e0411a5010e03c8d2670fe23eb25d0f" name="a9e0411a5010e03c8d2670fe23eb25d0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e0411a5010e03c8d2670fe23eb25d0f">&#9670;&nbsp;</a></span>is_battery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_battery </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06412">6412</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06413" name="l06413"></a><span class="lineno"> 6413</span>{</div>
<div class="line"><a id="l06414" name="l06414"></a><span class="lineno"> 6414</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9bf7494805acc141b007ddade6a6313c">battery</a>;</div>
<div class="line"><a id="l06415" name="l06415"></a><span class="lineno"> 6415</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00860">itype::battery</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03001">battery_info()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="item_8cpp_source.html#l07217">energy_remaining()</a>, and <a class="el" href="item_8cpp_source.html#l00569">mod_energy()</a>.</p>

</div>
</div>
<a id="a699d0314aa1c5ee9903cf3cf862ee8cf" name="a699d0314aa1c5ee9903cf3cf862ee8cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a699d0314aa1c5ee9903cf3cf862ee8cf">&#9670;&nbsp;</a></span>is_bionic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_bionic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06402">6402</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06403" name="l06403"></a><span class="lineno"> 6403</span>{</div>
<div class="line"><a id="l06404" name="l06404"></a><span class="lineno"> 6404</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a33aeb53774679283298d0202ae3e78ce">bionic</a>;</div>
<div class="line"><a id="l06405" name="l06405"></a><span class="lineno"> 6405</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00861">itype::bionic</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="item_8cpp_source.html#l03214">bionic_info()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04315">install_bionic_actor::can_use()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="character_8cpp_source.html#l07318">Character::invoke_item()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01784">bionic_install_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01893">bionic_install_surgeon_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02072">bionic_sterilize_preset::is_shown()</a>, <a class="el" href="iuse_8cpp_source.html#l02277">iuse::note_bionics()</a>, <a class="el" href="iuse_8cpp_source.html#l02035">iuse::pack_cbm()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="a980b9e48afd103973a201fc487d0af8b" name="a980b9e48afd103973a201fc487d0af8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a980b9e48afd103973a201fc487d0af8b">&#9670;&nbsp;</a></span>is_book()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_book </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06559">6559</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06560" name="l06560"></a><span class="lineno"> 6560</span>{</div>
<div class="line"><a id="l06561" name="l06561"></a><span class="lineno"> 6561</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>;</div>
<div class="line"><a id="l06562" name="l06562"></a><span class="lineno"> 6562</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00852">itype::book</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03659">player::book_fun_for()</a>, <a class="el" href="item_8cpp_source.html#l02839">book_info()</a>, <a class="el" href="player_8cpp_source.html#l04410">player::calc_focus_equilibrium()</a>, <a class="el" href="npc_8cpp_source.html#l00838">npc::can_read()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="item_8cpp_source.html#l06954">get_available_recipes()</a>, <a class="el" href="avatar_8cpp_source.html#l00245">avatar::get_book_reader()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01048">read_inventory_preset::is_shown()</a>, <a class="el" href="avatar_8cpp_source.html#l00933">avatar::rate_action_read()</a>, <a class="el" href="player_8cpp_source.html#l03318">player::rate_action_use()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03318">activity_handlers::read_do_turn()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>, and <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>.</p>

</div>
</div>
<a id="a9781b39e9c1a98383f202db9935b6a23" name="a9781b39e9c1a98383f202db9935b6a23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9781b39e9c1a98383f202db9935b6a23">&#9670;&nbsp;</a></span>is_brewable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_brewable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06453">6453</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06454" name="l06454"></a><span class="lineno"> 6454</span>{</div>
<div class="line"><a id="l06455" name="l06455"></a><span class="lineno"> 6455</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aceefd307b3bf001fbbcb5fde7bbcdd88">brewable</a>;</div>
<div class="line"><a id="l06456" name="l06456"></a><span class="lineno"> 6456</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00849">itype::brewable</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05801">brewing_results()</a>, <a class="el" href="item_8cpp_source.html#l05796">brewing_time()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="iexamine_8cpp_source.html#l02953">iexamine::fvat_empty()</a>, and <a class="el" href="iexamine_8cpp_source.html#l03078">iexamine::fvat_full()</a>.</p>

</div>
</div>
<a id="ab3f85f52bf0b1191bfdc2a940d95454e" name="ab3f85f52bf0b1191bfdc2a940d95454e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3f85f52bf0b1191bfdc2a940d95454e">&#9670;&nbsp;</a></span>is_bucket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_bucket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06584">6584</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06585" name="l06585"></a><span class="lineno"> 6585</span>{</div>
<div class="line"><a id="l06586" name="l06586"></a><span class="lineno"> 6586</span>    <span class="comment">// That &quot;preserves&quot; part is a hack:</span></div>
<div class="line"><a id="l06587" name="l06587"></a><span class="lineno"> 6587</span>    <span class="comment">// Currently all non-empty cans are effectively sealed at all times</span></div>
<div class="line"><a id="l06588" name="l06588"></a><span class="lineno"> 6588</span>    <span class="comment">// Making them buckets would cause weirdness</span></div>
<div class="line"><a id="l06589" name="l06589"></a><span class="lineno"> 6589</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp;</div>
<div class="line"><a id="l06590" name="l06590"></a><span class="lineno"> 6590</span>           <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;watertight &amp;&amp;</div>
<div class="line"><a id="l06591" name="l06591"></a><span class="lineno"> 6591</span>           !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;seals &amp;&amp;</div>
<div class="line"><a id="l06592" name="l06592"></a><span class="lineno"> 6592</span>           !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;unseals_into;</div>
<div class="line"><a id="l06593" name="l06593"></a><span class="lineno"> 6593</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06700">can_unload_liquid()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="item_8cpp_source.html#l06595">is_bucket_nonempty()</a>, <a class="el" href="crafting_8cpp_source.html#l00466">is_container_eligible_for_crafting()</a>, <a class="el" href="item_8cpp_source.html#l06773">is_funnel_container()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, and <a class="el" href="iexamine_8cpp_source.html#l03485">iexamine::tree_maple_tapped()</a>.</p>

</div>
</div>
<a id="af84e26c1418a4d090bbf55174431b6ac" name="af84e26c1418a4d090bbf55174431b6ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af84e26c1418a4d090bbf55174431b6ac">&#9670;&nbsp;</a></span>is_bucket_nonempty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_bucket_nonempty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06595">6595</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06596" name="l06596"></a><span class="lineno"> 6596</span>{</div>
<div class="line"><a id="l06597" name="l06597"></a><span class="lineno"> 6597</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ab3f85f52bf0b1191bfdc2a940d95454e">is_bucket</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>();</div>
<div class="line"><a id="l06598" name="l06598"></a><span class="lineno"> 6598</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06584">is_bucket()</a>, and <a class="el" href="item_8cpp_source.html#l06687">is_container_empty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle_8cpp_source.html#l05209">vehicle::add_item()</a>, <a class="el" href="crafting_8cpp_source.html#l01471">empty_buckets()</a>, <a class="el" href="pickup_8cpp_source.html#l00140">handle_problematic_pickup()</a>, <a class="el" href="pickup_8cpp_source.html#l01238">pickup::handle_spillable_contents()</a>, and <a class="el" href="item_8cpp_source.html#l04403">on_pickup()</a>.</p>

</div>
</div>
<a id="ac070089c03e5dc687bae39670edd5401" name="ac070089c03e5dc687bae39670edd5401"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac070089c03e5dc687bae39670edd5401">&#9670;&nbsp;</a></span>is_comestible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_comestible </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06437">6437</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06438" name="l06438"></a><span class="lineno"> 6438</span>{</div>
<div class="line"><a id="l06439" name="l06439"></a><span class="lineno"> 6439</span>    <span class="keywordflow">return</span> !!<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>();</div>
<div class="line"><a id="l06440" name="l06440"></a><span class="lineno"> 6440</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>.</p>

<p class="reference">Referenced by <a class="el" href="consumption_8cpp_source.html#l01501">Character::can_consume_as_is()</a>, <a class="el" href="consumption_8cpp_source.html#l00327">Character::compute_effective_nutrients()</a>, <a class="el" href="consumption_8cpp_source.html#l00353">Character::compute_nutrient_range()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00791">game_menus::inv::consume_drink()</a>, <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00776">game_menus::inv::consume_food()</a>, <a class="el" href="consumption_8cpp_source.html#l00464">Character::fun_for()</a>, <a class="el" href="item_8cpp_source.html#l05371">get_comestible_fun()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00671">comestible_inventory_preset::get_edible_comestible()</a>, <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>, <a class="el" href="item_8cpp_source.html#l06448">is_medication()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00693">spell_effect::spawn_ethereal_item()</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

</div>
</div>
<a id="a723753bab4cc789e3ec186846c9916a3" name="a723753bab4cc789e3ec186846c9916a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a723753bab4cc789e3ec186846c9916a3">&#9670;&nbsp;</a></span>is_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this is container. </p>
<p >Note that container does not necessarily means it's suitable for liquids. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06569">6569</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06570" name="l06570"></a><span class="lineno"> 6570</span>{</div>
<div class="line"><a id="l06571" name="l06571"></a><span class="lineno"> 6571</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>;</div>
<div class="line"><a id="l06572" name="l06572"></a><span class="lineno"> 6572</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="npcmove_8cpp_source.html#l01645">npc::consume_cbm_items()</a>, <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>, <a class="el" href="player_8cpp_source.html#l02015">player::consume_item()</a>, <a class="el" href="item_8cpp_source.html#l02973">container_info()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="item_8cpp_source.html#l08529">get_category()</a>, <a class="el" href="item_8cpp_source.html#l08239">get_container_capacity()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="npctrade_8cpp_source.html#l00474">trading_window::get_var_trade()</a>, <a class="el" href="npctalk_8cpp_source.html#l03328">give_item_to()</a>, <a class="el" href="item_8cpp_source.html#l09657">is_reloadable()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00600">comestible_inventory_preset::is_shown()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="player_8cpp_source.html#l02389">player::list_ammo()</a>, <a class="el" href="item__factory_8cpp_source.html#l02683">Item_factory::migrate_item()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01656">advanced_inventory::move_content()</a>, <a class="el" href="item_8cpp_source.html#l08772">needs_processing()</a>, <a class="el" href="item_8cpp_source.html#l06996">operator&lt;()</a>, <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="npctrade_8cpp_source.html#l00214">item_pricing::set_values()</a>, <a class="el" href="item_8cpp_source.html#l06898">spill_contents()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>, and <a class="el" href="npc_8cpp_source.html#l02880">npc::will_accept_from_player()</a>.</p>

</div>
</div>
<a id="a5996f63ca1797fc01482678b51a87680" name="a5996f63ca1797fc01482678b51a87680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5996f63ca1797fc01482678b51a87680">&#9670;&nbsp;</a></span>is_container_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_container_empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this item has no contents at all. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06687">6687</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06688" name="l06688"></a><span class="lineno"> 6688</span>{</div>
<div class="line"><a id="l06689" name="l06689"></a><span class="lineno"> 6689</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>();</div>
<div class="line"><a id="l06690" name="l06690"></a><span class="lineno"> 6690</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, and <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l00823">activatable_inventory_preset::activatable_inventory_preset()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00083">advanced_inventory_pane::add_items_from_area()</a>, <a class="el" href="consumption_8cpp_source.html#l01511">Character::can_consume()</a>, <a class="el" href="item_8cpp_source.html#l06700">can_unload_liquid()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="consumption_8cpp_source.html#l01521">Character::get_consumable_from()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00607">comestible_inventory_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00841">activatable_inventory_preset::get_denial()</a>, <a class="el" href="item_8cpp_source.html#l06595">is_bucket_nonempty()</a>, <a class="el" href="item_8cpp_source.html#l06692">is_container_full()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00357">advanced_inv_area::is_container_valid()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01656">advanced_inventory::move_content()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="player_8cpp_source.html#l03318">player::rate_action_use()</a>, <a class="el" href="player_8cpp_source.html#l02432">player::select_ammo()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00337">advanced_inv_area::set_container()</a>, <a class="el" href="item_8cpp_source.html#l06898">spill_contents()</a>, and <a class="el" href="iexamine_8cpp_source.html#l03485">iexamine::tree_maple_tapped()</a>.</p>

</div>
</div>
<a id="a900f0ca8b2a7d8f0738202c519313d0d" name="a900f0ca8b2a7d8f0738202c519313d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a900f0ca8b2a7d8f0738202c519313d0d">&#9670;&nbsp;</a></span>is_container_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_container_full </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_bucket</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this item has no more free capacity for its current content. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allow_bucket</td><td>Allow filling non-sealable containers </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06692">6692</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06693" name="l06693"></a><span class="lineno"> 6693</span>{</div>
<div class="line"><a id="l06694" name="l06694"></a><span class="lineno"> 6694</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() ) {</div>
<div class="line"><a id="l06695" name="l06695"></a><span class="lineno"> 6695</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06696" name="l06696"></a><span class="lineno"> 6696</span>    }</div>
<div class="line"><a id="l06697" name="l06697"></a><span class="lineno"> 6697</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aaff8311e14e6819e6b6c2e207037f292">get_remaining_capacity_for_liquid</a>( <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>(), allow_bucket ) == 0;</div>
<div class="line"><a id="l06698" name="l06698"></a><span class="lineno"> 6698</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, and <a class="el" href="item_8cpp_source.html#l06687">is_container_empty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00466">is_container_eligible_for_crafting()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, and <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>.</p>

</div>
</div>
<a id="ac9df48bb2d4404a70af9d2fc5e1fa1dd" name="ac9df48bb2d4404a70af9d2fc5e1fa1dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9df48bb2d4404a70af9d2fc5e1fa1dd">&#9670;&nbsp;</a></span>is_corpse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_corpse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this is a corpse item. </p>
<p >Corpses always have valid monster type (<a class="el" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>) associated (<a class="el" href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">get_mtype</a> return a non-null pointer) and have been created with <a class="el" href="classitem.html#a843e57d31c5f26b3300b607446c8b860">make_corpse</a>. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06470">6470</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06471" name="l06471"></a><span class="lineno"> 6471</span>{</div>
<div class="line"><a id="l06472" name="l06472"></a><span class="lineno"> 6472</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE</a> );</div>
<div class="line"><a id="l06473" name="l06473"></a><span class="lineno"> 6473</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE()</a>, and <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01126">activity_handlers::butcher_finish()</a>, <a class="el" href="item_8cpp_source.html#l05540">calc_rot()</a>, <a class="el" href="item_8cpp_source.html#l05807">can_revive()</a>, <a class="el" href="item_8cpp_source.html#l04796">color()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="item_8cpp_source.html#l03068">component_info()</a>, <a class="el" href="clzones_8cpp_source.html#l00846">zone_manager::get_near_zone_type_for_item()</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="item_8cpp_source.html#l08633">has_rotten_away()</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="item_8cpp_source.html#l04433">on_damage()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="map_8cpp_source.html#l04677">map::process_items_in_vehicle()</a>, <a class="el" href="item_8cpp_source.html#l08779">processing_speed()</a>, <a class="el" href="game_8cpp_source.html#l05155">game::revive_corpse()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="a7f25e0430419609c538b07f704d6ba7a" name="a7f25e0430419609c538b07f704d6ba7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f25e0430419609c538b07f704d6ba7a">&#9670;&nbsp;</a></span>is_craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_craft </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06768">6768</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06769" name="l06769"></a><span class="lineno"> 6769</span>{</div>
<div class="line"><a id="l06770" name="l06770"></a><span class="lineno"> 6770</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> != <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l06771" name="l06771"></a><span class="lineno"> 6771</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02190">craft_data_</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="item_8cpp_source.html#l03068">component_info()</a>, <a class="el" href="player_8cpp_source.html#l02015">player::consume_item()</a>, <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, <a class="el" href="crafting_8cpp_source.html#l00963">get_continue_reqs()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00841">activatable_inventory_preset::get_denial()</a>, <a class="el" href="crafting_8cpp_source.html#l00883">get_next_failure_point()</a>, <a class="el" href="crafting_8cpp_source.html#l00918">handle_craft_failure()</a>, <a class="el" href="item_8cpp_source.html#l06458">is_food_container()</a>, <a class="el" href="crafting_8cpp_source.html#l00892">set_next_failure_point()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="ad340c283789ac6bd8578a16e8343d893" name="ad340c283789ac6bd8578a16e8343d893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad340c283789ac6bd8578a16e8343d893">&#9670;&nbsp;</a></span>is_dangerous()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_dangerous </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09628">9628</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09629" name="l09629"></a><span class="lineno"> 9629</span>{</div>
<div class="line"><a id="l09630" name="l09630"></a><span class="lineno"> 9630</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab0acf57079befb9cedabe275cc52035b">flag_DANGEROUS</a> ) ) {</div>
<div class="line"><a id="l09631" name="l09631"></a><span class="lineno"> 9631</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09632" name="l09632"></a><span class="lineno"> 9632</span>    }</div>
<div class="line"><a id="l09633" name="l09633"></a><span class="lineno"> 9633</span> </div>
<div class="line"><a id="l09634" name="l09634"></a><span class="lineno"> 9634</span>    <span class="comment">// Note: Item should be dangerous regardless of what type of a container is it</span></div>
<div class="line"><a id="l09635" name="l09635"></a><span class="lineno"> 9635</span>    <span class="comment">// Visitable interface would skip some options</span></div>
<div class="line"><a id="l09636" name="l09636"></a><span class="lineno"> 9636</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *it : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l09637" name="l09637"></a><span class="lineno"> 9637</span>        <span class="keywordflow">if</span>( it-&gt;is_dangerous() ) {</div>
<div class="line"><a id="l09638" name="l09638"></a><span class="lineno"> 9638</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09639" name="l09639"></a><span class="lineno"> 9639</span>        }</div>
<div class="line"><a id="l09640" name="l09640"></a><span class="lineno"> 9640</span>    }</div>
<div class="line"><a id="l09641" name="l09641"></a><span class="lineno"> 9641</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09642" name="l09642"></a><span class="lineno"> 9642</span>}</div>
<div class="ttc" id="aitem_8cpp_html_ab0acf57079befb9cedabe275cc52035b"><div class="ttname"><a href="item_8cpp.html#ab0acf57079befb9cedabe275cc52035b">flag_DANGEROUS</a></div><div class="ttdeci">static const std::string flag_DANGEROUS(&quot;DANGEROUS&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8cpp.html#ab0acf57079befb9cedabe275cc52035b">flag_DANGEROUS()</a>, and <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l03328">give_item_to()</a>, and <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>.</p>

</div>
</div>
<a id="a0ac79d3de61e0dd6347c9e3747de704b" name="a0ac79d3de61e0dd6347c9e3747de704b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac79d3de61e0dd6347c9e3747de704b">&#9670;&nbsp;</a></span>is_deployable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_deployable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06798">6798</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06799" name="l06799"></a><span class="lineno"> 6799</span>{</div>
<div class="line"><a id="l06800" name="l06800"></a><span class="lineno"> 6800</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;deploy_furn&quot;</span> );</div>
<div class="line"><a id="l06801" name="l06801"></a><span class="lineno"> 6801</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l07318">Character::invoke_item()</a>.</p>

</div>
</div>
<a id="aa25047563db389e8372f4f40ef7ac965" name="aa25047563db389e8372f4f40ef7ac965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25047563db389e8372f4f40ef7ac965">&#9670;&nbsp;</a></span>is_emissive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_emissive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the item emits any light at all. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06793">6793</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06794" name="l06794"></a><span class="lineno"> 6794</span>{</div>
<div class="line"><a id="l06795" name="l06795"></a><span class="lineno"> 6795</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a811dfbca1ec2cd86b6b4de809c642fe8">light</a>.<a class="code hl_variable" href="structlight__emission.html#a16250874faa8912324fbc4a305fe0e1b">luminance</a> &gt; 0 || <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a64d8b1399996d38b2ed54e1543dcef50">light_emission</a> &gt; 0;</div>
<div class="line"><a id="l06796" name="l06796"></a><span class="lineno"> 6796</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02229">light</a>, <a class="el" href="itype_8h_source.html#l01000">itype::light_emission</a>, <a class="el" href="item_8h_source.html#l00087">light_emission::luminance</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l03942">submap::load()</a>, <a class="el" href="map_8cpp_source.html#l04440">map::update_lum()</a>, <a class="el" href="submap_8h_source.html#l00130">submap::update_lum_add()</a>, and <a class="el" href="submap_8h_source.html#l00137">submap::update_lum_rem()</a>.</p>

</div>
</div>
<a id="a9fcc7813b424bb53b94be1988be66d54" name="a9fcc7813b424bb53b94be1988be66d54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fcc7813b424bb53b94be1988be66d54">&#9670;&nbsp;</a></span>is_engine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_engine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06600">6600</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06601" name="l06601"></a><span class="lineno"> 6601</span>{</div>
<div class="line"><a id="l06602" name="l06602"></a><span class="lineno"> 6602</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a6e22c966e0816d5b8ad665f74fc6aeaa">engine</a>;</div>
<div class="line"><a id="l06603" name="l06603"></a><span class="lineno"> 6603</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00854">itype::engine</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06620">is_faulty()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="a3bdef3b5c1d1150e63aa1991fc07875d" name="a3bdef3b5c1d1150e63aa1991fc07875d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bdef3b5c1d1150e63aa1991fc07875d">&#9670;&nbsp;</a></span>is_faulty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_faulty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06620">6620</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06621" name="l06621"></a><span class="lineno"> 6621</span>{</div>
<div class="line"><a id="l06622" name="l06622"></a><span class="lineno"> 6622</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a9fcc7813b424bb53b94be1988be66d54">is_engine</a>() ? !<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.empty() : <span class="keyword">false</span>;</div>
<div class="line"><a id="l06623" name="l06623"></a><span class="lineno"> 6623</span>}</div>
<div class="ttc" id="aclassitem_html_a9fcc7813b424bb53b94be1988be66d54"><div class="ttname"><a href="classitem.html#a9fcc7813b424bb53b94be1988be66d54">item::is_engine</a></div><div class="ttdeci">bool is_engine() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06600">item.cpp:6600</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02160">faults</a>, and <a class="el" href="item_8cpp_source.html#l06600">is_engine()</a>.</p>

<p class="reference">Referenced by <a class="el" href="profession_8cpp_source.html#l00379">clear_faults()</a>, and <a class="el" href="vehicle__part_8cpp_source.html#l00105">vehicle_part::name()</a>.</p>

</div>
</div>
<a id="a5093379156498b4d523b3ac1f733adc4" name="a5093379156498b4d523b3ac1f733adc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5093379156498b4d523b3ac1f733adc4">&#9670;&nbsp;</a></span>is_filthy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_filthy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the item as filthy, so characters with squeamish trait can't wear it. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09808">9808</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09809" name="l09809"></a><span class="lineno"> 9809</span>{</div>
<div class="line"><a id="l09810" name="l09810"></a><span class="lineno"> 9810</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ae190be54ad3b3ff1d2d3058918c41791">flag_FILTHY</a> ) &amp;&amp; ( get_option&lt;bool&gt;( <span class="stringliteral">&quot;FILTHY_MORALE&quot;</span> ) ||</div>
<div class="line"><a id="l09811" name="l09811"></a><span class="lineno"> 9811</span>                                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="item_8cpp.html#aff570feea19769f5cfd3f58b997986f1">trait_SQUEAMISH</a> ) );</div>
<div class="line"><a id="l09812" name="l09812"></a><span class="lineno"> 9812</span>}</div>
<div class="ttc" id="aitem_8cpp_html_ae190be54ad3b3ff1d2d3058918c41791"><div class="ttname"><a href="item_8cpp.html#ae190be54ad3b3ff1d2d3058918c41791">flag_FILTHY</a></div><div class="ttdeci">static const std::string flag_FILTHY(&quot;FILTHY&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aff570feea19769f5cfd3f58b997986f1"><div class="ttname"><a href="item_8cpp.html#aff570feea19769f5cfd3f58b997986f1">trait_SQUEAMISH</a></div><div class="ttdeci">static const trait_id trait_SQUEAMISH(&quot;SQUEAMISH&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#ae190be54ad3b3ff1d2d3058918c41791">flag_FILTHY()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, and <a class="el" href="item_8cpp.html#aff570feea19769f5cfd3f58b997986f1">trait_SQUEAMISH</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01638">salvage_actor::cut_up()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03104">repair_item_actor::handle_components()</a>, <a class="el" href="item__category_8cpp_source.html#l00090">item_category::priority_zone()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03649">heal_actor::use()</a>.</p>

</div>
</div>
<a id="ac690c252311f4c021cb82c9487d35242" name="ac690c252311f4c021cb82c9487d35242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac690c252311f4c021cb82c9487d35242">&#9670;&nbsp;</a></span>is_firearm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_firearm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does it require gunsmithing tools to repair. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06372">6372</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06373" name="l06373"></a><span class="lineno"> 6373</span>{</div>
<div class="line"><a id="l06374" name="l06374"></a><span class="lineno"> 6374</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::string primitive_flag( <span class="stringliteral">&quot;PRIMITIVE_RANGED_WEAPON&quot;</span> );</div>
<div class="line"><a id="l06375" name="l06375"></a><span class="lineno"> 6375</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( primitive_flag );</div>
<div class="line"><a id="l06376" name="l06376"></a><span class="lineno"> 6376</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, and <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03252">repair_item_actor::can_repair_target()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, and <a class="el" href="game__inventory_8cpp_source.html#l01433">repair_inventory_preset::is_shown()</a>.</p>

</div>
</div>
<a id="aad45569fa1fdd99d602eabbbbca04f75" name="aad45569fa1fdd99d602eabbbbca04f75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad45569fa1fdd99d602eabbbbca04f75">&#9670;&nbsp;</a></span>is_food()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_food </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06442">6442</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06443" name="l06443"></a><span class="lineno"> 6443</span>{</div>
<div class="line"><a id="l06444" name="l06444"></a><span class="lineno"> 6444</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() &amp;&amp; ( <a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;comesttype == <span class="stringliteral">&quot;FOOD&quot;</span> ||</div>
<div class="line"><a id="l06445" name="l06445"></a><span class="lineno"> 6445</span>                                <a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;comesttype == <span class="stringliteral">&quot;DRINK&quot;</span> );</div>
<div class="line"><a id="l06446" name="l06446"></a><span class="lineno"> 6446</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, and <a class="el" href="item_8cpp_source.html#l06437">is_comestible()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l03627">npc::activate_item()</a>, <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="character_8cpp_source.html#l07496">Character::consume_charges()</a>, <a class="el" href="item_8cpp_source.html#l06362">destroyed_at_zero_charges()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03883">basecamp::distribute_food()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">player::eat()</a>, <a class="el" href="monattack_8cpp_source.html#l00337">mattack::eat_food()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="character__oracle_8cpp_source.html#l00108">behavior::character_oracle_t::has_food()</a>, <a class="el" href="item_8cpp_source.html#l08633">has_rotten_away()</a>, <a class="el" href="character__oracle_8cpp_source.html#l00099">behavior::character_oracle_t::has_water()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="item_8cpp_source.html#l06458">is_food_container()</a>, <a class="el" href="item_8cpp_source.html#l00461">item()</a>, <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>, <a class="el" href="item_8cpp_source.html#l08772">needs_processing()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00235">tutorial_game::post_action()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="map_8cpp_source.html#l04677">map::process_items_in_vehicle()</a>, <a class="el" href="item_8cpp_source.html#l08779">processing_speed()</a>, <a class="el" href="player_8cpp_source.html#l03318">player::rate_action_use()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>, and <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>.</p>

</div>
</div>
<a id="a6921d1c458f1e840933b765ca9c7e583" name="a6921d1c458f1e840933b765ca9c7e583"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6921d1c458f1e840933b765ca9c7e583">&#9670;&nbsp;</a></span>is_food_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_food_container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06458">6458</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06459" name="l06459"></a><span class="lineno"> 6459</span>{</div>
<div class="line"><a id="l06460" name="l06460"></a><span class="lineno"> 6460</span>    <span class="keywordflow">return</span> ( !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) ||</div>
<div class="line"><a id="l06461" name="l06461"></a><span class="lineno"> 6461</span>           ( <a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() &amp;&amp;</div>
<div class="line"><a id="l06462" name="l06462"></a><span class="lineno"> 6462</span>             <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;making-&gt;create_result().is_food_container() );</div>
<div class="line"><a id="l06463" name="l06463"></a><span class="lineno"> 6463</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8h_source.html#l02190">craft_data_</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, and <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00821">avatar_action::eat()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="clzones_8cpp_source.html#l00846">zone_manager::get_near_zone_type_for_item()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00369">vehicle_part::process_contents()</a>, <a class="el" href="map_8cpp_source.html#l04677">map::process_items_in_vehicle()</a>, and <a class="el" href="item_8cpp_source.html#l08779">processing_speed()</a>.</p>

</div>
</div>
<a id="ac3898605336bf9c45ee3ce37d41d5ead" name="ac3898605336bf9c45ee3ce37d41d5ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3898605336bf9c45ee3ce37d41d5ead">&#9670;&nbsp;</a></span>is_fresh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_fresh </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>an item is fresh if it is capable of rotting but still has a long shelf life remaining </p>

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l00843">843</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>                              {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>() &lt; 0.1;</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l00708">comestible_inventory_preset::get_freshness()</a>, <a class="el" href="item_8cpp_source.html#l01119">get_freshness_description()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="ad8d4ac9512f65051e505e3359b5a6f2c" name="ad8d4ac9512f65051e505e3359b5a6f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d4ac9512f65051e505e3359b5a6f2c">&#9670;&nbsp;</a></span>is_fuel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_fuel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06610">6610</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06611" name="l06611"></a><span class="lineno"> 6611</span>{</div>
<div class="line"><a id="l06612" name="l06612"></a><span class="lineno"> 6612</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9599d60ae3f70f8791bf108a4bde877b">fuel</a>;</div>
<div class="line"><a id="l06613" name="l06613"></a><span class="lineno"> 6613</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00856">itype::fuel</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l01901">Character::can_fuel_bionic_with()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00302">vehicle_part::consume_energy()</a>, <a class="el" href="item_8cpp_source.html#l06666">fuel_energy()</a>, <a class="el" href="item_8cpp_source.html#l06671">fuel_pump_terrain()</a>, and <a class="el" href="item_8cpp_source.html#l06676">has_explosion_data()</a>.</p>

</div>
</div>
<a id="af76842f6e7f6824589be0e31e0053409" name="af76842f6e7f6824589be0e31e0053409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76842f6e7f6824589be0e31e0053409">&#9670;&nbsp;</a></span>is_funnel_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_funnel_container </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;&#160;</td>
          <td class="paramname"><em>bigger_than</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funnel related functions. </p>
<p >See <a class="el" href="weather_8cpp.html">weather.cpp</a> for their usage. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06773">6773</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06774" name="l06774"></a><span class="lineno"> 6774</span>{</div>
<div class="line"><a id="l06775" name="l06775"></a><span class="lineno"> 6775</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#ab3f85f52bf0b1191bfdc2a940d95454e">is_bucket</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>() ) {</div>
<div class="line"><a id="l06776" name="l06776"></a><span class="lineno"> 6776</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06777" name="l06777"></a><span class="lineno"> 6777</span>    }</div>
<div class="line"><a id="l06778" name="l06778"></a><span class="lineno"> 6778</span>    <span class="comment">// TODO: consider linking funnel to item or -making- it an active item</span></div>
<div class="line"><a id="l06779" name="l06779"></a><span class="lineno"> 6779</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">get_container_capacity</a>() &lt;= bigger_than ) {</div>
<div class="line"><a id="l06780" name="l06780"></a><span class="lineno"> 6780</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// skip contents check, performance</span></div>
<div class="line"><a id="l06781" name="l06781"></a><span class="lineno"> 6781</span>    }</div>
<div class="line"><a id="l06782" name="l06782"></a><span class="lineno"> 6782</span>    <span class="keywordflow">if</span>(</div>
<div class="line"><a id="l06783" name="l06783"></a><span class="lineno"> 6783</span>        <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ||</div>
<div class="line"><a id="l06784" name="l06784"></a><span class="lineno"> 6784</span>        <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#abfd8b1d23930a50d7f122f0d39538649">itype_water</a> ||</div>
<div class="line"><a id="l06785" name="l06785"></a><span class="lineno"> 6785</span>        <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#a87da1edb27c5578f91667c65d3c4b3fd">itype_water_acid</a> ||</div>
<div class="line"><a id="l06786" name="l06786"></a><span class="lineno"> 6786</span>        <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#a78370fa21e3dd590d667418a903977f6">itype_water_acid_weak</a> ) {</div>
<div class="line"><a id="l06787" name="l06787"></a><span class="lineno"> 6787</span>        bigger_than = <a class="code hl_function" href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">get_container_capacity</a>();</div>
<div class="line"><a id="l06788" name="l06788"></a><span class="lineno"> 6788</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06789" name="l06789"></a><span class="lineno"> 6789</span>    }</div>
<div class="line"><a id="l06790" name="l06790"></a><span class="lineno"> 6790</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06791" name="l06791"></a><span class="lineno"> 6791</span>}</div>
<div class="ttc" id="aclassitem_html_a22ad63b72a459c8f95893a853348cb06"><div class="ttname"><a href="classitem.html#a22ad63b72a459c8f95893a853348cb06">item::is_watertight_container</a></div><div class="ttdeci">bool is_watertight_container() const</div><div class="ttdoc">Whether this is a container which can be used to store liquids.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06574">item.cpp:6574</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a78370fa21e3dd590d667418a903977f6"><div class="ttname"><a href="item_8cpp.html#a78370fa21e3dd590d667418a903977f6">itype_water_acid_weak</a></div><div class="ttdeci">static const itype_id itype_water_acid_weak(&quot;water_acid_weak&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a87da1edb27c5578f91667c65d3c4b3fd"><div class="ttname"><a href="item_8cpp.html#a87da1edb27c5578f91667c65d3c4b3fd">itype_water_acid</a></div><div class="ttdeci">static const itype_id itype_water_acid(&quot;water_acid&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_abfd8b1d23930a50d7f122f0d39538649"><div class="ttname"><a href="item_8cpp.html#abfd8b1d23930a50d7f122f0d39538649">itype_water</a></div><div class="ttdeci">static const itype_id itype_water(&quot;water&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l08239">get_container_capacity()</a>, <a class="el" href="item_8cpp_source.html#l06584">is_bucket()</a>, <a class="el" href="item_8cpp_source.html#l06574">is_watertight_container()</a>, <a class="el" href="item_8cpp.html#abfd8b1d23930a50d7f122f0d39538649">itype_water</a>, <a class="el" href="item_8cpp.html#a87da1edb27c5578f91667c65d3c4b3fd">itype_water_acid</a>, <a class="el" href="item_8cpp.html#a78370fa21e3dd590d667418a903977f6">itype_water_acid_weak</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

</div>
</div>
<a id="a4661d733113e53ee370d5aa83e31137b" name="a4661d733113e53ee370d5aa83e31137b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4661d733113e53ee370d5aa83e31137b">&#9670;&nbsp;</a></span>is_going_bad()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_going_bad </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>an item is about to become rotten when shelf life has nearly elapsed </p>

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l00848">848</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>                                  {</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>() &gt; 0.9;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01119">get_freshness_description()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00698">comestible_inventory_preset::get_time_left_rounded()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="a2912b2e15a4eec07a5070fffbbd152e8" name="a2912b2e15a4eec07a5070fffbbd152e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2912b2e15a4eec07a5070fffbbd152e8">&#9670;&nbsp;</a></span>is_gun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_gun </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can this item be used to perform a ranged attack? </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classitem.html#afc63d995cea3dad634b29fc8b9932ea9" title="Is this item an effective melee weapon for the given damage type?">item::is_melee()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>an item can be both a gun and melee weapon concurrently </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06367">6367</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06368" name="l06368"></a><span class="lineno"> 6368</span>{</div>
<div class="line"><a id="l06369" name="l06369"></a><span class="lineno"> 6369</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>;</div>
<div class="line"><a id="l06370" name="l06370"></a><span class="lineno"> 6370</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle_8cpp_source.html#l05209">vehicle::add_item()</a>, <a class="el" href="character_8cpp_source.html#l00658">Character::aim_per_move()</a>, <a class="el" href="item_8cpp_source.html#l08376">allow_crafting_component()</a>, <a class="el" href="item_8cpp_source.html#l07258">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="character_8cpp_source.html#l06497">Character::ammo_count_for()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07471">ammo_effects()</a>, <a class="el" href="item_8cpp_source.html#l01848">ammo_info()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07296">ammo_required()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l07489">ammo_sort_name()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00649">can_fire_turret()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00611">avatar_action::can_fire_weapon()</a>, <a class="el" href="npcmove_8cpp_source.html#l01512">npc::can_reload_current()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04274">saw_barrel_actor::can_use_on()</a>, <a class="el" href="gamemode__defense_8cpp_source.html#l00857">defense_game::caravan()</a>, <a class="el" href="item_8cpp_source.html#l07940">casings_handle()</a>, <a class="el" href="npcmove_8cpp_source.html#l00629">npc::character_danger()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="npcmove_8cpp_source.html#l02027">npc::confident_shoot_range()</a>, <a class="el" href="item_8cpp_source.html#l03487">contents_info()</a>, <a class="el" href="item_8cpp_source.html#l09793">contextualize_skill()</a>, <a class="el" href="item_8cpp_source.html#l05091">damage_melee()</a>, <a class="el" href="npc_8cpp_source.html#l01483">npc::decide_needs()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="item_8cpp_source.html#l06166">durability_indicator()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="character_8cpp_source.html#l02675">Character::find_reloadables()</a>, <a class="el" href="handle__action_8cpp_source.html#l01319">fire()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00699">avatar_action::fire_wielded_weapon()</a>, <a class="el" href="npc_8cpp_source.html#l01210">npc::form_opinion()</a>, <a class="el" href="ranged_8cpp_source.html#l01627">Character::get_aim_types()</a>, <a class="el" href="item_8cpp_source.html#l00755">get_covered_body_parts()</a>, <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>, <a class="el" href="item_8cpp_source.html#l03985">get_free_mod_locations()</a>, <a class="el" href="character_8cpp_source.html#l00594">Character::get_most_accurate_sight()</a>, <a class="el" href="item_8cpp_source.html#l06378">get_reload_time()</a>, <a class="el" href="npctalk_8cpp_source.html#l03328">give_item_to()</a>, <a class="el" href="item_8cpp_source.html#l07677">gun_all_modes()</a>, <a class="el" href="item_8cpp_source.html#l07758">gun_cycle_mode()</a>, <a class="el" href="item_8cpp_source.html#l07119">gun_damage()</a>, <a class="el" href="item_8cpp_source.html#l07072">gun_dispersion()</a>, <a class="el" href="item_8cpp_source.html#l07724">gun_get_mode()</a>, <a class="el" href="item_8cpp_source.html#l07741">gun_get_mode_id()</a>, <a class="el" href="ranged_8cpp_source.html#l01776">gun_noise()</a>, <a class="el" href="item_8cpp_source.html#l07182">gun_range()</a>, <a class="el" href="item_8cpp_source.html#l07168">gun_recoil()</a>, <a class="el" href="item_8cpp_source.html#l07749">gun_set_mode()</a>, <a class="el" href="item_8cpp_source.html#l07026">gun_skill()</a>, <a class="el" href="item_8cpp_source.html#l07034">gun_type()</a>, <a class="el" href="item_8cpp_source.html#l02324">gunmod_info()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="player_8cpp_source.html#l04146">player::has_gun_for_ammo()</a>, <a class="el" href="player_8cpp_source.html#l04154">player::has_magazine_for_ammo()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="character_8cpp_source.html#l02448">Character::i_add_or_drop()</a>, <a class="el" href="item_8cpp_source.html#l03887">info()</a>, <a class="el" href="player_8cpp_source.html#l00901">player::intimidation()</a>, <a class="el" href="npc_8cpp_source.html#l01201">npc::invalidate_range_cache()</a>, <a class="el" href="item_8cpp_source.html#l06372">is_firearm()</a>, <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>, <a class="el" href="item_8cpp_source.html#l09657">is_reloadable()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00914">gunmod_inventory_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01379">saw_barrel_inventory_preset::is_shown()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00509">vehicle_part::is_turret()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="character_8cpp_source.html#l07577">Character::item_store_cost()</a>, <a class="el" href="item_8cpp_source.html#l07539">magazine_compatible()</a>, <a class="el" href="item_8cpp_source.html#l07518">magazine_default()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="npcmove_8cpp_source.html#l00705">npc::move()</a>, <a class="el" href="npcmove_8cpp_source.html#l02650">npc::move_pause()</a>, <a class="el" href="player_8cpp_source.html#l00930">player::on_dodge()</a>, <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>, <a class="el" href="npctalk_8cpp_source.html#l01571">parse_tags()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00235">tutorial_game::post_action()</a>, <a class="el" href="character_8cpp_source.html#l09938">Character::power_rating()</a>, <a class="el" href="item_8cpp_source.html#l05154">reach_range()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>, <a class="el" href="crafting_8cpp_source.html#l02292">remove_ammo()</a>, <a class="el" href="item_8cpp_source.html#l07100">sight_dispersion()</a>, <a class="el" href="npc_8cpp_source.html#l00586">starting_inv()</a>, <a class="el" href="npc_8cpp_source.html#l00802">npc::starting_weapon()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="game_8cpp_source.html#l02632">game::try_get_right_click_action()</a>, <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>, <a class="el" href="visitable_8cpp_source.html#l00381">visit_internal()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01243">weapon_inventory_preset::weapon_inventory_preset()</a>, <a class="el" href="melee_8cpp_source.html#l02205">player::weapon_value()</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, <a class="el" href="npcmove_8cpp_source.html#l03381">npc::wield_better_weapon()</a>, and <a class="el" href="player_8cpp_source.html#l04203">player::wield_contents()</a>.</p>

</div>
</div>
<a id="a9b06bb61116b722a90aa372a4561337a" name="a9b06bb61116b722a90aa372a4561337a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b06bb61116b722a90aa372a4561337a">&#9670;&nbsp;</a></span>is_gunmod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_gunmod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06397">6397</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06398" name="l06398"></a><span class="lineno"> 6398</span>{</div>
<div class="line"><a id="l06399" name="l06399"></a><span class="lineno"> 6399</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a>;</div>
<div class="line"><a id="l06400" name="l06400"></a><span class="lineno"> 6400</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00858">itype::gunmod</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08376">allow_crafting_component()</a>, <a class="el" href="item_8cpp_source.html#l03343">combat_info()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00699">avatar_action::fire_wielded_weapon()</a>, <a class="el" href="item_8cpp_source.html#l07677">gun_all_modes()</a>, <a class="el" href="item_8cpp_source.html#l07758">gun_cycle_mode()</a>, <a class="el" href="item_8cpp_source.html#l07741">gun_get_mode_id()</a>, <a class="el" href="item_8cpp_source.html#l07749">gun_set_mode()</a>, <a class="el" href="iuse_8cpp_source.html#l05913">iuse::gunmod_attach()</a>, <a class="el" href="item_8cpp_source.html#l02324">gunmod_info()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, <a class="el" href="item_8cpp_source.html#l03887">info()</a>, <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00914">gunmod_inventory_preset::is_shown()</a>, <a class="el" href="item_8cpp_source.html#l06615">is_toolmod()</a>, <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>, <a class="el" href="player_8cpp_source.html#l03318">player::rate_action_use()</a>, and <a class="el" href="item_8cpp_source.html#l05154">reach_range()</a>.</p>

</div>
</div>
<a id="a1a361aa96bec049dc124699ee54bcea0" name="a1a361aa96bec049dc124699ee54bcea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a361aa96bec049dc124699ee54bcea0">&#9670;&nbsp;</a></span>is_gunmod_compatible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt; item::is_gunmod_compatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07602">7602</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07603" name="l07603"></a><span class="lineno"> 7603</span>{</div>
<div class="line"><a id="l07604" name="l07604"></a><span class="lineno"> 7604</span>    <span class="keywordflow">if</span>( !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.is_gunmod() ) {</div>
<div class="line"><a id="l07605" name="l07605"></a><span class="lineno"> 7605</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried checking compatibility of non-gunmod&quot;</span> );</div>
<div class="line"><a id="l07606" name="l07606"></a><span class="lineno"> 7606</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>();</div>
<div class="line"><a id="l07607" name="l07607"></a><span class="lineno"> 7607</span>    }</div>
<div class="line"><a id="l07608" name="l07608"></a><span class="lineno"> 7608</span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classgun__type__type.html">gun_type_type</a> pistol_gun_type( <a class="code hl_define" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;gun_type_type&quot;</span>, <span class="stringliteral">&quot;pistol&quot;</span> ) );</div>
<div class="line"><a id="l07609" name="l07609"></a><span class="lineno"> 7609</span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> <a class="code hl_variable" href="character_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a>( <span class="stringliteral">&quot;archery&quot;</span> );</div>
<div class="line"><a id="l07610" name="l07610"></a><span class="lineno"> 7610</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::string bow_hack_str( <span class="stringliteral">&quot;bow&quot;</span> );</div>
<div class="line"><a id="l07611" name="l07611"></a><span class="lineno"> 7611</span> </div>
<div class="line"><a id="l07612" name="l07612"></a><span class="lineno"> 7612</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07613" name="l07613"></a><span class="lineno"> 7613</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;isn&#39;t a weapon&quot;</span> ) );</div>
<div class="line"><a id="l07614" name="l07614"></a><span class="lineno"> 7614</span> </div>
<div class="line"><a id="l07615" name="l07615"></a><span class="lineno"> 7615</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() ) {</div>
<div class="line"><a id="l07616" name="l07616"></a><span class="lineno"> 7616</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;is a gunmod and cannot be modded&quot;</span> ) );</div>
<div class="line"><a id="l07617" name="l07617"></a><span class="lineno"> 7617</span> </div>
<div class="line"><a id="l07618" name="l07618"></a><span class="lineno"> 7618</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a26ffce6c038cc9d398103dcd296275bd">gunmod_find</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.typeId() ) ) {</div>
<div class="line"><a id="l07619" name="l07619"></a><span class="lineno"> 7619</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;already has a %s&quot;</span> ), <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.tname( 1 ) );</div>
<div class="line"><a id="l07620" name="l07620"></a><span class="lineno"> 7620</span> </div>
<div class="line"><a id="l07621" name="l07621"></a><span class="lineno"> 7621</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a727917284cddff4dbf0113d1329fec51">get_mod_locations</a>().<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;gunmod-&gt;location ) ) {</div>
<div class="line"><a id="l07622" name="l07622"></a><span class="lineno"> 7622</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;doesn&#39;t have a slot for this mod&quot;</span> ) );</div>
<div class="line"><a id="l07623" name="l07623"></a><span class="lineno"> 7623</span> </div>
<div class="line"><a id="l07624" name="l07624"></a><span class="lineno"> 7624</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad345f0faefeda773220f01b75acb9f28">get_free_mod_locations</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;gunmod-&gt;location ) &lt;= 0 ) {</div>
<div class="line"><a id="l07625" name="l07625"></a><span class="lineno"> 7625</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;doesn&#39;t have enough room for another %s mod&quot;</span> ),</div>
<div class="line"><a id="l07626" name="l07626"></a><span class="lineno"> 7626</span>                                            <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;gunmod-&gt;location.name() );</div>
<div class="line"><a id="l07627" name="l07627"></a><span class="lineno"> 7627</span> </div>
<div class="line"><a id="l07628" name="l07628"></a><span class="lineno"> 7628</span>        <span class="comment">// TODO: Get rid of the &quot;archery&quot;-&gt;&quot;bow&quot; hack</span></div>
<div class="line"><a id="l07629" name="l07629"></a><span class="lineno"> 7629</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;gunmod-&gt;usable.count( <a class="code hl_function" href="classitem.html#ac988f5071585ba014e6f72a485c3f9cf">gun_type</a>() ) &amp;&amp;</div>
<div class="line"><a id="l07630" name="l07630"></a><span class="lineno"> 7630</span>               !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;gunmod-&gt;usable.count( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().str() ) &amp;&amp;</div>
<div class="line"><a id="l07631" name="l07631"></a><span class="lineno"> 7631</span>               !( <a class="code hl_function" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>() == <a class="code hl_variable" href="character_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a> &amp;&amp; <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;gunmod-&gt;usable.count( bow_hack_str ) &gt; 0 ) ) {</div>
<div class="line"><a id="l07632" name="l07632"></a><span class="lineno"> 7632</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;cannot have a %s&quot;</span> ), <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.tname() );</div>
<div class="line"><a id="l07633" name="l07633"></a><span class="lineno"> 7633</span> </div>
<div class="line"><a id="l07634" name="l07634"></a><span class="lineno"> 7634</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#a15d4c6dd0bd83d4205a6f043cd65fbb4">itype_hand_crossbow</a> &amp;&amp;</div>
<div class="line"><a id="l07635" name="l07635"></a><span class="lineno"> 7635</span>               !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;gunmod-&gt;usable.count( pistol_gun_type ) ) {</div>
<div class="line"><a id="l07636" name="l07636"></a><span class="lineno"> 7636</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;isn&#39;t big enough to use that mod&quot;</span> ) );</div>
<div class="line"><a id="l07637" name="l07637"></a><span class="lineno"> 7637</span> </div>
<div class="line"><a id="l07638" name="l07638"></a><span class="lineno"> 7638</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;gunmod-&gt;location.str() == <span class="stringliteral">&quot;underbarrel&quot;</span> &amp;&amp;</div>
<div class="line"><a id="l07639" name="l07639"></a><span class="lineno"> 7639</span>               !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.has_flag( <a class="code hl_function" href="item_8cpp.html#ae79838b311f16f66ee947293d00ee737">flag_PUMP_RAIL_COMPATIBLE</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa982d570ab741cf3ab767c18011ea5dd">flag_PUMP_ACTION</a> ) ) {</div>
<div class="line"><a id="l07640" name="l07640"></a><span class="lineno"> 7640</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;can only accept small mods on that slot&quot;</span> ) );</div>
<div class="line"><a id="l07641" name="l07641"></a><span class="lineno"> 7641</span> </div>
<div class="line"><a id="l07642" name="l07642"></a><span class="lineno"> 7642</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;mod-&gt;acceptable_ammo.empty() ) {</div>
<div class="line"><a id="l07643" name="l07643"></a><span class="lineno"> 7643</span>        <span class="keywordtype">bool</span> compat_ammo = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07644" name="l07644"></a><span class="lineno"> 7644</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;mod-&gt;acceptable_ammo ) {</div>
<div class="line"><a id="l07645" name="l07645"></a><span class="lineno"> 7645</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>( <span class="keyword">false</span> ).<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>( at ) ) {</div>
<div class="line"><a id="l07646" name="l07646"></a><span class="lineno"> 7646</span>                compat_ammo = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07647" name="l07647"></a><span class="lineno"> 7647</span>            }</div>
<div class="line"><a id="l07648" name="l07648"></a><span class="lineno"> 7648</span>        }</div>
<div class="line"><a id="l07649" name="l07649"></a><span class="lineno"> 7649</span>        <span class="keywordflow">if</span>( !compat_ammo ) {</div>
<div class="line"><a id="l07650" name="l07650"></a><span class="lineno"> 7650</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>(</div>
<div class="line"><a id="l07651" name="l07651"></a><span class="lineno"> 7651</span>                       <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s cannot be used on item with no compatible ammo types&quot;</span> ), <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.tname( 1 ) );</div>
<div class="line"><a id="l07652" name="l07652"></a><span class="lineno"> 7652</span>        }</div>
<div class="line"><a id="l07653" name="l07653"></a><span class="lineno"> 7653</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.typeId() == <a class="code hl_variable" href="item_8cpp.html#a7630095c203f119c01b0a65a02437d76">itype_waterproof_gunmod</a> &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#abb5bd55448fe5070a6d8d78e9105bc6b">flag_WATERPROOF_GUN</a> ) ) {</div>
<div class="line"><a id="l07654" name="l07654"></a><span class="lineno"> 7654</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;is already waterproof&quot;</span> ) );</div>
<div class="line"><a id="l07655" name="l07655"></a><span class="lineno"> 7655</span> </div>
<div class="line"><a id="l07656" name="l07656"></a><span class="lineno"> 7656</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.typeId() == <a class="code hl_variable" href="item_8cpp.html#aa3482398423564904395b3f85ca0e730">itype_tuned_mechanism</a> &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab2dd3d8bd3db68ab02a94d2d26d2fc5a">flag_NEVER_JAMS</a> ) ) {</div>
<div class="line"><a id="l07657" name="l07657"></a><span class="lineno"> 7657</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;is already eminently reliable&quot;</span> ) );</div>
<div class="line"><a id="l07658" name="l07658"></a><span class="lineno"> 7658</span> </div>
<div class="line"><a id="l07659" name="l07659"></a><span class="lineno"> 7659</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.typeId() == <a class="code hl_variable" href="item_8cpp.html#a0ccb4d60ab6785e534c7eaa8ad7d07c6">itype_brass_catcher</a> &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a0c8a871546aea033cad1926fab442dbd">flag_RELOAD_EJECT</a> ) ) {</div>
<div class="line"><a id="l07660" name="l07660"></a><span class="lineno"> 7660</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;cannot have a brass catcher&quot;</span> ) );</div>
<div class="line"><a id="l07661" name="l07661"></a><span class="lineno"> 7661</span> </div>
<div class="line"><a id="l07662" name="l07662"></a><span class="lineno"> 7662</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;mod-&gt;ammo_modifier.empty() || !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;mod-&gt;magazine_adaptor.empty() )</div>
<div class="line"><a id="l07663" name="l07663"></a><span class="lineno"> 7663</span>               &amp;&amp; ( <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt; 0 || <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() ) ) {</div>
<div class="line"><a id="l07664" name="l07664"></a><span class="lineno"> 7664</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;must be unloaded before installing this mod&quot;</span> ) );</div>
<div class="line"><a id="l07665" name="l07665"></a><span class="lineno"> 7665</span>    }</div>
<div class="line"><a id="l07666" name="l07666"></a><span class="lineno"> 7666</span> </div>
<div class="line"><a id="l07667" name="l07667"></a><span class="lineno"> 7667</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classgunmod__location.html">gunmod_location</a> &amp;slot : <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;gunmod-&gt;blacklist_mod ) {</div>
<div class="line"><a id="l07668" name="l07668"></a><span class="lineno"> 7668</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a727917284cddff4dbf0113d1329fec51">get_mod_locations</a>().<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>( slot ) ) {</div>
<div class="line"><a id="l07669" name="l07669"></a><span class="lineno"> 7669</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;cannot be installed on a weapon with \&quot;%s\&quot;&quot;</span> ),</div>
<div class="line"><a id="l07670" name="l07670"></a><span class="lineno"> 7670</span>                                                slot.<a class="code hl_function" href="classgunmod__location.html#a13e673ad3b5f14c709d680fff1c63272">name</a>() );</div>
<div class="line"><a id="l07671" name="l07671"></a><span class="lineno"> 7671</span>        }</div>
<div class="line"><a id="l07672" name="l07672"></a><span class="lineno"> 7672</span>    }</div>
<div class="line"><a id="l07673" name="l07673"></a><span class="lineno"> 7673</span> </div>
<div class="line"><a id="l07674" name="l07674"></a><span class="lineno"> 7674</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val&lt;bool&gt;::make_success</a>();</div>
<div class="line"><a id="l07675" name="l07675"></a><span class="lineno"> 7675</span>}</div>
<div class="ttc" id="acharacter_8cpp_html_a2f8b66e6fc62f3d92b208655f5525bba"><div class="ttname"><a href="character_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a></div><div class="ttdeci">static const skill_id skill_archery(&quot;archery&quot;)</div></div>
<div class="ttc" id="aclassgunmod__location_html_a13e673ad3b5f14c709d680fff1c63272"><div class="ttname"><a href="classgunmod__location.html#a13e673ad3b5f14c709d680fff1c63272">gunmod_location::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdoc">Returns the translated name.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00015">itype.cpp:15</a></div></div>
<div class="ttc" id="aclassitem_html_ac988f5071585ba014e6f72a485c3f9cf"><div class="ttname"><a href="classitem.html#ac988f5071585ba014e6f72a485c3f9cf">item::gun_type</a></div><div class="ttdeci">gun_type_type gun_type() const</div><div class="ttdoc">Get the type of a ranged weapon (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07034">item.cpp:7034</a></div></div>
<div class="ttc" id="aclassret__val_html_a0bbde13713bc279563fa85782599f957"><div class="ttname"><a href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val::make_success</a></div><div class="ttdeci">static ret_val make_success(T val=default_success::value)</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00042">ret_val.h:42</a></div></div>
<div class="ttc" id="aclassret__val_html_a415798e6fd736bd724329890cae0df4a"><div class="ttname"><a href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val::make_failure</a></div><div class="ttdeci">static ret_val make_failure(T val=default_failure::value)</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00046">ret_val.h:46</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a0c8a871546aea033cad1926fab442dbd"><div class="ttname"><a href="item_8cpp.html#a0c8a871546aea033cad1926fab442dbd">flag_RELOAD_EJECT</a></div><div class="ttdeci">static const std::string flag_RELOAD_EJECT(&quot;RELOAD_EJECT&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a0ccb4d60ab6785e534c7eaa8ad7d07c6"><div class="ttname"><a href="item_8cpp.html#a0ccb4d60ab6785e534c7eaa8ad7d07c6">itype_brass_catcher</a></div><div class="ttdeci">static const itype_id itype_brass_catcher(&quot;brass_catcher&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a15d4c6dd0bd83d4205a6f043cd65fbb4"><div class="ttname"><a href="item_8cpp.html#a15d4c6dd0bd83d4205a6f043cd65fbb4">itype_hand_crossbow</a></div><div class="ttdeci">static const itype_id itype_hand_crossbow(&quot;hand_crossbow&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a7630095c203f119c01b0a65a02437d76"><div class="ttname"><a href="item_8cpp.html#a7630095c203f119c01b0a65a02437d76">itype_waterproof_gunmod</a></div><div class="ttdeci">static const itype_id itype_waterproof_gunmod(&quot;waterproof_gunmod&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa3482398423564904395b3f85ca0e730"><div class="ttname"><a href="item_8cpp.html#aa3482398423564904395b3f85ca0e730">itype_tuned_mechanism</a></div><div class="ttdeci">static const itype_id itype_tuned_mechanism(&quot;tuned_mechanism&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa982d570ab741cf3ab767c18011ea5dd"><div class="ttname"><a href="item_8cpp.html#aa982d570ab741cf3ab767c18011ea5dd">flag_PUMP_ACTION</a></div><div class="ttdeci">static const std::string flag_PUMP_ACTION(&quot;PUMP_ACTION&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ab2dd3d8bd3db68ab02a94d2d26d2fc5a"><div class="ttname"><a href="item_8cpp.html#ab2dd3d8bd3db68ab02a94d2d26d2fc5a">flag_NEVER_JAMS</a></div><div class="ttdeci">static const std::string flag_NEVER_JAMS(&quot;NEVER_JAMS&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_abb5bd55448fe5070a6d8d78e9105bc6b"><div class="ttname"><a href="item_8cpp.html#abb5bd55448fe5070a6d8d78e9105bc6b">flag_WATERPROOF_GUN</a></div><div class="ttdeci">static const std::string flag_WATERPROOF_GUN(&quot;WATERPROOF_GUN&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ae79838b311f16f66ee947293d00ee737"><div class="ttname"><a href="item_8cpp.html#ae79838b311f16f66ee947293d00ee737">flag_PUMP_RAIL_COMPATIBLE</a></div><div class="ttdeci">static const std::string flag_PUMP_RAIL_COMPATIBLE(&quot;PUMP_RAIL_COMPATIBLE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l05860">count()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp.html#ab2dd3d8bd3db68ab02a94d2d26d2fc5a">flag_NEVER_JAMS()</a>, <a class="el" href="item_8cpp.html#aa982d570ab741cf3ab767c18011ea5dd">flag_PUMP_ACTION()</a>, <a class="el" href="item_8cpp.html#ae79838b311f16f66ee947293d00ee737">flag_PUMP_RAIL_COMPATIBLE()</a>, <a class="el" href="item_8cpp.html#a0c8a871546aea033cad1926fab442dbd">flag_RELOAD_EJECT()</a>, <a class="el" href="item_8cpp.html#abb5bd55448fe5070a6d8d78e9105bc6b">flag_WATERPROOF_GUN()</a>, <a class="el" href="item_8cpp_source.html#l03985">get_free_mod_locations()</a>, <a class="el" href="item_8cpp_source.html#l03968">get_mod_locations()</a>, <a class="el" href="item_8cpp_source.html#l07026">gun_skill()</a>, <a class="el" href="item_8cpp_source.html#l07034">gun_type()</a>, <a class="el" href="item_8cpp_source.html#l07588">gunmod_find()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="item_8cpp.html#a0ccb4d60ab6785e534c7eaa8ad7d07c6">itype_brass_catcher</a>, <a class="el" href="item_8cpp.html#a15d4c6dd0bd83d4205a6f043cd65fbb4">itype_hand_crossbow</a>, <a class="el" href="item_8cpp.html#aa3482398423564904395b3f85ca0e730">itype_tuned_mechanism</a>, <a class="el" href="item_8cpp.html#a7630095c203f119c01b0a65a02437d76">itype_waterproof_gunmod</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="ret__val_8h_source.html#l00046">ret_val&lt; T &gt;::make_failure()</a>, <a class="el" href="ret__val_8h_source.html#l00042">ret_val&lt; T &gt;::make_success()</a>, <a class="el" href="itype_8cpp_source.html#l00015">gunmod_location::name()</a>, <a class="el" href="character_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a>, <a class="el" href="translations_8h_source.html#l00038">translate_marker_context</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l00918">gunmod_inventory_preset::get_denial()</a>, <a class="el" href="player_8cpp_source.html#l03519">player::gunmod_add()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l03028">activity_handlers::gunmod_add_finish()</a>.</p>

</div>
</div>
<a id="a6de81eeb1c4666a84e1d774582b945ae" name="a6de81eeb1c4666a84e1d774582b945ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6de81eeb1c4666a84e1d774582b945ae">&#9670;&nbsp;</a></span>is_holster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_holster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06427">6427</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06428" name="l06428"></a><span class="lineno"> 6428</span>{</div>
<div class="line"><a id="l06429" name="l06429"></a><span class="lineno"> 6429</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;holster&quot;</span> );</div>
<div class="line"><a id="l06430" name="l06430"></a><span class="lineno"> 6430</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l02675">Character::find_reloadables()</a>, <a class="el" href="item_8cpp_source.html#l08247">get_total_capacity()</a>, and <a class="el" href="npc_8cpp_source.html#l01148">npc::wield()</a>.</p>

</div>
</div>
<a id="a01f8af501d37d5cb4eaee8ba21270bd6" name="a01f8af501d37d5cb4eaee8ba21270bd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01f8af501d37d5cb4eaee8ba21270bd6">&#9670;&nbsp;</a></span>is_irremovable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_irremovable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06625">6625</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06626" name="l06626"></a><span class="lineno"> 6626</span>{</div>
<div class="line"><a id="l06627" name="l06627"></a><span class="lineno"> 6627</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a8f8be72ead7e105a2e5767422ec9977e">flag_IRREMOVABLE</a> );</div>
<div class="line"><a id="l06628" name="l06628"></a><span class="lineno"> 6628</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a8f8be72ead7e105a2e5767422ec9977e"><div class="ttname"><a href="item_8cpp.html#a8f8be72ead7e105a2e5767422ec9977e">flag_IRREMOVABLE</a></div><div class="ttdeci">static const std::string flag_IRREMOVABLE(&quot;IRREMOVABLE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a8f8be72ead7e105a2e5767422ec9977e">flag_IRREMOVABLE()</a>, and <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08376">allow_crafting_component()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04395">detach_gunmods_actor::can_use()</a>, <a class="el" href="character_8cpp_source.html#l02448">Character::i_add_or_drop()</a>, <a class="el" href="crafting_8cpp_source.html#l02292">remove_ammo()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04369">detach_gunmods_actor::use()</a>.</p>

</div>
</div>
<a id="adce43f2490a85e2dc212a26ce5ded4fc" name="adce43f2490a85e2dc212a26ce5ded4fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adce43f2490a85e2dc212a26ce5ded4fc">&#9670;&nbsp;</a></span>is_magazine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_magazine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06407">6407</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06408" name="l06408"></a><span class="lineno"> 6408</span>{</div>
<div class="line"><a id="l06409" name="l06409"></a><span class="lineno"> 6409</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>;</div>
<div class="line"><a id="l06410" name="l06410"></a><span class="lineno"> 6410</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08376">allow_crafting_component()</a>, <a class="el" href="item_8cpp_source.html#l07258">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07439">ammo_default()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l07489">ammo_sort_name()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="item_8cpp_source.html#l06378">get_reload_time()</a>, <a class="el" href="player_8cpp_source.html#l04154">player::has_magazine_for_ammo()</a>, <a class="el" href="item_8cpp_source.html#l06417">is_ammo_belt()</a>, <a class="el" href="item_8cpp_source.html#l06512">is_ammo_container()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00494">vehicle_part::is_battery()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00481">vehicle_part::is_fuel_store()</a>, <a class="el" href="item_8cpp_source.html#l09657">is_reloadable()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="item_8cpp_source.html#l01825">magazine_info()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="player_8cpp_source.html#l02432">player::select_ammo()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="visitable_8cpp_source.html#l00381">visit_internal()</a>, <a class="el" href="npcmove_8cpp_source.html#l01452">wants_to_reload()</a>, <a class="el" href="npcmove_8cpp_source.html#l01468">wants_to_reload_with()</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, and <a class="el" href="item_8cpp_source.html#l08572">will_explode_in_fire()</a>.</p>

</div>
</div>
<a id="aaaf3784eda060adabe524a54cc873e68" name="aaaf3784eda060adabe524a54cc873e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaf3784eda060adabe524a54cc873e68">&#9670;&nbsp;</a></span>is_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06564">6564</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06565" name="l06565"></a><span class="lineno"> 6565</span>{</div>
<div class="line"><a id="l06566" name="l06566"></a><span class="lineno"> 6566</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ad43578374fc9be1e16117405cd709f7d">get_category</a>().<a class="code hl_function" href="classitem__category.html#ab2f1d31be887d993eb4a56f202fb6d39">get_id</a>() == <a class="code hl_variable" href="item_8cpp.html#a1a31dbe3e2983e28963e706250f37cbd">itemcat_maps</a>;</div>
<div class="line"><a id="l06567" name="l06567"></a><span class="lineno"> 6567</span>}</div>
<div class="ttc" id="aclassitem__category_html_ab2f1d31be887d993eb4a56f202fb6d39"><div class="ttname"><a href="classitem__category.html#ab2f1d31be887d993eb4a56f202fb6d39">item_category::get_id</a></div><div class="ttdeci">item_category_id get_id() const</div><div class="ttdef"><b>Definition:</b> <a href="item__category_8cpp_source.html#l00080">item_category.cpp:80</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a1a31dbe3e2983e28963e706250f37cbd"><div class="ttname"><a href="item_8cpp.html#a1a31dbe3e2983e28963e706250f37cbd">itemcat_maps</a></div><div class="ttdeci">static const item_category_id itemcat_maps(&quot;maps&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l08529">get_category()</a>, <a class="el" href="item__category_8cpp_source.html#l00080">item_category::get_id()</a>, and <a class="el" href="item_8cpp.html#a1a31dbe3e2983e28963e706250f37cbd">itemcat_maps</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, and <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>.</p>

</div>
</div>
<a id="a5313b04e655bcac64517ccaaad366a90" name="a5313b04e655bcac64517ccaaad366a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5313b04e655bcac64517ccaaad366a90">&#9670;&nbsp;</a></span>is_med_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_med_container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06465">6465</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06466" name="l06466"></a><span class="lineno"> 6466</span>{</div>
<div class="line"><a id="l06467" name="l06467"></a><span class="lineno"> 6467</span>    <span class="keywordflow">return</span> !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>();</div>
<div class="line"><a id="l06468" name="l06468"></a><span class="lineno"> 6468</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, and <a class="el" href="item_8cpp_source.html#l06448">is_medication()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="aa344ad5d3082d7a56b1c902fbafb6347" name="aa344ad5d3082d7a56b1c902fbafb6347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa344ad5d3082d7a56b1c902fbafb6347">&#9670;&nbsp;</a></span>is_medication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_medication </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06448">6448</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06449" name="l06449"></a><span class="lineno"> 6449</span>{</div>
<div class="line"><a id="l06450" name="l06450"></a><span class="lineno"> 6450</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;comesttype == <span class="stringliteral">&quot;MED&quot;</span>;</div>
<div class="line"><a id="l06451" name="l06451"></a><span class="lineno"> 6451</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, and <a class="el" href="item_8cpp_source.html#l06437">is_comestible()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="character_8cpp_source.html#l07496">Character::consume_charges()</a>, <a class="el" href="player_8cpp_source.html#l01935">player::consume_med()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00806">game_menus::inv::consume_meds()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00607">comestible_inventory_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00841">activatable_inventory_preset::get_denial()</a>, <a class="el" href="npcmove_8cpp_source.html#l03684">npc::heal_self()</a>, <a class="el" href="item_8cpp_source.html#l03887">info()</a>, <a class="el" href="character_8cpp_source.html#l07318">Character::invoke_item()</a>, <a class="el" href="item_8cpp_source.html#l06465">is_med_container()</a>, <a class="el" href="player_8cpp_source.html#l03318">player::rate_action_use()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, and <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>.</p>

</div>
</div>
<a id="aa2f8dc7ce32d941473ec949d809ae328" name="aa2f8dc7ce32d941473ec949d809ae328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f8dc7ce32d941473ec949d809ae328">&#9670;&nbsp;</a></span>is_melee() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_melee </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this item an effective melee weapon for any damage type? </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8" title="Can this item be used to perform a ranged attack?">item::is_gun()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>an item can be both a gun and melee weapon concurrently </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06517">6517</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06518" name="l06518"></a><span class="lineno"> 6518</span>{</div>
<div class="line"><a id="l06519" name="l06519"></a><span class="lineno"> 6519</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> idx = <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a> + 1; idx != <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aaada32332c0245dc6e4744b66e20cd76f">NUM_DT</a>; ++idx ) {</div>
<div class="line"><a id="l06520" name="l06520"></a><span class="lineno"> 6520</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa2f8dc7ce32d941473ec949d809ae328">is_melee</a>( <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a><span class="keyword">&gt;</span>( idx ) ) ) {</div>
<div class="line"><a id="l06521" name="l06521"></a><span class="lineno"> 6521</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06522" name="l06522"></a><span class="lineno"> 6522</span>        }</div>
<div class="line"><a id="l06523" name="l06523"></a><span class="lineno"> 6523</span>    }</div>
<div class="line"><a id="l06524" name="l06524"></a><span class="lineno"> 6524</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06525" name="l06525"></a><span class="lineno"> 6525</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="damage_8h_source.html#l00021">DT_NULL</a>, <a class="el" href="item_8cpp_source.html#l06517">is_melee()</a>, and <a class="el" href="damage_8h_source.html#l00032">NUM_DT</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09793">contextualize_skill()</a>, <a class="el" href="item_8cpp_source.html#l06517">is_melee()</a>, <a class="el" href="item_8cpp_source.html#l07047">melee_skill()</a>, and <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>.</p>

</div>
</div>
<a id="afc63d995cea3dad634b29fc8b9932ea9" name="afc63d995cea3dad634b29fc8b9932ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc63d995cea3dad634b29fc8b9932ea9">&#9670;&nbsp;</a></span>is_melee() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_melee </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a>&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this item an effective melee weapon for the given damage type? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06527">6527</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06528" name="l06528"></a><span class="lineno"> 6528</span>{</div>
<div class="line"><a id="l06529" name="l06529"></a><span class="lineno"> 6529</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a>( dt ) &gt; <a class="code hl_variable" href="game__constants_8h.html#a271801f57dbbc5e91afd1fbbe0615a03">MELEE_STAT</a>;</div>
<div class="line"><a id="l06530" name="l06530"></a><span class="lineno"> 6530</span>}</div>
<div class="ttc" id="agame__constants_8h_html_a271801f57dbbc5e91afd1fbbe0615a03"><div class="ttname"><a href="game__constants_8h.html#a271801f57dbbc5e91afd1fbbe0615a03">MELEE_STAT</a></div><div class="ttdeci">static constexpr int MELEE_STAT</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00131">game_constants.h:131</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05091">damage_melee()</a>, and <a class="el" href="game__constants_8h_source.html#l00131">MELEE_STAT</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l00251">iexamine::cvdmachine()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00235">tutorial_game::post_action()</a>, and <a class="el" href="npcmove_8cpp_source.html#l03381">npc::wield_better_weapon()</a>.</p>

</div>
</div>
<a id="a72d58d172f74830b7d965a0fdfaa2c17" name="a72d58d172f74830b7d965a0fdfaa2c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72d58d172f74830b7d965a0fdfaa2c17">&#9670;&nbsp;</a></span>is_money()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_money </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05850">5850</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05851" name="l05851"></a><span class="lineno"> 5851</span>{</div>
<div class="line"><a id="l05852" name="l05852"></a><span class="lineno"> 5852</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().count( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( <span class="stringliteral">&quot;money&quot;</span> ) );</div>
<div class="line"><a id="l05853" name="l05853"></a><span class="lineno"> 5853</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00266">inventory_selector_preset::get_caption()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00095">selection_column_preset::get_caption()</a>, <a class="el" href="item_8cpp_source.html#l06996">operator&lt;()</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

</div>
</div>
<a id="aabd0667301ad29a57bb257acfd7a4470" name="aabd0667301ad29a57bb257acfd7a4470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabd0667301ad29a57bb257acfd7a4470">&#9670;&nbsp;</a></span>is_non_resealable_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_non_resealable_container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether removing this item's contents will permanently alter it. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06579">6579</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06580" name="l06580"></a><span class="lineno"> 6580</span>{</div>
<div class="line"><a id="l06581" name="l06581"></a><span class="lineno"> 6581</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp; !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;seals &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;unseals_into;</div>
<div class="line"><a id="l06582" name="l06582"></a><span class="lineno"> 6582</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01656">advanced_inventory::move_content()</a>, and <a class="el" href="item_8cpp_source.html#l04424">on_contents_changed()</a>.</p>

</div>
</div>
<a id="a4d5555082454b3cb192f59a70838c891" name="a4d5555082454b3cb192f59a70838c891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d5555082454b3cb192f59a70838c891">&#9670;&nbsp;</a></span>is_null()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_null </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00729">729</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>{</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    <span class="comment">// Actually, type should never by null at all.</span></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <span class="keywordflow">return</span> ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> == <span class="keyword">nullptr</span> || <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> == <a class="code hl_function" href="item_8cpp.html#a71c3ab2a827644e9b10142c83b59c6da">nullitem</a>() || <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() );</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="item_8cpp_source.html#l00313">nullitem()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05977">acid_resist()</a>, <a class="el" href="bionics_8cpp_source.html#l00531">Character::activate_bionic()</a>, <a class="el" href="npcmove_8cpp_source.html#l01779">npc::address_needs()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="character_8cpp_source.html#l08385">Character::apply_damage()</a>, <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="item_8cpp_source.html#l05881">bash_resist()</a>, <a class="el" href="melee_8cpp_source.html#l01530">Character::block_hit()</a>, <a class="el" href="item_8cpp_source.html#l05948">bullet_resist()</a>, <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00331">vehicle_part::can_reload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03252">repair_item_actor::can_repair_target()</a>, <a class="el" href="character_8cpp_source.html#l02898">Character::can_use()</a>, <a class="el" href="debug__menu_8cpp_source.html#l00491">debug_menu::character_edit_menu()</a>, <a class="el" href="item_8cpp_source.html#l04796">color()</a>, <a class="el" href="iuse_8cpp_source.html#l06814">colorized_feature_description_at()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="item_8cpp_source.html#l06328">conductive()</a>, <a class="el" href="player_8cpp_source.html#l02015">player::consume_item()</a>, <a class="el" href="item_8cpp_source.html#l05909">cut_resist()</a>, <a class="el" href="item_8cpp_source.html#l05091">damage_melee()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="iexamine_8cpp_source.html#l00609">anonymous_namespace{iexamine.cpp}::atm_menu::do_transfer_all_money()</a>, <a class="el" href="iexamine_8cpp_source.html#l00575">anonymous_namespace{iexamine.cpp}::atm_menu::do_withdraw_money()</a>, <a class="el" href="ballistics_8cpp_source.html#l00060">drop_or_embed_projectile()</a>, <a class="el" href="iuse_8cpp_source.html#l06954">enumerate_objects_around_point()</a>, <a class="el" href="character_8cpp_source.html#l06591">Character::extended_description()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="item_8cpp_source.html#l06011">fire_resist()</a>, <a class="el" href="inventory_8cpp_source.html#l00508">inventory::form_from_map()</a>, <a class="el" href="iexamine_8cpp_source.html#l00345">iexamine::gaspump()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00156">liquid_handler::get_liquid_target()</a>, <a class="el" href="skill_8cpp_source.html#l00344">SkillLevelMap::get_skill_level()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00227">aim_activity_actor::get_weapon()</a>, <a class="el" href="melee_8cpp_source.html#l00156">Character::handle_melee_wear()</a>, <a class="el" href="npc_8cpp_source.html#l01837">npc::has_healing_item()</a>, <a class="el" href="npcmove_8cpp_source.html#l03642">npc::heal_player()</a>, <a class="el" href="npcmove_8cpp_source.html#l03684">npc::heal_self()</a>, <a class="el" href="item_8cpp_source.html#l03887">info()</a>, <a class="el" href="npctrade_8cpp_source.html#l00148">npc_trading::init_buying()</a>, <a class="el" href="npctrade_8cpp_source.html#l00096">npc_trading::init_selling()</a>, <a class="el" href="melee_8cpp_source.html#l00145">Character::is_armed()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="item_8cpp_source.html#l01254">is_old_owner()</a>, <a class="el" href="item_8cpp_source.html#l01239">is_owned_by()</a>, <a class="el" href="item_8cpp_source.html#l06754">is_salvageable()</a>, <a class="el" href="item_8cpp_source.html#l00735">is_unarmed_weapon()</a>, <a class="el" href="character_8cpp_source.html#l03941">Character::item_encumb()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="item_8cpp_source.html#l06320">made_of()</a>, <a class="el" href="character_8cpp_source.html#l03435">Character::meets_requirements()</a>, <a class="el" href="melee_8cpp_source.html#l00390">Character::melee_attack()</a>, <a class="el" href="melee_8cpp_source.html#l00359">melee_train()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="item__location_8cpp_source.html#l00204">item_location::impl::item_on_map::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00327">item_location::impl::item_on_person::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00466">item_location::impl::item_on_vehicle::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00586">item_location::impl::item_in_container::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00217">item_location::impl::item_on_map::obtain_cost()</a>, <a class="el" href="item__location_8cpp_source.html#l00345">item_location::impl::item_on_person::obtain_cost()</a>, <a class="el" href="item__location_8cpp_source.html#l00479">item_location::impl::item_on_vehicle::obtain_cost()</a>, <a class="el" href="iuse_8cpp_source.html#l07099">photo_def_for_camera_point()</a>, <a class="el" href="handle__action_8cpp_source.html#l00390">rcdrive()</a>, <a class="el" href="player_8cpp_source.html#l01870">player::reduce_charges()</a>, <a class="el" href="item_8cpp_source.html#l06349">reinforceable()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02858">bandolier_actor::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="game_8cpp_source.html#l08929">game::reload_wielded()</a>, <a class="el" href="melee_8cpp_source.html#l00840">Character::roll_bash_damage()</a>, <a class="el" href="melee_8cpp_source.html#l00944">Character::roll_cut_damage()</a>, <a class="el" href="melee_8cpp_source.html#l01018">Character::roll_stab_damage()</a>, <a class="el" href="projectile_8cpp_source.html#l00053">projectile::set_drop()</a>, <a class="el" href="item_8cpp_source.html#l08517">set_snippet()</a>, <a class="el" href="npc_8cpp_source.html#l01662">npc::shop_restock()</a>, <a class="el" href="map_8cpp_source.html#l04156">map::spawn_items()</a>, <a class="el" href="npc_8cpp_source.html#l00586">starting_inv()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00765">player::store()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02665">holster_actor::store()</a>, <a class="el" href="suffer_8cpp_source.html#l00429">Character::suffer_from_schizophrenia()</a>, <a class="el" href="character_8cpp_source.html#l06249">Character::throw_range()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01589">salvage_actor::try_to_cut_up()</a>, <a class="el" href="melee_8cpp_source.html#l00150">Character::unarmed_attack()</a>, <a class="el" href="player_8cpp_source.html#l02530">player::unwield()</a>, <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>, <a class="el" href="npcmove_8cpp_source.html#l03721">npc::use_painkiller()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01565">salvage_actor::valid_to_cut_up()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="martialarts_8cpp_source.html#l00844">martialart::weapon_valid()</a>, <a class="el" href="player_8cpp_source.html#l02879">player::wear()</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, <a class="el" href="npc_8cpp_source.html#l01148">npc::wield()</a>, and <a class="el" href="avatar_8cpp_source.html#l01226">avatar::wield()</a>.</p>

</div>
</div>
<a id="a4d85d48a0b3ca00ee3a68db59046c7c8" name="a4d85d48a0b3ca00ee3a68db59046c7c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d85d48a0b3ca00ee3a68db59046c7c8">&#9670;&nbsp;</a></span>is_old_owner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_old_owner </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>available_to_take</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01254">1254</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>{</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ab0d353c3b6df035982eab3dc22d0b196">get_old_owner</a>().<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>        <span class="keywordflow">return</span> available_to_take;</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>    }</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_faction() ) {</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Character %s has no faction.&quot;</span>, <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.disp_name() );</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    }</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_faction()-&gt;id == <a class="code hl_function" href="classitem.html#ab0d353c3b6df035982eab3dc22d0b196">get_old_owner</a>();</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>}</div>
<div class="ttc" id="aclassitem_html_ab0d353c3b6df035982eab3dc22d0b196"><div class="ttname"><a href="classitem.html#ab0d353c3b6df035982eab3dc22d0b196">item::get_old_owner</a></div><div class="ttdeci">faction_id get_old_owner() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01290">item.cpp:1290</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01031">c</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l01290">get_old_owner()</a>, and <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>.</p>

</div>
</div>
<a id="a0b35b9066ad71987b77727af45d96059" name="a0b35b9066ad71987b77727af45d96059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b35b9066ad71987b77727af45d96059">&#9670;&nbsp;</a></span>is_owned_by()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_owned_by </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>available_to_take</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01239">1239</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>{</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    <span class="comment">// owner.is_null() implies faction_id( &quot;no_faction&quot; ) which shouldn&#39;t happen, or no owner at all.</span></div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>    <span class="comment">// either way, certain situations this means the thing is available to take.</span></div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>    <span class="comment">// in other scenarios we actually really want to check for id == id, even for no_faction</span></div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a326dae8709070c316f6859ef0704bf85">get_owner</a>().<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>        <span class="keywordflow">return</span> available_to_take;</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    }</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_faction() ) {</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Character %s has no faction&quot;</span>, <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.disp_name() );</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>    }</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_faction()-&gt;id == <a class="code hl_function" href="classitem.html#a326dae8709070c316f6859ef0704bf85">get_owner</a>();</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01031">c</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l01284">get_owner()</a>, and <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l02112">activity_on_turn_move_loot()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00764">move_items_activity_actor::do_turn()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="item_8cpp_source.html#l04364">handle_pickup_ownership()</a>, <a class="el" href="npctrade_8cpp_source.html#l00148">npc_trading::init_buying()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="pickup_8cpp_source.html#l00571">pickup::pick_up()</a>, <a class="el" href="player_8cpp_source.html#l01985">query_consume_ownership()</a>, and <a class="el" href="npc_8cpp_source.html#l01569">npc::wants_to_sell()</a>.</p>

</div>
</div>
<a id="af8be3cc1fd31607205d7170b1e2eb4fb" name="af8be3cc1fd31607205d7170b1e2eb4fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8be3cc1fd31607205d7170b1e2eb4fb">&#9670;&nbsp;</a></span>is_pet_armor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_pet_armor </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on_pet</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06548">6548</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06549" name="l06549"></a><span class="lineno"> 6549</span>{</div>
<div class="line"><a id="l06550" name="l06550"></a><span class="lineno"> 6550</span>    <span class="keywordtype">bool</span> is_worn = on_pet &amp;&amp; !<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;pet_armor&quot;</span>, <span class="stringliteral">&quot;&quot;</span> ).empty();</div>
<div class="line"><a id="l06551" name="l06551"></a><span class="lineno"> 6551</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a58bb88bb095e10da4c6226268dc259d5">flag_IS_PET_ARMOR</a> ) &amp;&amp; ( is_worn || !on_pet );</div>
<div class="line"><a id="l06552" name="l06552"></a><span class="lineno"> 6552</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a58bb88bb095e10da4c6226268dc259d5"><div class="ttname"><a href="item_8cpp.html#a58bb88bb095e10da4c6226268dc259d5">flag_IS_PET_ARMOR</a></div><div class="ttdeci">static const std::string flag_IS_PET_ARMOR(&quot;IS_PET_ARMOR&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a58bb88bb095e10da4c6226268dc259d5">flag_IS_PET_ARMOR()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, and <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02658">animal_armor_info()</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="item_8cpp_source.html#l05627">get_base_env_resist_w_filter()</a>, <a class="el" href="item_8cpp_source.html#l05613">get_env_resist()</a>, <a class="el" href="item_8cpp_source.html#l05791">get_pet_armor_bodytype()</a>, <a class="el" href="item_8cpp_source.html#l05781">get_pet_armor_max_vol()</a>, <a class="el" href="item_8cpp_source.html#l05786">get_pet_armor_min_vol()</a>, <a class="el" href="item_8cpp_source.html#l05582">get_storage()</a>, and <a class="el" href="item_8cpp_source.html#l05759">get_thickness()</a>.</p>

</div>
</div>
<a id="a82e0833373b0141aec30768dfc349bbe" name="a82e0833373b0141aec30768dfc349bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82e0833373b0141aec30768dfc349bbe">&#9670;&nbsp;</a></span>is_power_armor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_power_armor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this is a power armor item. </p>
<p >Not necessarily the main armor, it could be a helmet or similar. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05636">5636</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05637" name="l05637"></a><span class="lineno"> 5637</span>{</div>
<div class="line"><a id="l05638" name="l05638"></a><span class="lineno"> 5638</span>    <span class="keywordflow">return</span> ( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a72f30499abbdfb9d675b87d1ba004d25">flag_POWERARMOR_EXO</a> ) || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ae04e0ffbeaf9e6f5f9661f6bcf2a3ccb">flag_POWERARMOR_EXTERNAL</a> ) ||</div>
<div class="line"><a id="l05639" name="l05639"></a><span class="lineno"> 5639</span>             <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a5120c05cb3671e389c930ee23297dbaf">flag_POWERARMOR_MOD</a> ) );</div>
<div class="line"><a id="l05640" name="l05640"></a><span class="lineno"> 5640</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a5120c05cb3671e389c930ee23297dbaf"><div class="ttname"><a href="item_8cpp.html#a5120c05cb3671e389c930ee23297dbaf">flag_POWERARMOR_MOD</a></div><div class="ttdeci">static const std::string flag_POWERARMOR_MOD(&quot;POWERARMOR_MOD&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a72f30499abbdfb9d675b87d1ba004d25">flag_POWERARMOR_EXO()</a>, <a class="el" href="item_8cpp.html#ae04e0ffbeaf9e6f5f9661f6bcf2a3ccb">flag_POWERARMOR_EXTERNAL()</a>, <a class="el" href="item_8cpp.html#a5120c05cb3671e389c930ee23297dbaf">flag_POWERARMOR_MOD()</a>, and <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="character_8cpp_source.html#l07496">Character::consume_charges()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="character_8cpp_source.html#l07442">Character::has_enough_charges()</a>, <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>, <a class="el" href="item_8cpp_source.html#l07830">units_remaining()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00914">set_transform_iuse::use()</a>.</p>

</div>
</div>
<a id="a3604c56b1c776e6f127524867f0c1b7c" name="a3604c56b1c776e6f127524867f0c1b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3604c56b1c776e6f127524867f0c1b7c">&#9670;&nbsp;</a></span>is_relic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_relic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06818">6818</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06819" name="l06819"></a><span class="lineno"> 6819</span>{</div>
<div class="line"><a id="l06820" name="l06820"></a><span class="lineno"> 6820</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a>;</div>
<div class="line"><a id="l06821" name="l06821"></a><span class="lineno"> 6821</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02193">relic_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06823">get_enchantments()</a>, <a class="el" href="item_8cpp_source.html#l08920">mutations_from_wearing()</a>, <a class="el" href="item_8cpp_source.html#l08947">process_relic()</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

</div>
</div>
<a id="a84cbca948718b41241902acce542f352" name="a84cbca948718b41241902acce542f352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84cbca948718b41241902acce542f352">&#9670;&nbsp;</a></span>is_reloadable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_reloadable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is it ever possible to reload this item? Only the base item is considered with any mods ignored. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classplayer.html#a373081bc6d2cfc6c8917398f87052747" title="Whether a tool or gun is potentially reloadable (optionally considering a specific ammo)">player::can_reload()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09657">9657</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09658" name="l09658"></a><span class="lineno"> 9658</span>{</div>
<div class="line"><a id="l09659" name="l09659"></a><span class="lineno"> 9659</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">flag_NO_RELOAD</a> ) &amp;&amp; !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a08cb2ed99917b1260118f74991ece915">flag_VEHICLE</a> ) ) {</div>
<div class="line"><a id="l09660" name="l09660"></a><span class="lineno"> 9660</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// turrets ignore NO_RELOAD flag</span></div>
<div class="line"><a id="l09661" name="l09661"></a><span class="lineno"> 9661</span> </div>
<div class="line"><a id="l09662" name="l09662"></a><span class="lineno"> 9662</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a916a4a16b33de5c257fff71d9e579578">is_bandolier</a>() ) {</div>
<div class="line"><a id="l09663" name="l09663"></a><span class="lineno"> 9663</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09664" name="l09664"></a><span class="lineno"> 9664</span> </div>
<div class="line"><a id="l09665" name="l09665"></a><span class="lineno"> 9665</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ) {</div>
<div class="line"><a id="l09666" name="l09666"></a><span class="lineno"> 9666</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09667" name="l09667"></a><span class="lineno"> 9667</span> </div>
<div class="line"><a id="l09668" name="l09668"></a><span class="lineno"> 9668</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l09669" name="l09669"></a><span class="lineno"> 9669</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09670" name="l09670"></a><span class="lineno"> 9670</span> </div>
<div class="line"><a id="l09671" name="l09671"></a><span class="lineno"> 9671</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().empty() ) {</div>
<div class="line"><a id="l09672" name="l09672"></a><span class="lineno"> 9672</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09673" name="l09673"></a><span class="lineno"> 9673</span>    }</div>
<div class="line"><a id="l09674" name="l09674"></a><span class="lineno"> 9674</span> </div>
<div class="line"><a id="l09675" name="l09675"></a><span class="lineno"> 9675</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09676" name="l09676"></a><span class="lineno"> 9676</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a08cb2ed99917b1260118f74991ece915"><div class="ttname"><a href="item_8cpp.html#a08cb2ed99917b1260118f74991ece915">flag_VEHICLE</a></div><div class="ttdeci">static const std::string flag_VEHICLE(&quot;VEHICLE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">flag_NO_RELOAD()</a>, <a class="el" href="item_8cpp.html#a08cb2ed99917b1260118f74991ece915">flag_VEHICLE()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06422">is_bandolier()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, and <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="player_8cpp_source.html#l03234">player::rate_action_reload()</a>, and <a class="el" href="game_8cpp_source.html#l08929">game::reload_wielded()</a>.</p>

</div>
</div>
<a id="a3ebc64c776aa69b9bf3f64c605cc6a26" name="a3ebc64c776aa69b9bf3f64c605cc6a26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ebc64c776aa69b9bf3f64c605cc6a26">&#9670;&nbsp;</a></span>is_reloadable_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_reloadable_helper </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>ammo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper for checking reloadability. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06721">6721</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06722" name="l06722"></a><span class="lineno"> 6722</span>{</div>
<div class="line"><a id="l06723" name="l06723"></a><span class="lineno"> 6723</span>    <span class="comment">// empty ammo is passed for listing possible ammo apparently, so it needs to return true.</span></div>
<div class="line"><a id="l06724" name="l06724"></a><span class="lineno"> 6724</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a84cbca948718b41241902acce542f352">is_reloadable</a>() ) {</div>
<div class="line"><a id="l06725" name="l06725"></a><span class="lineno"> 6725</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06726" name="l06726"></a><span class="lineno"> 6726</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>() ) {</div>
<div class="line"><a id="l06727" name="l06727"></a><span class="lineno"> 6727</span>        <span class="keywordflow">if</span>( ammo.<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a id="l06728" name="l06728"></a><span class="lineno"> 6728</span>            <span class="keywordflow">return</span> now ? !<a class="code hl_function" href="classitem.html#a900f0ca8b2a7d8f0738202c519313d0d">is_container_full</a>() : true;</div>
<div class="line"><a id="l06729" name="l06729"></a><span class="lineno"> 6729</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ammo-&gt;<a class="code hl_variable" href="structitype.html#a3d7692cff108d3b8c59ca0847d25a45c">phase</a> != <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) {</div>
<div class="line"><a id="l06730" name="l06730"></a><span class="lineno"> 6730</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06731" name="l06731"></a><span class="lineno"> 6731</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06732" name="l06732"></a><span class="lineno"> 6732</span>            <span class="keywordflow">return</span> now ? ( <a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() || <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == ammo ) : <span class="keyword">true</span>;</div>
<div class="line"><a id="l06733" name="l06733"></a><span class="lineno"> 6733</span>        }</div>
<div class="line"><a id="l06734" name="l06734"></a><span class="lineno"> 6734</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() ) {</div>
<div class="line"><a id="l06735" name="l06735"></a><span class="lineno"> 6735</span>        <span class="keywordflow">if</span>( !ammo.<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a id="l06736" name="l06736"></a><span class="lineno"> 6736</span>            <span class="keywordflow">if</span>( now &amp;&amp; <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() ) {</div>
<div class="line"><a id="l06737" name="l06737"></a><span class="lineno"> 6737</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() != ammo ) {</div>
<div class="line"><a id="l06738" name="l06738"></a><span class="lineno"> 6738</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06739" name="l06739"></a><span class="lineno"> 6739</span>                }</div>
<div class="line"><a id="l06740" name="l06740"></a><span class="lineno"> 6740</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06741" name="l06741"></a><span class="lineno"> 6741</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *at = &amp;*ammo;</div>
<div class="line"><a id="l06742" name="l06742"></a><span class="lineno"> 6742</span>                <span class="keywordflow">if</span>( ( !at-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> || !<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>( at-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;type ) ) &amp;&amp;</div>
<div class="line"><a id="l06743" name="l06743"></a><span class="lineno"> 6743</span>                    !<a class="code hl_function" href="classitem.html#a3ebcbfa7afc85cc501d72f52d09e9984">magazine_compatible</a>().count( ammo ) ) {</div>
<div class="line"><a id="l06744" name="l06744"></a><span class="lineno"> 6744</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06745" name="l06745"></a><span class="lineno"> 6745</span>                }</div>
<div class="line"><a id="l06746" name="l06746"></a><span class="lineno"> 6746</span>            }</div>
<div class="line"><a id="l06747" name="l06747"></a><span class="lineno"> 6747</span>        }</div>
<div class="line"><a id="l06748" name="l06748"></a><span class="lineno"> 6748</span>        <span class="keywordflow">return</span> now ? ( <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &lt; <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() ) : <span class="keyword">true</span>;</div>
<div class="line"><a id="l06749" name="l06749"></a><span class="lineno"> 6749</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06750" name="l06750"></a><span class="lineno"> 6750</span>        <span class="keywordflow">return</span> ammo.<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ? true : <a class="code hl_function" href="classitem.html#a3ebcbfa7afc85cc501d72f52d09e9984">magazine_compatible</a>().count( ammo );</div>
<div class="line"><a id="l06751" name="l06751"></a><span class="lineno"> 6751</span>    }</div>
<div class="line"><a id="l06752" name="l06752"></a><span class="lineno"> 6752</span>}</div>
<div class="ttc" id="aclassitem_html_a84cbca948718b41241902acce542f352"><div class="ttname"><a href="classitem.html#a84cbca948718b41241902acce542f352">item::is_reloadable</a></div><div class="ttdeci">bool is_reloadable() const</div><div class="ttdoc">Is it ever possible to reload this item? Only the base item is considered with any mods ignored.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09657">item.cpp:9657</a></div></div>
<div class="ttc" id="aclassitem_html_a900f0ca8b2a7d8f0738202c519313d0d"><div class="ttname"><a href="classitem.html#a900f0ca8b2a7d8f0738202c519313d0d">item::is_container_full</a></div><div class="ttdeci">bool is_container_full(bool allow_bucket=false) const</div><div class="ttdoc">Whether this item has no more free capacity for its current content.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06692">item.cpp:6692</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07402">ammo_current()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8cpp_source.html#l05860">count()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l06687">is_container_empty()</a>, <a class="el" href="item_8cpp_source.html#l06692">is_container_full()</a>, <a class="el" href="string__id_8h_source.html#l00298">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="item_8cpp_source.html#l09657">is_reloadable()</a>, <a class="el" href="item_8cpp_source.html#l06574">is_watertight_container()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l07539">magazine_compatible()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="itype_8h_source.html#l00942">itype::phase</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06711">can_reload_with()</a>, and <a class="el" href="item_8cpp_source.html#l06716">is_reloadable_with()</a>.</p>

</div>
</div>
<a id="a16d564fa461f2ef8547f137847dbb124" name="a16d564fa461f2ef8547f137847dbb124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d564fa461f2ef8547f137847dbb124">&#9670;&nbsp;</a></span>is_reloadable_with()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_reloadable_with </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>ammo</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if this item can be reloaded with specified ammo type at this moment. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06716">6716</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06717" name="l06717"></a><span class="lineno"> 6717</span>{</div>
<div class="line"><a id="l06718" name="l06718"></a><span class="lineno"> 6718</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a3ebc64c776aa69b9bf3f64c605cc6a26">is_reloadable_helper</a>( ammo, <span class="keyword">true</span> );</div>
<div class="line"><a id="l06719" name="l06719"></a><span class="lineno"> 6719</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02649">player::can_reload()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00331">vehicle_part::can_reload()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, and <a class="el" href="item_8cpp_source.html#l07949">reload()</a>.</p>

</div>
</div>
<a id="a0ba159e96a423dda4e44f4c2025affcb" name="a0ba159e96a423dda4e44f4c2025affcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ba159e96a423dda4e44f4c2025affcb">&#9670;&nbsp;</a></span>is_salvageable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_salvageable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06754">6754</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06755" name="l06755"></a><span class="lineno"> 6755</span>{</div>
<div class="line"><a id="l06756" name="l06756"></a><span class="lineno"> 6756</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l06757" name="l06757"></a><span class="lineno"> 6757</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06758" name="l06758"></a><span class="lineno"> 6758</span>    }</div>
<div class="line"><a id="l06759" name="l06759"></a><span class="lineno"> 6759</span>    <span class="keyword">const</span> std::vector&lt;material_id&gt; &amp;mats = <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>();</div>
<div class="line"><a id="l06760" name="l06760"></a><span class="lineno"> 6760</span>    <span class="keywordflow">if</span>( std::none_of( mats.begin(), mats.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">material_id</a> &amp; m ) {</div>
<div class="line"><a id="l06761" name="l06761"></a><span class="lineno"> 6761</span>    return m-&gt;salvaged_into().has_value();</div>
<div class="line"><a id="l06762" name="l06762"></a><span class="lineno"> 6762</span>    } ) ) {</div>
<div class="line"><a id="l06763" name="l06763"></a><span class="lineno"> 6763</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06764" name="l06764"></a><span class="lineno"> 6764</span>    }</div>
<div class="line"><a id="l06765" name="l06765"></a><span class="lineno"> 6765</span>    <span class="keywordflow">return</span> !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab4148268fa24b88ef50c5d1cfe4b5144">flag_NO_SALVAGE</a> );</div>
<div class="line"><a id="l06766" name="l06766"></a><span class="lineno"> 6766</span>}</div>
<div class="ttc" id="aitem_8cpp_html_ab4148268fa24b88ef50c5d1cfe4b5144"><div class="ttname"><a href="item_8cpp.html#ab4148268fa24b88ef50c5d1cfe4b5144">flag_NO_SALVAGE</a></div><div class="ttdeci">static const std::string flag_NO_SALVAGE(&quot;NO_SALVAGE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#ab4148268fa24b88ef50c5d1cfe4b5144">flag_NO_SALVAGE()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, and <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l01589">salvage_actor::try_to_cut_up()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l01565">salvage_actor::valid_to_cut_up()</a>.</p>

</div>
</div>
<a id="ab00eaab576446da90f829d1ceae66c98" name="ab00eaab576446da90f829d1ceae66c98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab00eaab576446da90f829d1ceae66c98">&#9670;&nbsp;</a></span>is_seed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_seed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this is actually a seed, the seed functions won't be of much use for non-seeds. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09601">9601</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09602" name="l09602"></a><span class="lineno"> 9602</span>{</div>
<div class="line"><a id="l09603" name="l09603"></a><span class="lineno"> 9603</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad55b9f82e65f57e8cfb6ecc4fc0445cb">seed</a>;</div>
<div class="line"><a id="l09604" name="l09604"></a><span class="lineno"> 9604</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00863">itype::seed</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l01273">can_do_activity_there()</a>, <a class="el" href="iexamine_8cpp_source.html#l02200">iexamine::dirtmound()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02274">farm_valid_seed()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00993">talk_function::field_plant()</a>, <a class="el" href="clzones_8cpp_source.html#l00405">plot_options::get_zone_name_suggestion()</a>, <a class="el" href="clzones_8cpp_source.html#l00283">plot_options::query_seed()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01151">vehicle::reload_seeds()</a>, and <a class="el" href="map_8cpp_source.html#l06935">map::rotten_item_spawn()</a>.</p>

</div>
</div>
<a id="a3cdf7fd097768ee3192c40e000384d56" name="a3cdf7fd097768ee3192c40e000384d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cdf7fd097768ee3192c40e000384d56">&#9670;&nbsp;</a></span>is_sided()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_sided </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if item is armor and can be worn on different sides of the body. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00799">799</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>{</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> *t = <a class="code hl_function" href="classitem.html#a97dda9dbf79f8df65ac930cb89ac9b98">find_armor_data</a>();</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    <span class="keywordflow">return</span> t ? t-&gt;<a class="code hl_variable" href="structislot__armor.html#a0da3d1bef6cc7dd66499906eadfaf57f">sided</a> : <span class="keyword">false</span>;</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, and <a class="el" href="itype_8h_source.html#l00242">islot_armor::sided</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="item_8cpp_source.html#l04283">on_takeoff()</a>, <a class="el" href="item_8cpp_source.html#l04185">on_wear()</a>, <a class="el" href="character_8cpp_source.html#l03666">Character::rate_action_change_side()</a>, and <a class="el" href="item_8cpp_source.html#l00812">set_side()</a>.</p>

</div>
</div>
<a id="ab180dbb50ec9d55570a1b1de1a2ce126" name="ab180dbb50ec9d55570a1b1de1a2ce126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab180dbb50ec9d55570a1b1de1a2ce126">&#9670;&nbsp;</a></span>is_silent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_silent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this is a (nearly) silent gun (a tiny bit of sound is allowed). </p>
<p >Non-guns are always silent. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06392">6392</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06393" name="l06393"></a><span class="lineno"> 6393</span>{</div>
<div class="line"><a id="l06394" name="l06394"></a><span class="lineno"> 6394</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a3694c5d9138956736af2444bd7b3972e">gun_noise</a>().<a class="code hl_variable" href="structitem_1_1sound__data.html#aa2fb844ce506ca62f0c5d1d549f54826">volume</a> &lt; 5;</div>
<div class="line"><a id="l06395" name="l06395"></a><span class="lineno"> 6395</span>}</div>
<div class="ttc" id="aclassitem_html_a3694c5d9138956736af2444bd7b3972e"><div class="ttname"><a href="classitem.html#a3694c5d9138956736af2444bd7b3972e">item::gun_noise</a></div><div class="ttdeci">sound_data gun_noise(bool burst=false) const</div><div class="ttdoc">Returns the sound of the gun being fired.</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01776">ranged.cpp:1776</a></div></div>
<div class="ttc" id="astructitem_1_1sound__data_html_aa2fb844ce506ca62f0c5d1d549f54826"><div class="ttname"><a href="structitem_1_1sound__data.html#aa2fb844ce506ca62f0c5d1d549f54826">item::sound_data::volume</a></div><div class="ttdeci">int volume</div><div class="ttdoc">Volume of the sound.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l01845">item.h:1845</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ranged_8cpp_source.html#l01776">gun_noise()</a>, and <a class="el" href="item_8h_source.html#l01845">item::sound_data::volume</a>.</p>

<p class="reference">Referenced by <a class="el" href="bionics_8cpp_source.html#l00463">npc::check_or_use_weapon_cbm()</a>.</p>

</div>
</div>
<a id="a481f77e8382794e7b913571ccc109778" name="a481f77e8382794e7b913571ccc109778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a481f77e8382794e7b913571ccc109778">&#9670;&nbsp;</a></span>is_soft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_soft </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this item flexible enough to be worn on body parts like antlers? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09649">9649</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09650" name="l09650"></a><span class="lineno"> 9650</span>{</div>
<div class="line"><a id="l09651" name="l09651"></a><span class="lineno"> 9651</span>    <span class="keyword">const</span> std::vector&lt;material_id&gt; mats = <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>();</div>
<div class="line"><a id="l09652" name="l09652"></a><span class="lineno"> 9652</span>    <span class="keywordflow">return</span> std::any_of( mats.begin(), mats.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">material_id</a> &amp; mid ) {</div>
<div class="line"><a id="l09653" name="l09653"></a><span class="lineno"> 9653</span>        return mid.obj().soft();</div>
<div class="line"><a id="l09654" name="l09654"></a><span class="lineno"> 9654</span>    } );</div>
<div class="line"><a id="l09655" name="l09655"></a><span class="lineno"> 9655</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mutation_8cpp_source.html#l00220">mutation_branch::conflicts_with_item()</a>, and <a class="el" href="game__inventory_8cpp_source.html#l01493">game_menus::inv::multiwash()</a>.</p>

</div>
</div>
<a id="ac7fc1e9e44759c1ae2dd5ef423fc5c1b" name="ac7fc1e9e44759c1ae2dd5ef423fc5c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7fc1e9e44759c1ae2dd5ef423fc5c1b">&#9670;&nbsp;</a></span>is_tainted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_tainted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is item derived from a zombie? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09644">9644</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09645" name="l09645"></a><span class="lineno"> 9645</span>{</div>
<div class="line"><a id="l09646" name="l09646"></a><span class="lineno"> 9646</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_function" href="structmtype.html#a208b05355d08ec7d628606f18e2d53be">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a46f14a98ab50fd61103184a519a199da">MF_POISON</a> );</div>
<div class="line"><a id="l09647" name="l09647"></a><span class="lineno"> 9647</span>}</div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842a46f14a98ab50fd61103184a519a199da"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a46f14a98ab50fd61103184a519a199da">MF_POISON</a></div><div class="ttdeci">@ MF_POISON</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00080">mtype.h:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="mtype_8cpp_source.html#l00075">mtype::has_flag()</a>, and <a class="el" href="mtype_8h_source.html#l00080">MF_POISON</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>.</p>

</div>
</div>
<a id="a59a03649a0636c70e776054db688564a" name="a59a03649a0636c70e776054db688564a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59a03649a0636c70e776054db688564a">&#9670;&nbsp;</a></span>is_tool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_tool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06803">6803</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06804" name="l06804"></a><span class="lineno"> 6804</span>{</div>
<div class="line"><a id="l06805" name="l06805"></a><span class="lineno"> 6805</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>;</div>
<div class="line"><a id="l06806" name="l06806"></a><span class="lineno"> 6806</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l03627">npc::activate_item()</a>, <a class="el" href="item_8cpp_source.html#l07258">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07296">ammo_required()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l07489">ammo_sort_name()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="iuse_8cpp_source.html#l05178">iuse::artifact()</a>, <a class="el" href="visitable_8cpp_source.html#l00900">charges_of_internal()</a>, <a class="el" href="character_8cpp_source.html#l07496">Character::consume_charges()</a>, <a class="el" href="item_8cpp_source.html#l00537">deactivate()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03741">heal_actor::finish_using()</a>, <a class="el" href="item_8cpp_source.html#l05272">get_quality()</a>, <a class="el" href="item_8cpp_source.html#l08223">getlight_emit()</a>, <a class="el" href="character_8cpp_source.html#l07442">Character::has_enough_charges()</a>, <a class="el" href="character_8cpp_source.html#l09554">Character::has_item_with_flag()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="character_8cpp_source.html#l07318">Character::invoke_item()</a>, <a class="el" href="item_8cpp_source.html#l09657">is_reloadable()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00235">tutorial_game::post_action()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="game_8cpp_source.html#l11839">game::process_artifact()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="item_8cpp_source.html#l09289">process_wet()</a>, <a class="el" href="player_8cpp_source.html#l03318">player::rate_action_use()</a>, <a class="el" href="crafting_8cpp_source.html#l02292">remove_ammo()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>, <a class="el" href="iuse_8cpp_source.html#l05936">iuse::toolmod_attach()</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>, <a class="el" href="item_8cpp_source.html#l08454">use_charges()</a>, and <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>.</p>

</div>
</div>
<a id="a91fb3717957325c9800f90c58a03ba4c" name="a91fb3717957325c9800f90c58a03ba4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91fb3717957325c9800f90c58a03ba4c">&#9670;&nbsp;</a></span>is_toolmod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_toolmod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06615">6615</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06616" name="l06616"></a><span class="lineno"> 6616</span>{</div>
<div class="line"><a id="l06617" name="l06617"></a><span class="lineno"> 6617</span>    <span class="keywordflow">return</span> !<a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>;</div>
<div class="line"><a id="l06618" name="l06618"></a><span class="lineno"> 6618</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="itype_8h_source.html#l00853">itype::mod</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08376">allow_crafting_component()</a>, <a class="el" href="item__action_8cpp_source.html#l00104">item_action_generator::map_actions_to_items()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, and <a class="el" href="iuse_8cpp_source.html#l05936">iuse::toolmod_attach()</a>.</p>

</div>
</div>
<a id="a08a65f52f9de30e8f4a76e270bfc67a1" name="a08a65f52f9de30e8f4a76e270bfc67a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08a65f52f9de30e8f4a76e270bfc67a1">&#9670;&nbsp;</a></span>is_transformable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_transformable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06808">6808</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06809" name="l06809"></a><span class="lineno"> 6809</span>{</div>
<div class="line"><a id="l06810" name="l06810"></a><span class="lineno"> 6810</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.find( <span class="stringliteral">&quot;transform&quot;</span> ) != <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.end();</div>
<div class="line"><a id="l06811" name="l06811"></a><span class="lineno"> 6811</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="itype_8h_source.html#l00925">itype::use_methods</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>.</p>

</div>
</div>
<a id="af373f646c1ee172941490dc7cc04bbcd" name="af373f646c1ee172941490dc7cc04bbcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af373f646c1ee172941490dc7cc04bbcd">&#9670;&nbsp;</a></span>is_two_handed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_two_handed </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the character needs both hands to wield this item. </p>
Strength determines which weapons can be wielded with one hand 
<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06254">6254</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06255" name="l06255"></a><span class="lineno"> 6255</span>{</div>
<div class="line"><a id="l06256" name="l06256"></a><span class="lineno"> 6256</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a675f2008ae0c1cb61f88d9d0b59a1311">flag_ALWAYS_TWOHAND</a> ) ) {</div>
<div class="line"><a id="l06257" name="l06257"></a><span class="lineno"> 6257</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06258" name="l06258"></a><span class="lineno"> 6258</span>    }<span class="comment"></span></div>
<div class="line"><a id="l06259" name="l06259"></a><span class="lineno"> 6259</span><span class="comment">    ///\EFFECT_STR determines which weapons can be wielded with one hand</span></div>
<div class="line"><a id="l06260" name="l06260"></a><span class="lineno"> 6260</span><span class="comment"></span>    <span class="keywordflow">return</span> ( ( <a class="code hl_function" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>() / 113_gram ) &gt; guy.<a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a> * 4 );</div>
<div class="line"><a id="l06261" name="l06261"></a><span class="lineno"> 6261</span>}</div>
<div class="ttc" id="aclassCharacter_html_a26369a0a81eef76cfe75214d22ed32b4"><div class="ttname"><a href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">Character::str_cur</a></div><div class="ttdeci">int str_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00304">character.h:304</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a675f2008ae0c1cb61f88d9d0b59a1311"><div class="ttname"><a href="item_8cpp.html#a675f2008ae0c1cb61f88d9d0b59a1311">flag_ALWAYS_TWOHAND</a></div><div class="ttdeci">static const std::string flag_ALWAYS_TWOHAND(&quot;ALWAYS_TWOHAND&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a675f2008ae0c1cb61f88d9d0b59a1311">flag_ALWAYS_TWOHAND()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="character_8h_source.html#l00304">Character::str_cur</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="player_8cpp_source.html#l02491">player::can_wield()</a>, <a class="el" href="ranged_8cpp_source.html#l03647">ranged::gunmode_checks_common()</a>, <a class="el" href="melee_8cpp_source.html#l01852">hardcoded_mutation_attack()</a>, <a class="el" href="character_8cpp_source.html#l07553">Character::item_handling_cost()</a>, <a class="el" href="melee_8cpp_source.html#l01764">Character::melee_special_effects()</a>, and <a class="el" href="avatar__action_8cpp_source.html#l00845">avatar_action::plthrow()</a>.</p>

</div>
</div>
<a id="a4a33f186094eab687513c296a68981a0" name="a4a33f186094eab687513c296a68981a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a33f186094eab687513c296a68981a0">&#9670;&nbsp;</a></span>is_unarmed_weapon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_unarmed_weapon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00735">735</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>{</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a434816d565bbc690c9c91f01fc57fa11">flag_UNARMED_WEAPON</a> ) || <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>();</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a434816d565bbc690c9c91f01fc57fa11"><div class="ttname"><a href="item_8cpp.html#a434816d565bbc690c9c91f01fc57fa11">flag_UNARMED_WEAPON</a></div><div class="ttdeci">static const std::string flag_UNARMED_WEAPON(&quot;UNARMED_WEAPON&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a434816d565bbc690c9c91f01fc57fa11">flag_UNARMED_WEAPON()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, and <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>.</p>

<p class="reference">Referenced by <a class="el" href="melee_8cpp_source.html#l00712">Character::crit_chance()</a>, <a class="el" href="melee_8cpp_source.html#l00359">melee_train()</a>, <a class="el" href="melee_8cpp_source.html#l00840">Character::roll_bash_damage()</a>, <a class="el" href="melee_8cpp_source.html#l00944">Character::roll_cut_damage()</a>, and <a class="el" href="melee_8cpp_source.html#l01018">Character::roll_stab_damage()</a>.</p>

</div>
</div>
<a id="a47689c581570bdc5402297a2802428ed" name="a47689c581570bdc5402297a2802428ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47689c581570bdc5402297a2802428ed">&#9670;&nbsp;</a></span>is_upgrade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_upgrade </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the CBM is an upgrade to another bionic module. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09863">9863</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09864" name="l09864"></a><span class="lineno"> 9864</span>{</div>
<div class="line"><a id="l09865" name="l09865"></a><span class="lineno"> 9865</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a33aeb53774679283298d0202ae3e78ce">bionic</a> ) {</div>
<div class="line"><a id="l09866" name="l09866"></a><span class="lineno"> 9866</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09867" name="l09867"></a><span class="lineno"> 9867</span>    }</div>
<div class="line"><a id="l09868" name="l09868"></a><span class="lineno"> 9868</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a33aeb53774679283298d0202ae3e78ce">bionic</a>-&gt;is_upgrade;</div>
<div class="line"><a id="l09869" name="l09869"></a><span class="lineno"> 9869</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00861">itype::bionic</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l01788">bionic_install_preset::get_denial()</a>, and <a class="el" href="game__inventory_8cpp_source.html#l01897">bionic_install_surgeon_preset::get_denial()</a>.</p>

</div>
</div>
<a id="a22ad63b72a459c8f95893a853348cb06" name="a22ad63b72a459c8f95893a853348cb06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22ad63b72a459c8f95893a853348cb06">&#9670;&nbsp;</a></span>is_watertight_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_watertight_container </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this is a container which can be used to store liquids. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06574">6574</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06575" name="l06575"></a><span class="lineno"> 6575</span>{</div>
<div class="line"><a id="l06576" name="l06576"></a><span class="lineno"> 6576</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;watertight &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;seals;</div>
<div class="line"><a id="l06577" name="l06577"></a><span class="lineno"> 6577</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv__area_8cpp_source.html#l00222">advanced_inv_area::canputitems()</a>, <a class="el" href="player_8cpp_source.html#l02052">player::consume()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="crafting_8cpp_source.html#l00466">is_container_eligible_for_crafting()</a>, <a class="el" href="item_8cpp_source.html#l06773">is_funnel_container()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00489">vehicle_part::is_tank()</a>, <a class="el" href="player_8cpp_source.html#l02389">player::list_ammo()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>, <a class="el" href="player_8cpp_source.html#l02156">player::select_ammo()</a>, and <a class="el" href="iexamine_8cpp_source.html#l03485">iexamine::tree_maple_tapped()</a>.</p>

</div>
</div>
<a id="a3cb164c5569aa41cfda914b6f7a74cb2" name="a3cb164c5569aa41cfda914b6f7a74cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cb164c5569aa41cfda914b6f7a74cb2">&#9670;&nbsp;</a></span>is_wheel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_wheel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06605">6605</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06606" name="l06606"></a><span class="lineno"> 6606</span>{</div>
<div class="line"><a id="l06607" name="l06607"></a><span class="lineno"> 6607</span>    <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a5c286a821362f883c93b7d984ecae163">wheel</a>;</div>
<div class="line"><a id="l06608" name="l06608"></a><span class="lineno"> 6608</span>}</div>
<div class="ttc" id="astructitype_html_a5c286a821362f883c93b7d984ecae163"><div class="ttname"><a href="structitype.html#a5c286a821362f883c93b7d984ecae163">itype::wheel</a></div><div class="ttdeci">cata::value_ptr&lt; islot_wheel &gt; wheel</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00855">itype.h:855</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="itype_8h_source.html#l00855">itype::wheel</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l01273">can_do_activity_there()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8cpp_source.html#l06661">wheel_area()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00417">vehicle_part::wheel_diameter()</a>, and <a class="el" href="vehicle__part_8cpp_source.html#l00423">vehicle_part::wheel_width()</a>.</p>

</div>
</div>
<a id="a0894d963d06ccd7c7237d4b2b837956d" name="a0894d963d06ccd7c7237d4b2b837956d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0894d963d06ccd7c7237d4b2b837956d">&#9670;&nbsp;</a></span>is_worn_only_with()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_worn_only_with </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true whether this item can be worn only when. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>is worn. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00832">832</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>{</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>    <span class="keywordflow">return</span>( ( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ae04e0ffbeaf9e6f5f9661f6bcf2a3ccb">flag_POWERARMOR_EXTERNAL</a> ) || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a5120c05cb3671e389c930ee23297dbaf">flag_POWERARMOR_MOD</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>            it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a72f30499abbdfb9d675b87d1ba004d25">flag_POWERARMOR_EXO</a> ) );</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a72f30499abbdfb9d675b87d1ba004d25">flag_POWERARMOR_EXO()</a>, <a class="el" href="item_8cpp.html#ae04e0ffbeaf9e6f5f9661f6bcf2a3ccb">flag_POWERARMOR_EXTERNAL()</a>, <a class="el" href="item_8cpp.html#a5120c05cb3671e389c930ee23297dbaf">flag_POWERARMOR_MOD()</a>, and <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l02466">Character::get_dependent_worn_items()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l00452">pickup::reorder_for_dropping()</a>.</p>

</div>
</div>
<a id="a80f669ffd54eafb87ccb1e3810dca31f" name="a80f669ffd54eafb87ccb1e3810dca31f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80f669ffd54eafb87ccb1e3810dca31f">&#9670;&nbsp;</a></span>item_has_uses_recursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::item_has_uses_recursive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__action_8cpp_source.html#l00080">80</a> of file <a class="el" href="item__action_8cpp_source.html">item_action.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>{</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.empty() ) {</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    }</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a68f1cb6f2ea54bce28712e751416267d">item_has_uses_recursive</a>();</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>}</div>
<div class="ttc" id="aclassitem__contents_html_a68f1cb6f2ea54bce28712e751416267d"><div class="ttname"><a href="classitem__contents.html#a68f1cb6f2ea54bce28712e751416267d">item_contents::item_has_uses_recursive</a></div><div class="ttdeci">bool item_has_uses_recursive() const</div><div class="ttdef"><b>Definition:</b> <a href="item__action_8cpp_source.html#l00089">item_action.cpp:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__action_8cpp_source.html#l00089">item_contents::item_has_uses_recursive()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="itype_8h_source.html#l00925">itype::use_methods</a>.</p>

</div>
</div>
<a id="a87c8778dade87019e972367a594b68d8" name="a87c8778dade87019e972367a594b68d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c8778dade87019e972367a594b68d8">&#9670;&nbsp;</a></span>label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::label </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns label from "item_label" itemvar and quantity. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09779">9779</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09780" name="l09780"></a><span class="lineno"> 9780</span>{</div>
<div class="line"><a id="l09781" name="l09781"></a><span class="lineno"> 9781</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ad9aa2c661ddeda4247546528984a1d3d">has_label</a>() ) {</div>
<div class="line"><a id="l09782" name="l09782"></a><span class="lineno"> 9782</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;item_label&quot;</span> );</div>
<div class="line"><a id="l09783" name="l09783"></a><span class="lineno"> 9783</span>    }</div>
<div class="line"><a id="l09784" name="l09784"></a><span class="lineno"> 9784</span> </div>
<div class="line"><a id="l09785" name="l09785"></a><span class="lineno"> 9785</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a70359b9e831ed97023891631058595b6">type_name</a>( quantity );</div>
<div class="line"><a id="l09786" name="l09786"></a><span class="lineno"> 9786</span>}</div>
<div class="ttc" id="aclassitem_html_a70359b9e831ed97023891631058595b6"><div class="ttname"><a href="classitem.html#a70359b9e831ed97023891631058595b6">item::type_name</a></div><div class="ttdeci">std::string type_name(unsigned int quantity=1) const</div><div class="ttdoc">Name of the item type (not the item), with proper plural.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09678">item.cpp:9678</a></div></div>
<div class="ttc" id="aclassitem_html_ad9aa2c661ddeda4247546528984a1d3d"><div class="ttname"><a href="classitem.html#ad9aa2c661ddeda4247546528984a1d3d">item::has_label</a></div><div class="ttdeci">bool has_label() const</div><div class="ttdoc">Returns true if item has &quot;item_label&quot; itemvar.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09774">item.cpp:9774</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l09774">has_label()</a>, and <a class="el" href="item_8cpp_source.html#l09678">type_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="ac654c33b3e67bc06d01c5d3ee78f752c" name="ac654c33b3e67bc06d01c5d3ee78f752c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac654c33b3e67bc06d01c5d3ee78f752c">&#9670;&nbsp;</a></span>legacy_fast_forward_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::legacy_fast_forward_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09842">9842</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09843" name="l09843"></a><span class="lineno"> 9843</span>{</div>
<div class="line"><a id="l09844" name="l09844"></a><span class="lineno"> 9844</span>    <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> tmp_bday = ( <a class="code hl_variable" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a> - <a class="code hl_variable" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a> ) * 6;</div>
<div class="line"><a id="l09845" name="l09845"></a><span class="lineno"> 9845</span>    <a class="code hl_variable" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a> = <a class="code hl_variable" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a> + tmp_bday;</div>
<div class="line"><a id="l09846" name="l09846"></a><span class="lineno"> 9846</span> </div>
<div class="line"><a id="l09847" name="l09847"></a><span class="lineno"> 9847</span>    <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> *= 6;</div>
<div class="line"><a id="l09848" name="l09848"></a><span class="lineno"> 9848</span> </div>
<div class="line"><a id="l09849" name="l09849"></a><span class="lineno"> 9849</span>    <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> tmp_rot = ( <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> - <a class="code hl_variable" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a> ) * 6;</div>
<div class="line"><a id="l09850" name="l09850"></a><span class="lineno"> 9850</span>    <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> = <a class="code hl_variable" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a> + tmp_rot;</div>
<div class="line"><a id="l09851" name="l09851"></a><span class="lineno"> 9851</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02223">bday</a>, <a class="el" href="item_8h_source.html#l02221">last_rot_check</a>, <a class="el" href="item_8h_source.html#l02219">rot</a>, and <a class="el" href="calendar_8cpp_source.html#l00026">calendar::turn_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l03942">submap::load()</a>.</p>

</div>
</div>
<a id="a81798b5b03c8bf2a153f9980de316f48" name="a81798b5b03c8bf2a153f9980de316f48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81798b5b03c8bf2a153f9980de316f48">&#9670;&nbsp;</a></span>lift_strength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::lift_strength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Required strength to be able to successfully lift the item unaided by equipment. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05078">5078</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05079" name="l05079"></a><span class="lineno"> 5079</span>{</div>
<div class="line"><a id="l05080" name="l05080"></a><span class="lineno"> 5080</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_typedef" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">mass</a> = <a class="code hl_function" href="namespaceunits.html#a8306911daadc1a4d7a7b46e9786f4a4c">units::to_gram</a>( <a class="code hl_function" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>() );</div>
<div class="line"><a id="l05081" name="l05081"></a><span class="lineno"> 5081</span>    <span class="keywordflow">return</span> std::max( <a class="code hl_typedef" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">mass</a> / 10000, 1 );</div>
<div class="line"><a id="l05082" name="l05082"></a><span class="lineno"> 5082</span>}</div>
<div class="ttc" id="anamespaceunits_html_a8306911daadc1a4d7a7b46e9786f4a4c"><div class="ttname"><a href="namespaceunits.html#a8306911daadc1a4d7a7b46e9786f4a4c">units::to_gram</a></div><div class="ttdeci">constexpr value_type to_gram(const quantity&lt; value_type, mass_in_milligram_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__mass_8h_source.html#l00067">units_mass.h:67</a></div></div>
<div class="ttc" id="anamespaceunits_html_af4f3159f510e2b4372187d8fb4746e23"><div class="ttname"><a href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a></div><div class="ttdeci">quantity&lt; std::int64_t, mass_in_milligram_tag &gt; mass</div><div class="ttdef"><b>Definition:</b> <a href="units__mass_8h_source.html#l00022">units_mass.h:22</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="units__mass_8h_source.html#l00067">units::to_gram()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l01273">can_do_activity_there()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01753">veh_interact::can_remove_part()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00703">veh_interact::update_part_requirements()</a>.</p>

</div>
</div>
<a id="a4326944ae95f4d265c8ca1c76ed89a03" name="a4326944ae95f4d265c8ca1c76ed89a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4326944ae95f4d265c8ca1c76ed89a03">&#9670;&nbsp;</a></span>made_of() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; &amp; item::made_of </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The ids of all the materials this is made of. </p>
<p >This may return an empty vector. The returned vector does not contain the null id. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06263">6263</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06264" name="l06264"></a><span class="lineno"> 6264</span>{</div>
<div class="line"><a id="l06265" name="l06265"></a><span class="lineno"> 6265</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a id="l06266" name="l06266"></a><span class="lineno"> 6266</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_variable" href="structmtype.html#afd1e4788ac98f8ec3c606a8b2dd406c1">mat</a>;</div>
<div class="line"><a id="l06267" name="l06267"></a><span class="lineno"> 6267</span>    }</div>
<div class="line"><a id="l06268" name="l06268"></a><span class="lineno"> 6268</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">materials</a>;</div>
<div class="line"><a id="l06269" name="l06269"></a><span class="lineno"> 6269</span>}</div>
<div class="ttc" id="astructitype_html_a32ac824cb8437ef7a8288dafe6c6bfe1"><div class="ttname"><a href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">itype::materials</a></div><div class="ttdeci">std::vector&lt; material_id &gt; materials</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00922">itype.h:922</a></div></div>
<div class="ttc" id="astructmtype_html_afd1e4788ac98f8ec3c606a8b2dd406c1"><div class="ttname"><a href="structmtype.html#afd1e4788ac98f8ec3c606a8b2dd406c1">mtype::mat</a></div><div class="ttdeci">std::vector&lt; material_id &gt; mat</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00251">mtype.h:251</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="mtype_8h_source.html#l00251">mtype::mat</a>, <a class="el" href="itype_8h_source.html#l00922">itype::materials</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l02112">activity_on_turn_move_loot()</a>, <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, <a class="el" href="map_8cpp_source.html#l04228">map::add_item_or_charges()</a>, <a class="el" href="player_8cpp_source.html#l03026">player::add_or_drop_with_msg()</a>, <a class="el" href="iuse_8cpp_source.html#l01026">iuse::blech()</a>, <a class="el" href="iuse_8cpp_source.html#l01060">iuse::blech_because_unclean()</a>, <a class="el" href="melee_8cpp_source.html#l01530">Character::block_hit()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00331">vehicle_part::can_reload()</a>, <a class="el" href="item_8cpp_source.html#l06700">can_unload_liquid()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="player_8cpp_source.html#l02491">player::can_wield()</a>, <a class="el" href="monstergenerator_8cpp_source.html#l01201">MonsterGenerator::check_monster_definitions()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="consumption_8cpp_source.html#l00284">compute_default_effective_vitamins()</a>, <a class="el" href="item_8cpp_source.html#l06315">contents_made_of()</a>, <a class="el" href="map__field_8cpp_source.html#l00096">map::create_burnproducts()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00626">auto_pickup::rule_list::create_rule()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01638">salvage_actor::cut_up()</a>, <a class="el" href="iexamine_8cpp_source.html#l00251">iexamine::cvdmachine()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00764">move_items_activity_actor::do_turn()</a>, <a class="el" href="character_8cpp_source.html#l03179">Character::drop_invalid_inventory()</a>, <a class="el" href="crafting_8cpp_source.html#l02282">drop_or_handle()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="iexamine_8cpp_source.html#l02953">iexamine::fvat_empty()</a>, <a class="el" href="iexamine_8cpp_source.html#l03078">iexamine::fvat_full()</a>, <a class="el" href="consumption_8cpp_source.html#l01445">Character::get_acquirable_energy()</a>, <a class="el" href="item_8cpp_source.html#l06990">get_base_material()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00426">pickup_inventory_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00607">comestible_inventory_preset::get_denial()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00156">liquid_handler::get_liquid_target()</a>, <a class="el" href="item_8cpp_source.html#l06985">get_random_material()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03104">repair_item_actor::handle_components()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00398">liquid_handler::handle_liquid()</a>, <a class="el" href="character_8cpp_source.html#l02448">Character::i_add_or_drop()</a>, <a class="el" href="item_8cpp_source.html#l00843">in_container()</a>, <a class="el" href="item_8cpp_source.html#l06754">is_salvageable()</a>, <a class="el" href="item_8cpp_source.html#l09649">is_soft()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01763">inscribe_actor::item_inscription()</a>, <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>, <a class="el" href="item_8cpp_source.html#l06309">made_of()</a>, <a class="el" href="item_8cpp_source.html#l06285">made_of_any()</a>, <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>, <a class="el" href="melee_8cpp_source.html#l01764">Character::melee_special_effects()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00709">advanced_inventory::move_all_items()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01656">advanced_inventory::move_content()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00964">move_item()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="npcmove_8cpp_source.html#l03053">npc_pickup_from_stack()</a>, <a class="el" href="item_8cpp_source.html#l09819">on_drop()</a>, <a class="el" href="item_8cpp_source.html#l06297">only_made_of()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00305">liquid_handler::perform_liquid_transfer()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="monster_8cpp_source.html#l02137">monster::process_turn()</a>, <a class="el" href="monattack_8cpp_source.html#l00781">mattack::pull_metal_weapon()</a>, <a class="el" href="item_8cpp_source.html#l07889">item::reload_option::qty()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01698">advanced_inventory::query_charges()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="item_8cpp_source.html#l08069">simulate_burn()</a>, <a class="el" href="handle__action_8cpp_source.html#l00671">smash()</a>, <a class="el" href="map_8cpp_source.html#l04138">map::spawn_an_item()</a>, <a class="el" href="npc_8cpp_source.html#l00586">starting_inv()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03206">try_fuel_fire()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="character_8cpp_source.html#l09347">Character::warmth()</a>.</p>

</div>
</div>
<a id="a177de022a465a488f3eae85cdbdc62f8" name="a177de022a465a488f3eae85cdbdc62f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177de022a465a488f3eae85cdbdc62f8">&#9670;&nbsp;</a></span>made_of() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::made_of </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &amp;&#160;</td>
          <td class="paramname"><em>mat_ident</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check we are made of this material (e.g. </p>
<p >matches at least one in our set.) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06309">6309</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06310" name="l06310"></a><span class="lineno"> 6310</span>{</div>
<div class="line"><a id="l06311" name="l06311"></a><span class="lineno"> 6311</span>    <span class="keyword">const</span> std::vector&lt;material_id&gt; &amp;<a class="code hl_namespace" href="namespacematerials.html">materials</a> = <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>();</div>
<div class="line"><a id="l06312" name="l06312"></a><span class="lineno"> 6312</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( <a class="code hl_namespace" href="namespacematerials.html">materials</a>.begin(), <a class="code hl_namespace" href="namespacematerials.html">materials</a>.end(), mat_ident ) != <a class="code hl_namespace" href="namespacematerials.html">materials</a>.end();</div>
<div class="line"><a id="l06313" name="l06313"></a><span class="lineno"> 6313</span>}</div>
<div class="ttc" id="anamespacematerials_html"><div class="ttname"><a href="namespacematerials.html">materials</a></div><div class="ttdef"><b>Definition:</b> <a href="material_8h_source.html#l00122">material.h:123</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, and <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>.</p>

</div>
</div>
<a id="a62f0e67b3a5404dccf78da0f15fb18f9" name="a62f0e67b3a5404dccf78da0f15fb18f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62f0e67b3a5404dccf78da0f15fb18f9">&#9670;&nbsp;</a></span>made_of() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::made_of </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5">phase_id</a>&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Are we solid, liquid, gas, plasma? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06320">6320</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06321" name="l06321"></a><span class="lineno"> 6321</span>{</div>
<div class="line"><a id="l06322" name="l06322"></a><span class="lineno"> 6322</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l06323" name="l06323"></a><span class="lineno"> 6323</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06324" name="l06324"></a><span class="lineno"> 6324</span>    }</div>
<div class="line"><a id="l06325" name="l06325"></a><span class="lineno"> 6325</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a3d7692cff108d3b8c59ca0847d25a45c">phase</a> == phase;</div>
<div class="line"><a id="l06326" name="l06326"></a><span class="lineno"> 6326</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="itype_8h_source.html#l00942">itype::phase</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a9e2c24734b538e61e186fb6777b62c25" name="a9e2c24734b538e61e186fb6777b62c25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e2c24734b538e61e186fb6777b62c25">&#9670;&nbsp;</a></span>made_of_any()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::made_of_any </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat_idents</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check we are made of at least one of a set (e.g. </p>
<p >true if at least one item of the passed in set matches any material). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mat_idents</td><td>Set of material ids. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06285">6285</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06286" name="l06286"></a><span class="lineno"> 6286</span>{</div>
<div class="line"><a id="l06287" name="l06287"></a><span class="lineno"> 6287</span>    <span class="keyword">const</span> std::vector&lt;material_id&gt; &amp;mats = <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>();</div>
<div class="line"><a id="l06288" name="l06288"></a><span class="lineno"> 6288</span>    <span class="keywordflow">if</span>( mats.empty() ) {</div>
<div class="line"><a id="l06289" name="l06289"></a><span class="lineno"> 6289</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06290" name="l06290"></a><span class="lineno"> 6290</span>    }</div>
<div class="line"><a id="l06291" name="l06291"></a><span class="lineno"> 6291</span> </div>
<div class="line"><a id="l06292" name="l06292"></a><span class="lineno"> 6292</span>    <span class="keywordflow">return</span> std::any_of( mats.begin(), mats.end(), [&amp;mat_idents]( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">material_id</a> &amp; e ) {</div>
<div class="line"><a id="l06293" name="l06293"></a><span class="lineno"> 6293</span>        return mat_idents.count( e );</div>
<div class="line"><a id="l06294" name="l06294"></a><span class="lineno"> 6294</span>    } );</div>
<div class="line"><a id="l06295" name="l06295"></a><span class="lineno"> 6295</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>.</p>

<p class="reference">Referenced by <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01433">repair_inventory_preset::is_shown()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01763">inscribe_actor::item_inscription()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>, and <a class="el" href="character_8cpp_source.html#l06249">Character::throw_range()</a>.</p>

</div>
</div>
<a id="a75b85410499e6e47e3fd85326a8e7ce4" name="a75b85410499e6e47e3fd85326a8e7ce4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b85410499e6e47e3fd85326a8e7ce4">&#9670;&nbsp;</a></span>made_of_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; const <a class="el" href="classmaterial__type.html">material_type</a> * &gt; item::made_of_types </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Same as <a class="el" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of()</a>, but returns the <a class="el" href="classmaterial__type.html">material_type</a> directly. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06276">6276</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06277" name="l06277"></a><span class="lineno"> 6277</span>{</div>
<div class="line"><a id="l06278" name="l06278"></a><span class="lineno"> 6278</span>    std::vector&lt;const material_type *&gt; material_types_composed_of;</div>
<div class="line"><a id="l06279" name="l06279"></a><span class="lineno"> 6279</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">material_id</a> &amp;mat_id : <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>() ) {</div>
<div class="line"><a id="l06280" name="l06280"></a><span class="lineno"> 6280</span>        material_types_composed_of.push_back( &amp;mat_id.obj() );</div>
<div class="line"><a id="l06281" name="l06281"></a><span class="lineno"> 6281</span>    }</div>
<div class="line"><a id="l06282" name="l06282"></a><span class="lineno"> 6282</span>    <span class="keywordflow">return</span> material_types_composed_of;</div>
<div class="line"><a id="l06283" name="l06283"></a><span class="lineno"> 6283</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05977">acid_resist()</a>, <a class="el" href="item_8cpp_source.html#l05881">bash_resist()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l05948">bullet_resist()</a>, <a class="el" href="item_8cpp_source.html#l06042">chip_resistance()</a>, <a class="el" href="item_8cpp_source.html#l06328">conductive()</a>, <a class="el" href="item_8cpp_source.html#l05909">cut_resist()</a>, <a class="el" href="item_8cpp_source.html#l06011">fire_resist()</a>, <a class="el" href="item_8cpp_source.html#l08159">flammable()</a>, <a class="el" href="item_8cpp_source.html#l06349">reinforceable()</a>, and <a class="el" href="item_8cpp_source.html#l06630">wind_resist()</a>.</p>

</div>
</div>
<a id="a3ebcbfa7afc85cc501d72f52d09e9984" name="a3ebcbfa7afc85cc501d72f52d09e9984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ebcbfa7afc85cc501d72f52d09e9984">&#9670;&nbsp;</a></span>magazine_compatible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt; item::magazine_compatible </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>conversion</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get compatible magazines (if any) for this item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversion</td><td>whether to include the effect of any flags or mods which convert item's ammo type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>magazine compatibility which is always empty if item has integral magazine </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98" title="Does item have an integral magazine (as opposed to allowing detachable magazines)">item::magazine_integral</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07539">7539</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07540" name="l07540"></a><span class="lineno"> 7540</span>{</div>
<div class="line"><a id="l07541" name="l07541"></a><span class="lineno"> 7541</span>    std::set&lt;itype_id&gt; mags = {};</div>
<div class="line"><a id="l07542" name="l07542"></a><span class="lineno"> 7542</span>    <span class="comment">// mods that define magazine_adaptor may override the items usual magazines</span></div>
<div class="line"><a id="l07543" name="l07543"></a><span class="lineno"> 7543</span>    <span class="keyword">const</span> std::vector&lt;const item *&gt; &amp;mods = <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() : <a class="code hl_function" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a>();</div>
<div class="line"><a id="l07544" name="l07544"></a><span class="lineno"> 7544</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *m : mods ) {</div>
<div class="line"><a id="l07545" name="l07545"></a><span class="lineno"> 7545</span>        <span class="keywordflow">if</span>( !m-&gt;type-&gt;mod-&gt;magazine_adaptor.empty() ) {</div>
<div class="line"><a id="l07546" name="l07546"></a><span class="lineno"> 7546</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;atype : <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>( conversion ) ) {</div>
<div class="line"><a id="l07547" name="l07547"></a><span class="lineno"> 7547</span>                <span class="keywordflow">if</span>( m-&gt;type-&gt;mod-&gt;magazine_adaptor.count( atype ) ) {</div>
<div class="line"><a id="l07548" name="l07548"></a><span class="lineno"> 7548</span>                    std::set&lt;itype_id&gt; magazines_for_atype = m-&gt;type-&gt;mod-&gt;magazine_adaptor.find( atype )-&gt;second;</div>
<div class="line"><a id="l07549" name="l07549"></a><span class="lineno"> 7549</span>                    mags.insert( magazines_for_atype.begin(), magazines_for_atype.end() );</div>
<div class="line"><a id="l07550" name="l07550"></a><span class="lineno"> 7550</span>                }</div>
<div class="line"><a id="l07551" name="l07551"></a><span class="lineno"> 7551</span>            }</div>
<div class="line"><a id="l07552" name="l07552"></a><span class="lineno"> 7552</span>            <span class="keywordflow">return</span> mags;</div>
<div class="line"><a id="l07553" name="l07553"></a><span class="lineno"> 7553</span>        }</div>
<div class="line"><a id="l07554" name="l07554"></a><span class="lineno"> 7554</span>    }</div>
<div class="line"><a id="l07555" name="l07555"></a><span class="lineno"> 7555</span> </div>
<div class="line"><a id="l07556" name="l07556"></a><span class="lineno"> 7556</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;atype : <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>( conversion ) ) {</div>
<div class="line"><a id="l07557" name="l07557"></a><span class="lineno"> 7557</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>.count( atype ) ) {</div>
<div class="line"><a id="l07558" name="l07558"></a><span class="lineno"> 7558</span>            std::set&lt;itype_id&gt; magazines_for_atype = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>.find( atype )-&gt;second;</div>
<div class="line"><a id="l07559" name="l07559"></a><span class="lineno"> 7559</span>            mags.insert( magazines_for_atype.begin(), magazines_for_atype.end() );</div>
<div class="line"><a id="l07560" name="l07560"></a><span class="lineno"> 7560</span>        }</div>
<div class="line"><a id="l07561" name="l07561"></a><span class="lineno"> 7561</span>    }</div>
<div class="line"><a id="l07562" name="l07562"></a><span class="lineno"> 7562</span>    <span class="keywordflow">return</span> mags;</div>
<div class="line"><a id="l07563" name="l07563"></a><span class="lineno"> 7563</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="itype_8h_source.html#l01020">itype::magazines</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00623">mdeath::broken()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="character_8cpp_source.html#l02675">Character::find_reloadables()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, and <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>.</p>

</div>
</div>
<a id="ab22fc9a4e0f9c6f5569b93e00deccfac" name="ab22fc9a4e0f9c6f5569b93e00deccfac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22fc9a4e0f9c6f5569b93e00deccfac">&#9670;&nbsp;</a></span>magazine_current() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * item::magazine_current </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Currently loaded magazine (if any) </p>
<dl class="section return"><dt>Returns</dt><dd>current magazine or nullptr if either no magazine loaded or item has integral magazine </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98" title="Does item have an integral magazine (as opposed to allowing detachable magazines)">item::magazine_integral</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07565">7565</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07566" name="l07566"></a><span class="lineno"> 7566</span>{</div>
<div class="line"><a id="l07567" name="l07567"></a><span class="lineno"> 7567</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ae91f4f5f0077f34e51f8acc525fd4798">get_item_with</a>(</div>
<div class="line"><a id="l07568" name="l07568"></a><span class="lineno"> 7568</span>    []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l07569" name="l07569"></a><span class="lineno"> 7569</span>        <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>();</div>
<div class="line"><a id="l07570" name="l07570"></a><span class="lineno"> 7570</span>    } );</div>
<div class="line"><a id="l07571" name="l07571"></a><span class="lineno"> 7571</span>}</div>
<div class="ttc" id="aclassitem__contents_html_ae91f4f5f0077f34e51f8acc525fd4798"><div class="ttname"><a href="classitem__contents.html#ae91f4f5f0077f34e51f8acc525fd4798">item_contents::get_item_with</a></div><div class="ttdeci">item * get_item_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter)</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00118">item_contents.cpp:118</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00118">item_contents::get_item_with()</a>, and <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07258">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="turret_8cpp_source.html#l00224">turret_data::can_unload()</a>, <a class="el" href="item_8cpp_source.html#l07455">common_ammo_default()</a>, <a class="el" href="ranged_8cpp_source.html#l01719">cycle_action()</a>, <a class="el" href="iuse_8cpp_source.html#l07877">iuse::foodperson()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">player::gun_value()</a>, <a class="el" href="iuse_8cpp_source.html#l04466">iuse::hand_crank()</a>, <a class="el" href="player_8cpp_source.html#l04154">player::has_magazine_for_ammo()</a>, <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>, <a class="el" href="player_8cpp_source.html#l02389">player::list_ammo()</a>, <a class="el" href="item_8cpp_source.html#l07573">magazine_current()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="player_8cpp_source.html#l02432">player::select_ammo()</a>, <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>, <a class="el" href="iuse_8cpp_source.html#l05936">iuse::toolmod_attach()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="af5422fcf744eebd709c22f19cfc12ab8" name="af5422fcf744eebd709c22f19cfc12ab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5422fcf744eebd709c22f19cfc12ab8">&#9670;&nbsp;</a></span>magazine_current() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem.html">item</a> * item::magazine_current </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07573">7573</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07574" name="l07574"></a><span class="lineno"> 7574</span>{</div>
<div class="line"><a id="l07575" name="l07575"></a><span class="lineno"> 7575</span>    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="classitem.html">item</a> *<span class="keyword">&gt;</span>( this )-&gt;<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>();</div>
<div class="line"><a id="l07576" name="l07576"></a><span class="lineno"> 7576</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>.</p>

</div>
</div>
<a id="a6f710d4afc0b3c016b3e19cb294d4ded" name="a6f710d4afc0b3c016b3e19cb294d4ded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f710d4afc0b3c016b3e19cb294d4ded">&#9670;&nbsp;</a></span>magazine_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> item::magazine_default </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>conversion</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the default magazine type (if any) for the current effective ammo type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversion</td><td>whether to include the effect of any flags or mods which convert item's ammo type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>magazine type or "null" if item has integral magazine or no magazines for current ammo type </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07518">7518</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07519" name="l07519"></a><span class="lineno"> 7519</span>{</div>
<div class="line"><a id="l07520" name="l07520"></a><span class="lineno"> 7520</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>( conversion ).empty() ) {</div>
<div class="line"><a id="l07521" name="l07521"></a><span class="lineno"> 7521</span>        <span class="keywordflow">if</span>( conversion ) {</div>
<div class="line"><a id="l07522" name="l07522"></a><span class="lineno"> 7522</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *m : <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() : <a class="code hl_function" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a>() ) {</div>
<div class="line"><a id="l07523" name="l07523"></a><span class="lineno"> 7523</span>                <span class="keywordflow">if</span>( !m-&gt;type-&gt;mod-&gt;magazine_adaptor.empty() ) {</div>
<div class="line"><a id="l07524" name="l07524"></a><span class="lineno"> 7524</span>                    <span class="keyword">auto</span> mags = m-&gt;type-&gt;mod-&gt;magazine_adaptor.find( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( *<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>( conversion ).begin() ) );</div>
<div class="line"><a id="l07525" name="l07525"></a><span class="lineno"> 7525</span>                    <span class="keywordflow">if</span>( mags != m-&gt;type-&gt;mod-&gt;magazine_adaptor.end() ) {</div>
<div class="line"><a id="l07526" name="l07526"></a><span class="lineno"> 7526</span>                        <span class="keywordflow">return</span> *( mags-&gt;second.begin() );</div>
<div class="line"><a id="l07527" name="l07527"></a><span class="lineno"> 7527</span>                    }</div>
<div class="line"><a id="l07528" name="l07528"></a><span class="lineno"> 7528</span>                }</div>
<div class="line"><a id="l07529" name="l07529"></a><span class="lineno"> 7529</span>            }</div>
<div class="line"><a id="l07530" name="l07530"></a><span class="lineno"> 7530</span>        }</div>
<div class="line"><a id="l07531" name="l07531"></a><span class="lineno"> 7531</span>        <span class="keyword">auto</span> mag = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">magazine_default</a>.find( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( *<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>( conversion ).begin() ) );</div>
<div class="line"><a id="l07532" name="l07532"></a><span class="lineno"> 7532</span>        <span class="keywordflow">if</span>( mag != <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">magazine_default</a>.end() ) {</div>
<div class="line"><a id="l07533" name="l07533"></a><span class="lineno"> 7533</span>            <span class="keywordflow">return</span> mag-&gt;second;</div>
<div class="line"><a id="l07534" name="l07534"></a><span class="lineno"> 7534</span>        }</div>
<div class="line"><a id="l07535" name="l07535"></a><span class="lineno"> 7535</span>    }</div>
<div class="line"><a id="l07536" name="l07536"></a><span class="lineno"> 7536</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">itype_id::NULL_ID</a>();</div>
<div class="line"><a id="l07537" name="l07537"></a><span class="lineno"> 7537</span>}</div>
<div class="ttc" id="astructitype_html_ab5c2a0ece3b013a4088b734cd34841d6"><div class="ttname"><a href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">itype::magazine_default</a></div><div class="ttdeci">std::map&lt; ammotype, itype_id &gt; magazine_default</div><div class="ttdoc">Default magazine for each ammo type that can be used to reload this item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01023">itype.h:1023</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="itype_8h_source.html#l01023">itype::magazine_default</a>, <a class="el" href="itype_8h_source.html#l00853">itype::mod</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; itype &gt;::NULL_ID()</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07258">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="gamemode__defense_8cpp_source.html#l00857">defense_game::caravan()</a>, <a class="el" href="dump_8cpp_source.html#l00037">game::dump_stats()</a>, and <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>.</p>

</div>
</div>
<a id="a884a7ea3cc59c2ed8342e3054c07a922" name="a884a7ea3cc59c2ed8342e3054c07a922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a884a7ea3cc59c2ed8342e3054c07a922">&#9670;&nbsp;</a></span>magazine_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::magazine_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01825">1825</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>{</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">flag_NO_RELOAD</a> ) ) {</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>    }</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span> </div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf0ec68231ba718dede64697046faa4d7">iteminfo_parts::MAGAZINE_CAPACITY</a> ) ) {</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>() ) {</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>            <span class="keyword">const</span> std::string fmt = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;&lt;num&gt; round of %s&quot;</span>,</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>                                                   <span class="stringliteral">&quot;&lt;num&gt; rounds of %s&quot;</span>, <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() ),</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>                                                   at-&gt;name() );</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;MAGAZINE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Capacity: &quot;</span> ), fmt, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>,</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>                               <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() );</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>        }</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>    }</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa8e7c238014ebc7462d62e5ac9ce0f8d">iteminfo_parts::MAGAZINE_RELOAD</a> ) ) {</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;MAGAZINE&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Reload time: &quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;num&gt; moves per round&quot;</span> ),</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>                           <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16aba076bfbbc0221d2216b5f699d66b801">iteminfo::lower_is_better</a>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;reload_time );</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>    }</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>}</div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaa8e7c238014ebc7462d62e5ac9ce0f8d"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa8e7c238014ebc7462d62e5ac9ce0f8d">iteminfo_parts::MAGAZINE_RELOAD</a></div><div class="ttdeci">@ MAGAZINE_RELOAD</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaf0ec68231ba718dede64697046faa4d7"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf0ec68231ba718dede64697046faa4d7">iteminfo_parts::MAGAZINE_CAPACITY</a></div><div class="ttdeci">@ MAGAZINE_CAPACITY</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">flag_NO_RELOAD()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8h_source.html#l00145">iteminfo::lower_is_better</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf0ec68231ba718dede64697046faa4d7">MAGAZINE_CAPACITY</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaa8e7c238014ebc7462d62e5ac9ce0f8d">MAGAZINE_RELOAD</a>, <a class="el" href="item_8h_source.html#l00141">iteminfo::no_flags</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="translations_8cpp_source.html#l00036">vgettext()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="aa7e9319c5779e2e1c550158ee8a2cc98" name="aa7e9319c5779e2e1c550158ee8a2cc98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e9319c5779e2e1c550158ee8a2cc98">&#9670;&nbsp;</a></span>magazine_integral()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::magazine_integral </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does item have an integral magazine (as opposed to allowing detachable magazines) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07503">7503</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07504" name="l07504"></a><span class="lineno"> 7504</span>{</div>
<div class="line"><a id="l07505" name="l07505"></a><span class="lineno"> 7505</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;clip &gt; 0 ) {</div>
<div class="line"><a id="l07506" name="l07506"></a><span class="lineno"> 7506</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l07507" name="l07507"></a><span class="lineno"> 7507</span>    }</div>
<div class="line"><a id="l07508" name="l07508"></a><span class="lineno"> 7508</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *m : <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() : <a class="code hl_function" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a>() ) {</div>
<div class="line"><a id="l07509" name="l07509"></a><span class="lineno"> 7509</span>        <span class="keywordflow">if</span>( !m-&gt;type-&gt;mod-&gt;magazine_adaptor.empty() ) {</div>
<div class="line"><a id="l07510" name="l07510"></a><span class="lineno"> 7510</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07511" name="l07511"></a><span class="lineno"> 7511</span>        }</div>
<div class="line"><a id="l07512" name="l07512"></a><span class="lineno"> 7512</span>    }</div>
<div class="line"><a id="l07513" name="l07513"></a><span class="lineno"> 7513</span> </div>
<div class="line"><a id="l07514" name="l07514"></a><span class="lineno"> 7514</span>    <span class="comment">// We have an integral magazine if we&#39;re a gun with an ammo capacity (clip) or we have no magazines.</span></div>
<div class="line"><a id="l07515" name="l07515"></a><span class="lineno"> 7515</span>    <span class="keywordflow">return</span> ( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;clip &gt; 0 ) || <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>.empty();</div>
<div class="line"><a id="l07516" name="l07516"></a><span class="lineno"> 7516</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="itype_8h_source.html#l01020">itype::magazines</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l06497">Character::ammo_count_for()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="turret_8cpp_source.html#l00212">turret_data::can_reload()</a>, <a class="el" href="gamemode__defense_8cpp_source.html#l00857">defense_game::caravan()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="dump_8cpp_source.html#l00037">game::dump_stats()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="player_8cpp_source.html#l04154">player::has_magazine_for_ammo()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="player_8cpp_source.html#l02432">player::select_ammo()</a>, <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>, <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="a0863a9784ae90c120d91478521163f16" name="a0863a9784ae90c120d91478521163f16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0863a9784ae90c120d91478521163f16">&#9670;&nbsp;</a></span>make_component_hash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t item::make_component_hash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a hash from the itype_ids of this item's <a class="el" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08755">8755</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08756" name="l08756"></a><span class="lineno"> 8756</span>{</div>
<div class="line"><a id="l08757" name="l08757"></a><span class="lineno"> 8757</span>    <span class="comment">// First we need to sort the IDs so that identical ingredients give identical hashes.</span></div>
<div class="line"><a id="l08758" name="l08758"></a><span class="lineno"> 8758</span>    std::multiset&lt;std::string&gt; id_set;</div>
<div class="line"><a id="l08759" name="l08759"></a><span class="lineno"> 8759</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it : <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l08760" name="l08760"></a><span class="lineno"> 8760</span>        id_set.insert( it.typeId().str() );</div>
<div class="line"><a id="l08761" name="l08761"></a><span class="lineno"> 8761</span>    }</div>
<div class="line"><a id="l08762" name="l08762"></a><span class="lineno"> 8762</span> </div>
<div class="line"><a id="l08763" name="l08763"></a><span class="lineno"> 8763</span>    std::string concatenated_ids;</div>
<div class="line"><a id="l08764" name="l08764"></a><span class="lineno"> 8764</span>    <span class="keywordflow">for</span>( std::string <span class="keywordtype">id</span> : id_set ) {</div>
<div class="line"><a id="l08765" name="l08765"></a><span class="lineno"> 8765</span>        concatenated_ids += <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>;</div>
<div class="line"><a id="l08766" name="l08766"></a><span class="lineno"> 8766</span>    }</div>
<div class="line"><a id="l08767" name="l08767"></a><span class="lineno"> 8767</span> </div>
<div class="line"><a id="l08768" name="l08768"></a><span class="lineno"> 8768</span>    std::hash&lt;std::string&gt; hasher;</div>
<div class="line"><a id="l08769" name="l08769"></a><span class="lineno"> 8769</span>    <span class="keywordflow">return</span> hasher( concatenated_ids );</div>
<div class="line"><a id="l08770" name="l08770"></a><span class="lineno"> 8770</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="basecamp_8h_source.html#l00087">base_camps::id</a>, and <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8h_source.html#l00243">consumption_event::consumption_event()</a>, and <a class="el" href="consumption_8cpp_source.html#l00464">Character::fun_for()</a>.</p>

</div>
</div>
<a id="a843e57d31c5f26b3300b607446c8b860" name="a843e57d31c5f26b3300b607446c8b860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a843e57d31c5f26b3300b607446c8b860">&#9670;&nbsp;</a></span>make_corpse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> item::make_corpse </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>mt</em> = <code><a class="el" href="classstring__id.html">string_id</a>&lt;<a class="el" href="structmtype.html">mtype</a>&gt;::NULL_ID()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__point.html">time_point</a>&#160;</td>
          <td class="paramname"><em>turn</em> = <code><a class="el" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>upgrade_time</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make a corpse of the given monster type. </p>
<p >The monster type id must be valid (see <a class="el" href="classMonsterGenerator.html#ae07924726819a0714ef8cf3d55a42078">MonsterGenerator::get_all_mtypes</a>).</p>
<p >The turn parameter sets the birthday of the corpse, in other words: the turn when the monster died. Because corpses are removed from the map when they reach a certain age, one has to be careful when placing corpses with a birthday of 0. They might be removed immediately when the map is loaded without been seen by the player.</p>
<p >The name parameter can be used to give the corpse item a name. This is used instead of the monster type name ("corpse of X" instead of "corpse of bear").</p>
<p >With the default parameters it makes a human corpse, created at the current turn. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00504">504</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>{</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    <span class="keywordflow">if</span>( !mt.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;tried to make a corpse with an invalid mtype id&quot;</span> );</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    }</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span> </div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    std::string corpse_type = mt == <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">mtype_id::NULL_ID</a>() ? <span class="stringliteral">&quot;corpse_generic_human&quot;</span> : <span class="stringliteral">&quot;corpse&quot;</span>;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>( corpse_type, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> );</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.corpse = &amp;mt.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span> </div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.corpse-&gt;has_flag( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a1c04c34bfaa481269706728c7dc951a1">MF_REVIVES</a> ) ) {</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 20 ) ) {</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>            <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.set_flag( <span class="stringliteral">&quot;REVIVE_SPECIAL&quot;</span> );</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        }</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.set_var( <span class="stringliteral">&quot;upgrade_time&quot;</span>, <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( upgrade_time ) );</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    }</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span> </div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="comment">// This is unconditional because the const itemructor above sets result.name to</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <span class="comment">// &quot;human corpse&quot;.</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.corpse_name = <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>;</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_aeb989652ea2bf7fd03b07a74fd30bd7a"><div class="ttname"><a href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00327">calendar.cpp:327</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00065">rng.cpp:65</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="achievement_8cpp_source.html#l00065">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="mtype_8h_source.html#l00125">MF_REVIVES</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; mtype &gt;::NULL_ID()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="calendar_8cpp_source.html#l00327">to_string()</a>, and <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l08233">map::add_corpse()</a>, <a class="el" href="game_8cpp_source.html#l01763">game::catch_a_monster()</a>, <a class="el" href="item__group_8cpp_source.html#l00050">Single_item_creator::create_single()</a>, <a class="el" href="mapgen_8cpp_source.html#l04762">map::draw_mine()</a>, <a class="el" href="iuse_8cpp_source.html#l01793">iuse::fish_trap()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03073">basecamp::hunting_results()</a>, <a class="el" href="mondeath_8cpp_source.html#l00889">make_mon_corpse()</a>, <a class="el" href="map__extras_8cpp_source.html#l02830">MapExtras::mx_grave()</a>, <a class="el" href="map__extras_8cpp_source.html#l02535">MapExtras::mx_mayhem()</a>, <a class="el" href="map__extras_8cpp_source.html#l01066">MapExtras::mx_minefield()</a>, <a class="el" href="character_8cpp_source.html#l10094">Character::place_corpse()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03213">rod_fish()</a>, and <a class="el" href="mondeath_8cpp_source.html#l00167">mdeath::splatter()</a>.</p>

</div>
</div>
<a id="a932b2b61566d927f9c6982b563b901f0" name="a932b2b61566d927f9c6982b563b901f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a932b2b61566d927f9c6982b563b901f0">&#9670;&nbsp;</a></span>mark_as_used_by_player()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::mark_as_used_by_player </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the item as being used by this specific player, it remains unmarked for other players. </p>
<p >The player is identified by its id. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08703">8703</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08704" name="l08704"></a><span class="lineno"> 8704</span>{</div>
<div class="line"><a id="l08705" name="l08705"></a><span class="lineno"> 8705</span>    std::string &amp;used_by_ids = <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>[ <a class="code hl_function" href="item_8cpp.html#aaed94383d6a3117b0c4a53c77ee3d42e">USED_BY_IDS</a> ];</div>
<div class="line"><a id="l08706" name="l08706"></a><span class="lineno"> 8706</span>    <span class="keywordflow">if</span>( used_by_ids.empty() ) {</div>
<div class="line"><a id="l08707" name="l08707"></a><span class="lineno"> 8707</span>        <span class="comment">// *always* start with a &#39;;&#39;</span></div>
<div class="line"><a id="l08708" name="l08708"></a><span class="lineno"> 8708</span>        used_by_ids = <span class="stringliteral">&quot;;&quot;</span>;</div>
<div class="line"><a id="l08709" name="l08709"></a><span class="lineno"> 8709</span>    }</div>
<div class="line"><a id="l08710" name="l08710"></a><span class="lineno"> 8710</span>    <span class="comment">// and always end with a &#39;;&#39;</span></div>
<div class="line"><a id="l08711" name="l08711"></a><span class="lineno"> 8711</span>    used_by_ids += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%d;&quot;</span>, p.<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>().<a class="code hl_function" href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">get_value</a>() );</div>
<div class="line"><a id="l08712" name="l08712"></a><span class="lineno"> 8712</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character__id_8h_source.html#l00023">character_id::get_value()</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="item_8h_source.html#l02167">item_vars</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, and <a class="el" href="item_8cpp.html#aaed94383d6a3117b0c4a53c77ee3d42e">USED_BY_IDS()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l01339">reveal_map_actor::use()</a>.</p>

</div>
</div>
<a id="a363e1baab2db3f5613121e093baa5a13" name="a363e1baab2db3f5613121e093baa5a13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a363e1baab2db3f5613121e093baa5a13">&#9670;&nbsp;</a></span>mark_chapter_as_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::mark_chapter_as_read </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark one chapter of the book as read by the given player. </p>
<p >May do nothing if the book has no unread chapters. This is a per-character setting, see <a class="el" href="classitem.html#a496e2a01e5a06776c322d4f1c3396e66">get_remaining_chapters</a>. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06942">6942</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06943" name="l06943"></a><span class="lineno"> 6943</span>{</div>
<div class="line"><a id="l06944" name="l06944"></a><span class="lineno"> 6944</span>    <span class="keyword">const</span> std::string var = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;remaining-chapters-%d&quot;</span>, u.<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>().<a class="code hl_function" href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">get_value</a>() );</div>
<div class="line"><a id="l06945" name="l06945"></a><span class="lineno"> 6945</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>-&gt;chapters == 0 ) {</div>
<div class="line"><a id="l06946" name="l06946"></a><span class="lineno"> 6946</span>        <span class="comment">// books without chapters will always have remaining chapters == 0, so we don&#39;t need to store them</span></div>
<div class="line"><a id="l06947" name="l06947"></a><span class="lineno"> 6947</span>        <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( var );</div>
<div class="line"><a id="l06948" name="l06948"></a><span class="lineno"> 6948</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l06949" name="l06949"></a><span class="lineno"> 6949</span>    }</div>
<div class="line"><a id="l06950" name="l06950"></a><span class="lineno"> 6950</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> remain = std::max( 0, <a class="code hl_function" href="classitem.html#a496e2a01e5a06776c322d4f1c3396e66">get_remaining_chapters</a>( u ) - 1 );</div>
<div class="line"><a id="l06951" name="l06951"></a><span class="lineno"> 6951</span>    <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( var, remain );</div>
<div class="line"><a id="l06952" name="l06952"></a><span class="lineno"> 6952</span>}</div>
<div class="ttc" id="aclassitem_html_aa24fc115fb6cd1124efec30970cfcd9b"><div class="ttname"><a href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">item::erase_var</a></div><div class="ttdeci">void erase_var(const std::string &amp;name)</div><div class="ttdoc">Erase the value of the given variable.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01072">item.cpp:1072</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00852">itype::book</a>, <a class="el" href="item_8cpp_source.html#l01072">erase_var()</a>, <a class="el" href="item_8cpp_source.html#l06936">get_remaining_chapters()</a>, <a class="el" href="character__id_8h_source.html#l00023">character_id::get_value()</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="item_8cpp_source.html#l00992">set_var()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, and <a class="el" href="npc_8cpp_source.html#l00894">npc::finish_read()</a>.</p>

</div>
</div>
<a id="a216affc51dde30087c21fa5689a5c5e9" name="a216affc51dde30087c21fa5689a5c5e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a216affc51dde30087c21fa5689a5c5e9">&#9670;&nbsp;</a></span>max_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::max_damage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum amount of damage to an item (state before destroyed) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06066">6066</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06067" name="l06067"></a><span class="lineno"> 6067</span>{</div>
<div class="line"><a id="l06068" name="l06068"></a><span class="lineno"> 6068</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#aa0615d0fb9ee03b0b7350fe1f334d77b">damage_max</a>();</div>
<div class="line"><a id="l06069" name="l06069"></a><span class="lineno"> 6069</span>}</div>
<div class="ttc" id="astructitype_html_aa0615d0fb9ee03b0b7350fe1f334d77b"><div class="ttname"><a href="structitype.html#aa0615d0fb9ee03b0b7350fe1f334d77b">itype::damage_max</a></div><div class="ttdeci">int damage_max() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00894">itype.h:894</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00894">itype::damage_max()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00623">mdeath::broken()</a>, <a class="el" href="item_8cpp_source.html#l05807">can_revive()</a>, <a class="el" href="item_8cpp_source.html#l06113">damage_color()</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00164">vehicle_part::damage_percent()</a>, <a class="el" href="item_8cpp_source.html#l06142">damage_symbol()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01172">veh_interact::do_repair()</a>, <a class="el" href="item_8cpp_source.html#l06071">get_relative_health()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00159">vehicle_part::health_percent()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00134">vehicle_part::hp()</a>, <a class="el" href="monster_8cpp_source.html#l02758">monster::init_from_item()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00170">vehicle_part::is_broken()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01849">activity_handlers::make_zlave_finish()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00149">vehicle_part::max_damage()</a>, <a class="el" href="item_8cpp_source.html#l06076">mod_damage()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00540">vehicle::mod_hp()</a>, <a class="el" href="item_8cpp_source.html#l04433">on_damage()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01380">vehicle::operate_scoop()</a>, <a class="el" href="item_8cpp_source.html#l09415">process_blackpowder_fouling()</a>, <a class="el" href="item_8cpp_source.html#l08961">process_corpse()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03325">repair_item_actor::repair_chance()</a>, <a class="el" href="item_8cpp_source.html#l00711">set_damage()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00527">vehicle::set_hp()</a>, and <a class="el" href="suffer_8cpp_source.html#l00429">Character::suffer_from_schizophrenia()</a>.</p>

</div>
</div>
<a id="a3ce3a9a28569e6784c5499e3aa7f55be" name="a3ce3a9a28569e6784c5499e3aa7f55be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ce3a9a28569e6784c5499e3aa7f55be">&#9670;&nbsp;</a></span>med_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::med_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>med_item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01625">1625</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>{</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1value__ptr.html">cata::value_ptr&lt;islot_comestible&gt;</a> &amp;med_com = med_item-&gt;<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>();</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>    <span class="keywordflow">if</span>( med_com-&gt;quench != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaec54fa3e497fad749440f8970873f1b4">iteminfo_parts::MED_QUENCH</a> ) ) {</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;MED&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Quench: &quot;</span> ), med_com-&gt;quench ) );</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>    }</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span> </div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>    <span class="keywordflow">if</span>( med_item-&gt;<a class="code hl_function" href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">get_comestible_fun</a>() != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4ec8d89f01be7fffe75d3f217900512b">iteminfo_parts::MED_JOY</a> ) ) {</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;MED&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Enjoyability: &quot;</span> ),</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>                                  <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.fun_for( *med_item ).first ) );</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>    }</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span> </div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>    <span class="keywordflow">if</span>( med_com-&gt;stim != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9f3ddddbbac6b640d1777fd1b7492b6e">iteminfo_parts::MED_STIMULATION</a> ) ) {</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>        std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s &lt;stat&gt;%s&lt;/stat&gt;&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stimulation:&quot;</span> ),</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>                                          med_com-&gt;stim &gt; 0 ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Upper&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Downer&quot;</span> ) );</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;MED&quot;</span>, <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> ) );</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>    }</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span> </div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa402590280b74396031d11226881121d9">iteminfo_parts::MED_PORTIONS</a> ) ) {</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.push_back( <a class="code hl_struct" href="structiteminfo.html">iteminfo</a>( <span class="stringliteral">&quot;MED&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Portions: &quot;</span> ),</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>                                  std::abs( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( med_item-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) * batch ) ) );</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>    }</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span> </div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>    <span class="keywordflow">if</span>( med_com-&gt;addict &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa834c0f2e3ff7fd9660e7359b2b3eed9f">iteminfo_parts::DESCRIPTION_MED_ADDICTING</a> ) ) {</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* Consuming this item is &lt;bad&gt;addicting&lt;/bad&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>    }</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>}</div>
<div class="ttc" id="aclassitem_html_a66b0bbc211f6fb668781640c971d3acc"><div class="ttname"><a href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">item::get_comestible_fun</a></div><div class="ttdeci">int get_comestible_fun() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05371">item.cpp:5371</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa402590280b74396031d11226881121d9"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa402590280b74396031d11226881121d9">iteminfo_parts::MED_PORTIONS</a></div><div class="ttdeci">@ MED_PORTIONS</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa4ec8d89f01be7fffe75d3f217900512b"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4ec8d89f01be7fffe75d3f217900512b">iteminfo_parts::MED_JOY</a></div><div class="ttdeci">@ MED_JOY</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa834c0f2e3ff7fd9660e7359b2b3eed9f"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa834c0f2e3ff7fd9660e7359b2b3eed9f">iteminfo_parts::DESCRIPTION_MED_ADDICTING</a></div><div class="ttdeci">@ DESCRIPTION_MED_ADDICTING</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa9f3ddddbbac6b640d1777fd1b7492b6e"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9f3ddddbbac6b640d1777fd1b7492b6e">iteminfo_parts::MED_STIMULATION</a></div><div class="ttdeci">@ MED_STIMULATION</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaec54fa3e497fad749440f8970873f1b4"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaec54fa3e497fad749440f8970873f1b4">iteminfo_parts::MED_QUENCH</a></div><div class="ttdeci">@ MED_QUENCH</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa834c0f2e3ff7fd9660e7359b2b3eed9f">DESCRIPTION_MED_ADDICTING</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, <a class="el" href="item_8cpp_source.html#l05371">get_comestible_fun()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa4ec8d89f01be7fffe75d3f217900512b">MED_JOY</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa402590280b74396031d11226881121d9">MED_PORTIONS</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaec54fa3e497fad749440f8970873f1b4">MED_QUENCH</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa9f3ddddbbac6b640d1777fd1b7492b6e">MED_STIMULATION</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, and <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a634166a0674bcf69eb3874c7e7789344" name="a634166a0674bcf69eb3874c7e7789344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a634166a0674bcf69eb3874c7e7789344">&#9670;&nbsp;</a></span>melee_skill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> item::melee_skill </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The most relevant skill used with this melee weapon. </p>
<p >Can be "null" if this is not a weapon. Note this function returns null if the item is a gun for which you can use <a class="el" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3" title="The skill used to operate the gun.">gun_skill()</a> instead. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07047">7047</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07048" name="l07048"></a><span class="lineno"> 7048</span>{</div>
<div class="line"><a id="l07049" name="l07049"></a><span class="lineno"> 7049</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#aa2f8dc7ce32d941473ec949d809ae328">is_melee</a>() ) {</div>
<div class="line"><a id="l07050" name="l07050"></a><span class="lineno"> 7050</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">skill_id::NULL_ID</a>();</div>
<div class="line"><a id="l07051" name="l07051"></a><span class="lineno"> 7051</span>    }</div>
<div class="line"><a id="l07052" name="l07052"></a><span class="lineno"> 7052</span> </div>
<div class="line"><a id="l07053" name="l07053"></a><span class="lineno"> 7053</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a434816d565bbc690c9c91f01fc57fa11">flag_UNARMED_WEAPON</a> ) ) {</div>
<div class="line"><a id="l07054" name="l07054"></a><span class="lineno"> 7054</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="item_8cpp.html#ad22b82ceedf236ed05df55e661444c76">skill_unarmed</a>;</div>
<div class="line"><a id="l07055" name="l07055"></a><span class="lineno"> 7055</span>    }</div>
<div class="line"><a id="l07056" name="l07056"></a><span class="lineno"> 7056</span> </div>
<div class="line"><a id="l07057" name="l07057"></a><span class="lineno"> 7057</span>    <span class="keywordtype">int</span> hi = 0;</div>
<div class="line"><a id="l07058" name="l07058"></a><span class="lineno"> 7058</span>    <a class="code hl_class" href="classstring__id.html">skill_id</a> res = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">skill_id::NULL_ID</a>();</div>
<div class="line"><a id="l07059" name="l07059"></a><span class="lineno"> 7059</span> </div>
<div class="line"><a id="l07060" name="l07060"></a><span class="lineno"> 7060</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> idx = <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a> + 1; idx != <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aaada32332c0245dc6e4744b66e20cd76f">NUM_DT</a>; ++idx ) {</div>
<div class="line"><a id="l07061" name="l07061"></a><span class="lineno"> 7061</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> val = <a class="code hl_function" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a>( <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a><span class="keyword">&gt;</span>( idx ) );</div>
<div class="line"><a id="l07062" name="l07062"></a><span class="lineno"> 7062</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> &amp;sk  = <a class="code hl_function" href="damage_8cpp.html#aeeb4eb798c8c766e0962a8c726a82962">skill_by_dt</a>( <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a><span class="keyword">&gt;</span>( idx ) );</div>
<div class="line"><a id="l07063" name="l07063"></a><span class="lineno"> 7063</span>        <span class="keywordflow">if</span>( val &gt; hi &amp;&amp; sk ) {</div>
<div class="line"><a id="l07064" name="l07064"></a><span class="lineno"> 7064</span>            hi = val;</div>
<div class="line"><a id="l07065" name="l07065"></a><span class="lineno"> 7065</span>            res = sk;</div>
<div class="line"><a id="l07066" name="l07066"></a><span class="lineno"> 7066</span>        }</div>
<div class="line"><a id="l07067" name="l07067"></a><span class="lineno"> 7067</span>    }</div>
<div class="line"><a id="l07068" name="l07068"></a><span class="lineno"> 7068</span> </div>
<div class="line"><a id="l07069" name="l07069"></a><span class="lineno"> 7069</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07070" name="l07070"></a><span class="lineno"> 7070</span>}</div>
<div class="ttc" id="adamage_8cpp_html_aeeb4eb798c8c766e0962a8c726a82962"><div class="ttname"><a href="damage_8cpp.html#aeeb4eb798c8c766e0962a8c726a82962">skill_by_dt</a></div><div class="ttdeci">const skill_id &amp; skill_by_dt(damage_type dt)</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00273">damage.cpp:273</a></div></div>
<div class="ttc" id="aitem_8cpp_html_ad22b82ceedf236ed05df55e661444c76"><div class="ttname"><a href="item_8cpp.html#ad22b82ceedf236ed05df55e661444c76">skill_unarmed</a></div><div class="ttdeci">static const skill_id skill_unarmed(&quot;unarmed&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05091">damage_melee()</a>, <a class="el" href="damage_8h_source.html#l00021">DT_NULL</a>, <a class="el" href="item_8cpp.html#a434816d565bbc690c9c91f01fc57fa11">flag_UNARMED_WEAPON()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06517">is_melee()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; Skill &gt;::NULL_ID()</a>, <a class="el" href="damage_8h_source.html#l00032">NUM_DT</a>, <a class="el" href="damage_8cpp_source.html#l00273">skill_by_dt()</a>, and <a class="el" href="item_8cpp.html#ad22b82ceedf236ed05df55e661444c76">skill_unarmed</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09793">contextualize_skill()</a>, <a class="el" href="melee_8cpp_source.html#l00712">Character::crit_chance()</a>, <a class="el" href="melee_8cpp_source.html#l00274">Character::get_hit_weapon()</a>, <a class="el" href="character_8cpp_source.html#l07577">Character::item_store_cost()</a>, <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>, and <a class="el" href="player_8cpp_source.html#l04203">player::wield_contents()</a>.</p>

</div>
</div>
<a id="a2d50ee340d6b9591ef0525425967b8fc" name="a2d50ee340d6b9591ef0525425967b8fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d50ee340d6b9591ef0525425967b8fc">&#9670;&nbsp;</a></span>merge_charges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::merge_charges </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merge charges of the other item into this item. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the items have been merged, otherwise false. Merging is only done for items counted by charges (<a class="el" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>) and items that stack together (<a class="el" href="classitem.html#a31a0fa72add9cbbffc189b0eab0b34c0">stacks_with</a>). </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00968">968</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>{</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() || !<a class="code hl_function" href="classitem.html#a31a0fa72add9cbbffc189b0eab0b34c0">stacks_with</a>( rhs ) ) {</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    }</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>    <span class="comment">// Prevent overflow when either item has &quot;near infinite&quot; charges.</span></div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt;= <a class="code hl_variable" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a> / 2 || rhs.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt;= <a class="code hl_variable" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a> / 2 ) {</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = <a class="code hl_variable" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a>;</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    }</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <span class="comment">// We&#39;ll just hope that the item counter represents the same thing for both items</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> &gt; 0 || rhs.<a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> &gt; 0 ) {</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>        <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = ( <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> ) * <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> + <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span></div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>                         ( rhs.<a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> ) * rhs.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) / ( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> + rhs.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    }</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>    <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> += rhs.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8h_source.html#l02154">INFINITE_CHARGES</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle_8cpp_source.html#l05209">vehicle::add_item()</a>.</p>

</div>
</div>
<a id="a8f94ab0bb7b77ec4157ec5af2f8493b7" name="a8f94ab0bb7b77ec4157ec5af2f8493b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f94ab0bb7b77ec4157ec5af2f8493b7">&#9670;&nbsp;</a></span>min_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::min_damage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minimum amount of damage to an item (state of maximum repair) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06061">6061</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06062" name="l06062"></a><span class="lineno"> 6062</span>{</div>
<div class="line"><a id="l06063" name="l06063"></a><span class="lineno"> 6063</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a2f3c2ed05de02f597358adea3d57ef56">damage_min</a>();</div>
<div class="line"><a id="l06064" name="l06064"></a><span class="lineno"> 6064</span>}</div>
<div class="ttc" id="astructitype_html_a2f3c2ed05de02f597358adea3d57ef56"><div class="ttname"><a href="structitype.html#a2f3c2ed05de02f597358adea3d57ef56">itype::damage_min</a></div><div class="ttdeci">int damage_min() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00891">itype.h:891</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00891">itype::damage_min()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03252">repair_item_actor::can_repair_target()</a>, <a class="el" href="item_8cpp_source.html#l06113">damage_color()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03372">repair_item_actor::default_action()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="item_8cpp_source.html#l06076">mod_damage()</a>, and <a class="el" href="item_8cpp_source.html#l00711">set_damage()</a>.</p>

</div>
</div>
<a id="aeeea230778b1342bab82a2920a0c7369" name="aeeea230778b1342bab82a2920a0c7369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeea230778b1342bab82a2920a0c7369">&#9670;&nbsp;</a></span>mitigate_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::mitigate_damage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdamage__unit.html">damage_unit</a> &amp;&#160;</td>
          <td class="paramname"><em>du</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assuming that specified du hit the armor, reduce du based on the item's resistance to the damage type. </p>
<p >This will never reduce du.amount below 0. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06213">6213</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06214" name="l06214"></a><span class="lineno"> 6214</span>{</div>
<div class="line"><a id="l06215" name="l06215"></a><span class="lineno"> 6215</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structresistances.html">resistances</a> res = <a class="code hl_struct" href="structresistances.html">resistances</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l06216" name="l06216"></a><span class="lineno"> 6216</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> mitigation = res.<a class="code hl_function" href="structresistances.html#ab2707e673b2def1188ac7397012c1afb">get_effective_resist</a>( du );</div>
<div class="line"><a id="l06217" name="l06217"></a><span class="lineno"> 6217</span>    du.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> -= mitigation;</div>
<div class="line"><a id="l06218" name="l06218"></a><span class="lineno"> 6218</span>    du.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> = std::max( 0.0f, du.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> );</div>
<div class="line"><a id="l06219" name="l06219"></a><span class="lineno"> 6219</span>}</div>
<div class="ttc" id="astructresistances_html"><div class="ttname"><a href="structresistances.html">resistances</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00095">damage.h:95</a></div></div>
<div class="ttc" id="astructresistances_html_ab2707e673b2def1188ac7397012c1afb"><div class="ttname"><a href="structresistances.html#ab2707e673b2def1188ac7397012c1afb">resistances::get_effective_resist</a></div><div class="ttdeci">float get_effective_resist(const damage_unit &amp;du) const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00217">damage.cpp:217</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="damage_8h_source.html#l00037">damage_unit::amount</a>, and <a class="el" href="damage_8cpp_source.html#l00217">resistances::get_effective_resist()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08272">Character::armor_absorb()</a>.</p>

</div>
</div>
<a id="a473448af85ae4182f130bd488bf7c0fb" name="a473448af85ae4182f130bd488bf7c0fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a473448af85ae4182f130bd488bf7c0fb">&#9670;&nbsp;</a></span>mod_charges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::mod_charges </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modify the charges of this item, only use for items counted by charges! The item must have enough charges for this (&gt;= quantity) and be counted by charges. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>How many charges should be removed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09548">9548</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09549" name="l09549"></a><span class="lineno"> 9549</span>{</div>
<div class="line"><a id="l09550" name="l09550"></a><span class="lineno"> 9550</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a310539e1dbfb640f2b23796a40c881f2">has_infinite_charges</a>() ) {</div>
<div class="line"><a id="l09551" name="l09551"></a><span class="lineno"> 9551</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09552" name="l09552"></a><span class="lineno"> 9552</span>    }</div>
<div class="line"><a id="l09553" name="l09553"></a><span class="lineno"> 9553</span> </div>
<div class="line"><a id="l09554" name="l09554"></a><span class="lineno"> 9554</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l09555" name="l09555"></a><span class="lineno"> 9555</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to remove %s by charges, but item is not counted by charges.&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09556" name="l09556"></a><span class="lineno"> 9556</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> &lt; 0 &amp;&amp; <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> + <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> &lt; 0 ) {</div>
<div class="line"><a id="l09557" name="l09557"></a><span class="lineno"> 9557</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to remove charges that do not exist, removing maximum available charges instead.&quot;</span> );</div>
<div class="line"><a id="l09558" name="l09558"></a><span class="lineno"> 9558</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 0;</div>
<div class="line"><a id="l09559" name="l09559"></a><span class="lineno"> 9559</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> &gt; 0 &amp;&amp; <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt;= <a class="code hl_variable" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a> - <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) {</div>
<div class="line"><a id="l09560" name="l09560"></a><span class="lineno"> 9560</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = <a class="code hl_variable" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">INFINITE_CHARGES</a> - 1; <span class="comment">// Highly unlikely, but finite charges should not become infinite.</span></div>
<div class="line"><a id="l09561" name="l09561"></a><span class="lineno"> 9561</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09562" name="l09562"></a><span class="lineno"> 9562</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> += <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>;</div>
<div class="line"><a id="l09563" name="l09563"></a><span class="lineno"> 9563</span>    }</div>
<div class="line"><a id="l09564" name="l09564"></a><span class="lineno"> 9564</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l09788">has_infinite_charges()</a>, <a class="el" href="item_8h_source.html#l02154">INFINITE_CHARGES</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="consumption_8cpp_source.html#l00824">player::eat()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00845">avatar_action::plthrow()</a>, <a class="el" href="player_8cpp_source.html#l01870">player::reduce_charges()</a>, and <a class="el" href="npctalk_8cpp_source.html#l02045">talk_effect_fun_t::set_u_buy_item()</a>.</p>

</div>
</div>
<a id="a2db7dbf79421ad17155d6b26b56bd483" name="a2db7dbf79421ad17155d6b26b56bd483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2db7dbf79421ad17155d6b26b56bd483">&#9670;&nbsp;</a></span>mod_damage() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::mod_damage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>same as other mod_damage, but uses <a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a> as damage type. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06098">6098</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06099" name="l06099"></a><span class="lineno"> 6099</span>{</div>
<div class="line"><a id="l06100" name="l06100"></a><span class="lineno"> 6100</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a58837e07450321aa679d9f00140762bd">mod_damage</a>( qty, <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a> );</div>
<div class="line"><a id="l06101" name="l06101"></a><span class="lineno"> 6101</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="damage_8h_source.html#l00021">DT_NULL</a>, and <a class="el" href="item_8cpp_source.html#l06076">mod_damage()</a>.</p>

</div>
</div>
<a id="a58837e07450321aa679d9f00140762bd" name="a58837e07450321aa679d9f00140762bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58837e07450321aa679d9f00140762bd">&#9670;&nbsp;</a></span>mod_damage() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::mod_damage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a>&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply damage to const itemrained by <a class="el" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a> and <a class="el" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qty</td><td>maximum amount by which to adjust damage (negative permissible) </td></tr>
    <tr><td class="paramname">dt</td><td>type of damage which may be passed to <a class="el" href="classitem.html#aadbabbc9e7714db37f32b7c6f7406d8f">on_damage</a> callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether item should be destroyed </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06076">6076</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06077" name="l06077"></a><span class="lineno"> 6077</span>{</div>
<div class="line"><a id="l06078" name="l06078"></a><span class="lineno"> 6078</span>    <span class="keywordtype">bool</span> destroy = <span class="keyword">false</span>;</div>
<div class="line"><a id="l06079" name="l06079"></a><span class="lineno"> 6079</span> </div>
<div class="line"><a id="l06080" name="l06080"></a><span class="lineno"> 6080</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l06081" name="l06081"></a><span class="lineno"> 6081</span>        <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= std::min( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> * qty / <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a>, <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l06082" name="l06082"></a><span class="lineno"> 6082</span>        destroy |= <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0;</div>
<div class="line"><a id="l06083" name="l06083"></a><span class="lineno"> 6083</span>    }</div>
<div class="line"><a id="l06084" name="l06084"></a><span class="lineno"> 6084</span> </div>
<div class="line"><a id="l06085" name="l06085"></a><span class="lineno"> 6085</span>    <span class="keywordflow">if</span>( qty &gt; 0 ) {</div>
<div class="line"><a id="l06086" name="l06086"></a><span class="lineno"> 6086</span>        <a class="code hl_function" href="classitem.html#aadbabbc9e7714db37f32b7c6f7406d8f">on_damage</a>( qty, dt );</div>
<div class="line"><a id="l06087" name="l06087"></a><span class="lineno"> 6087</span>    }</div>
<div class="line"><a id="l06088" name="l06088"></a><span class="lineno"> 6088</span> </div>
<div class="line"><a id="l06089" name="l06089"></a><span class="lineno"> 6089</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l06090" name="l06090"></a><span class="lineno"> 6090</span>        destroy |= <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> + qty &gt; <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>();</div>
<div class="line"><a id="l06091" name="l06091"></a><span class="lineno"> 6091</span> </div>
<div class="line"><a id="l06092" name="l06092"></a><span class="lineno"> 6092</span>        <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> = std::max( std::min( <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> + qty, <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() ), <a class="code hl_function" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a>() );</div>
<div class="line"><a id="l06093" name="l06093"></a><span class="lineno"> 6093</span>    }</div>
<div class="line"><a id="l06094" name="l06094"></a><span class="lineno"> 6094</span> </div>
<div class="line"><a id="l06095" name="l06095"></a><span class="lineno"> 6095</span>    <span class="keywordflow">return</span> destroy;</div>
<div class="line"><a id="l06096" name="l06096"></a><span class="lineno"> 6096</span>}</div>
<div class="ttc" id="aclassitem_html_aadbabbc9e7714db37f32b7c6f7406d8f"><div class="ttname"><a href="classitem.html#aadbabbc9e7714db37f32b7c6f7406d8f">item::on_damage</a></div><div class="ttdeci">void on_damage(int qty, damage_type dt)</div><div class="ttdoc">Callback immediately before an item is damaged.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04433">item.cpp:4433</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8h_source.html#l02228">damage_</a>, <a class="el" href="itype_8h_source.html#l01008">itype::damage_scale</a>, <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>, <a class="el" href="item_8cpp_source.html#l06061">min_damage()</a>, <a class="el" href="item_8cpp_source.html#l04433">on_damage()</a>, <a class="el" href="itype_8h_source.html#l00982">itype::stack_size</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08272">Character::armor_absorb()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="item_8cpp_source.html#l06103">inc_damage()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01849">activity_handlers::make_zlave_finish()</a>, <a class="el" href="item_8cpp_source.html#l06098">mod_damage()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00540">vehicle::mod_hp()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>.</p>

</div>
</div>
<a id="a0265172cdecddf0ae112a4f4d87fdb77" name="a0265172cdecddf0ae112a4f4d87fdb77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0265172cdecddf0ae112a4f4d87fdb77">&#9670;&nbsp;</a></span>mod_energy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a> item::mod_energy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a> &amp;&#160;</td>
          <td class="paramname"><em>qty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add or remove energy from a battery. </p>
<p >If adding the specified energy quantity would go over the battery's capacity fill the battery and ignore the remainder. If adding the specified energy quantity would reduce the battery's charge level below 0 do nothing and return how far below 0 it would have gone. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qty</td><td>energy quantity to add (can be negative) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 valued energy quantity on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00569">569</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>{</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a9e0411a5010e03c8d2670fe23eb25d0f">is_battery</a>() ) {</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to set energy of non-battery item&quot;</span> );</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        <span class="keywordflow">return</span> 0_J;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    }</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span> </div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::energy</a> val = <a class="code hl_function" href="classitem.html#aabdd1a1ca453608c862ee23e53d66d59">energy_remaining</a>() + qty;</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="keywordflow">if</span>( val &lt; 0_J ) {</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        <span class="keywordflow">return</span> val;</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val &gt; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9bf7494805acc141b007ddade6a6313c">battery</a>-&gt;max_capacity ) {</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9bf7494805acc141b007ddade6a6313c">battery</a>-&gt;max_capacity;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> = val;</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    }</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>    <span class="keywordflow">return</span> 0_J;</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00860">itype::battery</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8h_source.html#l02196">energy</a>, <a class="el" href="item_8cpp_source.html#l07217">energy_remaining()</a>, <a class="el" href="item_8cpp_source.html#l06412">is_battery()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="aea0a32ea9bf813988750669f108126f3" name="aea0a32ea9bf813988750669f108126f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea0a32ea9bf813988750669f108126f3">&#9670;&nbsp;</a></span>mod_rot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void item::mod_rot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l00867">867</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>                                                 {</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>            <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> += val;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0de3b8fcf4ec846588ef3dc2b8dda2a2" name="a0de3b8fcf4ec846588ef3dc2b8dda2a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0de3b8fcf4ec846588ef3dc2b8dda2a2">&#9670;&nbsp;</a></span>mutations_from_wearing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &gt; item::mutations_from_wearing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08920">8920</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08921" name="l08921"></a><span class="lineno"> 8921</span>{</div>
<div class="line"><a id="l08922" name="l08922"></a><span class="lineno"> 8922</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a3604c56b1c776e6f127524867f0c1b7c">is_relic</a>() ) {</div>
<div class="line"><a id="l08923" name="l08923"></a><span class="lineno"> 8923</span>        <span class="keywordflow">return</span> std::vector&lt;trait_id&gt; {};</div>
<div class="line"><a id="l08924" name="l08924"></a><span class="lineno"> 8924</span>    }</div>
<div class="line"><a id="l08925" name="l08925"></a><span class="lineno"> 8925</span>    std::vector&lt;trait_id&gt; muts;</div>
<div class="line"><a id="l08926" name="l08926"></a><span class="lineno"> 8926</span> </div>
<div class="line"><a id="l08927" name="l08927"></a><span class="lineno"> 8927</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classenchantment.html">enchantment</a> &amp;ench : <a class="code hl_variable" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a>-&gt;get_enchantments() ) {</div>
<div class="line"><a id="l08928" name="l08928"></a><span class="lineno"> 8928</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;mut : ench.get_mutations() ) {</div>
<div class="line"><a id="l08929" name="l08929"></a><span class="lineno"> 8929</span>            <span class="comment">// this may not be perfectly accurate due to conditions</span></div>
<div class="line"><a id="l08930" name="l08930"></a><span class="lineno"> 8930</span>            muts.push_back( mut );</div>
<div class="line"><a id="l08931" name="l08931"></a><span class="lineno"> 8931</span>        }</div>
<div class="line"><a id="l08932" name="l08932"></a><span class="lineno"> 8932</span>    }</div>
<div class="line"><a id="l08933" name="l08933"></a><span class="lineno"> 8933</span> </div>
<div class="line"><a id="l08934" name="l08934"></a><span class="lineno"> 8934</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;char_mut : guy.<a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>() ) {</div>
<div class="line"><a id="l08935" name="l08935"></a><span class="lineno"> 8935</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> iter = muts.begin(); iter != muts.end(); ) {</div>
<div class="line"><a id="l08936" name="l08936"></a><span class="lineno"> 8936</span>            <span class="keywordflow">if</span>( char_mut == *iter ) {</div>
<div class="line"><a id="l08937" name="l08937"></a><span class="lineno"> 8937</span>                iter = muts.erase( iter );</div>
<div class="line"><a id="l08938" name="l08938"></a><span class="lineno"> 8938</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08939" name="l08939"></a><span class="lineno"> 8939</span>                ++iter;</div>
<div class="line"><a id="l08940" name="l08940"></a><span class="lineno"> 8940</span>            }</div>
<div class="line"><a id="l08941" name="l08941"></a><span class="lineno"> 8941</span>        }</div>
<div class="line"><a id="l08942" name="l08942"></a><span class="lineno"> 8942</span>    }</div>
<div class="line"><a id="l08943" name="l08943"></a><span class="lineno"> 8943</span> </div>
<div class="line"><a id="l08944" name="l08944"></a><span class="lineno"> 8944</span>    <span class="keywordflow">return</span> muts;</div>
<div class="line"><a id="l08945" name="l08945"></a><span class="lineno"> 8945</span>}</div>
<div class="ttc" id="aclassCharacter_html_a97c5948a2648dc5fd3e2defd5885cdb0"><div class="ttname"><a href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">Character::get_mutations</a></div><div class="ttdeci">std::vector&lt; trait_id &gt; get_mutations(bool include_hidden=true) const</div><div class="ttdoc">Get the idents of all traits/mutations.</div><div class="ttdef"><b>Definition:</b> <a href="newcharacter_8cpp_source.html#l02792">newcharacter.cpp:2792</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="newcharacter_8cpp_source.html#l02792">Character::get_mutations()</a>, <a class="el" href="item_8cpp_source.html#l06818">is_relic()</a>, and <a class="el" href="item_8h_source.html#l02193">relic_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l09837">Character::on_item_takeoff()</a>, and <a class="el" href="character_8cpp_source.html#l09822">Character::on_item_wear()</a>.</p>

</div>
</div>
<a id="a22d1f85c07bab6621bbd16d301b22bbf" name="a22d1f85c07bab6621bbd16d301b22bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22d1f85c07bab6621bbd16d301b22bbf">&#9670;&nbsp;</a></span>needs_processing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::needs_processing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the item should be processed (by calling <a class="el" href="classitem.html#a36618e7473c8e261835fbe80c32a07bd">process</a>). </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08772">8772</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08773" name="l08773"></a><span class="lineno"> 8773</span>{</div>
<div class="line"><a id="l08774" name="l08774"></a><span class="lineno"> 8774</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a74d9758bd8ff342c804d5b9af87cad9c">flag_RADIO_ACTIVATION</a> ) || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a09be785730be8d8b735277a2434fa57b">flag_ETHEREAL_ITEM</a> ) ||</div>
<div class="line"><a id="l08775" name="l08775"></a><span class="lineno"> 8775</span>           ( <a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() &amp;&amp; !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#a22d1f85c07bab6621bbd16d301b22bbf">needs_processing</a>() ) ||</div>
<div class="line"><a id="l08776" name="l08776"></a><span class="lineno"> 8776</span>           <a class="code hl_function" href="classitem.html#a363ebdca3f9264390dbc6618de34c778">is_artifact</a>() || <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>();</div>
<div class="line"><a id="l08777" name="l08777"></a><span class="lineno"> 8777</span>}</div>
<div class="ttc" id="aclassitem_html_a22d1f85c07bab6621bbd16d301b22bbf"><div class="ttname"><a href="classitem.html#a22d1f85c07bab6621bbd16d301b22bbf">item::needs_processing</a></div><div class="ttdeci">bool needs_processing() const</div><div class="ttdoc">Whether the item should be processed (by calling process).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08772">item.cpp:8772</a></div></div>
<div class="ttc" id="aclassitem_html_a363ebdca3f9264390dbc6618de34c778"><div class="ttname"><a href="classitem.html#a363ebdca3f9264390dbc6618de34c778">item::is_artifact</a></div><div class="ttdeci">bool is_artifact() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06813">item.cpp:6813</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a09be785730be8d8b735277a2434fa57b"><div class="ttname"><a href="item_8cpp.html#a09be785730be8d8b735277a2434fa57b">flag_ETHEREAL_ITEM</a></div><div class="ttdeci">static const std::string flag_ETHEREAL_ITEM(&quot;ETHEREAL_ITEM&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item_8cpp.html#a09be785730be8d8b735277a2434fa57b">flag_ETHEREAL_ITEM()</a>, <a class="el" href="item_8cpp.html#a74d9758bd8ff342c804d5b9af87cad9c">flag_RADIO_ACTIVATION()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06813">is_artifact()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>, and <a class="el" href="item_8cpp_source.html#l08772">needs_processing()</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, <a class="el" href="vehicle_8cpp_source.html#l05209">vehicle::add_item()</a>, <a class="el" href="savegame__json_8cpp_source.html#l03942">submap::load()</a>, <a class="el" href="map_8cpp_source.html#l04420">map::make_active()</a>, <a class="el" href="vehicle_8cpp_source.html#l05168">vehicle::make_active()</a>, <a class="el" href="item_8cpp_source.html#l08772">needs_processing()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00305">liquid_handler::perform_liquid_transfer()</a>, and <a class="el" href="player_8cpp_source.html#l01782">player::process_items()</a>.</p>

</div>
</div>
<a id="a438855ffd52d33307e1dfba6d607535b" name="a438855ffd52d33307e1dfba6d607535b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a438855ffd52d33307e1dfba6d607535b">&#9670;&nbsp;</a></span>nname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::nname </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the translated item name for the item with given id. </p>
<p >The name is in the proper plural form as specified by the quantity parameter. This is roughly equivalent to creating an item instance and calling <a class="el" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>, however this function does not include strings like "(fresh)". </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09749">9749</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09750" name="l09750"></a><span class="lineno"> 9750</span>{</div>
<div class="line"><a id="l09751" name="l09751"></a><span class="lineno"> 9751</span>    <span class="keywordflow">return</span> <span class="keywordtype">id</span>-&gt;nname( quantity );</div>
<div class="line"><a id="l09752" name="l09752"></a><span class="lineno"> 9752</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02928">act_vehicle_unload_fuel()</a>, <a class="el" href="item_8cpp_source.html#l01848">ammo_info()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01355">veh_interact::calc_overview()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03822">camp_car_description()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="crafting_8cpp_source.html#l01730">player::craft_consume_tools()</a>, <a class="el" href="harvest_8cpp_source.html#l00197">harvest_list::describe()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02712">veh_interact::display_details()</a>, <a class="el" href="gamemode__defense_8cpp_source.html#l01235">draw_caravan_items()</a>, <a class="el" href="magic_8cpp_source.html#l01630">spellcasting_callback::draw_spell_info()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02279">farm_action()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04415">activity_handlers::fertilize_plot_do_turn()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="iexamine_8cpp_source.html#l02953">iexamine::fvat_empty()</a>, <a class="el" href="clzones_8cpp_source.html#l00430">plot_options::get_descriptions()</a>, <a class="el" href="iexamine_8cpp_source.html#l02135">iexamine::get_seed_entries()</a>, <a class="el" href="clzones_8cpp_source.html#l00405">plot_options::get_zone_name_suggestion()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03104">repair_item_actor::handle_components()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02978">ammobelt_actor::info()</a>, <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l01179">lcmatch_any()</a>, <a class="el" href="iexamine_8cpp_source.html#l05493">mill_load_food()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="veh__type_8cpp_source.html#l00699">vpart_info::name()</a>, <a class="el" href="craft__command_8cpp_source.html#l00027">comp_selection&lt; CompType &gt;::nname()</a>, <a class="el" href="npctalk_8cpp_source.html#l01571">parse_tags()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00949">peek_related_recipe()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03727">activity_handlers::plant_seed_finish()</a>, <a class="el" href="iexamine_8cpp_source.html#l01256">iexamine::portable_structure()</a>, <a class="el" href="iexamine_8cpp_source.html#l03353">iexamine::pour_into_keg()</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00398">vehicle::print_fuel_indicator()</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00149">vehicle::print_part_list()</a>, <a class="el" href="iexamine_8cpp_source.html#l05608">iexamine::quern_examine()</a>, <a class="el" href="crafting_8cpp_source.html#l01646">crafting::query_tool_selection()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="recipe_8cpp_source.html#l00579">recipe::result_name()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l00433">vehicle::select_engine()</a>, <a class="el" href="crafting_8cpp_source.html#l01299">player::select_item_component()</a>, <a class="el" href="npctalk_8cpp_source.html#l02087">talk_effect_fun_t::set_u_sell_item()</a>, <a class="el" href="player_8cpp_source.html#l01380">player::siphon()</a>, <a class="el" href="iexamine_8cpp_source.html#l05385">smoker_load_food()</a>, <a class="el" href="iexamine_8cpp_source.html#l05775">iexamine::smoker_options()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l00918">vehicle::start_engine()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="requirements_8cpp_source.html#l00134">tool_comp::to_string()</a>, <a class="el" href="iexamine_8cpp_source.html#l03445">iexamine::tree_maple()</a>, <a class="el" href="iexamine_8cpp_source.html#l03485">iexamine::tree_maple_tapped()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00633">unfold_vehicle_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00788">consume_drug_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>, and <a class="el" href="vehicle__use_8cpp_source.html#l01606">vehicle::use_washing_machine()</a>.</p>

</div>
</div>
<a id="a6d1575c31b1dc0df51cbe3a1dfbfef16" name="a6d1575c31b1dc0df51cbe3a1dfbfef16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d1575c31b1dc0df51cbe3a1dfbfef16">&#9670;&nbsp;</a></span>on_contents_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::on_contents_changed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback when contents of the item are affected in any way other than just processing. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04424">4424</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04425" name="l04425"></a><span class="lineno"> 4425</span>{</div>
<div class="line"><a id="l04426" name="l04426"></a><span class="lineno"> 4426</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aabd0667301ad29a57bb257acfd7a4470">is_non_resealable_container</a>() ) {</div>
<div class="line"><a id="l04427" name="l04427"></a><span class="lineno"> 4427</span>        <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;unseals_into );</div>
<div class="line"><a id="l04428" name="l04428"></a><span class="lineno"> 4428</span>    }</div>
<div class="line"><a id="l04429" name="l04429"></a><span class="lineno"> 4429</span> </div>
<div class="line"><a id="l04430" name="l04430"></a><span class="lineno"> 4430</span>    <a class="code hl_variable" href="classitem.html#a1ea7dc9d3bada7236e263edf7f1fd15f">encumbrance_update_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04431" name="l04431"></a><span class="lineno"> 4431</span>}</div>
<div class="ttc" id="aclassitem_html_a1ea7dc9d3bada7236e263edf7f1fd15f"><div class="ttname"><a href="classitem.html#a1ea7dc9d3bada7236e263edf7f1fd15f">item::encumbrance_update_</a></div><div class="ttdeci">bool encumbrance_update_</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02211">item.h:2211</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, <a class="el" href="item_8cpp_source.html#l00530">convert()</a>, <a class="el" href="item_8h_source.html#l02211">encumbrance_update_</a>, <a class="el" href="item_8cpp_source.html#l06579">is_non_resealable_container()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="player_8cpp_source.html#l02015">player::consume_item()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="npctalk_8cpp_source.html#l03328">give_item_to()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00127">liquid_handler::handle_liquid_from_container()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01656">advanced_inventory::move_content()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="item_8cpp_source.html#l06898">spill_contents()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="item_8cpp_source.html#l08334">use_amount()</a>, and <a class="el" href="player_8cpp_source.html#l04203">player::wield_contents()</a>.</p>

</div>
</div>
<a id="aadbabbc9e7714db37f32b7c6f7406d8f" name="aadbabbc9e7714db37f32b7c6f7406d8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadbabbc9e7714db37f32b7c6f7406d8f">&#9670;&nbsp;</a></span>on_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::on_damage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a>&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback immediately <b>before</b> an item is damaged. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qty</td><td>maximum damage that will be applied (constrained by <a class="el" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>) </td></tr>
    <tr><td class="paramname">dt</td><td>type of damage (or DT_NULL) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04433">4433</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04434" name="l04434"></a><span class="lineno"> 4434</span>{</div>
<div class="line"><a id="l04435" name="l04435"></a><span class="lineno"> 4435</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() &amp;&amp; qty + <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> &gt;= <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() ) {</div>
<div class="line"><a id="l04436" name="l04436"></a><span class="lineno"> 4436</span>        <a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <a class="code hl_function" href="item_8cpp.html#af42e36de2b5aea5b5d10e83d61d110ee">flag_PULPED</a> );</div>
<div class="line"><a id="l04437" name="l04437"></a><span class="lineno"> 4437</span>    }</div>
<div class="line"><a id="l04438" name="l04438"></a><span class="lineno"> 4438</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02228">damage_</a>, <a class="el" href="item_8cpp.html#af42e36de2b5aea5b5d10e83d61d110ee">flag_PULPED()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>, and <a class="el" href="item_8cpp_source.html#l05221">set_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06076">mod_damage()</a>, and <a class="el" href="item_8cpp_source.html#l00711">set_damage()</a>.</p>

</div>
</div>
<a id="a953a3502d31bc8be819bd1259651943f" name="a953a3502d31bc8be819bd1259651943f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a953a3502d31bc8be819bd1259651943f">&#9670;&nbsp;</a></span>on_drop() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::on_drop </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invokes item type's <a class="el" href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">itype::drop_action</a>. </p>
<p >This function can change the item. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>Where is the item being placed. Note: the item isn't there yet. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the item was destroyed during placement. </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09814">9814</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09815" name="l09815"></a><span class="lineno"> 9815</span>{</div>
<div class="line"><a id="l09816" name="l09816"></a><span class="lineno"> 9816</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a953a3502d31bc8be819bd1259651943f">on_drop</a>( pos, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m );</div>
<div class="line"><a id="l09817" name="l09817"></a><span class="lineno"> 9817</span>}</div>
<div class="ttc" id="aclassitem_html_a953a3502d31bc8be819bd1259651943f"><div class="ttname"><a href="classitem.html#a953a3502d31bc8be819bd1259651943f">item::on_drop</a></div><div class="ttdeci">bool on_drop(const tripoint &amp;pos)</div><div class="ttdoc">Invokes item type's itype::drop_action.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09814">item.cpp:9814</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>, and <a class="el" href="item_8cpp_source.html#l09814">on_drop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04228">map::add_item_or_charges()</a>, and <a class="el" href="item_8cpp_source.html#l09814">on_drop()</a>.</p>

</div>
</div>
<a id="a1a81c29c8a1d2d96db60898e21a26e13" name="a1a81c29c8a1d2d96db60898e21a26e13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a81c29c8a1d2d96db60898e21a26e13">&#9670;&nbsp;</a></span>on_drop() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::on_drop </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invokes item type's <a class="el" href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">itype::drop_action</a>. </p>
<p >This function can change the item. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>Where is the item being placed. Note: the item isn't there yet. </td></tr>
    <tr><td class="paramname">map</td><td>A map object associated with that position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the item was destroyed during placement. </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09819">9819</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09820" name="l09820"></a><span class="lineno"> 9820</span>{</div>
<div class="line"><a id="l09821" name="l09821"></a><span class="lineno"> 9821</span>    <span class="comment">// dropping liquids, even currently frozen ones, on the ground makes them</span></div>
<div class="line"><a id="l09822" name="l09822"></a><span class="lineno"> 9822</span>    <span class="comment">// dirty</span></div>
<div class="line"><a id="l09823" name="l09823"></a><span class="lineno"> 9823</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) &amp;&amp; !m.has_flag( <a class="code hl_function" href="item_8cpp.html#ab56a6312567ba942a21057a605d0bef2">flag_LIQUIDCONT</a>, pos ) &amp;&amp;</div>
<div class="line"><a id="l09824" name="l09824"></a><span class="lineno"> 9824</span>        !<a class="code hl_function" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a>( <span class="stringliteral">&quot;DIRTY&quot;</span> ) ) {</div>
<div class="line"><a id="l09825" name="l09825"></a><span class="lineno"> 9825</span>        <a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <span class="stringliteral">&quot;DIRTY&quot;</span> );</div>
<div class="line"><a id="l09826" name="l09826"></a><span class="lineno"> 9826</span>    }</div>
<div class="line"><a id="l09827" name="l09827"></a><span class="lineno"> 9827</span> </div>
<div class="line"><a id="l09828" name="l09828"></a><span class="lineno"> 9828</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.flag_encumbrance();</div>
<div class="line"><a id="l09829" name="l09829"></a><span class="lineno"> 9829</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">drop_action</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">drop_action</a>.<a class="code hl_function" href="structuse__function.html#a70b8d10a6a149ac449e119483294c426">call</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, *<span class="keyword">this</span>, <span class="keyword">false</span>, pos );</div>
<div class="line"><a id="l09830" name="l09830"></a><span class="lineno"> 9830</span>}</div>
<div class="ttc" id="aitem_8cpp_html_ab56a6312567ba942a21057a605d0bef2"><div class="ttname"><a href="item_8cpp.html#ab56a6312567ba942a21057a605d0bef2">flag_LIQUIDCONT</a></div><div class="ttdeci">static const std::string flag_LIQUIDCONT(&quot;LIQUIDCONT&quot;)</div></div>
<div class="ttc" id="astructitype_html_a9d0d50c14b184fceddd1a13ee279a6fc"><div class="ttname"><a href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">itype::drop_action</a></div><div class="ttdeci">use_function drop_action</div><div class="ttdoc">Action to take BEFORE the item is placed on map.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00928">itype.h:928</a></div></div>
<div class="ttc" id="astructuse__function_html_a70b8d10a6a149ac449e119483294c426"><div class="ttname"><a href="structuse__function.html#a70b8d10a6a149ac449e119483294c426">use_function::call</a></div><div class="ttdeci">int call(player &amp;, item &amp;, bool, const tripoint &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09843">iuse.cpp:9843</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l09843">use_function::call()</a>, <a class="el" href="itype_8h_source.html#l00928">itype::drop_action</a>, <a class="el" href="item_8cpp.html#ab56a6312567ba942a21057a605d0bef2">flag_LIQUIDCONT()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="map_8cpp_source.html#l02304">map::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l05187">has_own_flag()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="item_8cpp_source.html#l05221">set_flag()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="adf662fb946f6a1188fe5e340ff80a95a" name="adf662fb946f6a1188fe5e340ff80a95a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf662fb946f6a1188fe5e340ff80a95a">&#9670;&nbsp;</a></span>on_pickup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::on_pickup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback when a player starts carrying the item. </p>
<p >The item is already in the inventory and is called from there. This is not called when the item is added to the inventory from worn vector or weapon slot. The item is considered already carried. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04403">4403</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04404" name="l04404"></a><span class="lineno"> 4404</span>{</div>
<div class="line"><a id="l04405" name="l04405"></a><span class="lineno"> 4405</span>    <span class="comment">// Fake characters are used to determine pickup weight and volume</span></div>
<div class="line"><a id="l04406" name="l04406"></a><span class="lineno"> 4406</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a>() ) {</div>
<div class="line"><a id="l04407" name="l04407"></a><span class="lineno"> 4407</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l04408" name="l04408"></a><span class="lineno"> 4408</span>    }</div>
<div class="line"><a id="l04409" name="l04409"></a><span class="lineno"> 4409</span>    <span class="comment">// TODO: artifacts currently only work with the player character</span></div>
<div class="line"><a id="l04410" name="l04410"></a><span class="lineno"> 4410</span>    <span class="keywordflow">if</span>( &amp;p == &amp;<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a> ) {</div>
<div class="line"><a id="l04411" name="l04411"></a><span class="lineno"> 4411</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;add_artifact_messages( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a>-&gt;effects_carried );</div>
<div class="line"><a id="l04412" name="l04412"></a><span class="lineno"> 4412</span>    }</div>
<div class="line"><a id="l04413" name="l04413"></a><span class="lineno"> 4413</span>    <span class="comment">// if game is loaded - don&#39;t want ownership assigned during char creation</span></div>
<div class="line"><a id="l04414" name="l04414"></a><span class="lineno"> 4414</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.getID().is_valid() ) {</div>
<div class="line"><a id="l04415" name="l04415"></a><span class="lineno"> 4415</span>        <a class="code hl_function" href="classitem.html#a9113a7b590ad5a3d343de910de33aff2">handle_pickup_ownership</a>( p );</div>
<div class="line"><a id="l04416" name="l04416"></a><span class="lineno"> 4416</span>    }</div>
<div class="line"><a id="l04417" name="l04417"></a><span class="lineno"> 4417</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#af84e26c1418a4d090bbf55174431b6ac">is_bucket_nonempty</a>() ) {</div>
<div class="line"><a id="l04418" name="l04418"></a><span class="lineno"> 4418</span>        <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a279305b87c2b0f995ba8fc59c88fbaa8">spill_contents</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l04419" name="l04419"></a><span class="lineno"> 4419</span>    }</div>
<div class="line"><a id="l04420" name="l04420"></a><span class="lineno"> 4420</span> </div>
<div class="line"><a id="l04421" name="l04421"></a><span class="lineno"> 4421</span>    p.<a class="code hl_function" href="classCharacter.html#a3801457283281bb7dcc0572d3f707e10">flag_encumbrance</a>();</div>
<div class="line"><a id="l04422" name="l04422"></a><span class="lineno"> 4422</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3801457283281bb7dcc0572d3f707e10"><div class="ttname"><a href="classCharacter.html#a3801457283281bb7dcc0572d3f707e10">Character::flag_encumbrance</a></div><div class="ttdeci">void flag_encumbrance()</div><div class="ttdoc">Flag encumbrance for updating.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01825">character.cpp:1825</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad24859164517ed6e392e21df69527199"><div class="ttname"><a href="classCharacter.html#ad24859164517ed6e392e21df69527199">Character::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00707">character.cpp:707</a></div></div>
<div class="ttc" id="aclassCreature_html_a98ef8437aca8647165ccbe2ebb2e1f2c"><div class="ttname"><a href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">Creature::is_fake</a></div><div class="ttdeci">virtual bool is_fake() const</div><div class="ttdoc">Returns true for non-real Creatures used temporarily; i.e.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00964">creature.cpp:964</a></div></div>
<div class="ttc" id="aclassitem__contents_html_a279305b87c2b0f995ba8fc59c88fbaa8"><div class="ttname"><a href="classitem__contents.html#a279305b87c2b0f995ba8fc59c88fbaa8">item_contents::spill_contents</a></div><div class="ttdeci">bool spill_contents(const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00032">item_contents.cpp:32</a></div></div>
<div class="ttc" id="aclassitem_html_a9113a7b590ad5a3d343de910de33aff2"><div class="ttname"><a href="classitem.html#a9113a7b590ad5a3d343de910de33aff2">item::handle_pickup_ownership</a></div><div class="ttdeci">void handle_pickup_ownership(Character &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04364">item.cpp:4364</a></div></div>
<div class="ttc" id="aclassitem_html_af84e26c1418a4d090bbf55174431b6ac"><div class="ttname"><a href="classitem.html#af84e26c1418a4d090bbf55174431b6ac">item::is_bucket_nonempty</a></div><div class="ttdeci">bool is_bucket_nonempty() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06595">item.cpp:6595</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00864">itype::artifact</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="character_8cpp_source.html#l01825">Character::flag_encumbrance()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l04364">handle_pickup_ownership()</a>, <a class="el" href="item_8cpp_source.html#l06595">is_bucket_nonempty()</a>, <a class="el" href="creature_8cpp_source.html#l00964">Creature::is_fake()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="item__contents_8cpp_source.html#l00032">item_contents::spill_contents()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>.</p>

</div>
</div>
<a id="a8673667a3d9507e9b7c66be499e51d80" name="a8673667a3d9507e9b7c66be499e51d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8673667a3d9507e9b7c66be499e51d80">&#9670;&nbsp;</a></span>on_takeoff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::on_takeoff </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback when a character takes off an item. </p>
<p >The item is still in the worn items vector but will be removed immediately after the function returns </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04283">4283</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04284" name="l04284"></a><span class="lineno"> 4284</span>{</div>
<div class="line"><a id="l04285" name="l04285"></a><span class="lineno"> 4285</span>    p.<a class="code hl_function" href="classCharacter.html#ac2e2e141aa01aad994ef237aca8ca53c">on_item_takeoff</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l04286" name="l04286"></a><span class="lineno"> 4286</span> </div>
<div class="line"><a id="l04287" name="l04287"></a><span class="lineno"> 4287</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">is_sided</a>() ) {</div>
<div class="line"><a id="l04288" name="l04288"></a><span class="lineno"> 4288</span>        <a class="code hl_function" href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">set_side</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">side::BOTH</a> );</div>
<div class="line"><a id="l04289" name="l04289"></a><span class="lineno"> 4289</span>    }</div>
<div class="line"><a id="l04290" name="l04290"></a><span class="lineno"> 4290</span> </div>
<div class="line"><a id="l04291" name="l04291"></a><span class="lineno"> 4291</span>    <span class="comment">// if power armor, no power_draw and active, shut down.</span></div>
<div class="line"><a id="l04292" name="l04292"></a><span class="lineno"> 4292</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;set_transformed&quot;</span> ) &amp;&amp; <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l04293" name="l04293"></a><span class="lineno"> 4293</span>        <span class="keyword">const</span> <a class="code hl_class" href="classset__transformed__iuse.html">set_transformed_iuse</a> *actor = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classset__transformed__iuse.html">set_transformed_iuse</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l04294" name="l04294"></a><span class="lineno"> 4294</span>                                            ( this-&gt;<a class="code hl_function" href="classitem.html#a71dac02bae8b97487391d5540a89bc1c">get_use</a>( <span class="stringliteral">&quot;set_transformed&quot;</span> )-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() );</div>
<div class="line"><a id="l04295" name="l04295"></a><span class="lineno"> 4295</span>        <span class="keywordflow">if</span>( actor == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l04296" name="l04296"></a><span class="lineno"> 4296</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;iuse_actor type descriptor and actual type mismatch&quot;</span> );</div>
<div class="line"><a id="l04297" name="l04297"></a><span class="lineno"> 4297</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l04298" name="l04298"></a><span class="lineno"> 4298</span>        }</div>
<div class="line"><a id="l04299" name="l04299"></a><span class="lineno"> 4299</span>        actor-&gt;<a class="code hl_function" href="classset__transformed__iuse.html#ae998ccc9aa3c7bf35bdee468989fccbd">bypass</a>( *p.<a class="code hl_function" href="classCreature.html#acb1d0a1210d3dd4c86350f3ad4c58649">as_player</a>(), *<span class="keyword">this</span>, <span class="keyword">false</span>, p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l04300" name="l04300"></a><span class="lineno"> 4300</span>    }</div>
<div class="line"><a id="l04301" name="l04301"></a><span class="lineno"> 4301</span>}</div>
<div class="ttc" id="aclassCharacter_html_ac2e2e141aa01aad994ef237aca8ca53c"><div class="ttname"><a href="classCharacter.html#ac2e2e141aa01aad994ef237aca8ca53c">Character::on_item_takeoff</a></div><div class="ttdeci">void on_item_takeoff(const item &amp;it)</div><div class="ttdoc">Called when an item is taken off.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09837">character.cpp:9837</a></div></div>
<div class="ttc" id="aclassCreature_html_acb1d0a1210d3dd4c86350f3ad4c58649"><div class="ttname"><a href="classCreature.html#acb1d0a1210d3dd4c86350f3ad4c58649">Creature::as_player</a></div><div class="ttdeci">virtual player * as_player()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00122">creature.h:122</a></div></div>
<div class="ttc" id="aclassitem_html_a06f562ce239a39f4220143f7cd4998e9"><div class="ttname"><a href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">item::set_side</a></div><div class="ttdeci">bool set_side(side s)</div><div class="ttdoc">Change the side on which the item is worn.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00812">item.cpp:812</a></div></div>
<div class="ttc" id="aclassset__transformed__iuse_html"><div class="ttname"><a href="classset__transformed__iuse.html">set_transformed_iuse</a></div><div class="ttdoc">This is a iuse_transform used by items with transform dependencies.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00349">iuse_actor.h:350</a></div></div>
<div class="ttc" id="aclassset__transformed__iuse_html_ae998ccc9aa3c7bf35bdee468989fccbd"><div class="ttname"><a href="classset__transformed__iuse.html#ae998ccc9aa3c7bf35bdee468989fccbd">set_transformed_iuse::bypass</a></div><div class="ttdeci">int bypass(player &amp;p, item &amp;it, bool t, const tripoint &amp;pos) const</div><div class="ttdoc">Hack: Bypasses normal checks to transform an item.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l00982">iuse_actor.cpp:982</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="creature_8h_source.html#l00122">Creature::as_player()</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">BOTH</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00982">set_transformed_iuse::bypass()</a>, <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="iuse_8h_source.html#l00315">use_function::get_actor_ptr()</a>, <a class="el" href="item_8cpp_source.html#l07786">get_use()</a>, <a class="el" href="item_8cpp_source.html#l00799">is_sided()</a>, <a class="el" href="character_8cpp_source.html#l09837">Character::on_item_takeoff()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="item_8cpp_source.html#l00812">set_side()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08130">Character::absorb_hit()</a>, <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, and <a class="el" href="npc_8cpp_source.html#l00543">starting_clothes()</a>.</p>

</div>
</div>
<a id="adaaab23ac975ab0fbe52607cfa8ffe54" name="adaaab23ac975ab0fbe52607cfa8ffe54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaaab23ac975ab0fbe52607cfa8ffe54">&#9670;&nbsp;</a></span>on_wear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::on_wear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback when a character starts wearing the item. </p>
<p >The item is already in the worn items vector and is called from there. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04185">4185</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04186" name="l04186"></a><span class="lineno"> 4186</span>{</div>
<div class="line"><a id="l04187" name="l04187"></a><span class="lineno"> 4187</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">is_sided</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aecf84874cbc13ba0ce8a205690747305">get_side</a>() == <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">side::BOTH</a> ) {</div>
<div class="line"><a id="l04188" name="l04188"></a><span class="lineno"> 4188</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ac515c71f173b6c81dbc78f60ce2b89d2">flag_SPLINT</a> ) ) {</div>
<div class="line"><a id="l04189" name="l04189"></a><span class="lineno"> 4189</span>            <a class="code hl_function" href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">set_side</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">side::LEFT</a> );</div>
<div class="line"><a id="l04190" name="l04190"></a><span class="lineno"> 4190</span>            <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;leg_l&quot;</span> ) ) &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">is_limb_broken</a>( <a class="code hl_class" href="classint__id.html">bodypart_id</a>( <span class="stringliteral">&quot;leg_r&quot;</span> ) ) &amp;&amp;</div>
<div class="line"><a id="l04191" name="l04191"></a><span class="lineno"> 4191</span>                  !p.<a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <a class="code hl_function" href="item_8cpp.html#ac515c71f173b6c81dbc78f60ce2b89d2">flag_SPLINT</a>, <a class="code hl_class" href="classint__id.html">bodypart_id</a>( <span class="stringliteral">&quot;leg_r&quot;</span> ) ) ) ||</div>
<div class="line"><a id="l04192" name="l04192"></a><span class="lineno"> 4192</span>                ( <a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;arm_l&quot;</span> ) ) &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">is_limb_broken</a>( <a class="code hl_class" href="classint__id.html">bodypart_id</a>( <span class="stringliteral">&quot;arm_r&quot;</span> ) ) &amp;&amp;</div>
<div class="line"><a id="l04193" name="l04193"></a><span class="lineno"> 4193</span>                  !p.<a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <a class="code hl_function" href="item_8cpp.html#ac515c71f173b6c81dbc78f60ce2b89d2">flag_SPLINT</a>, <a class="code hl_class" href="classint__id.html">bodypart_id</a>( <span class="stringliteral">&quot;arm_r&quot;</span> ) ) ) ) {</div>
<div class="line"><a id="l04194" name="l04194"></a><span class="lineno"> 4194</span>                <a class="code hl_function" href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">set_side</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">side::RIGHT</a> );</div>
<div class="line"><a id="l04195" name="l04195"></a><span class="lineno"> 4195</span>            }</div>
<div class="line"><a id="l04196" name="l04196"></a><span class="lineno"> 4196</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a5120c05cb3671e389c930ee23297dbaf">flag_POWERARMOR_MOD</a> ) ) {</div>
<div class="line"><a id="l04197" name="l04197"></a><span class="lineno"> 4197</span>            <span class="comment">// for power armor mods, wear on side with least mods</span></div>
<div class="line"><a id="l04198" name="l04198"></a><span class="lineno"> 4198</span>            std::vector&lt; std::pair&lt; body_part, int &gt; &gt; mod_parts;</div>
<div class="line"><a id="l04199" name="l04199"></a><span class="lineno"> 4199</span>            <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp = <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>;</div>
<div class="line"><a id="l04200" name="l04200"></a><span class="lineno"> 4200</span>            <a class="code hl_class" href="classstring__id.html">bodypart_str_id</a> bpid;</div>
<div class="line"><a id="l04201" name="l04201"></a><span class="lineno"> 4201</span>            <span class="keywordtype">int</span> lhs = 0;</div>
<div class="line"><a id="l04202" name="l04202"></a><span class="lineno"> 4202</span>            <span class="keywordtype">int</span> rhs = 0;</div>
<div class="line"><a id="l04203" name="l04203"></a><span class="lineno"> 4203</span>            <span class="keywordflow">for</span>( std::size_t i = 0; i &lt; static_cast&lt; body_part &gt;( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> ) ; ++i ) {</div>
<div class="line"><a id="l04204" name="l04204"></a><span class="lineno"> 4204</span>                bp = <span class="keyword">static_cast&lt;</span> <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> <span class="keyword">&gt;</span>( i );</div>
<div class="line"><a id="l04205" name="l04205"></a><span class="lineno"> 4205</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa370bf267d606ed6098dc9d1c518ebf5">get_covered_body_parts</a>().<a class="code hl_function" href="classbody__part__set.html#a450fb1707f17ac6ba5147ea73c3957c2">test</a>( bp ) ) {</div>
<div class="line"><a id="l04206" name="l04206"></a><span class="lineno"> 4206</span>                    mod_parts.emplace_back( bp, 0 );</div>
<div class="line"><a id="l04207" name="l04207"></a><span class="lineno"> 4207</span>                }</div>
<div class="line"><a id="l04208" name="l04208"></a><span class="lineno"> 4208</span>            }</div>
<div class="line"><a id="l04209" name="l04209"></a><span class="lineno"> 4209</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : p.<a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l04210" name="l04210"></a><span class="lineno"> 4210</span>                <span class="keywordflow">for</span>( std::pair&lt; body_part, int &gt; &amp;mod_part : mod_parts ) {</div>
<div class="line"><a id="l04211" name="l04211"></a><span class="lineno"> 4211</span>                    bpid = <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( mod_part.first );</div>
<div class="line"><a id="l04212" name="l04212"></a><span class="lineno"> 4212</span>                    <span class="keywordflow">if</span>( elem.get_covered_body_parts().test( mod_part.first ) &amp;&amp;</div>
<div class="line"><a id="l04213" name="l04213"></a><span class="lineno"> 4213</span>                        elem.has_flag( <a class="code hl_function" href="item_8cpp.html#a5120c05cb3671e389c930ee23297dbaf">flag_POWERARMOR_MOD</a> ) ) {</div>
<div class="line"><a id="l04214" name="l04214"></a><span class="lineno"> 4214</span>                        <span class="keywordflow">if</span>( elem.is_sided() &amp;&amp; elem.get_side() == bpid-&gt;<a class="code hl_variable" href="structbody__part__type.html#a10db02ab49963764a48f84dafd39aa2a">part_side</a> ) {</div>
<div class="line"><a id="l04215" name="l04215"></a><span class="lineno"> 4215</span>                            mod_part.second++;</div>
<div class="line"><a id="l04216" name="l04216"></a><span class="lineno"> 4216</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l04217" name="l04217"></a><span class="lineno"> 4217</span>                        }</div>
<div class="line"><a id="l04218" name="l04218"></a><span class="lineno"> 4218</span>                        mod_part.second++;</div>
<div class="line"><a id="l04219" name="l04219"></a><span class="lineno"> 4219</span>                    }</div>
<div class="line"><a id="l04220" name="l04220"></a><span class="lineno"> 4220</span>                }</div>
<div class="line"><a id="l04221" name="l04221"></a><span class="lineno"> 4221</span>            }</div>
<div class="line"><a id="l04222" name="l04222"></a><span class="lineno"> 4222</span>            <span class="keywordflow">for</span>( std::pair&lt; body_part, int &gt; &amp;mod_part : mod_parts ) {</div>
<div class="line"><a id="l04223" name="l04223"></a><span class="lineno"> 4223</span>                bpid = <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( mod_part.first );</div>
<div class="line"><a id="l04224" name="l04224"></a><span class="lineno"> 4224</span>                <span class="keywordflow">if</span>( bpid-&gt;<a class="code hl_variable" href="structbody__part__type.html#a10db02ab49963764a48f84dafd39aa2a">part_side</a> == <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">side::LEFT</a> &amp;&amp; mod_part.second &gt; lhs ) {</div>
<div class="line"><a id="l04225" name="l04225"></a><span class="lineno"> 4225</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;left&quot;</span> ) );</div>
<div class="line"><a id="l04226" name="l04226"></a><span class="lineno"> 4226</span>                    lhs = mod_part.second;</div>
<div class="line"><a id="l04227" name="l04227"></a><span class="lineno"> 4227</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bpid-&gt;<a class="code hl_variable" href="structbody__part__type.html#a10db02ab49963764a48f84dafd39aa2a">part_side</a> == <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">side::RIGHT</a> &amp;&amp; mod_part.second &gt; rhs ) {</div>
<div class="line"><a id="l04228" name="l04228"></a><span class="lineno"> 4228</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;right&quot;</span> ) );</div>
<div class="line"><a id="l04229" name="l04229"></a><span class="lineno"> 4229</span>                    rhs = mod_part.second;</div>
<div class="line"><a id="l04230" name="l04230"></a><span class="lineno"> 4230</span>                }</div>
<div class="line"><a id="l04231" name="l04231"></a><span class="lineno"> 4231</span>            }</div>
<div class="line"><a id="l04232" name="l04232"></a><span class="lineno"> 4232</span>            <a class="code hl_function" href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">set_side</a>( ( lhs &gt; rhs ) ? <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">side::RIGHT</a> : <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">side::LEFT</a> );</div>
<div class="line"><a id="l04233" name="l04233"></a><span class="lineno"> 4233</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04234" name="l04234"></a><span class="lineno"> 4234</span>            <span class="comment">// for sided items wear the item on the side which results in least encumbrance</span></div>
<div class="line"><a id="l04235" name="l04235"></a><span class="lineno"> 4235</span>            <span class="keywordtype">int</span> lhs = 0;</div>
<div class="line"><a id="l04236" name="l04236"></a><span class="lineno"> 4236</span>            <span class="keywordtype">int</span> rhs = 0;</div>
<div class="line"><a id="l04237" name="l04237"></a><span class="lineno"> 4237</span>            <a class="code hl_function" href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">set_side</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">side::LEFT</a> );</div>
<div class="line"><a id="l04238" name="l04238"></a><span class="lineno"> 4238</span>            <span class="keyword">const</span> <span class="keyword">auto</span> left_enc = p.<a class="code hl_function" href="classCharacter.html#aab4a81807fc7f6760a2f426046da8809">get_encumbrance</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l04239" name="l04239"></a><span class="lineno"> 4239</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp : <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a> ) {</div>
<div class="line"><a id="l04240" name="l04240"></a><span class="lineno"> 4240</span>                lhs += left_enc[bp].encumbrance;</div>
<div class="line"><a id="l04241" name="l04241"></a><span class="lineno"> 4241</span>            }</div>
<div class="line"><a id="l04242" name="l04242"></a><span class="lineno"> 4242</span> </div>
<div class="line"><a id="l04243" name="l04243"></a><span class="lineno"> 4243</span>            <a class="code hl_function" href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">set_side</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">side::RIGHT</a> );</div>
<div class="line"><a id="l04244" name="l04244"></a><span class="lineno"> 4244</span>            <span class="keyword">const</span> <span class="keyword">auto</span> right_enc = p.<a class="code hl_function" href="classCharacter.html#aab4a81807fc7f6760a2f426046da8809">get_encumbrance</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l04245" name="l04245"></a><span class="lineno"> 4245</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp : <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a> ) {</div>
<div class="line"><a id="l04246" name="l04246"></a><span class="lineno"> 4246</span>                rhs += right_enc[bp].encumbrance;</div>
<div class="line"><a id="l04247" name="l04247"></a><span class="lineno"> 4247</span>            }</div>
<div class="line"><a id="l04248" name="l04248"></a><span class="lineno"> 4248</span> </div>
<div class="line"><a id="l04249" name="l04249"></a><span class="lineno"> 4249</span>            <a class="code hl_function" href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">set_side</a>( lhs &lt;= rhs ? <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">side::LEFT</a> : <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">side::RIGHT</a> );</div>
<div class="line"><a id="l04250" name="l04250"></a><span class="lineno"> 4250</span>        }</div>
<div class="line"><a id="l04251" name="l04251"></a><span class="lineno"> 4251</span>    }</div>
<div class="line"><a id="l04252" name="l04252"></a><span class="lineno"> 4252</span> </div>
<div class="line"><a id="l04253" name="l04253"></a><span class="lineno"> 4253</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;set_transformed&quot;</span> ) ) {</div>
<div class="line"><a id="l04254" name="l04254"></a><span class="lineno"> 4254</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="namespaceiexamine.html#ab9103bcb0e9cb4755b445e5395a0a62f">transform</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04255" name="l04255"></a><span class="lineno"> 4255</span>        <span class="keyword">const</span> <a class="code hl_class" href="classset__transformed__iuse.html">set_transformed_iuse</a> *actor = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classset__transformed__iuse.html">set_transformed_iuse</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l04256" name="l04256"></a><span class="lineno"> 4256</span>                                            ( this-&gt;<a class="code hl_function" href="classitem.html#a71dac02bae8b97487391d5540a89bc1c">get_use</a>( <span class="stringliteral">&quot;set_transformed&quot;</span> )-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() );</div>
<div class="line"><a id="l04257" name="l04257"></a><span class="lineno"> 4257</span>        <span class="keywordflow">if</span>( actor == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l04258" name="l04258"></a><span class="lineno"> 4258</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;iuse_actor type descriptor and actual type mismatch&quot;</span> );</div>
<div class="line"><a id="l04259" name="l04259"></a><span class="lineno"> 4259</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l04260" name="l04260"></a><span class="lineno"> 4260</span>        }</div>
<div class="line"><a id="l04261" name="l04261"></a><span class="lineno"> 4261</span>        std::string transform_flag = actor-&gt;<a class="code hl_variable" href="classset__transformed__iuse.html#addd27ac331e7684188e78685397024c4">dependencies</a>;</div>
<div class="line"><a id="l04262" name="l04262"></a><span class="lineno"> 4262</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : p.<a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l04263" name="l04263"></a><span class="lineno"> 4263</span>            <span class="keywordflow">if</span>( elem.has_flag( transform_flag ) &amp;&amp; elem.active != <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l04264" name="l04264"></a><span class="lineno"> 4264</span>                <a class="code hl_function" href="namespaceiexamine.html#ab9103bcb0e9cb4755b445e5395a0a62f">transform</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04265" name="l04265"></a><span class="lineno"> 4265</span>            }</div>
<div class="line"><a id="l04266" name="l04266"></a><span class="lineno"> 4266</span>        }</div>
<div class="line"><a id="l04267" name="l04267"></a><span class="lineno"> 4267</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceiexamine.html#ab9103bcb0e9cb4755b445e5395a0a62f">transform</a> &amp;&amp; actor-&gt;<a class="code hl_variable" href="classset__transformed__iuse.html#a8259eefe072d99d3bfd926c57ad6608f">restricted</a> ) {</div>
<div class="line"><a id="l04268" name="l04268"></a><span class="lineno"> 4268</span>            actor-&gt;<a class="code hl_function" href="classset__transformed__iuse.html#ae998ccc9aa3c7bf35bdee468989fccbd">bypass</a>( *p.<a class="code hl_function" href="classCreature.html#acb1d0a1210d3dd4c86350f3ad4c58649">as_player</a>(), *<span class="keyword">this</span>, <span class="keyword">false</span>, p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l04269" name="l04269"></a><span class="lineno"> 4269</span>        }</div>
<div class="line"><a id="l04270" name="l04270"></a><span class="lineno"> 4270</span>    }</div>
<div class="line"><a id="l04271" name="l04271"></a><span class="lineno"> 4271</span> </div>
<div class="line"><a id="l04272" name="l04272"></a><span class="lineno"> 4272</span>    <span class="comment">// TODO: artifacts currently only work with the player character</span></div>
<div class="line"><a id="l04273" name="l04273"></a><span class="lineno"> 4273</span>    <span class="keywordflow">if</span>( &amp;p == &amp;<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a> ) {</div>
<div class="line"><a id="l04274" name="l04274"></a><span class="lineno"> 4274</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;add_artifact_messages( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a>-&gt;effects_worn );</div>
<div class="line"><a id="l04275" name="l04275"></a><span class="lineno"> 4275</span>    }</div>
<div class="line"><a id="l04276" name="l04276"></a><span class="lineno"> 4276</span>    <span class="comment">// if game is loaded - don&#39;t want ownership assigned during char creation</span></div>
<div class="line"><a id="l04277" name="l04277"></a><span class="lineno"> 4277</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.getID().is_valid() ) {</div>
<div class="line"><a id="l04278" name="l04278"></a><span class="lineno"> 4278</span>        <a class="code hl_function" href="classitem.html#a9113a7b590ad5a3d343de910de33aff2">handle_pickup_ownership</a>( p );</div>
<div class="line"><a id="l04279" name="l04279"></a><span class="lineno"> 4279</span>    }</div>
<div class="line"><a id="l04280" name="l04280"></a><span class="lineno"> 4280</span>    p.<a class="code hl_function" href="classCharacter.html#a95d488911238c2c12517dd742b00c81f">on_item_wear</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l04281" name="l04281"></a><span class="lineno"> 4281</span>}</div>
<div class="ttc" id="abodypart_8h_html_a089a199d69623f528a3883672f0a084e"><div class="ttname"><a href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a></div><div class="ttdeci">constexpr std::array&lt; body_part, 12 &gt; all_body_parts</div><div class="ttdoc">Contains all valid body_part values in the order they are defined in.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00082">bodypart.h:82</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a></div><div class="ttdeci">body_part</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00039">bodypart.h:39</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a></div><div class="ttdeci">@ num_bp</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00053">bodypart.h:52</a></div></div>
<div class="ttc" id="aclassCharacter_html_a3aaa75382f6308a729369c7f2ccf0600"><div class="ttname"><a href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">Character::worn_with_flag</a></div><div class="ttdeci">bool worn_with_flag(const std::string &amp;flag, const bodypart_id &amp;bp=bodypart_str_id::NULL_ID()) const</div><div class="ttdoc">Returns true if the player is wearing an item with the given flag.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03241">character.cpp:3241</a></div></div>
<div class="ttc" id="aclassCharacter_html_a95d488911238c2c12517dd742b00c81f"><div class="ttname"><a href="classCharacter.html#a95d488911238c2c12517dd742b00c81f">Character::on_item_wear</a></div><div class="ttdeci">void on_item_wear(const item &amp;it)</div><div class="ttdoc">Called when an item is worn.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09822">character.cpp:9822</a></div></div>
<div class="ttc" id="aclassCharacter_html_aab4a81807fc7f6760a2f426046da8809"><div class="ttname"><a href="classCharacter.html#aab4a81807fc7f6760a2f426046da8809">Character::get_encumbrance</a></div><div class="ttdeci">std::array&lt; encumbrance_data, num_bp &gt; get_encumbrance() const</div><div class="ttdoc">Get encumbrance for all body parts.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03651">character.cpp:3651</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac2245aed6c7279986f42ef9208e816c0"><div class="ttname"><a href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">Character::is_limb_broken</a></div><div class="ttdeci">bool is_limb_broken(const bodypart_id &amp;limb) const</div><div class="ttdoc">Returns true if the limb is broken.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01317">character.cpp:1317</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id</a></div><div class="ttdoc">Just like the string_id, this is a wrapper for int based identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="int__id_8h_source.html#l00019">int_id.h:20</a></div></div>
<div class="ttc" id="aclassset__transformed__iuse_html_a8259eefe072d99d3bfd926c57ad6608f"><div class="ttname"><a href="classset__transformed__iuse.html#a8259eefe072d99d3bfd926c57ad6608f">set_transformed_iuse::restricted</a></div><div class="ttdeci">bool restricted</div><div class="ttdoc">Whether the object can only be transformed externally.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00355">iuse_actor.h:355</a></div></div>
<div class="ttc" id="aclassset__transformed__iuse_html_addd27ac331e7684188e78685397024c4"><div class="ttname"><a href="classset__transformed__iuse.html#addd27ac331e7684188e78685397024c4">set_transformed_iuse::dependencies</a></div><div class="ttdeci">std::string dependencies</div><div class="ttdoc">String defining flag needed on activating item.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00360">iuse_actor.h:360</a></div></div>
<div class="ttc" id="aitem_8cpp_html_ac515c71f173b6c81dbc78f60ce2b89d2"><div class="ttname"><a href="item_8cpp.html#ac515c71f173b6c81dbc78f60ce2b89d2">flag_SPLINT</a></div><div class="ttdeci">static const std::string flag_SPLINT(&quot;SPLINT&quot;)</div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="astructbody__part__type_html_a10db02ab49963764a48f84dafd39aa2a"><div class="ttname"><a href="structbody__part__type.html#a10db02ab49963764a48f84dafd39aa2a">body_part_type::part_side</a></div><div class="ttdeci">side part_side</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00124">bodypart.h:124</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="bodypart_8h_source.html#l00082">all_body_parts</a>, <a class="el" href="itype_8h_source.html#l00864">itype::artifact</a>, <a class="el" href="creature_8h_source.html#l00122">Creature::as_player()</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">BOTH</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00982">set_transformed_iuse::bypass()</a>, <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, <a class="el" href="bodypart_8cpp_source.html#l00185">convert_bp()</a>, <a class="el" href="item_8cpp_source.html#l00740">covers()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="iuse__actor_8h_source.html#l00360">set_transformed_iuse::dependencies</a>, <a class="el" href="item_8cpp.html#a5120c05cb3671e389c930ee23297dbaf">flag_POWERARMOR_MOD()</a>, <a class="el" href="item_8cpp.html#ac515c71f173b6c81dbc78f60ce2b89d2">flag_SPLINT()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="iuse_8h_source.html#l00315">use_function::get_actor_ptr()</a>, <a class="el" href="item_8cpp_source.html#l00750">get_covered_body_parts()</a>, <a class="el" href="character_8cpp_source.html#l03651">Character::get_encumbrance()</a>, <a class="el" href="item_8cpp_source.html#l00805">get_side()</a>, <a class="el" href="item_8cpp_source.html#l07786">get_use()</a>, <a class="el" href="item_8cpp_source.html#l04364">handle_pickup_ownership()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="character_8cpp_source.html#l01317">Character::is_limb_broken()</a>, <a class="el" href="item_8cpp_source.html#l00799">is_sided()</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a684d325a7303f52e64011467ff5c5758">LEFT</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="character_8cpp_source.html#l09822">Character::on_item_wear()</a>, <a class="el" href="bodypart_8h_source.html#l00124">body_part_type::part_side</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="iuse__actor_8h_source.html#l00355">set_transformed_iuse::restricted</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a21507b40c80068eda19865706fdc2403">RIGHT</a>, <a class="el" href="item_8cpp_source.html#l00812">set_side()</a>, <a class="el" href="bodypart_8h_source.html#l00237">body_part_set::test()</a>, <a class="el" href="iexamine_8cpp_source.html#l01576">iexamine::transform()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="character_8h_source.html#l01571">Character::worn</a>, and <a class="el" href="character_8cpp_source.html#l03241">Character::worn_with_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l00543">starting_clothes()</a>.</p>

</div>
</div>
<a id="a435e1e28dc59e71f8cb985dd5c7db42c" name="a435e1e28dc59e71f8cb985dd5c7db42c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a435e1e28dc59e71f8cb985dd5c7db42c">&#9670;&nbsp;</a></span>on_wield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::on_wield </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mv</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback when a player starts wielding the item. </p>
<p >The item is already in the weapon slot and is called from there. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>player that has started wielding item </td></tr>
    <tr><td class="paramname">mv</td><td>number of moves <em>already</em> spent wielding the weapon </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04303">4303</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04304" name="l04304"></a><span class="lineno"> 4304</span>{</div>
<div class="line"><a id="l04305" name="l04305"></a><span class="lineno"> 4305</span>    <span class="comment">// TODO: artifacts currently only work with the player character</span></div>
<div class="line"><a id="l04306" name="l04306"></a><span class="lineno"> 4306</span>    <span class="keywordflow">if</span>( &amp;p == &amp;<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a> ) {</div>
<div class="line"><a id="l04307" name="l04307"></a><span class="lineno"> 4307</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;add_artifact_messages( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a>-&gt;effects_wielded );</div>
<div class="line"><a id="l04308" name="l04308"></a><span class="lineno"> 4308</span>    }</div>
<div class="line"><a id="l04309" name="l04309"></a><span class="lineno"> 4309</span> </div>
<div class="line"><a id="l04310" name="l04310"></a><span class="lineno"> 4310</span>    <span class="comment">// weapons with bayonet/bipod or other generic &quot;unhandiness&quot;</span></div>
<div class="line"><a id="l04311" name="l04311"></a><span class="lineno"> 4311</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#afcdefb63ee3af4b8253651f85a182586">flag_SLOW_WIELD</a> ) &amp;&amp; !<a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() ) {</div>
<div class="line"><a id="l04312" name="l04312"></a><span class="lineno"> 4312</span>        <span class="keywordtype">float</span> d = 32.0; <span class="comment">// arbitrary linear scaling factor</span></div>
<div class="line"><a id="l04313" name="l04313"></a><span class="lineno"> 4313</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l04314" name="l04314"></a><span class="lineno"> 4314</span>            d /= std::max( p.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_function" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>() ), 1 );</div>
<div class="line"><a id="l04315" name="l04315"></a><span class="lineno"> 4315</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa2f8dc7ce32d941473ec949d809ae328">is_melee</a>() ) {</div>
<div class="line"><a id="l04316" name="l04316"></a><span class="lineno"> 4316</span>            d /= std::max( p.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_function" href="classitem.html#a634166a0674bcf69eb3874c7e7789344">melee_skill</a>() ), 1 );</div>
<div class="line"><a id="l04317" name="l04317"></a><span class="lineno"> 4317</span>        }</div>
<div class="line"><a id="l04318" name="l04318"></a><span class="lineno"> 4318</span> </div>
<div class="line"><a id="l04319" name="l04319"></a><span class="lineno"> 4319</span>        <span class="keywordtype">int</span> penalty = <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;volume&quot;</span>, <a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() / <a class="code hl_variable" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a> ) * d;</div>
<div class="line"><a id="l04320" name="l04320"></a><span class="lineno"> 4320</span>        p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= penalty;</div>
<div class="line"><a id="l04321" name="l04321"></a><span class="lineno"> 4321</span>        mv += penalty;</div>
<div class="line"><a id="l04322" name="l04322"></a><span class="lineno"> 4322</span>    }</div>
<div class="line"><a id="l04323" name="l04323"></a><span class="lineno"> 4323</span> </div>
<div class="line"><a id="l04324" name="l04324"></a><span class="lineno"> 4324</span>    <span class="comment">// firearms with a folding stock or tool/melee without collapse/retract iuse</span></div>
<div class="line"><a id="l04325" name="l04325"></a><span class="lineno"> 4325</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a1cad51878f20de10fe82ad8da0795829">flag_NEEDS_UNFOLD</a> ) &amp;&amp; !<a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() ) {</div>
<div class="line"><a id="l04326" name="l04326"></a><span class="lineno"> 4326</span>        <span class="keywordtype">int</span> penalty = 50; <span class="comment">// 200-300 for guns, 50-150 for melee, 50 as fallback</span></div>
<div class="line"><a id="l04327" name="l04327"></a><span class="lineno"> 4327</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l04328" name="l04328"></a><span class="lineno"> 4328</span>            penalty = std::max( 0, 300 - p.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_function" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>() ) * 10 );</div>
<div class="line"><a id="l04329" name="l04329"></a><span class="lineno"> 4329</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa2f8dc7ce32d941473ec949d809ae328">is_melee</a>() ) {</div>
<div class="line"><a id="l04330" name="l04330"></a><span class="lineno"> 4330</span>            penalty = std::max( 0, 150 - p.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_function" href="classitem.html#a634166a0674bcf69eb3874c7e7789344">melee_skill</a>() ) * 10 );</div>
<div class="line"><a id="l04331" name="l04331"></a><span class="lineno"> 4331</span>        }</div>
<div class="line"><a id="l04332" name="l04332"></a><span class="lineno"> 4332</span> </div>
<div class="line"><a id="l04333" name="l04333"></a><span class="lineno"> 4333</span>        p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= penalty;</div>
<div class="line"><a id="l04334" name="l04334"></a><span class="lineno"> 4334</span>        mv += penalty;</div>
<div class="line"><a id="l04335" name="l04335"></a><span class="lineno"> 4335</span>    }</div>
<div class="line"><a id="l04336" name="l04336"></a><span class="lineno"> 4336</span> </div>
<div class="line"><a id="l04337" name="l04337"></a><span class="lineno"> 4337</span>    std::string msg;</div>
<div class="line"><a id="l04338" name="l04338"></a><span class="lineno"> 4338</span> </div>
<div class="line"><a id="l04339" name="l04339"></a><span class="lineno"> 4339</span>    <span class="keywordflow">if</span>( mv &gt; 500 ) {</div>
<div class="line"><a id="l04340" name="l04340"></a><span class="lineno"> 4340</span>        msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It takes you an extremely long time to wield your %s.&quot;</span> );</div>
<div class="line"><a id="l04341" name="l04341"></a><span class="lineno"> 4341</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mv &gt; 250 ) {</div>
<div class="line"><a id="l04342" name="l04342"></a><span class="lineno"> 4342</span>        msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It takes you a very long time to wield your %s.&quot;</span> );</div>
<div class="line"><a id="l04343" name="l04343"></a><span class="lineno"> 4343</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mv &gt; 100 ) {</div>
<div class="line"><a id="l04344" name="l04344"></a><span class="lineno"> 4344</span>        msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It takes you a long time to wield your %s.&quot;</span> );</div>
<div class="line"><a id="l04345" name="l04345"></a><span class="lineno"> 4345</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mv &gt; 50 ) {</div>
<div class="line"><a id="l04346" name="l04346"></a><span class="lineno"> 4346</span>        msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It takes you several seconds to wield your %s.&quot;</span> );</div>
<div class="line"><a id="l04347" name="l04347"></a><span class="lineno"> 4347</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04348" name="l04348"></a><span class="lineno"> 4348</span>        msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You wield your %s.&quot;</span> );</div>
<div class="line"><a id="l04349" name="l04349"></a><span class="lineno"> 4349</span>    }</div>
<div class="line"><a id="l04350" name="l04350"></a><span class="lineno"> 4350</span>    <span class="comment">// if game is loaded - don&#39;t want ownership assigned during char creation</span></div>
<div class="line"><a id="l04351" name="l04351"></a><span class="lineno"> 4351</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.getID().is_valid() ) {</div>
<div class="line"><a id="l04352" name="l04352"></a><span class="lineno"> 4352</span>        <a class="code hl_function" href="classitem.html#a9113a7b590ad5a3d343de910de33aff2">handle_pickup_ownership</a>( p );</div>
<div class="line"><a id="l04353" name="l04353"></a><span class="lineno"> 4353</span>    }</div>
<div class="line"><a id="l04354" name="l04354"></a><span class="lineno"> 4354</span>    p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, msg, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04355" name="l04355"></a><span class="lineno"> 4355</span> </div>
<div class="line"><a id="l04356" name="l04356"></a><span class="lineno"> 4356</span>    <span class="keywordflow">if</span>( !p.<a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;selected_is_none() ) {</div>
<div class="line"><a id="l04357" name="l04357"></a><span class="lineno"> 4357</span>        p.<a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;martialart_use_message( p );</div>
<div class="line"><a id="l04358" name="l04358"></a><span class="lineno"> 4358</span>    }</div>
<div class="line"><a id="l04359" name="l04359"></a><span class="lineno"> 4359</span> </div>
<div class="line"><a id="l04360" name="l04360"></a><span class="lineno"> 4360</span>    <span class="comment">// Update encumbrance in case we were wearing it</span></div>
<div class="line"><a id="l04361" name="l04361"></a><span class="lineno"> 4361</span>    p.<a class="code hl_function" href="classCharacter.html#a3801457283281bb7dcc0572d3f707e10">flag_encumbrance</a>();</div>
<div class="line"><a id="l04362" name="l04362"></a><span class="lineno"> 4362</span>}</div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00569">creature.h:569</a></div></div>
<div class="ttc" id="aclassplayer_html_ae7009d849f19a4f5ebe877cbe463c459"><div class="ttname"><a href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">player::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04368">player.cpp:4368</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a></div><div class="ttdeci">@ m_neutral</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00260">enums.h:260</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a1cad51878f20de10fe82ad8da0795829"><div class="ttname"><a href="item_8cpp.html#a1cad51878f20de10fe82ad8da0795829">flag_NEEDS_UNFOLD</a></div><div class="ttdeci">static const std::string flag_NEEDS_UNFOLD(&quot;NEEDS_UNFOLD&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_afcdefb63ee3af4b8253651f85a182586"><div class="ttname"><a href="item_8cpp.html#afcdefb63ee3af4b8253651f85a182586">flag_SLOW_WIELD</a></div><div class="ttdeci">static const std::string flag_SLOW_WIELD(&quot;SLOW_WIELD&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l00864">itype::artifact</a>, <a class="el" href="character_8cpp_source.html#l01825">Character::flag_encumbrance()</a>, <a class="el" href="item_8cpp.html#a1cad51878f20de10fe82ad8da0795829">flag_NEEDS_UNFOLD()</a>, <a class="el" href="item_8cpp.html#afcdefb63ee3af4b8253651f85a182586">flag_SLOW_WIELD()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l07026">gun_skill()</a>, <a class="el" href="item_8cpp_source.html#l04364">handle_pickup_ownership()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="item_8cpp_source.html#l06517">is_melee()</a>, <a class="el" href="units__volume_8h_source.html#l00050">units::legacy_volume_factor</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="character_8h_source.html#l01589">Character::martial_arts_data</a>, <a class="el" href="item_8cpp_source.html#l07047">melee_skill()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="item_8cpp_source.html#l04991">volume()</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar_8cpp_source.html#l01226">avatar::wield()</a>, and <a class="el" href="player_8cpp_source.html#l04203">player::wield_contents()</a>.</p>

</div>
</div>
<a id="a663b9d5d6a66664552e5551e11812ed9" name="a663b9d5d6a66664552e5551e11812ed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a663b9d5d6a66664552e5551e11812ed9">&#9670;&nbsp;</a></span>only_made_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::only_made_of </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>mat_idents</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check we are made of only the materials (e.g. </p>
<p >false if we have one material not in the set or no materials at all). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mat_idents</td><td>Set of material ids. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06297">6297</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06298" name="l06298"></a><span class="lineno"> 6298</span>{</div>
<div class="line"><a id="l06299" name="l06299"></a><span class="lineno"> 6299</span>    <span class="keyword">const</span> std::vector&lt;material_id&gt; &amp;mats = <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>();</div>
<div class="line"><a id="l06300" name="l06300"></a><span class="lineno"> 6300</span>    <span class="keywordflow">if</span>( mats.empty() ) {</div>
<div class="line"><a id="l06301" name="l06301"></a><span class="lineno"> 6301</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06302" name="l06302"></a><span class="lineno"> 6302</span>    }</div>
<div class="line"><a id="l06303" name="l06303"></a><span class="lineno"> 6303</span> </div>
<div class="line"><a id="l06304" name="l06304"></a><span class="lineno"> 6304</span>    <span class="keywordflow">return</span> std::all_of( mats.begin(), mats.end(), [&amp;mat_idents]( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">material_id</a> &amp; e ) {</div>
<div class="line"><a id="l06305" name="l06305"></a><span class="lineno"> 6305</span>        return mat_idents.count( e );</div>
<div class="line"><a id="l06306" name="l06306"></a><span class="lineno"> 6306</span>    } );</div>
<div class="line"><a id="l06307" name="l06307"></a><span class="lineno"> 6307</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l01589">salvage_actor::try_to_cut_up()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l01565">salvage_actor::valid_to_cut_up()</a>.</p>

</div>
</div>
<a id="a9691e517a7bc100b0734bf6e89feb708" name="a9691e517a7bc100b0734bf6e89feb708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9691e517a7bc100b0734bf6e89feb708">&#9670;&nbsp;</a></span>operator&lt;()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::operator&lt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06996">6996</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06997" name="l06997"></a><span class="lineno"> 6997</span>{</div>
<div class="line"><a id="l06998" name="l06998"></a><span class="lineno"> 6998</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem__category.html">item_category</a> &amp;cat_a = <a class="code hl_function" href="classitem.html#ad43578374fc9be1e16117405cd709f7d">get_category</a>();</div>
<div class="line"><a id="l06999" name="l06999"></a><span class="lineno"> 6999</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem__category.html">item_category</a> &amp;cat_b = <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.get_category();</div>
<div class="line"><a id="l07000" name="l07000"></a><span class="lineno"> 7000</span>    <span class="keywordflow">if</span>( cat_a != cat_b ) {</div>
<div class="line"><a id="l07001" name="l07001"></a><span class="lineno"> 7001</span>        <span class="keywordflow">return</span> cat_a &lt; cat_b;</div>
<div class="line"><a id="l07002" name="l07002"></a><span class="lineno"> 7002</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07003" name="l07003"></a><span class="lineno"> 7003</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *me = <a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() &amp;&amp; !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ? &amp;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>() : <span class="keyword">this</span>;</div>
<div class="line"><a id="l07004" name="l07004"></a><span class="lineno"> 7004</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *rhs = <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.is_container() &amp;&amp;</div>
<div class="line"><a id="l07005" name="l07005"></a><span class="lineno"> 7005</span>                          !<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.contents.empty() ? &amp;<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.contents.front() : &amp;<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>;</div>
<div class="line"><a id="l07006" name="l07006"></a><span class="lineno"> 7006</span> </div>
<div class="line"><a id="l07007" name="l07007"></a><span class="lineno"> 7007</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *me_type = me-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>;</div>
<div class="line"><a id="l07008" name="l07008"></a><span class="lineno"> 7008</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *rhs_type = rhs-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>;</div>
<div class="line"><a id="l07009" name="l07009"></a><span class="lineno"> 7009</span>        <span class="keywordflow">if</span>( !me_type || !rhs_type ) {</div>
<div class="line"><a id="l07010" name="l07010"></a><span class="lineno"> 7010</span>            <span class="keywordflow">return</span> !!me_type;</div>
<div class="line"><a id="l07011" name="l07011"></a><span class="lineno"> 7011</span>        }</div>
<div class="line"><a id="l07012" name="l07012"></a><span class="lineno"> 7012</span> </div>
<div class="line"><a id="l07013" name="l07013"></a><span class="lineno"> 7013</span>        <span class="keywordflow">if</span>( me_type-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>() == rhs_type-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>() ) {</div>
<div class="line"><a id="l07014" name="l07014"></a><span class="lineno"> 7014</span>            <span class="keywordflow">if</span>( me-&gt;<a class="code hl_function" href="classitem.html#a72d58d172f74830b7d965a0fdfaa2c17">is_money</a>() ) {</div>
<div class="line"><a id="l07015" name="l07015"></a><span class="lineno"> 7015</span>                <span class="keywordflow">return</span> me-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; rhs-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l07016" name="l07016"></a><span class="lineno"> 7016</span>            }</div>
<div class="line"><a id="l07017" name="l07017"></a><span class="lineno"> 7017</span>            <span class="keywordflow">return</span> me-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt; rhs-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l07018" name="l07018"></a><span class="lineno"> 7018</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07019" name="l07019"></a><span class="lineno"> 7019</span>            std::string n1 = me_type-&gt;<a class="code hl_function" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 );</div>
<div class="line"><a id="l07020" name="l07020"></a><span class="lineno"> 7020</span>            std::string n2 = rhs_type-&gt;<a class="code hl_function" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 );</div>
<div class="line"><a id="l07021" name="l07021"></a><span class="lineno"> 7021</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="translations_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a>( n1, n2 );</div>
<div class="line"><a id="l07022" name="l07022"></a><span class="lineno"> 7022</span>        }</div>
<div class="line"><a id="l07023" name="l07023"></a><span class="lineno"> 7023</span>    }</div>
<div class="line"><a id="l07024" name="l07024"></a><span class="lineno"> 7024</span>}</div>
<div class="ttc" id="acharacter_8h_html_a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf"><div class="ttname"><a href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">rechargeable_cbm::other</a></div><div class="ttdeci">@ other</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l08529">get_category()</a>, <a class="el" href="itype_8h_source.html#l01070">itype::get_id()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="item_8cpp_source.html#l05850">is_money()</a>, <a class="el" href="translations_8h_source.html#l00342">localized_compare</a>, <a class="el" href="itype_8cpp_source.html#l00046">itype::nname()</a>, <a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a8d12f7bfcc36ccb93a62b3f0c69a2e43" name="a8d12f7bfcc36ccb93a62b3f0c69a2e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d12f7bfcc36ccb93a62b3f0c69a2e43">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ada5a8e90312d86dcd281fa50d5abe886" name="ada5a8e90312d86dcd281fa50d5abe886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada5a8e90312d86dcd281fa50d5abe886">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a910393f5651f273b5df0bdd576bef78d" name="a910393f5651f273b5df0bdd576bef78d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a910393f5651f273b5df0bdd576bef78d">&#9670;&nbsp;</a></span>price()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::price </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>practical</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the monetary value of an item. </p>
<p >If <code>practical</code> is false, returns pre-cataclysm market value, otherwise returns approximate post-cataclysm value. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04807">4807</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04808" name="l04808"></a><span class="lineno"> 4808</span>{</div>
<div class="line"><a id="l04809" name="l04809"></a><span class="lineno"> 4809</span>    <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><a id="l04810" name="l04810"></a><span class="lineno"> 4810</span> </div>
<div class="line"><a id="l04811" name="l04811"></a><span class="lineno"> 4811</span>    <a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>( [&amp;res, practical]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> * e ) {</div>
<div class="line"><a id="l04812" name="l04812"></a><span class="lineno"> 4812</span>        <span class="keywordflow">if</span>( e-&gt;<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) {</div>
<div class="line"><a id="l04813" name="l04813"></a><span class="lineno"> 4813</span>            <span class="comment">// TODO: Special case things that stay useful when rotten</span></div>
<div class="line"><a id="l04814" name="l04814"></a><span class="lineno"> 4814</span>            return VisitResponse::NEXT;</div>
<div class="line"><a id="l04815" name="l04815"></a><span class="lineno"> 4815</span>        }</div>
<div class="line"><a id="l04816" name="l04816"></a><span class="lineno"> 4816</span> </div>
<div class="line"><a id="l04817" name="l04817"></a><span class="lineno"> 4817</span>        <span class="keywordtype">int</span> child = <a class="code hl_function" href="namespaceunits.html#afc3989e0a676995d9a235753085f235f">units::to_cent</a>( practical ? e-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a435567e9d513701c13586b96e289e33a">price_post</a> : e-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a41038ca826de1713661d7edd6c1705d0">price</a> );</div>
<div class="line"><a id="l04818" name="l04818"></a><span class="lineno"> 4818</span>        <span class="keywordflow">if</span>( e-&gt;<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; 0 ) {</div>
<div class="line"><a id="l04819" name="l04819"></a><span class="lineno"> 4819</span>            <span class="comment">// maximal damage level is 4, maximal reduction is 40% of the value.</span></div>
<div class="line"><a id="l04820" name="l04820"></a><span class="lineno"> 4820</span>            child -= child * static_cast&lt;double&gt;( e-&gt;damage_level( 4 ) ) / 10;</div>
<div class="line"><a id="l04821" name="l04821"></a><span class="lineno"> 4821</span>        }</div>
<div class="line"><a id="l04822" name="l04822"></a><span class="lineno"> 4822</span> </div>
<div class="line"><a id="l04823" name="l04823"></a><span class="lineno"> 4823</span>        <span class="keywordflow">if</span>( e-&gt;<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() || e-&gt;<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l04824" name="l04824"></a><span class="lineno"> 4824</span>            <span class="comment">// price from json data is for default-sized stack</span></div>
<div class="line"><a id="l04825" name="l04825"></a><span class="lineno"> 4825</span>            child *= e-&gt;charges / static_cast&lt;double&gt;( e-&gt;type-&gt;stack_size );</div>
<div class="line"><a id="l04826" name="l04826"></a><span class="lineno"> 4826</span> </div>
<div class="line"><a id="l04827" name="l04827"></a><span class="lineno"> 4827</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e-&gt;<a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() &amp;&amp; e-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &amp;&amp; e-&gt;<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() ) {</div>
<div class="line"><a id="l04828" name="l04828"></a><span class="lineno"> 4828</span>            <span class="comment">// items with integral magazines may contain ammunition which can affect the price</span></div>
<div class="line"><a id="l04829" name="l04829"></a><span class="lineno"> 4829</span>            child += item( e-&gt;ammo_data(), calendar::turn, e-&gt;charges ).price( practical );</div>
<div class="line"><a id="l04830" name="l04830"></a><span class="lineno"> 4830</span> </div>
<div class="line"><a id="l04831" name="l04831"></a><span class="lineno"> 4831</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e-&gt;<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() &amp;&amp; e-&gt;<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().empty() &amp;&amp; e-&gt;<a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() ) {</div>
<div class="line"><a id="l04832" name="l04832"></a><span class="lineno"> 4832</span>            <span class="comment">// if tool has no ammo (e.g. spray can) reduce price proportional to remaining charges</span></div>
<div class="line"><a id="l04833" name="l04833"></a><span class="lineno"> 4833</span>            child *= e-&gt;ammo_remaining() / static_cast&lt;double&gt;( std::max( e-&gt;type-&gt;charges_default(), 1 ) );</div>
<div class="line"><a id="l04834" name="l04834"></a><span class="lineno"> 4834</span>        }</div>
<div class="line"><a id="l04835" name="l04835"></a><span class="lineno"> 4835</span> </div>
<div class="line"><a id="l04836" name="l04836"></a><span class="lineno"> 4836</span>        res += child;</div>
<div class="line"><a id="l04837" name="l04837"></a><span class="lineno"> 4837</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l04838" name="l04838"></a><span class="lineno"> 4838</span>    } );</div>
<div class="line"><a id="l04839" name="l04839"></a><span class="lineno"> 4839</span> </div>
<div class="line"><a id="l04840" name="l04840"></a><span class="lineno"> 4840</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l04841" name="l04841"></a><span class="lineno"> 4841</span>}</div>
<div class="ttc" id="anamespaceunits_html_afc3989e0a676995d9a235753085f235f"><div class="ttname"><a href="namespaceunits.html#afc3989e0a676995d9a235753085f235f">units::to_cent</a></div><div class="ttdeci">constexpr value_type to_cent(const quantity&lt; value_type, money_in_cent_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__money_8h_source.html#l00044">units_money.h:44</a></div></div>
<div class="ttc" id="astructitype_html_a41038ca826de1713661d7edd6c1705d0"><div class="ttname"><a href="structitype.html#a41038ca826de1713661d7edd6c1705d0">itype::price</a></div><div class="ttdeci">units::money price</div><div class="ttdoc">Value before cataclysm.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00985">itype.h:985</a></div></div>
<div class="ttc" id="astructitype_html_a435567e9d513701c13586b96e289e33a"><div class="ttname"><a href="structitype.html#a435567e9d513701c13586b96e289e33a">itype::price_post</a></div><div class="ttdeci">units::money price_post</div><div class="ttdoc">Value after cataclysm, dependent upon practical usages.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00987">itype.h:987</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="itype_8h_source.html#l00985">itype::price</a>, <a class="el" href="itype_8h_source.html#l00987">itype::price_post</a>, <a class="el" href="item_8h_source.html#l00853">rotten()</a>, <a class="el" href="units__money_8h_source.html#l00044">units::to_cent()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="visitable_8cpp_source.html#l00423">visitable&lt; item &gt;::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk__funcs_8cpp_source.html#l00451">talk_function::bionic_install()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00474">talk_function::bionic_remove()</a>, <a class="el" href="gamemode__defense_8cpp_source.html#l00857">defense_game::caravan()</a>, <a class="el" href="gamemode__defense_8cpp_source.html#l01235">draw_caravan_items()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01086">talk_function::field_harvest()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01960">bionic_install_surgeon_preset::get_money_amount()</a>, <a class="el" href="npctrade_8cpp_source.html#l00148">npc_trading::init_buying()</a>, <a class="el" href="npctrade_8cpp_source.html#l00096">npc_trading::init_selling()</a>, <a class="el" href="npctalk_8cpp_source.html#l01571">parse_tags()</a>, <a class="el" href="npctalk_8cpp_source.html#l02309">talk_effect_fun_t::set_bulk_trade_accept()</a>, <a class="el" href="npc_8cpp_source.html#l01662">npc::shop_restock()</a>, <a class="el" href="npc_8cpp_source.html#l01735">npc::value()</a>, <a class="el" href="npc_8cpp_source.html#l01592">npc::wants_to_buy()</a>, and <a class="el" href="npc_8cpp_source.html#l01569">npc::wants_to_sell()</a>.</p>

</div>
</div>
<a id="a36618e7473c8e261835fbe80c32a07bd" name="a36618e7473c8e261835fbe80c32a07bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36618e7473c8e261835fbe80c32a07bd">&#9670;&nbsp;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>activate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>insulation</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5d">temperature_flag</a>&#160;</td>
          <td class="paramname"><em>flag</em> = <code><a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da1c0c1c880058ab81dac39f56cedc8a79">temperature_flag::TEMP_NORMAL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is called once each turn. </p>
<p >It's usually only useful for active items, but can be called for inactive items without problems. It is recursive, and calls process on any contained items. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">carrier</td><td>The player / npc that carries the item. This can be null when the item is not carried by anyone (laying on ground)! </td></tr>
    <tr><td class="paramname">pos</td><td>The location of the item on the map, same system as <a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">player::pos</a> used. If the item is carried, it should be the location of the carrier. </td></tr>
    <tr><td class="paramname">activate</td><td>Whether the item should be activated (true), or processed as an active item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the item has been destroyed by the processing. The caller should than delete the item wherever it was stored. Returns false if the item is not destroyed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09426">9426</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09428" name="l09428"></a><span class="lineno"> 9428</span>{</div>
<div class="line"><a id="l09429" name="l09429"></a><span class="lineno"> 9429</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> preserves = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;preserves;</div>
<div class="line"><a id="l09430" name="l09430"></a><span class="lineno"> 9430</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> seals = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;seals;</div>
<div class="line"><a id="l09431" name="l09431"></a><span class="lineno"> 9431</span>    std::vector&lt;item *&gt; removed_items;</div>
<div class="line"><a id="l09432" name="l09432"></a><span class="lineno"> 9432</span>    <a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>( [&amp;]( <a class="code hl_class" href="classitem.html">item</a> * it ) {</div>
<div class="line"><a id="l09433" name="l09433"></a><span class="lineno"> 9433</span>        <span class="keywordflow">if</span>( preserves ) {</div>
<div class="line"><a id="l09434" name="l09434"></a><span class="lineno"> 9434</span>            <span class="comment">// Simulate that the item has already &quot;rotten&quot; up to last_rot_check, but as item::rot</span></div>
<div class="line"><a id="l09435" name="l09435"></a><span class="lineno"> 9435</span>            <span class="comment">// is not changed, the item is still fresh.</span></div>
<div class="line"><a id="l09436" name="l09436"></a><span class="lineno"> 9436</span>            it-&gt;<a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> = <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a id="l09437" name="l09437"></a><span class="lineno"> 9437</span>        }</div>
<div class="line"><a id="l09438" name="l09438"></a><span class="lineno"> 9438</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aca73b6d869d64fd46376dc32dcffb2fd">process_internal</a>( carrier, pos, <a class="code hl_function" href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">activate</a>, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a1f98e4086129c4db4a4903e7a6bdac72">insulation_factor</a> * insulation, seals,</div>
<div class="line"><a id="l09439" name="l09439"></a><span class="lineno"> 9439</span>                                  flag ) ) {</div>
<div class="line"><a id="l09440" name="l09440"></a><span class="lineno"> 9440</span>            removed_items.push_back( it );</div>
<div class="line"><a id="l09441" name="l09441"></a><span class="lineno"> 9441</span>        }</div>
<div class="line"><a id="l09442" name="l09442"></a><span class="lineno"> 9442</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l09443" name="l09443"></a><span class="lineno"> 9443</span>    } );</div>
<div class="line"><a id="l09444" name="l09444"></a><span class="lineno"> 9444</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *it : removed_items ) {</div>
<div class="line"><a id="l09445" name="l09445"></a><span class="lineno"> 9445</span>        <span class="keywordflow">if</span>( it != <span class="keyword">this</span> ) {</div>
<div class="line"><a id="l09446" name="l09446"></a><span class="lineno"> 9446</span>            <a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *it );</div>
<div class="line"><a id="l09447" name="l09447"></a><span class="lineno"> 9447</span>        }</div>
<div class="line"><a id="l09448" name="l09448"></a><span class="lineno"> 9448</span>    }</div>
<div class="line"><a id="l09449" name="l09449"></a><span class="lineno"> 9449</span>    <span class="keywordflow">return</span> !removed_items.empty() &amp;&amp; std::any_of( removed_items.begin(), removed_items.end(),</div>
<div class="line"><a id="l09450" name="l09450"></a><span class="lineno"> 9450</span>    [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> * r ) {</div>
<div class="line"><a id="l09451" name="l09451"></a><span class="lineno"> 9451</span>        return r == this;</div>
<div class="line"><a id="l09452" name="l09452"></a><span class="lineno"> 9452</span>    } );</div>
<div class="line"><a id="l09453" name="l09453"></a><span class="lineno"> 9453</span>}</div>
<div class="ttc" id="aclassitem_html_a7f1ae4e309841707eea0852dd4cd95a3"><div class="ttname"><a href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">item::activate</a></div><div class="ttdeci">item &amp; activate()</div><div class="ttdoc">Filter converting instance to active state.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00554">item.cpp:554</a></div></div>
<div class="ttc" id="aclassitem_html_aca73b6d869d64fd46376dc32dcffb2fd"><div class="ttname"><a href="classitem.html#aca73b6d869d64fd46376dc32dcffb2fd">item::process_internal</a></div><div class="ttdeci">bool process_internal(player *carrier, const tripoint &amp;pos, bool activate, float insulation=1, bool seals=false, temperature_flag flag=temperature_flag::TEMP_NORMAL)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09455">item.cpp:9455</a></div></div>
<div class="ttc" id="astructitype_html_a1f98e4086129c4db4a4903e7a6bdac72"><div class="ttname"><a href="structitype.html#a1f98e4086129c4db4a4903e7a6bdac72">itype::insulation_factor</a></div><div class="ttdeci">float insulation_factor</div><div class="ttdoc">How much insulation this item provides, either as a container, or as a vehicle base part.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01035">itype.h:1035</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00554">activate()</a>, <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, <a class="el" href="itype_8h_source.html#l01035">itype::insulation_factor</a>, <a class="el" href="item_8h_source.html#l02221">last_rot_check</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; item &gt;::remove_item()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="visitable_8cpp_source.html#l00423">visitable&lt; item &gt;::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, <a class="el" href="iuse_8cpp_source.html#l08909">iuse::cable_attach()</a>, <a class="el" href="ballistics_8cpp_source.html#l00060">drop_or_embed_projectile()</a>, <a class="el" href="monattack_8cpp_source.html#l05352">mattack::kamikaze()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00369">vehicle_part::process_contents()</a>, <a class="el" href="player_8cpp_source.html#l01782">player::process_items()</a>, and <a class="el" href="iuse_8cpp_source.html#l08782">iuse::tow_attach()</a>.</p>

</div>
</div>
<a id="aaa4ffcaf91f734206a25494d44c01004" name="aaa4ffcaf91f734206a25494d44c01004"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa4ffcaf91f734206a25494d44c01004">&#9670;&nbsp;</a></span>process_artifact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::process_artifact </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process and apply artifact effects. </p>
<p >This should be called exactly once each turn, it may modify character stats (like speed, strength, ...), so call it after those have been reset. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">carrier</td><td>The character carrying the artifact, can be null. </td></tr>
    <tr><td class="paramname">pos</td><td>The location of the artifact (should be the player location if carried). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08905">8905</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08906" name="l08906"></a><span class="lineno"> 8906</span>{</div>
<div class="line"><a id="l08907" name="l08907"></a><span class="lineno"> 8907</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a363ebdca3f9264390dbc6618de34c778">is_artifact</a>() ) {</div>
<div class="line"><a id="l08908" name="l08908"></a><span class="lineno"> 8908</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08909" name="l08909"></a><span class="lineno"> 8909</span>    }</div>
<div class="line"><a id="l08910" name="l08910"></a><span class="lineno"> 8910</span>    <span class="comment">// Artifacts are currently only useful for the player character, the messages</span></div>
<div class="line"><a id="l08911" name="l08911"></a><span class="lineno"> 8911</span>    <span class="comment">// don&#39;t consider npcs. Also they are not processed when laying on the ground.</span></div>
<div class="line"><a id="l08912" name="l08912"></a><span class="lineno"> 8912</span>    <span class="comment">// TODO: change game::process_artifact to work with npcs,</span></div>
<div class="line"><a id="l08913" name="l08913"></a><span class="lineno"> 8913</span>    <span class="comment">// TODO: consider moving game::process_artifact here.</span></div>
<div class="line"><a id="l08914" name="l08914"></a><span class="lineno"> 8914</span>    <span class="keywordflow">if</span>( carrier == &amp;<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u ) {</div>
<div class="line"><a id="l08915" name="l08915"></a><span class="lineno"> 8915</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;process_artifact( *<span class="keyword">this</span>, *carrier );</div>
<div class="line"><a id="l08916" name="l08916"></a><span class="lineno"> 8916</span>    }</div>
<div class="line"><a id="l08917" name="l08917"></a><span class="lineno"> 8917</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>, and <a class="el" href="item_8cpp_source.html#l06813">is_artifact()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00319">player::process_turn()</a>.</p>

</div>
</div>
<a id="a8423c5996cdb88ce29dbf762419434b3" name="a8423c5996cdb88ce29dbf762419434b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8423c5996cdb88ce29dbf762419434b3">&#9670;&nbsp;</a></span>process_blackpowder_fouling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_blackpowder_fouling </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09415">9415</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09416" name="l09416"></a><span class="lineno"> 9416</span>{</div>
<div class="line"><a id="l09417" name="l09417"></a><span class="lineno"> 9417</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &lt; <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2000 ) ) {</div>
<div class="line"><a id="l09418" name="l09418"></a><span class="lineno"> 9418</span>        <a class="code hl_function" href="classitem.html#a6dc463a17ae0cac2850b6d1bc8b34fa7">inc_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90">DT_ACID</a> );</div>
<div class="line"><a id="l09419" name="l09419"></a><span class="lineno"> 9419</span>        <span class="keywordflow">if</span>( carrier ) {</div>
<div class="line"><a id="l09420" name="l09420"></a><span class="lineno"> 9420</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s rusts due to blackpowder fouling.&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09421" name="l09421"></a><span class="lineno"> 9421</span>        }</div>
<div class="line"><a id="l09422" name="l09422"></a><span class="lineno"> 9422</span>    }</div>
<div class="line"><a id="l09423" name="l09423"></a><span class="lineno"> 9423</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09424" name="l09424"></a><span class="lineno"> 9424</span>}</div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00254">enums.h:254</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="damage_8h_source.html#l00026">DT_ACID</a>, <a class="el" href="item_8cpp_source.html#l06108">inc_damage()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="af55f0e28669555cdce3c34cafba31d24" name="af55f0e28669555cdce3c34cafba31d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af55f0e28669555cdce3c34cafba31d24">&#9670;&nbsp;</a></span>process_cable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_cable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09198">9198</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09199" name="l09199"></a><span class="lineno"> 9199</span>{</div>
<div class="line"><a id="l09200" name="l09200"></a><span class="lineno"> 9200</span>    <span class="keywordflow">if</span>( carrier == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09201" name="l09201"></a><span class="lineno"> 9201</span>        <span class="comment">//reset_cable( carrier );</span></div>
<div class="line"><a id="l09202" name="l09202"></a><span class="lineno"> 9202</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09203" name="l09203"></a><span class="lineno"> 9203</span>    }</div>
<div class="line"><a id="l09204" name="l09204"></a><span class="lineno"> 9204</span>    std::string state = <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;state&quot;</span> );</div>
<div class="line"><a id="l09205" name="l09205"></a><span class="lineno"> 9205</span>    <span class="keywordflow">if</span>( state == <span class="stringliteral">&quot;solar_pack_link&quot;</span> || state == <span class="stringliteral">&quot;solar_pack&quot;</span> ) {</div>
<div class="line"><a id="l09206" name="l09206"></a><span class="lineno"> 9206</span>        <span class="keywordflow">if</span>( !carrier-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *<span class="keyword">this</span> ) || !carrier-&gt;<a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <span class="stringliteral">&quot;SOLARPACK_ON&quot;</span> ) ) {</div>
<div class="line"><a id="l09207" name="l09207"></a><span class="lineno"> 9207</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You notice the cable has come loose!&quot;</span> ) );</div>
<div class="line"><a id="l09208" name="l09208"></a><span class="lineno"> 9208</span>            <a class="code hl_function" href="classitem.html#a75dd0b9b631f012c245f51e1f894305b">reset_cable</a>( carrier );</div>
<div class="line"><a id="l09209" name="l09209"></a><span class="lineno"> 9209</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09210" name="l09210"></a><span class="lineno"> 9210</span>        }</div>
<div class="line"><a id="l09211" name="l09211"></a><span class="lineno"> 9211</span>    }</div>
<div class="line"><a id="l09212" name="l09212"></a><span class="lineno"> 9212</span> </div>
<div class="line"><a id="l09213" name="l09213"></a><span class="lineno"> 9213</span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_typedef" href="game_8h.html#ae92a399600a4c7e5972eb3e98e3cc718">item_filter</a> used_ups = [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; itm ) {</div>
<div class="line"><a id="l09214" name="l09214"></a><span class="lineno"> 9214</span>        <span class="keywordflow">return</span> itm.get_var( <span class="stringliteral">&quot;cable&quot;</span> ) == <span class="stringliteral">&quot;plugged_in&quot;</span>;</div>
<div class="line"><a id="l09215" name="l09215"></a><span class="lineno"> 9215</span>    };</div>
<div class="line"><a id="l09216" name="l09216"></a><span class="lineno"> 9216</span> </div>
<div class="line"><a id="l09217" name="l09217"></a><span class="lineno"> 9217</span>    <span class="keywordflow">if</span>( state == <span class="stringliteral">&quot;UPS&quot;</span> ) {</div>
<div class="line"><a id="l09218" name="l09218"></a><span class="lineno"> 9218</span>        <span class="keywordflow">if</span>( !carrier-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *<span class="keyword">this</span> ) || !carrier-&gt;<a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( used_ups ) ) {</div>
<div class="line"><a id="l09219" name="l09219"></a><span class="lineno"> 9219</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You notice the cable has come loose!&quot;</span> ) );</div>
<div class="line"><a id="l09220" name="l09220"></a><span class="lineno"> 9220</span>            <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *used : carrier-&gt;<a class="code hl_function" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a>( used_ups ) ) {</div>
<div class="line"><a id="l09221" name="l09221"></a><span class="lineno"> 9221</span>                used-&gt;erase_var( <span class="stringliteral">&quot;cable&quot;</span> );</div>
<div class="line"><a id="l09222" name="l09222"></a><span class="lineno"> 9222</span>            }</div>
<div class="line"><a id="l09223" name="l09223"></a><span class="lineno"> 9223</span>            <a class="code hl_function" href="classitem.html#a75dd0b9b631f012c245f51e1f894305b">reset_cable</a>( carrier );</div>
<div class="line"><a id="l09224" name="l09224"></a><span class="lineno"> 9224</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09225" name="l09225"></a><span class="lineno"> 9225</span>        }</div>
<div class="line"><a id="l09226" name="l09226"></a><span class="lineno"> 9226</span>    }</div>
<div class="line"><a id="l09227" name="l09227"></a><span class="lineno"> 9227</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> source = <a class="code hl_function" href="classitem.html#ab6e199f76e3d8f9d2770cf18a1b6e0cf">get_cable_target</a>( carrier, pos );</div>
<div class="line"><a id="l09228" name="l09228"></a><span class="lineno"> 9228</span>    <span class="keywordflow">if</span>( !source ) {</div>
<div class="line"><a id="l09229" name="l09229"></a><span class="lineno"> 9229</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09230" name="l09230"></a><span class="lineno"> 9230</span>    }</div>
<div class="line"><a id="l09231" name="l09231"></a><span class="lineno"> 9231</span> </div>
<div class="line"><a id="l09232" name="l09232"></a><span class="lineno"> 9232</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( *source ) || ( source-&gt;z != <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_levz() &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_zlevels() ) ) {</div>
<div class="line"><a id="l09233" name="l09233"></a><span class="lineno"> 9233</span>        <span class="keywordflow">if</span>( carrier-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l09234" name="l09234"></a><span class="lineno"> 9234</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You notice the cable has come loose!&quot;</span> ) );</div>
<div class="line"><a id="l09235" name="l09235"></a><span class="lineno"> 9235</span>        }</div>
<div class="line"><a id="l09236" name="l09236"></a><span class="lineno"> 9236</span>        <a class="code hl_function" href="classitem.html#a75dd0b9b631f012c245f51e1f894305b">reset_cable</a>( carrier );</div>
<div class="line"><a id="l09237" name="l09237"></a><span class="lineno"> 9237</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09238" name="l09238"></a><span class="lineno"> 9238</span>    }</div>
<div class="line"><a id="l09239" name="l09239"></a><span class="lineno"> 9239</span> </div>
<div class="line"><a id="l09240" name="l09240"></a><span class="lineno"> 9240</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespaceovermap__ui.html#a5cd0d32854b59999d3a728288bc7daaaaa74ec9c5b6882f79e32a8fbd8da90c1b">distance</a> = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( pos, *source );</div>
<div class="line"><a id="l09241" name="l09241"></a><span class="lineno"> 9241</span>    <span class="keywordtype">int</span> max_charges = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#af238865694d157c403d1c7d0b74106dc">maximum_charges</a>();</div>
<div class="line"><a id="l09242" name="l09242"></a><span class="lineno"> 9242</span>    <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = max_charges - <a class="code hl_enumvalue" href="namespaceovermap__ui.html#a5cd0d32854b59999d3a728288bc7daaaaa74ec9c5b6882f79e32a8fbd8da90c1b">distance</a>;</div>
<div class="line"><a id="l09243" name="l09243"></a><span class="lineno"> 9243</span> </div>
<div class="line"><a id="l09244" name="l09244"></a><span class="lineno"> 9244</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt; 1 ) {</div>
<div class="line"><a id="l09245" name="l09245"></a><span class="lineno"> 9245</span>        <span class="keywordflow">if</span>( carrier-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l09246" name="l09246"></a><span class="lineno"> 9246</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The over-extended cable breaks loose!&quot;</span> ) );</div>
<div class="line"><a id="l09247" name="l09247"></a><span class="lineno"> 9247</span>        }</div>
<div class="line"><a id="l09248" name="l09248"></a><span class="lineno"> 9248</span>        <a class="code hl_function" href="classitem.html#a75dd0b9b631f012c245f51e1f894305b">reset_cable</a>( carrier );</div>
<div class="line"><a id="l09249" name="l09249"></a><span class="lineno"> 9249</span>    }</div>
<div class="line"><a id="l09250" name="l09250"></a><span class="lineno"> 9250</span> </div>
<div class="line"><a id="l09251" name="l09251"></a><span class="lineno"> 9251</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09252" name="l09252"></a><span class="lineno"> 9252</span>}</div>
<div class="ttc" id="aclassitem_html_a75dd0b9b631f012c245f51e1f894305b"><div class="ttname"><a href="classitem.html#a75dd0b9b631f012c245f51e1f894305b">item::reset_cable</a></div><div class="ttdeci">void reset_cable(player *p)</div><div class="ttdoc">Helper to bring a cable back to its initial state.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09254">item.cpp:9254</a></div></div>
<div class="ttc" id="aclassitem_html_ab6e199f76e3d8f9d2770cf18a1b6e0cf"><div class="ttname"><a href="classitem.html#ab6e199f76e3d8f9d2770cf18a1b6e0cf">item::get_cable_target</a></div><div class="ttdeci">cata::optional&lt; tripoint &gt; get_cable_target(Character *p, const tripoint &amp;pos) const</div><div class="ttdoc">Gets the point (vehicle tile) the cable is connected to.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09179">item.cpp:9179</a></div></div>
<div class="ttc" id="aclassvisitable_html_a5b3c37fbe8209cab68aa26d3cc7f4300"><div class="ttname"><a href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">visitable::items_with</a></div><div class="ttdeci">std::vector&lt; item * &gt; items_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter)</div><div class="ttdoc">Returns all items (including those within a container) matching the filter.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00325">visitable.cpp:325</a></div></div>
<div class="ttc" id="agame_8h_html_ae92a399600a4c7e5972eb3e98e3cc718"><div class="ttname"><a href="game_8h.html#ae92a399600a4c7e5972eb3e98e3cc718">item_filter</a></div><div class="ttdeci">std::function&lt; bool(const item &amp;)&gt; item_filter</div><div class="ttdef"><b>Definition:</b> <a href="game_8h_source.html#l00119">game.h:119</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a5cd0d32854b59999d3a728288bc7daaaaa74ec9c5b6882f79e32a8fbd8da90c1b"><div class="ttname"><a href="namespaceovermap__ui.html#a5cd0d32854b59999d3a728288bc7daaaaa74ec9c5b6882f79e32a8fbd8da90c1b">overmap_ui::sort_mode_t::distance</a></div><div class="ttdeci">@ distance</div></div>
<div class="ttc" id="astructitype_html_af238865694d157c403d1c7d0b74106dc"><div class="ttname"><a href="structitype.html#af238865694d157c403d1c7d0b74106dc">itype::maximum_charges</a></div><div class="ttdeci">int maximum_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01101">itype.h:1101</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l09179">get_cable_target()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="visitable_8cpp_source.html#l00105">visitable&lt; T &gt;::has_item_with()</a>, <a class="el" href="visitable_8cpp_source.html#l00325">visitable&lt; T &gt;::items_with()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="itype_8h_source.html#l01101">itype::maximum_charges()</a>, <a class="el" href="item_8cpp_source.html#l09254">reset_cable()</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="character_8cpp_source.html#l03241">Character::worn_with_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="a629a312be57d8c99afe6e33c121a6a42" name="a629a312be57d8c99afe6e33c121a6a42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629a312be57d8c99afe6e33c121a6a42">&#9670;&nbsp;</a></span>process_corpse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_corpse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08961">8961</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08962" name="l08962"></a><span class="lineno"> 8962</span>{</div>
<div class="line"><a id="l08963" name="l08963"></a><span class="lineno"> 8963</span>    <span class="comment">// some corpses rez over time</span></div>
<div class="line"><a id="l08964" name="l08964"></a><span class="lineno"> 8964</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> == <span class="keyword">nullptr</span> || <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt;= <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() ) {</div>
<div class="line"><a id="l08965" name="l08965"></a><span class="lineno"> 8965</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08966" name="l08966"></a><span class="lineno"> 8966</span>    }</div>
<div class="line"><a id="l08967" name="l08967"></a><span class="lineno"> 8967</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_variable" href="structmtype.html#a2e7e15bb4c03b2e0a3e487f13d25e9bf">zombify_into</a> &amp;&amp; <a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) {</div>
<div class="line"><a id="l08968" name="l08968"></a><span class="lineno"> 8968</span>        <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> -= <a class="code hl_function" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a>();</div>
<div class="line"><a id="l08969" name="l08969"></a><span class="lineno"> 8969</span>        <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> = &amp;*<a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_variable" href="structmtype.html#a2e7e15bb4c03b2e0a3e487f13d25e9bf">zombify_into</a>;</div>
<div class="line"><a id="l08970" name="l08970"></a><span class="lineno"> 8970</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08971" name="l08971"></a><span class="lineno"> 8971</span>    }</div>
<div class="line"><a id="l08972" name="l08972"></a><span class="lineno"> 8972</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#aa27c1e1c8a1fd62d24f0e211f10b114f">ready_to_revive</a>( pos ) ) {</div>
<div class="line"><a id="l08973" name="l08973"></a><span class="lineno"> 8973</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08974" name="l08974"></a><span class="lineno"> 8974</span>    }</div>
<div class="line"><a id="l08975" name="l08975"></a><span class="lineno"> 8975</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, <a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() / <a class="code hl_variable" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a> ) &gt; <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;revive_corpse( pos, *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l08976" name="l08976"></a><span class="lineno"> 8976</span>        <span class="keywordflow">if</span>( carrier == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l08977" name="l08977"></a><span class="lineno"> 8977</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( pos ) ) {</div>
<div class="line"><a id="l08978" name="l08978"></a><span class="lineno"> 8978</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="item_8cpp.html#a135e6e9db2959a942d96fb4c338fa696">ROBOT</a> ) ) {</div>
<div class="line"><a id="l08979" name="l08979"></a><span class="lineno"> 8979</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A nearby robot has repaired itself and stands up!&quot;</span> ) );</div>
<div class="line"><a id="l08980" name="l08980"></a><span class="lineno"> 8980</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08981" name="l08981"></a><span class="lineno"> 8981</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A nearby corpse rises and moves towards you!&quot;</span> ) );</div>
<div class="line"><a id="l08982" name="l08982"></a><span class="lineno"> 8982</span>                }</div>
<div class="line"><a id="l08983" name="l08983"></a><span class="lineno"> 8983</span>            }</div>
<div class="line"><a id="l08984" name="l08984"></a><span class="lineno"> 8984</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08985" name="l08985"></a><span class="lineno"> 8985</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="item_8cpp.html#a135e6e9db2959a942d96fb4c338fa696">ROBOT</a> ) ) {</div>
<div class="line"><a id="l08986" name="l08986"></a><span class="lineno"> 8986</span>                carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l08987" name="l08987"></a><span class="lineno"> 8987</span>                                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Oh dear god, a robot you&#39;re carrying has started moving!&quot;</span> ) );</div>
<div class="line"><a id="l08988" name="l08988"></a><span class="lineno"> 8988</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08989" name="l08989"></a><span class="lineno"> 8989</span>                carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l08990" name="l08990"></a><span class="lineno"> 8990</span>                                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Oh dear god, a corpse you&#39;re carrying has started moving!&quot;</span> ) );</div>
<div class="line"><a id="l08991" name="l08991"></a><span class="lineno"> 8991</span>            }</div>
<div class="line"><a id="l08992" name="l08992"></a><span class="lineno"> 8992</span>        }</div>
<div class="line"><a id="l08993" name="l08993"></a><span class="lineno"> 8993</span>        <span class="comment">// Destroy this corpse item</span></div>
<div class="line"><a id="l08994" name="l08994"></a><span class="lineno"> 8994</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08995" name="l08995"></a><span class="lineno"> 8995</span>    }</div>
<div class="line"><a id="l08996" name="l08996"></a><span class="lineno"> 8996</span> </div>
<div class="line"><a id="l08997" name="l08997"></a><span class="lineno"> 8997</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08998" name="l08998"></a><span class="lineno"> 8998</span>}</div>
<div class="ttc" id="aclassitem_html_aa27c1e1c8a1fd62d24f0e211f10b114f"><div class="ttname"><a href="classitem.html#aa27c1e1c8a1fd62d24f0e211f10b114f">item::ready_to_revive</a></div><div class="ttdeci">bool ready_to_revive(const tripoint &amp;pos) const</div><div class="ttdoc">Whether this corpse should revive now.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05815">item.cpp:5815</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00257">enums.h:257</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a135e6e9db2959a942d96fb4c338fa696"><div class="ttname"><a href="item_8cpp.html#a135e6e9db2959a942d96fb4c338fa696">ROBOT</a></div><div class="ttdeci">static const species_id ROBOT(&quot;ROBOT&quot;)</div></div>
<div class="ttc" id="astructmtype_html_a2e7e15bb4c03b2e0a3e487f13d25e9bf"><div class="ttname"><a href="structmtype.html#a2e7e15bb4c03b2e0a3e487f13d25e9bf">mtype::zombify_into</a></div><div class="ttdeci">mtype_id zombify_into</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00329">mtype.h:329</a></div></div>
<div class="ttc" id="astructmtype_html_a51ec342d71717bb513f0158198b12840"><div class="ttname"><a href="structmtype.html#a51ec342d71717bb513f0158198b12840">mtype::in_species</a></div><div class="ttdeci">bool in_species(const species_id &amp;spec) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00122">mtype.cpp:122</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02199">burnt</a>, <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="mtype_8cpp_source.html#l00122">mtype::in_species()</a>, <a class="el" href="units__volume_8h_source.html#l00050">units::legacy_volume_factor</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>, <a class="el" href="item_8cpp_source.html#l05815">ready_to_revive()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp.html#a135e6e9db2959a942d96fb4c338fa696">ROBOT</a>, <a class="el" href="item_8h_source.html#l02219">rot</a>, <a class="el" href="item_8h_source.html#l00853">rotten()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="mtype_8h_source.html#l00329">mtype::zombify_into</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="aa28340a5be2ab809dc235a6e7359aeca" name="aa28340a5be2ab809dc235a6e7359aeca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28340a5be2ab809dc235a6e7359aeca">&#9670;&nbsp;</a></span>process_extinguish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_extinguish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09105">9105</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09106" name="l09106"></a><span class="lineno"> 9106</span>{</div>
<div class="line"><a id="l09107" name="l09107"></a><span class="lineno"> 9107</span>    <span class="comment">// checks for water</span></div>
<div class="line"><a id="l09108" name="l09108"></a><span class="lineno"> 9108</span>    <span class="keywordtype">bool</span> extinguish = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09109" name="l09109"></a><span class="lineno"> 9109</span>    <span class="keywordtype">bool</span> in_inv = carrier != <span class="keyword">nullptr</span> &amp;&amp; carrier-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l09110" name="l09110"></a><span class="lineno"> 9110</span>    <span class="keywordtype">bool</span> submerged = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09111" name="l09111"></a><span class="lineno"> 9111</span>    <span class="keywordtype">bool</span> precipitation = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09112" name="l09112"></a><span class="lineno"> 9112</span>    <span class="keywordtype">bool</span> windtoostrong = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09113" name="l09113"></a><span class="lineno"> 9113</span>    <span class="keywordtype">bool</span> in_veh = carrier != <span class="keyword">nullptr</span> &amp;&amp; carrier-&gt;<a class="code hl_variable" href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">in_vehicle</a>;</div>
<div class="line"><a id="l09114" name="l09114"></a><span class="lineno"> 9114</span>    <span class="keywordtype">int</span> windpower = <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().<a class="code hl_variable" href="classweather__manager.html#ae21ca8b6895d5b684f224a35590e54a5">windspeed</a>;</div>
<div class="line"><a id="l09115" name="l09115"></a><span class="lineno"> 9115</span>    <span class="keywordflow">switch</span>( <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().weather_id-&gt;precip ) {</div>
<div class="line"><a id="l09116" name="l09116"></a><span class="lineno"> 9116</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a88a3c9c96a37d4acfb7d67b760fb3b4f">precip_class::very_light</a>:</div>
<div class="line"><a id="l09117" name="l09117"></a><span class="lineno"> 9117</span>            precipitation = <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 100 );</div>
<div class="line"><a id="l09118" name="l09118"></a><span class="lineno"> 9118</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l09119" name="l09119"></a><span class="lineno"> 9119</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">precip_class::light</a>:</div>
<div class="line"><a id="l09120" name="l09120"></a><span class="lineno"> 9120</span>            precipitation = <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 50 );</div>
<div class="line"><a id="l09121" name="l09121"></a><span class="lineno"> 9121</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l09122" name="l09122"></a><span class="lineno"> 9122</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a7cfe64ea44dc3bbeb63b29ff3039a481">precip_class::heavy</a>:</div>
<div class="line"><a id="l09123" name="l09123"></a><span class="lineno"> 9123</span>            precipitation = <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 );</div>
<div class="line"><a id="l09124" name="l09124"></a><span class="lineno"> 9124</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l09125" name="l09125"></a><span class="lineno"> 9125</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l09126" name="l09126"></a><span class="lineno"> 9126</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l09127" name="l09127"></a><span class="lineno"> 9127</span>    }</div>
<div class="line"><a id="l09128" name="l09128"></a><span class="lineno"> 9128</span>    <span class="keywordflow">if</span>( in_inv &amp;&amp; !in_veh &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="item_8cpp.html#a623aa4b2bbfb19b4d214ac27bb62ab25">flag_DEEP_WATER</a>, pos ) ) {</div>
<div class="line"><a id="l09129" name="l09129"></a><span class="lineno"> 9129</span>        extinguish = <span class="keyword">true</span>;</div>
<div class="line"><a id="l09130" name="l09130"></a><span class="lineno"> 9130</span>        submerged = <span class="keyword">true</span>;</div>
<div class="line"><a id="l09131" name="l09131"></a><span class="lineno"> 9131</span>    }</div>
<div class="line"><a id="l09132" name="l09132"></a><span class="lineno"> 9132</span>    <span class="keywordflow">if</span>( ( !in_inv &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="item_8cpp.html#a4d46ec656f4868fa3b493812e72e8509">flag_LIQUID</a>, pos ) &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pos ) ) ||</div>
<div class="line"><a id="l09133" name="l09133"></a><span class="lineno"> 9133</span>        ( precipitation &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_sheltered( pos ) ) ) {</div>
<div class="line"><a id="l09134" name="l09134"></a><span class="lineno"> 9134</span>        extinguish = <span class="keyword">true</span>;</div>
<div class="line"><a id="l09135" name="l09135"></a><span class="lineno"> 9135</span>    }</div>
<div class="line"><a id="l09136" name="l09136"></a><span class="lineno"> 9136</span>    <span class="keywordflow">if</span>( in_inv &amp;&amp; windpower &gt; 5 &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_sheltered( pos ) &amp;&amp;</div>
<div class="line"><a id="l09137" name="l09137"></a><span class="lineno"> 9137</span>        this-&gt;has_flag( <a class="code hl_function" href="item_8cpp.html#aa028a83e8da03673f74839cd1f754323">flag_WIND_EXTINGUISH</a> ) ) {</div>
<div class="line"><a id="l09138" name="l09138"></a><span class="lineno"> 9138</span>        windtoostrong = <span class="keyword">true</span>;</div>
<div class="line"><a id="l09139" name="l09139"></a><span class="lineno"> 9139</span>        extinguish = <span class="keyword">true</span>;</div>
<div class="line"><a id="l09140" name="l09140"></a><span class="lineno"> 9140</span>    }</div>
<div class="line"><a id="l09141" name="l09141"></a><span class="lineno"> 9141</span>    <span class="keywordflow">if</span>( !extinguish ||</div>
<div class="line"><a id="l09142" name="l09142"></a><span class="lineno"> 9142</span>        ( in_inv &amp;&amp; precipitation &amp;&amp; carrier-&gt;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ae0fd65f96cc6da51f9c57c6da4bf1ff4">flag_RAIN_PROTECT</a> ) ) ) {</div>
<div class="line"><a id="l09143" name="l09143"></a><span class="lineno"> 9143</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">//nothing happens</span></div>
<div class="line"><a id="l09144" name="l09144"></a><span class="lineno"> 9144</span>    }</div>
<div class="line"><a id="l09145" name="l09145"></a><span class="lineno"> 9145</span>    <span class="keywordflow">if</span>( carrier != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09146" name="l09146"></a><span class="lineno"> 9146</span>        <span class="keywordflow">if</span>( submerged ) {</div>
<div class="line"><a id="l09147" name="l09147"></a><span class="lineno"> 9147</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is quenched by water.&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09148" name="l09148"></a><span class="lineno"> 9148</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( precipitation ) {</div>
<div class="line"><a id="l09149" name="l09149"></a><span class="lineno"> 9149</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is quenched by precipitation.&quot;</span> ),</div>
<div class="line"><a id="l09150" name="l09150"></a><span class="lineno"> 9150</span>                                        <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09151" name="l09151"></a><span class="lineno"> 9151</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( windtoostrong ) {</div>
<div class="line"><a id="l09152" name="l09152"></a><span class="lineno"> 9152</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is blown out by the wind.&quot;</span> ),</div>
<div class="line"><a id="l09153" name="l09153"></a><span class="lineno"> 9153</span>                                        <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09154" name="l09154"></a><span class="lineno"> 9154</span>        }</div>
<div class="line"><a id="l09155" name="l09155"></a><span class="lineno"> 9155</span>    }</div>
<div class="line"><a id="l09156" name="l09156"></a><span class="lineno"> 9156</span> </div>
<div class="line"><a id="l09157" name="l09157"></a><span class="lineno"> 9157</span>    <span class="comment">// cig dies out</span></div>
<div class="line"><a id="l09158" name="l09158"></a><span class="lineno"> 9158</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6b884d53e3f77f6e66be745ffa043335">flag_LITCIG</a> ) ) {</div>
<div class="line"><a id="l09159" name="l09159"></a><span class="lineno"> 9159</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#aea8dde0d69cd34d32b4388bc5deab0af">itype_cig_lit</a> ) {</div>
<div class="line"><a id="l09160" name="l09160"></a><span class="lineno"> 9160</span>            <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="item_8cpp.html#a231490a5aa819b4014f1ed02ca49728d">itype_cig_butt</a> );</div>
<div class="line"><a id="l09161" name="l09161"></a><span class="lineno"> 9161</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#a9d98553b0009d1e6f15c077178c09149">itype_cigar_lit</a> ) {</div>
<div class="line"><a id="l09162" name="l09162"></a><span class="lineno"> 9162</span>            <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="item_8cpp.html#a0aab3ef75ee5235f416a510b0876cad3">itype_cigar_butt</a> );</div>
<div class="line"><a id="l09163" name="l09163"></a><span class="lineno"> 9163</span>        } <span class="keywordflow">else</span> { <span class="comment">// joint</span></div>
<div class="line"><a id="l09164" name="l09164"></a><span class="lineno"> 9164</span>            <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="item_8cpp.html#a1482bd2efd92c10f5f8ec958ff39d27b">itype_joint_roach</a> );</div>
<div class="line"><a id="l09165" name="l09165"></a><span class="lineno"> 9165</span>        }</div>
<div class="line"><a id="l09166" name="l09166"></a><span class="lineno"> 9166</span>    } <span class="keywordflow">else</span> { <span class="comment">// transform (lit) items</span></div>
<div class="line"><a id="l09167" name="l09167"></a><span class="lineno"> 9167</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;revert_to ) {</div>
<div class="line"><a id="l09168" name="l09168"></a><span class="lineno"> 9168</span>            <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;revert_to );</div>
<div class="line"><a id="l09169" name="l09169"></a><span class="lineno"> 9169</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09170" name="l09170"></a><span class="lineno"> 9170</span>            <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">invoke</a>( carrier != <span class="keyword">nullptr</span> ? *carrier : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, *<span class="keyword">this</span>, pos, <span class="stringliteral">&quot;transform&quot;</span> );</div>
<div class="line"><a id="l09171" name="l09171"></a><span class="lineno"> 9171</span>        }</div>
<div class="line"><a id="l09172" name="l09172"></a><span class="lineno"> 9172</span> </div>
<div class="line"><a id="l09173" name="l09173"></a><span class="lineno"> 9173</span>    }</div>
<div class="line"><a id="l09174" name="l09174"></a><span class="lineno"> 9174</span>    <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09175" name="l09175"></a><span class="lineno"> 9175</span>    <span class="comment">// Item remains</span></div>
<div class="line"><a id="l09176" name="l09176"></a><span class="lineno"> 9176</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09177" name="l09177"></a><span class="lineno"> 9177</span>}</div>
<div class="ttc" id="aclassCharacter_html_a61bc9422c35b63128532af268e52cb71"><div class="ttname"><a href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">Character::in_vehicle</a></div><div class="ttdeci">bool in_vehicle</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01575">character.h:1575</a></div></div>
<div class="ttc" id="aclassweather__manager_html_ae21ca8b6895d5b684f224a35590e54a5"><div class="ttname"><a href="classweather__manager.html#ae21ca8b6895d5b684f224a35590e54a5">weather_manager::windspeed</a></div><div class="ttdeci">int windspeed</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00195">weather.h:195</a></div></div>
<div class="ttc" id="agroup__Weather_html_gaa7b33196bf530c8b26654a0adf355165"><div class="ttname"><a href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a></div><div class="ttdeci">weather_manager &amp; get_weather()</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00064">weather.cpp:64</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a0aab3ef75ee5235f416a510b0876cad3"><div class="ttname"><a href="item_8cpp.html#a0aab3ef75ee5235f416a510b0876cad3">itype_cigar_butt</a></div><div class="ttdeci">static const itype_id itype_cigar_butt(&quot;cigar_butt&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a1482bd2efd92c10f5f8ec958ff39d27b"><div class="ttname"><a href="item_8cpp.html#a1482bd2efd92c10f5f8ec958ff39d27b">itype_joint_roach</a></div><div class="ttdeci">static const itype_id itype_joint_roach(&quot;joint_roach&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a231490a5aa819b4014f1ed02ca49728d"><div class="ttname"><a href="item_8cpp.html#a231490a5aa819b4014f1ed02ca49728d">itype_cig_butt</a></div><div class="ttdeci">static const itype_id itype_cig_butt(&quot;cig_butt&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a4d46ec656f4868fa3b493812e72e8509"><div class="ttname"><a href="item_8cpp.html#a4d46ec656f4868fa3b493812e72e8509">flag_LIQUID</a></div><div class="ttdeci">static const std::string flag_LIQUID(&quot;LIQUID&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a623aa4b2bbfb19b4d214ac27bb62ab25"><div class="ttname"><a href="item_8cpp.html#a623aa4b2bbfb19b4d214ac27bb62ab25">flag_DEEP_WATER</a></div><div class="ttdeci">static const std::string flag_DEEP_WATER(&quot;DEEP_WATER&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a9d98553b0009d1e6f15c077178c09149"><div class="ttname"><a href="item_8cpp.html#a9d98553b0009d1e6f15c077178c09149">itype_cigar_lit</a></div><div class="ttdeci">static const itype_id itype_cigar_lit(&quot;cigar_lit&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa028a83e8da03673f74839cd1f754323"><div class="ttname"><a href="item_8cpp.html#aa028a83e8da03673f74839cd1f754323">flag_WIND_EXTINGUISH</a></div><div class="ttdeci">static const std::string flag_WIND_EXTINGUISH(&quot;WIND_EXTINGUISH&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ae0fd65f96cc6da51f9c57c6da4bf1ff4"><div class="ttname"><a href="item_8cpp.html#ae0fd65f96cc6da51f9c57c6da4bf1ff4">flag_RAIN_PROTECT</a></div><div class="ttdeci">static const std::string flag_RAIN_PROTECT(&quot;RAIN_PROTECT&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aea8dde0d69cd34d32b4388bc5deab0af"><div class="ttname"><a href="item_8cpp.html#aea8dde0d69cd34d32b4388bc5deab0af">itype_cig_lit</a></div><div class="ttdeci">static const itype_id itype_cig_lit(&quot;cig_lit&quot;)</div></div>
<div class="ttc" id="astructitype_html_a9df22ea5b5b6e19d18f730d4a8625cfa"><div class="ttname"><a href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">itype::invoke</a></div><div class="ttdeci">int invoke(player &amp;p, item &amp;it, const tripoint &amp;pos) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00105">itype.cpp:105</a></div></div>
<div class="ttc" id="aweather__type_8h_html_a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3"><div class="ttname"><a href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">precip_class::light</a></div><div class="ttdeci">@ light</div></div>
<div class="ttc" id="aweather__type_8h_html_a0b78777ab367c0db919aacd8bba938f0a7cfe64ea44dc3bbeb63b29ff3039a481"><div class="ttname"><a href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a7cfe64ea44dc3bbeb63b29ff3039a481">precip_class::heavy</a></div><div class="ttdeci">@ heavy</div></div>
<div class="ttc" id="aweather__type_8h_html_a0b78777ab367c0db919aacd8bba938f0a88a3c9c96a37d4acfb7d67b760fb3b4f"><div class="ttname"><a href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a88a3c9c96a37d4acfb7d67b760fb3b4f">precip_class::very_light</a></div><div class="ttdeci">@ very_light</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l00530">convert()</a>, <a class="el" href="item_8cpp.html#a623aa4b2bbfb19b4d214ac27bb62ab25">flag_DEEP_WATER()</a>, <a class="el" href="item_8cpp.html#a4d46ec656f4868fa3b493812e72e8509">flag_LIQUID()</a>, <a class="el" href="item_8cpp.html#a6b884d53e3f77f6e66be745ffa043335">flag_LITCIG()</a>, <a class="el" href="item_8cpp.html#ae0fd65f96cc6da51f9c57c6da4bf1ff4">flag_RAIN_PROTECT()</a>, <a class="el" href="item_8cpp.html#aa028a83e8da03673f74839cd1f754323">flag_WIND_EXTINGUISH()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="weather_8cpp_source.html#l00064">get_weather()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a7cfe64ea44dc3bbeb63b29ff3039a481">heavy</a>, <a class="el" href="character_8h_source.html#l01575">Character::in_vehicle</a>, <a class="el" href="itype_8cpp_source.html#l00105">itype::invoke()</a>, <a class="el" href="item_8cpp.html#a231490a5aa819b4014f1ed02ca49728d">itype_cig_butt</a>, <a class="el" href="item_8cpp.html#aea8dde0d69cd34d32b4388bc5deab0af">itype_cig_lit</a>, <a class="el" href="item_8cpp.html#a0aab3ef75ee5235f416a510b0876cad3">itype_cigar_butt</a>, <a class="el" href="item_8cpp.html#a9d98553b0009d1e6f15c077178c09149">itype_cigar_lit</a>, <a class="el" href="item_8cpp.html#a1482bd2efd92c10f5f8ec958ff39d27b">itype_joint_roach</a>, <a class="el" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a2ac43aa43bf473f9a9c09b4b608619d3">light</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, <a class="el" href="weather__type_8h.html#a0b78777ab367c0db919aacd8bba938f0a88a3c9c96a37d4acfb7d67b760fb3b4f">very_light</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, and <a class="el" href="weather_8h_source.html#l00195">weather_manager::windspeed</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, and <a class="el" href="item_8cpp_source.html#l09031">process_litcig()</a>.</p>

</div>
</div>
<a id="a2f2ff44acab6f883e39eb06550e7922a" name="a2f2ff44acab6f883e39eb06550e7922a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f2ff44acab6f883e39eb06550e7922a">&#9670;&nbsp;</a></span>process_fake_mill()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_fake_mill </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09000">9000</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09001" name="l09001"></a><span class="lineno"> 9001</span>{</div>
<div class="line"><a id="l09002" name="l09002"></a><span class="lineno"> 9002</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( pos ) != <a class="code hl_class" href="classstring__id.html">furn_str_id</a>( <span class="stringliteral">&quot;f_wind_mill_active&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l09003" name="l09003"></a><span class="lineno"> 9003</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( pos ) != <a class="code hl_class" href="classstring__id.html">furn_str_id</a>( <span class="stringliteral">&quot;f_water_mill_active&quot;</span> ) ) {</div>
<div class="line"><a id="l09004" name="l09004"></a><span class="lineno"> 9004</span>        <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = 0;</div>
<div class="line"><a id="l09005" name="l09005"></a><span class="lineno"> 9005</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">//destroy fake mill</span></div>
<div class="line"><a id="l09006" name="l09006"></a><span class="lineno"> 9006</span>    }</div>
<div class="line"><a id="l09007" name="l09007"></a><span class="lineno"> 9007</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">age</a>() &gt;= 6_hours || <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> == 0 ) {</div>
<div class="line"><a id="l09008" name="l09008"></a><span class="lineno"> 9008</span>        <a class="code hl_function" href="namespaceiexamine.html#a639d89c065849a9b4c19a27ac234ce2d">iexamine::mill_finalize</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, pos, <a class="code hl_function" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>() ); <span class="comment">//activate effects when timers goes to zero</span></div>
<div class="line"><a id="l09009" name="l09009"></a><span class="lineno"> 9009</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">//destroy fake mill item</span></div>
<div class="line"><a id="l09010" name="l09010"></a><span class="lineno"> 9010</span>    }</div>
<div class="line"><a id="l09011" name="l09011"></a><span class="lineno"> 9011</span> </div>
<div class="line"><a id="l09012" name="l09012"></a><span class="lineno"> 9012</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09013" name="l09013"></a><span class="lineno"> 9013</span>}</div>
<div class="ttc" id="anamespaceiexamine_html_a639d89c065849a9b4c19a27ac234ce2d"><div class="ttname"><a href="namespaceiexamine.html#a639d89c065849a9b4c19a27ac234ce2d">iexamine::mill_finalize</a></div><div class="ttdeci">void mill_finalize(player &amp;, const tripoint &amp;examp, const time_point &amp;start_time)</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l05287">iexamine.cpp:5287</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l09832">age()</a>, <a class="el" href="item_8cpp_source.html#l09853">birthday()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, and <a class="el" href="iexamine_8cpp_source.html#l05287">iexamine::mill_finalize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="ae2a958bfc74465f63a95f3c80a0ae6bd" name="ae2a958bfc74465f63a95f3c80a0ae6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2a958bfc74465f63a95f3c80a0ae6bd">&#9670;&nbsp;</a></span>process_fake_smoke()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_fake_smoke </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09015">9015</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09016" name="l09016"></a><span class="lineno"> 9016</span>{</div>
<div class="line"><a id="l09017" name="l09017"></a><span class="lineno"> 9017</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( pos ) != <a class="code hl_class" href="classstring__id.html">furn_str_id</a>( <span class="stringliteral">&quot;f_smoking_rack_active&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l09018" name="l09018"></a><span class="lineno"> 9018</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( pos ) != <a class="code hl_class" href="classstring__id.html">furn_str_id</a>( <span class="stringliteral">&quot;f_metal_smoking_rack_active&quot;</span> ) ) {</div>
<div class="line"><a id="l09019" name="l09019"></a><span class="lineno"> 9019</span>        <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = 0;</div>
<div class="line"><a id="l09020" name="l09020"></a><span class="lineno"> 9020</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">//destroy fake smoke</span></div>
<div class="line"><a id="l09021" name="l09021"></a><span class="lineno"> 9021</span>    }</div>
<div class="line"><a id="l09022" name="l09022"></a><span class="lineno"> 9022</span> </div>
<div class="line"><a id="l09023" name="l09023"></a><span class="lineno"> 9023</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">age</a>() &gt;= 6_hours || <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> == 0 ) {</div>
<div class="line"><a id="l09024" name="l09024"></a><span class="lineno"> 9024</span>        <a class="code hl_function" href="namespaceiexamine.html#a060b59dbae83b1188922a4b701894532">iexamine::on_smoke_out</a>( pos, <a class="code hl_function" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>() ); <span class="comment">//activate effects when timers goes to zero</span></div>
<div class="line"><a id="l09025" name="l09025"></a><span class="lineno"> 9025</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">//destroy fake smoke when it &#39;burns out&#39;</span></div>
<div class="line"><a id="l09026" name="l09026"></a><span class="lineno"> 9026</span>    }</div>
<div class="line"><a id="l09027" name="l09027"></a><span class="lineno"> 9027</span> </div>
<div class="line"><a id="l09028" name="l09028"></a><span class="lineno"> 9028</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09029" name="l09029"></a><span class="lineno"> 9029</span>}</div>
<div class="ttc" id="anamespaceiexamine_html_a060b59dbae83b1188922a4b701894532"><div class="ttname"><a href="namespaceiexamine.html#a060b59dbae83b1188922a4b701894532">iexamine::on_smoke_out</a></div><div class="ttdeci">void on_smoke_out(const tripoint &amp;examp, const time_point &amp;start_time)</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l05600">iexamine.cpp:5600</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l09832">age()</a>, <a class="el" href="item_8cpp_source.html#l09853">birthday()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, and <a class="el" href="iexamine_8cpp_source.html#l05600">iexamine::on_smoke_out()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="aca73b6d869d64fd46376dc32dcffb2fd" name="aca73b6d869d64fd46376dc32dcffb2fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca73b6d869d64fd46376dc32dcffb2fd">&#9670;&nbsp;</a></span>process_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_internal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>activate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>insulation</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>seals</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5d">temperature_flag</a>&#160;</td>
          <td class="paramname"><em>flag</em> = <code><a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da1c0c1c880058ab81dac39f56cedc8a79">temperature_flag::TEMP_NORMAL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09455">9455</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09457" name="l09457"></a><span class="lineno"> 9457</span>{</div>
<div class="line"><a id="l09458" name="l09458"></a><span class="lineno"> 9458</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a09be785730be8d8b735277a2434fa57b">flag_ETHEREAL_ITEM</a> ) ) {</div>
<div class="line"><a id="l09459" name="l09459"></a><span class="lineno"> 9459</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a478ecf81e48540e1ba39de33df968c43">has_var</a>( <span class="stringliteral">&quot;ethereal&quot;</span> ) ) {</div>
<div class="line"><a id="l09460" name="l09460"></a><span class="lineno"> 9460</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09461" name="l09461"></a><span class="lineno"> 9461</span>        }</div>
<div class="line"><a id="l09462" name="l09462"></a><span class="lineno"> 9462</span>        <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;ethereal&quot;</span>, std::stoi( <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;ethereal&quot;</span> ) ) - 1 );</div>
<div class="line"><a id="l09463" name="l09463"></a><span class="lineno"> 9463</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> processed = std::stoi( <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;ethereal&quot;</span> ) ) &lt;= 0;</div>
<div class="line"><a id="l09464" name="l09464"></a><span class="lineno"> 9464</span>        <span class="keywordflow">if</span>( processed &amp;&amp; carrier != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09465" name="l09465"></a><span class="lineno"> 9465</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s disappears!&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09466" name="l09466"></a><span class="lineno"> 9466</span>        }</div>
<div class="line"><a id="l09467" name="l09467"></a><span class="lineno"> 9467</span>        <span class="keywordflow">return</span> processed;</div>
<div class="line"><a id="l09468" name="l09468"></a><span class="lineno"> 9468</span>    }</div>
<div class="line"><a id="l09469" name="l09469"></a><span class="lineno"> 9469</span> </div>
<div class="line"><a id="l09470" name="l09470"></a><span class="lineno"> 9470</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.count( <a class="code hl_variable" href="item_8cpp.html#a6a67c1570499e9c4ab345a0c6f1ba026">fault_gun_blackpowder</a> ) ) {</div>
<div class="line"><a id="l09471" name="l09471"></a><span class="lineno"> 9471</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a8423c5996cdb88ce29dbf762419434b3">process_blackpowder_fouling</a>( carrier );</div>
<div class="line"><a id="l09472" name="l09472"></a><span class="lineno"> 9472</span>    }</div>
<div class="line"><a id="l09473" name="l09473"></a><span class="lineno"> 9473</span> </div>
<div class="line"><a id="l09474" name="l09474"></a><span class="lineno"> 9474</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">activate</a> ) {</div>
<div class="line"><a id="l09475" name="l09475"></a><span class="lineno"> 9475</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">invoke</a>( carrier != <span class="keyword">nullptr</span> ? *carrier : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, *<span class="keyword">this</span>, pos );</div>
<div class="line"><a id="l09476" name="l09476"></a><span class="lineno"> 9476</span>    }</div>
<div class="line"><a id="l09477" name="l09477"></a><span class="lineno"> 9477</span>    <span class="comment">// How this works: it checks what kind of processing has to be done</span></div>
<div class="line"><a id="l09478" name="l09478"></a><span class="lineno"> 9478</span>    <span class="comment">// (e.g. for food, for drying towels, lit cigars), and if that matches,</span></div>
<div class="line"><a id="l09479" name="l09479"></a><span class="lineno"> 9479</span>    <span class="comment">// call the processing function. If that function returns true, the item</span></div>
<div class="line"><a id="l09480" name="l09480"></a><span class="lineno"> 9480</span>    <span class="comment">// has been destroyed by the processing, so no further processing has to be</span></div>
<div class="line"><a id="l09481" name="l09481"></a><span class="lineno"> 9481</span>    <span class="comment">// done.</span></div>
<div class="line"><a id="l09482" name="l09482"></a><span class="lineno"> 9482</span>    <span class="comment">// Otherwise processing continues. This allows items that are processed as</span></div>
<div class="line"><a id="l09483" name="l09483"></a><span class="lineno"> 9483</span>    <span class="comment">// food and as litcig and as ...</span></div>
<div class="line"><a id="l09484" name="l09484"></a><span class="lineno"> 9484</span> </div>
<div class="line"><a id="l09485" name="l09485"></a><span class="lineno"> 9485</span>    <span class="comment">// Remaining stuff is only done for active items.</span></div>
<div class="line"><a id="l09486" name="l09486"></a><span class="lineno"> 9486</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l09487" name="l09487"></a><span class="lineno"> 9487</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09488" name="l09488"></a><span class="lineno"> 9488</span>    }</div>
<div class="line"><a id="l09489" name="l09489"></a><span class="lineno"> 9489</span> </div>
<div class="line"><a id="l09490" name="l09490"></a><span class="lineno"> 9490</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> &gt; 0 ) {</div>
<div class="line"><a id="l09491" name="l09491"></a><span class="lineno"> 9491</span>        <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a>--;</div>
<div class="line"><a id="l09492" name="l09492"></a><span class="lineno"> 9492</span>    }</div>
<div class="line"><a id="l09493" name="l09493"></a><span class="lineno"> 9493</span> </div>
<div class="line"><a id="l09494" name="l09494"></a><span class="lineno"> 9494</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> == 0 &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a2e3c835eaac65d9922f07f99f2f3cf5d">countdown_action</a> ) {</div>
<div class="line"><a id="l09495" name="l09495"></a><span class="lineno"> 9495</span>        <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a2e3c835eaac65d9922f07f99f2f3cf5d">countdown_action</a>.<a class="code hl_function" href="structuse__function.html#a70b8d10a6a149ac449e119483294c426">call</a>( carrier ? *carrier : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, *<span class="keyword">this</span>, <span class="keyword">false</span>, pos );</div>
<div class="line"><a id="l09496" name="l09496"></a><span class="lineno"> 9496</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a3743732759cbbb33229d4ccb8119f805">countdown_destroy</a> ) {</div>
<div class="line"><a id="l09497" name="l09497"></a><span class="lineno"> 9497</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09498" name="l09498"></a><span class="lineno"> 9498</span>        }</div>
<div class="line"><a id="l09499" name="l09499"></a><span class="lineno"> 9499</span>    }</div>
<div class="line"><a id="l09500" name="l09500"></a><span class="lineno"> 9500</span> </div>
<div class="line"><a id="l09501" name="l09501"></a><span class="lineno"> 9501</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">emit_id</a> &amp;e : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ac93d9775de15087ba59da8d48e89cb6f">emits</a> ) {</div>
<div class="line"><a id="l09502" name="l09502"></a><span class="lineno"> 9502</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.emit_field( pos, e );</div>
<div class="line"><a id="l09503" name="l09503"></a><span class="lineno"> 9503</span>    }</div>
<div class="line"><a id="l09504" name="l09504"></a><span class="lineno"> 9504</span> </div>
<div class="line"><a id="l09505" name="l09505"></a><span class="lineno"> 9505</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aebe4d3cbfec3e91548555051bffe8ed7">flag_FAKE_SMOKE</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#ae2a958bfc74465f63a95f3c80a0ae6bd">process_fake_smoke</a>( carrier, pos ) ) {</div>
<div class="line"><a id="l09506" name="l09506"></a><span class="lineno"> 9506</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09507" name="l09507"></a><span class="lineno"> 9507</span>    }</div>
<div class="line"><a id="l09508" name="l09508"></a><span class="lineno"> 9508</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aca65b1c9be8ed08dc175bd1b3705f274">flag_FAKE_MILL</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#a2f2ff44acab6f883e39eb06550e7922a">process_fake_mill</a>( carrier, pos ) ) {</div>
<div class="line"><a id="l09509" name="l09509"></a><span class="lineno"> 9509</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09510" name="l09510"></a><span class="lineno"> 9510</span>    }</div>
<div class="line"><a id="l09511" name="l09511"></a><span class="lineno"> 9511</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#a629a312be57d8c99afe6e33c121a6a42">process_corpse</a>( carrier, pos ) ) {</div>
<div class="line"><a id="l09512" name="l09512"></a><span class="lineno"> 9512</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09513" name="l09513"></a><span class="lineno"> 9513</span>    }</div>
<div class="line"><a id="l09514" name="l09514"></a><span class="lineno"> 9514</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a0f35b65e17801413ce658571f42dd000">flag_WET</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#a670b5799a0ea99491b85a3dc0a98cfe1">process_wet</a>( carrier, pos ) ) {</div>
<div class="line"><a id="l09515" name="l09515"></a><span class="lineno"> 9515</span>        <span class="comment">// Drying items are never destroyed, but we want to exit so they don&#39;t get processed as tools.</span></div>
<div class="line"><a id="l09516" name="l09516"></a><span class="lineno"> 9516</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09517" name="l09517"></a><span class="lineno"> 9517</span>    }</div>
<div class="line"><a id="l09518" name="l09518"></a><span class="lineno"> 9518</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6b884d53e3f77f6e66be745ffa043335">flag_LITCIG</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#a98d9c39cc033759b0b2a1aeecf5769d8">process_litcig</a>( carrier, pos ) ) {</div>
<div class="line"><a id="l09519" name="l09519"></a><span class="lineno"> 9519</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09520" name="l09520"></a><span class="lineno"> 9520</span>    }</div>
<div class="line"><a id="l09521" name="l09521"></a><span class="lineno"> 9521</span>    <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a0c9c02dbbc928fd93db1dbc4105ba3fb">flag_WATER_EXTINGUISH</a> ) || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa028a83e8da03673f74839cd1f754323">flag_WIND_EXTINGUISH</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l09522" name="l09522"></a><span class="lineno"> 9522</span>        <a class="code hl_function" href="classitem.html#aa28340a5be2ab809dc235a6e7359aeca">process_extinguish</a>( carrier, pos ) ) {</div>
<div class="line"><a id="l09523" name="l09523"></a><span class="lineno"> 9523</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09524" name="l09524"></a><span class="lineno"> 9524</span>    }</div>
<div class="line"><a id="l09525" name="l09525"></a><span class="lineno"> 9525</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a68830a6f6e2ae651a7eac6450ce4d4a8">flag_CABLE_SPOOL</a> ) ) {</div>
<div class="line"><a id="l09526" name="l09526"></a><span class="lineno"> 9526</span>        <span class="comment">// DO NOT process this as a tool! It really isn&#39;t!</span></div>
<div class="line"><a id="l09527" name="l09527"></a><span class="lineno"> 9527</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af55f0e28669555cdce3c34cafba31d24">process_cable</a>( carrier, pos );</div>
<div class="line"><a id="l09528" name="l09528"></a><span class="lineno"> 9528</span>    }</div>
<div class="line"><a id="l09529" name="l09529"></a><span class="lineno"> 9529</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa99e915f1cf4ca206eb1e9069fff2d70">flag_IS_UPS</a> ) ) {</div>
<div class="line"><a id="l09530" name="l09530"></a><span class="lineno"> 9530</span>        <span class="comment">// DO NOT process this as a tool! It really isn&#39;t!</span></div>
<div class="line"><a id="l09531" name="l09531"></a><span class="lineno"> 9531</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a35a0b4c38cb3eb36837e27f4196bd3ff">process_UPS</a>( carrier, pos );</div>
<div class="line"><a id="l09532" name="l09532"></a><span class="lineno"> 9532</span>    }</div>
<div class="line"><a id="l09533" name="l09533"></a><span class="lineno"> 9533</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l09534" name="l09534"></a><span class="lineno"> 9534</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#af3730dd4dab7e9f1997f4315cd8a4a69">process_tool</a>( carrier, pos );</div>
<div class="line"><a id="l09535" name="l09535"></a><span class="lineno"> 9535</span>    }</div>
<div class="line"><a id="l09536" name="l09536"></a><span class="lineno"> 9536</span>    <span class="comment">// All foods that go bad have temperature</span></div>
<div class="line"><a id="l09537" name="l09537"></a><span class="lineno"> 9537</span>    <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() || <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) &amp;&amp;</div>
<div class="line"><a id="l09538" name="l09538"></a><span class="lineno"> 9538</span>        <a class="code hl_function" href="classitem.html#a0ec0bafc51b3208a91c10eae62c2aa5b">process_rot</a>( insulation, seals, pos, carrier, flag ) ) {</div>
<div class="line"><a id="l09539" name="l09539"></a><span class="lineno"> 9539</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() ) {</div>
<div class="line"><a id="l09540" name="l09540"></a><span class="lineno"> 9540</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.rotten_item_spawn( *<span class="keyword">this</span>, pos );</div>
<div class="line"><a id="l09541" name="l09541"></a><span class="lineno"> 9541</span>        }</div>
<div class="line"><a id="l09542" name="l09542"></a><span class="lineno"> 9542</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09543" name="l09543"></a><span class="lineno"> 9543</span>    }</div>
<div class="line"><a id="l09544" name="l09544"></a><span class="lineno"> 9544</span> </div>
<div class="line"><a id="l09545" name="l09545"></a><span class="lineno"> 9545</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09546" name="l09546"></a><span class="lineno"> 9546</span>}</div>
<div class="ttc" id="aclassitem_html_a2f2ff44acab6f883e39eb06550e7922a"><div class="ttname"><a href="classitem.html#a2f2ff44acab6f883e39eb06550e7922a">item::process_fake_mill</a></div><div class="ttdeci">bool process_fake_mill(player *carrier, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09000">item.cpp:9000</a></div></div>
<div class="ttc" id="aclassitem_html_a35a0b4c38cb3eb36837e27f4196bd3ff"><div class="ttname"><a href="classitem.html#a35a0b4c38cb3eb36837e27f4196bd3ff">item::process_UPS</a></div><div class="ttdeci">bool process_UPS(player *carrier, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09271">item.cpp:9271</a></div></div>
<div class="ttc" id="aclassitem_html_a629a312be57d8c99afe6e33c121a6a42"><div class="ttname"><a href="classitem.html#a629a312be57d8c99afe6e33c121a6a42">item::process_corpse</a></div><div class="ttdeci">bool process_corpse(player *carrier, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08961">item.cpp:8961</a></div></div>
<div class="ttc" id="aclassitem_html_a670b5799a0ea99491b85a3dc0a98cfe1"><div class="ttname"><a href="classitem.html#a670b5799a0ea99491b85a3dc0a98cfe1">item::process_wet</a></div><div class="ttdeci">bool process_wet(player *carrier, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09289">item.cpp:9289</a></div></div>
<div class="ttc" id="aclassitem_html_a8423c5996cdb88ce29dbf762419434b3"><div class="ttname"><a href="classitem.html#a8423c5996cdb88ce29dbf762419434b3">item::process_blackpowder_fouling</a></div><div class="ttdeci">bool process_blackpowder_fouling(player *carrier)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09415">item.cpp:9415</a></div></div>
<div class="ttc" id="aclassitem_html_a98d9c39cc033759b0b2a1aeecf5769d8"><div class="ttname"><a href="classitem.html#a98d9c39cc033759b0b2a1aeecf5769d8">item::process_litcig</a></div><div class="ttdeci">bool process_litcig(player *carrier, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09031">item.cpp:9031</a></div></div>
<div class="ttc" id="aclassitem_html_aa28340a5be2ab809dc235a6e7359aeca"><div class="ttname"><a href="classitem.html#aa28340a5be2ab809dc235a6e7359aeca">item::process_extinguish</a></div><div class="ttdeci">bool process_extinguish(player *carrier, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09105">item.cpp:9105</a></div></div>
<div class="ttc" id="aclassitem_html_ae2a958bfc74465f63a95f3c80a0ae6bd"><div class="ttname"><a href="classitem.html#ae2a958bfc74465f63a95f3c80a0ae6bd">item::process_fake_smoke</a></div><div class="ttdeci">bool process_fake_smoke(player *carrier, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09015">item.cpp:9015</a></div></div>
<div class="ttc" id="aclassitem_html_af3730dd4dab7e9f1997f4315cd8a4a69"><div class="ttname"><a href="classitem.html#af3730dd4dab7e9f1997f4315cd8a4a69">item::process_tool</a></div><div class="ttdeci">bool process_tool(player *carrier, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09302">item.cpp:9302</a></div></div>
<div class="ttc" id="aclassitem_html_af55f0e28669555cdce3c34cafba31d24"><div class="ttname"><a href="classitem.html#af55f0e28669555cdce3c34cafba31d24">item::process_cable</a></div><div class="ttdeci">bool process_cable(player *carrier, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09198">item.cpp:9198</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a0c9c02dbbc928fd93db1dbc4105ba3fb"><div class="ttname"><a href="item_8cpp.html#a0c9c02dbbc928fd93db1dbc4105ba3fb">flag_WATER_EXTINGUISH</a></div><div class="ttdeci">static const std::string flag_WATER_EXTINGUISH(&quot;WATER_EXTINGUISH&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a68830a6f6e2ae651a7eac6450ce4d4a8"><div class="ttname"><a href="item_8cpp.html#a68830a6f6e2ae651a7eac6450ce4d4a8">flag_CABLE_SPOOL</a></div><div class="ttdeci">static const std::string flag_CABLE_SPOOL(&quot;CABLE_SPOOL&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a6a67c1570499e9c4ab345a0c6f1ba026"><div class="ttname"><a href="item_8cpp.html#a6a67c1570499e9c4ab345a0c6f1ba026">fault_gun_blackpowder</a></div><div class="ttdeci">static const fault_id fault_gun_blackpowder(&quot;fault_gun_blackpowder&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa99e915f1cf4ca206eb1e9069fff2d70"><div class="ttname"><a href="item_8cpp.html#aa99e915f1cf4ca206eb1e9069fff2d70">flag_IS_UPS</a></div><div class="ttdeci">static const std::string flag_IS_UPS(&quot;IS_UPS&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aca65b1c9be8ed08dc175bd1b3705f274"><div class="ttname"><a href="item_8cpp.html#aca65b1c9be8ed08dc175bd1b3705f274">flag_FAKE_MILL</a></div><div class="ttdeci">static const std::string flag_FAKE_MILL(&quot;FAKE_MILL&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aebe4d3cbfec3e91548555051bffe8ed7"><div class="ttname"><a href="item_8cpp.html#aebe4d3cbfec3e91548555051bffe8ed7">flag_FAKE_SMOKE</a></div><div class="ttdeci">static const std::string flag_FAKE_SMOKE(&quot;FAKE_SMOKE&quot;)</div></div>
<div class="ttc" id="astructitype_html_a2e3c835eaac65d9922f07f99f2f3cf5d"><div class="ttname"><a href="structitype.html#a2e3c835eaac65d9922f07f99f2f3cf5d">itype::countdown_action</a></div><div class="ttdeci">use_function countdown_action</div><div class="ttdoc">Action to take when countdown expires.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00956">itype.h:956</a></div></div>
<div class="ttc" id="astructitype_html_a3743732759cbbb33229d4ccb8119f805"><div class="ttname"><a href="structitype.html#a3743732759cbbb33229d4ccb8119f805">itype::countdown_destroy</a></div><div class="ttdeci">bool countdown_destroy</div><div class="ttdoc">Is item destroyed after the countdown action is run?</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00950">itype.h:950</a></div></div>
<div class="ttc" id="astructitype_html_ac93d9775de15087ba59da8d48e89cb6f"><div class="ttname"><a href="structitype.html#ac93d9775de15087ba59da8d48e89cb6f">itype::emits</a></div><div class="ttdeci">std::set&lt; emit_id &gt; emits</div><div class="ttdoc">Fields to emit when item is in active state.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00931">itype.h:931</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l00554">activate()</a>, <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="iuse_8cpp_source.html#l09843">use_function::call()</a>, <a class="el" href="itype_8h_source.html#l00956">itype::countdown_action</a>, <a class="el" href="itype_8h_source.html#l00950">itype::countdown_destroy</a>, <a class="el" href="itype_8h_source.html#l00931">itype::emits</a>, <a class="el" href="item_8cpp.html#a6a67c1570499e9c4ab345a0c6f1ba026">fault_gun_blackpowder</a>, <a class="el" href="item_8h_source.html#l02160">faults</a>, <a class="el" href="item_8cpp.html#a68830a6f6e2ae651a7eac6450ce4d4a8">flag_CABLE_SPOOL()</a>, <a class="el" href="item_8cpp.html#a09be785730be8d8b735277a2434fa57b">flag_ETHEREAL_ITEM()</a>, <a class="el" href="item_8cpp.html#aca65b1c9be8ed08dc175bd1b3705f274">flag_FAKE_MILL()</a>, <a class="el" href="item_8cpp.html#aebe4d3cbfec3e91548555051bffe8ed7">flag_FAKE_SMOKE()</a>, <a class="el" href="item_8cpp.html#aa99e915f1cf4ca206eb1e9069fff2d70">flag_IS_UPS()</a>, <a class="el" href="item_8cpp.html#a6b884d53e3f77f6e66be745ffa043335">flag_LITCIG()</a>, <a class="el" href="item_8cpp.html#a0c9c02dbbc928fd93db1dbc4105ba3fb">flag_WATER_EXTINGUISH()</a>, <a class="el" href="item_8cpp.html#a0f35b65e17801413ce658571f42dd000">flag_WET()</a>, <a class="el" href="item_8cpp.html#aa028a83e8da03673f74839cd1f754323">flag_WIND_EXTINGUISH()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l01067">has_var()</a>, <a class="el" href="itype_8cpp_source.html#l00105">itype::invoke()</a>, <a class="el" href="item_8cpp_source.html#l06437">is_comestible()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, <a class="el" href="item_8cpp_source.html#l09415">process_blackpowder_fouling()</a>, <a class="el" href="item_8cpp_source.html#l09198">process_cable()</a>, <a class="el" href="item_8cpp_source.html#l08961">process_corpse()</a>, <a class="el" href="item_8cpp_source.html#l09105">process_extinguish()</a>, <a class="el" href="item_8cpp_source.html#l09000">process_fake_mill()</a>, <a class="el" href="item_8cpp_source.html#l09015">process_fake_smoke()</a>, <a class="el" href="item_8cpp_source.html#l09031">process_litcig()</a>, <a class="el" href="item_8cpp_source.html#l08788">process_rot()</a>, <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>, <a class="el" href="item_8cpp_source.html#l09271">process_UPS()</a>, <a class="el" href="item_8cpp_source.html#l09289">process_wet()</a>, <a class="el" href="item_8cpp_source.html#l00992">set_var()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09426">process()</a>.</p>

</div>
</div>
<a id="a98d9c39cc033759b0b2a1aeecf5769d8" name="a98d9c39cc033759b0b2a1aeecf5769d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98d9c39cc033759b0b2a1aeecf5769d8">&#9670;&nbsp;</a></span>process_litcig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_litcig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09031">9031</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09032" name="l09032"></a><span class="lineno"> 9032</span>{</div>
<div class="line"><a id="l09033" name="l09033"></a><span class="lineno"> 9033</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a id="l09034" name="l09034"></a><span class="lineno"> 9034</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09035" name="l09035"></a><span class="lineno"> 9035</span>    }</div>
<div class="line"><a id="l09036" name="l09036"></a><span class="lineno"> 9036</span>    <a class="code hl_function" href="classitem.html#aa28340a5be2ab809dc235a6e7359aeca">process_extinguish</a>( carrier, pos );</div>
<div class="line"><a id="l09037" name="l09037"></a><span class="lineno"> 9037</span>    <span class="comment">// process_extinguish might have extinguished the item already</span></div>
<div class="line"><a id="l09038" name="l09038"></a><span class="lineno"> 9038</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l09039" name="l09039"></a><span class="lineno"> 9039</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09040" name="l09040"></a><span class="lineno"> 9040</span>    }</div>
<div class="line"><a id="l09041" name="l09041"></a><span class="lineno"> 9041</span>    <span class="comment">// if carried by someone:</span></div>
<div class="line"><a id="l09042" name="l09042"></a><span class="lineno"> 9042</span>    <span class="keywordflow">if</span>( carrier != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09043" name="l09043"></a><span class="lineno"> 9043</span>        <a class="code hl_class" href="classtime__duration.html">time_duration</a> <a class="code hl_enumvalue" href="namespacefields.html#af8bc739ca8fbe535a44afc02da973280ab85ec314bf443b797ef8a66b3b03f8a4">duration</a> = 15_seconds;</div>
<div class="line"><a id="l09044" name="l09044"></a><span class="lineno"> 9044</span>        <span class="keywordflow">if</span>( carrier-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="item_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a> ) ) {</div>
<div class="line"><a id="l09045" name="l09045"></a><span class="lineno"> 9045</span>            <a class="code hl_enumvalue" href="namespacefields.html#af8bc739ca8fbe535a44afc02da973280ab85ec314bf443b797ef8a66b3b03f8a4">duration</a> = 7_seconds;</div>
<div class="line"><a id="l09046" name="l09046"></a><span class="lineno"> 9046</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( carrier-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="item_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a> ) ) {</div>
<div class="line"><a id="l09047" name="l09047"></a><span class="lineno"> 9047</span>            <a class="code hl_enumvalue" href="namespacefields.html#af8bc739ca8fbe535a44afc02da973280ab85ec314bf443b797ef8a66b3b03f8a4">duration</a> = 30_seconds;</div>
<div class="line"><a id="l09048" name="l09048"></a><span class="lineno"> 9048</span>        }</div>
<div class="line"><a id="l09049" name="l09049"></a><span class="lineno"> 9049</span>        carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take a puff of your %s.&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09050" name="l09050"></a><span class="lineno"> 9050</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ac9f8006366bd238b591e62795d1eacba">flag_TOBACCO</a> ) ) {</div>
<div class="line"><a id="l09051" name="l09051"></a><span class="lineno"> 9051</span>            carrier-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="item_8cpp.html#aa6055e7b9d5b2cb3ecd4cce48a416d33">effect_cig</a>, duration );</div>
<div class="line"><a id="l09052" name="l09052"></a><span class="lineno"> 9052</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09053" name="l09053"></a><span class="lineno"> 9053</span>            carrier-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="item_8cpp.html#a07c1990d0d8dd3b8a3305dca2429de8a">effect_weed_high</a>, duration / 2 );</div>
<div class="line"><a id="l09054" name="l09054"></a><span class="lineno"> 9054</span>        }</div>
<div class="line"><a id="l09055" name="l09055"></a><span class="lineno"> 9055</span>        carrier-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 15;</div>
<div class="line"><a id="l09056" name="l09056"></a><span class="lineno"> 9056</span> </div>
<div class="line"><a id="l09057" name="l09057"></a><span class="lineno"> 9057</span>        <span class="keywordflow">if</span>( ( carrier-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="item_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a> ) &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) ) {</div>
<div class="line"><a id="l09058" name="l09058"></a><span class="lineno"> 9058</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your shaking hand causes you to drop your %s.&quot;</span> ),</div>
<div class="line"><a id="l09059" name="l09059"></a><span class="lineno"> 9059</span>                                        <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09060" name="l09060"></a><span class="lineno"> 9060</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item_or_charges( pos + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ) ), *<span class="keyword">this</span> );</div>
<div class="line"><a id="l09061" name="l09061"></a><span class="lineno"> 9061</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// removes the item that has just been added to the map</span></div>
<div class="line"><a id="l09062" name="l09062"></a><span class="lineno"> 9062</span>        }</div>
<div class="line"><a id="l09063" name="l09063"></a><span class="lineno"> 9063</span> </div>
<div class="line"><a id="l09064" name="l09064"></a><span class="lineno"> 9064</span>        <span class="keywordflow">if</span>( carrier-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="item_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a> ) ) {</div>
<div class="line"><a id="l09065" name="l09065"></a><span class="lineno"> 9065</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You fall asleep and drop your %s.&quot;</span> ),</div>
<div class="line"><a id="l09066" name="l09066"></a><span class="lineno"> 9066</span>                                        <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09067" name="l09067"></a><span class="lineno"> 9067</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item_or_charges( pos + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ) ), *<span class="keyword">this</span> );</div>
<div class="line"><a id="l09068" name="l09068"></a><span class="lineno"> 9068</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// removes the item that has just been added to the map</span></div>
<div class="line"><a id="l09069" name="l09069"></a><span class="lineno"> 9069</span>        }</div>
<div class="line"><a id="l09070" name="l09070"></a><span class="lineno"> 9070</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09071" name="l09071"></a><span class="lineno"> 9071</span>        <span class="comment">// If not carried by someone, but laying on the ground:</span></div>
<div class="line"><a id="l09072" name="l09072"></a><span class="lineno"> 9072</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> % 5 == 0 ) {</div>
<div class="line"><a id="l09073" name="l09073"></a><span class="lineno"> 9073</span>            <span class="comment">// lit cigarette can start fires</span></div>
<div class="line"><a id="l09074" name="l09074"></a><span class="lineno"> 9074</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.flammable_items_at( pos ) ||</div>
<div class="line"><a id="l09075" name="l09075"></a><span class="lineno"> 9075</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="item_8cpp.html#a6aa11979d814b25e5da342edad2abe4a">flag_FLAMMABLE</a>, pos ) ||</div>
<div class="line"><a id="l09076" name="l09076"></a><span class="lineno"> 9076</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="item_8cpp.html#abf49de72f8e73ba1f5217f00e497b704">flag_FLAMMABLE_ASH</a>, pos ) ) {</div>
<div class="line"><a id="l09077" name="l09077"></a><span class="lineno"> 9077</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( pos, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a>, 1 );</div>
<div class="line"><a id="l09078" name="l09078"></a><span class="lineno"> 9078</span>            }</div>
<div class="line"><a id="l09079" name="l09079"></a><span class="lineno"> 9079</span>        }</div>
<div class="line"><a id="l09080" name="l09080"></a><span class="lineno"> 9080</span>    }</div>
<div class="line"><a id="l09081" name="l09081"></a><span class="lineno"> 9081</span> </div>
<div class="line"><a id="l09082" name="l09082"></a><span class="lineno"> 9082</span>    <span class="comment">// cig dies out</span></div>
<div class="line"><a id="l09083" name="l09083"></a><span class="lineno"> 9083</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> == 0 ) {</div>
<div class="line"><a id="l09084" name="l09084"></a><span class="lineno"> 9084</span>        <span class="keywordflow">if</span>( carrier != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09085" name="l09085"></a><span class="lineno"> 9085</span>            carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You finish your %s.&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09086" name="l09086"></a><span class="lineno"> 9086</span>        }</div>
<div class="line"><a id="l09087" name="l09087"></a><span class="lineno"> 9087</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#aea8dde0d69cd34d32b4388bc5deab0af">itype_cig_lit</a> ) {</div>
<div class="line"><a id="l09088" name="l09088"></a><span class="lineno"> 9088</span>            <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="item_8cpp.html#a231490a5aa819b4014f1ed02ca49728d">itype_cig_butt</a> );</div>
<div class="line"><a id="l09089" name="l09089"></a><span class="lineno"> 9089</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#a9d98553b0009d1e6f15c077178c09149">itype_cigar_lit</a> ) {</div>
<div class="line"><a id="l09090" name="l09090"></a><span class="lineno"> 9090</span>            <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="item_8cpp.html#a0aab3ef75ee5235f416a510b0876cad3">itype_cigar_butt</a> );</div>
<div class="line"><a id="l09091" name="l09091"></a><span class="lineno"> 9091</span>        } <span class="keywordflow">else</span> { <span class="comment">// joint</span></div>
<div class="line"><a id="l09092" name="l09092"></a><span class="lineno"> 9092</span>            <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="item_8cpp.html#a1482bd2efd92c10f5f8ec958ff39d27b">itype_joint_roach</a> );</div>
<div class="line"><a id="l09093" name="l09093"></a><span class="lineno"> 9093</span>            <span class="keywordflow">if</span>( carrier != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09094" name="l09094"></a><span class="lineno"> 9094</span>                carrier-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="item_8cpp.html#a07c1990d0d8dd3b8a3305dca2429de8a">effect_weed_high</a>, 1_minutes ); <span class="comment">// one last puff</span></div>
<div class="line"><a id="l09095" name="l09095"></a><span class="lineno"> 9095</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( pos + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ) ), <a class="code hl_variable" href="field__type_8cpp.html#ab8c5a10c074ff280f22f851b2bbff4dd">fd_weedsmoke</a>, 2 );</div>
<div class="line"><a id="l09096" name="l09096"></a><span class="lineno"> 9096</span>                <a class="code hl_function" href="effect_8cpp.html#ac16c3b47b852f20a0ab321f720b25339">weed_msg</a>( *carrier );</div>
<div class="line"><a id="l09097" name="l09097"></a><span class="lineno"> 9097</span>            }</div>
<div class="line"><a id="l09098" name="l09098"></a><span class="lineno"> 9098</span>        }</div>
<div class="line"><a id="l09099" name="l09099"></a><span class="lineno"> 9099</span>        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09100" name="l09100"></a><span class="lineno"> 9100</span>    }</div>
<div class="line"><a id="l09101" name="l09101"></a><span class="lineno"> 9101</span>    <span class="comment">// Item remains</span></div>
<div class="line"><a id="l09102" name="l09102"></a><span class="lineno"> 9102</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09103" name="l09103"></a><span class="lineno"> 9103</span>}</div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00974">creature.cpp:974</a></div></div>
<div class="ttc" id="aclassCreature_html_a6fb79df9315dc2bed6f34d9a2e37da90"><div class="ttname"><a href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01173">creature.cpp:1173</a></div></div>
<div class="ttc" id="aeffect_8cpp_html_ac16c3b47b852f20a0ab321f720b25339"><div class="ttname"><a href="effect_8cpp.html#ac16c3b47b852f20a0ab321f720b25339">weed_msg</a></div><div class="ttdeci">void weed_msg(player &amp;p)</div><div class="ttdoc">Handles the large variety of weed messages.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00078">effect.cpp:78</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a261d438c14892c55153e1b615c548164"><div class="ttname"><a href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a></div><div class="ttdeci">field_type_id fd_fire</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00345">field_type.cpp:345</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_ab8c5a10c074ff280f22f851b2bbff4dd"><div class="ttname"><a href="field__type_8cpp.html#ab8c5a10c074ff280f22f851b2bbff4dd">fd_weedsmoke</a></div><div class="ttdeci">field_type_id fd_weedsmoke</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00368">field_type.cpp:368</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a07c1990d0d8dd3b8a3305dca2429de8a"><div class="ttname"><a href="item_8cpp.html#a07c1990d0d8dd3b8a3305dca2429de8a">effect_weed_high</a></div><div class="ttdeci">static const efftype_id effect_weed_high(&quot;weed_high&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a2d866d9790623dc33511f3f08ec510b5"><div class="ttname"><a href="item_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a></div><div class="ttdeci">static const trait_id trait_TOLERANCE(&quot;TOLERANCE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a513ee3dfdb798f83e30d99f697f2fa5b"><div class="ttname"><a href="item_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a></div><div class="ttdeci">static const trait_id trait_LIGHTWEIGHT(&quot;LIGHTWEIGHT&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a6aa11979d814b25e5da342edad2abe4a"><div class="ttname"><a href="item_8cpp.html#a6aa11979d814b25e5da342edad2abe4a">flag_FLAMMABLE</a></div><div class="ttdeci">static const std::string flag_FLAMMABLE(&quot;FLAMMABLE&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa6055e7b9d5b2cb3ecd4cce48a416d33"><div class="ttname"><a href="item_8cpp.html#aa6055e7b9d5b2cb3ecd4cce48a416d33">effect_cig</a></div><div class="ttdeci">static const efftype_id effect_cig(&quot;cig&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ab16f8be4be2050986e76d2cb0cff7609"><div class="ttname"><a href="item_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a></div><div class="ttdeci">static const efftype_id effect_sleep(&quot;sleep&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_abf49de72f8e73ba1f5217f00e497b704"><div class="ttname"><a href="item_8cpp.html#abf49de72f8e73ba1f5217f00e497b704">flag_FLAMMABLE_ASH</a></div><div class="ttdeci">static const std::string flag_FLAMMABLE_ASH(&quot;FLAMMABLE_ASH&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ac9f8006366bd238b591e62795d1eacba"><div class="ttname"><a href="item_8cpp.html#ac9f8006366bd238b591e62795d1eacba">flag_TOBACCO</a></div><div class="ttdeci">static const std::string flag_TOBACCO(&quot;TOBACCO&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_acf409ab736a978a27fd03d8e155eeee5"><div class="ttname"><a href="item_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a></div><div class="ttdeci">static const efftype_id effect_shakes(&quot;shakes&quot;)</div></div>
<div class="ttc" id="anamespacefields_html_af8bc739ca8fbe535a44afc02da973280ab85ec314bf443b797ef8a66b3b03f8a4"><div class="ttname"><a href="namespacefields.html#af8bc739ca8fbe535a44afc02da973280ab85ec314bf443b797ef8a66b3b03f8a4">fields::stacking_type::duration</a></div><div class="ttdeci">@ duration</div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l00530">convert()</a>, <a class="el" href="item_8cpp.html#aa6055e7b9d5b2cb3ecd4cce48a416d33">effect_cig</a>, <a class="el" href="item_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a>, <a class="el" href="item_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a>, <a class="el" href="item_8cpp.html#a07c1990d0d8dd3b8a3305dca2429de8a">effect_weed_high</a>, <a class="el" href="field__type_8cpp_source.html#l00345">fd_fire</a>, <a class="el" href="field__type_8cpp_source.html#l00368">fd_weedsmoke</a>, <a class="el" href="item_8cpp.html#a6aa11979d814b25e5da342edad2abe4a">flag_FLAMMABLE()</a>, <a class="el" href="item_8cpp.html#abf49de72f8e73ba1f5217f00e497b704">flag_FLAMMABLE_ASH()</a>, <a class="el" href="item_8cpp.html#ac9f8006366bd238b591e62795d1eacba">flag_TOBACCO()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, <a class="el" href="item_8cpp.html#a231490a5aa819b4014f1ed02ca49728d">itype_cig_butt</a>, <a class="el" href="item_8cpp.html#aea8dde0d69cd34d32b4388bc5deab0af">itype_cig_lit</a>, <a class="el" href="item_8cpp.html#a0aab3ef75ee5235f416a510b0876cad3">itype_cigar_butt</a>, <a class="el" href="item_8cpp.html#a9d98553b0009d1e6f15c077178c09149">itype_cigar_lit</a>, <a class="el" href="item_8cpp.html#a1482bd2efd92c10f5f8ec958ff39d27b">itype_joint_roach</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="item_8cpp_source.html#l09105">process_extinguish()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a>, <a class="el" href="item_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, and <a class="el" href="effect_8cpp_source.html#l00078">weed_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="a8121291f73e815bf37295babcb48c90c" name="a8121291f73e815bf37295babcb48c90c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8121291f73e815bf37295babcb48c90c">&#9670;&nbsp;</a></span>process_relic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::process_relic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>carrier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08947">8947</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08948" name="l08948"></a><span class="lineno"> 8948</span>{</div>
<div class="line"><a id="l08949" name="l08949"></a><span class="lineno"> 8949</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a3604c56b1c776e6f127524867f0c1b7c">is_relic</a>() ) {</div>
<div class="line"><a id="l08950" name="l08950"></a><span class="lineno"> 8950</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08951" name="l08951"></a><span class="lineno"> 8951</span>    }</div>
<div class="line"><a id="l08952" name="l08952"></a><span class="lineno"> 8952</span>    std::vector&lt;enchantment&gt; active_enchantments;</div>
<div class="line"><a id="l08953" name="l08953"></a><span class="lineno"> 8953</span> </div>
<div class="line"><a id="l08954" name="l08954"></a><span class="lineno"> 8954</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classenchantment.html">enchantment</a> &amp;ench : <a class="code hl_function" href="classitem.html#a30d7889672228732cb7268d7e755ee8b">get_enchantments</a>() ) {</div>
<div class="line"><a id="l08955" name="l08955"></a><span class="lineno"> 8955</span>        <span class="keywordflow">if</span>( ench.is_active( *carrier, *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l08956" name="l08956"></a><span class="lineno"> 8956</span>            active_enchantments.emplace_back( ench );</div>
<div class="line"><a id="l08957" name="l08957"></a><span class="lineno"> 8957</span>        }</div>
<div class="line"><a id="l08958" name="l08958"></a><span class="lineno"> 8958</span>    }</div>
<div class="line"><a id="l08959" name="l08959"></a><span class="lineno"> 8959</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06823">get_enchantments()</a>, and <a class="el" href="item_8cpp_source.html#l06818">is_relic()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00319">player::process_turn()</a>.</p>

</div>
</div>
<a id="a0ec0bafc51b3208a91c10eae62c2aa5b" name="a0ec0bafc51b3208a91c10eae62c2aa5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ec0bafc51b3208a91c10eae62c2aa5b">&#9670;&nbsp;</a></span>process_rot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_rot </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>insulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>seals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5d">temperature_flag</a>&#160;</td>
          <td class="paramname"><em>flag</em> = <code><a class="el" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da1c0c1c880058ab81dac39f56cedc8a79">temperature_flag::TEMP_NORMAL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update temperature for things like food Update rot for things that perish All items that rot also have temperature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">insulation</td><td>Amount of insulation item has from surroundings </td></tr>
    <tr><td class="paramname">seals</td><td>Wether the item is in sealed container </td></tr>
    <tr><td class="paramname">pos</td><td>The current position </td></tr>
    <tr><td class="paramname">carrier</td><td>The current carrier </td></tr>
    <tr><td class="paramname">flag</td><td>to specify special temperature situations </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the item is fully rotten and is ready to be removed </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08788">8788</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08791" name="l08791"></a><span class="lineno"> 8791</span>{</div>
<div class="line"><a id="l08792" name="l08792"></a><span class="lineno"> 8792</span>    <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> now = <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a id="l08793" name="l08793"></a><span class="lineno"> 8793</span> </div>
<div class="line"><a id="l08794" name="l08794"></a><span class="lineno"> 8794</span>    <span class="comment">// if player debug menu&#39;d the time backward it breaks stuff, just reset the</span></div>
<div class="line"><a id="l08795" name="l08795"></a><span class="lineno"> 8795</span>    <span class="comment">// last_temp_check and last_rot_check in this case</span></div>
<div class="line"><a id="l08796" name="l08796"></a><span class="lineno"> 8796</span>    <span class="keywordflow">if</span>( now - <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> &lt; 0_turns ) {</div>
<div class="line"><a id="l08797" name="l08797"></a><span class="lineno"> 8797</span>        <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> = now;</div>
<div class="line"><a id="l08798" name="l08798"></a><span class="lineno"> 8798</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08799" name="l08799"></a><span class="lineno"> 8799</span>    }</div>
<div class="line"><a id="l08800" name="l08800"></a><span class="lineno"> 8800</span> </div>
<div class="line"><a id="l08801" name="l08801"></a><span class="lineno"> 8801</span>    <span class="comment">// process rot at most once every 100_turns (10 min)</span></div>
<div class="line"><a id="l08802" name="l08802"></a><span class="lineno"> 8802</span>    <span class="comment">// note we&#39;re also gated by item::processing_speed</span></div>
<div class="line"><a id="l08803" name="l08803"></a><span class="lineno"> 8803</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> smallest_interval = 10_minutes;</div>
<div class="line"><a id="l08804" name="l08804"></a><span class="lineno"> 8804</span> </div>
<div class="line"><a id="l08805" name="l08805"></a><span class="lineno"> 8805</span>    <span class="keywordtype">int</span> temp = <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().<a class="code hl_function" href="group__Weather.html#ga956008349f0006ba8d76360e8b2d5283">get_temperature</a>( pos );</div>
<div class="line"><a id="l08806" name="l08806"></a><span class="lineno"> 8806</span> </div>
<div class="line"><a id="l08807" name="l08807"></a><span class="lineno"> 8807</span>    <span class="keywordflow">switch</span>( flag ) {</div>
<div class="line"><a id="l08808" name="l08808"></a><span class="lineno"> 8808</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da1c0c1c880058ab81dac39f56cedc8a79">TEMP_NORMAL</a>:</div>
<div class="line"><a id="l08809" name="l08809"></a><span class="lineno"> 8809</span>            <span class="comment">// Just use the temperature normally</span></div>
<div class="line"><a id="l08810" name="l08810"></a><span class="lineno"> 8810</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08811" name="l08811"></a><span class="lineno"> 8811</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da4978bba20e7552637c632abb1f58cbb7">TEMP_FRIDGE</a>:</div>
<div class="line"><a id="l08812" name="l08812"></a><span class="lineno"> 8812</span>            temp = std::min( temp, <a class="code hl_variable" href="namespacetemperatures.html#a6f72ea34f2d4840f4e3448227eb42b96">temperatures::fridge</a> );</div>
<div class="line"><a id="l08813" name="l08813"></a><span class="lineno"> 8813</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08814" name="l08814"></a><span class="lineno"> 8814</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da59395dc1c992166e25938dccc39ade1b">TEMP_FREEZER</a>:</div>
<div class="line"><a id="l08815" name="l08815"></a><span class="lineno"> 8815</span>            temp = std::min( temp, <a class="code hl_variable" href="namespacetemperatures.html#ab2c68fc15267f67cc0e457377468d394">temperatures::freezer</a> );</div>
<div class="line"><a id="l08816" name="l08816"></a><span class="lineno"> 8816</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08817" name="l08817"></a><span class="lineno"> 8817</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da93448fee2eb097fb12c53b8ba231c5c7">TEMP_HEATER</a>:</div>
<div class="line"><a id="l08818" name="l08818"></a><span class="lineno"> 8818</span>            temp = std::max( temp, <a class="code hl_variable" href="namespacetemperatures.html#a63ccaceafd632de17f412dfb5b3725fd">temperatures::normal</a> );</div>
<div class="line"><a id="l08819" name="l08819"></a><span class="lineno"> 8819</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08820" name="l08820"></a><span class="lineno"> 8820</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da59adbf73d937364bb9da73c4057adf74">TEMP_ROOT_CELLAR</a>:</div>
<div class="line"><a id="l08821" name="l08821"></a><span class="lineno"> 8821</span>            temp = <a class="code hl_variable" href="game__constants_8h.html#a93be8e1dbd093081622d8b52a75869c6">AVERAGE_ANNUAL_TEMPERATURE</a>;</div>
<div class="line"><a id="l08822" name="l08822"></a><span class="lineno"> 8822</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08823" name="l08823"></a><span class="lineno"> 8823</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l08824" name="l08824"></a><span class="lineno"> 8824</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Temperature flag enum not valid.  Using current temperature.&quot;</span> );</div>
<div class="line"><a id="l08825" name="l08825"></a><span class="lineno"> 8825</span>    }</div>
<div class="line"><a id="l08826" name="l08826"></a><span class="lineno"> 8826</span> </div>
<div class="line"><a id="l08827" name="l08827"></a><span class="lineno"> 8827</span>    <span class="keywordtype">bool</span> carried = carrier != <span class="keyword">nullptr</span> &amp;&amp; carrier-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l08828" name="l08828"></a><span class="lineno"> 8828</span>    <span class="comment">// body heat increases inventory temperature by 5F</span></div>
<div class="line"><a id="l08829" name="l08829"></a><span class="lineno"> 8829</span>    <span class="keywordflow">if</span>( carried ) {</div>
<div class="line"><a id="l08830" name="l08830"></a><span class="lineno"> 8830</span>        temp += 5;</div>
<div class="line"><a id="l08831" name="l08831"></a><span class="lineno"> 8831</span>    }</div>
<div class="line"><a id="l08832" name="l08832"></a><span class="lineno"> 8832</span> </div>
<div class="line"><a id="l08833" name="l08833"></a><span class="lineno"> 8833</span>    <a class="code hl_class" href="classtime__point.html">time_point</a> time = <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a>;</div>
<div class="line"><a id="l08834" name="l08834"></a><span class="lineno"> 8834</span>    <a class="code hl_struct" href="structitem__internal_1_1scoped__goes__bad__cache.html">item_internal::scoped_goes_bad_cache</a> _cache( <span class="keyword">this</span> );</div>
<div class="line"><a id="l08835" name="l08835"></a><span class="lineno"> 8835</span> </div>
<div class="line"><a id="l08836" name="l08836"></a><span class="lineno"> 8836</span>    <span class="keywordflow">if</span>( now - time &gt; 1_hours ) {</div>
<div class="line"><a id="l08837" name="l08837"></a><span class="lineno"> 8837</span>        <span class="comment">// This code is for items that were left out of reality bubble for long time</span></div>
<div class="line"><a id="l08838" name="l08838"></a><span class="lineno"> 8838</span> </div>
<div class="line"><a id="l08839" name="l08839"></a><span class="lineno"> 8839</span>        <span class="keyword">const</span> <a class="code hl_class" href="classweather__generator.html">weather_generator</a> &amp;wgen = <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().<a class="code hl_function" href="group__Weather.html#ga090dd5274c7af40d32814a41f2e16fe0">get_cur_weather_gen</a>();</div>
<div class="line"><a id="l08840" name="l08840"></a><span class="lineno"> 8840</span>        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="namespaceiuse.html#a07b07d9e1b2e068106e3a2c779d3362c">seed</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_seed();</div>
<div class="line"><a id="l08841" name="l08841"></a><span class="lineno"> 8841</span>        <span class="keywordtype">int</span> local_mod = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;new_game ? 0 : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.get_temperature( pos );</div>
<div class="line"><a id="l08842" name="l08842"></a><span class="lineno"> 8842</span> </div>
<div class="line"><a id="l08843" name="l08843"></a><span class="lineno"> 8843</span>        <span class="keywordflow">if</span>( carried ) {</div>
<div class="line"><a id="l08844" name="l08844"></a><span class="lineno"> 8844</span>            local_mod += 5; <span class="comment">// body heat increases inventory temperature</span></div>
<div class="line"><a id="l08845" name="l08845"></a><span class="lineno"> 8845</span>        }</div>
<div class="line"><a id="l08846" name="l08846"></a><span class="lineno"> 8846</span> </div>
<div class="line"><a id="l08847" name="l08847"></a><span class="lineno"> 8847</span>        <span class="comment">// Process the past of this item since the last time it was processed</span></div>
<div class="line"><a id="l08848" name="l08848"></a><span class="lineno"> 8848</span>        <span class="keywordflow">while</span>( now - time &gt; 1_hours ) {</div>
<div class="line"><a id="l08849" name="l08849"></a><span class="lineno"> 8849</span>            <span class="comment">// Get the environment temperature</span></div>
<div class="line"><a id="l08850" name="l08850"></a><span class="lineno"> 8850</span>            <a class="code hl_class" href="classtime__duration.html">time_duration</a> time_delta = std::min( 1_hours, now - 1_hours - time );</div>
<div class="line"><a id="l08851" name="l08851"></a><span class="lineno"> 8851</span>            time += time_delta;</div>
<div class="line"><a id="l08852" name="l08852"></a><span class="lineno"> 8852</span> </div>
<div class="line"><a id="l08853" name="l08853"></a><span class="lineno"> 8853</span>            <span class="comment">//Use weather if above ground, use map temp if below</span></div>
<div class="line"><a id="l08854" name="l08854"></a><span class="lineno"> 8854</span>            <span class="keywordtype">double</span> env_temperature = 0;</div>
<div class="line"><a id="l08855" name="l08855"></a><span class="lineno"> 8855</span>            <span class="keywordflow">if</span>( pos.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> &gt;= 0 ) {</div>
<div class="line"><a id="l08856" name="l08856"></a><span class="lineno"> 8856</span>                <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> location = <a class="code hl_typedef" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>( <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().getabs( pos ) );</div>
<div class="line"><a id="l08857" name="l08857"></a><span class="lineno"> 8857</span>                <a class="code hl_class" href="classunits_1_1quantity.html">units::temperature</a> weather_temperature = wgen.<a class="code hl_function" href="classweather__generator.html#a4e1ddcba53060d20c58fe3b00b55390c">get_weather_temperature</a>( location, time,</div>
<div class="line"><a id="l08858" name="l08858"></a><span class="lineno"> 8858</span>                        <a class="code hl_variable" href="namespacecalendar.html#a56436e146aa8bdd67857ec0886d89ffe">calendar::config</a>, <a class="code hl_function" href="namespaceiuse.html#a07b07d9e1b2e068106e3a2c779d3362c">seed</a> );</div>
<div class="line"><a id="l08859" name="l08859"></a><span class="lineno"> 8859</span>                env_temperature = <a class="code hl_function" href="namespaceunits.html#a375816854bc926ebda4d9240e7d6cf64">units::to_fahrenheit</a>( weather_temperature ) + local_mod;</div>
<div class="line"><a id="l08860" name="l08860"></a><span class="lineno"> 8860</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08861" name="l08861"></a><span class="lineno"> 8861</span>                env_temperature = <a class="code hl_variable" href="game__constants_8h.html#a93be8e1dbd093081622d8b52a75869c6">AVERAGE_ANNUAL_TEMPERATURE</a> + local_mod;</div>
<div class="line"><a id="l08862" name="l08862"></a><span class="lineno"> 8862</span>            }</div>
<div class="line"><a id="l08863" name="l08863"></a><span class="lineno"> 8863</span> </div>
<div class="line"><a id="l08864" name="l08864"></a><span class="lineno"> 8864</span>            <span class="keywordflow">switch</span>( flag ) {</div>
<div class="line"><a id="l08865" name="l08865"></a><span class="lineno"> 8865</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da1c0c1c880058ab81dac39f56cedc8a79">TEMP_NORMAL</a>:</div>
<div class="line"><a id="l08866" name="l08866"></a><span class="lineno"> 8866</span>                    <span class="comment">// Just use the temperature normally</span></div>
<div class="line"><a id="l08867" name="l08867"></a><span class="lineno"> 8867</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08868" name="l08868"></a><span class="lineno"> 8868</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da4978bba20e7552637c632abb1f58cbb7">TEMP_FRIDGE</a>:</div>
<div class="line"><a id="l08869" name="l08869"></a><span class="lineno"> 8869</span>                    env_temperature = std::min( env_temperature, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="namespacetemperatures.html#a6f72ea34f2d4840f4e3448227eb42b96">temperatures::fridge</a> ) );</div>
<div class="line"><a id="l08870" name="l08870"></a><span class="lineno"> 8870</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08871" name="l08871"></a><span class="lineno"> 8871</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da59395dc1c992166e25938dccc39ade1b">TEMP_FREEZER</a>:</div>
<div class="line"><a id="l08872" name="l08872"></a><span class="lineno"> 8872</span>                    env_temperature = std::min( env_temperature, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="namespacetemperatures.html#ab2c68fc15267f67cc0e457377468d394">temperatures::freezer</a> ) );</div>
<div class="line"><a id="l08873" name="l08873"></a><span class="lineno"> 8873</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08874" name="l08874"></a><span class="lineno"> 8874</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da93448fee2eb097fb12c53b8ba231c5c7">TEMP_HEATER</a>:</div>
<div class="line"><a id="l08875" name="l08875"></a><span class="lineno"> 8875</span>                    env_temperature = std::max( env_temperature, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="namespacetemperatures.html#a63ccaceafd632de17f412dfb5b3725fd">temperatures::normal</a> ) );</div>
<div class="line"><a id="l08876" name="l08876"></a><span class="lineno"> 8876</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08877" name="l08877"></a><span class="lineno"> 8877</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da59adbf73d937364bb9da73c4057adf74">TEMP_ROOT_CELLAR</a>:</div>
<div class="line"><a id="l08878" name="l08878"></a><span class="lineno"> 8878</span>                    env_temperature = <a class="code hl_variable" href="game__constants_8h.html#a93be8e1dbd093081622d8b52a75869c6">AVERAGE_ANNUAL_TEMPERATURE</a>;</div>
<div class="line"><a id="l08879" name="l08879"></a><span class="lineno"> 8879</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08880" name="l08880"></a><span class="lineno"> 8880</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l08881" name="l08881"></a><span class="lineno"> 8881</span>                    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Temperature flag enum not valid.  Using normal temperature.&quot;</span> );</div>
<div class="line"><a id="l08882" name="l08882"></a><span class="lineno"> 8882</span>            }</div>
<div class="line"><a id="l08883" name="l08883"></a><span class="lineno"> 8883</span> </div>
<div class="line"><a id="l08884" name="l08884"></a><span class="lineno"> 8884</span>            <span class="comment">// Calculate item rot</span></div>
<div class="line"><a id="l08885" name="l08885"></a><span class="lineno"> 8885</span>            <a class="code hl_function" href="classitem.html#afda2c1e0168f83e8701d16bec5d1604f">calc_rot</a>( time, env_temperature );</div>
<div class="line"><a id="l08886" name="l08886"></a><span class="lineno"> 8886</span> </div>
<div class="line"><a id="l08887" name="l08887"></a><span class="lineno"> 8887</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ae1f6a127dcee627cc2758d8d30575733">has_rotten_away</a>() &amp;&amp; carrier == <span class="keyword">nullptr</span> &amp;&amp; !seals ) {</div>
<div class="line"><a id="l08888" name="l08888"></a><span class="lineno"> 8888</span>                <span class="comment">// No need to track item that will be gone</span></div>
<div class="line"><a id="l08889" name="l08889"></a><span class="lineno"> 8889</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08890" name="l08890"></a><span class="lineno"> 8890</span>            }</div>
<div class="line"><a id="l08891" name="l08891"></a><span class="lineno"> 8891</span>        }</div>
<div class="line"><a id="l08892" name="l08892"></a><span class="lineno"> 8892</span>    }</div>
<div class="line"><a id="l08893" name="l08893"></a><span class="lineno"> 8893</span> </div>
<div class="line"><a id="l08894" name="l08894"></a><span class="lineno"> 8894</span>    <span class="comment">// Remaining &lt;1 h from above</span></div>
<div class="line"><a id="l08895" name="l08895"></a><span class="lineno"> 8895</span>    <span class="comment">// and items that are held near the player</span></div>
<div class="line"><a id="l08896" name="l08896"></a><span class="lineno"> 8896</span>    <span class="keywordflow">if</span>( now - time &gt; smallest_interval ) {</div>
<div class="line"><a id="l08897" name="l08897"></a><span class="lineno"> 8897</span>        <a class="code hl_function" href="classitem.html#afda2c1e0168f83e8701d16bec5d1604f">calc_rot</a>( now, temp );</div>
<div class="line"><a id="l08898" name="l08898"></a><span class="lineno"> 8898</span> </div>
<div class="line"><a id="l08899" name="l08899"></a><span class="lineno"> 8899</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#ae1f6a127dcee627cc2758d8d30575733">has_rotten_away</a>() &amp;&amp; carrier == <span class="keyword">nullptr</span> &amp;&amp; !seals;</div>
<div class="line"><a id="l08900" name="l08900"></a><span class="lineno"> 8900</span>    }</div>
<div class="line"><a id="l08901" name="l08901"></a><span class="lineno"> 8901</span> </div>
<div class="line"><a id="l08902" name="l08902"></a><span class="lineno"> 8902</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08903" name="l08903"></a><span class="lineno"> 8903</span>}</div>
<div class="ttc" id="aclassitem_html_ae1f6a127dcee627cc2758d8d30575733"><div class="ttname"><a href="classitem.html#ae1f6a127dcee627cc2758d8d30575733">item::has_rotten_away</a></div><div class="ttdeci">bool has_rotten_away() const</div><div class="ttdoc">Whether the item has enough rot that it should get removed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08633">item.cpp:8633</a></div></div>
<div class="ttc" id="aclassitem_html_afda2c1e0168f83e8701d16bec5d1604f"><div class="ttname"><a href="classitem.html#afda2c1e0168f83e8701d16bec5d1604f">item::calc_rot</a></div><div class="ttdeci">void calc_rot(time_point time, int temp)</div><div class="ttdoc">Accumulate rot of the item since last rot calculation.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05540">item.cpp:5540</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00430">calendar.h:431</a></div></div>
<div class="ttc" id="aclassweather__generator_html"><div class="ttname"><a href="classweather__generator.html">weather_generator</a></div><div class="ttdef"><b>Definition:</b> <a href="weather__gen_8h_source.html#l00030">weather_gen.h:31</a></div></div>
<div class="ttc" id="aclassweather__generator_html_a4e1ddcba53060d20c58fe3b00b55390c"><div class="ttname"><a href="classweather__generator.html#a4e1ddcba53060d20c58fe3b00b55390c">weather_generator::get_weather_temperature</a></div><div class="ttdeci">units::temperature get_weather_temperature(const tripoint_abs_ms &amp;, const time_point &amp;, const calendar_config &amp;calendar_config, unsigned) const</div><div class="ttdef"><b>Definition:</b> <a href="weather__gen_8cpp_source.html#l00110">weather_gen.cpp:110</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a25195af12949fae51d496c1fbd549871"><div class="ttname"><a href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::abs, coords::ms &gt; tripoint_abs_ms</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00486">coordinates.h:486</a></div></div>
<div class="ttc" id="aenums_8h_html_a5f18231241dd5fb662d1c5313636ec5da1c0c1c880058ab81dac39f56cedc8a79"><div class="ttname"><a href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da1c0c1c880058ab81dac39f56cedc8a79">TEMP_NORMAL</a></div><div class="ttdeci">@ TEMP_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00043">enums.h:43</a></div></div>
<div class="ttc" id="aenums_8h_html_a5f18231241dd5fb662d1c5313636ec5da4978bba20e7552637c632abb1f58cbb7"><div class="ttname"><a href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da4978bba20e7552637c632abb1f58cbb7">TEMP_FRIDGE</a></div><div class="ttdeci">@ TEMP_FRIDGE</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00045">enums.h:45</a></div></div>
<div class="ttc" id="aenums_8h_html_a5f18231241dd5fb662d1c5313636ec5da59395dc1c992166e25938dccc39ade1b"><div class="ttname"><a href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da59395dc1c992166e25938dccc39ade1b">TEMP_FREEZER</a></div><div class="ttdeci">@ TEMP_FREEZER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00046">enums.h:46</a></div></div>
<div class="ttc" id="aenums_8h_html_a5f18231241dd5fb662d1c5313636ec5da59adbf73d937364bb9da73c4057adf74"><div class="ttname"><a href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da59adbf73d937364bb9da73c4057adf74">TEMP_ROOT_CELLAR</a></div><div class="ttdeci">@ TEMP_ROOT_CELLAR</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00048">enums.h:47</a></div></div>
<div class="ttc" id="aenums_8h_html_a5f18231241dd5fb662d1c5313636ec5da93448fee2eb097fb12c53b8ba231c5c7"><div class="ttname"><a href="enums_8h.html#a5f18231241dd5fb662d1c5313636ec5da93448fee2eb097fb12c53b8ba231c5c7">TEMP_HEATER</a></div><div class="ttdeci">@ TEMP_HEATER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00044">enums.h:44</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a93be8e1dbd093081622d8b52a75869c6"><div class="ttname"><a href="game__constants_8h.html#a93be8e1dbd093081622d8b52a75869c6">AVERAGE_ANNUAL_TEMPERATURE</a></div><div class="ttdeci">static constexpr int AVERAGE_ANNUAL_TEMPERATURE</div><div class="ttdoc">Average annual temperature in F used for climate, weather and temperature calculation.</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00143">game_constants.h:143</a></div></div>
<div class="ttc" id="agroup__Weather_html_ga090dd5274c7af40d32814a41f2e16fe0"><div class="ttname"><a href="group__Weather.html#ga090dd5274c7af40d32814a41f2e16fe0">weather_manager::get_cur_weather_gen</a></div><div class="ttdeci">const weather_generator &amp; get_cur_weather_gen() const</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l01049">weather.cpp:1049</a></div></div>
<div class="ttc" id="agroup__Weather_html_ga956008349f0006ba8d76360e8b2d5283"><div class="ttname"><a href="group__Weather.html#ga956008349f0006ba8d76360e8b2d5283">weather_manager::get_temperature</a></div><div class="ttdeci">int get_temperature(const tripoint &amp;location) const</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l01107">weather.cpp:1107</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00141">map.cpp:141</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a56436e146aa8bdd67857ec0886d89ffe"><div class="ttname"><a href="namespacecalendar.html#a56436e146aa8bdd67857ec0886d89ffe">calendar::config</a></div><div class="ttdeci">calendar_config config</div></div>
<div class="ttc" id="anamespaceiuse_html_a07b07d9e1b2e068106e3a2c779d3362c"><div class="ttname"><a href="namespaceiuse.html#a07b07d9e1b2e068106e3a2c779d3362c">iuse::seed</a></div><div class="ttdeci">int seed(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06003">iuse.cpp:6003</a></div></div>
<div class="ttc" id="anamespacetemperatures_html_a63ccaceafd632de17f412dfb5b3725fd"><div class="ttname"><a href="namespacetemperatures.html#a63ccaceafd632de17f412dfb5b3725fd">temperatures::normal</a></div><div class="ttdeci">constexpr int normal</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00086">game_constants.h:86</a></div></div>
<div class="ttc" id="anamespacetemperatures_html_a6f72ea34f2d4840f4e3448227eb42b96"><div class="ttname"><a href="namespacetemperatures.html#a6f72ea34f2d4840f4e3448227eb42b96">temperatures::fridge</a></div><div class="ttdeci">constexpr int fridge</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00089">game_constants.h:89</a></div></div>
<div class="ttc" id="anamespacetemperatures_html_ab2c68fc15267f67cc0e457377468d394"><div class="ttname"><a href="namespacetemperatures.html#ab2c68fc15267f67cc0e457377468d394">temperatures::freezer</a></div><div class="ttdeci">constexpr int freezer</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00095">game_constants.h:95</a></div></div>
<div class="ttc" id="anamespaceunits_html_a375816854bc926ebda4d9240e7d6cf64"><div class="ttname"><a href="namespaceunits.html#a375816854bc926ebda4d9240e7d6cf64">units::to_fahrenheit</a></div><div class="ttdeci">constexpr value_type to_fahrenheit(const quantity&lt; value_type, temperature_in_millidegree_celsius_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__temperature_8h_source.html#l00124">units_temperature.h:124</a></div></div>
<div class="ttc" id="astructitem__internal_1_1scoped__goes__bad__cache_html"><div class="ttname"><a href="structitem__internal_1_1scoped__goes__bad__cache.html">item_internal::scoped_goes_bad_cache</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00350">item.cpp:350</a></div></div>
<div class="ttc" id="astructtripoint_html_ac944c0e329b5eba2602f7a52f66bbbb9"><div class="ttname"><a href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">tripoint::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00152">point.h:152</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game__constants_8h_source.html#l00143">AVERAGE_ANNUAL_TEMPERATURE</a>, <a class="el" href="item_8cpp_source.html#l05540">calc_rot()</a>, <a class="el" href="namespacecalendar.html#a56436e146aa8bdd67857ec0886d89ffe">calendar::config</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="game__constants_8h_source.html#l00095">temperatures::freezer</a>, <a class="el" href="game__constants_8h_source.html#l00089">temperatures::fridge</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="weather_8cpp_source.html#l01049">weather_manager::get_cur_weather_gen()</a>, <a class="el" href="map_8cpp_source.html#l00141">get_map()</a>, <a class="el" href="weather_8cpp_source.html#l01107">weather_manager::get_temperature()</a>, <a class="el" href="weather_8cpp_source.html#l00064">get_weather()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00110">weather_generator::get_weather_temperature()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="item_8cpp_source.html#l08633">has_rotten_away()</a>, <a class="el" href="item_8h_source.html#l02221">last_rot_check</a>, <a class="el" href="game__constants_8h_source.html#l00086">temperatures::normal</a>, <a class="el" href="iuse_8cpp_source.html#l06003">iuse::seed()</a>, <a class="el" href="enums_8h_source.html#l00046">TEMP_FREEZER</a>, <a class="el" href="enums_8h_source.html#l00045">TEMP_FRIDGE</a>, <a class="el" href="enums_8h_source.html#l00044">TEMP_HEATER</a>, <a class="el" href="enums_8h_source.html#l00043">TEMP_NORMAL</a>, <a class="el" href="enums_8h_source.html#l00047">TEMP_ROOT_CELLAR</a>, <a class="el" href="units__temperature_8h_source.html#l00124">units::to_fahrenheit()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, and <a class="el" href="point_8h_source.html#l00152">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08642">has_rotten_away()</a>, and <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="af3730dd4dab7e9f1997f4315cd8a4a69" name="af3730dd4dab7e9f1997f4315cd8a4a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3730dd4dab7e9f1997f4315cd8a4a69">&#9670;&nbsp;</a></span>process_tool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_tool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09302">9302</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09303" name="l09303"></a><span class="lineno"> 9303</span>{</div>
<div class="line"><a id="l09304" name="l09304"></a><span class="lineno"> 9304</span>    <span class="comment">// items with iuse set_transformed which are restricted turn off if not attached to their dependency.</span></div>
<div class="line"><a id="l09305" name="l09305"></a><span class="lineno"> 9305</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;set_transformed&quot;</span> ) ) {</div>
<div class="line"><a id="l09306" name="l09306"></a><span class="lineno"> 9306</span>        <span class="keyword">const</span> <a class="code hl_class" href="classset__transformed__iuse.html">set_transformed_iuse</a> *actor = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classset__transformed__iuse.html">set_transformed_iuse</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l09307" name="l09307"></a><span class="lineno"> 9307</span>                                            ( this-&gt;<a class="code hl_function" href="classitem.html#a71dac02bae8b97487391d5540a89bc1c">get_use</a>( <span class="stringliteral">&quot;set_transformed&quot;</span> )-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() );</div>
<div class="line"><a id="l09308" name="l09308"></a><span class="lineno"> 9308</span>        <span class="keywordflow">if</span>( actor == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09309" name="l09309"></a><span class="lineno"> 9309</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;iuse_actor type descriptor and actual type mismatch&quot;</span> );</div>
<div class="line"><a id="l09310" name="l09310"></a><span class="lineno"> 9310</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09311" name="l09311"></a><span class="lineno"> 9311</span>        }</div>
<div class="line"><a id="l09312" name="l09312"></a><span class="lineno"> 9312</span>        <span class="keywordflow">if</span>( actor-&gt;<a class="code hl_variable" href="classset__transformed__iuse.html#a8259eefe072d99d3bfd926c57ad6608f">restricted</a> ) {</div>
<div class="line"><a id="l09313" name="l09313"></a><span class="lineno"> 9313</span>            <span class="keywordflow">if</span>( !carrier ) {</div>
<div class="line"><a id="l09314" name="l09314"></a><span class="lineno"> 9314</span>                actor-&gt;<a class="code hl_function" href="classset__transformed__iuse.html#ae998ccc9aa3c7bf35bdee468989fccbd">bypass</a>( carrier != <span class="keyword">nullptr</span> ? *carrier : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, *<span class="keyword">this</span>, <span class="keyword">false</span>, pos );</div>
<div class="line"><a id="l09315" name="l09315"></a><span class="lineno"> 9315</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09316" name="l09316"></a><span class="lineno"> 9316</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09317" name="l09317"></a><span class="lineno"> 9317</span>                <span class="keywordtype">bool</span> <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09318" name="l09318"></a><span class="lineno"> 9318</span>                std::string transform_flag = actor-&gt;<a class="code hl_variable" href="classset__transformed__iuse.html#addd27ac331e7684188e78685397024c4">dependencies</a>;</div>
<div class="line"><a id="l09319" name="l09319"></a><span class="lineno"> 9319</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : carrier-&gt;<a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l09320" name="l09320"></a><span class="lineno"> 9320</span>                    <span class="keywordflow">if</span>( elem.active &amp;&amp; elem.has_flag( transform_flag ) ) {</div>
<div class="line"><a id="l09321" name="l09321"></a><span class="lineno"> 9321</span>                        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l09322" name="l09322"></a><span class="lineno"> 9322</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l09323" name="l09323"></a><span class="lineno"> 9323</span>                    }</div>
<div class="line"><a id="l09324" name="l09324"></a><span class="lineno"> 9324</span>                }</div>
<div class="line"><a id="l09325" name="l09325"></a><span class="lineno"> 9325</span>                <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l09326" name="l09326"></a><span class="lineno"> 9326</span>                    actor-&gt;<a class="code hl_function" href="classset__transformed__iuse.html#ae998ccc9aa3c7bf35bdee468989fccbd">bypass</a>( carrier != <span class="keyword">nullptr</span> ? *carrier : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, *<span class="keyword">this</span>, <span class="keyword">false</span>, pos );</div>
<div class="line"><a id="l09327" name="l09327"></a><span class="lineno"> 9327</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09328" name="l09328"></a><span class="lineno"> 9328</span>                }</div>
<div class="line"><a id="l09329" name="l09329"></a><span class="lineno"> 9329</span>            }</div>
<div class="line"><a id="l09330" name="l09330"></a><span class="lineno"> 9330</span>        }</div>
<div class="line"><a id="l09331" name="l09331"></a><span class="lineno"> 9331</span>    }</div>
<div class="line"><a id="l09332" name="l09332"></a><span class="lineno"> 9332</span> </div>
<div class="line"><a id="l09333" name="l09333"></a><span class="lineno"> 9333</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> = 0;</div>
<div class="line"><a id="l09334" name="l09334"></a><span class="lineno"> 9334</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;turns_per_charge &gt; 0 &amp;&amp;</div>
<div class="line"><a id="l09335" name="l09335"></a><span class="lineno"> 9335</span>        to_turn&lt;int&gt;( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) % <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;turns_per_charge == 0 ) {</div>
<div class="line"><a id="l09336" name="l09336"></a><span class="lineno"> 9336</span>        <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> = std::max( <a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>(), 1 );</div>
<div class="line"><a id="l09337" name="l09337"></a><span class="lineno"> 9337</span> </div>
<div class="line"><a id="l09338" name="l09338"></a><span class="lineno"> 9338</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;power_draw &gt; 0 ) {</div>
<div class="line"><a id="l09339" name="l09339"></a><span class="lineno"> 9339</span>        <span class="comment">// power_draw in mW / 1000000 to give kJ (battery unit) per second</span></div>
<div class="line"><a id="l09340" name="l09340"></a><span class="lineno"> 9340</span>        <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;power_draw / 1000000;</div>
<div class="line"><a id="l09341" name="l09341"></a><span class="lineno"> 9341</span>        <span class="comment">// energy_bat remainder results in chance at additional charge/discharge</span></div>
<div class="line"><a id="l09342" name="l09342"></a><span class="lineno"> 9342</span>        <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> += <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;power_draw % 1000000, 1000000 ) ? 1 : 0;</div>
<div class="line"><a id="l09343" name="l09343"></a><span class="lineno"> 9343</span>    }</div>
<div class="line"><a id="l09344" name="l09344"></a><span class="lineno"> 9344</span>    <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> -= <a class="code hl_function" href="classitem.html#ae00bce86206993cc672387f9a2c77f92">ammo_consume</a>( <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a>, pos );</div>
<div class="line"><a id="l09345" name="l09345"></a><span class="lineno"> 9345</span> </div>
<div class="line"><a id="l09346" name="l09346"></a><span class="lineno"> 9346</span>    <span class="comment">// for power armor pieces, try to use power armor interface first.</span></div>
<div class="line"><a id="l09347" name="l09347"></a><span class="lineno"> 9347</span>    <span class="keywordflow">if</span>( carrier &amp;&amp; <a class="code hl_function" href="classitem.html#a82e0833373b0141aec30768dfc349bbe">is_power_armor</a>() &amp;&amp; carrier-&gt;<a class="code hl_function" href="classplayer.html#ae96b5036f9c88020817edc70c6906d6c">can_interface_armor</a>() ) {</div>
<div class="line"><a id="l09348" name="l09348"></a><span class="lineno"> 9348</span>        <span class="keywordflow">if</span>( carrier-&gt;<a class="code hl_function" href="classCharacter.html#a8a33b517f5d4f8a85c83a71a3bc8cdaf">use_charges_if_avail</a>( <a class="code hl_variable" href="item_8cpp.html#ad916af6bc9e59c6670f75f4a8a905f46">itype_bio_armor</a>, <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> ) ) {</div>
<div class="line"><a id="l09349" name="l09349"></a><span class="lineno"> 9349</span>            <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> = 0;</div>
<div class="line"><a id="l09350" name="l09350"></a><span class="lineno"> 9350</span>        }</div>
<div class="line"><a id="l09351" name="l09351"></a><span class="lineno"> 9351</span>    }</div>
<div class="line"><a id="l09352" name="l09352"></a><span class="lineno"> 9352</span> </div>
<div class="line"><a id="l09353" name="l09353"></a><span class="lineno"> 9353</span>    <span class="comment">// for items in player possession if insufficient charges within tool try UPS</span></div>
<div class="line"><a id="l09354" name="l09354"></a><span class="lineno"> 9354</span>    <span class="keywordflow">if</span>( carrier &amp;&amp; ( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS</a> ) ) ) {</div>
<div class="line"><a id="l09355" name="l09355"></a><span class="lineno"> 9355</span>        <span class="keywordflow">if</span>( carrier-&gt;<a class="code hl_function" href="classCharacter.html#a8a33b517f5d4f8a85c83a71a3bc8cdaf">use_charges_if_avail</a>( <a class="code hl_variable" href="item_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a>, <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> ) ) {</div>
<div class="line"><a id="l09356" name="l09356"></a><span class="lineno"> 9356</span>            <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> = 0;</div>
<div class="line"><a id="l09357" name="l09357"></a><span class="lineno"> 9357</span>        }</div>
<div class="line"><a id="l09358" name="l09358"></a><span class="lineno"> 9358</span>    }</div>
<div class="line"><a id="l09359" name="l09359"></a><span class="lineno"> 9359</span> </div>
<div class="line"><a id="l09360" name="l09360"></a><span class="lineno"> 9360</span>    <span class="comment">// if insufficient available charges shutdown the tool</span></div>
<div class="line"><a id="l09361" name="l09361"></a><span class="lineno"> 9361</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#aa037d122821f2c41b52b1e0b061fd4f2">energy</a> &gt; 0 ) {</div>
<div class="line"><a id="l09362" name="l09362"></a><span class="lineno"> 9362</span>        <span class="keywordflow">if</span>( carrier ) {</div>
<div class="line"><a id="l09363" name="l09363"></a><span class="lineno"> 9363</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a82e0833373b0141aec30768dfc349bbe">is_power_armor</a>() ) {</div>
<div class="line"><a id="l09364" name="l09364"></a><span class="lineno"> 9364</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS</a> ) ) {</div>
<div class="line"><a id="l09365" name="l09365"></a><span class="lineno"> 9365</span>                    carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a UPS or Bionic Power Interface to run the %s!&quot;</span> ),</div>
<div class="line"><a id="l09366" name="l09366"></a><span class="lineno"> 9366</span>                                                <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09367" name="l09367"></a><span class="lineno"> 9367</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09368" name="l09368"></a><span class="lineno"> 9368</span>                    carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a Bionic Power Interface to run the %s!&quot;</span> ),</div>
<div class="line"><a id="l09369" name="l09369"></a><span class="lineno"> 9369</span>                                                <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09370" name="l09370"></a><span class="lineno"> 9370</span>                }</div>
<div class="line"><a id="l09371" name="l09371"></a><span class="lineno"> 9371</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS</a> ) ) {</div>
<div class="line"><a id="l09372" name="l09372"></a><span class="lineno"> 9372</span>                carrier-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a UPS to run the %s!&quot;</span> ), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09373" name="l09373"></a><span class="lineno"> 9373</span>            }</div>
<div class="line"><a id="l09374" name="l09374"></a><span class="lineno"> 9374</span>        }</div>
<div class="line"><a id="l09375" name="l09375"></a><span class="lineno"> 9375</span>        <span class="keywordflow">if</span>( carrier &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;set_transform&quot;</span> ) ) {</div>
<div class="line"><a id="l09376" name="l09376"></a><span class="lineno"> 9376</span>            <span class="keyword">const</span> <a class="code hl_class" href="classset__transform__iuse.html">set_transform_iuse</a> *actor = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classset__transform__iuse.html">set_transform_iuse</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l09377" name="l09377"></a><span class="lineno"> 9377</span>                                              ( this-&gt;<a class="code hl_function" href="classitem.html#a71dac02bae8b97487391d5540a89bc1c">get_use</a>( <span class="stringliteral">&quot;set_transform&quot;</span> )-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() );</div>
<div class="line"><a id="l09378" name="l09378"></a><span class="lineno"> 9378</span>            <span class="keywordflow">if</span>( actor == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09379" name="l09379"></a><span class="lineno"> 9379</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;iuse_actor type descriptor and actual type mismatch.&quot;</span> );</div>
<div class="line"><a id="l09380" name="l09380"></a><span class="lineno"> 9380</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09381" name="l09381"></a><span class="lineno"> 9381</span>            }</div>
<div class="line"><a id="l09382" name="l09382"></a><span class="lineno"> 9382</span>            std::string transformed_flag = actor-&gt;<a class="code hl_variable" href="classset__transform__iuse.html#a0ff0360221b73540df1fca33196b96ac">flag</a>;</div>
<div class="line"><a id="l09383" name="l09383"></a><span class="lineno"> 9383</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : carrier-&gt;<a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l09384" name="l09384"></a><span class="lineno"> 9384</span>                <span class="keywordflow">if</span>( elem.active &amp;&amp; elem.has_flag( transformed_flag ) ) {</div>
<div class="line"><a id="l09385" name="l09385"></a><span class="lineno"> 9385</span>                    <span class="keywordflow">if</span>( !elem.type-&gt;can_use( <span class="stringliteral">&quot;set_transformed&quot;</span> ) ) {</div>
<div class="line"><a id="l09386" name="l09386"></a><span class="lineno"> 9386</span>                        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Expected set_transformed function&quot;</span> );</div>
<div class="line"><a id="l09387" name="l09387"></a><span class="lineno"> 9387</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09388" name="l09388"></a><span class="lineno"> 9388</span>                    }</div>
<div class="line"><a id="l09389" name="l09389"></a><span class="lineno"> 9389</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classset__transformed__iuse.html">set_transformed_iuse</a> *actor = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classset__transformed__iuse.html">set_transformed_iuse</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l09390" name="l09390"></a><span class="lineno"> 9390</span>                                                        ( elem.get_use( <span class="stringliteral">&quot;set_transformed&quot;</span> )-&gt;get_actor_ptr() );</div>
<div class="line"><a id="l09391" name="l09391"></a><span class="lineno"> 9391</span>                    <span class="keywordflow">if</span>( actor == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09392" name="l09392"></a><span class="lineno"> 9392</span>                        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;iuse_actor type descriptor and actual type mismatch&quot;</span> );</div>
<div class="line"><a id="l09393" name="l09393"></a><span class="lineno"> 9393</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09394" name="l09394"></a><span class="lineno"> 9394</span>                    }</div>
<div class="line"><a id="l09395" name="l09395"></a><span class="lineno"> 9395</span>                    actor-&gt;<a class="code hl_function" href="classset__transformed__iuse.html#ae998ccc9aa3c7bf35bdee468989fccbd">bypass</a>( *carrier, elem, <span class="keyword">false</span>, pos );</div>
<div class="line"><a id="l09396" name="l09396"></a><span class="lineno"> 9396</span>                }</div>
<div class="line"><a id="l09397" name="l09397"></a><span class="lineno"> 9397</span>            }</div>
<div class="line"><a id="l09398" name="l09398"></a><span class="lineno"> 9398</span>        }</div>
<div class="line"><a id="l09399" name="l09399"></a><span class="lineno"> 9399</span> </div>
<div class="line"><a id="l09400" name="l09400"></a><span class="lineno"> 9400</span>        <span class="comment">// invoking the object can convert the item to another type</span></div>
<div class="line"><a id="l09401" name="l09401"></a><span class="lineno"> 9401</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> had_revert_to = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;revert_to.has_value();</div>
<div class="line"><a id="l09402" name="l09402"></a><span class="lineno"> 9402</span>        <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">invoke</a>( carrier != <span class="keyword">nullptr</span> ? *carrier : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, *<span class="keyword">this</span>, pos );</div>
<div class="line"><a id="l09403" name="l09403"></a><span class="lineno"> 9403</span>        <span class="keywordflow">if</span>( had_revert_to ) {</div>
<div class="line"><a id="l09404" name="l09404"></a><span class="lineno"> 9404</span>            <a class="code hl_function" href="classitem.html#a3e058f8327de11a69a8e33f597be6d80">deactivate</a>( carrier );</div>
<div class="line"><a id="l09405" name="l09405"></a><span class="lineno"> 9405</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09406" name="l09406"></a><span class="lineno"> 9406</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09407" name="l09407"></a><span class="lineno"> 9407</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09408" name="l09408"></a><span class="lineno"> 9408</span>        }</div>
<div class="line"><a id="l09409" name="l09409"></a><span class="lineno"> 9409</span>    }</div>
<div class="line"><a id="l09410" name="l09410"></a><span class="lineno"> 9410</span> </div>
<div class="line"><a id="l09411" name="l09411"></a><span class="lineno"> 9411</span>    <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a6f1a47a292aaf0d399e077b0a013498f">tick</a>( carrier != <span class="keyword">nullptr</span> ? *carrier : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, *<span class="keyword">this</span>, pos );</div>
<div class="line"><a id="l09412" name="l09412"></a><span class="lineno"> 9412</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09413" name="l09413"></a><span class="lineno"> 9413</span>}</div>
<div class="ttc" id="aclassCharacter_html_a8a33b517f5d4f8a85c83a71a3bc8cdaf"><div class="ttname"><a href="classCharacter.html#a8a33b517f5d4f8a85c83a71a3bc8cdaf">Character::use_charges_if_avail</a></div><div class="ttdeci">bool use_charges_if_avail(const itype_id &amp;it, int quantity)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09622">character.cpp:9622</a></div></div>
<div class="ttc" id="aclassitem_html_a3e058f8327de11a69a8e33f597be6d80"><div class="ttname"><a href="classitem.html#a3e058f8327de11a69a8e33f597be6d80">item::deactivate</a></div><div class="ttdeci">item &amp; deactivate(const Character *ch=nullptr, bool alert=true)</div><div class="ttdoc">Filter converting this instance to the inactive type If the item is either inactive or cannot be deac...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00537">item.cpp:537</a></div></div>
<div class="ttc" id="aclassplayer_html_ae96b5036f9c88020817edc70c6906d6c"><div class="ttname"><a href="classplayer.html#ae96b5036f9c88020817edc70c6906d6c">player::can_interface_armor</a></div><div class="ttdeci">bool can_interface_armor() const</div><div class="ttdoc">Check whether player has a bionic power armor interface.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01901">player.cpp:1901</a></div></div>
<div class="ttc" id="aclassset__transform__iuse_html"><div class="ttname"><a href="classset__transform__iuse.html">set_transform_iuse</a></div><div class="ttdoc">This is a iuse_transform that changes a set of items with a specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00317">iuse_actor.h:318</a></div></div>
<div class="ttc" id="aclassset__transform__iuse_html_a0ff0360221b73540df1fca33196b96ac"><div class="ttname"><a href="classset__transform__iuse.html#a0ff0360221b73540df1fca33196b96ac">set_transform_iuse::flag</a></div><div class="ttdeci">std::string flag</div><div class="ttdoc">Flag string so we know what the heck we're transforming.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00328">iuse_actor.h:328</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a55a80a9bbab1925d5462d46d355c2b6e"><div class="ttname"><a href="item_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a></div><div class="ttdeci">static const itype_id itype_UPS(&quot;UPS&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ad916af6bc9e59c6670f75f4a8a905f46"><div class="ttname"><a href="item_8cpp.html#ad916af6bc9e59c6670f75f4a8a905f46">itype_bio_armor</a></div><div class="ttdeci">static const itype_id itype_bio_armor(&quot;bio_armor&quot;)</div></div>
<div class="ttc" id="astructitype_html_a6f1a47a292aaf0d399e077b0a013498f"><div class="ttname"><a href="structitype.html#a6f1a47a292aaf0d399e077b0a013498f">itype::tick</a></div><div class="ttdeci">void tick(player &amp;p, item &amp;it, const tripoint &amp;pos) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00097">itype.cpp:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07296">ammo_required()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00982">set_transformed_iuse::bypass()</a>, <a class="el" href="player_8cpp_source.html#l01901">player::can_interface_armor()</a>, <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, <a class="el" href="item_8cpp_source.html#l00537">deactivate()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="iuse__actor_8h_source.html#l00360">set_transformed_iuse::dependencies</a>, <a class="el" href="item_8h_source.html#l02196">energy</a>, <a class="el" href="iuse__actor_8h_source.html#l00328">set_transform_iuse::flag</a>, <a class="el" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="iuse_8h_source.html#l00315">use_function::get_actor_ptr()</a>, <a class="el" href="item_8cpp_source.html#l07786">get_use()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="itype_8cpp_source.html#l00105">itype::invoke()</a>, <a class="el" href="item_8cpp_source.html#l05636">is_power_armor()</a>, <a class="el" href="item_8cpp.html#ad916af6bc9e59c6670f75f4a8a905f46">itype_bio_armor</a>, <a class="el" href="item_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="iuse__actor_8h_source.html#l00355">set_transformed_iuse::restricted</a>, <a class="el" href="itype_8cpp_source.html#l00097">itype::tick()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="character_8cpp_source.html#l09622">Character::use_charges_if_avail()</a>, <a class="el" href="character_8h_source.html#l01571">Character::worn</a>, and <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="a35a0b4c38cb3eb36837e27f4196bd3ff" name="a35a0b4c38cb3eb36837e27f4196bd3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35a0b4c38cb3eb36837e27f4196bd3ff">&#9670;&nbsp;</a></span>process_UPS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_UPS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09271">9271</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09272" name="l09272"></a><span class="lineno"> 9272</span>{</div>
<div class="line"><a id="l09273" name="l09273"></a><span class="lineno"> 9273</span>    <span class="keywordflow">if</span>( carrier == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09274" name="l09274"></a><span class="lineno"> 9274</span>        <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;cable&quot;</span> );</div>
<div class="line"><a id="l09275" name="l09275"></a><span class="lineno"> 9275</span>        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09276" name="l09276"></a><span class="lineno"> 9276</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09277" name="l09277"></a><span class="lineno"> 9277</span>    }</div>
<div class="line"><a id="l09278" name="l09278"></a><span class="lineno"> 9278</span>    <span class="keywordtype">bool</span> has_connected_cable = carrier-&gt;<a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l09279" name="l09279"></a><span class="lineno"> 9279</span>        <span class="keywordflow">return</span> it.<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> &amp;&amp; it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a68830a6f6e2ae651a7eac6450ce4d4a8">flag_CABLE_SPOOL</a> ) &amp;&amp; ( it.<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;state&quot;</span> ) == <span class="stringliteral">&quot;UPS_link&quot;</span> ||</div>
<div class="line"><a id="l09280" name="l09280"></a><span class="lineno"> 9280</span>                it.<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;state&quot;</span> ) == <span class="stringliteral">&quot;UPS&quot;</span> );</div>
<div class="line"><a id="l09281" name="l09281"></a><span class="lineno"> 9281</span>    } );</div>
<div class="line"><a id="l09282" name="l09282"></a><span class="lineno"> 9282</span>    <span class="keywordflow">if</span>( !has_connected_cable ) {</div>
<div class="line"><a id="l09283" name="l09283"></a><span class="lineno"> 9283</span>        <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;cable&quot;</span> );</div>
<div class="line"><a id="l09284" name="l09284"></a><span class="lineno"> 9284</span>        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09285" name="l09285"></a><span class="lineno"> 9285</span>    }</div>
<div class="line"><a id="l09286" name="l09286"></a><span class="lineno"> 9286</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09287" name="l09287"></a><span class="lineno"> 9287</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="item_8cpp_source.html#l01072">erase_var()</a>, <a class="el" href="item_8cpp.html#a68830a6f6e2ae651a7eac6450ce4d4a8">flag_CABLE_SPOOL()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, and <a class="el" href="visitable_8cpp_source.html#l00105">visitable&lt; T &gt;::has_item_with()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="a670b5799a0ea99491b85a3dc0a98cfe1" name="a670b5799a0ea99491b85a3dc0a98cfe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a670b5799a0ea99491b85a3dc0a98cfe1">&#9670;&nbsp;</a></span>process_wet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::process_wet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09289">9289</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09290" name="l09290"></a><span class="lineno"> 9290</span>{</div>
<div class="line"><a id="l09291" name="l09291"></a><span class="lineno"> 9291</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> == 0 ) {</div>
<div class="line"><a id="l09292" name="l09292"></a><span class="lineno"> 9292</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;revert_to ) {</div>
<div class="line"><a id="l09293" name="l09293"></a><span class="lineno"> 9293</span>            <a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;revert_to );</div>
<div class="line"><a id="l09294" name="l09294"></a><span class="lineno"> 9294</span>        }</div>
<div class="line"><a id="l09295" name="l09295"></a><span class="lineno"> 9295</span>        <a class="code hl_function" href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">unset_flag</a>( <span class="stringliteral">&quot;WET&quot;</span> );</div>
<div class="line"><a id="l09296" name="l09296"></a><span class="lineno"> 9296</span>        <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09297" name="l09297"></a><span class="lineno"> 9297</span>    }</div>
<div class="line"><a id="l09298" name="l09298"></a><span class="lineno"> 9298</span>    <span class="comment">// Always return true so our caller will bail out instead of processing us as a tool.</span></div>
<div class="line"><a id="l09299" name="l09299"></a><span class="lineno"> 9299</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09300" name="l09300"></a><span class="lineno"> 9300</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="item_8cpp_source.html#l00530">convert()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="item_8cpp_source.html#l05227">unset_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>.</p>

</div>
</div>
<a id="a64e90b4f86aa185a44a6e5f43e954686" name="a64e90b4f86aa185a44a6e5f43e954686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e90b4f86aa185a44a6e5f43e954686">&#9670;&nbsp;</a></span>processing_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::processing_speed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The rate at which an item should be processed, in number of turns between updates. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08779">8779</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08780" name="l08780"></a><span class="lineno"> 8780</span>{</div>
<div class="line"><a id="l08781" name="l08781"></a><span class="lineno"> 8781</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() || <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() || <a class="code hl_function" href="classitem.html#a6921d1c458f1e840933b765ca9c7e583">is_food_container</a>() ) {</div>
<div class="line"><a id="l08782" name="l08782"></a><span class="lineno"> 8782</span>        <span class="keywordflow">return</span> to_turns&lt;int&gt;( 10_minutes );</div>
<div class="line"><a id="l08783" name="l08783"></a><span class="lineno"> 8783</span>    }</div>
<div class="line"><a id="l08784" name="l08784"></a><span class="lineno"> 8784</span>    <span class="comment">// Unless otherwise indicated, update every turn.</span></div>
<div class="line"><a id="l08785" name="l08785"></a><span class="lineno"> 8785</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l08786" name="l08786"></a><span class="lineno"> 8786</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>, and <a class="el" href="item_8cpp_source.html#l06458">is_food_container()</a>.</p>

<p class="reference">Referenced by <a class="el" href="active__item__cache_8cpp_source.html#l00030">active_item_cache::add()</a>, and <a class="el" href="active__item__cache_8cpp_source.html#l00009">active_item_cache::remove()</a>.</p>

</div>
</div>
<a id="a3841e9e250af73e45b14d5bb3cc7a043" name="a3841e9e250af73e45b14d5bb3cc7a043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3841e9e250af73e45b14d5bb3cc7a043">&#9670;&nbsp;</a></span>put_in()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::put_in </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>payload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts the given item into this one, no checks are performed. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00987">987</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>{</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a9b6a2851eabfe8fb8b971c50b5d34076">insert_item</a>( payload );</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>}</div>
<div class="ttc" id="aclassitem__contents_html_a9b6a2851eabfe8fb8b971c50b5d34076"><div class="ttname"><a href="classitem__contents.html#a9b6a2851eabfe8fb8b971c50b5d34076">item_contents::insert_item</a></div><div class="ttdeci">ret_val&lt; bool &gt; insert_item(const item &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00021">item_contents.cpp:21</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02157">contents</a>, and <a class="el" href="item__contents_8cpp_source.html#l00021">item_contents::insert_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="weather_8cpp_source.html#l00211">add_rain_to_container()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00254">vehicle_part::ammo_set()</a>, <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iuse_8cpp_source.html#l04606">iuse::blood_draw()</a>, <a class="el" href="gamemode__defense_8cpp_source.html#l00857">defense_game::caravan()</a>, <a class="el" href="ranged_8cpp_source.html#l01719">cycle_action()</a>, <a class="el" href="dump_8cpp_source.html#l00037">game::dump_stats()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="player_8cpp_source.html#l03519">player::gunmod_add()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03028">activity_handlers::gunmod_add_finish()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item__contents_8cpp_source.html#l00094">item_contents::migrate_item()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04793">activity_handlers::mind_splicer_finish()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02858">bandolier_actor::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="npctalk_8cpp_source.html#l02045">talk_effect_fun_t::set_u_buy_item()</a>, <a class="el" href="npc_8cpp_source.html#l00586">starting_inv()</a>, <a class="el" href="player_8cpp_source.html#l04273">player::store()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04254">saw_barrel_actor::use()</a>.</p>

</div>
</div>
<a id="a5f1bd1f37a27ac2a4c994b4123dba5e6" name="a5f1bd1f37a27ac2a4c994b4123dba5e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f1bd1f37a27ac2a4c994b4123dba5e6">&#9670;&nbsp;</a></span>qualities_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::qualities_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03167">3167</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span>{</div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span>    <span class="keyword">auto</span> name_quality = [&amp;<a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>]( <span class="keyword">const</span> std::pair&lt;quality_id, int&gt; &amp;q ) {</div>
<div class="line"><a id="l03171" name="l03171"></a><span class="lineno"> 3171</span>        std::string str;</div>
<div class="line"><a id="l03172" name="l03172"></a><span class="lineno"> 3172</span>        <span class="keywordflow">if</span>( q.first == <a class="code hl_variable" href="item_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a> || q.first == <a class="code hl_variable" href="item_8cpp.html#a5ffeadef52daa921bcfd6024526f8feb">qual_LIFT</a> ) {</div>
<div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span>            str = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Has level &lt;info&gt;%1$d %2$s&lt;/info&gt; quality and &quot;</span></div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span>                                    <span class="stringliteral">&quot;is rated at &lt;info&gt;%3$d&lt;/info&gt; %4$s&quot;</span> ),</div>
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"> 3175</span>                                 q.second, q.first.obj().name,</div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span>                                 <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( q.second * <a class="code hl_define" href="game__constants_8h.html#a76d1381ae078717aa7a3737d19df1a01">TOOL_LIFT_FACTOR</a> ) ),</div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span>                                 <a class="code hl_function" href="units__utility_8cpp.html#a3556beacf095f6eb2944d7c9dbf235d3">weight_units</a>() );</div>
<div class="line"><a id="l03178" name="l03178"></a><span class="lineno"> 3178</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03179" name="l03179"></a><span class="lineno"> 3179</span>            str = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Has level &lt;info&gt;%1$d %2$s&lt;/info&gt; quality.&quot;</span> ),</div>
<div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span>                                 q.second, q.first.obj().name );</div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span>        }</div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;QUALITIES&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, str );</div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span>    };</div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span> </div>
<div class="line"><a id="l03185" name="l03185"></a><span class="lineno"> 3185</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa23c7a292a8e92a89bd6eaa5e7a0ce5e2">iteminfo_parts::QUALITIES</a> ) ) {</div>
<div class="line"><a id="l03186" name="l03186"></a><span class="lineno"> 3186</span>        <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const quality_id, int&gt; q : <a class="code hl_function" href="string__id__utils_8h.html#ae1571ed28c2d17ee7a7d6973aa31e8b5">sorted_lex</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a> ) ) {</div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span>            name_quality( q );</div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"> 3189</span>        }</div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>    }</div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span> </div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>    <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf44ed4a8e26c88133ccc064b0aa8f2d8">iteminfo_parts::QUALITIES_CONTAINED</a> ) &amp;&amp;</div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span>    <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a3d383f06f203a1a3450722bb35e2a606">has_any_with</a>( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span>    return !e.type-&gt;qualities.empty();</div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span>    } ) ) {</div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span> </div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;QUALITIES&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Contains items with qualities:&quot;</span> ) );</div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"> 3198</span>        std::map&lt;quality_id, int, quality_id::LexCmp&gt; most_quality;</div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *e : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const quality_id, int&gt; &amp;q : e-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a> ) {</div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span>                <span class="keyword">auto</span> emplace_result = most_quality.emplace( q );</div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>                <span class="keywordflow">if</span>( !emplace_result.second &amp;&amp;</div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span>                    most_quality.at( emplace_result.first-&gt;first ) &lt; q.second ) {</div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span>                    most_quality[ q.first ] = q.second;</div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span>                }</div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span>            }</div>
<div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span>        }</div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"> 3208</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const quality_id, int&gt; &amp;q : most_quality ) {</div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>            name_quality( q );</div>
<div class="line"><a id="l03210" name="l03210"></a><span class="lineno"> 3210</span>        }</div>
<div class="line"><a id="l03211" name="l03211"></a><span class="lineno"> 3211</span>    }</div>
<div class="line"><a id="l03212" name="l03212"></a><span class="lineno"> 3212</span>}</div>
<div class="ttc" id="aclassitem__contents_html_a3d383f06f203a1a3450722bb35e2a606"><div class="ttname"><a href="classitem__contents.html#a3d383f06f203a1a3450722bb35e2a606">item_contents::has_any_with</a></div><div class="ttdeci">bool has_any_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter) const</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00105">item_contents.cpp:105</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a76d1381ae078717aa7a3737d19df1a01"><div class="ttname"><a href="game__constants_8h.html#a76d1381ae078717aa7a3737d19df1a01">TOOL_LIFT_FACTOR</a></div><div class="ttdeci">#define TOOL_LIFT_FACTOR</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00102">game_constants.h:102</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a3648d0ee246d4a66df0dcd8f2be595e8"><div class="ttname"><a href="item_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a></div><div class="ttdeci">static const quality_id qual_JACK(&quot;JACK&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a5ffeadef52daa921bcfd6024526f8feb"><div class="ttname"><a href="item_8cpp.html#a5ffeadef52daa921bcfd6024526f8feb">qual_LIFT</a></div><div class="ttdeci">static const quality_id qual_LIFT(&quot;LIFT&quot;)</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa23c7a292a8e92a89bd6eaa5e7a0ce5e2"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa23c7a292a8e92a89bd6eaa5e7a0ce5e2">iteminfo_parts::QUALITIES</a></div><div class="ttdeci">@ QUALITIES</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaf44ed4a8e26c88133ccc064b0aa8f2d8"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf44ed4a8e26c88133ccc064b0aa8f2d8">iteminfo_parts::QUALITIES_CONTAINED</a></div><div class="ttdeci">@ QUALITIES_CONTAINED</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="units__utility_8cpp_source.html#l00085">convert_weight()</a>, <a class="el" href="item__contents_8cpp_source.html#l00105">item_contents::has_any_with()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp.html#a3648d0ee246d4a66df0dcd8f2be595e8">qual_JACK</a>, <a class="el" href="item_8cpp.html#a5ffeadef52daa921bcfd6024526f8feb">qual_LIFT</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa23c7a292a8e92a89bd6eaa5e7a0ce5e2">QUALITIES</a>, <a class="el" href="itype_8h_source.html#l00914">itype::qualities</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaf44ed4a8e26c88133ccc064b0aa8f2d8">QUALITIES_CONTAINED</a>, <a class="el" href="string__id__utils_8h_source.html#l00022">sorted_lex()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="game__constants_8h_source.html#l00102">TOOL_LIFT_FACTOR</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="units__utility_8cpp_source.html#l00032">weight_units()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a0e3970c3979eb158e0fdfa0812f887e9" name="a0e3970c3979eb158e0fdfa0812f887e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e3970c3979eb158e0fdfa0812f887e9">&#9670;&nbsp;</a></span>quality_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt; <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>, int &gt; &amp; item::quality_of </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The ids of all the qualities this contains. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06271">6271</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06272" name="l06272"></a><span class="lineno"> 6272</span>{</div>
<div class="line"><a id="l06273" name="l06273"></a><span class="lineno"> 6273</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a>;</div>
<div class="line"><a id="l06274" name="l06274"></a><span class="lineno"> 6274</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00914">itype::qualities</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a04985a2b99688b687432463fb2f0a853" name="a04985a2b99688b687432463fb2f0a853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04985a2b99688b687432463fb2f0a853">&#9670;&nbsp;</a></span>reach_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::reach_range </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max range of melee attack this weapon can be used for. </p>
<p >Accounts for character's abilities and installed gun mods. Guaranteed to be at least 1 </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05154">5154</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05155" name="l05155"></a><span class="lineno"> 5155</span>{</div>
<div class="line"><a id="l05156" name="l05156"></a><span class="lineno"> 5156</span>    <span class="keywordtype">int</span> res = 1;</div>
<div class="line"><a id="l05157" name="l05157"></a><span class="lineno"> 5157</span> </div>
<div class="line"><a id="l05158" name="l05158"></a><span class="lineno"> 5158</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aae5d9490c49c95e551245d7f1cf69cb5">flag_REACH_ATTACK</a> ) ) {</div>
<div class="line"><a id="l05159" name="l05159"></a><span class="lineno"> 5159</span>        res = <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a011ca7576b4a18c6cd3c8e3ec54fa6e2">flag_REACH3</a> ) ? 3 : 2;</div>
<div class="line"><a id="l05160" name="l05160"></a><span class="lineno"> 5160</span>    }</div>
<div class="line"><a id="l05161" name="l05161"></a><span class="lineno"> 5161</span> </div>
<div class="line"><a id="l05162" name="l05162"></a><span class="lineno"> 5162</span>    <span class="comment">// for guns consider any attached gunmods</span></div>
<div class="line"><a id="l05163" name="l05163"></a><span class="lineno"> 5163</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() ) {</div>
<div class="line"><a id="l05164" name="l05164"></a><span class="lineno"> 5164</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const gun_mode_id, gun_mode&gt; &amp;m : <a class="code hl_function" href="classitem.html#aa1a2ecb3e9ebf95dc7fedac4c1de32b4">gun_all_modes</a>() ) {</div>
<div class="line"><a id="l05165" name="l05165"></a><span class="lineno"> 5165</span>            <span class="keywordflow">if</span>( guy.<a class="code hl_function" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() &amp;&amp; m.second.flags.count( <span class="stringliteral">&quot;NPC_AVOID&quot;</span> ) ) {</div>
<div class="line"><a id="l05166" name="l05166"></a><span class="lineno"> 5166</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05167" name="l05167"></a><span class="lineno"> 5167</span>            }</div>
<div class="line"><a id="l05168" name="l05168"></a><span class="lineno"> 5168</span>            <span class="keywordflow">if</span>( m.second.melee() ) {</div>
<div class="line"><a id="l05169" name="l05169"></a><span class="lineno"> 5169</span>                res = std::max( res, m.second.qty );</div>
<div class="line"><a id="l05170" name="l05170"></a><span class="lineno"> 5170</span>            }</div>
<div class="line"><a id="l05171" name="l05171"></a><span class="lineno"> 5171</span>        }</div>
<div class="line"><a id="l05172" name="l05172"></a><span class="lineno"> 5172</span>    }</div>
<div class="line"><a id="l05173" name="l05173"></a><span class="lineno"> 5173</span> </div>
<div class="line"><a id="l05174" name="l05174"></a><span class="lineno"> 5174</span>    <span class="keywordflow">return</span> std::max( 1, res );</div>
<div class="line"><a id="l05175" name="l05175"></a><span class="lineno"> 5175</span>}</div>
<div class="ttc" id="aclassCreature_html_aed84fe52e1335d48d53f482f8a278c87"><div class="ttname"><a href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">Creature::is_npc</a></div><div class="ttdeci">virtual bool is_npc() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00098">creature.h:98</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a011ca7576b4a18c6cd3c8e3ec54fa6e2">flag_REACH3()</a>, <a class="el" href="item_8cpp.html#aae5d9490c49c95e551245d7f1cf69cb5">flag_REACH_ATTACK()</a>, <a class="el" href="item_8cpp_source.html#l07677">gun_all_modes()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, and <a class="el" href="creature_8h_source.html#l00098">Creature::is_npc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar__action_8cpp_source.html#l00579">avatar_action::autoattack()</a>, <a class="el" href="handle__action_8cpp_source.html#l01319">fire()</a>, <a class="el" href="npc_8cpp_source.html#l01201">npc::invalidate_range_cache()</a>, <a class="el" href="melee_8cpp_source.html#l00390">Character::melee_attack()</a>, <a class="el" href="melee_8cpp_source.html#l02233">player::melee_value()</a>, <a class="el" href="npcmove_8cpp_source.html#l01311">npc::method_of_attack()</a>, <a class="el" href="ranged_8cpp_source.html#l00442">target_handler::mode_reach()</a>, and <a class="el" href="npcmove_8cpp_source.html#l00705">npc::move()</a>.</p>

</div>
</div>
<a id="aa27c1e1c8a1fd62d24f0e211f10b114f" name="aa27c1e1c8a1fd62d24f0e211f10b114f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa27c1e1c8a1fd62d24f0e211f10b114f">&#9670;&nbsp;</a></span>ready_to_revive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::ready_to_revive </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this corpse should revive now. </p>
<p >Note that this function includes some randomness, the return value can differ on successive calls. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>The location of the item (see REVIVE_SPECIAL flag). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05815">5815</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05816" name="l05816"></a><span class="lineno"> 5816</span>{</div>
<div class="line"><a id="l05817" name="l05817"></a><span class="lineno"> 5817</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#ab000493eba0ddea5a6d0e4e9587a5f83">can_revive</a>() ) {</div>
<div class="line"><a id="l05818" name="l05818"></a><span class="lineno"> 5818</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05819" name="l05819"></a><span class="lineno"> 5819</span>    }</div>
<div class="line"><a id="l05820" name="l05820"></a><span class="lineno"> 5820</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pos ) ) {</div>
<div class="line"><a id="l05821" name="l05821"></a><span class="lineno"> 5821</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05822" name="l05822"></a><span class="lineno"> 5822</span>    }</div>
<div class="line"><a id="l05823" name="l05823"></a><span class="lineno"> 5823</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 1_seconds ) ) {</div>
<div class="line"><a id="l05824" name="l05824"></a><span class="lineno"> 5824</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05825" name="l05825"></a><span class="lineno"> 5825</span>    }</div>
<div class="line"><a id="l05826" name="l05826"></a><span class="lineno"> 5826</span>    <span class="keywordtype">int</span> age_in_hours = to_hours&lt;int&gt;( <a class="code hl_function" href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">age</a>() );</div>
<div class="line"><a id="l05827" name="l05827"></a><span class="lineno"> 5827</span>    age_in_hours -= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> ) / ( <a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() / 250_ml ) );</div>
<div class="line"><a id="l05828" name="l05828"></a><span class="lineno"> 5828</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) &gt; 0 ) {</div>
<div class="line"><a id="l05829" name="l05829"></a><span class="lineno"> 5829</span>        age_in_hours /= ( <a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) + 1 );</div>
<div class="line"><a id="l05830" name="l05830"></a><span class="lineno"> 5830</span>    }</div>
<div class="line"><a id="l05831" name="l05831"></a><span class="lineno"> 5831</span>    <span class="keywordtype">int</span> rez_factor = 48 - age_in_hours;</div>
<div class="line"><a id="l05832" name="l05832"></a><span class="lineno"> 5832</span>    <span class="keywordflow">if</span>( age_in_hours &gt; 6 &amp;&amp; ( rez_factor &lt;= 0 || <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( rez_factor ) ) ) {</div>
<div class="line"><a id="l05833" name="l05833"></a><span class="lineno"> 5833</span>        <span class="comment">// If we&#39;re a special revival zombie, wait to get up until the player is nearby.</span></div>
<div class="line"><a id="l05834" name="l05834"></a><span class="lineno"> 5834</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> isReviveSpecial = <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a560a0a54bb458161b6bb3ac7411278be">flag_REVIVE_SPECIAL</a> );</div>
<div class="line"><a id="l05835" name="l05835"></a><span class="lineno"> 5835</span>        <span class="keywordflow">if</span>( isReviveSpecial ) {</div>
<div class="line"><a id="l05836" name="l05836"></a><span class="lineno"> 5836</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespaceovermap__ui.html#a5cd0d32854b59999d3a728288bc7daaaaa74ec9c5b6882f79e32a8fbd8da90c1b">distance</a> = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( pos, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() );</div>
<div class="line"><a id="l05837" name="l05837"></a><span class="lineno"> 5837</span>            <span class="keywordflow">if</span>( distance &gt; 3 ) {</div>
<div class="line"><a id="l05838" name="l05838"></a><span class="lineno"> 5838</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05839" name="l05839"></a><span class="lineno"> 5839</span>            }</div>
<div class="line"><a id="l05840" name="l05840"></a><span class="lineno"> 5840</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( distance + 1 ) ) {</div>
<div class="line"><a id="l05841" name="l05841"></a><span class="lineno"> 5841</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05842" name="l05842"></a><span class="lineno"> 5842</span>            }</div>
<div class="line"><a id="l05843" name="l05843"></a><span class="lineno"> 5843</span>        }</div>
<div class="line"><a id="l05844" name="l05844"></a><span class="lineno"> 5844</span> </div>
<div class="line"><a id="l05845" name="l05845"></a><span class="lineno"> 5845</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05846" name="l05846"></a><span class="lineno"> 5846</span>    }</div>
<div class="line"><a id="l05847" name="l05847"></a><span class="lineno"> 5847</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05848" name="l05848"></a><span class="lineno"> 5848</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a560a0a54bb458161b6bb3ac7411278be"><div class="ttname"><a href="item_8cpp.html#a560a0a54bb458161b6bb3ac7411278be">flag_REVIVE_SPECIAL</a></div><div class="ttdeci">static const std::string flag_REVIVE_SPECIAL(&quot;REVIVE_SPECIAL&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_a356df28513f4d655ae35c312ab6e7d55"><div class="ttname"><a href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a></div><div class="ttdeci">bool once_every(const time_duration &amp;event_frequency)</div><div class="ttdoc">Predicate to handle rate-limiting.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00490">calendar.cpp:490</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l09832">age()</a>, <a class="el" href="item_8h_source.html#l02199">burnt</a>, <a class="el" href="item_8cpp_source.html#l05807">can_revive()</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="item_8cpp.html#a560a0a54bb458161b6bb3ac7411278be">flag_REVIVE_SPECIAL()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="calendar_8cpp_source.html#l00490">calendar::once_every()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, and <a class="el" href="item_8cpp_source.html#l04991">volume()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08961">process_corpse()</a>.</p>

</div>
</div>
<a id="adb672a9fba1f03f346c1c0ada6e88ac5" name="adb672a9fba1f03f346c1c0ada6e88ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb672a9fba1f03f346c1c0ada6e88ac5">&#9670;&nbsp;</a></span>reinforceable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::reinforceable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the item can be repaired beyond normal health. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06349">6349</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06350" name="l06350"></a><span class="lineno"> 6350</span>{</div>
<div class="line"><a id="l06351" name="l06351"></a><span class="lineno"> 6351</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a4f8ce37317fc95f7058fdac819ff770a">flag_NO_REPAIR</a> ) ) {</div>
<div class="line"><a id="l06352" name="l06352"></a><span class="lineno"> 6352</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06353" name="l06353"></a><span class="lineno"> 6353</span>    }</div>
<div class="line"><a id="l06354" name="l06354"></a><span class="lineno"> 6354</span> </div>
<div class="line"><a id="l06355" name="l06355"></a><span class="lineno"> 6355</span>    <span class="comment">// If a material is reinforceable, so are we</span></div>
<div class="line"><a id="l06356" name="l06356"></a><span class="lineno"> 6356</span>    <span class="keyword">const</span> std::vector&lt;const material_type *&gt; &amp;mats = <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>();</div>
<div class="line"><a id="l06357" name="l06357"></a><span class="lineno"> 6357</span>    <span class="keywordflow">return</span> std::any_of( mats.begin(), mats.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> * mt ) {</div>
<div class="line"><a id="l06358" name="l06358"></a><span class="lineno"> 6358</span>        return mt-&gt;reinforces();</div>
<div class="line"><a id="l06359" name="l06359"></a><span class="lineno"> 6359</span>    } );</div>
<div class="line"><a id="l06360" name="l06360"></a><span class="lineno"> 6360</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a4f8ce37317fc95f7058fdac819ff770a"><div class="ttname"><a href="item_8cpp.html#a4f8ce37317fc95f7058fdac819ff770a">flag_NO_REPAIR</a></div><div class="ttdeci">static const std::string flag_NO_REPAIR(&quot;NO_REPAIR&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a4f8ce37317fc95f7058fdac819ff770a">flag_NO_REPAIR()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, and <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03252">repair_item_actor::can_repair_target()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>, and <a class="el" href="item_8cpp_source.html#l03092">repair_info()</a>.</p>

</div>
</div>
<a id="abf522557723e9d3342000d7589cead16" name="abf522557723e9d3342000d7589cead16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf522557723e9d3342000d7589cead16">&#9670;&nbsp;</a></span>release_monster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::release_monster </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09317">9317</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09318" name="l09318"></a><span class="lineno"> 9318</span>{</div>
<div class="line"><a id="l09319" name="l09319"></a><span class="lineno"> 9319</span>    <a class="code hl_typedef" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;monster&gt;</a> new_monster = make_shared_fast&lt;monster&gt;();</div>
<div class="line"><a id="l09320" name="l09320"></a><span class="lineno"> 9320</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l09321" name="l09321"></a><span class="lineno"> 9321</span>        <a class="code hl_function" href="classitem.html#a213df85346f895e9182f3860eec49891">::deserialize</a>( *new_monster, <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;contained_json&quot;</span>, <span class="stringliteral">&quot;&quot;</span> ) );</div>
<div class="line"><a id="l09322" name="l09322"></a><span class="lineno"> 9322</span>    } <span class="keywordflow">catch</span>( <span class="keyword">const</span> std::exception &amp;e ) {</div>
<div class="line"><a id="l09323" name="l09323"></a><span class="lineno"> 9323</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Error restoring monster: %s&quot;</span> ), e.what() );</div>
<div class="line"><a id="l09324" name="l09324"></a><span class="lineno"> 9324</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09325" name="l09325"></a><span class="lineno"> 9325</span>    }</div>
<div class="line"><a id="l09326" name="l09326"></a><span class="lineno"> 9326</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_around( new_monster, target, radius ) ) {</div>
<div class="line"><a id="l09327" name="l09327"></a><span class="lineno"> 9327</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09328" name="l09328"></a><span class="lineno"> 9328</span>    }</div>
<div class="line"><a id="l09329" name="l09329"></a><span class="lineno"> 9329</span>    <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;contained_name&quot;</span> );</div>
<div class="line"><a id="l09330" name="l09330"></a><span class="lineno"> 9330</span>    <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;contained_json&quot;</span> );</div>
<div class="line"><a id="l09331" name="l09331"></a><span class="lineno"> 9331</span>    <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;name&quot;</span> );</div>
<div class="line"><a id="l09332" name="l09332"></a><span class="lineno"> 9332</span>    <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;weight&quot;</span> );</div>
<div class="line"><a id="l09333" name="l09333"></a><span class="lineno"> 9333</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09334" name="l09334"></a><span class="lineno"> 9334</span>}</div>
<div class="ttc" id="aclassitem_html_a213df85346f895e9182f3860eec49891"><div class="ttname"><a href="classitem.html#a213df85346f895e9182f3860eec49891">item::deserialize</a></div><div class="ttdeci">void deserialize(JsonIn &amp;jsin)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l02335">savegame_json.cpp:2335</a></div></div>
<div class="ttc" id="amemory__fast_8h_html_ada897699f31fc8b37c5af09d95d45840"><div class="ttname"><a href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; shared_ptr_fast</div><div class="ttdef"><b>Definition:</b> <a href="memory__fast_8h_source.html#l00016">memory_fast.h:16</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="savegame__json_8cpp_source.html#l02335">deserialize()</a>, <a class="el" href="item_8cpp_source.html#l01072">erase_var()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, and <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l09356">iuse::capture_monster_act()</a>, and <a class="el" href="vehicle_8cpp_source.html#l00176">DefaultRemovePartHandler::spawn_animal_from_part()</a>.</p>

</div>
</div>
<a id="af964cdb27cc2d5a69fa8ffd48d1c8b23" name="af964cdb27cc2d5a69fa8ffd48d1c8b23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af964cdb27cc2d5a69fa8ffd48d1c8b23">&#9670;&nbsp;</a></span>reload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::reload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reload item using ammo from location returning true if successful. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u</td><td>Player doing the reloading </td></tr>
    <tr><td class="paramname">loc</td><td>Location of ammo to be reloaded </td></tr>
    <tr><td class="paramname">qty</td><td>caps reloading to this (or fewer) units </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07949">7949</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07950" name="l07950"></a><span class="lineno"> 7950</span>{</div>
<div class="line"><a id="l07951" name="l07951"></a><span class="lineno"> 7951</span>    <span class="keywordflow">if</span>( qty &lt;= 0 ) {</div>
<div class="line"><a id="l07952" name="l07952"></a><span class="lineno"> 7952</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to reload zero or less charges&quot;</span> );</div>
<div class="line"><a id="l07953" name="l07953"></a><span class="lineno"> 7953</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07954" name="l07954"></a><span class="lineno"> 7954</span>    }</div>
<div class="line"><a id="l07955" name="l07955"></a><span class="lineno"> 7955</span>    <a class="code hl_class" href="classitem.html">item</a> *ammo = loc.<a class="code hl_function" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>();</div>
<div class="line"><a id="l07956" name="l07956"></a><span class="lineno"> 7956</span>    <span class="keywordflow">if</span>( ammo == <span class="keyword">nullptr</span> || ammo-&gt;<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l07957" name="l07957"></a><span class="lineno"> 7957</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to reload using non-existent ammo&quot;</span> );</div>
<div class="line"><a id="l07958" name="l07958"></a><span class="lineno"> 7958</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07959" name="l07959"></a><span class="lineno"> 7959</span>    }</div>
<div class="line"><a id="l07960" name="l07960"></a><span class="lineno"> 7960</span> </div>
<div class="line"><a id="l07961" name="l07961"></a><span class="lineno"> 7961</span>    <a class="code hl_class" href="classitem.html">item</a> *container = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l07962" name="l07962"></a><span class="lineno"> 7962</span>    <span class="keywordflow">if</span>( ammo-&gt;<a class="code hl_function" href="classitem.html#a187a2679361c6546be613657dbad3b3f">is_ammo_container</a>() || ammo-&gt;<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ) {</div>
<div class="line"><a id="l07963" name="l07963"></a><span class="lineno"> 7963</span>        container = ammo;</div>
<div class="line"><a id="l07964" name="l07964"></a><span class="lineno"> 7964</span>        ammo = &amp;ammo-&gt;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l07965" name="l07965"></a><span class="lineno"> 7965</span>    }</div>
<div class="line"><a id="l07966" name="l07966"></a><span class="lineno"> 7966</span> </div>
<div class="line"><a id="l07967" name="l07967"></a><span class="lineno"> 7967</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a16d564fa461f2ef8547f137847dbb124">is_reloadable_with</a>( ammo-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) ) {</div>
<div class="line"><a id="l07968" name="l07968"></a><span class="lineno"> 7968</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07969" name="l07969"></a><span class="lineno"> 7969</span>    }</div>
<div class="line"><a id="l07970" name="l07970"></a><span class="lineno"> 7970</span> </div>
<div class="line"><a id="l07971" name="l07971"></a><span class="lineno"> 7971</span>    <span class="comment">// limit quantity of ammo loaded to remaining capacity</span></div>
<div class="line"><a id="l07972" name="l07972"></a><span class="lineno"> 7972</span>    <span class="keywordtype">int</span> limit = <a class="code hl_function" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>()</div>
<div class="line"><a id="l07973" name="l07973"></a><span class="lineno"> 7973</span>                ? <a class="code hl_function" href="classitem.html#aaff8311e14e6819e6b6c2e207037f292">get_remaining_capacity_for_liquid</a>( *ammo )</div>
<div class="line"><a id="l07974" name="l07974"></a><span class="lineno"> 7974</span>                : <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() - <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>();</div>
<div class="line"><a id="l07975" name="l07975"></a><span class="lineno"> 7975</span> </div>
<div class="line"><a id="l07976" name="l07976"></a><span class="lineno"> 7976</span>    <span class="keywordflow">if</span>( ammo-&gt;<a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>() == <a class="code hl_variable" href="item_8cpp.html#a686a459612f167b3e27e754951dc7b21">ammo_plutonium</a> ) {</div>
<div class="line"><a id="l07977" name="l07977"></a><span class="lineno"> 7977</span>        limit = limit / <a class="code hl_variable" href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a> + ( limit % <a class="code hl_variable" href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a> != 0 );</div>
<div class="line"><a id="l07978" name="l07978"></a><span class="lineno"> 7978</span>    }</div>
<div class="line"><a id="l07979" name="l07979"></a><span class="lineno"> 7979</span> </div>
<div class="line"><a id="l07980" name="l07980"></a><span class="lineno"> 7980</span>    qty = std::min( qty, limit );</div>
<div class="line"><a id="l07981" name="l07981"></a><span class="lineno"> 7981</span> </div>
<div class="line"><a id="l07982" name="l07982"></a><span class="lineno"> 7982</span>    <a class="code hl_function" href="classitem.html#a9f29e8940a146016690f2776939a2980">casings_handle</a>( [&amp;u]( <a class="code hl_class" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a id="l07983" name="l07983"></a><span class="lineno"> 7983</span>        <span class="keywordflow">return</span> u.<a class="code hl_function" href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">i_add_or_drop</a>( e );</div>
<div class="line"><a id="l07984" name="l07984"></a><span class="lineno"> 7984</span>    } );</div>
<div class="line"><a id="l07985" name="l07985"></a><span class="lineno"> 7985</span> </div>
<div class="line"><a id="l07986" name="l07986"></a><span class="lineno"> 7986</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l07987" name="l07987"></a><span class="lineno"> 7987</span>        qty = std::min( qty, ammo-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l07988" name="l07988"></a><span class="lineno"> 7988</span> </div>
<div class="line"><a id="l07989" name="l07989"></a><span class="lineno"> 7989</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a44a8bb6387c8f43fa1040ded39d5b776">is_ammo_belt</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;linkage ) {</div>
<div class="line"><a id="l07990" name="l07990"></a><span class="lineno"> 7990</span>            <span class="keywordflow">if</span>( !u.<a class="code hl_function" href="classCharacter.html#a8a33b517f5d4f8a85c83a71a3bc8cdaf">use_charges_if_avail</a>( *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;linkage, qty ) ) {</div>
<div class="line"><a id="l07991" name="l07991"></a><span class="lineno"> 7991</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;insufficient linkages available when reloading ammo belt&quot;</span> );</div>
<div class="line"><a id="l07992" name="l07992"></a><span class="lineno"> 7992</span>            }</div>
<div class="line"><a id="l07993" name="l07993"></a><span class="lineno"> 7993</span>        }</div>
<div class="line"><a id="l07994" name="l07994"></a><span class="lineno"> 7994</span> </div>
<div class="line"><a id="l07995" name="l07995"></a><span class="lineno"> 7995</span>        <a class="code hl_class" href="classitem.html">item</a> to_reload = *ammo;</div>
<div class="line"><a id="l07996" name="l07996"></a><span class="lineno"> 7996</span>        to_reload.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = qty;</div>
<div class="line"><a id="l07997" name="l07997"></a><span class="lineno"> 7997</span>        ammo-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= qty;</div>
<div class="line"><a id="l07998" name="l07998"></a><span class="lineno"> 7998</span>        <span class="keywordtype">bool</span> merged = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07999" name="l07999"></a><span class="lineno"> 7999</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *it : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l08000" name="l08000"></a><span class="lineno"> 8000</span>            <span class="keywordflow">if</span>( it-&gt;merge_charges( to_reload ) ) {</div>
<div class="line"><a id="l08001" name="l08001"></a><span class="lineno"> 8001</span>                merged = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08002" name="l08002"></a><span class="lineno"> 8002</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08003" name="l08003"></a><span class="lineno"> 8003</span>            }</div>
<div class="line"><a id="l08004" name="l08004"></a><span class="lineno"> 8004</span>        }</div>
<div class="line"><a id="l08005" name="l08005"></a><span class="lineno"> 8005</span>        <span class="keywordflow">if</span>( !merged ) {</div>
<div class="line"><a id="l08006" name="l08006"></a><span class="lineno"> 8006</span>            <a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( to_reload );</div>
<div class="line"><a id="l08007" name="l08007"></a><span class="lineno"> 8007</span>        }</div>
<div class="line"><a id="l08008" name="l08008"></a><span class="lineno"> 8008</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>() ) {</div>
<div class="line"><a id="l08009" name="l08009"></a><span class="lineno"> 8009</span>        <span class="keywordflow">if</span>( !ammo-&gt;<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l08010" name="l08010"></a><span class="lineno"> 8010</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to reload liquid container with non-liquid.&quot;</span> );</div>
<div class="line"><a id="l08011" name="l08011"></a><span class="lineno"> 8011</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08012" name="l08012"></a><span class="lineno"> 8012</span>        }</div>
<div class="line"><a id="l08013" name="l08013"></a><span class="lineno"> 8013</span>        <span class="keywordflow">if</span>( container ) {</div>
<div class="line"><a id="l08014" name="l08014"></a><span class="lineno"> 8014</span>            container-&gt;<a class="code hl_function" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a id="l08015" name="l08015"></a><span class="lineno"> 8015</span>        }</div>
<div class="line"><a id="l08016" name="l08016"></a><span class="lineno"> 8016</span>        <a class="code hl_function" href="classitem.html#a3466a1bff4903c7b2d3f570187b73b2a">fill_with</a>( *ammo, qty );</div>
<div class="line"><a id="l08017" name="l08017"></a><span class="lineno"> 8017</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() ) {</div>
<div class="line"><a id="l08018" name="l08018"></a><span class="lineno"> 8018</span>        <span class="comment">// if we already have a magazine loaded prompt to eject it</span></div>
<div class="line"><a id="l08019" name="l08019"></a><span class="lineno"> 8019</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() ) {</div>
<div class="line"><a id="l08020" name="l08020"></a><span class="lineno"> 8020</span>            <span class="comment">//~ %1$s: magazine name, %2$s: weapon name</span></div>
<div class="line"><a id="l08021" name="l08021"></a><span class="lineno"> 8021</span>            std::string <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;magazine&quot;</span>, <span class="stringliteral">&quot;Eject %1$s from %2$s?&quot;</span> ),</div>
<div class="line"><a id="l08022" name="l08022"></a><span class="lineno"> 8022</span>                                                <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>()-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l08023" name="l08023"></a><span class="lineno"> 8023</span> </div>
<div class="line"><a id="l08024" name="l08024"></a><span class="lineno"> 8024</span>            <span class="comment">// eject magazine to player inventory and try to dispose of it from there</span></div>
<div class="line"><a id="l08025" name="l08025"></a><span class="lineno"> 8025</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;mag = u.<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( *<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() );</div>
<div class="line"><a id="l08026" name="l08026"></a><span class="lineno"> 8026</span>            <span class="keywordflow">if</span>( !u.<a class="code hl_function" href="classCharacter.html#abb844c65a8e171ccb4bb088edeb72f8d">dispose_item</a>( <a class="code hl_class" href="classitem__location.html">item_location</a>( u, &amp;mag ), <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a> ) ) {</div>
<div class="line"><a id="l08027" name="l08027"></a><span class="lineno"> 8027</span>                u.<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( mag ); <span class="comment">// user canceled so delete the clone</span></div>
<div class="line"><a id="l08028" name="l08028"></a><span class="lineno"> 8028</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08029" name="l08029"></a><span class="lineno"> 8029</span>            }</div>
<div class="line"><a id="l08030" name="l08030"></a><span class="lineno"> 8030</span>            <a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() );</div>
<div class="line"><a id="l08031" name="l08031"></a><span class="lineno"> 8031</span>        }</div>
<div class="line"><a id="l08032" name="l08032"></a><span class="lineno"> 8032</span> </div>
<div class="line"><a id="l08033" name="l08033"></a><span class="lineno"> 8033</span>        <a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( *ammo );</div>
<div class="line"><a id="l08034" name="l08034"></a><span class="lineno"> 8034</span>        loc.<a class="code hl_function" href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">remove_item</a>();</div>
<div class="line"><a id="l08035" name="l08035"></a><span class="lineno"> 8035</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08036" name="l08036"></a><span class="lineno"> 8036</span> </div>
<div class="line"><a id="l08037" name="l08037"></a><span class="lineno"> 8037</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08038" name="l08038"></a><span class="lineno"> 8038</span>        <span class="keywordflow">if</span>( ammo-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa068f30eefcfd296c51572f604c37013">flag_SPEEDLOADER</a> ) ) {</div>
<div class="line"><a id="l08039" name="l08039"></a><span class="lineno"> 8039</span>            <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> = ammo-&gt;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>;</div>
<div class="line"><a id="l08040" name="l08040"></a><span class="lineno"> 8040</span>            qty = std::min( qty, ammo-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() );</div>
<div class="line"><a id="l08041" name="l08041"></a><span class="lineno"> 8041</span>            ammo-&gt;<a class="code hl_function" href="classitem.html#ae00bce86206993cc672387f9a2c77f92">ammo_consume</a>( qty, <a class="code hl_variable" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a> );</div>
<div class="line"><a id="l08042" name="l08042"></a><span class="lineno"> 8042</span>            <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> += qty;</div>
<div class="line"><a id="l08043" name="l08043"></a><span class="lineno"> 8043</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ammo-&gt;<a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>() == <a class="code hl_variable" href="item_8cpp.html#a686a459612f167b3e27e754951dc7b21">ammo_plutonium</a> ) {</div>
<div class="line"><a id="l08044" name="l08044"></a><span class="lineno"> 8044</span>            <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> = ammo-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>;</div>
<div class="line"><a id="l08045" name="l08045"></a><span class="lineno"> 8045</span>            ammo-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= qty;</div>
<div class="line"><a id="l08046" name="l08046"></a><span class="lineno"> 8046</span> </div>
<div class="line"><a id="l08047" name="l08047"></a><span class="lineno"> 8047</span>            <span class="comment">// any excess is wasted rather than overfilling the item</span></div>
<div class="line"><a id="l08048" name="l08048"></a><span class="lineno"> 8048</span>            <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> += qty * <a class="code hl_variable" href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a>;</div>
<div class="line"><a id="l08049" name="l08049"></a><span class="lineno"> 8049</span>            <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = std::min( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() );</div>
<div class="line"><a id="l08050" name="l08050"></a><span class="lineno"> 8050</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08051" name="l08051"></a><span class="lineno"> 8051</span>            <a class="code hl_variable" href="classitem.html#afa86cd97b869ce264bf1d6141e0a4048">curammo</a> = ammo-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>;</div>
<div class="line"><a id="l08052" name="l08052"></a><span class="lineno"> 8052</span>            qty = std::min( qty, ammo-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l08053" name="l08053"></a><span class="lineno"> 8053</span>            ammo-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= qty;</div>
<div class="line"><a id="l08054" name="l08054"></a><span class="lineno"> 8054</span>            <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> += qty;</div>
<div class="line"><a id="l08055" name="l08055"></a><span class="lineno"> 8055</span>        }</div>
<div class="line"><a id="l08056" name="l08056"></a><span class="lineno"> 8056</span>    }</div>
<div class="line"><a id="l08057" name="l08057"></a><span class="lineno"> 8057</span> </div>
<div class="line"><a id="l08058" name="l08058"></a><span class="lineno"> 8058</span>    <span class="keywordflow">if</span>( ammo-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 &amp;&amp; !ammo-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa068f30eefcfd296c51572f604c37013">flag_SPEEDLOADER</a> ) ) {</div>
<div class="line"><a id="l08059" name="l08059"></a><span class="lineno"> 8059</span>        <span class="keywordflow">if</span>( container != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l08060" name="l08060"></a><span class="lineno"> 8060</span>            container-&gt;<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( container-&gt;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>() );</div>
<div class="line"><a id="l08061" name="l08061"></a><span class="lineno"> 8061</span>            u.<a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a02827fc3d19c675083f0ddee201a1549">restack</a>( u ); <span class="comment">// emptied containers do not stack with non-empty ones</span></div>
<div class="line"><a id="l08062" name="l08062"></a><span class="lineno"> 8062</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08063" name="l08063"></a><span class="lineno"> 8063</span>            loc.<a class="code hl_function" href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">remove_item</a>();</div>
<div class="line"><a id="l08064" name="l08064"></a><span class="lineno"> 8064</span>        }</div>
<div class="line"><a id="l08065" name="l08065"></a><span class="lineno"> 8065</span>    }</div>
<div class="line"><a id="l08066" name="l08066"></a><span class="lineno"> 8066</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08067" name="l08067"></a><span class="lineno"> 8067</span>}</div>
<div class="ttc" id="aclassCharacter_html_a611bd51d6d4fa9c119787f2fbc6bdd52"><div class="ttname"><a href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">Character::i_add</a></div><div class="ttdeci">item &amp; i_add(item it, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02310">character.cpp:2310</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab80b4bcd5228af487bb1a26c14864e5d"><div class="ttname"><a href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">Character::i_add_or_drop</a></div><div class="ttdeci">bool i_add_or_drop(item &amp;it, int qty=1)</div><div class="ttdoc">Sets invlet and adds to inventory if possible, drops otherwise, returns true if either succeeded.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02448">character.cpp:2448</a></div></div>
<div class="ttc" id="aclassCharacter_html_abb844c65a8e171ccb4bb088edeb72f8d"><div class="ttname"><a href="classCharacter.html#abb844c65a8e171ccb4bb088edeb72f8d">Character::dispose_item</a></div><div class="ttdeci">virtual bool dispose_item(item_location &amp;&amp;obj, const std::string &amp;prompt=std::string())</div><div class="ttdoc">Drop, wear, stash or otherwise try to dispose of an item consuming appropriate moves.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07347">character.cpp:7347</a></div></div>
<div class="ttc" id="aclassinventory_html_a02827fc3d19c675083f0ddee201a1549"><div class="ttname"><a href="classinventory.html#a02827fc3d19c675083f0ddee201a1549">inventory::restack</a></div><div class="ttdeci">void restack(player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00398">inventory.cpp:398</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00022">item_location.h:23</a></div></div>
<div class="ttc" id="aclassitem__location_html_a350bb267073f30205f780b394324a32c"><div class="ttname"><a href="classitem__location.html#a350bb267073f30205f780b394324a32c">item_location::get_item</a></div><div class="ttdeci">item * get_item()</div><div class="ttdoc">Gets the selected item or nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00768">item_location.cpp:768</a></div></div>
<div class="ttc" id="aclassitem__location_html_a41e90133672d99aa1cecde670e37c23c"><div class="ttname"><a href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">item_location::remove_item</a></div><div class="ttdeci">void remove_item()</div><div class="ttdoc">Removes the selected item from the game.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00758">item_location.cpp:758</a></div></div>
<div class="ttc" id="aclassitem_html_a3466a1bff4903c7b2d3f570187b73b2a"><div class="ttname"><a href="classitem.html#a3466a1bff4903c7b2d3f570187b73b2a">item::fill_with</a></div><div class="ttdeci">void fill_with(item &amp;liquid, int amount=INFINITE_CHARGES)</div><div class="ttdoc">Fill item with liquid up to its capacity.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08406">item.cpp:8406</a></div></div>
<div class="ttc" id="aclassitem_html_a44a8bb6387c8f43fa1040ded39d5b776"><div class="ttname"><a href="classitem.html#a44a8bb6387c8f43fa1040ded39d5b776">item::is_ammo_belt</a></div><div class="ttdeci">bool is_ammo_belt() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06417">item.cpp:6417</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a48b9330c21bc6a0b8f99d7a3414cfe9f"><div class="ttname"><a href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a></div><div class="ttdeci">static constexpr int PLUTONIUM_CHARGES</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00077">game_constants.h:77</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a686a459612f167b3e27e754951dc7b21"><div class="ttname"><a href="item_8cpp.html#a686a459612f167b3e27e754951dc7b21">ammo_plutonium</a></div><div class="ttdeci">static const ammotype ammo_plutonium(&quot;plutonium&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa068f30eefcfd296c51572f604c37013"><div class="ttname"><a href="item_8cpp.html#aa068f30eefcfd296c51572f604c37013">flag_SPEEDLOADER</a></div><div class="ttdeci">static const std::string flag_SPEEDLOADER(&quot;SPEEDLOADER&quot;)</div></div>
<div class="ttc" id="anamespacepickup_html_a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c"><div class="ttname"><a href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">pickup::prompt</a></div><div class="ttdeci">@ prompt</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8h_source.html#l00031">pickup.h:30</a></div></div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">static constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00273">point.h:273</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="item_8cpp.html#a686a459612f167b3e27e754951dc7b21">ammo_plutonium</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07431">ammo_type()</a>, <a class="el" href="item_8cpp_source.html#l07940">casings_handle()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8h_source.html#l02166">curammo</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="character_8cpp_source.html#l07347">Character::dispose_item()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="item_8cpp.html#aa068f30eefcfd296c51572f604c37013">flag_SPEEDLOADER()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item__location_8cpp_source.html#l00768">item_location::get_item()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="character_8cpp_source.html#l02448">Character::i_add_or_drop()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="item_8cpp_source.html#l06417">is_ammo_belt()</a>, <a class="el" href="item_8cpp_source.html#l06512">is_ammo_container()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="item_8cpp_source.html#l06716">is_reloadable_with()</a>, <a class="el" href="item_8cpp_source.html#l06574">is_watertight_container()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="item_8cpp_source.html#l04424">on_contents_changed()</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="game__constants_8h_source.html#l00077">PLUTONIUM_CHARGES</a>, <a class="el" href="pickup_8h_source.html#l00030">pickup::prompt</a>, <a class="el" href="item_8cpp_source.html#l00987">put_in()</a>, <a class="el" href="item__location_8cpp_source.html#l00758">item_location::remove_item()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; item &gt;::remove_item()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; T &gt;::remove_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">inventory::restack()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="point_8h_source.html#l00273">tripoint_zero</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, and <a class="el" href="character_8cpp_source.html#l09622">Character::use_charges_if_avail()</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="npcmove_8cpp_source.html#l04547">npc::do_reload()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00251">aim_activity_actor::load_RAS_weapon()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>.</p>

</div>
</div>
<a id="a3c8e850e9700f46d933b86dc4ef3aa2b" name="a3c8e850e9700f46d933b86dc4ef3aa2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c8e850e9700f46d933b86dc4ef3aa2b">&#9670;&nbsp;</a></span>remove_old_owner()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void item::remove_old_owner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02020">2020</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>                                             {</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>            <a class="code hl_variable" href="classitem.html#a155a45ada3eb970d006b701a50026c27">old_owner</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">faction_id::NULL_ID</a>();</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; faction &gt;::NULL_ID()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk__funcs_8cpp_source.html#l00830">talk_function::drop_stolen_item()</a>, and <a class="el" href="item_8cpp_source.html#l01296">validate_ownership()</a>.</p>

</div>
</div>
<a id="a41b668b8e4cd352077e032d4e152f365" name="a41b668b8e4cd352077e032d4e152f365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41b668b8e4cd352077e032d4e152f365">&#9670;&nbsp;</a></span>remove_owner()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void item::remove_owner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02027">2027</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>                                         {</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>            <a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">faction_id::NULL_ID</a>();</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; faction &gt;::NULL_ID()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01296">validate_ownership()</a>.</p>

</div>
</div>
<a id="a7af3529d3ba327b8eac2d9be8bd5b1d6" name="a7af3529d3ba327b8eac2d9be8bd5b1d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7af3529d3ba327b8eac2d9be8bd5b1d6">&#9670;&nbsp;</a></span>repair_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::repair_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03092">3092</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03094" name="l03094"></a><span class="lineno"> 3094</span>{</div>
<div class="line"><a id="l03095" name="l03095"></a><span class="lineno"> 3095</span>    <span class="keywordflow">if</span>( !parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab4ef9ddece2e01499339603addb5b638">iteminfo_parts::DESCRIPTION_REPAIREDWITH</a> ) ) {</div>
<div class="line"><a id="l03096" name="l03096"></a><span class="lineno"> 3096</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03097" name="l03097"></a><span class="lineno"> 3097</span>    }</div>
<div class="line"><a id="l03098" name="l03098"></a><span class="lineno"> 3098</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03099" name="l03099"></a><span class="lineno"> 3099</span>    <span class="keyword">const</span> std::vector&lt;itype_id&gt; &amp;rep = <a class="code hl_function" href="string__id__utils_8h.html#ae1571ed28c2d17ee7a7d6973aa31e8b5">sorted_lex</a>( <a class="code hl_function" href="classitem.html#afd036343012f6275683b8168d84c1be3">repaired_with</a>() );</div>
<div class="line"><a id="l03100" name="l03100"></a><span class="lineno"> 3100</span>    <span class="keywordflow">if</span>( !rep.empty() ) {</div>
<div class="line"><a id="l03101" name="l03101"></a><span class="lineno"> 3101</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Repair&lt;/bold&gt; using %s.&quot;</span> ),</div>
<div class="line"><a id="l03102" name="l03102"></a><span class="lineno"> 3102</span>        <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( rep.begin(), rep.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp; e ) {</div>
<div class="line"><a id="l03103" name="l03103"></a><span class="lineno"> 3103</span>            return nname( e );</div>
<div class="line"><a id="l03104" name="l03104"></a><span class="lineno"> 3104</span>        }, <a class="code hl_enumvalue" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aacfc049a17faac959998820e7aaaf4329">enumeration_conjunction::or_</a> ) ) );</div>
<div class="line"><a id="l03105" name="l03105"></a><span class="lineno"> 3105</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adb672a9fba1f03f346c1c0ada6e88ac5">reinforceable</a>() ) {</div>
<div class="line"><a id="l03106" name="l03106"></a><span class="lineno"> 3106</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item can be &lt;good&gt;reinforced&lt;/good&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l03107" name="l03107"></a><span class="lineno"> 3107</span>        }</div>
<div class="line"><a id="l03108" name="l03108"></a><span class="lineno"> 3108</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;* This item is &lt;bad&gt;not repairable&lt;/bad&gt;.&quot;</span> ) );</div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span>    }</div>
<div class="line"><a id="l03111" name="l03111"></a><span class="lineno"> 3111</span>}</div>
<div class="ttc" id="aclassitem_html_adb672a9fba1f03f346c1c0ada6e88ac5"><div class="ttname"><a href="classitem.html#adb672a9fba1f03f346c1c0ada6e88ac5">item::reinforceable</a></div><div class="ttdeci">bool reinforceable() const</div><div class="ttdoc">Whether the item can be repaired beyond normal health.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06349">item.cpp:6349</a></div></div>
<div class="ttc" id="aclassitem_html_afd036343012f6275683b8168d84c1be3"><div class="ttname"><a href="classitem.html#afd036343012f6275683b8168d84c1be3">item::repaired_with</a></div><div class="ttdeci">const std::set&lt; itype_id &gt; &amp; repaired_with() const</div><div class="ttdoc">If possible to repair this item what tools could potentially be used for this purpose?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06207">item.cpp:6207</a></div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaab4ef9ddece2e01499339603addb5b638"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab4ef9ddece2e01499339603addb5b638">iteminfo_parts::DESCRIPTION_REPAIREDWITH</a></div><div class="ttdeci">@ DESCRIPTION_REPAIREDWITH</div></div>
<div class="ttc" id="aoutput_8h_html_a17a93de390fc2504e63ab6dc8cf4753aacfc049a17faac959998820e7aaaf4329"><div class="ttname"><a href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aacfc049a17faac959998820e7aaaf4329">enumeration_conjunction::or_</a></div><div class="ttdeci">@ or_</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab4ef9ddece2e01499339603addb5b638">DESCRIPTION_REPAIREDWITH</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aacfc049a17faac959998820e7aaaf4329">or_</a>, <a class="el" href="item_8cpp_source.html#l06349">reinforceable()</a>, <a class="el" href="item_8cpp_source.html#l06207">repaired_with()</a>, <a class="el" href="string__id__utils_8h_source.html#l00022">sorted_lex()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, and <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="afd036343012f6275683b8168d84c1be3" name="afd036343012f6275683b8168d84c1be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd036343012f6275683b8168d84c1be3">&#9670;&nbsp;</a></span>repaired_with()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt; &amp; item::repaired_with </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If possible to repair this item what tools could potentially be used for this purpose? </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06207">6207</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06208" name="l06208"></a><span class="lineno"> 6208</span>{</div>
<div class="line"><a id="l06209" name="l06209"></a><span class="lineno"> 6209</span>    <span class="keyword">static</span> std::set&lt;itype_id&gt; no_repair;</div>
<div class="line"><a id="l06210" name="l06210"></a><span class="lineno"> 6210</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a4f8ce37317fc95f7058fdac819ff770a">flag_NO_REPAIR</a> )  ? no_repair : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ab1af94839bb0e587dc5e59b5b1d5a5d8">repair</a>;</div>
<div class="line"><a id="l06211" name="l06211"></a><span class="lineno"> 6211</span>}</div>
<div class="ttc" id="astructitype_html_ab1af94839bb0e587dc5e59b5b1d5a5d8"><div class="ttname"><a href="structitype.html#ab1af94839bb0e587dc5e59b5b1d5a5d8">itype::repair</a></div><div class="ttdeci">std::set&lt; itype_id &gt; repair</div><div class="ttdoc">Damage scale compared to the old float damage value.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01011">itype.h:1011</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a4f8ce37317fc95f7058fdac819ff770a">flag_NO_REPAIR()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="itype_8h_source.html#l01011">itype::repair</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03092">repair_info()</a>.</p>

</div>
</div>
<a id="a75dd0b9b631f012c245f51e1f894305b" name="a75dd0b9b631f012c245f51e1f894305b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75dd0b9b631f012c245f51e1f894305b">&#9670;&nbsp;</a></span>reset_cable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::reset_cable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper to bring a cable back to its initial state. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09254">9254</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09255" name="l09255"></a><span class="lineno"> 9255</span>{</div>
<div class="line"><a id="l09256" name="l09256"></a><span class="lineno"> 9256</span>    <span class="keywordtype">int</span> max_charges = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#af238865694d157c403d1c7d0b74106dc">maximum_charges</a>();</div>
<div class="line"><a id="l09257" name="l09257"></a><span class="lineno"> 9257</span> </div>
<div class="line"><a id="l09258" name="l09258"></a><span class="lineno"> 9258</span>    <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;state&quot;</span>, <span class="stringliteral">&quot;attach_first&quot;</span> );</div>
<div class="line"><a id="l09259" name="l09259"></a><span class="lineno"> 9259</span>    <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;source_x&quot;</span> );</div>
<div class="line"><a id="l09260" name="l09260"></a><span class="lineno"> 9260</span>    <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;source_y&quot;</span> );</div>
<div class="line"><a id="l09261" name="l09261"></a><span class="lineno"> 9261</span>    <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;source_z&quot;</span> );</div>
<div class="line"><a id="l09262" name="l09262"></a><span class="lineno"> 9262</span>    <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09263" name="l09263"></a><span class="lineno"> 9263</span>    <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = max_charges;</div>
<div class="line"><a id="l09264" name="l09264"></a><span class="lineno"> 9264</span> </div>
<div class="line"><a id="l09265" name="l09265"></a><span class="lineno"> 9265</span>    <span class="keywordflow">if</span>( p != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09266" name="l09266"></a><span class="lineno"> 9266</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You reel in the cable.&quot;</span> ) );</div>
<div class="line"><a id="l09267" name="l09267"></a><span class="lineno"> 9267</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> * 10;</div>
<div class="line"><a id="l09268" name="l09268"></a><span class="lineno"> 9268</span>    }</div>
<div class="line"><a id="l09269" name="l09269"></a><span class="lineno"> 9269</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8cpp_source.html#l01072">erase_var()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="itype_8h_source.html#l01101">itype::maximum_charges()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="item_8cpp_source.html#l00992">set_var()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09198">process_cable()</a>.</p>

</div>
</div>
<a id="a34f7ae5deade2f4a8fed4f04e81797ce" name="a34f7ae5deade2f4a8fed4f04e81797ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34f7ae5deade2f4a8fed4f04e81797ce">&#9670;&nbsp;</a></span>rotten()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::rotten </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns true if item is now rotten after all shelf life has elapsed </p>

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l00853">853</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>                            {</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>() &gt; 1.0;</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l01355">veh_interact::calc_overview()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03883">basecamp::distribute_food()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">player::eat()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00708">comestible_inventory_preset::get_freshness()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00156">liquid_handler::get_liquid_target()</a>, <a class="el" href="iexamine_8cpp_source.html#l05119">is_non_rotten_crafting_component()</a>, <a class="el" href="iexamine_8cpp_source.html#l05493">mill_load_food()</a>, <a class="el" href="consumption_8cpp_source.html#l01059">Character::modify_morale()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="item_8cpp_source.html#l08961">process_corpse()</a>, <a class="el" href="iexamine_8cpp_source.html#l05385">smoker_load_food()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="consumption_8cpp_source.html#l00728">Character::will_eat()</a>.</p>

</div>
</div>
<a id="a4cfe6a9d7c14e5ee594010eb4584dcd0" name="a4cfe6a9d7c14e5ee594010eb4584dcd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cfe6a9d7c14e5ee594010eb4584dcd0">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02359">2359</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>{</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>    <a class="code hl_class" href="classio_1_1JsonObjectOutputArchive.html">io::JsonObjectOutputArchive</a> archive( json );</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>    <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="classitem.html">item</a> *<span class="keyword">&gt;</span>( this )-&gt;<a class="code hl_function" href="classitem.html#a18ede775ada6d0b88f984b9dae6fed00">io</a>( archive );</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ) {</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;contents&quot;</span>, <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a> );</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>    }</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>}</div>
<div class="ttc" id="aclassJsonOut_html_adb3c899f0ad7fc4f25cd3357c51a2c42"><div class="ttname"><a href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">JsonOut::member</a></div><div class="ttdeci">void member(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02046">json.cpp:2046</a></div></div>
<div class="ttc" id="aclassio_1_1JsonObjectOutputArchive_html"><div class="ttname"><a href="classio_1_1JsonObjectOutputArchive.html">io::JsonObjectOutputArchive</a></div><div class="ttdoc">Output archive matching the input archive JsonObjectInputArchive.</div><div class="ttdef"><b>Definition:</b> <a href="cata__io_8h_source.html#l00350">cata_io.h:351</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l02046">JsonOut::member()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l09338">contain_monster()</a>.</p>

</div>
</div>
<a id="ab55a5629e6fe769a7ac314c02d25ecef" name="ab55a5629e6fe769a7ac314c02d25ecef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab55a5629e6fe769a7ac314c02d25ecef">&#9670;&nbsp;</a></span>set_age()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_age </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>age</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09837">9837</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09838" name="l09838"></a><span class="lineno"> 9838</span>{</div>
<div class="line"><a id="l09839" name="l09839"></a><span class="lineno"> 9839</span>    <a class="code hl_function" href="classitem.html#a30120d067eb1fe9921fdf2de395b53b1">set_birthday</a>( <a class="code hl_class" href="classtime__point.html">time_point</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) - <a class="code hl_function" href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">age</a> );</div>
<div class="line"><a id="l09840" name="l09840"></a><span class="lineno"> 9840</span>}</div>
<div class="ttc" id="aclassitem_html_a30120d067eb1fe9921fdf2de395b53b1"><div class="ttname"><a href="classitem.html#a30120d067eb1fe9921fdf2de395b53b1">item::set_birthday</a></div><div class="ttdeci">void set_birthday(const time_point &amp;bday)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09858">item.cpp:9858</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l09832">age()</a>, <a class="el" href="item_8cpp_source.html#l09858">set_birthday()</a>, and <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, <a class="el" href="iuse_8cpp_source.html#l03818">iuse::firecracker_pack()</a>, <a class="el" href="iuse_8cpp_source.html#l01793">iuse::fish_trap()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01343">vehicle::operate_planter()</a>, and <a class="el" href="map__field_8cpp_source.html#l00394">map::process_fields_in_submap()</a>.</p>

</div>
</div>
<a id="a30120d067eb1fe9921fdf2de395b53b1" name="a30120d067eb1fe9921fdf2de395b53b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30120d067eb1fe9921fdf2de395b53b1">&#9670;&nbsp;</a></span>set_birthday()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_birthday </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>bday</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09858">9858</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09859" name="l09859"></a><span class="lineno"> 9859</span>{</div>
<div class="line"><a id="l09860" name="l09860"></a><span class="lineno"> 9860</span>    this-&gt;bday = std::max( <a class="code hl_variable" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a>, <a class="code hl_variable" href="classitem.html#a628659a14a3b57d0627ddd5093e94147">bday</a> );</div>
<div class="line"><a id="l09861" name="l09861"></a><span class="lineno"> 9861</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02223">bday</a>, and <a class="el" href="calendar_8cpp_source.html#l00026">calendar::turn_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="editmap_8cpp_source.html#l01379">editmap::edit_itm()</a>, <a class="el" href="weather_8cpp_source.html#l00184">retroactively_fill_from_funnel()</a>, <a class="el" href="item_8cpp_source.html#l09837">set_age()</a>, and <a class="el" href="wish_8cpp_source.html#l00535">debug_menu::wishitem()</a>.</p>

</div>
</div>
<a id="aadccb0c1de4ceaa2b75ccdf8b41f11be" name="aadccb0c1de4ceaa2b75ccdf8b41f11be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadccb0c1de4ceaa2b75ccdf8b41f11be">&#9670;&nbsp;</a></span>set_cached_tool_selections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_cached_tool_selections </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>selections</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09939">9939</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09940" name="l09940"></a><span class="lineno"> 9940</span>{</div>
<div class="line"><a id="l09941" name="l09941"></a><span class="lineno"> 9941</span>    assert( <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> );</div>
<div class="line"><a id="l09942" name="l09942"></a><span class="lineno"> 9942</span>    <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;cached_tool_selections = selections;</div>
<div class="line"><a id="l09943" name="l09943"></a><span class="lineno"> 9943</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02190">craft_data_</a>.</p>

<p class="reference">Referenced by <a class="el" href="craft__command_8cpp_source.html#l00223">craft_command::create_in_progress_craft()</a>.</p>

</div>
</div>
<a id="a721746ee594b379edfa634a4b2089265" name="a721746ee594b379edfa634a4b2089265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721746ee594b379edfa634a4b2089265">&#9670;&nbsp;</a></span>set_countdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_countdown </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_turns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets time until activation for an item that will self-activate in the future. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08441">8441</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08442" name="l08442"></a><span class="lineno"> 8442</span>{</div>
<div class="line"><a id="l08443" name="l08443"></a><span class="lineno"> 8443</span>    <span class="keywordflow">if</span>( num_turns &lt; 0 ) {</div>
<div class="line"><a id="l08444" name="l08444"></a><span class="lineno"> 8444</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to set a negative countdown value %d.&quot;</span>, num_turns );</div>
<div class="line"><a id="l08445" name="l08445"></a><span class="lineno"> 8445</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08446" name="l08446"></a><span class="lineno"> 8446</span>    }</div>
<div class="line"><a id="l08447" name="l08447"></a><span class="lineno"> 8447</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().empty() ) {</div>
<div class="line"><a id="l08448" name="l08448"></a><span class="lineno"> 8448</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to set countdown on an item with ammo.&quot;</span> );</div>
<div class="line"><a id="l08449" name="l08449"></a><span class="lineno"> 8449</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08450" name="l08450"></a><span class="lineno"> 8450</span>    }</div>
<div class="line"><a id="l08451" name="l08451"></a><span class="lineno"> 8451</span>    <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = num_turns;</div>
<div class="line"><a id="l08452" name="l08452"></a><span class="lineno"> 8452</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, and <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>.</p>

</div>
</div>
<a id="a4095bf310206d3c22ce0bb15bc7dad03" name="a4095bf310206d3c22ce0bb15bc7dad03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4095bf310206d3c22ce0bb15bc7dad03">&#9670;&nbsp;</a></span>set_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::set_damage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter setting damage constrained by <a class="el" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a> and <a class="el" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>. </p>
<dl class="section note"><dt>Note</dt><dd>this method does not invoke the <a class="el" href="classitem.html#aadbabbc9e7714db37f32b7c6f7406d8f">on_damage</a> callback </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>same instance to allow method chaining </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00711">711</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>{</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    <a class="code hl_function" href="classitem.html#aadbabbc9e7714db37f32b7c6f7406d8f">on_damage</a>( qty - <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a>, <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa64ca6840e504bdf899795e9e112d9077">DT_TRUE</a> );</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> = std::max( std::min( qty, <a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() ), <a class="code hl_function" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a>() );</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02228">damage_</a>, <a class="el" href="damage_8h_source.html#l00022">DT_TRUE</a>, <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>, <a class="el" href="item_8cpp_source.html#l06061">min_damage()</a>, and <a class="el" href="item_8cpp_source.html#l04433">on_damage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00623">mdeath::broken()</a>, <a class="el" href="editmap_8cpp_source.html#l01379">editmap::edit_itm()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00067">vehicle_part::properties_to_item()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>, <a class="el" href="game_8cpp_source.html#l05195">game::save_cyborg()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00527">vehicle::set_hp()</a>, and <a class="el" href="map_8cpp_source.html#l04138">map::spawn_an_item()</a>.</p>

</div>
</div>
<a id="a9a1f33d04abe5ec73a31213be8d0c44e" name="a9a1f33d04abe5ec73a31213be8d0c44e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1f33d04abe5ec73a31213be8d0c44e">&#9670;&nbsp;</a></span>set_favorite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_favorite </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>favorite</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09911">9911</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09912" name="l09912"></a><span class="lineno"> 9912</span>{</div>
<div class="line"><a id="l09913" name="l09913"></a><span class="lineno"> 9913</span>    <a class="code hl_variable" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> = favorite;</div>
<div class="line"><a id="l09914" name="l09914"></a><span class="lineno"> 9914</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02234">is_favorite</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01347">advanced_inventory::display()</a>, and <a class="el" href="inventory__ui_8cpp_source.html#l00641">inventory_column::set_stack_favorite()</a>.</p>

</div>
</div>
<a id="aaf0e79cb1bc190daa4804cfd62f279c4" name="aaf0e79cb1bc190daa4804cfd62f279c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf0e79cb1bc190daa4804cfd62f279c4">&#9670;&nbsp;</a></span>set_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::set_flag </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Idempotent filter setting an item specific flag. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05221">5221</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05222" name="l05222"></a><span class="lineno"> 5222</span>{</div>
<div class="line"><a id="l05223" name="l05223"></a><span class="lineno"> 5223</span>    <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>.<a class="code hl_function" href="classcata_1_1flat__set.html#ab427ae6af6b4cd328c0000bc197f881b">insert</a>( flag );</div>
<div class="line"><a id="l05224" name="l05224"></a><span class="lineno"> 5224</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l05225" name="l05225"></a><span class="lineno"> 5225</span>}</div>
<div class="ttc" id="aclasscata_1_1flat__set_html_ab427ae6af6b4cd328c0000bc197f881b"><div class="ttname"><a href="classcata_1_1flat__set.html#ab427ae6af6b4cd328c0000bc197f881b">cata::flat_set::insert</a></div><div class="ttdeci">iterator insert(iterator, const value_type &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00151">flat_set.h:151</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flat__set_8h_source.html#l00151">cata::flat_set&lt; T, Compare, Data &gt;::insert()</a>, and <a class="el" href="item_8h_source.html#l02163">item_tags</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l08233">map::add_corpse()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01175">are_requirements_nearby()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="mondeath_8cpp_source.html#l00858">butcher_cbm_item()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01126">activity_handlers::butcher_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01114">butchery_quarter()</a>, <a class="el" href="iuse_8cpp_source.html#l07494">iuse::camera()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="recipe_8cpp_source.html#l00471">recipe::create_byproducts()</a>, <a class="el" href="item__group_8cpp_source.html#l00050">Single_item_creator::create_single()</a>, <a class="el" href="ranged_8cpp_source.html#l01719">cycle_action()</a>, <a class="el" href="dump_8cpp_source.html#l00037">game::dump_stats()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03741">heal_actor::finish_using()</a>, <a class="el" href="basecamp_8cpp_source.html#l00606">basecamp::form_crafting_inventory()</a>, <a class="el" href="inventory_8cpp_source.html#l00508">inventory::form_from_map()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02645">activity_handlers::repair_activity_hack::anonymous_namespace{activity_handlers.cpp}::get_fake_tool()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00358">iuse_transform::info()</a>, <a class="el" href="crafting_8cpp_source.html#l00972">inherit_flags()</a>, <a class="el" href="iuse_8cpp_source.html#l06131">init_memory_card_with_random_stuff()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item__factory_8cpp_source.html#l02683">Item_factory::migrate_item()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="iexamine_8cpp_source.html#l00291">iexamine::nanofab()</a>, <a class="el" href="item_8cpp_source.html#l04433">on_damage()</a>, <a class="el" href="item_8cpp_source.html#l09819">on_drop()</a>, <a class="el" href="bionics_8cpp_source.html#l02051">Character::perform_uninstall()</a>, <a class="el" href="character_8cpp_source.html#l10094">Character::place_corpse()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00067">vehicle_part::properties_to_item()</a>, <a class="el" href="iuse_8cpp_source.html#l01650">iuse::radio_mod()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>, <a class="el" href="monattack_8cpp_source.html#l04634">mattack::riotbot()</a>, <a class="el" href="item_8cpp_source.html#l05233">set_flag_recursive()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00693">spell_effect::spawn_ethereal_item()</a>, <a class="el" href="map_8cpp_source.html#l04187">map::spawn_item()</a>, <a class="el" href="npc_8cpp_source.html#l00543">starting_clothes()</a>, <a class="el" href="npc_8cpp_source.html#l00586">starting_inv()</a>, <a class="el" href="iuse_8cpp_source.html#l05571">iuse::towel_common()</a>, <a class="el" href="bionics_8cpp_source.html#l02085">Character::uninstall_bionic()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00388">unpack_actor::use()</a>, <a class="el" href="iexamine_8cpp_source.html#l03910">iexamine::use_furn_fake_item()</a>, and <a class="el" href="vehicle__part_8cpp_source.html#l00040">vehicle_part::vehicle_part()</a>.</p>

</div>
</div>
<a id="a046321a5e2d374519ab40509c3f91a00" name="a046321a5e2d374519ab40509c3f91a00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a046321a5e2d374519ab40509c3f91a00">&#9670;&nbsp;</a></span>set_flag_recursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::set_flag_recursive </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Idempotent filter recursively setting an item specific flag on this item and its components. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05233">5233</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05234" name="l05234"></a><span class="lineno"> 5234</span>{</div>
<div class="line"><a id="l05235" name="l05235"></a><span class="lineno"> 5235</span>    <a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( flag );</div>
<div class="line"><a id="l05236" name="l05236"></a><span class="lineno"> 5236</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;comp : <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l05237" name="l05237"></a><span class="lineno"> 5237</span>        comp.set_flag_recursive( flag );</div>
<div class="line"><a id="l05238" name="l05238"></a><span class="lineno"> 5238</span>    }</div>
<div class="line"><a id="l05239" name="l05239"></a><span class="lineno"> 5239</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l05240" name="l05240"></a><span class="lineno"> 5240</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02158">components</a>, and <a class="el" href="item_8cpp_source.html#l05221">set_flag()</a>.</p>

</div>
</div>
<a id="abc7a9644453a2b167e19a4e988d12d22" name="abc7a9644453a2b167e19a4e988d12d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc7a9644453a2b167e19a4e988d12d22">&#9670;&nbsp;</a></span>set_mtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_mtype </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmtype.html">mtype</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the monster type associated with this item (<a class="el" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>). </p>
<p >You must not pass a null pointer. TODO: change this to take a reference instead. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06502">6502</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06503" name="l06503"></a><span class="lineno"> 6503</span>{</div>
<div class="line"><a id="l06504" name="l06504"></a><span class="lineno"> 6504</span>    <span class="comment">// This is potentially dangerous, e.g. for corpse items, which *must* have a valid mtype pointer.</span></div>
<div class="line"><a id="l06505" name="l06505"></a><span class="lineno"> 6505</span>    <span class="keywordflow">if</span>( m == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l06506" name="l06506"></a><span class="lineno"> 6506</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;setting item::corpse of %s to NULL&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l06507" name="l06507"></a><span class="lineno"> 6507</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l06508" name="l06508"></a><span class="lineno"> 6508</span>    }</div>
<div class="line"><a id="l06509" name="l06509"></a><span class="lineno"> 6509</span>    <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> = m;</div>
<div class="line"><a id="l06510" name="l06510"></a><span class="lineno"> 6510</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l04606">iuse::blood_draw()</a>.</p>

</div>
</div>
<a id="a9f745513af67ccd8ddb45dec5d6a7263" name="a9f745513af67ccd8ddb45dec5d6a7263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f745513af67ccd8ddb45dec5d6a7263">&#9670;&nbsp;</a></span>set_next_failure_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_next_failure_point </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>crafter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates and sets the next failure point for an in progress craft. </p>
<p >Causes a debugmsg if called on non-craft. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">crafter</td><td>the crafting player </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00892">892</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>{</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;set_next_failure_point() called on non-craft &#39;%s.&#39;  Aborting.&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    }</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span> </div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> percent_left = 10000000 - <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a>;</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> failure_point_delta = crafter.<a class="code hl_function" href="classplayer.html#aeab8d12218640d360a89b3dfccebc9c8">crafting_success_roll</a>( <a class="code hl_function" href="classitem.html#a685baa0530bf9e4cb57c2cea27ed332b">get_making</a>() ) * percent_left;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span> </div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;next_failure_point = <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> + failure_point_delta;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02190">craft_data_</a>, <a class="el" href="crafting_8cpp_source.html#l00808">player::crafting_success_roll()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l09916">get_making()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="craft__command_8cpp_source.html#l00223">craft_command::create_in_progress_craft()</a>, and <a class="el" href="crafting_8cpp_source.html#l00918">handle_craft_failure()</a>.</p>

</div>
</div>
<a id="a72a3777436f5b6b0fac303100451a42f" name="a72a3777436f5b6b0fac303100451a42f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a3777436f5b6b0fac303100451a42f">&#9670;&nbsp;</a></span>set_old_owner()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_old_owner </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;&#160;</td>
          <td class="paramname"><em>temp_owner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02017">2017</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>                                                                  {</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>            <a class="code hl_variable" href="classitem.html#a155a45ada3eb970d006b701a50026c27">old_owner</a> = temp_owner;</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04364">handle_pickup_ownership()</a>.</p>

</div>
</div>
<a id="adb29e5bc20e230588356abad6cc9f363" name="adb29e5bc20e230588356abad6cc9f363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb29e5bc20e230588356abad6cc9f363">&#9670;&nbsp;</a></span>set_owner() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_owner </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01275">1275</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>{</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_faction() ) {</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;item::set_owner() Character %s has no valid faction&quot;</span>, <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.disp_name() );</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>    }</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    <a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a> = <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_faction()-&gt;id;</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01031">c</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, and <a class="el" href="item_8h_source.html#l02225">owner</a>.</p>

</div>
</div>
<a id="aa51b9b2950e9ea68811bffb5635911c6" name="aa51b9b2950e9ea68811bffb5635911c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa51b9b2950e9ea68811bffb5635911c6">&#9670;&nbsp;</a></span>set_owner() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_owner </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;&#160;</td>
          <td class="paramname"><em>new_owner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02023">2023</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>
<div class="fragment"><div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>                                                             {</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>            <a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a> = new_owner;</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l02112">activity_on_turn_move_loot()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00764">move_items_activity_actor::do_turn()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00830">talk_function::drop_stolen_item()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00527">talk_function::give_equipment()</a>, <a class="el" href="item_8cpp_source.html#l04364">handle_pickup_ownership()</a>, <a class="el" href="npc_8cpp_source.html#l01662">npc::shop_restock()</a>, <a class="el" href="npc_8cpp_source.html#l00543">starting_clothes()</a>, <a class="el" href="npc_8cpp_source.html#l00586">starting_inv()</a>, <a class="el" href="npc_8cpp_source.html#l00802">npc::starting_weapon()</a>, and <a class="el" href="npctrade_8cpp_source.html#l00044">npc_trading::transfer_items()</a>.</p>

</div>
</div>
<a id="ad6cdbdd7e8295f3a6e802adffcd665ae" name="ad6cdbdd7e8295f3a6e802adffcd665ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6cdbdd7e8295f3a6e802adffcd665ae">&#9670;&nbsp;</a></span>set_relative_rot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_relative_rot </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set current item <a class="el" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> relative to shelf life (no-op if item does not spoil) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05428">5428</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05429" name="l05429"></a><span class="lineno"> 5429</span>{</div>
<div class="line"><a id="l05430" name="l05430"></a><span class="lineno"> 5430</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() ) {</div>
<div class="line"><a id="l05431" name="l05431"></a><span class="lineno"> 5431</span>        <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> = <a class="code hl_function" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a>() * val;</div>
<div class="line"><a id="l05432" name="l05432"></a><span class="lineno"> 5432</span>        <span class="comment">// calc_rot uses last_rot_check (when it&#39;s not turn_zero) instead of bday.</span></div>
<div class="line"><a id="l05433" name="l05433"></a><span class="lineno"> 5433</span>        <span class="comment">// this makes sure the rotting starts from now, not from bday.</span></div>
<div class="line"><a id="l05434" name="l05434"></a><span class="lineno"> 5434</span>        <span class="comment">// if this item is the result of smoking or milling don&#39;t do this, we want to start from bday.</span></div>
<div class="line"><a id="l05435" name="l05435"></a><span class="lineno"> 5435</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a8b527a5661651f15eb8a120d75bf46f2">flag_PROCESSING_RESULT</a> ) ) {</div>
<div class="line"><a id="l05436" name="l05436"></a><span class="lineno"> 5436</span>            <a class="code hl_variable" href="classitem.html#ab6d81a20390e08bf7dec4d05cb118592">last_rot_check</a> = <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a id="l05437" name="l05437"></a><span class="lineno"> 5437</span>        }</div>
<div class="line"><a id="l05438" name="l05438"></a><span class="lineno"> 5438</span>    }</div>
<div class="line"><a id="l05439" name="l05439"></a><span class="lineno"> 5439</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a8b527a5661651f15eb8a120d75bf46f2"><div class="ttname"><a href="item_8cpp.html#a8b527a5661651f15eb8a120d75bf46f2">flag_PROCESSING_RESULT</a></div><div class="ttdeci">static const std::string flag_PROCESSING_RESULT(&quot;PROCESSING_RESULT&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a8b527a5661651f15eb8a120d75bf46f2">flag_PROCESSING_RESULT()</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8h_source.html#l02221">last_rot_check</a>, <a class="el" href="item_8h_source.html#l02219">rot</a>, and <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="item_8cpp_source.html#l00461">item()</a>, and <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>.</p>

</div>
</div>
<a id="a9721daec3304aeb9965b5679f9db3e7f" name="a9721daec3304aeb9965b5679f9db3e7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9721daec3304aeb9965b5679f9db3e7f">&#9670;&nbsp;</a></span>set_rot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_rot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05441">5441</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05442" name="l05442"></a><span class="lineno"> 5442</span>{</div>
<div class="line"><a id="l05443" name="l05443"></a><span class="lineno"> 5443</span>    <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> = val;</div>
<div class="line"><a id="l05444" name="l05444"></a><span class="lineno"> 5444</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02219">rot</a>.</p>

</div>
</div>
<a id="a06f562ce239a39f4220143f7cd4998e9" name="a06f562ce239a39f4220143f7cd4998e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06f562ce239a39f4220143f7cd4998e9">&#9670;&nbsp;</a></span>set_side()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::set_side </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the side on which the item is worn. </p>
<p >Returns false if the item is not sided </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00812">812</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>{</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a3cdf7fd097768ee3192c40e000384d56">is_sided</a>() ) {</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    }</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span> </div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    <span class="keywordflow">if</span>( s == <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">side::BOTH</a> ) {</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        <a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;lateral&quot;</span> );</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>        <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;lateral&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( s ) );</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>    }</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span> </div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">BOTH</a>, <a class="el" href="item_8cpp_source.html#l01072">erase_var()</a>, <a class="el" href="item_8cpp_source.html#l00799">is_sided()</a>, and <a class="el" href="item_8cpp_source.html#l00992">set_var()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04283">on_takeoff()</a>, <a class="el" href="item_8cpp_source.html#l04185">on_wear()</a>, and <a class="el" href="item_8cpp_source.html#l00827">swap_side()</a>.</p>

</div>
</div>
<a id="a9e4a83dab7a888fbbe93db9cbfaa563c" name="a9e4a83dab7a888fbbe93db9cbfaa563c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e4a83dab7a888fbbe93db9cbfaa563c">&#9670;&nbsp;</a></span>set_snippet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_snippet </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the snippet text (description) of this specific item, using the snippet library. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classsnippet__library.html">snippet_library</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08517">8517</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08518" name="l08518"></a><span class="lineno"> 8518</span>{</div>
<div class="line"><a id="l08519" name="l08519"></a><span class="lineno"> 8519</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l08520" name="l08520"></a><span class="lineno"> 8520</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08521" name="l08521"></a><span class="lineno"> 8521</span>    }</div>
<div class="line"><a id="l08522" name="l08522"></a><span class="lineno"> 8522</span>    <span class="keywordflow">if</span>( !<span class="keywordtype">id</span>.is_valid() ) {</div>
<div class="line"><a id="l08523" name="l08523"></a><span class="lineno"> 8523</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;there&#39;s no snippet with id %s&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a id="l08524" name="l08524"></a><span class="lineno"> 8524</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08525" name="l08525"></a><span class="lineno"> 8525</span>    }</div>
<div class="line"><a id="l08526" name="l08526"></a><span class="lineno"> 8526</span>    <a class="code hl_variable" href="classitem.html#aa475db2839de54a872f47b7c238e214a">snip_id</a> = <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>;</div>
<div class="line"><a id="l08527" name="l08527"></a><span class="lineno"> 8527</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="basecamp_8h_source.html#l00087">base_camps::id</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, and <a class="el" href="item_8h_source.html#l02202">snip_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="profession_8cpp_source.html#l00389">profession::items()</a>.</p>

</div>
</div>
<a id="aeb47151201f462dee6e622c061209431" name="aeb47151201f462dee6e622c061209431"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb47151201f462dee6e622c061209431">&#9670;&nbsp;</a></span>set_tools_to_continue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_tools_to_continue </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09927">9927</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09928" name="l09928"></a><span class="lineno"> 9928</span>{</div>
<div class="line"><a id="l09929" name="l09929"></a><span class="lineno"> 9929</span>    assert( <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> );</div>
<div class="line"><a id="l09930" name="l09930"></a><span class="lineno"> 9930</span>    <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;tools_to_continue = value;</div>
<div class="line"><a id="l09931" name="l09931"></a><span class="lineno"> 9931</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02190">craft_data_</a>.</p>

<p class="reference">Referenced by <a class="el" href="craft__command_8cpp_source.html#l00223">craft_command::create_in_progress_craft()</a>.</p>

</div>
</div>
<a id="a75359b32b9e0bb99e69b17380e78150f" name="a75359b32b9e0bb99e69b17380e78150f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75359b32b9e0bb99e69b17380e78150f">&#9670;&nbsp;</a></span>set_var() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01048">1048</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>{</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>    <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>[<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>] = value;</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, and <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>.</p>

</div>
</div>
<a id="a64e7f746dd9292f94080f6cc6450ca5c" name="a64e7f746dd9292f94080f6cc6450ca5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e7f746dd9292f94080f6cc6450ca5c">&#9670;&nbsp;</a></span>set_var() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01031">1031</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>{</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>    <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>[<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>] = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%d,%d,%d&quot;</span>, value.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>, value.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>, value.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> );</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>}</div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00151">point.h:151</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00150">point.h:150</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>, and <a class="el" href="point_8h_source.html#l00152">tripoint::z</a>.</p>

</div>
</div>
<a id="a360be7d4eea9410e98d7c8da043cada9" name="a360be7d4eea9410e98d7c8da043cada9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a360be7d4eea9410e98d7c8da043cada9">&#9670;&nbsp;</a></span>set_var() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01017">1017</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>{</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>    <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>[<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>] = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%f&quot;</span>, value );</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, and <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>.</p>

</div>
</div>
<a id="a4938361b8fe897c4e85d66020ef91aff" name="a4938361b8fe897c4e85d66020ef91aff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4938361b8fe897c4e85d66020ef91aff">&#9670;&nbsp;</a></span>set_var() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00992">992</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>{</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>    std::ostringstream tmpstream;</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    tmpstream.imbue( std::locale::classic() );</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    tmpstream &lt;&lt; value;</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>[<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>] = tmpstream.str();</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, and <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00672">monexamine::add_armor()</a>, <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iuse_8cpp_source.html#l08909">iuse::cable_attach()</a>, <a class="el" href="iuse_8cpp_source.html#l07494">iuse::camera()</a>, <a class="el" href="profession_8cpp_source.html#l00379">clear_faults()</a>, <a class="el" href="iuse_8cpp_source.html#l09338">contain_monster()</a>, <a class="el" href="iuse_8cpp_source.html#l04239">iuse::dive_tank()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="iuse_8cpp_source.html#l06206">einkpc_download_memory_card()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01977">fetch_activity()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l00801">vehicle::fold_up()</a>, <a class="el" href="iuse_8cpp_source.html#l04330">iuse::gasmask()</a>, <a class="el" href="item_8cpp_source.html#l07749">gun_set_mode()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="iuse_8cpp_source.html#l06131">init_memory_card_with_random_stuff()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01763">inscribe_actor::item_inscription()</a>, <a class="el" href="iuse_8cpp_source.html#l07367">item_save_monsters()</a>, <a class="el" href="iuse_8cpp_source.html#l07428">item_write_extended_photos()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01849">activity_handlers::make_zlave_finish()</a>, <a class="el" href="item_8cpp_source.html#l06942">mark_chapter_as_read()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02974">activity_handlers::mend_item_finish()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00964">move_item()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00067">vehicle_part::properties_to_item()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>, <a class="el" href="item_8cpp_source.html#l09254">reset_cable()</a>, <a class="el" href="monattack_8cpp_source.html#l04634">mattack::riotbot()</a>, <a class="el" href="iuse_8cpp_source.html#l04216">iuse::rpgdie()</a>, <a class="el" href="monattack_8cpp_source.html#l03436">mattack::searchlight()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00161">select_crafting_recipe()</a>, <a class="el" href="item_8cpp_source.html#l00812">set_side()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00693">spell_effect::spawn_ethereal_item()</a>, <a class="el" href="iuse_8cpp_source.html#l08782">iuse::tow_attach()</a>, and <a class="el" href="item_8cpp_source.html#l09977">update_clothing_mod_val()</a>.</p>

</div>
</div>
<a id="a18732ca3aff63571fda6694121bbce00" name="a18732ca3aff63571fda6694121bbce00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18732ca3aff63571fda6694121bbce00">&#9670;&nbsp;</a></span>set_var() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01000">1000</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>{</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    std::ostringstream tmpstream;</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>    tmpstream.imbue( std::locale::classic() );</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>    tmpstream &lt;&lt; value;</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>    <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>[<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>] = tmpstream.str();</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, and <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>.</p>

</div>
</div>
<a id="a87f796d664ad47aa742223d124f350d3" name="a87f796d664ad47aa742223d124f350d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87f796d664ad47aa742223d124f350d3">&#9670;&nbsp;</a></span>set_var() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::set_var </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01009">1009</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>{</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>    std::ostringstream tmpstream;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>    tmpstream.imbue( std::locale::classic() );</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>    tmpstream &lt;&lt; value;</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>    <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>[<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>] = tmpstream.str();</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02167">item_vars</a>, and <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>.</p>

</div>
</div>
<a id="af0b7e5875297be57d675270f57ff775a" name="af0b7e5875297be57d675270f57ff775a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0b7e5875297be57d675270f57ff775a">&#9670;&nbsp;</a></span>sight_dispersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::sight_dispersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get lowest dispersion of either integral or any attached sights. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07100">7100</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07101" name="l07101"></a><span class="lineno"> 7101</span>{</div>
<div class="line"><a id="l07102" name="l07102"></a><span class="lineno"> 7102</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l07103" name="l07103"></a><span class="lineno"> 7103</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07104" name="l07104"></a><span class="lineno"> 7104</span>    }</div>
<div class="line"><a id="l07105" name="l07105"></a><span class="lineno"> 7105</span> </div>
<div class="line"><a id="l07106" name="l07106"></a><span class="lineno"> 7106</span>    <span class="keywordtype">int</span> res = <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a473d946b810b948e6d47e6bcc7e64d04">flag_DISABLE_SIGHTS</a> ) ? 90 : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;sight_dispersion;</div>
<div class="line"><a id="l07107" name="l07107"></a><span class="lineno"> 7107</span> </div>
<div class="line"><a id="l07108" name="l07108"></a><span class="lineno"> 7108</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *e : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l07109" name="l07109"></a><span class="lineno"> 7109</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structislot__gunmod.html">islot_gunmod</a> &amp;<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = *e-&gt;type-&gt;gunmod;</div>
<div class="line"><a id="l07110" name="l07110"></a><span class="lineno"> 7110</span>        <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.sight_dispersion &lt; 0 || <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.aim_speed &lt; 0 ) {</div>
<div class="line"><a id="l07111" name="l07111"></a><span class="lineno"> 7111</span>            <span class="keywordflow">continue</span>; <span class="comment">// skip gunmods which don&#39;t provide a sight</span></div>
<div class="line"><a id="l07112" name="l07112"></a><span class="lineno"> 7112</span>        }</div>
<div class="line"><a id="l07113" name="l07113"></a><span class="lineno"> 7113</span>        res = std::min( res, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.sight_dispersion );</div>
<div class="line"><a id="l07114" name="l07114"></a><span class="lineno"> 7114</span>    }</div>
<div class="line"><a id="l07115" name="l07115"></a><span class="lineno"> 7115</span> </div>
<div class="line"><a id="l07116" name="l07116"></a><span class="lineno"> 7116</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l07117" name="l07117"></a><span class="lineno"> 7117</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp.html#a473d946b810b948e6d47e6bcc7e64d04">flag_DISABLE_SIGHTS()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01627">Character::get_aim_types()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">player::gun_value()</a>, <a class="el" href="ranged_8cpp_source.html#l03475">target_ui::panel_recoil()</a>, <a class="el" href="ranged_8cpp_source.html#l01539">print_aim()</a>, and <a class="el" href="ranged_8cpp_source.html#l02139">target_ui::run()</a>.</p>

</div>
</div>
<a id="a63b6654a99f9b300a313a6921d134bf2" name="a63b6654a99f9b300a313a6921d134bf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b6654a99f9b300a313a6921d134bf2">&#9670;&nbsp;</a></span>simulate_burn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float item::simulate_burn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfire__data.html">fire_data</a> &amp;&#160;</td>
          <td class="paramname"><em>frd</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate all burning calculations, but don't actually apply them to item. </p>
<p >DO apply them to <a class="el" href="structfire__data.html">fire_data</a> argument, though. </p><dl class="section return"><dt>Returns</dt><dd>Amount of "burn" that would be applied to the item. </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08069">8069</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08070" name="l08070"></a><span class="lineno"> 8070</span>{</div>
<div class="line"><a id="l08071" name="l08071"></a><span class="lineno"> 8071</span>    <span class="keyword">const</span> std::vector&lt;material_id&gt; &amp;mats = <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>();</div>
<div class="line"><a id="l08072" name="l08072"></a><span class="lineno"> 8072</span>    <span class="keywordtype">float</span> smoke_added = 0.0f;</div>
<div class="line"><a id="l08073" name="l08073"></a><span class="lineno"> 8073</span>    <span class="keywordtype">float</span> time_added = 0.0f;</div>
<div class="line"><a id="l08074" name="l08074"></a><span class="lineno"> 8074</span>    <span class="keywordtype">float</span> burn_added = 0.0f;</div>
<div class="line"><a id="l08075" name="l08075"></a><span class="lineno"> 8075</span>    <span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> vol = <a class="code hl_function" href="classitem.html#a1d9c8bbf0bc8223ce3bde8876e99ec8e">base_volume</a>();</div>
<div class="line"><a id="l08076" name="l08076"></a><span class="lineno"> 8076</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> effective_intensity = frd.<a class="code hl_variable" href="structfire__data.html#a9c5c2a6dc6f4efe05e65885660bb3893">contained</a> ? 3 : frd.<a class="code hl_variable" href="structfire__data.html#a534803a1b5139df57bfad4bd186de812">fire_intensity</a>;</div>
<div class="line"><a id="l08077" name="l08077"></a><span class="lineno"> 8077</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">material_id</a> &amp;m : mats ) {</div>
<div class="line"><a id="l08078" name="l08078"></a><span class="lineno"> 8078</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structmat__burn__data.html">mat_burn_data</a> &amp;bd = m.obj().burn_data( effective_intensity );</div>
<div class="line"><a id="l08079" name="l08079"></a><span class="lineno"> 8079</span>        <span class="keywordflow">if</span>( bd.<a class="code hl_variable" href="structmat__burn__data.html#a304f96d38e70395b7625d2c80f56de1c">immune</a> ) {</div>
<div class="line"><a id="l08080" name="l08080"></a><span class="lineno"> 8080</span>            <span class="comment">// Made to protect from fire</span></div>
<div class="line"><a id="l08081" name="l08081"></a><span class="lineno"> 8081</span>            <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l08082" name="l08082"></a><span class="lineno"> 8082</span>        }</div>
<div class="line"><a id="l08083" name="l08083"></a><span class="lineno"> 8083</span> </div>
<div class="line"><a id="l08084" name="l08084"></a><span class="lineno"> 8084</span>        <span class="comment">// If fire is contained, burn rate is independent of volume</span></div>
<div class="line"><a id="l08085" name="l08085"></a><span class="lineno"> 8085</span>        <span class="keywordflow">if</span>( frd.<a class="code hl_variable" href="structfire__data.html#a9c5c2a6dc6f4efe05e65885660bb3893">contained</a> || bd.<a class="code hl_variable" href="structmat__burn__data.html#a7d46d977a131b61638e03a07421f51db">volume_per_turn</a> == 0_ml ) {</div>
<div class="line"><a id="l08086" name="l08086"></a><span class="lineno"> 8086</span>            time_added += bd.<a class="code hl_variable" href="structmat__burn__data.html#ae107a447a65043c0c2fc12822c9115de">fuel</a>;</div>
<div class="line"><a id="l08087" name="l08087"></a><span class="lineno"> 8087</span>            smoke_added += bd.<a class="code hl_variable" href="structmat__burn__data.html#a83f739c4ded3561758edc02f41146d66">smoke</a>;</div>
<div class="line"><a id="l08088" name="l08088"></a><span class="lineno"> 8088</span>            burn_added += bd.<a class="code hl_variable" href="structmat__burn__data.html#af4c94b496313de97c30c86d1dae2a02b">burn</a>;</div>
<div class="line"><a id="l08089" name="l08089"></a><span class="lineno"> 8089</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08090" name="l08090"></a><span class="lineno"> 8090</span>            <span class="keywordtype">double</span> volume_burn_rate = <a class="code hl_function" href="namespaceunits.html#a4e18c5472c3f55e110fb16c9e0fe8c45">to_liter</a>( bd.<a class="code hl_variable" href="structmat__burn__data.html#a7d46d977a131b61638e03a07421f51db">volume_per_turn</a> ) / <a class="code hl_function" href="namespaceunits.html#a4e18c5472c3f55e110fb16c9e0fe8c45">to_liter</a>( vol );</div>
<div class="line"><a id="l08091" name="l08091"></a><span class="lineno"> 8091</span>            time_added += bd.<a class="code hl_variable" href="structmat__burn__data.html#ae107a447a65043c0c2fc12822c9115de">fuel</a> * volume_burn_rate;</div>
<div class="line"><a id="l08092" name="l08092"></a><span class="lineno"> 8092</span>            smoke_added += bd.<a class="code hl_variable" href="structmat__burn__data.html#a83f739c4ded3561758edc02f41146d66">smoke</a> * volume_burn_rate;</div>
<div class="line"><a id="l08093" name="l08093"></a><span class="lineno"> 8093</span>            burn_added += bd.<a class="code hl_variable" href="structmat__burn__data.html#af4c94b496313de97c30c86d1dae2a02b">burn</a> * volume_burn_rate;</div>
<div class="line"><a id="l08094" name="l08094"></a><span class="lineno"> 8094</span>        }</div>
<div class="line"><a id="l08095" name="l08095"></a><span class="lineno"> 8095</span>    }</div>
<div class="line"><a id="l08096" name="l08096"></a><span class="lineno"> 8096</span> </div>
<div class="line"><a id="l08097" name="l08097"></a><span class="lineno"> 8097</span>    <span class="comment">// Liquids that don&#39;t burn well smother fire well instead</span></div>
<div class="line"><a id="l08098" name="l08098"></a><span class="lineno"> 8098</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) &amp;&amp; time_added &lt; 200 ) {</div>
<div class="line"><a id="l08099" name="l08099"></a><span class="lineno"> 8099</span>        time_added -= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 400.0 * <a class="code hl_function" href="namespaceunits.html#a4e18c5472c3f55e110fb16c9e0fe8c45">to_liter</a>( vol ), 1200.0 * <a class="code hl_function" href="namespaceunits.html#a4e18c5472c3f55e110fb16c9e0fe8c45">to_liter</a>( vol ) );</div>
<div class="line"><a id="l08100" name="l08100"></a><span class="lineno"> 8100</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mats.size() &gt; 1 ) {</div>
<div class="line"><a id="l08101" name="l08101"></a><span class="lineno"> 8101</span>        <span class="comment">// Average the materials</span></div>
<div class="line"><a id="l08102" name="l08102"></a><span class="lineno"> 8102</span>        time_added /= mats.size();</div>
<div class="line"><a id="l08103" name="l08103"></a><span class="lineno"> 8103</span>        smoke_added /= mats.size();</div>
<div class="line"><a id="l08104" name="l08104"></a><span class="lineno"> 8104</span>        burn_added /= mats.size();</div>
<div class="line"><a id="l08105" name="l08105"></a><span class="lineno"> 8105</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mats.empty() ) {</div>
<div class="line"><a id="l08106" name="l08106"></a><span class="lineno"> 8106</span>        <span class="comment">// Non-liquid items with no specified materials will burn at moderate speed</span></div>
<div class="line"><a id="l08107" name="l08107"></a><span class="lineno"> 8107</span>        burn_added = 1;</div>
<div class="line"><a id="l08108" name="l08108"></a><span class="lineno"> 8108</span>    }</div>
<div class="line"><a id="l08109" name="l08109"></a><span class="lineno"> 8109</span> </div>
<div class="line"><a id="l08110" name="l08110"></a><span class="lineno"> 8110</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l08111" name="l08111"></a><span class="lineno"> 8111</span>        <span class="keywordtype">int</span> stack_burnt = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> / 2, <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> );</div>
<div class="line"><a id="l08112" name="l08112"></a><span class="lineno"> 8112</span>        time_added *= stack_burnt;</div>
<div class="line"><a id="l08113" name="l08113"></a><span class="lineno"> 8113</span>        smoke_added *= stack_burnt;</div>
<div class="line"><a id="l08114" name="l08114"></a><span class="lineno"> 8114</span>        burn_added *= stack_burnt;</div>
<div class="line"><a id="l08115" name="l08115"></a><span class="lineno"> 8115</span>    }</div>
<div class="line"><a id="l08116" name="l08116"></a><span class="lineno"> 8116</span> </div>
<div class="line"><a id="l08117" name="l08117"></a><span class="lineno"> 8117</span>    frd.<a class="code hl_variable" href="structfire__data.html#a766c1e9448a11a83188b5e97e3276004">fuel_produced</a> += time_added;</div>
<div class="line"><a id="l08118" name="l08118"></a><span class="lineno"> 8118</span>    frd.<a class="code hl_variable" href="structfire__data.html#a87eeeef62c5793c2fcdf27de8efd85d8">smoke_produced</a> += smoke_added;</div>
<div class="line"><a id="l08119" name="l08119"></a><span class="lineno"> 8119</span>    <span class="keywordflow">return</span> burn_added;</div>
<div class="line"><a id="l08120" name="l08120"></a><span class="lineno"> 8120</span>}</div>
<div class="ttc" id="anamespaceunits_html_a4e18c5472c3f55e110fb16c9e0fe8c45"><div class="ttname"><a href="namespaceunits.html#a4e18c5472c3f55e110fb16c9e0fe8c45">units::to_liter</a></div><div class="ttdeci">constexpr double to_liter(const volume &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__volume_8h_source.html#l00043">units_volume.h:43</a></div></div>
<div class="ttc" id="astructfire__data_html_a534803a1b5139df57bfad4bd186de812"><div class="ttname"><a href="structfire__data.html#a534803a1b5139df57bfad4bd186de812">fire_data::fire_intensity</a></div><div class="ttdeci">int fire_intensity</div><div class="ttdoc">Current intensity of the fire.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00025">fire.h:25</a></div></div>
<div class="ttc" id="astructfire__data_html_a766c1e9448a11a83188b5e97e3276004"><div class="ttname"><a href="structfire__data.html#a766c1e9448a11a83188b5e97e3276004">fire_data::fuel_produced</a></div><div class="ttdeci">float fuel_produced</div><div class="ttdoc">Fuel contributed by each burning item this turn is summed here.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00029">fire.h:29</a></div></div>
<div class="ttc" id="astructfire__data_html_a87eeeef62c5793c2fcdf27de8efd85d8"><div class="ttname"><a href="structfire__data.html#a87eeeef62c5793c2fcdf27de8efd85d8">fire_data::smoke_produced</a></div><div class="ttdeci">float smoke_produced</div><div class="ttdoc">Smoke produced by each burning item this turn is summed here.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00027">fire.h:27</a></div></div>
<div class="ttc" id="astructfire__data_html_a9c5c2a6dc6f4efe05e65885660bb3893"><div class="ttname"><a href="structfire__data.html#a9c5c2a6dc6f4efe05e65885660bb3893">fire_data::contained</a></div><div class="ttdeci">bool contained</div><div class="ttdoc">The fire is contained and burned for fuel intentionally.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00031">fire.h:31</a></div></div>
<div class="ttc" id="astructmat__burn__data_html_a83f739c4ded3561758edc02f41146d66"><div class="ttname"><a href="structmat__burn__data.html#a83f739c4ded3561758edc02f41146d66">mat_burn_data::smoke</a></div><div class="ttdeci">float smoke</div><div class="ttdoc">Smoke produced per tick when this material burns.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00054">fire.h:54</a></div></div>
<div class="ttc" id="astructmat__burn__data_html_af4c94b496313de97c30c86d1dae2a02b"><div class="ttname"><a href="structmat__burn__data.html#af4c94b496313de97c30c86d1dae2a02b">mat_burn_data::burn</a></div><div class="ttdeci">float burn</div><div class="ttdoc">Volume of material destroyed per tick when this material burns.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00056">fire.h:56</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="fire_8h_source.html#l00056">mat_burn_data::burn</a>, <a class="el" href="fire_8h_source.html#l00031">fire_data::contained</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="fire_8h_source.html#l00025">fire_data::fire_intensity</a>, <a class="el" href="fire_8h_source.html#l00052">mat_burn_data::fuel</a>, <a class="el" href="fire_8h_source.html#l00029">fire_data::fuel_produced</a>, <a class="el" href="fire_8h_source.html#l00048">mat_burn_data::immune</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="fire_8h_source.html#l00054">mat_burn_data::smoke</a>, <a class="el" href="fire_8h_source.html#l00027">fire_data::smoke_produced</a>, <a class="el" href="itype_8h_source.html#l00982">itype::stack_size</a>, <a class="el" href="units__volume_8h_source.html#l00043">units::to_liter()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="fire_8h_source.html#l00050">mat_burn_data::volume_per_turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l03206">try_fuel_fire()</a>.</p>

</div>
</div>
<a id="a2ea9b8df7dba40fc847f51563285f5aa" name="a2ea9b8df7dba40fc847f51563285f5aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ea9b8df7dba40fc847f51563285f5aa">&#9670;&nbsp;</a></span>spill_contents() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::spill_contents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unloads the item's contents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td><a class="el" href="classCharacter.html">Character</a> who receives the contents. If c is the player, liquids will be handled, otherwise they will be spilled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the item is now empty. </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06898">6898</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06899" name="l06899"></a><span class="lineno"> 6899</span>{</div>
<div class="line"><a id="l06900" name="l06900"></a><span class="lineno"> 6900</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() || <a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() ) {</div>
<div class="line"><a id="l06901" name="l06901"></a><span class="lineno"> 6901</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06902" name="l06902"></a><span class="lineno"> 6902</span>    }</div>
<div class="line"><a id="l06903" name="l06903"></a><span class="lineno"> 6903</span> </div>
<div class="line"><a id="l06904" name="l06904"></a><span class="lineno"> 6904</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.is_npc() ) {</div>
<div class="line"><a id="l06905" name="l06905"></a><span class="lineno"> 6905</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a2ea9b8df7dba40fc847f51563285f5aa">spill_contents</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.pos() );</div>
<div class="line"><a id="l06906" name="l06906"></a><span class="lineno"> 6906</span>    }</div>
<div class="line"><a id="l06907" name="l06907"></a><span class="lineno"> 6907</span> </div>
<div class="line"><a id="l06908" name="l06908"></a><span class="lineno"> 6908</span>    <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a9c821423786b0d4c15606cfc03a2814a">handle_liquid_or_spill</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> );</div>
<div class="line"><a id="l06909" name="l06909"></a><span class="lineno"> 6909</span>    <a class="code hl_function" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a id="l06910" name="l06910"></a><span class="lineno"> 6910</span> </div>
<div class="line"><a id="l06911" name="l06911"></a><span class="lineno"> 6911</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06912" name="l06912"></a><span class="lineno"> 6912</span>}</div>
<div class="ttc" id="aclassitem__contents_html_a9c821423786b0d4c15606cfc03a2814a"><div class="ttname"><a href="classitem__contents.html#a9c821423786b0d4c15606cfc03a2814a">item_contents::handle_liquid_or_spill</a></div><div class="ttdeci">void handle_liquid_or_spill(Character &amp;guy)</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00042">item_contents.cpp:42</a></div></div>
<div class="ttc" id="aclassitem_html_a2ea9b8df7dba40fc847f51563285f5aa"><div class="ttname"><a href="classitem.html#a2ea9b8df7dba40fc847f51563285f5aa">item::spill_contents</a></div><div class="ttdeci">bool spill_contents(Character &amp;c)</div><div class="ttdoc">Unloads the item's contents.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06898">item.cpp:6898</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01031">c</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00042">item_contents::handle_liquid_or_spill()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="item_8cpp_source.html#l06687">is_container_empty()</a>, <a class="el" href="item_8cpp_source.html#l04424">on_contents_changed()</a>, and <a class="el" href="item_8cpp_source.html#l06898">spill_contents()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ballistics_8cpp_source.html#l00060">drop_or_embed_projectile()</a>, <a class="el" href="pickup_8cpp_source.html#l01238">pickup::handle_spillable_contents()</a>, <a class="el" href="character_8cpp_source.html#l02443">Character::i_rem_keep_contents()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="handle__action_8cpp_source.html#l00671">smash()</a>, and <a class="el" href="item_8cpp_source.html#l06898">spill_contents()</a>.</p>

</div>
</div>
<a id="adf426955067e7321f7edfe6e2ddfc4f1" name="adf426955067e7321f7edfe6e2ddfc4f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf426955067e7321f7edfe6e2ddfc4f1">&#9670;&nbsp;</a></span>spill_contents() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::spill_contents </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unloads the item's contents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>Position to dump the contents on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the item is now empty. </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06914">6914</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06915" name="l06915"></a><span class="lineno"> 6915</span>{</div>
<div class="line"><a id="l06916" name="l06916"></a><span class="lineno"> 6916</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() || <a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() ) {</div>
<div class="line"><a id="l06917" name="l06917"></a><span class="lineno"> 6917</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06918" name="l06918"></a><span class="lineno"> 6918</span>    }</div>
<div class="line"><a id="l06919" name="l06919"></a><span class="lineno"> 6919</span> </div>
<div class="line"><a id="l06920" name="l06920"></a><span class="lineno"> 6920</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *it : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l06921" name="l06921"></a><span class="lineno"> 6921</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item_or_charges( pos, *it );</div>
<div class="line"><a id="l06922" name="l06922"></a><span class="lineno"> 6922</span>    }</div>
<div class="line"><a id="l06923" name="l06923"></a><span class="lineno"> 6923</span> </div>
<div class="line"><a id="l06924" name="l06924"></a><span class="lineno"> 6924</span>    <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a0c7ab52c6270d1ff2a98c75e0ee5ba3b">clear_items</a>();</div>
<div class="line"><a id="l06925" name="l06925"></a><span class="lineno"> 6925</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06926" name="l06926"></a><span class="lineno"> 6926</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="item__contents_8cpp_source.html#l00074">item_contents::clear_items()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, and <a class="el" href="item_8cpp_source.html#l06687">is_container_empty()</a>.</p>

</div>
</div>
<a id="a3c47a272ada88bc7d3d31a6a4b8a672c" name="a3c47a272ada88bc7d3d31a6a4b8a672c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c47a272ada88bc7d3d31a6a4b8a672c">&#9670;&nbsp;</a></span>split()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> item::split </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Splits a count-by-charges item always leaving source item with minimum of 1 charge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qty</td><td>number of required charges to split from source </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new instance containing exactly qty charges or null item if splitting failed </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00718">718</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>{</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() || qty &lt;= 0 || qty &gt;= <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a344fbf6e3db0d59e0c8ac75cd42ee144">item</a>();</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>    }</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    <a class="code hl_class" href="classitem.html">item</a> res = *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    res.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = qty;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= qty;</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, and <a class="el" href="item_8cpp_source.html#l00362">item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l00345">iexamine::gaspump()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="item__location_8cpp_source.html#l00204">item_location::impl::item_on_map::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00327">item_location::impl::item_on_person::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00466">item_location::impl::item_on_vehicle::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00586">item_location::impl::item_in_container::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00217">item_location::impl::item_on_map::obtain_cost()</a>, <a class="el" href="item__location_8cpp_source.html#l00345">item_location::impl::item_on_person::obtain_cost()</a>, <a class="el" href="item__location_8cpp_source.html#l00479">item_location::impl::item_on_vehicle::obtain_cost()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02858">bandolier_actor::reload()</a>.</p>

</div>
</div>
<a id="af3e78b2fe634d88db841d879588e1ec3" name="af3e78b2fe634d88db841d879588e1ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3e78b2fe634d88db841d879588e1ec3">&#9670;&nbsp;</a></span>spoilage_sort_order()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::spoilage_sort_order </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get time left to rot, ignoring fridge. </p>
<p >Returns time to rot if item is able to, max int - N otherwise, where N is 3 for food, 2 for medication, 1 for other comestibles, 0 otherwise. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05446">5446</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05447" name="l05447"></a><span class="lineno"> 5447</span>{</div>
<div class="line"><a id="l05448" name="l05448"></a><span class="lineno"> 5448</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *subject;</div>
<div class="line"><a id="l05449" name="l05449"></a><span class="lineno"> 5449</span>    <span class="keyword">constexpr</span> <span class="keywordtype">int</span> bottom = std::numeric_limits&lt;int&gt;::max();</div>
<div class="line"><a id="l05450" name="l05450"></a><span class="lineno"> 5450</span> </div>
<div class="line"><a id="l05451" name="l05451"></a><span class="lineno"> 5451</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp; !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ) {</div>
<div class="line"><a id="l05452" name="l05452"></a><span class="lineno"> 5452</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;preserves ) {</div>
<div class="line"><a id="l05453" name="l05453"></a><span class="lineno"> 5453</span>            <span class="keywordflow">return</span> bottom - 3;</div>
<div class="line"><a id="l05454" name="l05454"></a><span class="lineno"> 5454</span>        }</div>
<div class="line"><a id="l05455" name="l05455"></a><span class="lineno"> 5455</span>        subject = &amp;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l05456" name="l05456"></a><span class="lineno"> 5456</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05457" name="l05457"></a><span class="lineno"> 5457</span>        subject = <span class="keyword">this</span>;</div>
<div class="line"><a id="l05458" name="l05458"></a><span class="lineno"> 5458</span>    }</div>
<div class="line"><a id="l05459" name="l05459"></a><span class="lineno"> 5459</span> </div>
<div class="line"><a id="l05460" name="l05460"></a><span class="lineno"> 5460</span>    <span class="keywordflow">if</span>( subject-&gt;<a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() ) {</div>
<div class="line"><a id="l05461" name="l05461"></a><span class="lineno"> 5461</span>        <span class="keywordflow">return</span> to_turns&lt;int&gt;( subject-&gt;<a class="code hl_function" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a>() - subject-&gt;<a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> );</div>
<div class="line"><a id="l05462" name="l05462"></a><span class="lineno"> 5462</span>    }</div>
<div class="line"><a id="l05463" name="l05463"></a><span class="lineno"> 5463</span> </div>
<div class="line"><a id="l05464" name="l05464"></a><span class="lineno"> 5464</span>    <span class="keywordflow">if</span>( subject-&gt;<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>() ) {</div>
<div class="line"><a id="l05465" name="l05465"></a><span class="lineno"> 5465</span>        <span class="keywordflow">if</span>( subject-&gt;<a class="code hl_function" href="classitem.html#ad43578374fc9be1e16117405cd709f7d">get_category</a>().<a class="code hl_function" href="classitem__category.html#ab2f1d31be887d993eb4a56f202fb6d39">get_id</a>() == <a class="code hl_variable" href="item_8cpp.html#af4f749363006000b9b6191ffe7748f1c">itemcat_food</a> ) {</div>
<div class="line"><a id="l05466" name="l05466"></a><span class="lineno"> 5466</span>            <span class="keywordflow">return</span> bottom - 3;</div>
<div class="line"><a id="l05467" name="l05467"></a><span class="lineno"> 5467</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( subject-&gt;<a class="code hl_function" href="classitem.html#ad43578374fc9be1e16117405cd709f7d">get_category</a>().<a class="code hl_function" href="classitem__category.html#ab2f1d31be887d993eb4a56f202fb6d39">get_id</a>() == <a class="code hl_variable" href="item_8cpp.html#a53bf44b3d6118ec00a44c876e053bdf3">itemcat_drugs</a> ) {</div>
<div class="line"><a id="l05468" name="l05468"></a><span class="lineno"> 5468</span>            <span class="keywordflow">return</span> bottom - 2;</div>
<div class="line"><a id="l05469" name="l05469"></a><span class="lineno"> 5469</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05470" name="l05470"></a><span class="lineno"> 5470</span>            <span class="keywordflow">return</span> bottom - 1;</div>
<div class="line"><a id="l05471" name="l05471"></a><span class="lineno"> 5471</span>        }</div>
<div class="line"><a id="l05472" name="l05472"></a><span class="lineno"> 5472</span>    }</div>
<div class="line"><a id="l05473" name="l05473"></a><span class="lineno"> 5473</span>    <span class="keywordflow">return</span> bottom;</div>
<div class="line"><a id="l05474" name="l05474"></a><span class="lineno"> 5474</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a53bf44b3d6118ec00a44c876e053bdf3"><div class="ttname"><a href="item_8cpp.html#a53bf44b3d6118ec00a44c876e053bdf3">itemcat_drugs</a></div><div class="ttdeci">static const item_category_id itemcat_drugs(&quot;drugs&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_af4f749363006000b9b6191ffe7748f1c"><div class="ttname"><a href="item_8cpp.html#af4f749363006000b9b6191ffe7748f1c">itemcat_food</a></div><div class="ttdeci">static const item_category_id itemcat_food(&quot;food&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00846">itype::container</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l08529">get_category()</a>, <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, <a class="el" href="item__category_8cpp_source.html#l00080">item_category::get_id()</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="item_8cpp.html#a53bf44b3d6118ec00a44c876e053bdf3">itemcat_drugs</a>, <a class="el" href="item_8cpp.html#af4f749363006000b9b6191ffe7748f1c">itemcat_food</a>, <a class="el" href="item_8h_source.html#l02219">rot</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

</div>
</div>
<a id="a5eab0b2465cf9e6ee9dba5e3b15852d1" name="a5eab0b2465cf9e6ee9dba5e3b15852d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eab0b2465cf9e6ee9dba5e3b15852d1">&#9670;&nbsp;</a></span>stab_resist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::stab_resist </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_self</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05942">5942</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05943" name="l05943"></a><span class="lineno"> 5943</span>{</div>
<div class="line"><a id="l05944" name="l05944"></a><span class="lineno"> 5944</span>    <span class="comment">// Better than hardcoding it in multiple places</span></div>
<div class="line"><a id="l05945" name="l05945"></a><span class="lineno"> 5945</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 0.8f * <a class="code hl_function" href="classitem.html#ad7ead414844fff807b3cf1d69fe37f84">cut_resist</a>( to_self ) );</div>
<div class="line"><a id="l05946" name="l05946"></a><span class="lineno"> 5946</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05909">cut_resist()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l06221">damage_resist()</a>.</p>

</div>
</div>
<a id="a31a0fa72add9cbbffc189b0eab0b34c0" name="a31a0fa72add9cbbffc189b0eab0b34c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31a0fa72add9cbbffc189b0eab0b34c0">&#9670;&nbsp;</a></span>stacks_with()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::stacks_with </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check_components</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skip_type_check</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00886">886</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>{</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>    <span class="keywordflow">if</span>( !skip_type_check &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> != rhs.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> ) {</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    }</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a3604c56b1c776e6f127524867f0c1b7c">is_relic</a>() &amp;&amp; rhs.<a class="code hl_function" href="classitem.html#a3604c56b1c776e6f127524867f0c1b7c">is_relic</a>() &amp;&amp; !( *<a class="code hl_variable" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a> == *rhs.<a class="code hl_variable" href="classitem.html#ae30c1b0547a59fb9bb199ed36fb49b21">relic_data</a> ) ) {</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    }</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> != 0 &amp;&amp; rhs.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> != 0 &amp;&amp; <a class="code hl_function" href="classitem.html#a72d58d172f74830b7d965a0fdfaa2c17">is_money</a>() ) {</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>        <span class="comment">// Dealing with nonempty cash cards</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    }</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <span class="comment">// This function is also used to test whether items counted by charges should be merged, for that</span></div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    <span class="comment">// check the, the charges must be ignored. In all other cases (tools/guns), the charges are important.</span></div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> != rhs.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) {</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    }</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> != rhs.<a class="code hl_variable" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> ) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>    }</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> != rhs.<a class="code hl_variable" href="classitem.html#ac4f99d7d290f31e5da8c37f10ebc0d31">damage_</a> ) {</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    }</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> != rhs.<a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> ) {</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    }</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> != rhs.<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    }</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a> != rhs.<a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a> ) {</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>    }</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a> != rhs.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a> ) {</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    }</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a> != rhs.<a class="code hl_variable" href="classitem.html#ad3777e432e98805820880d8f2feca087">techniques</a> ) {</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a> != rhs.<a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a> ) {</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    }</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() &amp;&amp; rhs.<a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() ) {</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>        <span class="comment">// Stack items that fall into the same &quot;bucket&quot; of freshness.</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>        <span class="comment">// Distant buckets are larger than near ones.</span></div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>        std::pair&lt;int, clipped_unit&gt; my_clipped_time_to_rot =</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>            <a class="code hl_function" href="calendar_8cpp.html#a9a9ae8a761db573b638118f7cf3b5993">clipped_time</a>( <a class="code hl_function" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a>() - <a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> );</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>        std::pair&lt;int, clipped_unit&gt; other_clipped_time_to_rot =</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>            <a class="code hl_function" href="calendar_8cpp.html#a9a9ae8a761db573b638118f7cf3b5993">clipped_time</a>( rhs.<a class="code hl_function" href="classitem.html#aad1afe56872327f37ee02011e3a5fb8b">get_shelf_life</a>() - rhs.<a class="code hl_variable" href="classitem.html#a69c3ef3dfce7b7e230016ea98af4520a">rot</a> );</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>        <span class="keywordflow">if</span>( my_clipped_time_to_rot != other_clipped_time_to_rot ) {</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>        }</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() != rhs.<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) {</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>            <span class="comment">// just to be safe that rotten and unrotten food is *never* stacked.</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>        }</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    }</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <span class="keywordflow">if</span>( ( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> == <span class="keyword">nullptr</span> &amp;&amp; rhs.<a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> != <span class="keyword">nullptr</span> ) ||</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        ( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> != <span class="keyword">nullptr</span> &amp;&amp; rhs.<a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> == <span class="keyword">nullptr</span> ) ) {</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    }</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> != <span class="keyword">nullptr</span> &amp;&amp; rhs.<a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> != rhs.<a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> ) {</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    }</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> || rhs.<a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a> ) {</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>        <span class="comment">// In-progress crafts are always distinct items. Easier to handle for the player,</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>        <span class="comment">// and there shouldn&#39;t be that many items of this type around anyway.</span></div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>    }</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    <span class="keywordflow">if</span>( check_components || <a class="code hl_function" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() || <a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>        <span class="comment">//Only check if at least one item isn&#39;t using the default recipe or is comestible</span></div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.empty() || !rhs.<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.empty() ) {</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4974052f9a7c7c664bb62fd3a860c7fa">get_uncraft_components</a>() != rhs.<a class="code hl_function" href="classitem.html#a4974052f9a7c7c664bb62fd3a860c7fa">get_uncraft_components</a>() ) {</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>            }</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>        }</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    }</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">num_item_stacks</a>() != rhs.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">num_item_stacks</a>() ) {</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    }</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ab3309ecde291dd065f57670fb977c4a2">stacks_with</a>( rhs.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a> );</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_a9a9ae8a761db573b638118f7cf3b5993"><div class="ttname"><a href="calendar_8cpp.html#a9a9ae8a761db573b638118f7cf3b5993">clipped_time</a></div><div class="ttdeci">std::pair&lt; int, clipped_unit &gt; clipped_time(const time_duration &amp;d)</div><div class="ttdoc">Returns a value representing the passed in duration truncated to an appropriate unit along with the u...</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00284">calendar.cpp:284</a></div></div>
<div class="ttc" id="aclassitem__contents_html_ab3309ecde291dd065f57670fb977c4a2"><div class="ttname"><a href="classitem__contents.html#ab3309ecde291dd065f57670fb977c4a2">item_contents::stacks_with</a></div><div class="ttdeci">bool stacks_with(const item_contents &amp;rhs) const</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00110">item_contents.cpp:110</a></div></div>
<div class="ttc" id="aclassitem_html_a4974052f9a7c7c664bb62fd3a860c7fa"><div class="ttname"><a href="classitem.html#a4974052f9a7c7c664bb62fd3a860c7fa">item::get_uncraft_components</a></div><div class="ttdeci">std::vector&lt; item_comp &gt; get_uncraft_components() const</div><div class="ttdoc">Returns a list of components used to craft this item or the default components if it wasn't player-cr...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09884">item.cpp:9884</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="item_8h_source.html#l02199">burnt</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="calendar_8cpp_source.html#l00284">clipped_time()</a>, <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8h_source.html#l02190">craft_data_</a>, <a class="el" href="item_8h_source.html#l02228">damage_</a>, <a class="el" href="item_8h_source.html#l02160">faults</a>, <a class="el" href="item_8cpp_source.html#l05408">get_shelf_life()</a>, <a class="el" href="item_8cpp_source.html#l09884">get_uncraft_components()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="mtype_8h_source.html#l00240">mtype::id</a>, <a class="el" href="item_8cpp_source.html#l06437">is_comestible()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, <a class="el" href="item_8h_source.html#l02234">is_favorite</a>, <a class="el" href="item_8cpp_source.html#l05850">is_money()</a>, <a class="el" href="item_8cpp_source.html#l06818">is_relic()</a>, <a class="el" href="item_8h_source.html#l02163">item_tags</a>, <a class="el" href="item_8h_source.html#l02167">item_vars</a>, <a class="el" href="item__contents_8cpp_source.html#l00027">item_contents::num_item_stacks()</a>, <a class="el" href="item_8h_source.html#l02193">relic_data</a>, <a class="el" href="item_8h_source.html#l02219">rot</a>, <a class="el" href="item_8h_source.html#l00853">rotten()</a>, <a class="el" href="item__contents_8cpp_source.html#l00110">item_contents::stacks_with()</a>, <a class="el" href="item_8h_source.html#l02170">techniques</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l00881">display_stacked_with()</a>, <a class="el" href="item_8cpp_source.html#l00968">merge_charges()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">inventory::restack()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00641">inventory_column::set_stack_favorite()</a>, and <a class="el" href="npctrade_8cpp_source.html#l00044">npc_trading::transfer_items()</a>.</p>

</div>
</div>
<a id="ac972bd94fc3a86b96499c34b8b1741a6" name="ac972bd94fc3a86b96499c34b8b1741a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac972bd94fc3a86b96499c34b8b1741a6">&#9670;&nbsp;</a></span>swap_side()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::swap_side </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Swap the side on which the item is worn. </p>
<p >Returns false if the item is not sided </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l00827">827</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>{</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a06f562ce239a39f4220143f7cd4998e9">set_side</a>( <a class="code hl_function" href="bodypart_8cpp.html#a7e67f6bbe865282540080a39151106c6">opposite_side</a>( <a class="code hl_function" href="classitem.html#aecf84874cbc13ba0ce8a205690747305">get_side</a>() ) );</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>}</div>
<div class="ttc" id="abodypart_8cpp_html_a7e67f6bbe865282540080a39151106c6"><div class="ttname"><a href="bodypart_8cpp.html#a7e67f6bbe865282540080a39151106c6">opposite_side</a></div><div class="ttdeci">side opposite_side(side s)</div><div class="ttdoc">Returns the opposite side.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00030">bodypart.cpp:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00805">get_side()</a>, <a class="el" href="bodypart_8cpp_source.html#l00030">opposite_side()</a>, and <a class="el" href="item_8cpp_source.html#l00812">set_side()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l03679">Character::change_side()</a>.</p>

</div>
</div>
<a id="a1ff6f2a9cd0fc994e3484b66138cb049" name="a1ff6f2a9cd0fc994e3484b66138cb049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ff6f2a9cd0fc994e3484b66138cb049">&#9670;&nbsp;</a></span>symbol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; item::symbol </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04012">4012</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04013" name="l04013"></a><span class="lineno"> 4013</span>{</div>
<div class="line"><a id="l04014" name="l04014"></a><span class="lineno"> 4014</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#adc032f577167e749b91124d76f56ddfe">sym</a>;</div>
<div class="line"><a id="l04015" name="l04015"></a><span class="lineno"> 4015</span>}</div>
<div class="ttc" id="astructitype_html_adc032f577167e749b91124d76f56ddfe"><div class="ttname"><a href="structitype.html#adc032f577167e749b91124d76f56ddfe">itype::sym</a></div><div class="ttdeci">std::string sym</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01005">itype.h:1005</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l01005">itype::sym</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05855">map::draw_maptile()</a>, <a class="el" href="pickup_8cpp_source.html#l00571">pickup::pick_up()</a>, and <a class="el" href="wish_8cpp_source.html#l00535">debug_menu::wishitem()</a>.</p>

</div>
</div>
<a id="a7e78e26dcf9b357cda769c3ca2938eda" name="a7e78e26dcf9b357cda769c3ca2938eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e78e26dcf9b357cda769c3ca2938eda">&#9670;&nbsp;</a></span>tname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::tname </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_prefix</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>truncate</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the (translated) item name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">quantity</td><td>used for translation to the proper plural form of the name, e.g. returns "rock" for quantity 1 and "rocks" for quantity &gt; 0. </td></tr>
    <tr><td class="paramname">with_prefix</td><td>determines whether to include more item properties, such as the extent of damage and burning (was created to sort by name without prefix in additional inventory) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04440">4440</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04441" name="l04441"></a><span class="lineno"> 4441</span>{</div>
<div class="line"><a id="l04442" name="l04442"></a><span class="lineno"> 4442</span>    <span class="keywordtype">int</span> dirt_level = <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;dirt&quot;</span>, 0 ) / 2000;</div>
<div class="line"><a id="l04443" name="l04443"></a><span class="lineno"> 4443</span>    std::string dirt_symbol;</div>
<div class="line"><a id="l04444" name="l04444"></a><span class="lineno"> 4444</span>    <span class="comment">// TODO: MATERIALS put this in json</span></div>
<div class="line"><a id="l04445" name="l04445"></a><span class="lineno"> 4445</span> </div>
<div class="line"><a id="l04446" name="l04446"></a><span class="lineno"> 4446</span>    <span class="comment">// these symbols are unicode square characeters of different heights, representing a rough</span></div>
<div class="line"><a id="l04447" name="l04447"></a><span class="lineno"> 4447</span>    <span class="comment">// estimation of fouling in a gun. This appears instead of &quot;faulty&quot;</span></div>
<div class="line"><a id="l04448" name="l04448"></a><span class="lineno"> 4448</span>    <span class="comment">// since most guns will have some level of fouling in them, and usually it is not a big deal.</span></div>
<div class="line"><a id="l04449" name="l04449"></a><span class="lineno"> 4449</span>    <span class="keywordflow">switch</span>( dirt_level ) {</div>
<div class="line"><a id="l04450" name="l04450"></a><span class="lineno"> 4450</span>        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l04451" name="l04451"></a><span class="lineno"> 4451</span>            dirt_symbol = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l04452" name="l04452"></a><span class="lineno"> 4452</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04453" name="l04453"></a><span class="lineno"> 4453</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l04454" name="l04454"></a><span class="lineno"> 4454</span>            dirt_symbol = <span class="stringliteral">&quot;&lt;color_white&gt;\u2581&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a id="l04455" name="l04455"></a><span class="lineno"> 4455</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04456" name="l04456"></a><span class="lineno"> 4456</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l04457" name="l04457"></a><span class="lineno"> 4457</span>            dirt_symbol = <span class="stringliteral">&quot;&lt;color_light_gray&gt;\u2583&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a id="l04458" name="l04458"></a><span class="lineno"> 4458</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04459" name="l04459"></a><span class="lineno"> 4459</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l04460" name="l04460"></a><span class="lineno"> 4460</span>            dirt_symbol = <span class="stringliteral">&quot;&lt;color_light_gray&gt;\u2585&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a id="l04461" name="l04461"></a><span class="lineno"> 4461</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04462" name="l04462"></a><span class="lineno"> 4462</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l04463" name="l04463"></a><span class="lineno"> 4463</span>            dirt_symbol = <span class="stringliteral">&quot;&lt;color_dark_gray&gt;\u2587&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a id="l04464" name="l04464"></a><span class="lineno"> 4464</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04465" name="l04465"></a><span class="lineno"> 4465</span>        <span class="keywordflow">case</span> 5:</div>
<div class="line"><a id="l04466" name="l04466"></a><span class="lineno"> 4466</span>            dirt_symbol = <span class="stringliteral">&quot;&lt;color_brown&gt;\u2588&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a id="l04467" name="l04467"></a><span class="lineno"> 4467</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04468" name="l04468"></a><span class="lineno"> 4468</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l04469" name="l04469"></a><span class="lineno"> 4469</span>            dirt_symbol = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l04470" name="l04470"></a><span class="lineno"> 4470</span>    }</div>
<div class="line"><a id="l04471" name="l04471"></a><span class="lineno"> 4471</span>    std::string damtext;</div>
<div class="line"><a id="l04472" name="l04472"></a><span class="lineno"> 4472</span> </div>
<div class="line"><a id="l04473" name="l04473"></a><span class="lineno"> 4473</span>    <span class="comment">// for portions of string that have &lt;color_ etc in them, this aims to truncate the whole string correctly</span></div>
<div class="line"><a id="l04474" name="l04474"></a><span class="lineno"> 4474</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> truncate_override = 0;</div>
<div class="line"><a id="l04475" name="l04475"></a><span class="lineno"> 4475</span> </div>
<div class="line"><a id="l04476" name="l04476"></a><span class="lineno"> 4476</span>    <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() != 0 || ( get_option&lt;bool&gt;( <span class="stringliteral">&quot;ITEM_HEALTH_BAR&quot;</span> ) &amp;&amp; <a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() ) ) &amp;&amp; !<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() &amp;&amp;</div>
<div class="line"><a id="l04477" name="l04477"></a><span class="lineno"> 4477</span>        with_prefix ) {</div>
<div class="line"><a id="l04478" name="l04478"></a><span class="lineno"> 4478</span>        damtext = <a class="code hl_function" href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">durability_indicator</a>();</div>
<div class="line"><a id="l04479" name="l04479"></a><span class="lineno"> 4479</span>        <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;ITEM_HEALTH_BAR&quot;</span> ) ) {</div>
<div class="line"><a id="l04480" name="l04480"></a><span class="lineno"> 4480</span>            <span class="comment">// get the utf8 width of the tags</span></div>
<div class="line"><a id="l04481" name="l04481"></a><span class="lineno"> 4481</span>            truncate_override = <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( damtext, <span class="keyword">false</span> ) - <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( damtext, <span class="keyword">true</span> );</div>
<div class="line"><a id="l04482" name="l04482"></a><span class="lineno"> 4482</span>        }</div>
<div class="line"><a id="l04483" name="l04483"></a><span class="lineno"> 4483</span>    }</div>
<div class="line"><a id="l04484" name="l04484"></a><span class="lineno"> 4484</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.empty() ) {</div>
<div class="line"><a id="l04485" name="l04485"></a><span class="lineno"> 4485</span>        <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04486" name="l04486"></a><span class="lineno"> 4486</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classfault.html">fault</a> : <a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a> ) {</div>
<div class="line"><a id="l04487" name="l04487"></a><span class="lineno"> 4487</span>            <span class="keywordflow">if</span>( !<a class="code hl_class" href="classfault.html">fault</a>-&gt;<a class="code hl_function" href="classfault.html#a8aaf546ba1a223455f440c7ba984a155">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a9d243f4fdcd523c63c4c319751b6b434">flag_SILENT</a> ) ) {</div>
<div class="line"><a id="l04488" name="l04488"></a><span class="lineno"> 4488</span>                <a class="code hl_enumvalue" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04489" name="l04489"></a><span class="lineno"> 4489</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04490" name="l04490"></a><span class="lineno"> 4490</span>            }</div>
<div class="line"><a id="l04491" name="l04491"></a><span class="lineno"> 4491</span>        }</div>
<div class="line"><a id="l04492" name="l04492"></a><span class="lineno"> 4492</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a> ) {</div>
<div class="line"><a id="l04493" name="l04493"></a><span class="lineno"> 4493</span>            damtext.insert( 0, dirt_symbol );</div>
<div class="line"><a id="l04494" name="l04494"></a><span class="lineno"> 4494</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04495" name="l04495"></a><span class="lineno"> 4495</span>            damtext.insert( 0, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;faulty &quot;</span> ) + dirt_symbol );</div>
<div class="line"><a id="l04496" name="l04496"></a><span class="lineno"> 4496</span>        }</div>
<div class="line"><a id="l04497" name="l04497"></a><span class="lineno"> 4497</span>    }</div>
<div class="line"><a id="l04498" name="l04498"></a><span class="lineno"> 4498</span> </div>
<div class="line"><a id="l04499" name="l04499"></a><span class="lineno"> 4499</span>    std::string vehtext;</div>
<div class="line"><a id="l04500" name="l04500"></a><span class="lineno"> 4500</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9fcc7813b424bb53b94be1988be66d54">is_engine</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#adad8973d1533a919bf44d71415754600">engine_displacement</a>() &gt; 0 ) {</div>
<div class="line"><a id="l04501" name="l04501"></a><span class="lineno"> 4501</span>        vehtext = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;vehicle adjective&quot;</span>, <span class="stringliteral">&quot;%2.1fL &quot;</span> ),</div>
<div class="line"><a id="l04502" name="l04502"></a><span class="lineno"> 4502</span>                                 <a class="code hl_function" href="classitem.html#adad8973d1533a919bf44d71415754600">engine_displacement</a>() / 100.0f );</div>
<div class="line"><a id="l04503" name="l04503"></a><span class="lineno"> 4503</span> </div>
<div class="line"><a id="l04504" name="l04504"></a><span class="lineno"> 4504</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a3cb164c5569aa41cfda914b6f7a74cb2">is_wheel</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a5c286a821362f883c93b7d984ecae163">wheel</a>-&gt;diameter &gt; 0 ) {</div>
<div class="line"><a id="l04505" name="l04505"></a><span class="lineno"> 4505</span>        vehtext = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;vehicle adjective&quot;</span>, <span class="stringliteral">&quot;%d\&quot; &quot;</span> ), <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a5c286a821362f883c93b7d984ecae163">wheel</a>-&gt;diameter );</div>
<div class="line"><a id="l04506" name="l04506"></a><span class="lineno"> 4506</span>    }</div>
<div class="line"><a id="l04507" name="l04507"></a><span class="lineno"> 4507</span> </div>
<div class="line"><a id="l04508" name="l04508"></a><span class="lineno"> 4508</span>    std::string burntext;</div>
<div class="line"><a id="l04509" name="l04509"></a><span class="lineno"> 4509</span>    <span class="keywordflow">if</span>( with_prefix &amp;&amp; !<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l04510" name="l04510"></a><span class="lineno"> 4510</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() &gt;= 1_liter &amp;&amp; <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> * 125_ml &gt;= <a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() ) {</div>
<div class="line"><a id="l04511" name="l04511"></a><span class="lineno"> 4511</span>            burntext = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;burnt adjective&quot;</span>, <span class="stringliteral">&quot;badly burnt &quot;</span> );</div>
<div class="line"><a id="l04512" name="l04512"></a><span class="lineno"> 4512</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a1fb1bc14a138ea0ea0b6883d4105a322">burnt</a> &gt; 0 ) {</div>
<div class="line"><a id="l04513" name="l04513"></a><span class="lineno"> 4513</span>            burntext = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;burnt adjective&quot;</span>, <span class="stringliteral">&quot;burnt &quot;</span> );</div>
<div class="line"><a id="l04514" name="l04514"></a><span class="lineno"> 4514</span>        }</div>
<div class="line"><a id="l04515" name="l04515"></a><span class="lineno"> 4515</span>    }</div>
<div class="line"><a id="l04516" name="l04516"></a><span class="lineno"> 4516</span> </div>
<div class="line"><a id="l04517" name="l04517"></a><span class="lineno"> 4517</span>    std::string maintext;</div>
<div class="line"><a id="l04518" name="l04518"></a><span class="lineno"> 4518</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() || <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#a8de56f93319e34c27cd5c62dd4fa4e72">itype_blood</a> || <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.find( <span class="stringliteral">&quot;name&quot;</span> ) != <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end() ) {</div>
<div class="line"><a id="l04519" name="l04519"></a><span class="lineno"> 4519</span>        maintext = <a class="code hl_function" href="classitem.html#a70359b9e831ed97023891631058595b6">type_name</a>( quantity );</div>
<div class="line"><a id="l04520" name="l04520"></a><span class="lineno"> 4520</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() || <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() || <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l04521" name="l04521"></a><span class="lineno"> 4521</span>        <span class="keywordtype">int</span> amt = 0;</div>
<div class="line"><a id="l04522" name="l04522"></a><span class="lineno"> 4522</span>        maintext = <a class="code hl_function" href="classitem.html#a87c8778dade87019e972367a594b68d8">label</a>( quantity );</div>
<div class="line"><a id="l04523" name="l04523"></a><span class="lineno"> 4523</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() : <a class="code hl_function" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a>() ) {</div>
<div class="line"><a id="l04524" name="l04524"></a><span class="lineno"> 4524</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> || !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;built_in_mods.count( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;typeId() ) ) {</div>
<div class="line"><a id="l04525" name="l04525"></a><span class="lineno"> 4525</span>                amt++;</div>
<div class="line"><a id="l04526" name="l04526"></a><span class="lineno"> 4526</span>            }</div>
<div class="line"><a id="l04527" name="l04527"></a><span class="lineno"> 4527</span>        }</div>
<div class="line"><a id="l04528" name="l04528"></a><span class="lineno"> 4528</span>        <span class="keywordflow">if</span>( amt ) {</div>
<div class="line"><a id="l04529" name="l04529"></a><span class="lineno"> 4529</span>            maintext += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;+%d&quot;</span>, amt );</div>
<div class="line"><a id="l04530" name="l04530"></a><span class="lineno"> 4530</span>        }</div>
<div class="line"><a id="l04531" name="l04531"></a><span class="lineno"> 4531</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#ad1862bc5d5995e30dd224fab31d61f77">has_clothing_mod</a>() ) {</div>
<div class="line"><a id="l04532" name="l04532"></a><span class="lineno"> 4532</span>        maintext = <a class="code hl_function" href="classitem.html#a87c8778dade87019e972367a594b68d8">label</a>( quantity ) + <span class="stringliteral">&quot;+1&quot;</span>;</div>
<div class="line"><a id="l04533" name="l04533"></a><span class="lineno"> 4533</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l04534" name="l04534"></a><span class="lineno"> 4534</span>        maintext = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;in progress %s&quot;</span> ), <a class="code hl_variable" href="classitem.html#a622ee79075b1be44b58c5d752ab52241">craft_data_</a>-&gt;making-&gt;result_name() );</div>
<div class="line"><a id="l04535" name="l04535"></a><span class="lineno"> 4535</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 1 ) {</div>
<div class="line"><a id="l04536" name="l04536"></a><span class="lineno"> 4536</span>            maintext += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot; (%d)&quot;</span>, <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l04537" name="l04537"></a><span class="lineno"> 4537</span>        }</div>
<div class="line"><a id="l04538" name="l04538"></a><span class="lineno"> 4538</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> percent_progress = <a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> / 100000;</div>
<div class="line"><a id="l04539" name="l04539"></a><span class="lineno"> 4539</span>        maintext += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot; (%d%%)&quot;</span>, percent_progress );</div>
<div class="line"><a id="l04540" name="l04540"></a><span class="lineno"> 4540</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">num_item_stacks</a>() == 1 ) {</div>
<div class="line"><a id="l04541" name="l04541"></a><span class="lineno"> 4541</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;contents_item = <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l04542" name="l04542"></a><span class="lineno"> 4542</span>        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> contents_count =</div>
<div class="line"><a id="l04543" name="l04543"></a><span class="lineno"> 4543</span>            ( ( contents_item.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) || contents_item.<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) &amp;&amp;</div>
<div class="line"><a id="l04544" name="l04544"></a><span class="lineno"> 4544</span>              contents_item.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 1 )</div>
<div class="line"><a id="l04545" name="l04545"></a><span class="lineno"> 4545</span>            ? contents_item.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a></div>
<div class="line"><a id="l04546" name="l04546"></a><span class="lineno"> 4546</span>            : quantity;</div>
<div class="line"><a id="l04547" name="l04547"></a><span class="lineno"> 4547</span>        maintext = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;item name&quot;</span>, <span class="stringliteral">&quot;%2$s (%1$s)&quot;</span> ), <a class="code hl_function" href="classitem.html#a87c8778dade87019e972367a594b68d8">label</a>( quantity ),</div>
<div class="line"><a id="l04548" name="l04548"></a><span class="lineno"> 4548</span>                                  contents_item.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( contents_count, with_prefix ) );</div>
<div class="line"><a id="l04549" name="l04549"></a><span class="lineno"> 4549</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ) {</div>
<div class="line"><a id="l04550" name="l04550"></a><span class="lineno"> 4550</span>        maintext = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#a6a55163974b47d9452fe60c5dbea98a4">vpgettext</a>( <span class="stringliteral">&quot;item name&quot;</span>,</div>
<div class="line"><a id="l04551" name="l04551"></a><span class="lineno"> 4551</span>                                             <span class="comment">//~ %1$s: item name, %2$zd: content size</span></div>
<div class="line"><a id="l04552" name="l04552"></a><span class="lineno"> 4552</span>                                             <span class="stringliteral">&quot;%1$s with %2$zd item&quot;</span>,</div>
<div class="line"><a id="l04553" name="l04553"></a><span class="lineno"> 4553</span>                                             <span class="stringliteral">&quot;%1$s with %2$zd items&quot;</span>, <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">num_item_stacks</a>() ),</div>
<div class="line"><a id="l04554" name="l04554"></a><span class="lineno"> 4554</span>                                  <a class="code hl_struct" href="structlabel.html">label</a>( quantity ), <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">num_item_stacks</a>() );</div>
<div class="line"><a id="l04555" name="l04555"></a><span class="lineno"> 4555</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04556" name="l04556"></a><span class="lineno"> 4556</span>        maintext = <a class="code hl_function" href="classitem.html#a87c8778dade87019e972367a594b68d8">label</a>( quantity );</div>
<div class="line"><a id="l04557" name="l04557"></a><span class="lineno"> 4557</span>    }</div>
<div class="line"><a id="l04558" name="l04558"></a><span class="lineno"> 4558</span> </div>
<div class="line"><a id="l04559" name="l04559"></a><span class="lineno"> 4559</span>    std::string tagtext;</div>
<div class="line"><a id="l04560" name="l04560"></a><span class="lineno"> 4560</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) {</div>
<div class="line"><a id="l04561" name="l04561"></a><span class="lineno"> 4561</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a297facea6437f9bb596d9a944c1a5728">flag_HIDDEN_POISON</a> ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_skill_level( <a class="code hl_variable" href="item_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a> ) &gt;= 3 ) {</div>
<div class="line"><a id="l04562" name="l04562"></a><span class="lineno"> 4562</span>            tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (poisonous)&quot;</span> );</div>
<div class="line"><a id="l04563" name="l04563"></a><span class="lineno"> 4563</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU</a> ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_skill_level( <a class="code hl_variable" href="item_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a> ) &gt;= 5 ) {</div>
<div class="line"><a id="l04564" name="l04564"></a><span class="lineno"> 4564</span>            tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (hallucinogenic)&quot;</span> );</div>
<div class="line"><a id="l04565" name="l04565"></a><span class="lineno"> 4565</span>        }</div>
<div class="line"><a id="l04566" name="l04566"></a><span class="lineno"> 4566</span>    }</div>
<div class="line"><a id="l04567" name="l04567"></a><span class="lineno"> 4567</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a980b9e48afd103973a201fc487d0af8b">is_book</a>() ) {</div>
<div class="line"><a id="l04568" name="l04568"></a><span class="lineno"> 4568</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_identified( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) ) {</div>
<div class="line"><a id="l04569" name="l04569"></a><span class="lineno"> 4569</span>            tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (unread)&quot;</span> );</div>
<div class="line"><a id="l04570" name="l04570"></a><span class="lineno"> 4570</span>        }</div>
<div class="line"><a id="l04571" name="l04571"></a><span class="lineno"> 4571</span>    }</div>
<div class="line"><a id="l04572" name="l04572"></a><span class="lineno"> 4572</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a478ecf81e48540e1ba39de33df968c43">has_var</a>( <span class="stringliteral">&quot;bionics_scanned_by&quot;</span> ) &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aef536c0b3a82964224c94d79a203a05a">flag_CBM_SCANNED</a> ) ) {</div>
<div class="line"><a id="l04573" name="l04573"></a><span class="lineno"> 4573</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (bionic detected)&quot;</span> );</div>
<div class="line"><a id="l04574" name="l04574"></a><span class="lineno"> 4574</span>    }</div>
<div class="line"><a id="l04575" name="l04575"></a><span class="lineno"> 4575</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a09be785730be8d8b735277a2434fa57b">flag_ETHEREAL_ITEM</a> ) ) {</div>
<div class="line"><a id="l04576" name="l04576"></a><span class="lineno"> 4576</span>        tagtext += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (%s turns)&quot;</span> ), <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;ethereal&quot;</span> ) );</div>
<div class="line"><a id="l04577" name="l04577"></a><span class="lineno"> 4577</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() || <a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) {</div>
<div class="line"><a id="l04578" name="l04578"></a><span class="lineno"> 4578</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a>( <span class="stringliteral">&quot;DIRTY&quot;</span> ) ) {</div>
<div class="line"><a id="l04579" name="l04579"></a><span class="lineno"> 4579</span>            tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (dirty)&quot;</span> );</div>
<div class="line"><a id="l04580" name="l04580"></a><span class="lineno"> 4580</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) {</div>
<div class="line"><a id="l04581" name="l04581"></a><span class="lineno"> 4581</span>            tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (rotten)&quot;</span> );</div>
<div class="line"><a id="l04582" name="l04582"></a><span class="lineno"> 4582</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4661d733113e53ee370d5aa83e31137b">is_going_bad</a>() ) {</div>
<div class="line"><a id="l04583" name="l04583"></a><span class="lineno"> 4583</span>            tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (old)&quot;</span> );</div>
<div class="line"><a id="l04584" name="l04584"></a><span class="lineno"> 4584</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac3898605336bf9c45ee3ce37d41d5ead">is_fresh</a>() ) {</div>
<div class="line"><a id="l04585" name="l04585"></a><span class="lineno"> 4585</span>            tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (fresh)&quot;</span> );</div>
<div class="line"><a id="l04586" name="l04586"></a><span class="lineno"> 4586</span>        }</div>
<div class="line"><a id="l04587" name="l04587"></a><span class="lineno"> 4587</span>    }</div>
<div class="line"><a id="l04588" name="l04588"></a><span class="lineno"> 4588</span> </div>
<div class="line"><a id="l04589" name="l04589"></a><span class="lineno"> 4589</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="classitem.html#a952452b603e34038ff8dff7ed9422a9c">sizing</a> sizing_level = <a class="code hl_function" href="classitem.html#ab499c1bb4b2c55f0199f8509f6eff6a3">get_sizing</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, <a class="code hl_function" href="classitem.html#ac242b34e6ae35efdcdd956df3f320e84">get_encumber</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u ) != 0 );</div>
<div class="line"><a id="l04590" name="l04590"></a><span class="lineno"> 4590</span> </div>
<div class="line"><a id="l04591" name="l04591"></a><span class="lineno"> 4591</span>    <span class="keywordflow">if</span>( sizing_level == <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">sizing::human_sized_small_char</a> ) {</div>
<div class="line"><a id="l04592" name="l04592"></a><span class="lineno"> 4592</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (too big)&quot;</span> );</div>
<div class="line"><a id="l04593" name="l04593"></a><span class="lineno"> 4593</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sizing_level == <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">sizing::big_sized_small_char</a> ) {</div>
<div class="line"><a id="l04594" name="l04594"></a><span class="lineno"> 4594</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (huge!)&quot;</span> );</div>
<div class="line"><a id="l04595" name="l04595"></a><span class="lineno"> 4595</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sizing_level == <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">sizing::human_sized_big_char</a> ||</div>
<div class="line"><a id="l04596" name="l04596"></a><span class="lineno"> 4596</span>               sizing_level == <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">sizing::small_sized_human_char</a> ) {</div>
<div class="line"><a id="l04597" name="l04597"></a><span class="lineno"> 4597</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (too small)&quot;</span> );</div>
<div class="line"><a id="l04598" name="l04598"></a><span class="lineno"> 4598</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sizing_level == <a class="code hl_enumvalue" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">sizing::small_sized_big_char</a> ) {</div>
<div class="line"><a id="l04599" name="l04599"></a><span class="lineno"> 4599</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (tiny!)&quot;</span> );</div>
<div class="line"><a id="l04600" name="l04600"></a><span class="lineno"> 4600</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a> ) ) {</div>
<div class="line"><a id="l04601" name="l04601"></a><span class="lineno"> 4601</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (poor fit)&quot;</span> );</div>
<div class="line"><a id="l04602" name="l04602"></a><span class="lineno"> 4602</span>    }</div>
<div class="line"><a id="l04603" name="l04603"></a><span class="lineno"> 4603</span> </div>
<div class="line"><a id="l04604" name="l04604"></a><span class="lineno"> 4604</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a5093379156498b4d523b3ac1f733adc4">is_filthy</a>() ) {</div>
<div class="line"><a id="l04605" name="l04605"></a><span class="lineno"> 4605</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (filthy)&quot;</span> );</div>
<div class="line"><a id="l04606" name="l04606"></a><span class="lineno"> 4606</span>    }</div>
<div class="line"><a id="l04607" name="l04607"></a><span class="lineno"> 4607</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">is_bionic</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a662fd906916210c2d1e83f14c1d8bfda">flag_NO_PACKED</a> ) ) {</div>
<div class="line"><a id="l04608" name="l04608"></a><span class="lineno"> 4608</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a186e23235b49b90b0e027ab61cdf2eef">flag_NO_STERILE</a> ) ) {</div>
<div class="line"><a id="l04609" name="l04609"></a><span class="lineno"> 4609</span>            tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (sterile)&quot;</span> );</div>
<div class="line"><a id="l04610" name="l04610"></a><span class="lineno"> 4610</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04611" name="l04611"></a><span class="lineno"> 4611</span>            tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (packed)&quot;</span> );</div>
<div class="line"><a id="l04612" name="l04612"></a><span class="lineno"> 4612</span>        }</div>
<div class="line"><a id="l04613" name="l04613"></a><span class="lineno"> 4613</span>    }</div>
<div class="line"><a id="l04614" name="l04614"></a><span class="lineno"> 4614</span> </div>
<div class="line"><a id="l04615" name="l04615"></a><span class="lineno"> 4615</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS</a> ) &amp;&amp; !<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#abf72d7fd72966ce2262981eacf126573">flag_NAT_UPS</a> ) ) {</div>
<div class="line"><a id="l04616" name="l04616"></a><span class="lineno"> 4616</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (UPS)&quot;</span> );</div>
<div class="line"><a id="l04617" name="l04617"></a><span class="lineno"> 4617</span>    }</div>
<div class="line"><a id="l04618" name="l04618"></a><span class="lineno"> 4618</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa8f6c98e325410c321250a67eca0b06e">flag_HEATS_FOOD</a> ) ) {</div>
<div class="line"><a id="l04619" name="l04619"></a><span class="lineno"> 4619</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (heats)&quot;</span> );</div>
<div class="line"><a id="l04620" name="l04620"></a><span class="lineno"> 4620</span>    }</div>
<div class="line"><a id="l04621" name="l04621"></a><span class="lineno"> 4621</span> </div>
<div class="line"><a id="l04622" name="l04622"></a><span class="lineno"> 4622</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a478ecf81e48540e1ba39de33df968c43">has_var</a>( <span class="stringliteral">&quot;NANOFAB_ITEM_ID&quot;</span> ) ) {</div>
<div class="line"><a id="l04623" name="l04623"></a><span class="lineno"> 4623</span>        tagtext += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot; (%s)&quot;</span>, <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">nname</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;NANOFAB_ITEM_ID&quot;</span> ) ) ) );</div>
<div class="line"><a id="l04624" name="l04624"></a><span class="lineno"> 4624</span>    }</div>
<div class="line"><a id="l04625" name="l04625"></a><span class="lineno"> 4625</span> </div>
<div class="line"><a id="l04626" name="l04626"></a><span class="lineno"> 4626</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#af6d8b27a9e9e6f274a4f37347efd89d3">flag_RADIO_MOD</a> ) ) {</div>
<div class="line"><a id="l04627" name="l04627"></a><span class="lineno"> 4627</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (radio:&quot;</span> );</div>
<div class="line"><a id="l04628" name="l04628"></a><span class="lineno"> 4628</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a3a93039896bf4ad4009b71761a6fc37b">flag_RADIOSIGNAL_1</a> ) ) {</div>
<div class="line"><a id="l04629" name="l04629"></a><span class="lineno"> 4629</span>            tagtext += <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;The radio mod is associated with the [R]ed button.&quot;</span>, <span class="stringliteral">&quot;R)&quot;</span> );</div>
<div class="line"><a id="l04630" name="l04630"></a><span class="lineno"> 4630</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a00bc62d36f164a5bd40f09ac660d5b3c">flag_RADIOSIGNAL_2</a> ) ) {</div>
<div class="line"><a id="l04631" name="l04631"></a><span class="lineno"> 4631</span>            tagtext += <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;The radio mod is associated with the [B]lue button.&quot;</span>, <span class="stringliteral">&quot;B)&quot;</span> );</div>
<div class="line"><a id="l04632" name="l04632"></a><span class="lineno"> 4632</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab39ec543f35c9976b0fdb0a24620bdee">flag_RADIOSIGNAL_3</a> ) ) {</div>
<div class="line"><a id="l04633" name="l04633"></a><span class="lineno"> 4633</span>            tagtext += <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;The radio mod is associated with the [G]reen button.&quot;</span>, <span class="stringliteral">&quot;G)&quot;</span> );</div>
<div class="line"><a id="l04634" name="l04634"></a><span class="lineno"> 4634</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04635" name="l04635"></a><span class="lineno"> 4635</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Why is the radio neither red, blue, nor green?&quot;</span> );</div>
<div class="line"><a id="l04636" name="l04636"></a><span class="lineno"> 4636</span>            tagtext += <span class="stringliteral">&quot;?)&quot;</span>;</div>
<div class="line"><a id="l04637" name="l04637"></a><span class="lineno"> 4637</span>        }</div>
<div class="line"><a id="l04638" name="l04638"></a><span class="lineno"> 4638</span>    }</div>
<div class="line"><a id="l04639" name="l04639"></a><span class="lineno"> 4639</span> </div>
<div class="line"><a id="l04640" name="l04640"></a><span class="lineno"> 4640</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a0f35b65e17801413ce658571f42dd000">flag_WET</a> ) ) {</div>
<div class="line"><a id="l04641" name="l04641"></a><span class="lineno"> 4641</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (wet)&quot;</span> );</div>
<div class="line"><a id="l04642" name="l04642"></a><span class="lineno"> 4642</span>    }</div>
<div class="line"><a id="l04643" name="l04643"></a><span class="lineno"> 4643</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ae91a1e39e57f546b94d3e94fe189ed6b">already_used_by_player</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u ) ) {</div>
<div class="line"><a id="l04644" name="l04644"></a><span class="lineno"> 4644</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (used)&quot;</span> );</div>
<div class="line"><a id="l04645" name="l04645"></a><span class="lineno"> 4645</span>    }</div>
<div class="line"><a id="l04646" name="l04646"></a><span class="lineno"> 4646</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> &amp;&amp; ( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a0c9c02dbbc928fd93db1dbc4105ba3fb">flag_WATER_EXTINGUISH</a> ) || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6b884d53e3f77f6e66be745ffa043335">flag_LITCIG</a> ) ) ) {</div>
<div class="line"><a id="l04647" name="l04647"></a><span class="lineno"> 4647</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (lit)&quot;</span> );</div>
<div class="line"><a id="l04648" name="l04648"></a><span class="lineno"> 4648</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa99e915f1cf4ca206eb1e9069fff2d70">flag_IS_UPS</a> ) &amp;&amp; <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;cable&quot;</span> ) == <span class="stringliteral">&quot;plugged_in&quot;</span> ) {</div>
<div class="line"><a id="l04649" name="l04649"></a><span class="lineno"> 4649</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (plugged in)&quot;</span> );</div>
<div class="line"><a id="l04650" name="l04650"></a><span class="lineno"> 4650</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> &amp;&amp; !<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() &amp;&amp;</div>
<div class="line"><a id="l04651" name="l04651"></a><span class="lineno"> 4651</span>               !<a class="code hl_function" href="string__utils_8cpp.html#a836373abd77ef65988abf2bcbff6929a">string_ends_with</a>( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().str(), <span class="stringliteral">&quot;_on&quot;</span> ) ) {</div>
<div class="line"><a id="l04652" name="l04652"></a><span class="lineno"> 4652</span>        <span class="comment">// Usually the items whose ids end in &quot;_on&quot; have the &quot;active&quot; or &quot;on&quot; string already contained</span></div>
<div class="line"><a id="l04653" name="l04653"></a><span class="lineno"> 4653</span>        <span class="comment">// in their name, also food is active while it rots.</span></div>
<div class="line"><a id="l04654" name="l04654"></a><span class="lineno"> 4654</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; (active)&quot;</span> );</div>
<div class="line"><a id="l04655" name="l04655"></a><span class="lineno"> 4655</span>    }</div>
<div class="line"><a id="l04656" name="l04656"></a><span class="lineno"> 4656</span> </div>
<div class="line"><a id="l04657" name="l04657"></a><span class="lineno"> 4657</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> ) {</div>
<div class="line"><a id="l04658" name="l04658"></a><span class="lineno"> 4658</span>        tagtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; *&quot;</span> ); <span class="comment">// Display asterisk for favorite items</span></div>
<div class="line"><a id="l04659" name="l04659"></a><span class="lineno"> 4659</span>    }</div>
<div class="line"><a id="l04660" name="l04660"></a><span class="lineno"> 4660</span> </div>
<div class="line"><a id="l04661" name="l04661"></a><span class="lineno"> 4661</span>    std::string modtext;</div>
<div class="line"><a id="l04662" name="l04662"></a><span class="lineno"> 4662</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a26ffce6c038cc9d398103dcd296275bd">gunmod_find</a>( <a class="code hl_variable" href="item_8cpp.html#acb5ce12112db1c8cd3b69158b97000d4">itype_barrel_small</a> ) ) {</div>
<div class="line"><a id="l04663" name="l04663"></a><span class="lineno"> 4663</span>        modtext += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;sawn-off &quot;</span> );</div>
<div class="line"><a id="l04664" name="l04664"></a><span class="lineno"> 4664</span>    }</div>
<div class="line"><a id="l04665" name="l04665"></a><span class="lineno"> 4665</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6e3abd26810b9daacc0533ce433b2171">flag_DIAMOND</a> ) ) {</div>
<div class="line"><a id="l04666" name="l04666"></a><span class="lineno"> 4666</span>        modtext += std::string( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;Adjective, as in diamond katana&quot;</span>, <span class="stringliteral">&quot;diamond&quot;</span> ) ) + <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a id="l04667" name="l04667"></a><span class="lineno"> 4667</span>    }</div>
<div class="line"><a id="l04668" name="l04668"></a><span class="lineno"> 4668</span> </div>
<div class="line"><a id="l04669" name="l04669"></a><span class="lineno"> 4669</span>    <span class="comment">//~ This is a string to construct the item name as it is displayed. This format string has been added for maximum flexibility. The strings are: %1$s: Damage text (e.g. &quot;bruised&quot;). %2$s: burn adjectives (e.g. &quot;burnt&quot;). %3$s: tool modifier text (e.g. &quot;atomic&quot;). %4$s: vehicle part text (e.g. &quot;3.8-Liter&quot;). $5$s: main item text (e.g. &quot;apple&quot;). %6s: tags (e.g. &quot;(wet) (poor fit)&quot;).</span></div>
<div class="line"><a id="l04670" name="l04670"></a><span class="lineno"> 4670</span>    std::string <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s%2$s%3$s%4$s%5$s%6$s&quot;</span> ), damtext, burntext, modtext,</div>
<div class="line"><a id="l04671" name="l04671"></a><span class="lineno"> 4671</span>                                     vehtext, maintext, tagtext );</div>
<div class="line"><a id="l04672" name="l04672"></a><span class="lineno"> 4672</span> </div>
<div class="line"><a id="l04673" name="l04673"></a><span class="lineno"> 4673</span>    <span class="keywordflow">if</span>( truncate != 0 ) {</div>
<div class="line"><a id="l04674" name="l04674"></a><span class="lineno"> 4674</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="catacharset_8cpp.html#ad959840e392a0d3b79d93cfe64119ca9">utf8_truncate</a>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>, truncate + truncate_override );</div>
<div class="line"><a id="l04675" name="l04675"></a><span class="lineno"> 4675</span>    }</div>
<div class="line"><a id="l04676" name="l04676"></a><span class="lineno"> 4676</span> </div>
<div class="line"><a id="l04677" name="l04677"></a><span class="lineno"> 4677</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.find( <span class="stringliteral">&quot;item_note&quot;</span> ) != <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end() ) {</div>
<div class="line"><a id="l04678" name="l04678"></a><span class="lineno"> 4678</span>        <span class="comment">//~ %s is an item name. This style is used to denote items with notes.</span></div>
<div class="line"><a id="l04679" name="l04679"></a><span class="lineno"> 4679</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;*%s*&quot;</span> ), <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> );</div>
<div class="line"><a id="l04680" name="l04680"></a><span class="lineno"> 4680</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04681" name="l04681"></a><span class="lineno"> 4681</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l04682" name="l04682"></a><span class="lineno"> 4682</span>    }</div>
<div class="line"><a id="l04683" name="l04683"></a><span class="lineno"> 4683</span>}</div>
<div class="ttc" id="acatacharset_8cpp_html_a7616a48a4b48437c60b6683439a8f3e2"><div class="ttname"><a href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a></div><div class="ttdeci">int utf8_width(const char *s, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00142">catacharset.cpp:142</a></div></div>
<div class="ttc" id="acatacharset_8cpp_html_ad959840e392a0d3b79d93cfe64119ca9"><div class="ttname"><a href="catacharset_8cpp.html#ad959840e392a0d3b79d93cfe64119ca9">utf8_truncate</a></div><div class="ttdeci">std::string utf8_truncate(const std::string &amp;s, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00238">catacharset.cpp:238</a></div></div>
<div class="ttc" id="aclassfault_html_a8aaf546ba1a223455f440c7ba984a155"><div class="ttname"><a href="classfault.html#a8aaf546ba1a223455f440c7ba984a155">fault::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00061">fault.h:61</a></div></div>
<div class="ttc" id="aclassitem_html_a3cb164c5569aa41cfda914b6f7a74cb2"><div class="ttname"><a href="classitem.html#a3cb164c5569aa41cfda914b6f7a74cb2">item::is_wheel</a></div><div class="ttdeci">bool is_wheel() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06605">item.cpp:6605</a></div></div>
<div class="ttc" id="aclassitem_html_a4661d733113e53ee370d5aa83e31137b"><div class="ttname"><a href="classitem.html#a4661d733113e53ee370d5aa83e31137b">item::is_going_bad</a></div><div class="ttdeci">bool is_going_bad() const</div><div class="ttdoc">an item is about to become rotten when shelf life has nearly elapsed</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00848">item.h:848</a></div></div>
<div class="ttc" id="aclassitem_html_a80ef6d13a5545c5d32af710fedf717eb"><div class="ttname"><a href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">item::durability_indicator</a></div><div class="ttdeci">std::string durability_indicator(bool include_intact=false) const</div><div class="ttdoc">Provides a prefix for the durability state of the item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06166">item.cpp:6166</a></div></div>
<div class="ttc" id="aclassitem_html_a87c8778dade87019e972367a594b68d8"><div class="ttname"><a href="classitem.html#a87c8778dade87019e972367a594b68d8">item::label</a></div><div class="ttdeci">std::string label(unsigned int quantity=0) const</div><div class="ttdoc">Returns label from &quot;item_label&quot; itemvar and quantity.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09779">item.cpp:9779</a></div></div>
<div class="ttc" id="aclassitem_html_ac3898605336bf9c45ee3ce37d41d5ead"><div class="ttname"><a href="classitem.html#ac3898605336bf9c45ee3ce37d41d5ead">item::is_fresh</a></div><div class="ttdeci">bool is_fresh() const</div><div class="ttdoc">an item is fresh if it is capable of rotting but still has a long shelf life remaining</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00843">item.h:843</a></div></div>
<div class="ttc" id="aclassitem_html_ad1862bc5d5995e30dd224fab31d61f77"><div class="ttname"><a href="classitem.html#ad1862bc5d5995e30dd224fab31d61f77">item::has_clothing_mod</a></div><div class="ttdeci">bool has_clothing_mod() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09960">item.cpp:9960</a></div></div>
<div class="ttc" id="aclassitem_html_adad8973d1533a919bf44d71415754600"><div class="ttname"><a href="classitem.html#adad8973d1533a919bf44d71415754600">item::engine_displacement</a></div><div class="ttdeci">int engine_displacement() const</div><div class="ttdoc">for combustion engines the displacement (cc)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04007">item.cpp:4007</a></div></div>
<div class="ttc" id="aclassitem_html_ae91a1e39e57f546b94d3e94fe189ed6b"><div class="ttname"><a href="classitem.html#ae91a1e39e57f546b94d3e94fe189ed6b">item::already_used_by_player</a></div><div class="ttdeci">bool already_used_by_player(const player &amp;p) const</div><div class="ttdoc">Check whether the item has been marked (by calling mark_as_used_by_player) as used by this specific p...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08690">item.cpp:8690</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a662fd906916210c2d1e83f14c1d8bfda"><div class="ttname"><a href="item_8cpp.html#a662fd906916210c2d1e83f14c1d8bfda">flag_NO_PACKED</a></div><div class="ttdeci">static const std::string flag_NO_PACKED(&quot;NO_PACKED&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a8de56f93319e34c27cd5c62dd4fa4e72"><div class="ttname"><a href="item_8cpp.html#a8de56f93319e34c27cd5c62dd4fa4e72">itype_blood</a></div><div class="ttdeci">static const itype_id itype_blood(&quot;blood&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_a9d243f4fdcd523c63c4c319751b6b434"><div class="ttname"><a href="item_8cpp.html#a9d243f4fdcd523c63c4c319751b6b434">flag_SILENT</a></div><div class="ttdeci">static const std::string flag_SILENT(&quot;SILENT&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aa8f6c98e325410c321250a67eca0b06e"><div class="ttname"><a href="item_8cpp.html#aa8f6c98e325410c321250a67eca0b06e">flag_HEATS_FOOD</a></div><div class="ttdeci">static const std::string flag_HEATS_FOOD(&quot;HEATS_FOOD&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_abf72d7fd72966ce2262981eacf126573"><div class="ttname"><a href="item_8cpp.html#abf72d7fd72966ce2262981eacf126573">flag_NAT_UPS</a></div><div class="ttdeci">static const std::string flag_NAT_UPS(&quot;NAT_UPS&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_acb5ce12112db1c8cd3b69158b97000d4"><div class="ttname"><a href="item_8cpp.html#acb5ce12112db1c8cd3b69158b97000d4">itype_barrel_small</a></div><div class="ttdeci">static const itype_id itype_barrel_small(&quot;barrel_small&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_aef536c0b3a82964224c94d79a203a05a"><div class="ttname"><a href="item_8cpp.html#aef536c0b3a82964224c94d79a203a05a">flag_CBM_SCANNED</a></div><div class="ttdeci">static const std::string flag_CBM_SCANNED(&quot;CBM_SCANNED&quot;)</div></div>
<div class="ttc" id="astring__utils_8cpp_html_a836373abd77ef65988abf2bcbff6929a"><div class="ttname"><a href="string__utils_8cpp.html#a836373abd77ef65988abf2bcbff6929a">string_ends_with</a></div><div class="ttdeci">bool string_ends_with(const std::string &amp;s1, const std::string &amp;s2)</div><div class="ttdoc">Returns true if s1 ends with s2.</div><div class="ttdef"><b>Definition:</b> <a href="string__utils_8cpp_source.html#l00084">string_utils.cpp:84</a></div></div>
<div class="ttc" id="astructlabel_html"><div class="ttname"><a href="structlabel.html">label</a></div><div class="ttdoc">Struct used for storing labels (easier to json opposed to a std::map&lt;point, std::string&gt;)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00578">vehicle.h:578</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a6a55163974b47d9452fe60c5dbea98a4"><div class="ttname"><a href="translations_8cpp.html#a6a55163974b47d9452fe60c5dbea98a4">vpgettext</a></div><div class="ttdeci">const char * vpgettext(const char *const context, const char *const msgid, const char *const msgid_plural, const size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00046">translations.cpp:46</a></div></div>
<div class="ttc" id="aweather__type_8h_html_a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09"><div class="ttname"><a href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a></div><div class="ttdeci">@ silent</div><div class="ttdef"><b>Definition:</b> <a href="weather__type_8h_source.html#l00056">weather_type.h:56</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">active</a>, <a class="el" href="item_8cpp_source.html#l08690">already_used_by_player()</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca4e15dc3960981fe316d564e84d5565d2">big_sized_small_char</a>, <a class="el" href="item_8h_source.html#l02199">burnt</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8h_source.html#l02190">craft_data_</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l06166">durability_indicator()</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item_8cpp_source.html#l04007">engine_displacement()</a>, <a class="el" href="item_8h_source.html#l02160">faults</a>, <a class="el" href="item_8cpp.html#aef536c0b3a82964224c94d79a203a05a">flag_CBM_SCANNED()</a>, <a class="el" href="item_8cpp.html#a6e3abd26810b9daacc0533ce433b2171">flag_DIAMOND()</a>, <a class="el" href="item_8cpp.html#a09be785730be8d8b735277a2434fa57b">flag_ETHEREAL_ITEM()</a>, <a class="el" href="item_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT()</a>, <a class="el" href="item_8cpp.html#aa8f6c98e325410c321250a67eca0b06e">flag_HEATS_FOOD()</a>, <a class="el" href="item_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU()</a>, <a class="el" href="item_8cpp.html#a297facea6437f9bb596d9a944c1a5728">flag_HIDDEN_POISON()</a>, <a class="el" href="item_8cpp.html#aa99e915f1cf4ca206eb1e9069fff2d70">flag_IS_UPS()</a>, <a class="el" href="item_8cpp.html#a6b884d53e3f77f6e66be745ffa043335">flag_LITCIG()</a>, <a class="el" href="item_8cpp.html#abf72d7fd72966ce2262981eacf126573">flag_NAT_UPS()</a>, <a class="el" href="item_8cpp.html#a662fd906916210c2d1e83f14c1d8bfda">flag_NO_PACKED()</a>, <a class="el" href="item_8cpp.html#a186e23235b49b90b0e027ab61cdf2eef">flag_NO_STERILE()</a>, <a class="el" href="item_8cpp.html#af6d8b27a9e9e6f274a4f37347efd89d3">flag_RADIO_MOD()</a>, <a class="el" href="item_8cpp.html#a3a93039896bf4ad4009b71761a6fc37b">flag_RADIOSIGNAL_1()</a>, <a class="el" href="item_8cpp.html#a00bc62d36f164a5bd40f09ac660d5b3c">flag_RADIOSIGNAL_2()</a>, <a class="el" href="item_8cpp.html#ab39ec543f35c9976b0fdb0a24620bdee">flag_RADIOSIGNAL_3()</a>, <a class="el" href="item_8cpp.html#a9d243f4fdcd523c63c4c319751b6b434">flag_SILENT()</a>, <a class="el" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS()</a>, <a class="el" href="item_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE()</a>, <a class="el" href="item_8cpp.html#a0c9c02dbbc928fd93db1dbc4105ba3fb">flag_WATER_EXTINGUISH()</a>, <a class="el" href="item_8cpp.html#a0f35b65e17801413ce658571f42dd000">flag_WET()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05642">get_encumber()</a>, <a class="el" href="item_8cpp_source.html#l01185">get_sizing()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l05387">goes_bad()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07588">gunmod_find()</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l09960">has_clothing_mod()</a>, <a class="el" href="fault_8h_source.html#l00061">fault::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l05187">has_own_flag()</a>, <a class="el" href="item_8cpp_source.html#l01067">has_var()</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca7cd492c10e5f2b8c6203c9a3e0bd5d26">human_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cae3ebeb4f4fd83a4bed91e489ff90eafa">human_sized_small_char</a>, <a class="el" href="item_8cpp_source.html#l06554">is_armor()</a>, <a class="el" href="item_8cpp_source.html#l06402">is_bionic()</a>, <a class="el" href="item_8cpp_source.html#l06559">is_book()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, <a class="el" href="item_8cpp_source.html#l06600">is_engine()</a>, <a class="el" href="item_8h_source.html#l02234">is_favorite</a>, <a class="el" href="item_8cpp_source.html#l09808">is_filthy()</a>, <a class="el" href="item_8cpp_source.html#l06442">is_food()</a>, <a class="el" href="item_8h_source.html#l00843">is_fresh()</a>, <a class="el" href="item_8h_source.html#l00848">is_going_bad()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="item_8cpp_source.html#l06605">is_wheel()</a>, <a class="el" href="item_8h_source.html#l02204">item_counter</a>, <a class="el" href="item_8h_source.html#l02167">item_vars</a>, <a class="el" href="item_8cpp.html#acb5ce12112db1c8cd3b69158b97000d4">itype_barrel_small</a>, <a class="el" href="item_8cpp.html#a8de56f93319e34c27cd5c62dd4fa4e72">itype_blood</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>, <a class="el" href="item_8cpp_source.html#l09779">label()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="item_8cpp_source.html#l09749">nname()</a>, <a class="el" href="item__contents_8cpp_source.html#l00027">item_contents::num_item_stacks()</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="item_8h_source.html#l00853">rotten()</a>, <a class="el" href="weather__type_8h_source.html#l00056">silent</a>, <a class="el" href="item_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9ca2e09daf3a4a2a25acca1a1d22e7a44fc">small_sized_big_char</a>, <a class="el" href="classitem.html#a952452b603e34038ff8dff7ed9422a9cab070cdbbb5e27e5e07128ce369d16729">small_sized_human_char</a>, <a class="el" href="string__utils_8cpp_source.html#l00084">string_ends_with()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="item_8cpp_source.html#l09678">type_name()</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, <a class="el" href="catacharset_8cpp_source.html#l00238">utf8_truncate()</a>, <a class="el" href="catacharset_8cpp_source.html#l00142">utf8_width()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="translations_8cpp_source.html#l00046">vpgettext()</a>, and <a class="el" href="itype_8h_source.html#l00855">itype::wheel</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08130">Character::absorb_hit()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01293">advanced_inventory::action_examine()</a>, <a class="el" href="bionics_8cpp_source.html#l00531">Character::activate_bionic()</a>, <a class="el" href="monexamine_8cpp_source.html#l00672">monexamine::add_armor()</a>, <a class="el" href="game_8cpp_source.html#l08386">add_disassemblables()</a>, <a class="el" href="vehicle_8cpp_source.html#l00196">MapgenRemovePartHandler::add_item_or_charges()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00083">advanced_inventory_pane::add_items_from_area()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00540">auto_pickup::player_settings::add_rule()</a>, <a class="el" href="game_8cpp_source.html#l08365">add_salvagables()</a>, <a class="el" href="npcmove_8cpp_source.html#l03489">npc::alt_attack()</a>, <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="character_8cpp_source.html#l08272">Character::armor_absorb()</a>, <a class="el" href="iuse_8cpp_source.html#l05178">iuse::artifact()</a>, <a class="el" href="inventory_8cpp_source.html#l01141">inventory::assign_empty_invlet()</a>, <a class="el" href="monattack_8cpp_source.html#l05275">mattack::bio_op_disarm()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00474">talk_function::bionic_remove()</a>, <a class="el" href="melee_8cpp_source.html#l01530">Character::block_hit()</a>, <a class="el" href="iuse_8cpp_source.html#l04606">iuse::blood_draw()</a>, <a class="el" href="iuse_8cpp_source.html#l03336">iuse::burrow()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01126">activity_handlers::butcher_finish()</a>, <a class="el" href="item_8cpp_source.html#l05571">calc_rot_while_processing()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03822">camp_car_description()</a>, <a class="el" href="iuse_8cpp_source.html#l09832">use_function::can_call()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="npc_8cpp_source.html#l00838">npc::can_read()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03252">repair_item_actor::can_repair_target()</a>, <a class="el" href="character_8cpp_source.html#l03136">Character::can_unwield()</a>, <a class="el" href="character_8cpp_source.html#l02898">Character::can_use()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="player_8cpp_source.html#l02491">player::can_wield()</a>, <a class="el" href="iuse_8cpp_source.html#l09356">iuse::capture_monster_act()</a>, <a class="el" href="iuse_8cpp_source.html#l09302">iuse::capture_monster_veh()</a>, <a class="el" href="character_8cpp_source.html#l03679">Character::change_side()</a>, <a class="el" href="item_8cpp_source.html#l00861">charges_per_volume()</a>, <a class="el" href="iuse_8cpp_source.html#l01099">iuse::chew()</a>, <a class="el" href="iuse_8cpp_source.html#l09717">iuse::coin_flip()</a>, <a class="el" href="iuse_8cpp_source.html#l06747">colorized_item_name()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01566">game_menus::inv::compare()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="player_8cpp_source.html#l02052">player::consume()</a>, <a class="el" href="player_8cpp_source.html#l02015">player::consume_item()</a>, <a class="el" href="iuse_8cpp_source.html#l05789">iuse::contacts()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00399">game_menus::inv::container_for()</a>, <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00626">auto_pickup::rule_list::create_rule()</a>, <a class="el" href="iuse_8cpp_source.html#l02411">iuse::crowbar()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01638">salvage_actor::cut_up()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03413">damage_item()</a>, <a class="el" href="item_8cpp_source.html#l00537">deactivate()</a>, <a class="el" href="bionics_8cpp_source.html#l01064">Character::deactivate_bionic()</a>, <a class="el" href="item__location_8cpp_source.html#l00567">item_location::impl::item_in_container::describe()</a>, <a class="el" href="iexamine_8cpp_source.html#l06007">iexamine::dimensional_portal()</a>, <a class="el" href="iuse_8cpp_source.html#l09272">iuse::directional_hologram()</a>, <a class="el" href="melee_8cpp_source.html#l02264">player::disarm()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="item_8cpp_source.html#l04685">display_money()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="iuse_8cpp_source.html#l04239">iuse::dive_tank()</a>, <a class="el" href="npcmove_8cpp_source.html#l04547">npc::do_reload()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00186">draw_bionics_titlebar()</a>, <a class="el" href="npcmove_8cpp_source.html#l03120">npc::drop_items()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00302">drop_on_map()</a>, <a class="el" href="ballistics_8cpp_source.html#l00060">drop_or_embed_projectile()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00821">avatar_action::eat()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">player::eat()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="explosion_8cpp_source.html#l00908">explosion_handler::emp_blast()</a>, <a class="el" href="character_8cpp_source.html#l06591">Character::extended_description()</a>, <a class="el" href="iuse_8cpp_source.html#l00634">iuse::eyedrops()</a>, <a class="el" href="faction_8cpp_source.html#l00494">npc::faction_display()</a>, <a class="el" href="consumption_8cpp_source.html#l01338">Character::feed_furnace_with()</a>, <a class="el" href="consumption_8cpp_source.html#l01294">Character::feed_reactor_with()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01977">fetch_activity()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="npcmove_8cpp_source.html#l02770">npc::find_item()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03741">heal_actor::finish_using()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00699">avatar_action::fire_wielded_weapon()</a>, <a class="el" href="iuse_8cpp_source.html#l03876">iuse::firecracker_act()</a>, <a class="el" href="iexamine_8cpp_source.html#l02856">iexamine::fireplace()</a>, <a class="el" href="iuse_8cpp_source.html#l01765">iuse::fishing_rod()</a>, <a class="el" href="iuse_8cpp_source.html#l00975">iuse::flumed()</a>, <a class="el" href="iuse_8cpp_source.html#l00982">iuse::flusleep()</a>, <a class="el" href="consumption_8cpp_source.html#l01396">Character::fuel_bionic_with()</a>, <a class="el" href="iexamine_8cpp_source.html#l02953">iexamine::fvat_empty()</a>, <a class="el" href="iexamine_8cpp_source.html#l03078">iexamine::fvat_full()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01762">activity_handlers::game_do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l04330">iuse::gasmask()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02808">generic_multi_activity_do()</a>, <a class="el" href="avatar_8cpp_source.html#l00245">avatar::get_book_reader()</a>, <a class="el" href="crafting_8cpp_source.html#l00963">get_continue_reqs()</a>, <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>, <a class="el" href="item_8cpp_source.html#l09916">get_making()</a>, <a class="el" href="crafting_8cpp_source.html#l00883">get_next_failure_point()</a>, <a class="el" href="item_8cpp_source.html#l01266">get_owner_name()</a>, <a class="el" href="item_8cpp_source.html#l05258">get_property_int64_t()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="turret_8cpp_source.html#l00519">vehicle::get_targeting_npc()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00527">talk_function::give_equipment()</a>, <a class="el" href="monexamine_8cpp_source.html#l00633">monexamine::give_items_to()</a>, <a class="el" href="iuse_8cpp_source.html#l03569">iuse::granade_act()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="player_8cpp_source.html#l03519">player::gunmod_add()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03028">activity_handlers::gunmod_add_finish()</a>, <a class="el" href="player_8cpp_source.html#l03435">player::gunmod_remove()</a>, <a class="el" href="ranged_8cpp_source.html#l03647">ranged::gunmode_checks_common()</a>, <a class="el" href="ranged_8cpp_source.html#l03683">ranged::gunmode_checks_weapon()</a>, <a class="el" href="iuse_8cpp_source.html#l04466">iuse::hand_crank()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03104">repair_item_actor::handle_components()</a>, <a class="el" href="crafting_8cpp_source.html#l00918">handle_craft_failure()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00398">liquid_handler::handle_liquid()</a>, <a class="el" href="melee_8cpp_source.html#l00156">Character::handle_melee_wear()</a>, <a class="el" href="pickup_8cpp_source.html#l00140">handle_problematic_pickup()</a>, <a class="el" href="character_8cpp_source.html#l07442">Character::has_enough_charges()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00529">auto_pickup::player_settings::has_rule()</a>, <a class="el" href="npcmove_8cpp_source.html#l03684">npc::heal_self()</a>, <a class="el" href="character_8cpp_source.html#l02274">Character::i_add_to_container()</a>, <a class="el" href="character_8cpp_source.html#l02431">Character::i_rem()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00358">iuse_transform::info()</a>, <a class="el" href="item_8cpp_source.html#l03887">info()</a>, <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, <a class="el" href="character_8cpp_source.html#l07318">Character::invoke_item()</a>, <a class="el" href="avatar_8cpp_source.html#l01283">avatar::invoke_item()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00063">advanced_inventory_pane::is_filtered()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="npctalk_8cpp_source.html#l03454">npc::item_whitelisted()</a>, <a class="el" href="iuse_8cpp_source.html#l03227">iuse::jackhammer()</a>, <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>, <a class="el" href="game_8cpp_source.html#l07526">game::list_items()</a>, <a class="el" href="iexamine_8cpp_source.html#l01483">iexamine::locked_object_pickable()</a>, <a class="el" href="iuse_8cpp_source.html#l09738">iuse::magic_8_ball()</a>, <a class="el" href="iuse_8cpp_source.html#l01261">marloss_common()</a>, <a class="el" href="iuse_8cpp_source.html#l01407">iuse::marloss_seed()</a>, <a class="el" href="martialarts_8cpp_source.html#l01245">character_martial_arts::martialart_use_message()</a>, <a class="el" href="iuse_8cpp_source.html#l00899">iuse::meditate()</a>, <a class="el" href="iuse_8cpp_source.html#l09706">iuse::melatonin_tablet()</a>, <a class="el" href="melee_8cpp_source.html#l01764">Character::melee_special_effects()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02974">activity_handlers::mend_item_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l04673">iuse::mind_splicer()</a>, <a class="el" href="item_8cpp_source.html#l09548">mod_charges()</a>, <a class="el" href="consumption_8cpp_source.html#l01059">Character::modify_morale()</a>, <a class="el" href="iuse_8cpp_source.html#l03793">iuse::molotov_lit()</a>, <a class="el" href="npcmove_8cpp_source.html#l03903">npc::mug_player()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="mutation_8cpp_source.html#l00258">Character::mutation_effect()</a>, <a class="el" href="npcmove_8cpp_source.html#l03467">npc_throw()</a>, <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>, <a class="el" href="iuse_8cpp_source.html#l01005">iuse::oxygen_bottle()</a>, <a class="el" href="iuse_8cpp_source.html#l02066">iuse::pack_item()</a>, <a class="el" href="ranged_8cpp_source.html#l03447">target_ui::panel_gun_info()</a>, <a class="el" href="npctalk_8cpp_source.html#l01571">parse_tags()</a>, <a class="el" href="iuse_8cpp_source.html#l01550">petfood()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="iuse_8cpp_source.html#l03282">iuse::pickaxe()</a>, <a class="el" href="iuse_8cpp_source.html#l09724">iuse::play_game()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00845">avatar_action::plthrow()</a>, <a class="el" href="iuse_8cpp_source.html#l04370">iuse::portable_game()</a>, <a class="el" href="character_8cpp_source.html#l06426">Character::pour_into()</a>, <a class="el" href="iexamine_8cpp_source.html#l03353">iexamine::pour_into_keg()</a>, <a class="el" href="ranged_8cpp_source.html#l00755">npc::pretend_fire()</a>, <a class="el" href="npc_8cpp_source.html#l02233">npc::print_info()</a>, <a class="el" href="game_8cpp_source.html#l06229">game::print_items_info()</a>, <a class="el" href="game_8cpp_source.html#l11839">game::process_artifact()</a>, <a class="el" href="item_8cpp_source.html#l09415">process_blackpowder_fouling()</a>, <a class="el" href="item_8cpp_source.html#l09105">process_extinguish()</a>, <a class="el" href="map__field_8cpp_source.html#l00394">map::process_fields_in_submap()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="item_8cpp_source.html#l09031">process_litcig()</a>, <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>, <a class="el" href="monattack_8cpp_source.html#l00781">mattack::pull_metal_weapon()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00160">put_into_vehicle()</a>, <a class="el" href="item_8cpp_source.html#l07889">item::reload_option::qty()</a>, <a class="el" href="iuse_8cpp_source.html#l01650">iuse::radio_mod()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="player_8cpp_source.html#l01886">player::reduce_charges()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02858">bandolier_actor::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l00414">remove_radio_mod()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00552">auto_pickup::player_settings::remove_rule()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l06021">iuse::robotcontrol()</a>, <a class="el" href="map_8cpp_source.html#l06935">map::rotten_item_spawn()</a>, <a class="el" href="iuse_8cpp_source.html#l04216">iuse::rpgdie()</a>, <a class="el" href="iuse_8cpp_source.html#l06003">iuse::seed()</a>, <a class="el" href="player_8cpp_source.html#l02156">player::select_ammo()</a>, <a class="el" href="npctalk_8cpp_source.html#l02309">talk_effect_fun_t::set_bulk_trade_accept()</a>, <a class="el" href="npctalk_8cpp_source.html#l02116">talk_effect_fun_t::set_consume_item()</a>, <a class="el" href="crafting_8cpp_source.html#l00703">set_item_inventory()</a>, <a class="el" href="crafting_8cpp_source.html#l00646">set_item_map()</a>, <a class="el" href="crafting_8cpp_source.html#l00663">set_item_map_or_vehicle()</a>, <a class="el" href="item_8cpp_source.html#l06502">set_mtype()</a>, <a class="el" href="crafting_8cpp_source.html#l00892">set_next_failure_point()</a>, <a class="el" href="npctalk_8cpp_source.html#l02045">talk_effect_fun_t::set_u_buy_item()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00557">gun_actor::shoot()</a>, <a class="el" href="character_8cpp_source.html#l10275">Character::short_description_parts()</a>, <a class="el" href="npctrade_8cpp_source.html#l00407">trading_window::show_item_data()</a>, <a class="el" href="handle__action_8cpp_source.html#l01000">sleep()</a>, <a class="el" href="player_8cpp_source.html#l03889">player::sleep_spot()</a>, <a class="el" href="handle__action_8cpp_source.html#l00671">smash()</a>, <a class="el" href="iuse_8cpp_source.html#l00527">iuse::smoking()</a>, <a class="el" href="iuse_8cpp_source.html#l04287">iuse::solarpack()</a>, <a class="el" href="melee_8cpp_source.html#l02340">avatar::steal()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02665">holster_actor::store()</a>, <a class="el" href="npc_8cpp_source.html#l01109">npc::stow_item()</a>, <a class="el" href="suffer_8cpp_source.html#l01222">Character::suffer_from_bad_bionics()</a>, <a class="el" href="player_8cpp_source.html#l02977">player::takeoff()</a>, <a class="el" href="iuse_8cpp_source.html#l05819">iuse::talking_doll()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="iuse_8cpp_source.html#l09776">iuse::toggle_heats_food()</a>, <a class="el" href="item_8cpp_source.html#l03020">tool_info()</a>, <a class="el" href="iuse_8cpp_source.html#l05571">iuse::towel_common()</a>, <a class="el" href="iexamine_8cpp_source.html#l03485">iexamine::tree_maple_tapped()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, <a class="el" href="mutation_8cpp_source.html#l01510">try_reject_mutagen()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01589">salvage_actor::try_to_cut_up()</a>, <a class="el" href="ranged_8cpp_source.html#l03264">target_ui::uitext_title()</a>, <a class="el" href="iuse_8cpp_source.html#l05639">iuse::unfold_generic()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="iuse_8cpp_source.html#l02022">iuse::unpack_item()</a>, <a class="el" href="player_8cpp_source.html#l02530">player::unwield()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00186">inventory_entry::update_cache()</a>, <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00440">countdown_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00546">explosion_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00633">unfold_vehicle_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00914">set_transform_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04967">change_scent_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01256">deploy_furn_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01339">reveal_map_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01476">firestarter_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01833">inscribe_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02714">holster_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02984">ammobelt_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03649">heal_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04148">place_trap_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04592">deploy_tent_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04254">saw_barrel_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00388">unpack_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02584">cast_spell_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03910">heal_actor::use_healing_item()</a>, <a class="el" href="npcmove_8cpp_source.html#l03721">npc::use_painkiller()</a>, <a class="el" href="iuse_8cpp_source.html#l04500">iuse::vibe()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02321">activity_handlers::vibe_do_turn()</a>, <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>, <a class="el" href="character_8cpp_source.html#l02170">Character::wear_item()</a>, <a class="el" href="iuse_8cpp_source.html#l09191">iuse::weather_tool()</a>, <a class="el" href="npc_8cpp_source.html#l01148">npc::wield()</a>, <a class="el" href="avatar_8cpp_source.html#l01226">avatar::wield()</a>, <a class="el" href="game_8cpp_source.html#l09008">game::wield()</a>, <a class="el" href="consumption_8cpp_source.html#l00728">Character::will_eat()</a>, <a class="el" href="item_8cpp_source.html#l06630">wind_resist()</a>, <a class="el" href="wish_8cpp_source.html#l00535">debug_menu::wishitem()</a>, <a class="el" href="memorial__logger_8cpp_source.html#l00150">memorial_logger::write()</a>, and <a class="el" href="iuse_8cpp_source.html#l00468">iuse::xanax()</a>.</p>

</div>
</div>
<a id="af5218e06137e038fa90a320550884639" name="af5218e06137e038fa90a320550884639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5218e06137e038fa90a320550884639">&#9670;&nbsp;</a></span>tool_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::tool_info </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiteminfo__query.html">iteminfo_query</a> *&#160;</td>
          <td class="paramname"><em>parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l03020">3020</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span>{</div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"> 3025</span>    }</div>
<div class="line"><a id="l03026" name="l03026"></a><span class="lineno"> 3026</span> </div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span>    <a class="code hl_function" href="item_8cpp.html#aa7bd2127a62492fce2df64589164987d">insert_separation_line</a>( <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a> );</div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadb961649396a1b3006e0eb01f5b37aa5">iteminfo_parts::TOOL_CHARGES</a> ) ) {</div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>        <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;TOOL&quot;</span>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;bold&gt;Charges&lt;/bold&gt;: %d&quot;</span> ),</div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span>                           <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() ) );</div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span>    }</div>
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"> 3032</span> </div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() ) {</div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab33e96da85446439ebb1470a45597770">iteminfo_parts::TOOL_MAGAZINE_CURRENT</a> ) ) {</div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;TOOL&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Magazine: &quot;</span> ),</div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span>                               <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&lt;stat&gt;%s&lt;/stat&gt;&quot;</span>, <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>()-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"> 3037</span>        }</div>
<div class="line"><a id="l03038" name="l03038"></a><span class="lineno"> 3038</span> </div>
<div class="line"><a id="l03039" name="l03039"></a><span class="lineno"> 3039</span>        <span class="keywordflow">if</span>( parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa20f77793c38d1f46f5c61c54cfed6cf7">iteminfo_parts::TOOL_MAGAZINE_COMPATIBLE</a> ) ) {</div>
<div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span>            <span class="keyword">const</span> std::set&lt;itype_id&gt; compat = <a class="code hl_function" href="classitem.html#a3ebcbfa7afc85cc501d72f52d09e9984">magazine_compatible</a>();</div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;TOOL&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Compatible magazines: &quot;</span> ),</div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span>            <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( compat.begin(), compat.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp; <span class="keywordtype">id</span> ) {</div>
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"> 3043</span>                return item::nname( id );</div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span>            } ) );</div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>        }</div>
<div class="line"><a id="l03046" name="l03046"></a><span class="lineno"> 3046</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() != 0 &amp;&amp; parts-&gt;<a class="code hl_function" href="classiteminfo__query.html#a7878ab966f3d3ae0e941cfc61d9c8481">test</a>( <a class="code hl_enumvalue" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaaee922908a854495f38f7b99bb28f90f">iteminfo_parts::TOOL_CAPACITY</a> ) ) {</div>
<div class="line"><a id="l03047" name="l03047"></a><span class="lineno"> 3047</span>        std::string tmp;</div>
<div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span>        <span class="keywordtype">bool</span> bionic_tool = <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ac598f189b2cb0091f6d5f7ad687d8bdb">flag_USES_BIONIC_POWER</a> );</div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().empty() ) {</div>
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"> 3050</span>            <span class="comment">//~ &quot;%s&quot; is ammunition type. This types can&#39;t be plural.</span></div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span>            tmp = <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;Maximum &lt;num&gt; charge of %s.&quot;</span>, <span class="stringliteral">&quot;Maximum &lt;num&gt; charges of %s.&quot;</span>,</div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span>                            <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() );</div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span>            tmp = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( tmp, <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().begin(),</div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span>            <a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp; at ) {</div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span>                <span class="keywordflow">return</span> at-&gt;<a class="code hl_function" href="classammunition__type.html#a3c5d67ec1974c9a43d79c0ab3e7f979a">name</a>();</div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span>            }, <a class="code hl_enumvalue" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a> ) );</div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span> </div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>            <span class="comment">// No need to display max charges, since charges are always equal to bionic power</span></div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !bionic_tool ) {</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span>            tmp = <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;Maximum &lt;num&gt; charge.&quot;</span>, <span class="stringliteral">&quot;Maximum &lt;num&gt; charges.&quot;</span>, <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() );</div>
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"> 3061</span>        }</div>
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"> 3062</span>        <span class="keywordflow">if</span>( !bionic_tool ) {</div>
<div class="line"><a id="l03063" name="l03063"></a><span class="lineno"> 3063</span>            <a class="code hl_function" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>.emplace_back( <span class="stringliteral">&quot;TOOL&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, tmp, <a class="code hl_enumvalue" href="structiteminfo.html#a52b3543e16cce6f69f2e5cdb021c1e16a17168a987307538a1f25fa97640471f3">iteminfo::no_flags</a>, <a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() );</div>
<div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>        }</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span>    }</div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span>}</div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaa20f77793c38d1f46f5c61c54cfed6cf7"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa20f77793c38d1f46f5c61c54cfed6cf7">iteminfo_parts::TOOL_MAGAZINE_COMPATIBLE</a></div><div class="ttdeci">@ TOOL_MAGAZINE_COMPATIBLE</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaaaee922908a854495f38f7b99bb28f90f"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaaee922908a854495f38f7b99bb28f90f">iteminfo_parts::TOOL_CAPACITY</a></div><div class="ttdeci">@ TOOL_CAPACITY</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaab33e96da85446439ebb1470a45597770"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab33e96da85446439ebb1470a45597770">iteminfo_parts::TOOL_MAGAZINE_CURRENT</a></div><div class="ttdeci">@ TOOL_MAGAZINE_CURRENT</div></div>
<div class="ttc" id="aiteminfo__query_8h_html_aa68a581556ddf9d10387ba6d9f760cdaadb961649396a1b3006e0eb01f5b37aa5"><div class="ttname"><a href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadb961649396a1b3006e0eb01f5b37aa5">iteminfo_parts::TOOL_CHARGES</a></div><div class="ttdeci">@ TOOL_CHARGES</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l07253">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="item_8cpp.html#ac598f189b2cb0091f6d5f7ad687d8bdb">flag_USES_BIONIC_POWER()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l01101">info()</a>, <a class="el" href="item_8cpp_source.html#l01306">insert_separation_line()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="item_8cpp_source.html#l07539">magazine_compatible()</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="ammo_8cpp_source.html#l00079">ammunition_type::name()</a>, <a class="el" href="item_8h_source.html#l00141">iteminfo::no_flags</a>, <a class="el" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="iteminfo__query_8cpp_source.html#l00024">iteminfo_query::test()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaaaee922908a854495f38f7b99bb28f90f">TOOL_CAPACITY</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaadb961649396a1b3006e0eb01f5b37aa5">TOOL_CHARGES</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaa20f77793c38d1f46f5c61c54cfed6cf7">TOOL_MAGAZINE_COMPATIBLE</a>, <a class="el" href="iteminfo__query_8h.html#aa68a581556ddf9d10387ba6d9f760cdaab33e96da85446439ebb1470a45597770">TOOL_MAGAZINE_CURRENT</a>, and <a class="el" href="translations_8cpp_source.html#l00036">vgettext()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l03887">info()</a>.</p>

</div>
</div>
<a id="a01e04ebcbadc63b26b213c0a861b0188" name="a01e04ebcbadc63b26b213c0a861b0188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01e04ebcbadc63b26b213c0a861b0188">&#9670;&nbsp;</a></span>toolmods() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; item::toolmods </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all toolmods currently attached to this item (always empty if item not a tool) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05338">5338</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05339" name="l05339"></a><span class="lineno"> 5339</span>{</div>
<div class="line"><a id="l05340" name="l05340"></a><span class="lineno"> 5340</span>    std::vector&lt;item *&gt; res;</div>
<div class="line"><a id="l05341" name="l05341"></a><span class="lineno"> 5341</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l05342" name="l05342"></a><span class="lineno"> 5342</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *e : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l05343" name="l05343"></a><span class="lineno"> 5343</span>            <span class="keywordflow">if</span>( e-&gt;is_toolmod() ) {</div>
<div class="line"><a id="l05344" name="l05344"></a><span class="lineno"> 5344</span>                res.push_back( e );</div>
<div class="line"><a id="l05345" name="l05345"></a><span class="lineno"> 5345</span>            }</div>
<div class="line"><a id="l05346" name="l05346"></a><span class="lineno"> 5346</span>        }</div>
<div class="line"><a id="l05347" name="l05347"></a><span class="lineno"> 5347</span>    }</div>
<div class="line"><a id="l05348" name="l05348"></a><span class="lineno"> 5348</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l05349" name="l05349"></a><span class="lineno"> 5349</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, and <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07258">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l03487">contents_info()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l07539">magazine_compatible()</a>, <a class="el" href="item_8cpp_source.html#l07518">magazine_default()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="iuse_8cpp_source.html#l01711">iuse::remove_all_mods()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="iuse_8cpp_source.html#l05936">iuse::toolmod_attach()</a>.</p>

</div>
</div>
<a id="a9b6423923c34179706a69672ef5f9b0e" name="a9b6423923c34179706a69672ef5f9b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b6423923c34179706a69672ef5f9b0e">&#9670;&nbsp;</a></span>toolmods() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt; item::toolmods </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05351">5351</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05352" name="l05352"></a><span class="lineno"> 5352</span>{</div>
<div class="line"><a id="l05353" name="l05353"></a><span class="lineno"> 5353</span>    std::vector&lt;const item *&gt; res;</div>
<div class="line"><a id="l05354" name="l05354"></a><span class="lineno"> 5354</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l05355" name="l05355"></a><span class="lineno"> 5355</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *e : <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l05356" name="l05356"></a><span class="lineno"> 5356</span>            <span class="keywordflow">if</span>( e-&gt;is_toolmod() ) {</div>
<div class="line"><a id="l05357" name="l05357"></a><span class="lineno"> 5357</span>                res.push_back( e );</div>
<div class="line"><a id="l05358" name="l05358"></a><span class="lineno"> 5358</span>            }</div>
<div class="line"><a id="l05359" name="l05359"></a><span class="lineno"> 5359</span>        }</div>
<div class="line"><a id="l05360" name="l05360"></a><span class="lineno"> 5360</span>    }</div>
<div class="line"><a id="l05361" name="l05361"></a><span class="lineno"> 5361</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l05362" name="l05362"></a><span class="lineno"> 5362</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, and <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>.</p>

</div>
</div>
<a id="a70359b9e831ed97023891631058595b6" name="a70359b9e831ed97023891631058595b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70359b9e831ed97023891631058595b6">&#9670;&nbsp;</a></span>type_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::type_name </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>quantity</em> = <code>1</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="namespaceName.html">Name</a> of the item type (not the item), with proper plural. </p>
<p >This is only special when the item itself has a special name ("name" entry in <a class="el" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>) or is a named corpse. It's effectively the same as calling <a class="el" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">nname</a> with the item type id. Use this when the actual item is not meant, for example "The shovel" instead of "Your shovel". Or "The jacket is too small", when it applies to all jackets, not just the one the character tried to wear). </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09678">9678</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09679" name="l09679"></a><span class="lineno"> 9679</span>{</div>
<div class="line"><a id="l09680" name="l09680"></a><span class="lineno"> 9680</span>    <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.find( <span class="stringliteral">&quot;name&quot;</span> );</div>
<div class="line"><a id="l09681" name="l09681"></a><span class="lineno"> 9681</span>    std::string ret_name;</div>
<div class="line"><a id="l09682" name="l09682"></a><span class="lineno"> 9682</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="item_8cpp.html#a8de56f93319e34c27cd5c62dd4fa4e72">itype_blood</a> ) {</div>
<div class="line"><a id="l09683" name="l09683"></a><span class="lineno"> 9683</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> == <span class="keyword">nullptr</span> || <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a>.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l09684" name="l09684"></a><span class="lineno"> 9684</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="translations_8cpp.html#a6a55163974b47d9452fe60c5dbea98a4">vpgettext</a>( <span class="stringliteral">&quot;item name&quot;</span>, <span class="stringliteral">&quot;human blood&quot;</span>, <span class="stringliteral">&quot;human blood&quot;</span>, quantity );</div>
<div class="line"><a id="l09685" name="l09685"></a><span class="lineno"> 9685</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09686" name="l09686"></a><span class="lineno"> 9686</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#a6a55163974b47d9452fe60c5dbea98a4">vpgettext</a>( <span class="stringliteral">&quot;item name&quot;</span>, <span class="stringliteral">&quot;%s blood&quot;</span>,</div>
<div class="line"><a id="l09687" name="l09687"></a><span class="lineno"> 9687</span>                                             <span class="stringliteral">&quot;%s blood&quot;</span>,  quantity ),</div>
<div class="line"><a id="l09688" name="l09688"></a><span class="lineno"> 9688</span>                                  <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>() );</div>
<div class="line"><a id="l09689" name="l09689"></a><span class="lineno"> 9689</span>        }</div>
<div class="line"><a id="l09690" name="l09690"></a><span class="lineno"> 9690</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( iter != <a class="code hl_variable" href="classitem.html#ad1a1f133775f8a53a0faa3ec34b5acf4">item_vars</a>.end() ) {</div>
<div class="line"><a id="l09691" name="l09691"></a><span class="lineno"> 9691</span>        <span class="keywordflow">return</span> iter-&gt;second;</div>
<div class="line"><a id="l09692" name="l09692"></a><span class="lineno"> 9692</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09693" name="l09693"></a><span class="lineno"> 9693</span>        ret_name = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( quantity );</div>
<div class="line"><a id="l09694" name="l09694"></a><span class="lineno"> 9694</span>    }</div>
<div class="line"><a id="l09695" name="l09695"></a><span class="lineno"> 9695</span> </div>
<div class="line"><a id="l09696" name="l09696"></a><span class="lineno"> 9696</span>    <span class="comment">// Apply conditional names, in order.</span></div>
<div class="line"><a id="l09697" name="l09697"></a><span class="lineno"> 9697</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structconditional__name.html">conditional_name</a> &amp;cname : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#acaa924a27717e1a4f5fa3fb17a84383c">conditional_names</a> ) {</div>
<div class="line"><a id="l09698" name="l09698"></a><span class="lineno"> 9698</span>        <span class="comment">// Lambda for recursively searching for a item ID among all components.</span></div>
<div class="line"><a id="l09699" name="l09699"></a><span class="lineno"> 9699</span>        std::function&lt;bool ( std::list&lt;item&gt; )&gt; component_id_contains =</div>
<div class="line"><a id="l09700" name="l09700"></a><span class="lineno"> 9700</span>        [&amp;]( std::list&lt;item&gt; <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l09701" name="l09701"></a><span class="lineno"> 9701</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_struct" href="structcomponent.html">component</a> : <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l09702" name="l09702"></a><span class="lineno"> 9702</span>                <span class="keywordflow">if</span>( <a class="code hl_struct" href="structcomponent.html">component</a>.typeId().str().find( cname.<a class="code hl_variable" href="structconditional__name.html#a7f83a54f817bcd052f2a474d2d0c37a5">condition</a> ) != std::string::npos ||</div>
<div class="line"><a id="l09703" name="l09703"></a><span class="lineno"> 9703</span>                    component_id_contains( <a class="code hl_struct" href="structcomponent.html">component</a>.components ) ) {</div>
<div class="line"><a id="l09704" name="l09704"></a><span class="lineno"> 9704</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09705" name="l09705"></a><span class="lineno"> 9705</span>                }</div>
<div class="line"><a id="l09706" name="l09706"></a><span class="lineno"> 9706</span>            }</div>
<div class="line"><a id="l09707" name="l09707"></a><span class="lineno"> 9707</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09708" name="l09708"></a><span class="lineno"> 9708</span>        };</div>
<div class="line"><a id="l09709" name="l09709"></a><span class="lineno"> 9709</span>        <span class="keywordflow">switch</span>( cname.<a class="code hl_variable" href="structconditional__name.html#ac51a78e5f1662317a41ec1d63b903ece">type</a> ) {</div>
<div class="line"><a id="l09710" name="l09710"></a><span class="lineno"> 9710</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="itype_8h.html#afc401f615ea14e8e1ee24cf7068b7716a391ad3dbcf1f6d5c27590a7e511a1667">condition_type::FLAG</a>:</div>
<div class="line"><a id="l09711" name="l09711"></a><span class="lineno"> 9711</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( cname.<a class="code hl_variable" href="structconditional__name.html#a7f83a54f817bcd052f2a474d2d0c37a5">condition</a> ) ) {</div>
<div class="line"><a id="l09712" name="l09712"></a><span class="lineno"> 9712</span>                    ret_name = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( cname.<a class="code hl_variable" href="structconditional__name.html#aae6859a6f0c56830765ae70546da4eda">name</a>.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>( quantity ), ret_name );</div>
<div class="line"><a id="l09713" name="l09713"></a><span class="lineno"> 9713</span>                }</div>
<div class="line"><a id="l09714" name="l09714"></a><span class="lineno"> 9714</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l09715" name="l09715"></a><span class="lineno"> 9715</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="itype_8h.html#afc401f615ea14e8e1ee24cf7068b7716a0232b08080d33dfe8f01eb0b16c09492">condition_type::COMPONENT_ID</a>:</div>
<div class="line"><a id="l09716" name="l09716"></a><span class="lineno"> 9716</span>                <span class="keywordflow">if</span>( component_id_contains( <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) ) {</div>
<div class="line"><a id="l09717" name="l09717"></a><span class="lineno"> 9717</span>                    ret_name = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( cname.<a class="code hl_variable" href="structconditional__name.html#aae6859a6f0c56830765ae70546da4eda">name</a>.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>( quantity ), ret_name );</div>
<div class="line"><a id="l09718" name="l09718"></a><span class="lineno"> 9718</span>                }</div>
<div class="line"><a id="l09719" name="l09719"></a><span class="lineno"> 9719</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l09720" name="l09720"></a><span class="lineno"> 9720</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="itype_8h.html#afc401f615ea14e8e1ee24cf7068b7716aa76e4df6fe28cbd3f3c95e56f20637a5">condition_type::num_condition_types</a>:</div>
<div class="line"><a id="l09721" name="l09721"></a><span class="lineno"> 9721</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l09722" name="l09722"></a><span class="lineno"> 9722</span>        }</div>
<div class="line"><a id="l09723" name="l09723"></a><span class="lineno"> 9723</span>    }</div>
<div class="line"><a id="l09724" name="l09724"></a><span class="lineno"> 9724</span> </div>
<div class="line"><a id="l09725" name="l09725"></a><span class="lineno"> 9725</span>    <span class="comment">// Identify who this corpse belonged to, if applicable.</span></div>
<div class="line"><a id="l09726" name="l09726"></a><span class="lineno"> 9726</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE</a> ) ) {</div>
<div class="line"><a id="l09727" name="l09727"></a><span class="lineno"> 9727</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ae6e0d727dd759f898591df93162b8614">corpse_name</a>.empty() ) {</div>
<div class="line"><a id="l09728" name="l09728"></a><span class="lineno"> 9728</span>            <span class="comment">//~ %1$s: name of corpse with modifiers;  %2$s: species name</span></div>
<div class="line"><a id="l09729" name="l09729"></a><span class="lineno"> 9729</span>            ret_name = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;corpse ownership qualifier&quot;</span>, <span class="stringliteral">&quot;%1$s of a %2$s&quot;</span> ),</div>
<div class="line"><a id="l09730" name="l09730"></a><span class="lineno"> 9730</span>                                      ret_name, <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>() );</div>
<div class="line"><a id="l09731" name="l09731"></a><span class="lineno"> 9731</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09732" name="l09732"></a><span class="lineno"> 9732</span>            <span class="comment">//~ %1$s: name of corpse with modifiers;  %2$s: proper name;  %3$s: species name</span></div>
<div class="line"><a id="l09733" name="l09733"></a><span class="lineno"> 9733</span>            ret_name = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;corpse ownership qualifier&quot;</span>, <span class="stringliteral">&quot;%1$s of %2$s, %3$s&quot;</span> ),</div>
<div class="line"><a id="l09734" name="l09734"></a><span class="lineno"> 9734</span>                                      ret_name, <a class="code hl_variable" href="classitem.html#ae6e0d727dd759f898591df93162b8614">corpse_name</a>, <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>() );</div>
<div class="line"><a id="l09735" name="l09735"></a><span class="lineno"> 9735</span>        }</div>
<div class="line"><a id="l09736" name="l09736"></a><span class="lineno"> 9736</span>    }</div>
<div class="line"><a id="l09737" name="l09737"></a><span class="lineno"> 9737</span> </div>
<div class="line"><a id="l09738" name="l09738"></a><span class="lineno"> 9738</span>    <span class="keywordflow">return</span> ret_name;</div>
<div class="line"><a id="l09739" name="l09739"></a><span class="lineno"> 9739</span>}</div>
<div class="ttc" id="aitype_8h_html_afc401f615ea14e8e1ee24cf7068b7716a0232b08080d33dfe8f01eb0b16c09492"><div class="ttname"><a href="itype_8h.html#afc401f615ea14e8e1ee24cf7068b7716a0232b08080d33dfe8f01eb0b16c09492">COMPONENT_ID</a></div><div class="ttdeci">@ COMPONENT_ID</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00809">itype.h:809</a></div></div>
<div class="ttc" id="aitype_8h_html_afc401f615ea14e8e1ee24cf7068b7716a391ad3dbcf1f6d5c27590a7e511a1667"><div class="ttname"><a href="itype_8h.html#afc401f615ea14e8e1ee24cf7068b7716a391ad3dbcf1f6d5c27590a7e511a1667">FLAG</a></div><div class="ttdeci">@ FLAG</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00808">itype.h:808</a></div></div>
<div class="ttc" id="aitype_8h_html_afc401f615ea14e8e1ee24cf7068b7716aa76e4df6fe28cbd3f3c95e56f20637a5"><div class="ttname"><a href="itype_8h.html#afc401f615ea14e8e1ee24cf7068b7716aa76e4df6fe28cbd3f3c95e56f20637a5">num_condition_types</a></div><div class="ttdeci">@ num_condition_types</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00811">itype.h:810</a></div></div>
<div class="ttc" id="astructconditional__name_html"><div class="ttname"><a href="structconditional__name.html">conditional_name</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00819">itype.h:819</a></div></div>
<div class="ttc" id="astructconditional__name_html_a7f83a54f817bcd052f2a474d2d0c37a5"><div class="ttname"><a href="structconditional__name.html#a7f83a54f817bcd052f2a474d2d0c37a5">conditional_name::condition</a></div><div class="ttdeci">std::string condition</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00823">itype.h:823</a></div></div>
<div class="ttc" id="astructconditional__name_html_aae6859a6f0c56830765ae70546da4eda"><div class="ttname"><a href="structconditional__name.html#aae6859a6f0c56830765ae70546da4eda">conditional_name::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00826">itype.h:826</a></div></div>
<div class="ttc" id="astructconditional__name_html_ac51a78e5f1662317a41ec1d63b903ece"><div class="ttname"><a href="structconditional__name.html#ac51a78e5f1662317a41ec1d63b903ece">conditional_name::type</a></div><div class="ttdeci">condition_type type</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00821">itype.h:821</a></div></div>
<div class="ttc" id="astructitype_html_acaa924a27717e1a4f5fa3fb17a84383c"><div class="ttname"><a href="structitype.html#acaa924a27717e1a4f5fa3fb17a84383c">itype::conditional_names</a></div><div class="ttdeci">std::vector&lt; conditional_name &gt; conditional_names</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00918">itype.h:918</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00809">COMPONENT_ID</a>, <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="itype_8h_source.html#l00823">conditional_name::condition</a>, <a class="el" href="itype_8h_source.html#l00918">itype::conditional_names</a>, <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8h_source.html#l02169">corpse_name</a>, <a class="el" href="itype_8h_source.html#l00808">FLAG</a>, <a class="el" href="item_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="mtype_8h_source.html#l00240">mtype::id</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="item_8h_source.html#l02167">item_vars</a>, <a class="el" href="item_8cpp.html#a8de56f93319e34c27cd5c62dd4fa4e72">itype_blood</a>, <a class="el" href="itype_8h_source.html#l00826">conditional_name::name</a>, <a class="el" href="itype_8cpp_source.html#l00046">itype::nname()</a>, <a class="el" href="mtype_8cpp_source.html#l00065">mtype::nname()</a>, <a class="el" href="itype_8h_source.html#l00810">num_condition_types</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="translations_8cpp_source.html#l00309">translation::translated()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="itype_8h_source.html#l00821">conditional_name::type</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, and <a class="el" href="translations_8cpp_source.html#l00046">vpgettext()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01293">advanced_inventory::action_examine()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01566">game_menus::inv::compare()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, <a class="el" href="player_8cpp_source.html#l01916">player::drink_from_hands()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01086">talk_function::field_harvest()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="npc_8cpp_source.html#l00894">npc::finish_read()</a>, <a class="el" href="npctrade_8cpp_source.html#l00474">trading_window::get_var_trade()</a>, <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, <a class="el" href="character_8cpp_source.html#l09301">Character::is_snuggling()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01763">inscribe_actor::item_inscription()</a>, <a class="el" href="item_8cpp_source.html#l09779">label()</a>, <a class="el" href="game_8cpp_source.html#l07526">game::list_items()</a>, <a class="el" href="character_8cpp_source.html#l06448">Character::pour_into()</a>, <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02858">bandolier_actor::reload()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01443">game_menus::inv::repair()</a>, <a class="el" href="npctrade_8cpp_source.html#l00407">trading_window::show_item_data()</a>, <a class="el" href="avatar_8cpp_source.html#l00652">skim_book_msg()</a>, <a class="el" href="suffer_8cpp_source.html#l00429">Character::suffer_from_schizophrenia()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00788">consume_drug_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01019">place_monster_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02914">bandolier_actor::use()</a>, and <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>.</p>

</div>
</div>
<a id="aa79dad64e1ef6347219be2f8666e2752" name="aa79dad64e1ef6347219be2f8666e2752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79dad64e1ef6347219be2f8666e2752">&#9670;&nbsp;</a></span>typeId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp; item::typeId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the unique identifier of the items underlying type </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08196">8196</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08197" name="l08197"></a><span class="lineno"> 8197</span>{</div>
<div class="line"><a id="l08198" name="l08198"></a><span class="lineno"> 8198</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>() : <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">itype_id::NULL_ID</a>();</div>
<div class="line"><a id="l08199" name="l08199"></a><span class="lineno"> 8199</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l01070">itype::get_id()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; itype &gt;::NULL_ID()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="computer__session_8cpp_source.html#l00744">computer_session::action_blood_anal()</a>, <a class="el" href="computer__session_8cpp_source.html#l00789">computer_session::action_data_anal()</a>, <a class="el" href="game_8cpp_source.html#l08386">add_disassemblables()</a>, <a class="el" href="inventory_8cpp_source.html#l00337">inventory::add_item_by_items_type_cache()</a>, <a class="el" href="map_8cpp_source.html#l04228">map::add_item_or_charges()</a>, <a class="el" href="weather_8cpp_source.html#l00211">add_rain_to_container()</a>, <a class="el" href="npctrade_8cpp_source.html#l00232">item_pricing::adjust_values()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00211">vehicle_part::ammo_current()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="visitable_8cpp_source.html#l01032">amount_of_internal()</a>, <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>, <a class="el" href="inventory_8cpp_source.html#l01141">inventory::assign_empty_invlet()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="iuse_8cpp_source.html#l05982">iuse::bell()</a>, <a class="el" href="monattack_8cpp_source.html#l05099">mattack::bio_op_takedown()</a>, <a class="el" href="player_8cpp_source.html#l03659">player::book_fun_for()</a>, <a class="el" href="item_8cpp_source.html#l02839">book_info()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="character_8cpp_source.html#l01901">Character::can_fuel_bionic_with()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00331">vehicle_part::can_reload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02848">bandolier_actor::can_store()</a>, <a class="el" href="mutation_8cpp_source.html#l00424">Character::can_use_heal_item()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="player_8cpp_source.html#l02491">player::can_wield()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="item_8cpp_source.html#l03343">combat_info()</a>, <a class="el" href="consumption_8cpp_source.html#l00417">Character::compute_nutrient_range()</a>, <a class="el" href="consumption_8cpp_source.html#l00184">prepared_item_consumption::consume()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00302">vehicle_part::consume_energy()</a>, <a class="el" href="character_8h_source.html#l00243">consumption_event::consumption_event()</a>, <a class="el" href="monattack_8cpp_source.html#l03712">mattack::copbot()</a>, <a class="el" href="map__field_8cpp_source.html#l00096">map::create_burnproducts()</a>, <a class="el" href="bionics_8cpp_source.html#l01064">Character::deactivate_bionic()</a>, <a class="el" href="iuse_8cpp_source.html#l02131">iuse::directional_antenna()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="item_8cpp_source.html#l03113">disassembly_info()</a>, <a class="el" href="character_8cpp_source.html#l01237">Character::dismount()</a>, <a class="el" href="iuse_8cpp_source.html#l04239">iuse::dive_tank()</a>, <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, <a class="el" href="npcmove_8cpp_source.html#l04547">npc::do_reload()</a>, <a class="el" href="iexamine_8cpp_source.html#l00609">anonymous_namespace{iexamine.cpp}::atm_menu::do_transfer_all_money()</a>, <a class="el" href="editmap_8cpp_source.html#l00503">editmap::draw_main_ui_overlay()</a>, <a class="el" href="iuse_8cpp_source.html#l00594">iuse::ecig()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="explosion_8cpp_source.html#l00908">explosion_handler::emp_blast()</a>, <a class="el" href="computer__session_8cpp_source.html#l01400">computer_session::failure_destroy_blood()</a>, <a class="el" href="computer__session_8cpp_source.html#l01425">computer_session::failure_destroy_data()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02274">farm_valid_seed()</a>, <a class="el" href="consumption_8cpp_source.html#l01294">Character::feed_reactor_with()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01977">fetch_activity()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01086">talk_function::field_harvest()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00993">talk_function::field_plant()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="iexamine_8cpp_source.html#l02856">iexamine::fireplace()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="consumption_8cpp_source.html#l01396">Character::fuel_bionic_with()</a>, <a class="el" href="consumption_8cpp_source.html#l00464">Character::fun_for()</a>, <a class="el" href="player_8cpp_source.html#l03645">player::fun_to_read()</a>, <a class="el" href="iexamine_8cpp_source.html#l02953">iexamine::fvat_empty()</a>, <a class="el" href="iuse_8cpp_source.html#l03382">iuse::geiger()</a>, <a class="el" href="npctalk_8cpp_source.html#l03153">json_talk_topic::gen_responses()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02808">generic_multi_activity_do()</a>, <a class="el" href="consumption_8cpp_source.html#l01445">Character::get_acquirable_energy()</a>, <a class="el" href="inventory_8cpp_source.html#l01263">inventory::get_binned_items()</a>, <a class="el" href="character_8cpp_source.html#l01917">Character::get_bionic_fueled_with()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01052">read_inventory_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01840">bionic_install_preset::get_failure_chance()</a>, <a class="el" href="character_8cpp_source.html#l03262">Character::get_overlay_ids()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00483">disassemble_inventory_preset::get_recipe()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="profession_8cpp_source.html#l00667">json_item_substitution::get_substitution()</a>, <a class="el" href="item_8cpp_source.html#l09884">get_uncraft_components()</a>, <a class="el" href="npctalk_8cpp_source.html#l03328">give_item_to()</a>, <a class="el" href="monattack_8cpp_source.html#l02649">mattack::grab()</a>, <a class="el" href="iuse_8cpp_source.html#l03569">iuse::granade_act()</a>, <a class="el" href="character_8cpp_source.html#l02542">Character::has_active_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00920">inventory::has_enough_painkiller()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="character_8cpp_source.html#l02274">Character::i_add_to_container()</a>, <a class="el" href="monster_8cpp_source.html#l02758">monster::init_from_item()</a>, <a class="el" href="iuse_8cpp_source.html#l06131">init_memory_card_with_random_stuff()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00357">advanced_inv_area::is_container_valid()</a>, <a class="el" href="item_8cpp_source.html#l06773">is_funnel_container()</a>, <a class="el" href="item_8cpp_source.html#l07602">is_gunmod_compatible()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01190">read_inventory_preset::is_known()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="martialarts_8cpp_source.html#l00438">ma_requirements::is_valid_character()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="character_8cpp_source.html#l07553">Character::item_handling_cost()</a>, <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>, <a class="el" href="player_8cpp_source.html#l02389">player::list_ammo()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00251">aim_activity_actor::load_RAS_weapon()</a>, <a class="el" href="iuse_8cpp_source.html#l04725">iuse::lumber()</a>, <a class="el" href="iuse_8cpp_source.html#l01395">iuse::marloss()</a>, <a class="el" href="iuse_8cpp_source.html#l01424">iuse::marloss_gel()</a>, <a class="el" href="iuse_8cpp_source.html#l01407">iuse::marloss_seed()</a>, <a class="el" href="savegame__json_8cpp_source.html#l02119">to_cbc_migration::migration_required()</a>, <a class="el" href="iuse_8cpp_source.html#l04673">iuse::mind_splicer()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01656">advanced_inventory::move_content()</a>, <a class="el" href="iuse_8cpp_source.html#l04104">iuse::mp3()</a>, <a class="el" href="iuse_8cpp_source.html#l04190">iuse::mp3_on()</a>, <a class="el" href="item__stack_8cpp_source.html#l00083">item_stack::only_item()</a>, <a class="el" href="iuse_8cpp_source.html#l02035">iuse::pack_cbm()</a>, <a class="el" href="iuse_8cpp_source.html#l02066">iuse::pack_item()</a>, <a class="el" href="iexamine_8cpp_source.html#l01634">iexamine::pedestal_temple()</a>, <a class="el" href="iexamine_8cpp_source.html#l01598">iexamine::pedestal_wyrm()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00949">peek_related_recipe()</a>, <a class="el" href="computer__session_8cpp_source.html#l00229">pick_usb()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00845">avatar_action::plthrow()</a>, <a class="el" href="iexamine_8cpp_source.html#l03353">iexamine::pour_into_keg()</a>, <a class="el" href="item_8cpp_source.html#l09105">process_extinguish()</a>, <a class="el" href="item_8cpp_source.html#l09031">process_litcig()</a>, <a class="el" href="player_8cpp_source.html#l03305">player::rate_action_disassemble()</a>, <a class="el" href="avatar_8cpp_source.html#l00933">avatar::rate_action_read()</a>, <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>, <a class="el" href="player_8cpp_source.html#l03401">player::reassign_item()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03234">repair_item_actor::repair_recipe_difficulty()</a>, <a class="el" href="monattack_8cpp_source.html#l04634">mattack::riotbot()</a>, <a class="el" href="iuse_8cpp_source.html#l01980">iuse::rm13armor_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02002">iuse::rm13armor_on()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00337">advanced_inv_area::set_container()</a>, <a class="el" href="npctalk_8cpp_source.html#l02143">talk_effect_fun_t::set_remove_item_with()</a>, <a class="el" href="morale_8cpp_source.html#l01000">player_morale::set_worn()</a>, <a class="el" href="iuse_8cpp_source.html#l00527">iuse::smoking()</a>, <a class="el" href="iuse_8cpp_source.html#l04287">iuse::solarpack()</a>, <a class="el" href="iuse_8cpp_source.html#l04316">iuse::solarpack_off()</a>, <a class="el" href="suffer_8cpp_source.html#l01222">Character::suffer_from_bad_bionics()</a>, <a class="el" href="iuse_8cpp_source.html#l05819">iuse::talking_doll()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="iuse_8cpp_source.html#l05936">iuse::toolmod_attach()</a>, <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>, <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>, <a class="el" href="iuse_8cpp_source.html#l05571">iuse::towel_common()</a>, <a class="el" href="npctrade_8cpp_source.html#l00044">npc_trading::transfer_items()</a>, <a class="el" href="iexamine_8cpp_source.html#l03485">iexamine::tree_maple_tapped()</a>, <a class="el" href="item_8cpp_source.html#l09678">type_name()</a>, <a class="el" href="iuse_8cpp_source.html#l02022">iuse::unpack_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00252">inventory::update_cache_with_item()</a>, <a class="el" href="inventory_8cpp_source.html#l01207">inventory::update_invlet()</a>, <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00633">unfold_vehicle_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02325">musical_instrument_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00388">unpack_actor::use()</a>, <a class="el" href="item_8cpp_source.html#l08364">use_amount_internal()</a>, <a class="el" href="map_8cpp_source.html#l04816">map::use_amount_square()</a>, <a class="el" href="character_8cpp_source.html#l09631">Character::use_charges()</a>, <a class="el" href="map_8cpp_source.html#l04934">map::use_charges()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01606">vehicle::use_washing_machine()</a>, <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00040">vehicle_part::vehicle_part()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="iuse_8cpp_source.html#l02093">iuse::water_purifier()</a>, <a class="el" href="martialarts_8cpp_source.html#l00844">martialart::weapon_valid()</a>, <a class="el" href="character_8cpp_source.html#l02170">Character::wear_item()</a>, <a class="el" href="iuse_8cpp_source.html#l09191">iuse::weather_tool()</a>, <a class="el" href="avatar_8cpp_source.html#l01226">avatar::wield()</a>, <a class="el" href="player_8cpp_source.html#l04203">player::wield_contents()</a>, and <a class="el" href="item_8cpp_source.html#l06630">wind_resist()</a>.</p>

</div>
</div>
<a id="aa36fa768f1f7579a92b2bdd07bda4d27" name="aa36fa768f1f7579a92b2bdd07bda4d27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36fa768f1f7579a92b2bdd07bda4d27">&#9670;&nbsp;</a></span>units_remaining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::units_remaining </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em> = <code>INT_MAX</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many units (ammo or charges) are remaining? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>character responsible for invoking the item </td></tr>
    <tr><td class="paramname">limit</td><td>stop searching after this many units found </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>also checks availability of UPS charges if applicable </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07830">7830</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07831" name="l07831"></a><span class="lineno"> 7831</span>{</div>
<div class="line"><a id="l07832" name="l07832"></a><span class="lineno"> 7832</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l07833" name="l07833"></a><span class="lineno"> 7833</span>        <span class="keywordflow">return</span> std::min( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ), limit );</div>
<div class="line"><a id="l07834" name="l07834"></a><span class="lineno"> 7834</span>    }</div>
<div class="line"><a id="l07835" name="l07835"></a><span class="lineno"> 7835</span> </div>
<div class="line"><a id="l07836" name="l07836"></a><span class="lineno"> 7836</span>    <span class="keywordtype">int</span> res = <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>();</div>
<div class="line"><a id="l07837" name="l07837"></a><span class="lineno"> 7837</span>    <span class="keywordflow">if</span>( res &lt; limit &amp;&amp; <a class="code hl_function" href="classitem.html#a82e0833373b0141aec30768dfc349bbe">is_power_armor</a>() ) {</div>
<div class="line"><a id="l07838" name="l07838"></a><span class="lineno"> 7838</span>        <span class="keywordflow">if</span>( ch.<a class="code hl_function" href="classCreature.html#acb1d0a1210d3dd4c86350f3ad4c58649">as_player</a>()-&gt;<a class="code hl_function" href="classplayer.html#ae96b5036f9c88020817edc70c6906d6c">can_interface_armor</a>() &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS</a> ) ) {</div>
<div class="line"><a id="l07839" name="l07839"></a><span class="lineno"> 7839</span>            res += std::max( ch.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( <a class="code hl_variable" href="item_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a>, limit - res ), ch.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( <a class="code hl_variable" href="item_8cpp.html#ad916af6bc9e59c6670f75f4a8a905f46">itype_bio_armor</a>,</div>
<div class="line"><a id="l07840" name="l07840"></a><span class="lineno"> 7840</span>                             limit - res ) );</div>
<div class="line"><a id="l07841" name="l07841"></a><span class="lineno"> 7841</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ch.<a class="code hl_function" href="classCreature.html#acb1d0a1210d3dd4c86350f3ad4c58649">as_player</a>()-&gt;<a class="code hl_function" href="classplayer.html#ae96b5036f9c88020817edc70c6906d6c">can_interface_armor</a>() ) {</div>
<div class="line"><a id="l07842" name="l07842"></a><span class="lineno"> 7842</span>            res += ch.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( <a class="code hl_variable" href="item_8cpp.html#ad916af6bc9e59c6670f75f4a8a905f46">itype_bio_armor</a>, limit - res );</div>
<div class="line"><a id="l07843" name="l07843"></a><span class="lineno"> 7843</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07844" name="l07844"></a><span class="lineno"> 7844</span>            res += ch.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( <a class="code hl_variable" href="item_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a>, limit - res );</div>
<div class="line"><a id="l07845" name="l07845"></a><span class="lineno"> 7845</span>        }</div>
<div class="line"><a id="l07846" name="l07846"></a><span class="lineno"> 7846</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( res &lt; limit &amp;&amp; <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS</a> ) ) {</div>
<div class="line"><a id="l07847" name="l07847"></a><span class="lineno"> 7847</span>        res += ch.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( <a class="code hl_variable" href="item_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a>, limit - res );</div>
<div class="line"><a id="l07848" name="l07848"></a><span class="lineno"> 7848</span>    }</div>
<div class="line"><a id="l07849" name="l07849"></a><span class="lineno"> 7849</span> </div>
<div class="line"><a id="l07850" name="l07850"></a><span class="lineno"> 7850</span>    <span class="keywordflow">return</span> std::min( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( res ), limit );</div>
<div class="line"><a id="l07851" name="l07851"></a><span class="lineno"> 7851</span>}</div>
<div class="ttc" id="aclassvisitable_html_a517e20b6f6c13b8316d5cce8e310b871"><div class="ttname"><a href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">visitable::charges_of</a></div><div class="ttdeci">int charges_of(const itype_id &amp;what, int limit=INT_MAX, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, std::function&lt; void(int)&gt; visitor=nullptr) const</div><div class="ttdoc">Count maximum available charges from this instance and any contained items.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00943">visitable.cpp:943</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="creature_8h_source.html#l00122">Creature::as_player()</a>, <a class="el" href="player_8cpp_source.html#l01901">player::can_interface_armor()</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="visitable_8cpp_source.html#l00943">visitable&lt; T &gt;::charges_of()</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8cpp.html#a621b1b54a8fa92c5d21f1b94aa6a0a68">flag_USE_UPS()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="item_8cpp_source.html#l05636">is_power_armor()</a>, <a class="el" href="item_8cpp.html#ad916af6bc9e59c6670f75f4a8a905f46">itype_bio_armor</a>, and <a class="el" href="item_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l04370">iuse::portable_game()</a>, <a class="el" href="item_8cpp_source.html#l07853">units_sufficient()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00914">set_transform_iuse::use()</a>.</p>

</div>
</div>
<a id="a634d3c1aa2ea065c17af5cabb51b318e" name="a634d3c1aa2ea065c17af5cabb51b318e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a634d3c1aa2ea065c17af5cabb51b318e">&#9670;&nbsp;</a></span>units_sufficient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::units_sufficient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if item has sufficient units (ammo or charges) remaining. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td><a class="el" href="classCharacter.html">Character</a> to check (used if ammo is UPS charges) </td></tr>
    <tr><td class="paramname">qty</td><td>units required, if unspecified use item default </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l07853">7853</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07854" name="l07854"></a><span class="lineno"> 7854</span>{</div>
<div class="line"><a id="l07855" name="l07855"></a><span class="lineno"> 7855</span>    <span class="keywordflow">if</span>( qty &lt; 0 ) {</div>
<div class="line"><a id="l07856" name="l07856"></a><span class="lineno"> 7856</span>        qty = <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ? 1 : <a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>();</div>
<div class="line"><a id="l07857" name="l07857"></a><span class="lineno"> 7857</span>    }</div>
<div class="line"><a id="l07858" name="l07858"></a><span class="lineno"> 7858</span> </div>
<div class="line"><a id="l07859" name="l07859"></a><span class="lineno"> 7859</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#aa36fa768f1f7579a92b2bdd07bda4d27">units_remaining</a>( ch, qty ) == qty;</div>
<div class="line"><a id="l07860" name="l07860"></a><span class="lineno"> 7860</span>}</div>
<div class="ttc" id="aclassitem_html_aa36fa768f1f7579a92b2bdd07bda4d27"><div class="ttname"><a href="classitem.html#aa36fa768f1f7579a92b2bdd07bda4d27">item::units_remaining</a></div><div class="ttdeci">int units_remaining(const Character &amp;ch, int limit=INT_MAX) const</div><div class="ttdoc">How many units (ammo or charges) are remaining?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07830">item.cpp:7830</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07296">ammo_required()</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, and <a class="el" href="item_8cpp_source.html#l07830">units_remaining()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01969">cauterize_actor::can_use()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="iuse_8cpp_source.html#l04104">iuse::mp3()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="iuse_8cpp_source.html#l02252">iuse::noise_emitter_off()</a>, <a class="el" href="iuse_8cpp_source.html#l05761">iuse::radglove()</a>, <a class="el" href="iuse_8cpp_source.html#l02120">iuse::radio_off()</a>, <a class="el" href="iuse_8cpp_source.html#l08067">iuse::radiocontrol()</a>, <a class="el" href="iuse_8cpp_source.html#l08258">iuse::remoteveh()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l06021">iuse::robotcontrol()</a>, <a class="el" href="iuse_8cpp_source.html#l04053">iuse::shocktonfa_off()</a>, <a class="el" href="iuse_8cpp_source.html#l04077">iuse::shocktonfa_on()</a>, <a class="el" href="iuse_8cpp_source.html#l05819">iuse::talking_doll()</a>, <a class="el" href="iuse_8cpp_source.html#l03969">iuse::tazer()</a>, <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>, <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>, <a class="el" href="iuse_8cpp_source.html#l04500">iuse::vibe()</a>, and <a class="el" href="iuse_8cpp_source.html#l02093">iuse::water_purifier()</a>.</p>

</div>
</div>
<a id="ab03f3d257e8d9c5789aca61a1fa8c741" name="ab03f3d257e8d9c5789aca61a1fa8c741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab03f3d257e8d9c5789aca61a1fa8c741">&#9670;&nbsp;</a></span>unset_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item::unset_flag </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Idempotent filter removing an item specific flag. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05227">5227</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05228" name="l05228"></a><span class="lineno"> 5228</span>{</div>
<div class="line"><a id="l05229" name="l05229"></a><span class="lineno"> 5229</span>    <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>.<a class="code hl_function" href="classcata_1_1flat__set.html#a3d7ed3af629c15825cafc9b5a48bda3b">erase</a>( flag );</div>
<div class="line"><a id="l05230" name="l05230"></a><span class="lineno"> 5230</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l05231" name="l05231"></a><span class="lineno"> 5231</span>}</div>
<div class="ttc" id="aclasscata_1_1flat__set_html_a3d7ed3af629c15825cafc9b5a48bda3b"><div class="ttname"><a href="classcata_1_1flat__set.html#a3d7ed3af629c15825cafc9b5a48bda3b">cata::flat_set::erase</a></div><div class="ttdeci">size_type erase(const value_type &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00183">flat_set.h:183</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flat__set_8h_source.html#l00183">cata::flat_set&lt; T, Compare, Data &gt;::erase()</a>, and <a class="el" href="item_8h_source.html#l02163">item_tags</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="explosion_8cpp_source.html#l00908">explosion_handler::emp_blast()</a>, <a class="el" href="crafting_8cpp_source.html#l00972">inherit_flags()</a>, <a class="el" href="item_8cpp_source.html#l00461">item()</a>, <a class="el" href="item_8cpp_source.html#l09289">process_wet()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00067">vehicle_part::properties_to_item()</a>, <a class="el" href="iuse_8cpp_source.html#l00414">remove_radio_mod()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="aa4529b4c18a10ffd5a1f111536ad879b" name="aa4529b4c18a10ffd5a1f111536ad879b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4529b4c18a10ffd5a1f111536ad879b">&#9670;&nbsp;</a></span>unset_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::unset_flags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes all item specific flags. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l05177">5177</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05178" name="l05178"></a><span class="lineno"> 5178</span>{</div>
<div class="line"><a id="l05179" name="l05179"></a><span class="lineno"> 5179</span>    <a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>.clear();</div>
<div class="line"><a id="l05180" name="l05180"></a><span class="lineno"> 5180</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02163">item_tags</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l07494">iuse::camera()</a>, <a class="el" href="iuse_8cpp_source.html#l06206">einkpc_download_memory_card()</a>, and <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>.</p>

</div>
</div>
<a id="adbfe451148cddb54b8b4443bf85fe670" name="adbfe451148cddb54b8b4443bf85fe670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbfe451148cddb54b8b4443bf85fe670">&#9670;&nbsp;</a></span>update_clothing_mod_val()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::update_clothing_mod_val </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l09977">9977</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09978" name="l09978"></a><span class="lineno"> 9978</span>{</div>
<div class="line"><a id="l09979" name="l09979"></a><span class="lineno"> 9979</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_enumeration" href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152">clothing_mod_type</a> &amp;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> : <a class="code hl_variable" href="namespaceclothing__mods.html#aec1b637295ff2f661b88d4c77692e176">clothing_mods::all_clothing_mod_types</a> ) {</div>
<div class="line"><a id="l09980" name="l09980"></a><span class="lineno"> 9980</span>        <span class="keyword">const</span> std::string key = <a class="code hl_function" href="item_8cpp.html#aab0054280289e72ae8b8d9f062e20e47">CLOTHING_MOD_VAR_PREFIX</a> + <a class="code hl_function" href="namespaceclothing__mods.html#a5bf63dd4b0368188aa71cfa230cfa989">clothing_mods::string_from_clothing_mod_type</a>(</div>
<div class="line"><a id="l09981" name="l09981"></a><span class="lineno"> 9981</span>                                    <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l09982" name="l09982"></a><span class="lineno"> 9982</span>        <span class="keywordtype">float</span> tmp = 0.0;</div>
<div class="line"><a id="l09983" name="l09983"></a><span class="lineno"> 9983</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structclothing__mod.html">clothing_mod</a> &amp;cm : <a class="code hl_function" href="namespaceclothing__mods.html#a8f2f25d2cd5b92e4ab3f62cfd98d7c6e">clothing_mods::get_all_with</a>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> ) ) {</div>
<div class="line"><a id="l09984" name="l09984"></a><span class="lineno"> 9984</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a>( cm.flag ) ) {</div>
<div class="line"><a id="l09985" name="l09985"></a><span class="lineno"> 9985</span>                tmp += cm.get_mod_val( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l09986" name="l09986"></a><span class="lineno"> 9986</span>            }</div>
<div class="line"><a id="l09987" name="l09987"></a><span class="lineno"> 9987</span>        }</div>
<div class="line"><a id="l09988" name="l09988"></a><span class="lineno"> 9988</span>        <a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( key, tmp );</div>
<div class="line"><a id="l09989" name="l09989"></a><span class="lineno"> 9989</span>    }</div>
<div class="line"><a id="l09990" name="l09990"></a><span class="lineno"> 9990</span>}</div>
<div class="ttc" id="aclothing__mod_8h_html_ab129387d97c2c7f0393c210d21df0152"><div class="ttname"><a href="clothing__mod_8h.html#ab129387d97c2c7f0393c210d21df0152">clothing_mod_type</a></div><div class="ttdeci">clothing_mod_type</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00016">clothing_mod.h:16</a></div></div>
<div class="ttc" id="anamespaceclothing__mods_html_a8f2f25d2cd5b92e4ab3f62cfd98d7c6e"><div class="ttname"><a href="namespaceclothing__mods.html#a8f2f25d2cd5b92e4ab3f62cfd98d7c6e">clothing_mods::get_all_with</a></div><div class="ttdeci">const std::vector&lt; clothing_mod &gt; &amp; get_all_with(clothing_mod_type type)</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8cpp_source.html#l00150">clothing_mod.cpp:150</a></div></div>
<div class="ttc" id="anamespaceclothing__mods_html_aec1b637295ff2f661b88d4c77692e176"><div class="ttname"><a href="namespaceclothing__mods.html#aec1b637295ff2f661b88d4c77692e176">clothing_mods::all_clothing_mod_types</a></div><div class="ttdeci">constexpr std::array&lt; clothing_mod_type, 9 &gt; all_clothing_mod_types</div><div class="ttdef"><b>Definition:</b> <a href="clothing__mod_8h_source.html#l00063">clothing_mod.h:63</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="clothing__mod_8h_source.html#l00063">clothing_mods::all_clothing_mod_types</a>, <a class="el" href="item_8cpp.html#aab0054280289e72ae8b8d9f062e20e47">CLOTHING_MOD_VAR_PREFIX()</a>, <a class="el" href="clothing__mod_8cpp_source.html#l00150">clothing_mods::get_all_with()</a>, <a class="el" href="item_8cpp_source.html#l05187">has_own_flag()</a>, <a class="el" href="item_8cpp_source.html#l00992">set_var()</a>, <a class="el" href="clothing__mod_8cpp_source.html#l00168">clothing_mods::string_from_clothing_mod_type()</a>, and <a class="el" href="item_8h_source.html#l02156">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="adc87bb1fb833c2beced16a2800c8215a" name="adc87bb1fb833c2beced16a2800c8215a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc87bb1fb833c2beced16a2800c8215a">&#9670;&nbsp;</a></span>use_amount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::use_amount </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Consume a specific amount of items of a specific type. </p>
<p >This includes this item, and any of its contents (recursively). </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classitem.html#aa295a2b0ae6729a556f5383fd8386025" title="Consumes specified charges (or fewer) from this and any contained items.">item::use_charges</a> - this is similar for items, not <a class="el" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>Type of consumable item. </td></tr>
    <tr><td class="paramname">quantity</td><td>How much to consumed. </td></tr>
    <tr><td class="paramname">used</td><td>On success all consumed items will be stored here. </td></tr>
    <tr><td class="paramname">filter</td><td>Must return true for use to occur. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08334">8334</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08336" name="l08336"></a><span class="lineno"> 8336</span>{</div>
<div class="line"><a id="l08337" name="l08337"></a><span class="lineno"> 8337</span>    <span class="comment">// Remember quantity so that we can unseal self</span></div>
<div class="line"><a id="l08338" name="l08338"></a><span class="lineno"> 8338</span>    <span class="keywordtype">int</span> old_quantity = quantity;</div>
<div class="line"><a id="l08339" name="l08339"></a><span class="lineno"> 8339</span>    std::vector&lt;item *&gt; removed_items;</div>
<div class="line"><a id="l08340" name="l08340"></a><span class="lineno"> 8340</span>    <span class="comment">// First, check contents</span></div>
<div class="line"><a id="l08341" name="l08341"></a><span class="lineno"> 8341</span>    <a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>(</div>
<div class="line"><a id="l08342" name="l08342"></a><span class="lineno"> 8342</span>    [&amp;]( <a class="code hl_class" href="classitem.html">item</a> * <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> ) {</div>
<div class="line"><a id="l08343" name="l08343"></a><span class="lineno"> 8343</span>        <span class="comment">// visit_items checks the item itself first. we want to do its contents first.</span></div>
<div class="line"><a id="l08344" name="l08344"></a><span class="lineno"> 8344</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> == <span class="keyword">this</span> ) {</div>
<div class="line"><a id="l08345" name="l08345"></a><span class="lineno"> 8345</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l08346" name="l08346"></a><span class="lineno"> 8346</span>        }</div>
<div class="line"><a id="l08347" name="l08347"></a><span class="lineno"> 8347</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;use_amount_internal( it, quantity, used, filter ) ) {</div>
<div class="line"><a id="l08348" name="l08348"></a><span class="lineno"> 8348</span>            removed_items.emplace_back( a );</div>
<div class="line"><a id="l08349" name="l08349"></a><span class="lineno"> 8349</span>            return VisitResponse::SKIP;</div>
<div class="line"><a id="l08350" name="l08350"></a><span class="lineno"> 8350</span>        }</div>
<div class="line"><a id="l08351" name="l08351"></a><span class="lineno"> 8351</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l08352" name="l08352"></a><span class="lineno"> 8352</span>    } );</div>
<div class="line"><a id="l08353" name="l08353"></a><span class="lineno"> 8353</span> </div>
<div class="line"><a id="l08354" name="l08354"></a><span class="lineno"> 8354</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *remove : removed_items ) {</div>
<div class="line"><a id="l08355" name="l08355"></a><span class="lineno"> 8355</span>        <a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *remove );</div>
<div class="line"><a id="l08356" name="l08356"></a><span class="lineno"> 8356</span>    }</div>
<div class="line"><a id="l08357" name="l08357"></a><span class="lineno"> 8357</span> </div>
<div class="line"><a id="l08358" name="l08358"></a><span class="lineno"> 8358</span>    <span class="keywordflow">if</span>( quantity != old_quantity ) {</div>
<div class="line"><a id="l08359" name="l08359"></a><span class="lineno"> 8359</span>        <a class="code hl_function" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a id="l08360" name="l08360"></a><span class="lineno"> 8360</span>    }</div>
<div class="line"><a id="l08361" name="l08361"></a><span class="lineno"> 8361</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a50e4b0dafdccaf9006cb1b4c36f70c8a">use_amount_internal</a>( it, quantity, used, filter );</div>
<div class="line"><a id="l08362" name="l08362"></a><span class="lineno"> 8362</span>}</div>
<div class="ttc" id="aclassitem_html_a50e4b0dafdccaf9006cb1b4c36f70c8a"><div class="ttname"><a href="classitem.html#a50e4b0dafdccaf9006cb1b4c36f70c8a">item::use_amount_internal</a></div><div class="ttdeci">bool use_amount_internal(const itype_id &amp;it, int &amp;quantity, std::list&lt; item &gt; &amp;used, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08364">item.cpp:8364</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01029">magic.cpp:1029</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01029">a</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="item_8cpp_source.html#l04424">on_contents_changed()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; item &gt;::remove_item()</a>, <a class="el" href="item_8cpp_source.html#l08364">use_amount_internal()</a>, and <a class="el" href="visitable_8cpp_source.html#l00423">visitable&lt; item &gt;::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l09599">Character::use_amount()</a>.</p>

</div>
</div>
<a id="a50e4b0dafdccaf9006cb1b4c36f70c8a" name="a50e4b0dafdccaf9006cb1b4c36f70c8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50e4b0dafdccaf9006cb1b4c36f70c8a">&#9670;&nbsp;</a></span>use_amount_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item::use_amount_internal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08364">8364</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08366" name="l08366"></a><span class="lineno"> 8366</span>{</div>
<div class="line"><a id="l08367" name="l08367"></a><span class="lineno"> 8367</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == it &amp;&amp; quantity &gt; 0 &amp;&amp; filter( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l08368" name="l08368"></a><span class="lineno"> 8368</span>        used.push_back( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l08369" name="l08369"></a><span class="lineno"> 8369</span>        quantity--;</div>
<div class="line"><a id="l08370" name="l08370"></a><span class="lineno"> 8370</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08371" name="l08371"></a><span class="lineno"> 8371</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08372" name="l08372"></a><span class="lineno"> 8372</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08373" name="l08373"></a><span class="lineno"> 8373</span>    }</div>
<div class="line"><a id="l08374" name="l08374"></a><span class="lineno"> 8374</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08334">use_amount()</a>.</p>

</div>
</div>
<a id="aa295a2b0ae6729a556f5383fd8386025" name="aa295a2b0ae6729a556f5383fd8386025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa295a2b0ae6729a556f5383fd8386025">&#9670;&nbsp;</a></span>use_charges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::use_charges </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Consumes specified charges (or fewer) from this and any contained items. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">what</td><td>specific type of charge required, e.g. 'battery' </td></tr>
    <tr><td class="paramname">qty</td><td>maximum charges to consume. On return set to number of charges not found (or zero) </td></tr>
    <tr><td class="paramname">used</td><td>filled with duplicates of each item that provided consumed charges </td></tr>
    <tr><td class="paramname">pos</td><td>position at which the charges are being consumed </td></tr>
    <tr><td class="paramname">filter</td><td>Must return true for use to occur. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if this item should be deleted (count-by-charges items with no remaining charges) </dd></dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08454">8454</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08456" name="l08456"></a><span class="lineno"> 8456</span>{</div>
<div class="line"><a id="l08457" name="l08457"></a><span class="lineno"> 8457</span>    std::vector&lt;item *&gt; del;</div>
<div class="line"><a id="l08458" name="l08458"></a><span class="lineno"> 8458</span> </div>
<div class="line"><a id="l08459" name="l08459"></a><span class="lineno"> 8459</span>    <a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>( [&amp;what, &amp;qty, &amp;used, &amp;pos, &amp;del, &amp;filter]( <a class="code hl_class" href="classitem.html">item</a> * e, <a class="code hl_class" href="classitem.html">item</a> * parent ) {</div>
<div class="line"><a id="l08460" name="l08460"></a><span class="lineno"> 8460</span>        <span class="keywordflow">if</span>( qty == 0 ) {</div>
<div class="line"><a id="l08461" name="l08461"></a><span class="lineno"> 8461</span>            <span class="comment">// found sufficient charges</span></div>
<div class="line"><a id="l08462" name="l08462"></a><span class="lineno"> 8462</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da8d12a2ca7e5a64036d7251a3eda51a38">VisitResponse::ABORT</a>;</div>
<div class="line"><a id="l08463" name="l08463"></a><span class="lineno"> 8463</span>        }</div>
<div class="line"><a id="l08464" name="l08464"></a><span class="lineno"> 8464</span> </div>
<div class="line"><a id="l08465" name="l08465"></a><span class="lineno"> 8465</span>        <span class="keywordflow">if</span>( !filter( *e ) ) {</div>
<div class="line"><a id="l08466" name="l08466"></a><span class="lineno"> 8466</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l08467" name="l08467"></a><span class="lineno"> 8467</span>        }</div>
<div class="line"><a id="l08468" name="l08468"></a><span class="lineno"> 8468</span> </div>
<div class="line"><a id="l08469" name="l08469"></a><span class="lineno"> 8469</span>        <span class="keywordflow">if</span>( e-&gt;<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l08470" name="l08470"></a><span class="lineno"> 8470</span>            if( e-&gt;typeId() == what ) {</div>
<div class="line"><a id="l08471" name="l08471"></a><span class="lineno"> 8471</span>                int n = std::min( e-&gt;ammo_remaining(), qty );</div>
<div class="line"><a id="l08472" name="l08472"></a><span class="lineno"> 8472</span>                qty -= n;</div>
<div class="line"><a id="l08473" name="l08473"></a><span class="lineno"> 8473</span> </div>
<div class="line"><a id="l08474" name="l08474"></a><span class="lineno"> 8474</span>                used.push_back( item( *e ).ammo_set( e-&gt;ammo_current(), n ) );</div>
<div class="line"><a id="l08475" name="l08475"></a><span class="lineno"> 8475</span>                e-&gt;ammo_consume( n, pos );</div>
<div class="line"><a id="l08476" name="l08476"></a><span class="lineno"> 8476</span>            }</div>
<div class="line"><a id="l08477" name="l08477"></a><span class="lineno"> 8477</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613dab85df04e922fe1dd3c1f0692faeaacef">VisitResponse::SKIP</a>;</div>
<div class="line"><a id="l08478" name="l08478"></a><span class="lineno"> 8478</span> </div>
<div class="line"><a id="l08479" name="l08479"></a><span class="lineno"> 8479</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e-&gt;<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l08480" name="l08480"></a><span class="lineno"> 8480</span>            if( e-&gt;typeId() == what ) {</div>
<div class="line"><a id="l08481" name="l08481"></a><span class="lineno"> 8481</span> </div>
<div class="line"><a id="l08482" name="l08482"></a><span class="lineno"> 8482</span>                <span class="comment">// if can supply excess charges split required off leaving remainder in-situ</span></div>
<div class="line"><a id="l08483" name="l08483"></a><span class="lineno"> 8483</span>                item obj = e-&gt;split( qty );</div>
<div class="line"><a id="l08484" name="l08484"></a><span class="lineno"> 8484</span>                if( parent ) {</div>
<div class="line"><a id="l08485" name="l08485"></a><span class="lineno"> 8485</span>                    parent-&gt;on_contents_changed();</div>
<div class="line"><a id="l08486" name="l08486"></a><span class="lineno"> 8486</span>                }</div>
<div class="line"><a id="l08487" name="l08487"></a><span class="lineno"> 8487</span>                if( !obj.is_null() ) {</div>
<div class="line"><a id="l08488" name="l08488"></a><span class="lineno"> 8488</span>                    used.push_back( obj );</div>
<div class="line"><a id="l08489" name="l08489"></a><span class="lineno"> 8489</span>                    qty = 0;</div>
<div class="line"><a id="l08490" name="l08490"></a><span class="lineno"> 8490</span>                    return VisitResponse::ABORT;</div>
<div class="line"><a id="l08491" name="l08491"></a><span class="lineno"> 8491</span>                }</div>
<div class="line"><a id="l08492" name="l08492"></a><span class="lineno"> 8492</span> </div>
<div class="line"><a id="l08493" name="l08493"></a><span class="lineno"> 8493</span>                qty -= e-&gt;charges;</div>
<div class="line"><a id="l08494" name="l08494"></a><span class="lineno"> 8494</span>                used.push_back( *e );</div>
<div class="line"><a id="l08495" name="l08495"></a><span class="lineno"> 8495</span>                del.push_back( e );</div>
<div class="line"><a id="l08496" name="l08496"></a><span class="lineno"> 8496</span>            }</div>
<div class="line"><a id="l08497" name="l08497"></a><span class="lineno"> 8497</span>            <span class="comment">// items counted by charges are not themselves expected to be containers</span></div>
<div class="line"><a id="l08498" name="l08498"></a><span class="lineno"> 8498</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613dab85df04e922fe1dd3c1f0692faeaacef">VisitResponse::SKIP</a>;</div>
<div class="line"><a id="l08499" name="l08499"></a><span class="lineno"> 8499</span>        }</div>
<div class="line"><a id="l08500" name="l08500"></a><span class="lineno"> 8500</span> </div>
<div class="line"><a id="l08501" name="l08501"></a><span class="lineno"> 8501</span>        <span class="comment">// recurse through any nested containers</span></div>
<div class="line"><a id="l08502" name="l08502"></a><span class="lineno"> 8502</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l08503" name="l08503"></a><span class="lineno"> 8503</span>    } );</div>
<div class="line"><a id="l08504" name="l08504"></a><span class="lineno"> 8504</span> </div>
<div class="line"><a id="l08505" name="l08505"></a><span class="lineno"> 8505</span>    <span class="keywordtype">bool</span> destroy = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08506" name="l08506"></a><span class="lineno"> 8506</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *e : del ) {</div>
<div class="line"><a id="l08507" name="l08507"></a><span class="lineno"> 8507</span>        <span class="keywordflow">if</span>( e == <span class="keyword">this</span> ) {</div>
<div class="line"><a id="l08508" name="l08508"></a><span class="lineno"> 8508</span>            destroy = <span class="keyword">true</span>; <span class="comment">// cannot remove ourselves...</span></div>
<div class="line"><a id="l08509" name="l08509"></a><span class="lineno"> 8509</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08510" name="l08510"></a><span class="lineno"> 8510</span>            <a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *e );</div>
<div class="line"><a id="l08511" name="l08511"></a><span class="lineno"> 8511</span>        }</div>
<div class="line"><a id="l08512" name="l08512"></a><span class="lineno"> 8512</span>    }</div>
<div class="line"><a id="l08513" name="l08513"></a><span class="lineno"> 8513</span> </div>
<div class="line"><a id="l08514" name="l08514"></a><span class="lineno"> 8514</span>    <span class="keywordflow">return</span> destroy;</div>
<div class="line"><a id="l08515" name="l08515"></a><span class="lineno"> 8515</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da8d12a2ca7e5a64036d7251a3eda51a38">ABORT</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613dab85df04e922fe1dd3c1f0692faeaacef">SKIP</a>, and <a class="el" href="visitable_8cpp_source.html#l00423">visitable&lt; item &gt;::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l09631">Character::use_charges()</a>, and <a class="el" href="map_8cpp_source.html#l04868">use_charges_from_furn()</a>.</p>

</div>
</div>
<a id="a381a3d667caa4c26c8961fd08f3c5a7f" name="a381a3d667caa4c26c8961fd08f3c5a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a381a3d667caa4c26c8961fd08f3c5a7f">&#9670;&nbsp;</a></span>validate_ownership()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item::validate_ownership </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l01296">1296</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>{</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a155a45ada3eb970d006b701a50026c27">old_owner</a>.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;get( <a class="code hl_variable" href="classitem.html#a155a45ada3eb970d006b701a50026c27">old_owner</a>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>        <a class="code hl_function" href="classitem.html#a3c8e850e9700f46d933b86dc4ef3aa2b">remove_old_owner</a>();</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>    }</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a>.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;get( <a class="code hl_variable" href="classitem.html#a9f4a009afa1b3adbe1136f0cb65c43ac">owner</a>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>        <a class="code hl_function" href="classitem.html#a41b668b8e4cd352077e032d4e152f365">remove_owner</a>();</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>    }</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>}</div>
<div class="ttc" id="aclassitem_html_a3c8e850e9700f46d933b86dc4ef3aa2b"><div class="ttname"><a href="classitem.html#a3c8e850e9700f46d933b86dc4ef3aa2b">item::remove_old_owner</a></div><div class="ttdeci">void remove_old_owner() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02020">item.h:2020</a></div></div>
<div class="ttc" id="aclassitem_html_a41b668b8e4cd352077e032d4e152f365"><div class="ttname"><a href="classitem.html#a41b668b8e4cd352077e032d4e152f365">item::remove_owner</a></div><div class="ttdeci">void remove_owner() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02027">item.h:2027</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="item_8h_source.html#l02227">old_owner</a>, <a class="el" href="item_8h_source.html#l02225">owner</a>, <a class="el" href="item_8h_source.html#l02020">remove_old_owner()</a>, and <a class="el" href="item_8h_source.html#l02027">remove_owner()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01290">get_old_owner()</a>, and <a class="el" href="item_8cpp_source.html#l01284">get_owner()</a>.</p>

</div>
</div>
<a id="a51eafbdf8b331d88b741c0c527f98eb9" name="a51eafbdf8b331d88b741c0c527f98eb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51eafbdf8b331d88b741c0c527f98eb9">&#9670;&nbsp;</a></span>volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> item::volume </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>integral</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to next nearest milliliter when working with stackable (<a class="el" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>) items that have fractional volume per charge. </p>
<p >If trying to determine how many of an item can fit in a given space, <a class="el" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a> should be used instead. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">integral</td><td>if true return effective volume if this item was integrated into another </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04991">4991</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04992" name="l04992"></a><span class="lineno"> 4992</span>{</div>
<div class="line"><a id="l04993" name="l04993"></a><span class="lineno"> 4993</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l04994" name="l04994"></a><span class="lineno"> 4994</span>        <span class="keywordflow">return</span> 0_ml;</div>
<div class="line"><a id="l04995" name="l04995"></a><span class="lineno"> 4995</span>    }</div>
<div class="line"><a id="l04996" name="l04996"></a><span class="lineno"> 4996</span> </div>
<div class="line"><a id="l04997" name="l04997"></a><span class="lineno"> 4997</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a id="l04998" name="l04998"></a><span class="lineno"> 4998</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a6f2be68fcb884d25e7bbd41d98b625b3">corpse_volume</a>( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> );</div>
<div class="line"><a id="l04999" name="l04999"></a><span class="lineno"> 4999</span>    }</div>
<div class="line"><a id="l05000" name="l05000"></a><span class="lineno"> 5000</span> </div>
<div class="line"><a id="l05001" name="l05001"></a><span class="lineno"> 5001</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l05002" name="l05002"></a><span class="lineno"> 5002</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0_ml;</div>
<div class="line"><a id="l05003" name="l05003"></a><span class="lineno"> 5003</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it : <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l05004" name="l05004"></a><span class="lineno"> 5004</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += it.volume();</div>
<div class="line"><a id="l05005" name="l05005"></a><span class="lineno"> 5005</span>        }</div>
<div class="line"><a id="l05006" name="l05006"></a><span class="lineno"> 5006</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l05007" name="l05007"></a><span class="lineno"> 5007</span>    }</div>
<div class="line"><a id="l05008" name="l05008"></a><span class="lineno"> 5008</span> </div>
<div class="line"><a id="l05009" name="l05009"></a><span class="lineno"> 5009</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> local_volume = <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;volume&quot;</span>, -1 );</div>
<div class="line"><a id="l05010" name="l05010"></a><span class="lineno"> 5010</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l05011" name="l05011"></a><span class="lineno"> 5011</span>    <span class="keywordflow">if</span>( local_volume &gt;= 0 ) {</div>
<div class="line"><a id="l05012" name="l05012"></a><span class="lineno"> 5012</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = local_volume * <a class="code hl_variable" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a>;</div>
<div class="line"><a id="l05013" name="l05013"></a><span class="lineno"> 5013</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( integral ) {</div>
<div class="line"><a id="l05014" name="l05014"></a><span class="lineno"> 5014</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aa5c0438c1bc94ded4e950ad684463a72">integral_volume</a>;</div>
<div class="line"><a id="l05015" name="l05015"></a><span class="lineno"> 5015</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05016" name="l05016"></a><span class="lineno"> 5016</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a>;</div>
<div class="line"><a id="l05017" name="l05017"></a><span class="lineno"> 5017</span>    }</div>
<div class="line"><a id="l05018" name="l05018"></a><span class="lineno"> 5018</span> </div>
<div class="line"><a id="l05019" name="l05019"></a><span class="lineno"> 5019</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() || <a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l05020" name="l05020"></a><span class="lineno"> 5020</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::quantity&lt;int64_t, units::volume_in_milliliter_tag&gt;</a> <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a> = <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> * <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span></div>
<div class="line"><a id="l05021" name="l05021"></a><span class="lineno"> 5021</span>                ( <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l05022" name="l05022"></a><span class="lineno"> 5022</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> &lt;= 0 ) {</div>
<div class="line"><a id="l05023" name="l05023"></a><span class="lineno"> 5023</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Item type %s has invalid stack_size %d&quot;</span>, <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().str(), <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> );</div>
<div class="line"><a id="l05024" name="l05024"></a><span class="lineno"> 5024</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a>;</div>
<div class="line"><a id="l05025" name="l05025"></a><span class="lineno"> 5025</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05026" name="l05026"></a><span class="lineno"> 5026</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a> / <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a>;</div>
<div class="line"><a id="l05027" name="l05027"></a><span class="lineno"> 5027</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a> % <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> != 0_ml ) {</div>
<div class="line"><a id="l05028" name="l05028"></a><span class="lineno"> 5028</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += 1_ml;</div>
<div class="line"><a id="l05029" name="l05029"></a><span class="lineno"> 5029</span>            }</div>
<div class="line"><a id="l05030" name="l05030"></a><span class="lineno"> 5030</span>        }</div>
<div class="line"><a id="l05031" name="l05031"></a><span class="lineno"> 5031</span>    }</div>
<div class="line"><a id="l05032" name="l05032"></a><span class="lineno"> 5032</span> </div>
<div class="line"><a id="l05033" name="l05033"></a><span class="lineno"> 5033</span>    <span class="comment">// Non-rigid items add the volume of the content</span></div>
<div class="line"><a id="l05034" name="l05034"></a><span class="lineno"> 5034</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a14fcae616635cf3a66644e0d473a3622">rigid</a> ) {</div>
<div class="line"><a id="l05035" name="l05035"></a><span class="lineno"> 5035</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a78b244617d790aa60293b82f356a491b">item_size_modifier</a>();</div>
<div class="line"><a id="l05036" name="l05036"></a><span class="lineno"> 5036</span>    }</div>
<div class="line"><a id="l05037" name="l05037"></a><span class="lineno"> 5037</span> </div>
<div class="line"><a id="l05038" name="l05038"></a><span class="lineno"> 5038</span>    <span class="comment">// Some magazines sit (partly) flush with the item so add less extra volume</span></div>
<div class="line"><a id="l05039" name="l05039"></a><span class="lineno"> 5039</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05040" name="l05040"></a><span class="lineno"> 5040</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += std::max( <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>()-&gt;<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() - <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a6e7d1eba2b391233d8da29ccde919fde">magazine_well</a>, 0_ml );</div>
<div class="line"><a id="l05041" name="l05041"></a><span class="lineno"> 5041</span>    }</div>
<div class="line"><a id="l05042" name="l05042"></a><span class="lineno"> 5042</span> </div>
<div class="line"><a id="l05043" name="l05043"></a><span class="lineno"> 5043</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l05044" name="l05044"></a><span class="lineno"> 5044</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *elem : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l05045" name="l05045"></a><span class="lineno"> 5045</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += elem-&gt;volume( <span class="keyword">true</span> );</div>
<div class="line"><a id="l05046" name="l05046"></a><span class="lineno"> 5046</span>        }</div>
<div class="line"><a id="l05047" name="l05047"></a><span class="lineno"> 5047</span> </div>
<div class="line"><a id="l05048" name="l05048"></a><span class="lineno"> 5048</span>        <span class="comment">// TODO: implement stock_length property for guns</span></div>
<div class="line"><a id="l05049" name="l05049"></a><span class="lineno"> 5049</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a87eb4d2d8c49a4b889b5617a9243e616">flag_COLLAPSIBLE_STOCK</a> ) ) {</div>
<div class="line"><a id="l05050" name="l05050"></a><span class="lineno"> 5050</span>            <span class="comment">// consider only the base size of the gun (without mods)</span></div>
<div class="line"><a id="l05051" name="l05051"></a><span class="lineno"> 5051</span>            <span class="keywordtype">int</span> tmpvol = <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;volume&quot;</span>,</div>
<div class="line"><a id="l05052" name="l05052"></a><span class="lineno"> 5052</span>                                  ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> - <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;barrel_length ) / <a class="code hl_variable" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a> );</div>
<div class="line"><a id="l05053" name="l05053"></a><span class="lineno"> 5053</span>            <span class="keywordflow">if</span>( tmpvol &lt;= 3 ) {</div>
<div class="line"><a id="l05054" name="l05054"></a><span class="lineno"> 5054</span>                <span class="comment">// intentional NOP</span></div>
<div class="line"><a id="l05055" name="l05055"></a><span class="lineno"> 5055</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tmpvol &lt;= 5 ) {</div>
<div class="line"><a id="l05056" name="l05056"></a><span class="lineno"> 5056</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= 250_ml;</div>
<div class="line"><a id="l05057" name="l05057"></a><span class="lineno"> 5057</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tmpvol &lt;= 6 ) {</div>
<div class="line"><a id="l05058" name="l05058"></a><span class="lineno"> 5058</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= 500_ml;</div>
<div class="line"><a id="l05059" name="l05059"></a><span class="lineno"> 5059</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tmpvol &lt;= 9 ) {</div>
<div class="line"><a id="l05060" name="l05060"></a><span class="lineno"> 5060</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= 750_ml;</div>
<div class="line"><a id="l05061" name="l05061"></a><span class="lineno"> 5061</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tmpvol &lt;= 12 ) {</div>
<div class="line"><a id="l05062" name="l05062"></a><span class="lineno"> 5062</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= 1000_ml;</div>
<div class="line"><a id="l05063" name="l05063"></a><span class="lineno"> 5063</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tmpvol &lt;= 15 ) {</div>
<div class="line"><a id="l05064" name="l05064"></a><span class="lineno"> 5064</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= 1250_ml;</div>
<div class="line"><a id="l05065" name="l05065"></a><span class="lineno"> 5065</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05066" name="l05066"></a><span class="lineno"> 5066</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= 1500_ml;</div>
<div class="line"><a id="l05067" name="l05067"></a><span class="lineno"> 5067</span>            }</div>
<div class="line"><a id="l05068" name="l05068"></a><span class="lineno"> 5068</span>        }</div>
<div class="line"><a id="l05069" name="l05069"></a><span class="lineno"> 5069</span> </div>
<div class="line"><a id="l05070" name="l05070"></a><span class="lineno"> 5070</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a26ffce6c038cc9d398103dcd296275bd">gunmod_find</a>( <a class="code hl_variable" href="item_8cpp.html#acb5ce12112db1c8cd3b69158b97000d4">itype_barrel_small</a> ) ) {</div>
<div class="line"><a id="l05071" name="l05071"></a><span class="lineno"> 5071</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;barrel_length;</div>
<div class="line"><a id="l05072" name="l05072"></a><span class="lineno"> 5072</span>        }</div>
<div class="line"><a id="l05073" name="l05073"></a><span class="lineno"> 5073</span>    }</div>
<div class="line"><a id="l05074" name="l05074"></a><span class="lineno"> 5074</span> </div>
<div class="line"><a id="l05075" name="l05075"></a><span class="lineno"> 5075</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l05076" name="l05076"></a><span class="lineno"> 5076</span>}</div>
<div class="ttc" id="adependency__tree_8h_html_a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c"><div class="ttname"><a href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">node_error_type::num</a></div><div class="ttdeci">@ num</div></div>
<div class="ttc" id="aitem_8cpp_html_a87eb4d2d8c49a4b889b5617a9243e616"><div class="ttname"><a href="item_8cpp.html#a87eb4d2d8c49a4b889b5617a9243e616">flag_COLLAPSIBLE_STOCK</a></div><div class="ttdeci">static const std::string flag_COLLAPSIBLE_STOCK(&quot;COLLAPSIBLE_STOCK&quot;)</div></div>
<div class="ttc" id="astructitype_html_a6e7d1eba2b391233d8da29ccde919fde"><div class="ttname"><a href="structitype.html#a6e7d1eba2b391233d8da29ccde919fde">itype::magazine_well</a></div><div class="ttdeci">units::volume magazine_well</div><div class="ttdoc">Volume above which the magazine starts to protrude from the item and add extra volume.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01026">itype.h:1026</a></div></div>
<div class="ttc" id="astructitype_html_aa5c0438c1bc94ded4e950ad684463a72"><div class="ttname"><a href="structitype.html#aa5c0438c1bc94ded4e950ad684463a72">itype::integral_volume</a></div><div class="ttdeci">units::volume integral_volume</div><div class="ttdoc">Space consumed when integrated as part of another item (defaults to volume) CAUTION: value given is f...</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00979">itype.h:979</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp_source.html#l04941">corpse_volume()</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp.html#a87eb4d2d8c49a4b889b5617a9243e616">flag_COLLAPSIBLE_STOCK()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07588">gunmod_find()</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="itype_8h_source.html#l00979">itype::integral_volume</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="item__contents_8cpp_source.html#l00210">item_contents::item_size_modifier()</a>, <a class="el" href="item_8cpp.html#acb5ce12112db1c8cd3b69158b97000d4">itype_barrel_small</a>, <a class="el" href="units__volume_8h_source.html#l00050">units::legacy_volume_factor</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="itype_8h_source.html#l01026">itype::magazine_well</a>, <a class="el" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="itype_8h_source.html#l00991">itype::rigid</a>, <a class="el" href="itype_8h_source.html#l00982">itype::stack_size</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="itype_8h_source.html#l00974">itype::volume</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l02112">activity_on_turn_move_loot()</a>, <a class="el" href="map_8cpp_source.html#l04228">map::add_item_or_charges()</a>, <a class="el" href="character_8cpp_source.html#l00637">Character::aim_cap_from_volume()</a>, <a class="el" href="item_8cpp_source.html#l05084">attack_cost()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02648">holster_actor::can_holster()</a>, <a class="el" href="item_8cpp_source.html#l00861">charges_per_volume()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00502">comestible_inventory_preset::comestible_inventory_preset()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00302">vehicle_part::consume_energy()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01638">salvage_actor::cut_up()</a>, <a class="el" href="character_8cpp_source.html#l08437">Character::deal_damage()</a>, <a class="el" href="npcmove_8cpp_source.html#l03120">npc::drop_items()</a>, <a class="el" href="ballistics_8cpp_source.html#l00060">drop_or_embed_projectile()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01977">fetch_activity()</a>, <a class="el" href="iexamine_8cpp_source.html#l02953">iexamine::fvat_empty()</a>, <a class="el" href="consumption_8cpp_source.html#l01445">Character::get_acquirable_energy()</a>, <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>, <a class="el" href="ranged_8cpp_source.html#l01881">player::get_weapon_dispersion()</a>, <a class="el" href="monexamine_8cpp_source.html#l00633">monexamine::give_items_to()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">player::gun_value()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03104">repair_item_actor::handle_components()</a>, <a class="el" href="character_8cpp_source.html#l07553">Character::item_handling_cost()</a>, <a class="el" href="mondeath_8cpp_source.html#l00739">mdeath::jabberwock()</a>, <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>, <a class="el" href="melee_8cpp_source.html#l01764">Character::melee_special_effects()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00860">move_cost_cart()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00828">move_cost_inv()</a>, <a class="el" href="iexamine_8cpp_source.html#l00291">iexamine::nanofab()</a>, <a class="el" href="npcmove_8cpp_source.html#l03053">npc_pickup_from_stack()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00584">pickup::obtain_and_tokenize_items()</a>, <a class="el" href="player_8cpp_source.html#l00930">player::on_dodge()</a>, <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01380">vehicle::operate_scoop()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="pickup_8cpp_source.html#l00571">pickup::pick_up()</a>, <a class="el" href="iexamine_8cpp_source.html#l03353">iexamine::pour_into_keg()</a>, <a class="el" href="character_8cpp_source.html#l09938">Character::power_rating()</a>, <a class="el" href="item_8cpp_source.html#l08961">process_corpse()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="item_8cpp_source.html#l05815">ready_to_revive()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00452">pickup::reorder_for_dropping()</a>, <a class="el" href="npctrade_8cpp_source.html#l00214">item_pricing::set_values()</a>, <a class="el" href="npc_8cpp_source.html#l01662">npc::shop_restock()</a>, <a class="el" href="handle__action_8cpp_source.html#l00671">smash()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02665">holster_actor::store()</a>, <a class="el" href="npc_8cpp_source.html#l01109">npc::stow_item()</a>, <a class="el" href="melee_8cpp_source.html#l00683">stumble()</a>, <a class="el" href="player_8cpp_source.html#l02977">player::takeoff()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>, <a class="el" href="character_8cpp_source.html#l06249">Character::throw_range()</a>, <a class="el" href="ranged_8cpp_source.html#l01061">ranged::throwing_dispersion()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01559">salvage_actor::time_to_cut_up()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01589">salvage_actor::try_to_cut_up()</a>, <a class="el" href="character_8cpp_source.html#l05166">Character::update_bodytemp()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01565">salvage_actor::valid_to_cut_up()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="inventory_8cpp_source.html#l01061">inventory::volume_without()</a>, and <a class="el" href="iuse_8cpp_source.html#l09542">wash_items()</a>.</p>

</div>
</div>
<a id="a3157f01f1da6fe89bdbc87db2605afb9" name="a3157f01f1da6fe89bdbc87db2605afb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3157f01f1da6fe89bdbc87db2605afb9">&#9670;&nbsp;</a></span>weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> item::weight </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_contents</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>integral</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l04844">4844</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04845" name="l04845"></a><span class="lineno"> 4845</span>{</div>
<div class="line"><a id="l04846" name="l04846"></a><span class="lineno"> 4846</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l04847" name="l04847"></a><span class="lineno"> 4847</span>        <span class="keywordflow">return</span> 0_gram;</div>
<div class="line"><a id="l04848" name="l04848"></a><span class="lineno"> 4848</span>    }</div>
<div class="line"><a id="l04849" name="l04849"></a><span class="lineno"> 4849</span> </div>
<div class="line"><a id="l04850" name="l04850"></a><span class="lineno"> 4850</span>    <span class="comment">// Items that don&#39;t drop aren&#39;t really there, they&#39;re items just for ease of implementation</span></div>
<div class="line"><a id="l04851" name="l04851"></a><span class="lineno"> 4851</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a589497944bf6766e791e676ad8f85b08">flag_NO_DROP</a> ) ) {</div>
<div class="line"><a id="l04852" name="l04852"></a><span class="lineno"> 4852</span>        <span class="keywordflow">return</span> 0_gram;</div>
<div class="line"><a id="l04853" name="l04853"></a><span class="lineno"> 4853</span>    }</div>
<div class="line"><a id="l04854" name="l04854"></a><span class="lineno"> 4854</span> </div>
<div class="line"><a id="l04855" name="l04855"></a><span class="lineno"> 4855</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l04856" name="l04856"></a><span class="lineno"> 4856</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0_gram;</div>
<div class="line"><a id="l04857" name="l04857"></a><span class="lineno"> 4857</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it : <a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l04858" name="l04858"></a><span class="lineno"> 4858</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += it.weight();</div>
<div class="line"><a id="l04859" name="l04859"></a><span class="lineno"> 4859</span>        }</div>
<div class="line"><a id="l04860" name="l04860"></a><span class="lineno"> 4860</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l04861" name="l04861"></a><span class="lineno"> 4861</span>    }</div>
<div class="line"><a id="l04862" name="l04862"></a><span class="lineno"> 4862</span> </div>
<div class="line"><a id="l04863" name="l04863"></a><span class="lineno"> 4863</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l04864" name="l04864"></a><span class="lineno"> 4864</span>    std::string local_str_mass = integral ? <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;integral_weight&quot;</span> ) : <a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;weight&quot;</span> );</div>
<div class="line"><a id="l04865" name="l04865"></a><span class="lineno"> 4865</span>    <span class="keywordflow">if</span>( local_str_mass.empty() ) {</div>
<div class="line"><a id="l04866" name="l04866"></a><span class="lineno"> 4866</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = integral ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a5699c972f1a284761d3b0e1501fe8185">integral_weight</a> : <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">weight</a>;</div>
<div class="line"><a id="l04867" name="l04867"></a><span class="lineno"> 4867</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04868" name="l04868"></a><span class="lineno"> 4868</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="namespaceunits.html#ac7ad4ab505c7819e0a4bb3ce9f338691">units::from_milligram</a>( std::stoll( local_str_mass ) );</div>
<div class="line"><a id="l04869" name="l04869"></a><span class="lineno"> 4869</span>    }</div>
<div class="line"><a id="l04870" name="l04870"></a><span class="lineno"> 4870</span> </div>
<div class="line"><a id="l04871" name="l04871"></a><span class="lineno"> 4871</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#acfaa88c2d6c363f5997c3364bab144a1">flag_REDUCED_WEIGHT</a> ) ) {</div>
<div class="line"><a id="l04872" name="l04872"></a><span class="lineno"> 4872</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> *= 0.75;</div>
<div class="line"><a id="l04873" name="l04873"></a><span class="lineno"> 4873</span>    }</div>
<div class="line"><a id="l04874" name="l04874"></a><span class="lineno"> 4874</span> </div>
<div class="line"><a id="l04875" name="l04875"></a><span class="lineno"> 4875</span>    <span class="comment">// if this is a gun apply all of its gunmods&#39; weight multipliers</span></div>
<div class="line"><a id="l04876" name="l04876"></a><span class="lineno"> 4876</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> ) {</div>
<div class="line"><a id="l04877" name="l04877"></a><span class="lineno"> 4877</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l04878" name="l04878"></a><span class="lineno"> 4878</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> *= <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;weight_multiplier;</div>
<div class="line"><a id="l04879" name="l04879"></a><span class="lineno"> 4879</span>        }</div>
<div class="line"><a id="l04880" name="l04880"></a><span class="lineno"> 4880</span>    }</div>
<div class="line"><a id="l04881" name="l04881"></a><span class="lineno"> 4881</span> </div>
<div class="line"><a id="l04882" name="l04882"></a><span class="lineno"> 4882</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l04883" name="l04883"></a><span class="lineno"> 4883</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> *= <a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l04884" name="l04884"></a><span class="lineno"> 4884</span> </div>
<div class="line"><a id="l04885" name="l04885"></a><span class="lineno"> 4885</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() ) {</div>
<div class="line"><a id="l04886" name="l04886"></a><span class="lineno"> 4886</span>        assert( <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a> ); <span class="comment">// To appease static analysis</span></div>
<div class="line"><a id="l04887" name="l04887"></a><span class="lineno"> 4887</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_variable" href="classitem.html#aa097a63b84424c4d19dd1e5581e4711d">corpse</a>-&gt;<a class="code hl_variable" href="structmtype.html#a71161bb5851b4c48f32f3ebaf35b9b1d">weight</a>;</div>
<div class="line"><a id="l04888" name="l04888"></a><span class="lineno"> 4888</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS</a> ) || <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED</a> ) ) {</div>
<div class="line"><a id="l04889" name="l04889"></a><span class="lineno"> 4889</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> *= 0.75;</div>
<div class="line"><a id="l04890" name="l04890"></a><span class="lineno"> 4890</span>        }</div>
<div class="line"><a id="l04891" name="l04891"></a><span class="lineno"> 4891</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED</a> ) ) {</div>
<div class="line"><a id="l04892" name="l04892"></a><span class="lineno"> 4892</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> /= 4;</div>
<div class="line"><a id="l04893" name="l04893"></a><span class="lineno"> 4893</span>        }</div>
<div class="line"><a id="l04894" name="l04894"></a><span class="lineno"> 4894</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a6dd10563bf4bc543c31f1282afabaf0f">flag_GIBBED</a> ) ) {</div>
<div class="line"><a id="l04895" name="l04895"></a><span class="lineno"> 4895</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> *= 0.85;</div>
<div class="line"><a id="l04896" name="l04896"></a><span class="lineno"> 4896</span>        }</div>
<div class="line"><a id="l04897" name="l04897"></a><span class="lineno"> 4897</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="item_8cpp.html#a1d7ac4becfeaaa64b846aa3570298b85">flag_SKINNED</a> ) ) {</div>
<div class="line"><a id="l04898" name="l04898"></a><span class="lineno"> 4898</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> *= 0.85;</div>
<div class="line"><a id="l04899" name="l04899"></a><span class="lineno"> 4899</span>        }</div>
<div class="line"><a id="l04900" name="l04900"></a><span class="lineno"> 4900</span> </div>
<div class="line"><a id="l04901" name="l04901"></a><span class="lineno"> 4901</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() &amp;&amp; !<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l04902" name="l04902"></a><span class="lineno"> 4902</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="item_8cpp.html#ae0a6efc65dd587028e5fbf37af06bdfc">itype_plut_cell</a> ) {</div>
<div class="line"><a id="l04903" name="l04903"></a><span class="lineno"> 4903</span>            <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> w = ( *<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().begin() )-&gt;default_ammotype()-&gt;weight;</div>
<div class="line"><a id="l04904" name="l04904"></a><span class="lineno"> 4904</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() * w / <a class="code hl_variable" href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a>;</div>
<div class="line"><a id="l04905" name="l04905"></a><span class="lineno"> 4905</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() ) {</div>
<div class="line"><a id="l04906" name="l04906"></a><span class="lineno"> 4906</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() * <a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_variable" href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">weight</a>;</div>
<div class="line"><a id="l04907" name="l04907"></a><span class="lineno"> 4907</span>        }</div>
<div class="line"><a id="l04908" name="l04908"></a><span class="lineno"> 4908</span>    }</div>
<div class="line"><a id="l04909" name="l04909"></a><span class="lineno"> 4909</span> </div>
<div class="line"><a id="l04910" name="l04910"></a><span class="lineno"> 4910</span>    <span class="comment">// if this is an ammo belt add the weight of any implicitly contained linkages</span></div>
<div class="line"><a id="l04911" name="l04911"></a><span class="lineno"> 4911</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() &amp;&amp; <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;linkage ) {</div>
<div class="line"><a id="l04912" name="l04912"></a><span class="lineno"> 4912</span>        <a class="code hl_class" href="classitem.html">item</a> links( *<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;linkage );</div>
<div class="line"><a id="l04913" name="l04913"></a><span class="lineno"> 4913</span>        links.charges = <a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>();</div>
<div class="line"><a id="l04914" name="l04914"></a><span class="lineno"> 4914</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += links.weight();</div>
<div class="line"><a id="l04915" name="l04915"></a><span class="lineno"> 4915</span>    }</div>
<div class="line"><a id="l04916" name="l04916"></a><span class="lineno"> 4916</span> </div>
<div class="line"><a id="l04917" name="l04917"></a><span class="lineno"> 4917</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l04918" name="l04918"></a><span class="lineno"> 4918</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += std::max( <a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>()-&gt;<a class="code hl_function" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>(), 0_gram );</div>
<div class="line"><a id="l04919" name="l04919"></a><span class="lineno"> 4919</span>    }</div>
<div class="line"><a id="l04920" name="l04920"></a><span class="lineno"> 4920</span> </div>
<div class="line"><a id="l04921" name="l04921"></a><span class="lineno"> 4921</span>    <span class="comment">// reduce weight for sawn-off weapons capped to the apportioned weight of the barrel</span></div>
<div class="line"><a id="l04922" name="l04922"></a><span class="lineno"> 4922</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a26ffce6c038cc9d398103dcd296275bd">gunmod_find</a>( <a class="code hl_variable" href="item_8cpp.html#acb5ce12112db1c8cd3b69158b97000d4">itype_barrel_small</a> ) ) {</div>
<div class="line"><a id="l04923" name="l04923"></a><span class="lineno"> 4923</span>        <span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> = <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;barrel_length;</div>
<div class="line"><a id="l04924" name="l04924"></a><span class="lineno"> 4924</span>        <span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> max_barrel_weight = <a class="code hl_function" href="namespaceunits.html#ae1099ddcbc32e8395bef3c136d93bdd3">units::from_gram</a>( <a class="code hl_function" href="namespaceunits.html#a144476d36f26d6e1916493c3636d54dc">to_milliliter</a>( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) );</div>
<div class="line"><a id="l04925" name="l04925"></a><span class="lineno"> 4925</span>        <span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> barrel_weight = <a class="code hl_function" href="namespaceunits.html#ae1099ddcbc32e8395bef3c136d93bdd3">units::from_gram</a>( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.value() * <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">weight</a>.<a class="code hl_function" href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">value</a>() /</div>
<div class="line"><a id="l04926" name="l04926"></a><span class="lineno"> 4926</span>                                          <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a>.<a class="code hl_function" href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">value</a>() );</div>
<div class="line"><a id="l04927" name="l04927"></a><span class="lineno"> 4927</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= std::min( max_barrel_weight, barrel_weight );</div>
<div class="line"><a id="l04928" name="l04928"></a><span class="lineno"> 4928</span>    }</div>
<div class="line"><a id="l04929" name="l04929"></a><span class="lineno"> 4929</span> </div>
<div class="line"><a id="l04930" name="l04930"></a><span class="lineno"> 4930</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l04931" name="l04931"></a><span class="lineno"> 4931</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *elem : <a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l04932" name="l04932"></a><span class="lineno"> 4932</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += elem-&gt;weight( <span class="keyword">true</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l04933" name="l04933"></a><span class="lineno"> 4933</span>        }</div>
<div class="line"><a id="l04934" name="l04934"></a><span class="lineno"> 4934</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( include_contents ) {</div>
<div class="line"><a id="l04935" name="l04935"></a><span class="lineno"> 4935</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += <a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a37b6d4a1afa64aac1e775869c6c87e6d">item_weight_modifier</a>();</div>
<div class="line"><a id="l04936" name="l04936"></a><span class="lineno"> 4936</span>    }</div>
<div class="line"><a id="l04937" name="l04937"></a><span class="lineno"> 4937</span> </div>
<div class="line"><a id="l04938" name="l04938"></a><span class="lineno"> 4938</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l04939" name="l04939"></a><span class="lineno"> 4939</span>}</div>
<div class="ttc" id="aclassitem__contents_html_a37b6d4a1afa64aac1e775869c6c87e6d"><div class="ttname"><a href="classitem__contents.html#a37b6d4a1afa64aac1e775869c6c87e6d">item_contents::item_weight_modifier</a></div><div class="ttdeci">units::mass item_weight_modifier() const</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00219">item_contents.cpp:219</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a589497944bf6766e791e676ad8f85b08"><div class="ttname"><a href="item_8cpp.html#a589497944bf6766e791e676ad8f85b08">flag_NO_DROP</a></div><div class="ttdeci">static const std::string flag_NO_DROP(&quot;NO_DROP&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_acfaa88c2d6c363f5997c3364bab144a1"><div class="ttname"><a href="item_8cpp.html#acfaa88c2d6c363f5997c3364bab144a1">flag_REDUCED_WEIGHT</a></div><div class="ttdeci">static const std::string flag_REDUCED_WEIGHT(&quot;REDUCED_WEIGHT&quot;)</div></div>
<div class="ttc" id="aitem_8cpp_html_ae0a6efc65dd587028e5fbf37af06bdfc"><div class="ttname"><a href="item_8cpp.html#ae0a6efc65dd587028e5fbf37af06bdfc">itype_plut_cell</a></div><div class="ttdeci">static const itype_id itype_plut_cell(&quot;plut_cell&quot;)</div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01030">magic.cpp:1030</a></div></div>
<div class="ttc" id="anamespaceunits_html_a144476d36f26d6e1916493c3636d54dc"><div class="ttname"><a href="namespaceunits.html#a144476d36f26d6e1916493c3636d54dc">units::to_milliliter</a></div><div class="ttdeci">constexpr value_type to_milliliter(const quantity&lt; value_type, volume_in_milliliter_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__volume_8h_source.html#l00038">units_volume.h:38</a></div></div>
<div class="ttc" id="anamespaceunits_html_ac7ad4ab505c7819e0a4bb3ce9f338691"><div class="ttname"><a href="namespaceunits.html#ac7ad4ab505c7819e0a4bb3ce9f338691">units::from_milligram</a></div><div class="ttdeci">constexpr quantity&lt; value_type, mass_in_milligram_tag &gt; from_milligram(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units__mass_8h_source.html#l00033">units_mass.h:33</a></div></div>
<div class="ttc" id="anamespaceunits_html_ae1099ddcbc32e8395bef3c136d93bdd3"><div class="ttname"><a href="namespaceunits.html#ae1099ddcbc32e8395bef3c136d93bdd3">units::from_gram</a></div><div class="ttdeci">constexpr quantity&lt; value_type, mass_in_milligram_tag &gt; from_gram(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units__mass_8h_source.html#l00040">units_mass.h:40</a></div></div>
<div class="ttc" id="astructitype_html_a5699c972f1a284761d3b0e1501fe8185"><div class="ttname"><a href="structitype.html#a5699c972f1a284761d3b0e1501fe8185">itype::integral_weight</a></div><div class="ttdeci">units::mass integral_weight</div><div class="ttdoc">Weight difference with the part it replaces for mods.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00967">itype.h:967</a></div></div>
<div class="ttc" id="astructmtype_html_a71161bb5851b4c48f32f3ebaf35b9b1d"><div class="ttname"><a href="structmtype.html#a71161bb5851b4c48f32f3ebaf35b9b1d">mtype::weight</a></div><div class="ttdeci">units::mass weight</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00261">mtype.h:261</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07402">ammo_current()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="magic_8cpp_source.html#l01030">b</a>, <a class="el" href="item_8h_source.html#l02195">charges</a>, <a class="el" href="item_8h_source.html#l02158">components</a>, <a class="el" href="item_8h_source.html#l02157">contents</a>, <a class="el" href="item_8h_source.html#l02168">corpse</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="item_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS()</a>, <a class="el" href="item_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED()</a>, <a class="el" href="item_8cpp.html#a6dd10563bf4bc543c31f1282afabaf0f">flag_GIBBED()</a>, <a class="el" href="item_8cpp.html#a589497944bf6766e791e676ad8f85b08">flag_NO_DROP()</a>, <a class="el" href="item_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED()</a>, <a class="el" href="item_8cpp.html#acfaa88c2d6c363f5997c3364bab144a1">flag_REDUCED_WEIGHT()</a>, <a class="el" href="item_8cpp.html#a1d7ac4becfeaaa64b846aa3570298b85">flag_SKINNED()</a>, <a class="el" href="units__mass_8h_source.html#l00040">units::from_gram()</a>, <a class="el" href="units__mass_8h_source.html#l00033">units::from_milligram()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07588">gunmod_find()</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="itype_8h_source.html#l00967">itype::integral_weight</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="item__contents_8cpp_source.html#l00219">item_contents::item_weight_modifier()</a>, <a class="el" href="item_8cpp.html#acb5ce12112db1c8cd3b69158b97000d4">itype_barrel_small</a>, <a class="el" href="item_8cpp.html#ae0a6efc65dd587028e5fbf37af06bdfc">itype_plut_cell</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="game__constants_8h_source.html#l00077">PLUTONIUM_CHARGES</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="units__volume_8h_source.html#l00038">units::to_milliliter()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, <a class="el" href="units__def_8h_source.html#l00044">units::quantity&lt; V, U &gt;::value()</a>, <a class="el" href="itype_8h_source.html#l00974">itype::volume</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, <a class="el" href="itype_8h_source.html#l00965">itype::weight</a>, and <a class="el" href="mtype_8h_source.html#l00261">mtype::weight</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00672">monexamine::add_armor()</a>, <a class="el" href="item_8cpp_source.html#l05084">attack_cost()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01273">can_do_activity_there()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02648">holster_actor::can_holster()</a>, <a class="el" href="character_8cpp_source.html#l02882">Character::can_pick_weight()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01753">veh_interact::can_remove_part()</a>, <a class="el" href="pickup_8cpp_source.html#l01267">pickup::cost_to_move_item()</a>, <a class="el" href="npcmove_8cpp_source.html#l03120">npc::drop_items()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01977">fetch_activity()</a>, <a class="el" href="weather_8cpp_source.html#l00267">funnel_charges_per_turn()</a>, <a class="el" href="consumption_8cpp_source.html#l01445">Character::get_acquirable_energy()</a>, <a class="el" href="character_8cpp_source.html#l03635">Character::get_weight()</a>, <a class="el" href="monexamine_8cpp_source.html#l00633">monexamine::give_items_to()</a>, <a class="el" href="item_8cpp_source.html#l06254">is_two_handed()</a>, <a class="el" href="item_8cpp_source.html#l05078">lift_strength()</a>, <a class="el" href="melee_8cpp_source.html#l00390">Character::melee_attack()</a>, <a class="el" href="npcmove_8cpp_source.html#l03053">npc_pickup_from_stack()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="pickup_8cpp_source.html#l00571">pickup::pick_up()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01698">advanced_inventory::query_charges()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="npctrade_8cpp_source.html#l00214">item_pricing::set_values()</a>, <a class="el" href="handle__action_8cpp_source.html#l00671">smash()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02665">holster_actor::store()</a>, <a class="el" href="melee_8cpp_source.html#l00683">stumble()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>, <a class="el" href="character_8cpp_source.html#l06249">Character::throw_range()</a>, <a class="el" href="ranged_8cpp_source.html#l01061">ranged::throwing_dispersion()</a>, <a class="el" href="trap_8cpp_source.html#l00250">trap::triggered_by_item()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00703">veh_interact::update_part_requirements()</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, <a class="el" href="character_8cpp_source.html#l02731">Character::weight_carried_reduced_by()</a>, and <a class="el" href="inventory_8cpp_source.html#l01032">inventory::weight_without()</a>.</p>

</div>
</div>
<a id="a1b9abb87d3a9cb6dfc4499a9066ecc44" name="a1b9abb87d3a9cb6dfc4499a9066ecc44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b9abb87d3a9cb6dfc4499a9066ecc44">&#9670;&nbsp;</a></span>wheel_area()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::wheel_area </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total area of this wheel or 0 if it isn't one. </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06661">6661</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06662" name="l06662"></a><span class="lineno"> 6662</span>{</div>
<div class="line"><a id="l06663" name="l06663"></a><span class="lineno"> 6663</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classitem.html#a3cb164c5569aa41cfda914b6f7a74cb2">is_wheel</a>() ? <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a5c286a821362f883c93b7d984ecae163">wheel</a>-&gt;diameter * <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a5c286a821362f883c93b7d984ecae163">wheel</a>-&gt;width : 0;</div>
<div class="line"><a id="l06664" name="l06664"></a><span class="lineno"> 6664</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l06605">is_wheel()</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="itype_8h_source.html#l00855">itype::wheel</a>.</p>

</div>
</div>
<a id="aa764d6c0cfef8050a689291050706f22" name="aa764d6c0cfef8050a689291050706f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa764d6c0cfef8050a689291050706f22">&#9670;&nbsp;</a></span>will_explode_in_fire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::will_explode_in_fire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l08572">8572</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08573" name="l08573"></a><span class="lineno"> 8573</span>{</div>
<div class="line"><a id="l08574" name="l08574"></a><span class="lineno"> 8574</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad3feb1bdd1db2f0b88ef6b74c25ef869">explode_in_fire</a> ) {</div>
<div class="line"><a id="l08575" name="l08575"></a><span class="lineno"> 8575</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08576" name="l08576"></a><span class="lineno"> 8576</span>    }</div>
<div class="line"><a id="l08577" name="l08577"></a><span class="lineno"> 8577</span> </div>
<div class="line"><a id="l08578" name="l08578"></a><span class="lineno"> 8578</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> &amp;&amp; ( <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;special_cookoff || <a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;cookoff ) ) {</div>
<div class="line"><a id="l08579" name="l08579"></a><span class="lineno"> 8579</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08580" name="l08580"></a><span class="lineno"> 8580</span>    }</div>
<div class="line"><a id="l08581" name="l08581"></a><span class="lineno"> 8581</span> </div>
<div class="line"><a id="l08582" name="l08582"></a><span class="lineno"> 8582</span>    <span class="comment">// Most containers do nothing to protect the contents from fire</span></div>
<div class="line"><a id="l08583" name="l08583"></a><span class="lineno"> 8583</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() || !<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;protects_contents ) {</div>
<div class="line"><a id="l08584" name="l08584"></a><span class="lineno"> 8584</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l08585" name="l08585"></a><span class="lineno"> 8585</span>            <span class="keywordflow">return</span> <span class="keyword">this</span> != &amp;it &amp;&amp; it.<a class="code hl_function" href="classitem.html#aa764d6c0cfef8050a689291050706f22">will_explode_in_fire</a>();</div>
<div class="line"><a id="l08586" name="l08586"></a><span class="lineno"> 8586</span>        } );</div>
<div class="line"><a id="l08587" name="l08587"></a><span class="lineno"> 8587</span>    }</div>
<div class="line"><a id="l08588" name="l08588"></a><span class="lineno"> 8588</span> </div>
<div class="line"><a id="l08589" name="l08589"></a><span class="lineno"> 8589</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08590" name="l08590"></a><span class="lineno"> 8590</span>}</div>
<div class="ttc" id="aclassitem_html_aa764d6c0cfef8050a689291050706f22"><div class="ttname"><a href="classitem.html#aa764d6c0cfef8050a689291050706f22">item::will_explode_in_fire</a></div><div class="ttdeci">bool will_explode_in_fire() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08572">item.cpp:8572</a></div></div>
<div class="ttc" id="astructitype_html_ad3feb1bdd1db2f0b88ef6b74c25ef869"><div class="ttname"><a href="structitype.html#ad3feb1bdd1db2f0b88ef6b74c25ef869">itype::explode_in_fire</a></div><div class="ttdeci">bool explode_in_fire</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00947">itype.h:947</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="itype_8h_source.html#l00947">itype::explode_in_fire</a>, <a class="el" href="visitable_8cpp_source.html#l00105">visitable&lt; item &gt;::has_item_with()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="item_8h_source.html#l02156">type</a>, and <a class="el" href="item_8cpp_source.html#l08572">will_explode_in_fire()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08572">will_explode_in_fire()</a>.</p>

</div>
</div>
<a id="ada39e6de0077216777a56e6d237b7e0b" name="ada39e6de0077216777a56e6d237b7e0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada39e6de0077216777a56e6d237b7e0b">&#9670;&nbsp;</a></span>wind_resist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::wind_resist </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How resistant clothes made of this material are to wind (0-100) </p>

<p class="definition">Definition at line <a class="el" href="item_8cpp_source.html#l06630">6630</a> of file <a class="el" href="item_8cpp_source.html">item.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06631" name="l06631"></a><span class="lineno"> 6631</span>{</div>
<div class="line"><a id="l06632" name="l06632"></a><span class="lineno"> 6632</span>    std::vector&lt;const material_type *&gt; <a class="code hl_namespace" href="namespacematerials.html">materials</a> = <a class="code hl_function" href="classitem.html#a75b85410499e6e47e3fd85326a8e7ce4">made_of_types</a>();</div>
<div class="line"><a id="l06633" name="l06633"></a><span class="lineno"> 6633</span>    <span class="keywordflow">if</span>( <a class="code hl_namespace" href="namespacematerials.html">materials</a>.empty() ) {</div>
<div class="line"><a id="l06634" name="l06634"></a><span class="lineno"> 6634</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Called item::wind_resist on an item (%s [%s]) made of nothing!&quot;</span>, <a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), <a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l06635" name="l06635"></a><span class="lineno"> 6635</span>        <span class="keywordflow">return</span> 99;</div>
<div class="line"><a id="l06636" name="l06636"></a><span class="lineno"> 6636</span>    }</div>
<div class="line"><a id="l06637" name="l06637"></a><span class="lineno"> 6637</span> </div>
<div class="line"><a id="l06638" name="l06638"></a><span class="lineno"> 6638</span>    <span class="keywordtype">int</span> best = -1;</div>
<div class="line"><a id="l06639" name="l06639"></a><span class="lineno"> 6639</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmaterial__type.html">material_type</a> *mat : <a class="code hl_namespace" href="namespacematerials.html">materials</a> ) {</div>
<div class="line"><a id="l06640" name="l06640"></a><span class="lineno"> 6640</span>        <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;int&gt;</a> resistance = mat-&gt;wind_resist();</div>
<div class="line"><a id="l06641" name="l06641"></a><span class="lineno"> 6641</span>        <span class="keywordflow">if</span>( resistance &amp;&amp; *resistance &gt; best ) {</div>
<div class="line"><a id="l06642" name="l06642"></a><span class="lineno"> 6642</span>            best = *resistance;</div>
<div class="line"><a id="l06643" name="l06643"></a><span class="lineno"> 6643</span>        }</div>
<div class="line"><a id="l06644" name="l06644"></a><span class="lineno"> 6644</span>    }</div>
<div class="line"><a id="l06645" name="l06645"></a><span class="lineno"> 6645</span> </div>
<div class="line"><a id="l06646" name="l06646"></a><span class="lineno"> 6646</span>    <span class="comment">// Default to 99% effective</span></div>
<div class="line"><a id="l06647" name="l06647"></a><span class="lineno"> 6647</span>    <span class="keywordflow">if</span>( best == -1 ) {</div>
<div class="line"><a id="l06648" name="l06648"></a><span class="lineno"> 6648</span>        <span class="keywordflow">return</span> 99;</div>
<div class="line"><a id="l06649" name="l06649"></a><span class="lineno"> 6649</span>    }</div>
<div class="line"><a id="l06650" name="l06650"></a><span class="lineno"> 6650</span> </div>
<div class="line"><a id="l06651" name="l06651"></a><span class="lineno"> 6651</span>    <span class="keywordflow">return</span> best;</div>
<div class="line"><a id="l06652" name="l06652"></a><span class="lineno"> 6652</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l06276">made_of_types()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l03850">wind_resistance_from_item_list()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2993eb10a5ae589e6bb1be0a74cb65c1" name="a2993eb10a5ae589e6bb1be0a74cb65c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2993eb10a5ae589e6bb1be0a74cb65c1">&#9670;&nbsp;</a></span>active</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::active = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02233">2233</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l00554">activate()</a>, <a class="el" href="bionics_8cpp_source.html#l00531">Character::activate_bionic()</a>, <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, <a class="el" href="npcmove_8cpp_source.html#l03489">npc::alt_attack()</a>, <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, <a class="el" href="iuse_8cpp_source.html#l03714">iuse::c4()</a>, <a class="el" href="iuse_8cpp_source.html#l08909">iuse::cable_attach()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02648">holster_actor::can_holster()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00459">countdown_actor::can_use()</a>, <a class="el" href="iuse_8cpp_source.html#l00431">check_litcig()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="bionics_8cpp_source.html#l01408">Character::consume_remote_fuel()</a>, <a class="el" href="item_8cpp_source.html#l00537">deactivate()</a>, <a class="el" href="mondeath_8cpp_source.html#l00776">mdeath::detonate()</a>, <a class="el" href="iuse_8cpp_source.html#l04239">iuse::dive_tank()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="explosion_8cpp_source.html#l00908">explosion_handler::emp_blast()</a>, <a class="el" href="bionics_8cpp_source.html#l01355">Character::find_remote_fuel()</a>, <a class="el" href="iuse_8cpp_source.html#l03859">iuse::firecracker()</a>, <a class="el" href="iuse_8cpp_source.html#l03818">iuse::firecracker_pack()</a>, <a class="el" href="iuse_8cpp_source.html#l01793">iuse::fish_trap()</a>, <a class="el" href="iuse_8cpp_source.html#l04330">iuse::gasmask()</a>, <a class="el" href="iuse_8cpp_source.html#l03382">iuse::geiger()</a>, <a class="el" href="iuse_8cpp_source.html#l03560">iuse::granade()</a>, <a class="el" href="character_8cpp_source.html#l02542">Character::has_active_item()</a>, <a class="el" href="magic__enchantment_8cpp_source.html#l00187">enchantment::is_active()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="monattack_8cpp_source.html#l05352">mattack::kamikaze()</a>, <a class="el" href="ranged_8cpp_source.html#l01666">make_gun_projectile()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01849">activity_handlers::make_zlave_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l03893">iuse::mininuke()</a>, <a class="el" href="iuse_8cpp_source.html#l03793">iuse::molotov_lit()</a>, <a class="el" href="iuse_8cpp_source.html#l04104">iuse::mp3()</a>, <a class="el" href="iuse_8cpp_source.html#l04190">iuse::mp3_on()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="item_8cpp_source.html#l08772">needs_processing()</a>, <a class="el" href="iuse_8cpp_source.html#l02252">iuse::noise_emitter_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02263">iuse::noise_emitter_on()</a>, <a class="el" href="item_8cpp_source.html#l04283">on_takeoff()</a>, <a class="el" href="item_8cpp_source.html#l04185">on_wear()</a>, <a class="el" href="iuse_8cpp_source.html#l02066">iuse::pack_item()</a>, <a class="el" href="item_8cpp_source.html#l09105">process_extinguish()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="item_8cpp_source.html#l09031">process_litcig()</a>, <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>, <a class="el" href="item_8cpp_source.html#l09271">process_UPS()</a>, <a class="el" href="item_8cpp_source.html#l09289">process_wet()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00067">vehicle_part::properties_to_item()</a>, <a class="el" href="iuse_8cpp_source.html#l02120">iuse::radio_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02165">iuse::radio_on()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="iuse_8cpp_source.html#l07973">iuse::radiocaron()</a>, <a class="el" href="iuse_8cpp_source.html#l08067">iuse::radiocontrol()</a>, <a class="el" href="handle__action_8cpp_source.html#l01288">read()</a>, <a class="el" href="iuse_8cpp_source.html#l08258">iuse::remoteveh()</a>, <a class="el" href="item_8cpp_source.html#l09254">reset_cable()</a>, <a class="el" href="monattack_8cpp_source.html#l04634">mattack::riotbot()</a>, <a class="el" href="iuse_8cpp_source.html#l01980">iuse::rm13armor_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02002">iuse::rm13armor_on()</a>, <a class="el" href="iuse_8cpp_source.html#l04053">iuse::shocktonfa_off()</a>, <a class="el" href="iuse_8cpp_source.html#l04077">iuse::shocktonfa_on()</a>, <a class="el" href="handle__action_8cpp_source.html#l01000">sleep()</a>, <a class="el" href="iuse_8cpp_source.html#l00527">iuse::smoking()</a>, <a class="el" href="iuse_8cpp_source.html#l04316">iuse::solarpack_off()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02665">holster_actor::store()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>, <a class="el" href="iuse_8cpp_source.html#l03538">iuse::throwable_extinguisher_act()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>, <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>, <a class="el" href="iuse_8cpp_source.html#l08782">iuse::tow_attach()</a>, <a class="el" href="iuse_8cpp_source.html#l05571">iuse::towel_common()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="iuse_8cpp_source.html#l02022">iuse::unpack_item()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00440">countdown_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02171">fireweapon_off_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02325">musical_instrument_actor::use()</a>, and <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>.</p>

</div>
</div>
<a id="a700374a9cb11d479855b03b4eff408e3" name="a700374a9cb11d479855b03b4eff408e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a700374a9cb11d479855b03b4eff408e3">&#9670;&nbsp;</a></span>anchor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsafe__reference__anchor.html">safe_reference_anchor</a> item::anchor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02165">2165</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l00443">get_safe_reference()</a>.</p>

</div>
</div>
<a id="a628659a14a3b57d0627ddd5093e94147" name="a628659a14a3b57d0627ddd5093e94147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a628659a14a3b57d0627ddd5093e94147">&#9670;&nbsp;</a></span>bday</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> item::bday</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The time the item was created. </p>

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02223">2223</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09853">birthday()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item_8cpp_source.html#l09842">legacy_fast_forward_time()</a>, and <a class="el" href="item_8cpp_source.html#l09858">set_birthday()</a>.</p>

</div>
</div>
<a id="a1fb1bc14a138ea0ea0b6883d4105a322" name="a1fb1bc14a138ea0ea0b6883d4105a322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fb1bc14a138ea0ea0b6883d4105a322">&#9670;&nbsp;</a></span>burnt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::burnt = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02199">2199</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, <a class="el" href="editmap_8cpp_source.html#l01379">editmap::edit_itm()</a>, <a class="el" href="monster_8cpp_source.html#l02758">monster::init_from_item()</a>, <a class="el" href="item_8cpp_source.html#l08961">process_corpse()</a>, <a class="el" href="item_8cpp_source.html#l05815">ready_to_revive()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="a6bfb92ab5d41e0eb3a1da160fac71b0e" name="a6bfb92ab5d41e0eb3a1da160fac71b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bfb92ab5d41e0eb3a1da160fac71b0e">&#9670;&nbsp;</a></span>charges</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::charges</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02195">2195</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l03729">iuse::acidbomb_act()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02896">act_vehicle_siphon()</a>, <a class="el" href="bionics_8cpp_source.html#l00531">Character::activate_bionic()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00687">activity_on_turn_wear()</a>, <a class="el" href="vehicle_8cpp_source.html#l05183">vehicle::add_charges()</a>, <a class="el" href="vehicle_8cpp_source.html#l05209">vehicle::add_item()</a>, <a class="el" href="map_8cpp_source.html#l04228">map::add_item_or_charges()</a>, <a class="el" href="player_8cpp_source.html#l03026">player::add_or_drop_with_msg()</a>, <a class="el" href="weather_8cpp_source.html#l00211">add_rain_to_container()</a>, <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00288">vehicle_part::ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00241">vehicle_part::ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="item__stack_8cpp_source.html#l00107">item_stack::amount_can_fit()</a>, <a class="el" href="mapgen_8cpp_source.html#l01121">jmapgen_liquid_item::apply()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01175">are_requirements_nearby()</a>, <a class="el" href="iuse_8cpp_source.html#l03771">iuse::arrow_flammable()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, <a class="el" href="iuse_8cpp_source.html#l03714">iuse::c4()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">player::can_disassemble()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02848">bandolier_actor::can_store()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02199">fireweapon_off_actor::can_use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02297">manualnoise_actor::can_use()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00502">comestible_inventory_preset::comestible_inventory_preset()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="character_8cpp_source.html#l07496">Character::consume_charges()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00302">vehicle_part::consume_energy()</a>, <a class="el" href="player_8cpp_source.html#l02015">player::consume_item()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00105">liquid_handler::consume_liquid()</a>, <a class="el" href="player_8cpp_source.html#l01935">player::consume_med()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00399">game_menus::inv::container_for()</a>, <a class="el" href="item_8cpp_source.html#l05860">count()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03867">activity_handlers::craft_do_turn()</a>, <a class="el" href="recipe_8cpp_source.html#l00471">recipe::create_byproducts()</a>, <a class="el" href="recipe_8cpp_source.html#l00423">recipe::create_result()</a>, <a class="el" href="recipe_8cpp_source.html#l00450">recipe::create_results()</a>, <a class="el" href="item_8cpp_source.html#l08592">detonate()</a>, <a class="el" href="mondeath_8cpp_source.html#l00776">mdeath::detonate()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="iuse_8cpp_source.html#l04239">iuse::dive_tank()</a>, <a class="el" href="iexamine_8cpp_source.html#l00530">anonymous_namespace{iexamine.cpp}::atm_menu::do_purchase_card()</a>, <a class="el" href="npcmove_8cpp_source.html#l04547">npc::do_reload()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01917">veh_interact::do_siphon()</a>, <a class="el" href="iexamine_8cpp_source.html#l00609">anonymous_namespace{iexamine.cpp}::atm_menu::do_transfer_all_money()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00764">move_items_activity_actor::do_turn()</a>, <a class="el" href="iexamine_8cpp_source.html#l00575">anonymous_namespace{iexamine.cpp}::atm_menu::do_withdraw_money()</a>, <a class="el" href="mapgen_8cpp_source.html#l03515">map::draw_lab()</a>, <a class="el" href="player_8cpp_source.html#l01916">player::drink_from_hands()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="explosion_8cpp_source.html#l00908">explosion_handler::emp_blast()</a>, <a class="el" href="iuse_8cpp_source.html#l00634">iuse::eyedrops()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02279">farm_action()</a>, <a class="el" href="consumption_8cpp_source.html#l01338">Character::feed_furnace_with()</a>, <a class="el" href="consumption_8cpp_source.html#l01294">Character::feed_reactor_with()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01977">fetch_activity()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01086">talk_function::field_harvest()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00732">wash_activity_actor::finish()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03741">heal_actor::finish_using()</a>, <a class="el" href="iuse_8cpp_source.html#l03859">iuse::firecracker()</a>, <a class="el" href="iuse_8cpp_source.html#l03876">iuse::firecracker_act()</a>, <a class="el" href="iuse_8cpp_source.html#l03818">iuse::firecracker_pack()</a>, <a class="el" href="iuse_8cpp_source.html#l03836">iuse::firecracker_pack_act()</a>, <a class="el" href="iuse_8cpp_source.html#l01793">iuse::fish_trap()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="inventory_8cpp_source.html#l01001">for_each_item_in_both()</a>, <a class="el" href="inventory_8cpp_source.html#l00508">inventory::form_from_map()</a>, <a class="el" href="consumption_8cpp_source.html#l01396">Character::fuel_bionic_with()</a>, <a class="el" href="weather_8cpp_source.html#l00267">funnel_charges_per_turn()</a>, <a class="el" href="iexamine_8cpp_source.html#l02953">iexamine::fvat_empty()</a>, <a class="el" href="iexamine_8cpp_source.html#l03078">iexamine::fvat_full()</a>, <a class="el" href="iuse_8cpp_source.html#l04330">iuse::gasmask()</a>, <a class="el" href="consumption_8cpp_source.html#l01445">Character::get_acquirable_energy()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02645">activity_handlers::repair_activity_hack::anonymous_namespace{activity_handlers.cpp}::get_fake_tool()</a>, <a class="el" href="iexamine_8cpp_source.html#l02247">iexamine::get_harvest_items()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00156">liquid_handler::get_liquid_target()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00144">inventory_entry::get_selected_charges()</a>, <a class="el" href="profession_8cpp_source.html#l00667">json_item_substitution::get_substitution()</a>, <a class="el" href="monexamine_8cpp_source.html#l00633">monexamine::give_items_to()</a>, <a class="el" href="iuse_8cpp_source.html#l03560">iuse::granade()</a>, <a class="el" href="iuse_8cpp_source.html#l03569">iuse::granade_act()</a>, <a class="el" href="iuse_8cpp_source.html#l03741">iuse::grenade_inc_act()</a>, <a class="el" href="iuse_8cpp_source.html#l08161">hackveh()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00095">liquid_handler::handle_all_liquid()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00127">liquid_handler::handle_liquid_from_container()</a>, <a class="el" href="pickup_8cpp_source.html#l01238">pickup::handle_spillable_contents()</a>, <a class="el" href="item_8cpp_source.html#l09788">has_infinite_charges()</a>, <a class="el" href="character_8cpp_source.html#l02274">Character::i_add_to_container()</a>, <a class="el" href="savegame__json_8cpp_source.html#l02156">io()</a>, <a class="el" href="item_8cpp_source.html#l00362">item()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>, <a class="el" href="item_8cpp_source.html#l01625">med_info()</a>, <a class="el" href="item_8cpp_source.html#l00968">merge_charges()</a>, <a class="el" href="item__factory_8cpp_source.html#l02683">Item_factory::migrate_item()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01450">activity_handlers::milk_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l03893">iuse::mininuke()</a>, <a class="el" href="item_8cpp_source.html#l09548">mod_charges()</a>, <a class="el" href="item_8cpp_source.html#l06076">mod_damage()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="iuse_8cpp_source.html#l03793">iuse::molotov_lit()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00709">advanced_inventory::move_all_items()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01656">advanced_inventory::move_content()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00964">move_item()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="npcmove_8cpp_source.html#l03467">npc_throw()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01343">vehicle::operate_planter()</a>, <a class="el" href="item_8cpp_source.html#l06996">operator&lt;()</a>, <a class="el" href="npctalk_8cpp_source.html#l01571">parse_tags()</a>, <a class="el" href="iexamine_8cpp_source.html#l04292">iexamine::pay_gas()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00305">liquid_handler::perform_liquid_transfer()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="pickup_8cpp_source.html#l00571">pickup::pick_up()</a>, <a class="el" href="mapgen_8cpp_source.html#l05439">map::place_gas_pump()</a>, <a class="el" href="mapgen_8cpp_source.html#l05452">map::place_toilet()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00845">avatar_action::plthrow()</a>, <a class="el" href="character_8cpp_source.html#l06426">Character::pour_into()</a>, <a class="el" href="iexamine_8cpp_source.html#l03353">iexamine::pour_into_keg()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00211">advanced_inventory::print_items()</a>, <a class="el" href="game_8cpp_source.html#l11839">game::process_artifact()</a>, <a class="el" href="item_8cpp_source.html#l09198">process_cable()</a>, <a class="el" href="player_8cpp_source.html#l01782">player::process_items()</a>, <a class="el" href="map_8cpp_source.html#l07075">map::produce_sap()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00067">vehicle_part::properties_to_item()</a>, <a class="el" href="item_8cpp_source.html#l07889">item::reload_option::qty()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01698">advanced_inventory::query_charges()</a>, <a class="el" href="player_8cpp_source.html#l01870">player::reduce_charges()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02858">bandolier_actor::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="crafting_8cpp_source.html#l02292">remove_ammo()</a>, <a class="el" href="item_8cpp_source.html#l09254">reset_cable()</a>, <a class="el" href="monattack_8cpp_source.html#l04634">mattack::riotbot()</a>, <a class="el" href="npctalk_8cpp_source.html#l02309">talk_effect_fun_t::set_bulk_trade_accept()</a>, <a class="el" href="item_8cpp_source.html#l08441">set_countdown()</a>, <a class="el" href="iexamine_8cpp_source.html#l04041">iexamine::sign()</a>, <a class="el" href="player_8cpp_source.html#l01380">player::siphon()</a>, <a class="el" href="iexamine_8cpp_source.html#l05182">smoker_activate()</a>, <a class="el" href="map_8cpp_source.html#l04138">map::spawn_an_item()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00693">spell_effect::spawn_ethereal_item()</a>, <a class="el" href="item_8cpp_source.html#l00718">split()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="suffer_8cpp_source.html#l01222">Character::suffer_from_bad_bionics()</a>, <a class="el" href="iuse_8cpp_source.html#l04038">iuse::tazer2()</a>, <a class="el" href="character_8cpp_source.html#l06249">Character::throw_range()</a>, <a class="el" href="iuse_8cpp_source.html#l03538">iuse::throwable_extinguisher_act()</a>, <a class="el" href="ranged_8cpp_source.html#l01061">ranged::throwing_dispersion()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="npctrade_8cpp_source.html#l00699">npc_trading::trade()</a>, <a class="el" href="npctrade_8cpp_source.html#l00044">npc_trading::transfer_items()</a>, <a class="el" href="iexamine_8cpp_source.html#l03485">iexamine::tree_maple_tapped()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03206">try_fuel_fire()</a>, <a class="el" href="item_8cpp_source.html#l07830">units_remaining()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="inventory_8cpp_source.html#l01107">inventory::update_quality_cache()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00546">explosion_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01019">place_monster_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02171">fireweapon_off_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02232">fireweapon_on_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02277">manualnoise_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02914">bandolier_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04215">emit_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>, <a class="el" href="basecamp_8cpp_source.html#l00584">basecamp::use_charges()</a>, <a class="el" href="map_8cpp_source.html#l04934">map::use_charges()</a>, <a class="el" href="map_8cpp_source.html#l04868">use_charges_from_furn()</a>, <a class="el" href="iexamine_8cpp_source.html#l03910">iexamine::use_furn_fake_item()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="iuse_8cpp_source.html#l02093">iuse::water_purifier()</a>, <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, <a class="el" href="character_8cpp_source.html#l02731">Character::weight_carried_reduced_by()</a>, <a class="el" href="wish_8cpp_source.html#l00535">debug_menu::wishitem()</a>, and <a class="el" href="memorial__logger_8cpp_source.html#l00150">memorial_logger::write()</a>.</p>

</div>
</div>
<a id="a891e49f36521b955b9ad58817ddf65d8" name="a891e49f36521b955b9ad58817ddf65d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a891e49f36521b955b9ad58817ddf65d8">&#9670;&nbsp;</a></span>components</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="classitem.html">item</a>&gt; item::components</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02158">2158</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01126">activity_handlers::butcher_finish()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="item_8cpp_source.html#l03068">component_info()</a>, <a class="el" href="item_8cpp_source.html#l08733">components_to_string()</a>, <a class="el" href="consumption_8cpp_source.html#l00327">Character::compute_effective_nutrients()</a>, <a class="el" href="item_8cpp_source.html#l03113">disassembly_info()</a>, <a class="el" href="crafting_8cpp_source.html#l00963">get_continue_reqs()</a>, <a class="el" href="item_8cpp_source.html#l09884">get_uncraft_components()</a>, <a class="el" href="crafting_8cpp_source.html#l00918">handle_craft_failure()</a>, <a class="el" href="melee_8cpp_source.html#l00156">Character::handle_melee_wear()</a>, <a class="el" href="item_8cpp_source.html#l00461">item()</a>, <a class="el" href="item_8cpp_source.html#l08755">make_component_hash()</a>, <a class="el" href="game_8cpp_source.html#l05155">game::revive_corpse()</a>, <a class="el" href="item_8cpp_source.html#l05233">set_flag_recursive()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="item_8cpp_source.html#l09678">type_name()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="a4afe851abb42cbff0857065860f96e0e" name="a4afe851abb42cbff0857065860f96e0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4afe851abb42cbff0857065860f96e0e">&#9670;&nbsp;</a></span>contents</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__contents.html">item_contents</a> item::contents</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02157">2157</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08130">Character::absorb_hit()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02896">act_vehicle_siphon()</a>, <a class="el" href="computer__session_8cpp_source.html#l00744">computer_session::action_blood_anal()</a>, <a class="el" href="computer__session_8cpp_source.html#l00789">computer_session::action_data_anal()</a>, <a class="el" href="vehicle_8cpp_source.html#l05209">vehicle::add_item()</a>, <a class="el" href="weather_8cpp_source.html#l00211">add_rain_to_container()</a>, <a class="el" href="item_8cpp_source.html#l08376">allow_crafting_component()</a>, <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00288">vehicle_part::ammo_consume()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00211">vehicle_part::ammo_current()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07226">ammo_remaining()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00241">vehicle_part::ammo_remaining()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00254">vehicle_part::ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00279">vehicle_part::ammo_unset()</a>, <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="map_8cpp_source.html#l03558">map::bash_items()</a>, <a class="el" href="iuse_8cpp_source.html#l04606">iuse::blood_draw()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01126">activity_handlers::butcher_finish()</a>, <a class="el" href="item__location_8cpp_source.html#l00524">item_location::impl::item_in_container::calc_index()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01355">veh_interact::calc_overview()</a>, <a class="el" href="consumption_8cpp_source.html#l01511">Character::can_consume()</a>, <a class="el" href="item_8cpp_source.html#l08714">can_holster()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02848">bandolier_actor::can_store()</a>, <a class="el" href="item_8cpp_source.html#l06700">can_unload_liquid()</a>, <a class="el" href="item_8cpp_source.html#l07940">casings_handle()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="consumption_8cpp_source.html#l00417">Character::compute_nutrient_range()</a>, <a class="el" href="player_8cpp_source.html#l02052">player::consume()</a>, <a class="el" href="npcmove_8cpp_source.html#l01645">npc::consume_cbm_items()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00302">vehicle_part::consume_energy()</a>, <a class="el" href="item_8cpp_source.html#l03487">contents_info()</a>, <a class="el" href="item_8cpp_source.html#l06315">contents_made_of()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01638">salvage_actor::cut_up()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03413">damage_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00679">item_location::deserialize()</a>, <a class="el" href="item_8cpp_source.html#l08592">detonate()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="veh__interact_8cpp_source.html#l01917">veh_interact::do_siphon()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00821">avatar_action::eat()</a>, <a class="el" href="crafting_8cpp_source.html#l01471">empty_buckets()</a>, <a class="el" href="computer__session_8cpp_source.html#l01400">computer_session::failure_destroy_blood()</a>, <a class="el" href="computer__session_8cpp_source.html#l01425">computer_session::failure_destroy_data()</a>, <a class="el" href="item_8cpp_source.html#l08406">fill_with()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="character_8cpp_source.html#l02573">find_ammo_helper()</a>, <a class="el" href="item_8cpp_source.html#l08529">get_category()</a>, <a class="el" href="consumption_8cpp_source.html#l01521">Character::get_consumable_from()</a>, <a class="el" href="item_8cpp_source.html#l06890">get_contained()</a>, <a class="el" href="item_8cpp_source.html#l05642">get_encumber()</a>, <a class="el" href="item_8cpp_source.html#l03985">get_free_mod_locations()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00156">liquid_handler::get_liquid_target()</a>, <a class="el" href="item_8cpp_source.html#l05272">get_quality()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="profession_8cpp_source.html#l00667">json_item_substitution::get_substitution()</a>, <a class="el" href="npctrade_8cpp_source.html#l00474">trading_window::get_var_trade()</a>, <a class="el" href="item_8cpp_source.html#l05402">goes_bad_after_opening()</a>, <a class="el" href="item_8cpp_source.html#l07578">gunmods()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00140">liquid_handler::handle_liquid_from_container()</a>, <a class="el" href="melee_8cpp_source.html#l00156">Character::handle_melee_wear()</a>, <a class="el" href="pickup_8cpp_source.html#l00140">handle_problematic_pickup()</a>, <a class="el" href="pickup_8cpp_source.html#l01238">pickup::handle_spillable_contents()</a>, <a class="el" href="item_8cpp_source.html#l09584">has_effect_when_carried()</a>, <a class="el" href="item_8cpp_source.html#l08642">has_rotten_away()</a>, <a class="el" href="character_8cpp_source.html#l02274">Character::i_add_to_container()</a>, <a class="el" href="item_8cpp_source.html#l03887">info()</a>, <a class="el" href="item_8cpp_source.html#l06512">is_ammo_container()</a>, <a class="el" href="item_8cpp_source.html#l06687">is_container_empty()</a>, <a class="el" href="item_8cpp_source.html#l06692">is_container_full()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00357">advanced_inv_area::is_container_valid()</a>, <a class="el" href="item_8cpp_source.html#l09628">is_dangerous()</a>, <a class="el" href="item_8cpp_source.html#l06458">is_food_container()</a>, <a class="el" href="item_8cpp_source.html#l06773">is_funnel_container()</a>, <a class="el" href="item_8cpp_source.html#l06465">is_med_container()</a>, <a class="el" href="item_8cpp_source.html#l06721">is_reloadable_helper()</a>, <a class="el" href="item__action_8cpp_source.html#l00080">item_has_uses_recursive()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="player_8cpp_source.html#l02389">player::list_ammo()</a>, <a class="el" href="item_8cpp_source.html#l07565">magazine_current()</a>, <a class="el" href="item__location_8cpp_source.html#l00607">item_location::impl::item_in_container::make_dirty()</a>, <a class="el" href="melee_8cpp_source.html#l01764">Character::melee_special_effects()</a>, <a class="el" href="item__factory_8cpp_source.html#l02683">Item_factory::migrate_item()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04793">activity_handlers::mind_splicer_finish()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01656">advanced_inventory::move_content()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="item_8cpp_source.html#l08772">needs_processing()</a>, <a class="el" href="item_8cpp_source.html#l04403">on_pickup()</a>, <a class="el" href="item_8cpp_source.html#l06996">operator&lt;()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00949">peek_related_recipe()</a>, <a class="el" href="item_8cpp_source.html#l00987">put_in()</a>, <a class="el" href="item_8cpp_source.html#l07889">item::reload_option::qty()</a>, <a class="el" href="item_8cpp_source.html#l03167">qualities_info()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="player_8cpp_source.html#l03259">player::rate_action_unload()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02858">bandolier_actor::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="visitable_8cpp_source.html#l00578">item_contents::remove_internal()</a>, <a class="el" href="visitable_8cpp_source.html#l00597">visitable&lt; T &gt;::remove_items_with()</a>, <a class="el" href="player_8cpp_source.html#l02432">player::select_ammo()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00337">advanced_inv_area::set_container()</a>, <a class="el" href="map_8cpp_source.html#l02992">map::smash_items()</a>, <a class="el" href="item_8cpp_source.html#l06898">spill_contents()</a>, <a class="el" href="item_8cpp_source.html#l05446">spoilage_sort_order()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="item_8cpp_source.html#l05338">toolmods()</a>, <a class="el" href="iexamine_8cpp_source.html#l03485">iexamine::tree_maple_tapped()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01589">salvage_actor::try_to_cut_up()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="item__location_8cpp_source.html#l00553">item_location::impl::item_in_container::unpack()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02714">holster_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02914">bandolier_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01565">salvage_actor::valid_to_cut_up()</a>, <a class="el" href="visitable_8cpp_source.html#l00381">visit_internal()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="iuse_8cpp_source.html#l02093">iuse::water_purifier()</a>, <a class="el" href="player_8cpp_source.html#l04165">player::weapname()</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, <a class="el" href="npc_8cpp_source.html#l01148">npc::wield()</a>, <a class="el" href="avatar_8cpp_source.html#l01226">avatar::wield()</a>, <a class="el" href="game_8cpp_source.html#l09008">game::wield()</a>, <a class="el" href="npcmove_8cpp_source.html#l03381">npc::wield_better_weapon()</a>, <a class="el" href="player_8cpp_source.html#l04203">player::wield_contents()</a>, and <a class="el" href="memorial__logger_8cpp_source.html#l00150">memorial_logger::write()</a>.</p>

</div>
</div>
<a id="aa097a63b84424c4d19dd1e5581e4711d" name="aa097a63b84424c4d19dd1e5581e4711d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa097a63b84424c4d19dd1e5581e4711d">&#9670;&nbsp;</a></span>corpse</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structmtype.html">mtype</a>* item::corpse = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02168">2168</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, <a class="el" href="item_8cpp_source.html#l05807">can_revive()</a>, <a class="el" href="item_8cpp_source.html#l04796">color()</a>, <a class="el" href="item_8cpp_source.html#l04941">corpse_volume()</a>, <a class="el" href="item_8cpp_source.html#l01654">food_info()</a>, <a class="el" href="item_8cpp_source.html#l06475">get_mtype()</a>, <a class="el" href="item_8cpp_source.html#l06470">is_corpse()</a>, <a class="el" href="item_8cpp_source.html#l09644">is_tainted()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="item_8cpp_source.html#l08961">process_corpse()</a>, <a class="el" href="item_8cpp_source.html#l06502">set_mtype()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="item_8cpp_source.html#l09678">type_name()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, and <a class="el" href="item_8cpp_source.html#l04844">weight()</a>.</p>

</div>
</div>
<a id="ae6e0d727dd759f898591df93162b8614" name="ae6e0d727dd759f898591df93162b8614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6e0d727dd759f898591df93162b8614">&#9670;&nbsp;</a></span>corpse_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string item::corpse_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02169">2169</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09741">get_corpse_name()</a>, and <a class="el" href="item_8cpp_source.html#l09678">type_name()</a>.</p>

</div>
</div>
<a id="a622ee79075b1be44b58c5d752ab52241" name="a622ee79075b1be44b58c5d752ab52241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a622ee79075b1be44b58c5d752ab52241">&#9670;&nbsp;</a></span>craft_data_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt;<a class="el" href="classitem_1_1craft__data.html">craft_data</a>&gt; item::craft_data_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02190">2190</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l09945">get_cached_tool_selections()</a>, <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, <a class="el" href="crafting_8cpp_source.html#l00963">get_continue_reqs()</a>, <a class="el" href="item_8cpp_source.html#l09916">get_making()</a>, <a class="el" href="crafting_8cpp_source.html#l00883">get_next_failure_point()</a>, <a class="el" href="item_8cpp_source.html#l09933">has_tools_to_continue()</a>, <a class="el" href="item_8cpp_source.html#l06768">is_craft()</a>, <a class="el" href="item_8cpp_source.html#l06458">is_food_container()</a>, <a class="el" href="item_8cpp_source.html#l00461">item()</a>, <a class="el" href="item_8cpp_source.html#l09939">set_cached_tool_selections()</a>, <a class="el" href="crafting_8cpp_source.html#l00892">set_next_failure_point()</a>, <a class="el" href="item_8cpp_source.html#l09927">set_tools_to_continue()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="afa86cd97b869ce264bf1d6141e0a4048" name="afa86cd97b869ce264bf1d6141e0a4048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa86cd97b869ce264bf1d6141e0a4048">&#9670;&nbsp;</a></span>curammo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structitype.html">itype</a>* item::curammo = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02166">2166</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07324">ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l00677">ammo_unset()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, and <a class="el" href="item_8cpp_source.html#l07949">reload()</a>.</p>

</div>
</div>
<a id="ac4f99d7d290f31e5da8c37f10ebc0d31" name="ac4f99d7d290f31e5da8c37f10ebc0d31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4f99d7d290f31e5da8c37f10ebc0d31">&#9670;&nbsp;</a></span>damage_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int item::damage_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02228">2228</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l00693">damage()</a>, <a class="el" href="item_8cpp_source.html#l00698">damage_level()</a>, <a class="el" href="item_8cpp_source.html#l06076">mod_damage()</a>, <a class="el" href="item_8cpp_source.html#l04433">on_damage()</a>, <a class="el" href="item_8cpp_source.html#l00711">set_damage()</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

</div>
</div>
<a id="a33723e0f137c71ede829c8a47dedde8a" name="a33723e0f137c71ede829c8a47dedde8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33723e0f137c71ede829c8a47dedde8a">&#9670;&nbsp;</a></span>drop_token</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpimpl.html">pimpl</a>&lt;<a class="el" href="classitem__drop__token.html">item_drop_token</a>&gt; item::drop_token</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Two items are dropped in same "batch" if they have identical drop tokens Ideally, this would be stored outside item class. </p>

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02245">2245</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l00584">pickup::obtain_and_tokenize_items()</a>, and <a class="el" href="pickup_8cpp_source.html#l01305">pickup::optimize_pickup()</a>.</p>

</div>
</div>
<a id="a1ea7dc9d3bada7236e263edf7f1fd15f" name="a1ea7dc9d3bada7236e263edf7f1fd15f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ea7dc9d3bada7236e263edf7f1fd15f">&#9670;&nbsp;</a></span>encumbrance_update_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::encumbrance_update_ = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02211">2211</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04424">on_contents_changed()</a>.</p>

</div>
</div>
<a id="aa037d122821f2c41b52b1e0b061fd4f2" name="aa037d122821f2c41b52b1e0b061fd4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa037d122821f2c41b52b1e0b061fd4f2">&#9670;&nbsp;</a></span>energy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a> item::energy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02196">2196</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l07217">energy_remaining()</a>, <a class="el" href="item_8cpp_source.html#l00569">mod_energy()</a>, and <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>.</p>

</div>
</div>
<a id="a12a6fa8aac1350f3ca4362a1bdccd9b0" name="a12a6fa8aac1350f3ca4362a1bdccd9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12a6fa8aac1350f3ca4362a1bdccd9b0">&#9670;&nbsp;</a></span>faults</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a>&gt; item::faults</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>What faults (if any) currently apply to this item. </p>

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02160">2160</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00858">butcher_cbm_item()</a>, <a class="el" href="profession_8cpp_source.html#l00379">clear_faults()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00402">vehicle_part::fault_set()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00392">vehicle_part::faults()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="item_8cpp_source.html#l05182">has_fault()</a>, <a class="el" href="item_8cpp_source.html#l06620">is_faulty()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02974">activity_handlers::mend_item_finish()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="player_8cpp_source.html#l03296">player::rate_action_mend()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="ad16474656a39dfa7b0d89aec3345308f" name="ad16474656a39dfa7b0d89aec3345308f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16474656a39dfa7b0d89aec3345308f">&#9670;&nbsp;</a></span>frequency</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::frequency = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02201">2201</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l02165">iuse::radio_on()</a>.</p>

</div>
</div>
<a id="a109dfb20d6dac296bab6c44db0f8ab1a" name="a109dfb20d6dac296bab6c44db0f8ab1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a109dfb20d6dac296bab6c44db0f8ab1a">&#9670;&nbsp;</a></span>INFINITE_CHARGES</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int item::INFINITE_CHARGES = INT_MAX</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02154">2154</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l06497">Character::ammo_count_for()</a>, <a class="el" href="item_8cpp_source.html#l00861">charges_per_volume()</a>, <a class="el" href="itype_8cpp_source.html#l00056">itype::charges_per_volume()</a>, <a class="el" href="iexamine_8cpp_source.html#l03802">iexamine::clean_water_source()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="item_8cpp_source.html#l09788">has_infinite_charges()</a>, <a class="el" href="item_8cpp_source.html#l00968">merge_charges()</a>, <a class="el" href="item_8cpp_source.html#l09548">mod_charges()</a>, <a class="el" href="vehicle__display_8cpp_source.html#l00398">vehicle::print_fuel_indicator()</a>, <a class="el" href="crafting_8cpp_source.html#l01299">player::select_item_component()</a>, <a class="el" href="requirements_8cpp_source.html#l00146">item_comp::to_string()</a>, and <a class="el" href="map_8cpp_source.html#l04379">map::water_from()</a>.</p>

</div>
</div>
<a id="af38d78ce6d128f6c7a1999b7f9e00965" name="af38d78ce6d128f6c7a1999b7f9e00965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af38d78ce6d128f6c7a1999b7f9e00965">&#9670;&nbsp;</a></span>invlet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char item::invlet = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02232">2232</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="bionics_8cpp_source.html#l00531">Character::activate_bionic()</a>, <a class="el" href="inventory_8cpp_source.html#l00285">inventory::add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00337">inventory::add_item_by_items_type_cache()</a>, <a class="el" href="character_8cpp_source.html#l02528">Character::allocated_invlets()</a>, <a class="el" href="inventory_8cpp_source.html#l01141">inventory::assign_empty_invlet()</a>, <a class="el" href="player_8cpp_source.html#l02052">player::consume()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00164">inventory_entry::get_invlet()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="item_8cpp_source.html#l00843">in_container()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00106">tutorial_game::init()</a>, <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, <a class="el" href="character_8cpp_source.html#l02350">Character::invlet_to_item()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="inventory_8cpp_source.html#l01195">inventory::reassign_item()</a>, <a class="el" href="player_8cpp_source.html#l03401">player::reassign_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">inventory::restack()</a>, <a class="el" href="crafting_8cpp_source.html#l00703">set_item_inventory()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00438">player::sort_armor()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00237">inventory_selector_preset::sort_compare()</a>, <a class="el" href="inventory_8cpp_source.html#l00252">inventory::update_cache_with_item()</a>, <a class="el" href="inventory_8cpp_source.html#l01207">inventory::update_invlet()</a>, and <a class="el" href="memorial__logger_8cpp_source.html#l00150">memorial_logger::write()</a>.</p>

</div>
</div>
<a id="a663816619c55096d7e2736484047ce5a" name="a663816619c55096d7e2736484047ce5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a663816619c55096d7e2736484047ce5a">&#9670;&nbsp;</a></span>irradiation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::irradiation = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02203">2203</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l02683">armor_fit_info()</a>.</p>

</div>
</div>
<a id="a05c24ca1052a7a8cb9fd314acdb49f40" name="a05c24ca1052a7a8cb9fd314acdb49f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c24ca1052a7a8cb9fd314acdb49f40">&#9670;&nbsp;</a></span>is_favorite</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item::is_favorite = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02234">2234</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l02112">activity_on_turn_move_loot()</a>, <a class="el" href="inventory_8cpp_source.html#l01141">inventory::assign_empty_invlet()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01347">advanced_inventory::display()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02173">inventory_drop_selector::execute()</a>, <a class="el" href="consumption_8cpp_source.html#l01338">Character::feed_furnace_with()</a>, <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00709">advanced_inventory::move_all_items()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00683">inventory_column::on_input()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01634">game_menus::inv::reassign_letter()</a>, <a class="el" href="item_8cpp_source.html#l09911">set_favorite()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00641">inventory_column::set_stack_favorite()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, and <a class="el" href="item_8cpp_source.html#l04440">tname()</a>.</p>

</div>
</div>
<a id="ac5ff6ac1e7657b7b8525140669744a28" name="ac5ff6ac1e7657b7b8525140669744a28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ff6ac1e7657b7b8525140669744a28">&#9670;&nbsp;</a></span>item_counter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::item_counter = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02204">2204</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l00554">activate()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="crafting_8cpp_source.html#l00918">handle_craft_failure()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item_8cpp_source.html#l00968">merge_charges()</a>, <a class="el" href="item_8cpp_source.html#l09000">process_fake_mill()</a>, <a class="el" href="item_8cpp_source.html#l09015">process_fake_smoke()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="item_8cpp_source.html#l09031">process_litcig()</a>, <a class="el" href="item_8cpp_source.html#l09289">process_wet()</a>, <a class="el" href="crafting_8cpp_source.html#l00892">set_next_failure_point()</a>, <a class="el" href="iuse_8cpp_source.html#l00527">iuse::smoking()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="iuse_8cpp_source.html#l05571">iuse::towel_common()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00440">countdown_actor::use()</a>.</p>

</div>
</div>
<a id="addf9c2960c915fece8d94fcb7fe825e8" name="addf9c2960c915fece8d94fcb7fe825e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addf9c2960c915fece8d94fcb7fe825e8">&#9670;&nbsp;</a></span>item_tags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html#a8dc4dc3c88665a905f8bed08cfa52e74">FlagsSetType</a> item::item_tags</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02163">2163</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00732">wash_activity_actor::finish()</a>, <a class="el" href="inventory_8cpp_source.html#l00508">inventory::form_from_map()</a>, <a class="el" href="item_8cpp_source.html#l05371">get_comestible_fun()</a>, <a class="el" href="item_8cpp_source.html#l05242">get_flags()</a>, <a class="el" href="item_8cpp_source.html#l05187">has_own_flag()</a>, <a class="el" href="crafting_8cpp_source.html#l00972">inherit_flags()</a>, <a class="el" href="item_8cpp_source.html#l05221">set_flag()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="iuse_8cpp_source.html#l09776">iuse::toggle_heats_food()</a>, <a class="el" href="item_8cpp_source.html#l05227">unset_flag()</a>, <a class="el" href="item_8cpp_source.html#l05177">unset_flags()</a>, and <a class="el" href="wish_8cpp_source.html#l00535">debug_menu::wishitem()</a>.</p>

</div>
</div>
<a id="ad1a1f133775f8a53a0faa3ec34b5acf4" name="ad1a1f133775f8a53a0faa3ec34b5acf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1a1f133775f8a53a0faa3ec34b5acf4">&#9670;&nbsp;</a></span>item_vars</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::string&gt; item::item_vars</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02167">2167</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08690">already_used_by_player()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l01077">clear_vars()</a>, <a class="el" href="item_8cpp_source.html#l01072">erase_var()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="item_8cpp_source.html#l01022">get_var()</a>, <a class="el" href="item_8cpp_source.html#l01067">has_var()</a>, <a class="el" href="item_8cpp_source.html#l08703">mark_as_used_by_player()</a>, <a class="el" href="item_8cpp_source.html#l00992">set_var()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, and <a class="el" href="item_8cpp_source.html#l09678">type_name()</a>.</p>

</div>
</div>
<a id="ab6d81a20390e08bf7dec4d05cb118592" name="ab6d81a20390e08bf7dec4d05cb118592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6d81a20390e08bf7dec4d05cb118592">&#9670;&nbsp;</a></span>last_rot_check</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> item::last_rot_check = <a class="el" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time when the rot calculation was last performed. </p>

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02221">2221</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l05540">calc_rot()</a>, <a class="el" href="item_8cpp_source.html#l05571">calc_rot_while_processing()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item_8cpp_source.html#l09842">legacy_fast_forward_time()</a>, <a class="el" href="item_8cpp_source.html#l09426">process()</a>, <a class="el" href="item_8cpp_source.html#l08788">process_rot()</a>, and <a class="el" href="item_8cpp_source.html#l05428">set_relative_rot()</a>.</p>

</div>
</div>
<a id="a811dfbca1ec2cd86b6b4de809c642fe8" name="a811dfbca1ec2cd86b6b4de809c642fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a811dfbca1ec2cd86b6b4de809c642fe8">&#9670;&nbsp;</a></span>light</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlight__emission.html">light_emission</a> item::light = <a class="el" href="item_8h.html#a42c61c45a7c529e35bbd74c72b32a9ee">nolight</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02229">2229</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l08201">getlight()</a>, and <a class="el" href="item_8cpp_source.html#l06793">is_emissive()</a>.</p>

</div>
</div>
<a id="ab49c75e996c7d943b09c3c427b519088" name="ab49c75e996c7d943b09c3c427b519088"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab49c75e996c7d943b09c3c427b519088">&#9670;&nbsp;</a></span>mission_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::mission_id = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02205">2205</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="computer__session_8cpp_source.html#l00724">computer_session::action_download_software()</a>, and <a class="el" href="character_8h_source.html#l01131">Character::has_mission_item_filter::operator()()</a>.</p>

</div>
</div>
<a id="a155a45ada3eb970d006b701a50026c27" name="a155a45ada3eb970d006b701a50026c27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a155a45ada3eb970d006b701a50026c27">&#9670;&nbsp;</a></span>old_owner</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> item::old_owner = <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">faction_id::NULL_ID</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02227">2227</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01290">get_old_owner()</a>, and <a class="el" href="item_8cpp_source.html#l01296">validate_ownership()</a>.</p>

</div>
</div>
<a id="a9f4a009afa1b3adbe1136f0cb65c43ac" name="a9f4a009afa1b3adbe1136f0cb65c43ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f4a009afa1b3adbe1136f0cb65c43ac">&#9670;&nbsp;</a></span>owner</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> item::owner = <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">faction_id::NULL_ID</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02225">2225</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l06831">bonus_from_enchantments()</a>, <a class="el" href="item_8cpp_source.html#l01284">get_owner()</a>, <a class="el" href="item_8cpp_source.html#l04364">handle_pickup_ownership()</a>, <a class="el" href="item_8cpp_source.html#l01275">set_owner()</a>, and <a class="el" href="item_8cpp_source.html#l01296">validate_ownership()</a>.</p>

</div>
</div>
<a id="a3a7bbdd2a2150b21f4a56f73b6d69573" name="a3a7bbdd2a2150b21f4a56f73b6d69573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a7bbdd2a2150b21f4a56f73b6d69573">&#9670;&nbsp;</a></span>player_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::player_id = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02206">2206</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

</div>
</div>
<a id="a9f276bdd47b29bc1649dce5c64cbe433" name="a9f276bdd47b29bc1649dce5c64cbe433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f276bdd47b29bc1649dce5c64cbe433">&#9670;&nbsp;</a></span>poison</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::poison = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02200">2200</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="weather_8cpp_source.html#l00211">add_rain_to_container()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">player::eat()</a>, <a class="el" href="crafting_8cpp_source.html#l00972">inherit_flags()</a>, <a class="el" href="map_8cpp_source.html#l07075">map::produce_sap()</a>, <a class="el" href="npcmove_8cpp_source.html#l03745">rate_food()</a>, <a class="el" href="iuse_8cpp_source.html#l02093">iuse::water_purifier()</a>, and <a class="el" href="npc_8cpp_source.html#l02880">npc::will_accept_from_player()</a>.</p>

</div>
</div>
<a id="ae6e5a27a821edd75162d46364a24699b" name="ae6e5a27a821edd75162d46364a24699b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6e5a27a821edd75162d46364a24699b">&#9670;&nbsp;</a></span>recipe_charges</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item::recipe_charges = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02198">2198</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, and <a class="el" href="consumption_8cpp_source.html#l00327">Character::compute_effective_nutrients()</a>.</p>

</div>
</div>
<a id="ae30c1b0547a59fb9bb199ed36fb49b21" name="ae30c1b0547a59fb9bb199ed36fb49b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae30c1b0547a59fb9bb199ed36fb49b21">&#9670;&nbsp;</a></span>relic_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1value__ptr.html">cata::value_ptr</a>&lt;<a class="el" href="classrelic.html">relic</a>&gt; item::relic_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02193">2193</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l00530">convert()</a>, <a class="el" href="item_8cpp_source.html#l06823">get_enchantments()</a>, <a class="el" href="item_8cpp_source.html#l06818">is_relic()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, <a class="el" href="item_8cpp_source.html#l08920">mutations_from_wearing()</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

</div>
</div>
<a id="a69c3ef3dfce7b7e230016ea98af4520a" name="a69c3ef3dfce7b7e230016ea98af4520a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69c3ef3dfce7b7e230016ea98af4520a">&#9670;&nbsp;</a></span>rot</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> item::rot = 0_turns</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accumulated rot, expressed as time the item has been in standard temperature. </p>
<p >It is compared to shelf life (<a class="el" href="structislot__comestible.html#a993552f78902a64ac85b99d973d2acaf">islot_comestible::spoils</a>) to decide if the item is rotten. </p>

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02219">2219</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l05540">calc_rot()</a>, <a class="el" href="item_8cpp_source.html#l05420">get_relative_rot()</a>, <a class="el" href="item_8cpp_source.html#l09842">legacy_fast_forward_time()</a>, <a class="el" href="item_8cpp_source.html#l08961">process_corpse()</a>, <a class="el" href="item_8cpp_source.html#l05428">set_relative_rot()</a>, <a class="el" href="item_8cpp_source.html#l05441">set_rot()</a>, <a class="el" href="item_8cpp_source.html#l05446">spoilage_sort_order()</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

</div>
</div>
<a id="aa475db2839de54a872f47b7c238e214a" name="aa475db2839de54a872f47b7c238e214a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa475db2839de54a872f47b7c238e214a">&#9670;&nbsp;</a></span>snip_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> item::snip_id = <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">snippet_id::NULL_ID</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02202">2202</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l00368">item()</a>, and <a class="el" href="item_8cpp_source.html#l08517">set_snippet()</a>.</p>

</div>
</div>
<a id="ad3777e432e98805820880d8f2feca087" name="ad3777e432e98805820880d8f2feca087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3777e432e98805820880d8f2feca087">&#9670;&nbsp;</a></span>techniques</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a>&gt; item::techniques</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02170">2170</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l05333">add_technique()</a>, <a class="el" href="item_8cpp_source.html#l03343">combat_info()</a>, <a class="el" href="item_8cpp_source.html#l05364">get_techniques()</a>, <a class="el" href="item_8cpp_source.html#l05328">has_technique()</a>, and <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>.</p>

</div>
</div>
<a id="ac1d2c4c33b8a499812f3437cb2fad742" name="ac1d2c4c33b8a499812f3437cb2fad742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1d2c4c33b8a499812f3437cb2fad742">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structitype.html">itype</a>* item::type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item_8h_source.html#l02156">2156</a> of file <a class="el" href="item_8h_source.html">item.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l00554">activate()</a>, <a class="el" href="npcmove_8cpp_source.html#l03627">npc::activate_item()</a>, <a class="el" href="map_8cpp_source.html#l04328">map::add_item()</a>, <a class="el" href="iuse_8cpp_source.html#l05693">iuse::adrenaline_injector()</a>, <a class="el" href="iuse_8cpp_source.html#l00481">alcohol()</a>, <a class="el" href="item_8cpp_source.html#l07258">ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07376">ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07439">ammo_default()</a>, <a class="el" href="item_8cpp_source.html#l07471">ammo_effects()</a>, <a class="el" href="item_8cpp_source.html#l07296">ammo_required()</a>, <a class="el" href="item_8cpp_source.html#l00587">ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l07431">ammo_type()</a>, <a class="el" href="item_8cpp_source.html#l07408">ammo_types()</a>, <a class="el" href="iuse_8cpp_source.html#l00870">iuse::antiasthmatic()</a>, <a class="el" href="iuse_8cpp_source.html#l00621">iuse::antibiotic()</a>, <a class="el" href="iuse_8cpp_source.html#l00772">iuse::anticonvulsant()</a>, <a class="el" href="iuse_8cpp_source.html#l00707">iuse::antifungal()</a>, <a class="el" href="iuse_8cpp_source.html#l00727">iuse::antiparasitic()</a>, <a class="el" href="item_8cpp_source.html#l02476">armor_info()</a>, <a class="el" href="item_8cpp_source.html#l02433">armor_protection_info()</a>, <a class="el" href="iuse_8cpp_source.html#l05178">iuse::artifact()</a>, <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="item_8cpp_source.html#l05148">base_damage_thrown()</a>, <a class="el" href="item_8cpp_source.html#l04963">base_volume()</a>, <a class="el" href="item_8cpp_source.html#l01463">basic_info()</a>, <a class="el" href="item_8cpp_source.html#l03001">battery_info()</a>, <a class="el" href="iuse_8cpp_source.html#l05982">iuse::bell()</a>, <a class="el" href="item_8cpp_source.html#l03214">bionic_info()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00451">talk_function::bionic_install()</a>, <a class="el" href="iuse_8cpp_source.html#l01026">iuse::blech()</a>, <a class="el" href="iuse_8cpp_source.html#l01060">iuse::blech_because_unclean()</a>, <a class="el" href="iuse_8cpp_source.html#l04606">iuse::blood_draw()</a>, <a class="el" href="iuse_8cpp_source.html#l05040">iuse::boltcutters()</a>, <a class="el" href="player_8cpp_source.html#l03659">player::book_fun_for()</a>, <a class="el" href="item_8cpp_source.html#l02839">book_info()</a>, <a class="el" href="item_8cpp_source.html#l05801">brewing_results()</a>, <a class="el" href="item_8cpp_source.html#l05796">brewing_time()</a>, <a class="el" href="mondeath_8cpp_source.html#l00623">mdeath::broken()</a>, <a class="el" href="item_8cpp_source.html#l08122">burn()</a>, <a class="el" href="bionics_8cpp_source.html#l01154">Character::burn_fuel()</a>, <a class="el" href="iuse_8cpp_source.html#l03714">iuse::c4()</a>, <a class="el" href="player_8cpp_source.html#l04410">player::calc_focus_equilibrium()</a>, <a class="el" href="iuse_8cpp_source.html#l04595">iuse::call_of_tindalos()</a>, <a class="el" href="iuse_8cpp_source.html#l07494">iuse::camera()</a>, <a class="el" href="item_8cpp_source.html#l06869">can_contain()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01273">can_do_activity_there()</a>, <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="iuse_8cpp_source.html#l03485">iuse::can_goo()</a>, <a class="el" href="item_8cpp_source.html#l08714">can_holster()</a>, <a class="el" href="npc_8cpp_source.html#l00838">npc::can_read()</a>, <a class="el" href="player_8cpp_source.html#l02649">player::can_reload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02848">bandolier_actor::can_store()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02199">fireweapon_off_actor::can_use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02297">manualnoise_actor::can_use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04315">install_bionic_actor::can_use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04274">saw_barrel_actor::can_use_on()</a>, <a class="el" href="iuse_8cpp_source.html#l09356">iuse::capture_monster_act()</a>, <a class="el" href="item_8cpp_source.html#l00861">charges_per_volume()</a>, <a class="el" href="game_8cpp_source.html#l12044">check_art_charge_req()</a>, <a class="el" href="iuse_8cpp_source.html#l01099">iuse::chew()</a>, <a class="el" href="iuse_8cpp_source.html#l04817">iuse::chop_logs()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02090">chop_plank_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l04773">iuse::chop_tree()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02416">chop_tree_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l02935">iuse::clear_rubble()</a>, <a class="el" href="item_8cpp_source.html#l04796">color()</a>, <a class="el" href="item_8cpp_source.html#l04022">color_in_inventory()</a>, <a class="el" href="item_8cpp_source.html#l03343">combat_info()</a>, <a class="el" href="item_8cpp_source.html#l07455">common_ammo_default()</a>, <a class="el" href="consumption_8cpp_source.html#l00184">prepared_item_consumption::consume()</a>, <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>, <a class="el" href="player_8cpp_source.html#l01935">player::consume_med()</a>, <a class="el" href="iuse_8cpp_source.html#l05789">iuse::contacts()</a>, <a class="el" href="iuse_8cpp_source.html#l09338">contain_monster()</a>, <a class="el" href="item_8cpp_source.html#l02973">container_info()</a>, <a class="el" href="item_8cpp_source.html#l00530">convert()</a>, <a class="el" href="item_8cpp_source.html#l05855">count_by_charges()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03287">activity_handlers::cracking_do_turn()</a>, <a class="el" href="melee_8cpp_source.html#l00712">Character::crit_chance()</a>, <a class="el" href="iuse_8cpp_source.html#l02411">iuse::crowbar()</a>, <a class="el" href="item_8cpp_source.html#l05091">damage_melee()</a>, <a class="el" href="iuse_8cpp_source.html#l00961">iuse::datura()</a>, <a class="el" href="item_8cpp_source.html#l00537">deactivate()</a>, <a class="el" href="npc_8cpp_source.html#l01483">npc::decide_needs()</a>, <a class="el" href="item_8cpp_source.html#l08592">detonate()</a>, <a class="el" href="iuse_8cpp_source.html#l02700">iuse::dig()</a>, <a class="el" href="iuse_8cpp_source.html#l02796">iuse::dig_channel()</a>, <a class="el" href="iuse_8cpp_source.html#l02131">iuse::directional_antenna()</a>, <a class="el" href="iuse_8cpp_source.html#l09272">iuse::directional_hologram()</a>, <a class="el" href="item_8cpp_source.html#l04706">display_name()</a>, <a class="el" href="iuse_8cpp_source.html#l04239">iuse::dive_tank()</a>, <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, <a class="el" href="iuse_8cpp_source.html#l04569">iuse::dog_whistle()</a>, <a class="el" href="dump_8cpp_source.html#l00037">game::dump_stats()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">player::eat()</a>, <a class="el" href="monattack_8cpp_source.html#l00337">mattack::eat_food()</a>, <a class="el" href="iuse_8cpp_source.html#l00594">iuse::ecig()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="iuse_8cpp_source.html#l08007">emit_radio_signal()</a>, <a class="el" href="item_8cpp_source.html#l04007">engine_displacement()</a>, <a class="el" href="character_8cpp_source.html#l03347">Character::enumerate_unmet_requirements()</a>, <a class="el" href="iuse_8cpp_source.html#l01927">iuse::extinguisher()</a>, <a class="el" href="iuse_8cpp_source.html#l00634">iuse::eyedrops()</a>, <a class="el" href="item_8cpp_source.html#l06654">faults_potential()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01086">talk_function::field_harvest()</a>, <a class="el" href="iuse_8cpp_source.html#l02862">iuse::fill_pit()</a>, <a class="el" href="item_8cpp_source.html#l03546">final_info()</a>, <a class="el" href="item_8cpp_source.html#l06532">find_armor_data()</a>, <a class="el" href="npc_8cpp_source.html#l00894">npc::finish_read()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03741">heal_actor::finish_using()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">player::fire_gun()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00699">avatar_action::fire_wielded_weapon()</a>, <a class="el" href="iuse_8cpp_source.html#l03859">iuse::firecracker()</a>, <a class="el" href="iexamine_8cpp_source.html#l02856">iexamine::fireplace()</a>, <a class="el" href="iuse_8cpp_source.html#l00863">iuse::flu_vaccine()</a>, <a class="el" href="iuse_8cpp_source.html#l00975">iuse::flumed()</a>, <a class="el" href="iuse_8cpp_source.html#l00982">iuse::flusleep()</a>, <a class="el" href="iuse_8cpp_source.html#l07877">iuse::foodperson()</a>, <a class="el" href="item_8cpp_source.html#l06666">fuel_energy()</a>, <a class="el" href="item_8cpp_source.html#l06671">fuel_pump_terrain()</a>, <a class="el" href="iuse_8cpp_source.html#l00653">iuse::fungicide()</a>, <a class="el" href="iuse_8cpp_source.html#l04330">iuse::gasmask()</a>, <a class="el" href="iuse_8cpp_source.html#l03382">iuse::geiger()</a>, <a class="el" href="npctalk_8cpp_source.html#l03153">json_talk_topic::gen_responses()</a>, <a class="el" href="consumption_8cpp_source.html#l01445">Character::get_acquirable_energy()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00872">activatable_inventory_preset::get_action_name()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01866">bionic_install_preset::get_anesth_amount()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02044">bionic_uninstall_preset::get_anesth_amount()</a>, <a class="el" href="item_8cpp_source.html#l06954">get_available_recipes()</a>, <a class="el" href="item_8cpp_source.html#l05627">get_base_env_resist_w_filter()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01186">read_inventory_preset::get_book()</a>, <a class="el" href="avatar_8cpp_source.html#l00245">avatar::get_book_reader()</a>, <a class="el" href="item_8cpp_source.html#l08529">get_category()</a>, <a class="el" href="item_8cpp_source.html#l06928">get_chapters()</a>, <a class="el" href="item_8cpp_source.html#l09970">get_clothing_mod_val()</a>, <a class="el" href="item_8cpp_source.html#l09951">get_comestible()</a>, <a class="el" href="item_8cpp_source.html#l05371">get_comestible_fun()</a>, <a class="el" href="item_8cpp_source.html#l08239">get_container_capacity()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00841">activatable_inventory_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01052">read_inventory_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01788">bionic_install_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01897">bionic_install_surgeon_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01998">bionic_uninstall_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00671">comestible_inventory_preset::get_edible_comestible()</a>, <a class="el" href="item_8cpp_source.html#l05670">get_encumber_when_containing()</a>, <a class="el" href="item_8cpp_source.html#l05613">get_env_resist()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01840">bionic_install_preset::get_failure_chance()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01939">bionic_install_surgeon_preset::get_failure_chance()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02023">bionic_uninstall_preset::get_failure_chance()</a>, <a class="el" href="character_8cpp_source.html#l00570">Character::get_fastest_sight()</a>, <a class="el" href="item_8cpp_source.html#l09759">get_gun_ups_drain()</a>, <a class="el" href="npc_8cpp_source.html#l01891">npc::get_healing_item()</a>, <a class="el" href="melee_8cpp_source.html#l00274">Character::get_hit_weapon()</a>, <a class="el" href="item_8cpp_source.html#l05725">get_layer()</a>, <a class="el" href="item_8cpp_source.html#l09871">get_min_str()</a>, <a class="el" href="item_8cpp_source.html#l03968">get_mod_locations()</a>, <a class="el" href="character_8cpp_source.html#l00594">Character::get_most_accurate_sight()</a>, <a class="el" href="clzones_8cpp_source.html#l00846">zone_manager::get_near_zone_type_for_item()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01833">bionic_install_preset::get_operation_duration()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01932">bionic_install_surgeon_preset::get_operation_duration()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02016">bionic_uninstall_preset::get_operation_duration()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00645">comestible_inventory_preset::get_order()</a>, <a class="el" href="item_8cpp_source.html#l05791">get_pet_armor_bodytype()</a>, <a class="el" href="item_8cpp_source.html#l05781">get_pet_armor_max_vol()</a>, <a class="el" href="item_8cpp_source.html#l05786">get_pet_armor_min_vol()</a>, <a class="el" href="item_8cpp_source.html#l09606">get_plant_epoch()</a>, <a class="el" href="item_8cpp_source.html#l09620">get_plant_name()</a>, <a class="el" href="item_8cpp_source.html#l05258">get_property_int64_t()</a>, <a class="el" href="item_8cpp_source.html#l05252">get_property_string()</a>, <a class="el" href="item_8cpp_source.html#l05319">get_qualities()</a>, <a class="el" href="item_8cpp_source.html#l05272">get_quality()</a>, <a class="el" href="item_8cpp_source.html#l06378">get_reload_time()</a>, <a class="el" href="item_8cpp_source.html#l08268">get_remaining_capacity_for_liquid()</a>, <a class="el" href="item_8cpp_source.html#l05582">get_storage()</a>, <a class="el" href="item_8cpp_source.html#l05364">get_techniques()</a>, <a class="el" href="item_8cpp_source.html#l05759">get_thickness()</a>, <a class="el" href="item_8cpp_source.html#l08247">get_total_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07804">get_use_internal()</a>, <a class="el" href="clzones_8cpp_source.html#l00405">plot_options::get_zone_name_suggestion()</a>, <a class="el" href="iexamine_8cpp_source.html#l04137">getGasDiscountCardQuality()</a>, <a class="el" href="item_8cpp_source.html#l08223">getlight_emit()</a>, <a class="el" href="item_8cpp_source.html#l05402">goes_bad_after_opening()</a>, <a class="el" href="iuse_8cpp_source.html#l03560">iuse::granade()</a>, <a class="el" href="iuse_8cpp_source.html#l03569">iuse::granade_act()</a>, <a class="el" href="item_8cpp_source.html#l07119">gun_damage()</a>, <a class="el" href="item_8cpp_source.html#l07072">gun_dispersion()</a>, <a class="el" href="item_8cpp_source.html#l01961">gun_info()</a>, <a class="el" href="ranged_8cpp_source.html#l01776">gun_noise()</a>, <a class="el" href="item_8cpp_source.html#l07182">gun_range()</a>, <a class="el" href="item_8cpp_source.html#l07168">gun_recoil()</a>, <a class="el" href="item_8cpp_source.html#l07148">gun_recoil_multiplier()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="item_8cpp_source.html#l07026">gun_skill()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">player::gun_value()</a>, <a class="el" href="item_8cpp_source.html#l02324">gunmod_info()</a>, <a class="el" href="player_8cpp_source.html#l03486">player::gunmod_installation_odds()</a>, <a class="el" href="iuse_8cpp_source.html#l04963">iuse::hacksaw()</a>, <a class="el" href="iuse_8cpp_source.html#l09180">iuse::hairkit()</a>, <a class="el" href="iuse_8cpp_source.html#l02352">iuse::hammer()</a>, <a class="el" href="iuse_8cpp_source.html#l05522">iuse::handle_ground_graffiti()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">player::handle_gun_damage()</a>, <a class="el" href="item_8cpp_source.html#l09584">has_effect_when_carried()</a>, <a class="el" href="item_8cpp_source.html#l09566">has_effect_when_wielded()</a>, <a class="el" href="item_8cpp_source.html#l09575">has_effect_when_worn()</a>, <a class="el" href="item_8cpp_source.html#l06676">has_explosion_data()</a>, <a class="el" href="item_8cpp_source.html#l05192">has_flag()</a>, <a class="el" href="npc_8cpp_source.html#l01849">npc::has_healing_options()</a>, <a class="el" href="item_8cpp_source.html#l05247">has_property()</a>, <a class="el" href="item_8cpp_source.html#l08642">has_rotten_away()</a>, <a class="el" href="item_8cpp_source.html#l05328">has_technique()</a>, <a class="el" href="item_8cpp_source.html#l07781">has_use()</a>, <a class="el" href="npcmove_8cpp_source.html#l03642">npc::heal_player()</a>, <a class="el" href="npcmove_8cpp_source.html#l03684">npc::heal_self()</a>, <a class="el" href="iuse_8cpp_source.html#l00462">iuse::honeycomb()</a>, <a class="el" href="item_8cpp_source.html#l00838">in_its_container()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00477">countdown_actor::info()</a>, <a class="el" href="item_8cpp_source.html#l03887">info()</a>, <a class="el" href="iuse_8cpp_source.html#l00991">iuse::inhaler()</a>, <a class="el" href="crafting_8cpp_source.html#l00972">inherit_flags()</a>, <a class="el" href="character_8cpp_source.html#l07318">Character::invoke_item()</a>, <a class="el" href="avatar_8cpp_source.html#l01283">avatar::invoke_item()</a>, <a class="el" href="npc_8cpp_source.html#l02831">npc::invoke_item()</a>, <a class="el" href="item_8cpp_source.html#l06432">is_ammo()</a>, <a class="el" href="item_8cpp_source.html#l06813">is_artifact()</a>, <a class="el" href="item_8cpp_source.html#l06422">is_bandolier()</a>, <a class="el" href="item_8cpp_source.html#l06412">is_battery()</a>, <a class="el" href="item_8cpp_source.html#l06402">is_bionic()</a>, <a class="el" href="item_8cpp_source.html#l06559">is_book()</a>, <a class="el" href="item_8cpp_source.html#l06453">is_brewable()</a>, <a class="el" href="item_8cpp_source.html#l06584">is_bucket()</a>, <a class="el" href="item_8cpp_source.html#l06569">is_container()</a>, <a class="el" href="item_8cpp_source.html#l06798">is_deployable()</a>, <a class="el" href="item_8cpp_source.html#l06793">is_emissive()</a>, <a class="el" href="item_8cpp_source.html#l06600">is_engine()</a>, <a class="el" href="item_8cpp_source.html#l06610">is_fuel()</a>, <a class="el" href="item_8cpp_source.html#l06367">is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06397">is_gunmod()</a>, <a class="el" href="item_8cpp_source.html#l06427">is_holster()</a>, <a class="el" href="item_8cpp_source.html#l06407">is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06579">is_non_resealable_container()</a>, <a class="el" href="item_8cpp_source.html#l00729">is_null()</a>, <a class="el" href="item_8cpp_source.html#l09601">is_seed()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00833">activatable_inventory_preset::is_shown()</a>, <a class="el" href="item_8cpp_source.html#l06803">is_tool()</a>, <a class="el" href="item_8cpp_source.html#l06615">is_toolmod()</a>, <a class="el" href="item_8cpp_source.html#l06808">is_transformable()</a>, <a class="el" href="item_8cpp_source.html#l09863">is_upgrade()</a>, <a class="el" href="item_8cpp_source.html#l06574">is_watertight_container()</a>, <a class="el" href="item_8cpp_source.html#l06605">is_wheel()</a>, <a class="el" href="item_8cpp_source.html#l00362">item()</a>, <a class="el" href="item__action_8cpp_source.html#l00080">item_has_uses_recursive()</a>, <a class="el" href="player_8cpp_source.html#l02821">player::item_reload_cost()</a>, <a class="el" href="iuse_8cpp_source.html#l03227">iuse::jackhammer()</a>, <a class="el" href="iuse_8cpp_source.html#l05716">iuse::jet_injector()</a>, <a class="el" href="iexamine_8cpp_source.html#l01452">iexamine::locked_object()</a>, <a class="el" href="iexamine_8cpp_source.html#l01483">iexamine::locked_object_pickable()</a>, <a class="el" href="iuse_8cpp_source.html#l04725">iuse::lumber()</a>, <a class="el" href="iuse_8cpp_source.html#l02336">iuse::ma_manual()</a>, <a class="el" href="item_8cpp_source.html#l06263">made_of()</a>, <a class="el" href="item_8cpp_source.html#l07539">magazine_compatible()</a>, <a class="el" href="item_8cpp_source.html#l07518">magazine_default()</a>, <a class="el" href="item_8cpp_source.html#l01825">magazine_info()</a>, <a class="el" href="item_8cpp_source.html#l07503">magazine_integral()</a>, <a class="el" href="iuse_8cpp_source.html#l02542">iuse::makemound()</a>, <a class="el" href="item_8cpp_source.html#l06942">mark_chapter_as_read()</a>, <a class="el" href="iuse_8cpp_source.html#l01395">iuse::marloss()</a>, <a class="el" href="iuse_8cpp_source.html#l01424">iuse::marloss_gel()</a>, <a class="el" href="iuse_8cpp_source.html#l01407">iuse::marloss_seed()</a>, <a class="el" href="item_8cpp_source.html#l06066">max_damage()</a>, <a class="el" href="iuse_8cpp_source.html#l00899">iuse::meditate()</a>, <a class="el" href="character_8cpp_source.html#l03435">Character::meets_requirements()</a>, <a class="el" href="character_8cpp_source.html#l03427">Character::meets_stat_requirements()</a>, <a class="el" href="iuse_8cpp_source.html#l09706">iuse::melatonin_tablet()</a>, <a class="el" href="melee_8cpp_source.html#l02233">player::melee_value()</a>, <a class="el" href="iuse_8cpp_source.html#l00815">iuse::meth()</a>, <a class="el" href="iexamine_8cpp_source.html#l05493">mill_load_food()</a>, <a class="el" href="item_8cpp_source.html#l06061">min_damage()</a>, <a class="el" href="iuse_8cpp_source.html#l04673">iuse::mind_splicer()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02369">mine_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l03893">iuse::mininuke()</a>, <a class="el" href="item_8cpp_source.html#l06076">mod_damage()</a>, <a class="el" href="item_8cpp_source.html#l00569">mod_energy()</a>, <a class="el" href="item__group_8cpp_source.html#l00239">Item_modifier::modify()</a>, <a class="el" href="consumption_8cpp_source.html#l01059">Character::modify_morale()</a>, <a class="el" href="iuse_8cpp_source.html#l05094">iuse::mop()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00090">avatar_action::move()</a>, <a class="el" href="iuse_8cpp_source.html#l04104">iuse::mp3()</a>, <a class="el" href="iuse_8cpp_source.html#l04190">iuse::mp3_on()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="mutation_8cpp_source.html#l01590">mutagen_common_checks()</a>, <a class="el" href="iuse_8cpp_source.html#l01436">iuse::mycus()</a>, <a class="el" href="iuse_8cpp_source.html#l02252">iuse::noise_emitter_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02263">iuse::noise_emitter_on()</a>, <a class="el" href="item_8cpp_source.html#l04424">on_contents_changed()</a>, <a class="el" href="item_8cpp_source.html#l09819">on_drop()</a>, <a class="el" href="item_8cpp_source.html#l04403">on_pickup()</a>, <a class="el" href="item_8cpp_source.html#l04283">on_takeoff()</a>, <a class="el" href="item_8cpp_source.html#l04185">on_wear()</a>, <a class="el" href="item_8cpp_source.html#l04303">on_wield()</a>, <a class="el" href="item_8cpp_source.html#l06996">operator&lt;()</a>, <a class="el" href="iuse_8cpp_source.html#l01005">iuse::oxygen_bottle()</a>, <a class="el" href="iuse_8cpp_source.html#l03910">iuse::pheromone()</a>, <a class="el" href="iuse_8cpp_source.html#l01076">iuse::plantblech()</a>, <a class="el" href="iuse_8cpp_source.html#l00878">iuse::poison()</a>, <a class="el" href="iuse_8cpp_source.html#l03955">iuse::portal()</a>, <a class="el" href="character_8cpp_source.html#l06448">Character::pour_into()</a>, <a class="el" href="item_8cpp_source.html#l04807">price()</a>, <a class="el" href="ranged_8cpp_source.html#l01539">print_aim()</a>, <a class="el" href="item_8cpp_source.html#l09426">process()</a>, <a class="el" href="game_8cpp_source.html#l11839">game::process_artifact()</a>, <a class="el" href="item_8cpp_source.html#l09198">process_cable()</a>, <a class="el" href="item_8cpp_source.html#l09105">process_extinguish()</a>, <a class="el" href="item_8cpp_source.html#l09455">process_internal()</a>, <a class="el" href="player_8cpp_source.html#l01782">player::process_items()</a>, <a class="el" href="item_8cpp_source.html#l09302">process_tool()</a>, <a class="el" href="map_8cpp_source.html#l04474">process_vehicle_items()</a>, <a class="el" href="item_8cpp_source.html#l09289">process_wet()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00067">vehicle_part::properties_to_item()</a>, <a class="el" href="iuse_8cpp_source.html#l00940">iuse::prozac()</a>, <a class="el" href="iuse_8cpp_source.html#l01132">iuse::purifier()</a>, <a class="el" href="iuse_8cpp_source.html#l01144">iuse::purify_iv()</a>, <a class="el" href="iuse_8cpp_source.html#l01186">iuse::purify_smart()</a>, <a class="el" href="item_8cpp_source.html#l07889">item::reload_option::qty()</a>, <a class="el" href="item_8cpp_source.html#l03167">qualities_info()</a>, <a class="el" href="item_8cpp_source.html#l06271">quality_of()</a>, <a class="el" href="clzones_8cpp_source.html#l00283">plot_options::query_seed()</a>, <a class="el" href="iuse_8cpp_source.html#l05761">iuse::radglove()</a>, <a class="el" href="iuse_8cpp_source.html#l02120">iuse::radio_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02165">iuse::radio_on()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="iuse_8cpp_source.html#l07973">iuse::radiocaron()</a>, <a class="el" href="iuse_8cpp_source.html#l08067">iuse::radiocontrol()</a>, <a class="el" href="player_8cpp_source.html#l03318">player::rate_action_use()</a>, <a class="el" href="npcmove_8cpp_source.html#l03745">rate_food()</a>, <a class="el" href="handle__action_8cpp_source.html#l01288">read()</a>, <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00969">read_inventory_preset::read_inventory_preset()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="item_8cpp_source.html#l07949">reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02066">activity_handlers::reload_finish()</a>, <a class="el" href="item_8cpp_source.html#l07866">item::reload_option::reload_option()</a>, <a class="el" href="iuse_8cpp_source.html#l08258">iuse::remoteveh()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03234">repair_item_actor::repair_recipe_difficulty()</a>, <a class="el" href="item_8cpp_source.html#l06207">repaired_with()</a>, <a class="el" href="item_8cpp_source.html#l09254">reset_cable()</a>, <a class="el" href="monattack_8cpp_source.html#l04634">mattack::riotbot()</a>, <a class="el" href="iuse_8cpp_source.html#l01980">iuse::rm13armor_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02002">iuse::rm13armor_on()</a>, <a class="el" href="iuse_8cpp_source.html#l06021">iuse::robotcontrol()</a>, <a class="el" href="iexamine_8cpp_source.html#l01398">iexamine::safe()</a>, <a class="el" href="iuse_8cpp_source.html#l06003">iuse::seed()</a>, <a class="el" href="iuse_8cpp_source.html#l00448">iuse::sewage()</a>, <a class="el" href="iuse_8cpp_source.html#l09165">iuse::shavekit()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01417">activity_handlers::shear_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l04053">iuse::shocktonfa_off()</a>, <a class="el" href="item_8cpp_source.html#l07100">sight_dispersion()</a>, <a class="el" href="item_8cpp_source.html#l08069">simulate_burn()</a>, <a class="el" href="iuse_8cpp_source.html#l02973">iuse::siphon()</a>, <a class="el" href="avatar_8cpp_source.html#l00652">skim_book_msg()</a>, <a class="el" href="iuse_8cpp_source.html#l00954">iuse::sleep()</a>, <a class="el" href="iexamine_8cpp_source.html#l05182">smoker_activate()</a>, <a class="el" href="iuse_8cpp_source.html#l00527">iuse::smoking()</a>, <a class="el" href="item_8cpp_source.html#l05446">spoilage_sort_order()</a>, <a class="el" href="item_8cpp_source.html#l00886">stacks_with()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02159">activity_handlers::start_fire_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02129">activity_handlers::start_fire_finish()</a>, <a class="el" href="npc_8cpp_source.html#l00999">npc::start_read()</a>, <a class="el" href="iuse_8cpp_source.html#l05738">iuse::stimpack()</a>, <a class="el" href="iuse_8cpp_source.html#l09618">iuse::strong_antibiotic()</a>, <a class="el" href="item_8cpp_source.html#l04012">symbol()</a>, <a class="el" href="iuse_8cpp_source.html#l05819">iuse::talking_doll()</a>, <a class="el" href="iuse_8cpp_source.html#l03969">iuse::tazer()</a>, <a class="el" href="iuse_8cpp_source.html#l03467">iuse::teleport()</a>, <a class="el" href="iuse_8cpp_source.html#l00918">iuse::thorazine()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">player::throw_item()</a>, <a class="el" href="npc_8cpp_source.html#l00875">npc::time_to_read()</a>, <a class="el" href="avatar_8cpp_source.html#l00334">avatar::time_to_read()</a>, <a class="el" href="item_8cpp_source.html#l04440">tname()</a>, <a class="el" href="iuse_8cpp_source.html#l05936">iuse::toolmod_attach()</a>, <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>, <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>, <a class="el" href="iuse_8cpp_source.html#l05571">iuse::towel_common()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>, <a class="el" href="item_8cpp_source.html#l09678">type_name()</a>, <a class="el" href="item_8cpp_source.html#l08196">typeId()</a>, <a class="el" href="player_8cpp_source.html#l03047">player::unload()</a>, <a class="el" href="item_8cpp_source.html#l09977">update_clothing_mod_val()</a>, <a class="el" href="active__tile__data_8cpp_source.html#l00246">charger_tile::update_internal()</a>, <a class="el" href="player_8cpp_source.html#l03349">player::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00440">countdown_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00788">consume_drug_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01147">pick_lock_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01476">firestarter_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02171">fireweapon_off_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02232">fireweapon_on_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02277">manualnoise_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03649">heal_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04443">mutagen_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04511">mutagen_iv_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04306">install_bionic_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02584">cast_spell_actor::use()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01748">vehicle::use_monster_capture()</a>, <a class="el" href="iuse_8cpp_source.html#l00852">iuse::vaccine()</a>, <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>, <a class="el" href="iuse_8cpp_source.html#l04500">iuse::vibe()</a>, <a class="el" href="item_8cpp_source.html#l04991">volume()</a>, <a class="el" href="iuse_8cpp_source.html#l04541">iuse::vortex()</a>, <a class="el" href="iuse_8cpp_source.html#l09606">iuse::weak_antibiotic()</a>, <a class="el" href="melee_8cpp_source.html#l02205">player::weapon_value()</a>, <a class="el" href="iuse_8cpp_source.html#l00791">iuse::weed_cake()</a>, <a class="el" href="item_8cpp_source.html#l04844">weight()</a>, <a class="el" href="item_8cpp_source.html#l06661">wheel_area()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00417">vehicle_part::wheel_diameter()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00423">vehicle_part::wheel_width()</a>, <a class="el" href="npc_8cpp_source.html#l02880">npc::will_accept_from_player()</a>, <a class="el" href="item_8cpp_source.html#l08572">will_explode_in_fire()</a>, and <a class="el" href="iuse_8cpp_source.html#l00468">iuse::xanax()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="item_8h_source.html">item.h</a></li>
<li>src/<a class="el" href="crafting_8cpp_source.html">crafting.cpp</a></li>
<li>src/<a class="el" href="item_8cpp_source.html">item.cpp</a></li>
<li>src/<a class="el" href="item__action_8cpp_source.html">item_action.cpp</a></li>
<li>src/<a class="el" href="iuse_8cpp_source.html">iuse.cpp</a></li>
<li>src/<a class="el" href="ranged_8cpp_source.html">ranged.cpp</a></li>
<li>src/<a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a></li>
<li>src/<a class="el" href="weather_8cpp_source.html">weather.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classitem.html">item</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:15:51 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
