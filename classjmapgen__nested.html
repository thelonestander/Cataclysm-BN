<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: jmapgen_nested Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classjmapgen__nested.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classjmapgen__nested-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">jmapgen_nested Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Calls another mapgen call inside the current one.  
 <a href="classjmapgen__nested.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for jmapgen_nested:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classjmapgen__nested.png" usemap="#jmapgen_5Fnested_map" alt=""/>
  <map id="jmapgen_5Fnested_map" name="jmapgen_5Fnested_map">
<area href="classjmapgen__piece.html" title="Basic mapgen object." alt="jmapgen_piece" shape="rect" coords="0,0,103,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__nested_1_1neighborhood__check.html">neighborhood_check</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae04830ca4bea90b3790f893eec1a5816"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__nested.html#ae04830ca4bea90b3790f893eec1a5816">jmapgen_nested</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jsi)</td></tr>
<tr class="separator:ae04830ca4bea90b3790f893eec1a5816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adefa1fc7df75f693fe57e378f31cb373"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__nested.html#adefa1fc7df75f693fe57e378f31cb373">apply</a> (<a class="el" href="classmapgendata.html">mapgendata</a> &amp;dat, const <a class="el" href="structjmapgen__int.html">jmapgen_int</a> &amp;x, const <a class="el" href="structjmapgen__int.html">jmapgen_int</a> &amp;y) const override</td></tr>
<tr class="memdesc:adefa1fc7df75f693fe57e378f31cb373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Place something on the map from mapgendata &amp;dat, at (x,y).  <a href="classjmapgen__nested.html#adefa1fc7df75f693fe57e378f31cb373">More...</a><br /></td></tr>
<tr class="separator:adefa1fc7df75f693fe57e378f31cb373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237c69973ff5f96b2d0b805311b7d105"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__nested.html#a237c69973ff5f96b2d0b805311b7d105">has_vehicle_collision</a> (<a class="el" href="classmapgendata.html">mapgendata</a> &amp;dat, const <a class="el" href="structpoint.html">point</a> &amp;p) const override</td></tr>
<tr class="separator:a237c69973ff5f96b2d0b805311b7d105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classjmapgen__piece"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classjmapgen__piece')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classjmapgen__piece.html">jmapgen_piece</a></td></tr>
<tr class="memitem:a74492b6c35350d7c43725ea1a3182fff inherit pub_methods_classjmapgen__piece"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__piece.html#a74492b6c35350d7c43725ea1a3182fff">check</a> (const std::string &amp;) const</td></tr>
<tr class="memdesc:a74492b6c35350d7c43725ea1a3182fff inherit pub_methods_classjmapgen__piece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sanity-check this piece.  <a href="classjmapgen__piece.html#a74492b6c35350d7c43725ea1a3182fff">More...</a><br /></td></tr>
<tr class="separator:a74492b6c35350d7c43725ea1a3182fff inherit pub_methods_classjmapgen__piece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4088bc4883e7a9f3c661abd1b8394ec inherit pub_methods_classjmapgen__piece"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__piece.html#ab4088bc4883e7a9f3c661abd1b8394ec">~jmapgen_piece</a> ()=default</td></tr>
<tr class="separator:ab4088bc4883e7a9f3c661abd1b8394ec inherit pub_methods_classjmapgen__piece"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a3b880cd1b7dd96ac9d4f59dce5ff8b88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structweighted__int__list.html">weighted_int_list</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__nested.html#a3b880cd1b7dd96ac9d4f59dce5ff8b88">entries</a></td></tr>
<tr class="separator:a3b880cd1b7dd96ac9d4f59dce5ff8b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00903e0f5296883e8a2530887f19469f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structweighted__int__list.html">weighted_int_list</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__nested.html#a00903e0f5296883e8a2530887f19469f">else_entries</a></td></tr>
<tr class="separator:a00903e0f5296883e8a2530887f19469f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac33347201ed285bcbc7e5ba3f08ac7b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classjmapgen__nested_1_1neighborhood__check.html">neighborhood_check</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__nested.html#ac33347201ed285bcbc7e5ba3f08ac7b1">neighbors</a></td></tr>
<tr class="separator:ac33347201ed285bcbc7e5ba3f08ac7b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classjmapgen__piece"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classjmapgen__piece')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classjmapgen__piece.html">jmapgen_piece</a></td></tr>
<tr class="memitem:a24689120105acbefe3d831f568ab6bff inherit pub_attribs_classjmapgen__piece"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structjmapgen__int.html">jmapgen_int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__piece.html#a24689120105acbefe3d831f568ab6bff">repeat</a></td></tr>
<tr class="separator:a24689120105acbefe3d831f568ab6bff inherit pub_attribs_classjmapgen__piece"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classjmapgen__piece"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classjmapgen__piece')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classjmapgen__piece.html">jmapgen_piece</a></td></tr>
<tr class="memitem:a383098fbf7f08d4fb83283643bbe88c5 inherit pro_methods_classjmapgen__piece"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjmapgen__piece.html#a383098fbf7f08d4fb83283643bbe88c5">jmapgen_piece</a> ()</td></tr>
<tr class="separator:a383098fbf7f08d4fb83283643bbe88c5 inherit pro_methods_classjmapgen__piece"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Calls another mapgen call inside the current one. </p>
<p >Note: can't use regular overmap ids. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entries</td><td>list of pairs [nested mapgen id, weight]. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l01779">1779</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae04830ca4bea90b3790f893eec1a5816" name="ae04830ca4bea90b3790f893eec1a5816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae04830ca4bea90b3790f893eec1a5816">&#9670;&nbsp;</a></span>jmapgen_nested()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">jmapgen_nested::jmapgen_nested </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jsi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l01839">1839</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>                                                : <a class="code hl_variable" href="classjmapgen__nested.html#ac33347201ed285bcbc7e5ba3f08ac7b1">neighbors</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#ac7abbde97374a05af2e7077ba9955ed1">jsi</a>.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;neighbors&quot;</span> ) ) {</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>            <a class="code hl_function" href="mapgen_8cpp.html#a5f5f607bc1724f1d08c8868e15755db7">load_weighted_entries</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#ac7abbde97374a05af2e7077ba9955ed1">jsi</a>, <span class="stringliteral">&quot;chunks&quot;</span>, <a class="code hl_variable" href="classjmapgen__nested.html#a3b880cd1b7dd96ac9d4f59dce5ff8b88">entries</a> );</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>            <a class="code hl_function" href="mapgen_8cpp.html#a5f5f607bc1724f1d08c8868e15755db7">load_weighted_entries</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#ac7abbde97374a05af2e7077ba9955ed1">jsi</a>, <span class="stringliteral">&quot;else_chunks&quot;</span>, <a class="code hl_variable" href="classjmapgen__nested.html#a00903e0f5296883e8a2530887f19469f">else_entries</a> );</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>        }</div>
<div class="ttc" id="aclassJsonObject_html_a0cd609c1bb7527609e6025d54f427a5c"><div class="ttname"><a href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">JsonObject::get_object</a></div><div class="ttdeci">JsonObject get_object(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00361">json.cpp:361</a></div></div>
<div class="ttc" id="aclassjmapgen__nested_html_a00903e0f5296883e8a2530887f19469f"><div class="ttname"><a href="classjmapgen__nested.html#a00903e0f5296883e8a2530887f19469f">jmapgen_nested::else_entries</a></div><div class="ttdeci">weighted_int_list&lt; std::string &gt; else_entries</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01837">mapgen.cpp:1837</a></div></div>
<div class="ttc" id="aclassjmapgen__nested_html_a3b880cd1b7dd96ac9d4f59dce5ff8b88"><div class="ttname"><a href="classjmapgen__nested.html#a3b880cd1b7dd96ac9d4f59dce5ff8b88">jmapgen_nested::entries</a></div><div class="ttdeci">weighted_int_list&lt; std::string &gt; entries</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01836">mapgen.cpp:1836</a></div></div>
<div class="ttc" id="aclassjmapgen__nested_html_ac33347201ed285bcbc7e5ba3f08ac7b1"><div class="ttname"><a href="classjmapgen__nested.html#ac33347201ed285bcbc7e5ba3f08ac7b1">jmapgen_nested::neighbors</a></div><div class="ttdeci">neighborhood_check neighbors</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01838">mapgen.cpp:1838</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a5f5f607bc1724f1d08c8868e15755db7"><div class="ttname"><a href="mapgen_8cpp.html#a5f5f607bc1724f1d08c8868e15755db7">load_weighted_entries</a></div><div class="ttdeci">static void load_weighted_entries(const JsonObject &amp;jsi, const std::string &amp;json_key, weighted_int_list&lt; std::string &gt; &amp;list)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01761">mapgen.cpp:1761</a></div></div>
<div class="ttc" id="anamespacemapgen__defer_html_ac7abbde97374a05af2e7077ba9955ed1"><div class="ttname"><a href="namespacemapgen__defer.html#ac7abbde97374a05af2e7077ba9955ed1">mapgen_defer::jsi</a></div><div class="ttdeci">JsonObject jsi</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00405">mapgen.cpp:405</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapgen_8cpp_source.html#l01837">else_entries</a>, <a class="el" href="mapgen_8cpp_source.html#l01836">entries</a>, <a class="el" href="mapgen_8cpp_source.html#l00405">mapgen_defer::jsi</a>, and <a class="el" href="mapgen_8cpp_source.html#l01761">load_weighted_entries()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adefa1fc7df75f693fe57e378f31cb373" name="adefa1fc7df75f693fe57e378f31cb373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adefa1fc7df75f693fe57e378f31cb373">&#9670;&nbsp;</a></span>apply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void jmapgen_nested::apply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmapgendata.html">mapgendata</a> &amp;&#160;</td>
          <td class="paramname"><em>dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structjmapgen__int.html">jmapgen_int</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structjmapgen__int.html">jmapgen_int</a> &amp;&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Place something on the map from mapgendata &amp;dat, at (x,y). </p>

<p>Implements <a class="el" href="classjmapgen__piece.html#a82c99884542de41c80a197f389afe18a">jmapgen_piece</a>.</p>

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l01843">1843</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>                                                                                                 {</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>            <span class="keyword">const</span> std::string *res = <a class="code hl_variable" href="classjmapgen__nested.html#ac33347201ed285bcbc7e5ba3f08ac7b1">neighbors</a>.<a class="code hl_function" href="classjmapgen__nested_1_1neighborhood__check.html#ab2175e1cfa340eb354825ece24d1180b">test</a>( dat ) ? <a class="code hl_variable" href="classjmapgen__nested.html#a3b880cd1b7dd96ac9d4f59dce5ff8b88">entries</a>.pick() : <a class="code hl_variable" href="classjmapgen__nested.html#a00903e0f5296883e8a2530887f19469f">else_entries</a>.pick();</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>            <span class="keywordflow">if</span>( res == <span class="keyword">nullptr</span> || res-&gt;empty() || *res == <span class="stringliteral">&quot;null&quot;</span> ) {</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>                <span class="comment">// This will be common when neighbors.test(...) is false, since else_entires is often empty.</span></div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>            }</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span> </div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>            <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code hl_variable" href="mapgen_8cpp.html#aa8035ef7f77d6d0c2e820216158c6915">nested_mapgen</a>.find( *res );</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>            <span class="keywordflow">if</span>( iter == <a class="code hl_variable" href="mapgen_8cpp.html#aa8035ef7f77d6d0c2e820216158c6915">nested_mapgen</a>.end() ) {</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Unknown nested mapgen function id %s&quot;</span>, res-&gt;c_str() );</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>            }</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span> </div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>            <span class="comment">// A second roll? Let&#39;s allow it for now</span></div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a> = iter-&gt;second.pick();</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a> == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>            }</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span> </div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>            ( *ptr )-&gt;nest( dat, <a class="code hl_struct" href="structpoint.html">point</a>( x.<a class="code hl_function" href="structjmapgen__int.html#af91db998b4c873453177d97ad575d138">get</a>(), y.<a class="code hl_function" href="structjmapgen__int.html#af91db998b4c873453177d97ad575d138">get</a>() ) );</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>        }</div>
<div class="ttc" id="aclassjmapgen__nested_1_1neighborhood__check_html_ab2175e1cfa340eb354825ece24d1180b"><div class="ttname"><a href="classjmapgen__nested_1_1neighborhood__check.html#ab2175e1cfa340eb354825ece24d1180b">jmapgen_nested::neighborhood_check::test</a></div><div class="ttdeci">bool test(mapgendata &amp;dat) const</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01801">mapgen.cpp:1801</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="afmtlib__format_8h_html_a36b7e236fa4242d8655b508bbebb697f"><div class="ttname"><a href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a></div><div class="ttdeci">const void * ptr(const T *p)</div><div class="ttdoc">\rst Converts p to const void* for pointer formatting.</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l04100">fmtlib_format.h:4100</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_aa8035ef7f77d6d0c2e820216158c6915"><div class="ttname"><a href="mapgen_8cpp.html#aa8035ef7f77d6d0c2e820216158c6915">nested_mapgen</a></div><div class="ttdeci">std::map&lt; std::string, weighted_int_list&lt; std::shared_ptr&lt; mapgen_function_json_nested &gt; &gt; &gt; nested_mapgen</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00355">mapgen.cpp:355</a></div></div>
<div class="ttc" id="astructjmapgen__int_html_af91db998b4c873453177d97ad575d138"><div class="ttname"><a href="structjmapgen__int.html#af91db998b4c873453177d97ad575d138">jmapgen_int::get</a></div><div class="ttdeci">int get() const</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00654">mapgen.cpp:654</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="mapgen_8cpp_source.html#l01837">else_entries</a>, <a class="el" href="mapgen_8cpp_source.html#l01836">entries</a>, <a class="el" href="mapgen_8cpp_source.html#l00654">jmapgen_int::get()</a>, <a class="el" href="mapgen_8cpp_source.html#l01838">neighbors</a>, <a class="el" href="mapgen_8cpp_source.html#l00355">nested_mapgen</a>, <a class="el" href="fmtlib__format_8h_source.html#l04100">ptr()</a>, and <a class="el" href="mapgen_8cpp_source.html#l01801">jmapgen_nested::neighborhood_check::test()</a>.</p>

</div>
</div>
<a id="a237c69973ff5f96b2d0b805311b7d105" name="a237c69973ff5f96b2d0b805311b7d105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a237c69973ff5f96b2d0b805311b7d105">&#9670;&nbsp;</a></span>has_vehicle_collision()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool jmapgen_nested::has_vehicle_collision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmapgendata.html">mapgendata</a> &amp;&#160;</td>
          <td class="paramname"><em>dat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classjmapgen__piece.html#a74765ff59286d23cda1aa6ca250f1358">jmapgen_piece</a>.</p>

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l01864">1864</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>                                                                                     {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structweighted__int__list.html">weighted_int_list&lt;std::string&gt;</a> &amp;selected_entries = <a class="code hl_variable" href="classjmapgen__nested.html#ac33347201ed285bcbc7e5ba3f08ac7b1">neighbors</a>.<a class="code hl_function" href="classjmapgen__nested_1_1neighborhood__check.html#ab2175e1cfa340eb354825ece24d1180b">test</a>(</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>                        dat ) ? <a class="code hl_variable" href="classjmapgen__nested.html#a3b880cd1b7dd96ac9d4f59dce5ff8b88">entries</a> : <a class="code hl_variable" href="classjmapgen__nested.html#a00903e0f5296883e8a2530887f19469f">else_entries</a>;</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>            <span class="keywordflow">if</span>( selected_entries.<a class="code hl_function" href="structweighted__list.html#ac22edb12b0027bf3f6d35e6504aeacb5">empty</a>() ) {</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>            }</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span> </div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;entry : selected_entries ) {</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>                <span class="keywordflow">if</span>( entry.obj == <span class="stringliteral">&quot;null&quot;</span> ) {</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>                }</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>                <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code hl_variable" href="mapgen_8cpp.html#aa8035ef7f77d6d0c2e820216158c6915">nested_mapgen</a>.find( entry.obj );</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>                <span class="keywordflow">if</span>( iter == <a class="code hl_variable" href="mapgen_8cpp.html#aa8035ef7f77d6d0c2e820216158c6915">nested_mapgen</a>.end() ) {</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>                }</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;nest : iter-&gt;second ) {</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>                    <span class="keywordflow">if</span>( nest.obj-&gt;has_vehicle_collision( dat, p ) ) {</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>                    }</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>                }</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>            }</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span> </div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>        }</div>
<div class="ttc" id="astructweighted__int__list_html"><div class="ttname"><a href="structweighted__int__list.html">weighted_int_list</a></div><div class="ttdef"><b>Definition:</b> <a href="weighted__list_8h_source.html#l00186">weighted_list.h:186</a></div></div>
<div class="ttc" id="astructweighted__list_html_ac22edb12b0027bf3f6d35e6504aeacb5"><div class="ttname"><a href="structweighted__list.html#ac22edb12b0027bf3f6d35e6504aeacb5">weighted_list::empty</a></div><div class="ttdeci">bool empty() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="weighted__list_8h_source.html#l00172">weighted_list.h:172</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapgen_8cpp_source.html#l01837">else_entries</a>, <a class="el" href="weighted__list_8h_source.html#l00172">weighted_list&lt; W, T &gt;::empty()</a>, <a class="el" href="mapgen_8cpp_source.html#l01836">entries</a>, <a class="el" href="mapgen_8cpp_source.html#l01838">neighbors</a>, <a class="el" href="mapgen_8cpp_source.html#l00355">nested_mapgen</a>, and <a class="el" href="mapgen_8cpp_source.html#l01801">jmapgen_nested::neighborhood_check::test()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a00903e0f5296883e8a2530887f19469f" name="a00903e0f5296883e8a2530887f19469f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00903e0f5296883e8a2530887f19469f">&#9670;&nbsp;</a></span>else_entries</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structweighted__int__list.html">weighted_int_list</a>&lt;std::string&gt; jmapgen_nested::else_entries</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l01837">1837</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l01843">apply()</a>, <a class="el" href="mapgen_8cpp_source.html#l01864">has_vehicle_collision()</a>, and <a class="el" href="mapgen_8cpp_source.html#l01839">jmapgen_nested()</a>.</p>

</div>
</div>
<a id="a3b880cd1b7dd96ac9d4f59dce5ff8b88" name="a3b880cd1b7dd96ac9d4f59dce5ff8b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b880cd1b7dd96ac9d4f59dce5ff8b88">&#9670;&nbsp;</a></span>entries</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structweighted__int__list.html">weighted_int_list</a>&lt;std::string&gt; jmapgen_nested::entries</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l01836">1836</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l01843">apply()</a>, <a class="el" href="mapgen_8cpp_source.html#l01864">has_vehicle_collision()</a>, and <a class="el" href="mapgen_8cpp_source.html#l01839">jmapgen_nested()</a>.</p>

</div>
</div>
<a id="ac33347201ed285bcbc7e5ba3f08ac7b1" name="ac33347201ed285bcbc7e5ba3f08ac7b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac33347201ed285bcbc7e5ba3f08ac7b1">&#9670;&nbsp;</a></span>neighbors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjmapgen__nested_1_1neighborhood__check.html">neighborhood_check</a> jmapgen_nested::neighbors</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mapgen_8cpp_source.html#l01838">1838</a> of file <a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l01843">apply()</a>, and <a class="el" href="mapgen_8cpp_source.html#l01864">has_vehicle_collision()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="mapgen_8cpp_source.html">mapgen.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classjmapgen__nested.html">jmapgen_nested</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:15:52 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
