<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: iuse Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceiuse.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">iuse Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aac318704559d836911f47277d6172208"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aac318704559d836911f47277d6172208">sewage</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aac318704559d836911f47277d6172208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c781aff4648bc9d49ee54de7a257b4a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a5c781aff4648bc9d49ee54de7a257b4a">honeycomb</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a5c781aff4648bc9d49ee54de7a257b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8660f56fde38d1d448b20173f6e9ee4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ae8660f56fde38d1d448b20173f6e9ee4">alcohol_weak</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ae8660f56fde38d1d448b20173f6e9ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc01ed1355e71cdf0856363b4ad907f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#adc01ed1355e71cdf0856363b4ad907f5">alcohol_medium</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:adc01ed1355e71cdf0856363b4ad907f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af299bd5b5c92d4c4508f85fb461e91f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af299bd5b5c92d4c4508f85fb461e91f8">alcohol_strong</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af299bd5b5c92d4c4508f85fb461e91f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2324774ae58dc15ed929ec5b4f0bb7f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af2324774ae58dc15ed929ec5b4f0bb7f">xanax</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af2324774ae58dc15ed929ec5b4f0bb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea803753a727c1825f333e9d4fc69eec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aea803753a727c1825f333e9d4fc69eec">smoking</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="memdesc:aea803753a727c1825f333e9d4fc69eec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry point for intentional bodily intake of smoke via paper wrapped one time use items: cigars, cigarettes, etc.  <a href="namespaceiuse.html#aea803753a727c1825f333e9d4fc69eec">More...</a><br /></td></tr>
<tr class="separator:aea803753a727c1825f333e9d4fc69eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7605a2a35b7ba6d0353b3c7c74ae7f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ae7605a2a35b7ba6d0353b3c7c74ae7f0">ecig</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ae7605a2a35b7ba6d0353b3c7c74ae7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab630d95172ee67696af5f138f0e2e85e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ab630d95172ee67696af5f138f0e2e85e">antibiotic</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ab630d95172ee67696af5f138f0e2e85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c619bed00bbbe6c9280aec8b8f9adc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a9c619bed00bbbe6c9280aec8b8f9adc8">eyedrops</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a9c619bed00bbbe6c9280aec8b8f9adc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f04cd778ba18f8af92e04db0212ad9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a65f04cd778ba18f8af92e04db0212ad9">fungicide</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a65f04cd778ba18f8af92e04db0212ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6367cff497b3a461b608bf616d2358ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a6367cff497b3a461b608bf616d2358ff">antifungal</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a6367cff497b3a461b608bf616d2358ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1508cdd524e97a79a754d9a7390ea42a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a1508cdd524e97a79a754d9a7390ea42a">antiparasitic</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a1508cdd524e97a79a754d9a7390ea42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6747117d3ea0dfde6344594a9fd04cf9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a6747117d3ea0dfde6344594a9fd04cf9">anticonvulsant</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a6747117d3ea0dfde6344594a9fd04cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3cc0372f69cfd7f6554822d61a083e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a9a3cc0372f69cfd7f6554822d61a083e">weed_cake</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a9a3cc0372f69cfd7f6554822d61a083e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c55d9f8022241b470d2d2e3f26ccbb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a1c55d9f8022241b470d2d2e3f26ccbb3">meth</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a1c55d9f8022241b470d2d2e3f26ccbb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dcdbc04a40e253621e4e131cdb731ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a7dcdbc04a40e253621e4e131cdb731ff">vaccine</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a7dcdbc04a40e253621e4e131cdb731ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af015e96f2a09b910339eb5ddc09fd64a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af015e96f2a09b910339eb5ddc09fd64a">flu_vaccine</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af015e96f2a09b910339eb5ddc09fd64a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63bd00335278775136a06a2f6b73c8a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a63bd00335278775136a06a2f6b73c8a3">poison</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a63bd00335278775136a06a2f6b73c8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae5784c506dd050460a51b6585e636c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a9ae5784c506dd050460a51b6585e636c">meditate</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a9ae5784c506dd050460a51b6585e636c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c7d9cf354e1a3baefc57d6da88e84f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a73c7d9cf354e1a3baefc57d6da88e84f">thorazine</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a73c7d9cf354e1a3baefc57d6da88e84f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab198cffb01232a794d5ab08eeb586b3b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ab198cffb01232a794d5ab08eeb586b3b">prozac</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ab198cffb01232a794d5ab08eeb586b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad65d231a2d136f7e8f8c0b9529a3a8fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ad65d231a2d136f7e8f8c0b9529a3a8fe">sleep</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ad65d231a2d136f7e8f8c0b9529a3a8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3842b28b642b547db964b32260af5010"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a3842b28b642b547db964b32260af5010">datura</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a3842b28b642b547db964b32260af5010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa748624edacd9038fb86f038e61bb68a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aa748624edacd9038fb86f038e61bb68a">flumed</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aa748624edacd9038fb86f038e61bb68a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbe3744c239129f7b6cdd7b9fdcddb53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#adbe3744c239129f7b6cdd7b9fdcddb53">flusleep</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:adbe3744c239129f7b6cdd7b9fdcddb53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4884a5f4a9818606704ceeffe78382a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a4884a5f4a9818606704ceeffe78382a0">inhaler</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a4884a5f4a9818606704ceeffe78382a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d960e9090fe32957817e911bf30e3d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a8d960e9090fe32957817e911bf30e3d1">blech</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a8d960e9090fe32957817e911bf30e3d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a171b17b4631be6ffc30047e17ffc1fcd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a171b17b4631be6ffc30047e17ffc1fcd">blech_because_unclean</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a171b17b4631be6ffc30047e17ffc1fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35959c8acb23336c61771b360564c4d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a35959c8acb23336c61771b360564c4d1">plantblech</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a35959c8acb23336c61771b360564c4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecdc200d835fb6eaf207e84d2e5992a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aecdc200d835fb6eaf207e84d2e5992a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13ddff79124dac8f631e85e07a3439d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ad13ddff79124dac8f631e85e07a3439d">purifier</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ad13ddff79124dac8f631e85e07a3439d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e8597a652893f2459d8db97ab11025"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af9e8597a652893f2459d8db97ab11025">purify_iv</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af9e8597a652893f2459d8db97ab11025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e0b76a96337dcd8208d5a0f524bf47e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a0e0b76a96337dcd8208d5a0f524bf47e">purify_smart</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a0e0b76a96337dcd8208d5a0f524bf47e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52fbad62e1ab810f627a8ef2a5bd0494"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a52fbad62e1ab810f627a8ef2a5bd0494">marloss</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a52fbad62e1ab810f627a8ef2a5bd0494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48fa1d77fe26dcfe0cfa5b8d1e38ce03"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a48fa1d77fe26dcfe0cfa5b8d1e38ce03">marloss_seed</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a48fa1d77fe26dcfe0cfa5b8d1e38ce03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9e320388be1366adea2739dd390c18d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ae9e320388be1366adea2739dd390c18d">marloss_gel</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ae9e320388be1366adea2739dd390c18d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7f7b04683cbec09580da469a10ccb0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a2a7f7b04683cbec09580da469a10ccb0">mycus</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a2a7f7b04683cbec09580da469a10ccb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265cb6538afad686f4da6f07de495e79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a265cb6538afad686f4da6f07de495e79">dogfood</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a265cb6538afad686f4da6f07de495e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952ba3eee92726bda366cdf3b864b59f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a952ba3eee92726bda366cdf3b864b59f">catfood</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a952ba3eee92726bda366cdf3b864b59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d62c54b717d4e2fbc4490e0eddaba7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a66d62c54b717d4e2fbc4490e0eddaba7">feedcattle</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a66d62c54b717d4e2fbc4490e0eddaba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dd2935dd8aacfee3d6fa8a6da61ec0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a0dd2935dd8aacfee3d6fa8a6da61ec0a">feedbird</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a0dd2935dd8aacfee3d6fa8a6da61ec0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4e2511a717575fe4666414db8138851"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ac4e2511a717575fe4666414db8138851">antiasthmatic</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ac4e2511a717575fe4666414db8138851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac99884d7e0f78beb10cc7fe95cf13802"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ac99884d7e0f78beb10cc7fe95cf13802">extinguisher</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ac99884d7e0f78beb10cc7fe95cf13802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598d4b5bd2b0c73b1090325754726213"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a598d4b5bd2b0c73b1090325754726213">hammer</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a598d4b5bd2b0c73b1090325754726213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30740d88ad8e8394d665d9006f20eacc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a30740d88ad8e8394d665d9006f20eacc">water_purifier</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a30740d88ad8e8394d665d9006f20eacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a586262f32556678ff6eaaf4f41f7e783"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a586262f32556678ff6eaaf4f41f7e783">directional_antenna</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a586262f32556678ff6eaaf4f41f7e783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3b50677802643bdcd63df07e94b514"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a7b3b50677802643bdcd63df07e94b514">radio_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a7b3b50677802643bdcd63df07e94b514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d119f4dc993b2fed2b45b9dc173c23"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a91d119f4dc993b2fed2b45b9dc173c23">radio_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a91d119f4dc993b2fed2b45b9dc173c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c1d4a10bd7e29e546ba40ab02b3d765"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a3c1d4a10bd7e29e546ba40ab02b3d765">noise_emitter_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a3c1d4a10bd7e29e546ba40ab02b3d765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4abd33c9bed73fcf0455f67785ee29eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a4abd33c9bed73fcf0455f67785ee29eb">noise_emitter_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a4abd33c9bed73fcf0455f67785ee29eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ef0e8a9b1ce40de92f0baae5e54ca1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a54ef0e8a9b1ce40de92f0baae5e54ca1">note_bionics</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a54ef0e8a9b1ce40de92f0baae5e54ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb63e796d6a12763147860706533963d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#acb63e796d6a12763147860706533963d">ma_manual</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:acb63e796d6a12763147860706533963d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9430d817f535840cefa29014ad73a062"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a9430d817f535840cefa29014ad73a062">crowbar</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a9430d817f535840cefa29014ad73a062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6176c97f6298823068e8c8b7f572348"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ac6176c97f6298823068e8c8b7f572348">makemound</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ac6176c97f6298823068e8c8b7f572348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90826f05cd2d554a46e5c1aff7fd590b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a90826f05cd2d554a46e5c1aff7fd590b">dig</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a90826f05cd2d554a46e5c1aff7fd590b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ea0157e8ffbf1b71fe439733308adc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af2ea0157e8ffbf1b71fe439733308adc">dig_channel</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af2ea0157e8ffbf1b71fe439733308adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab65c4948655613af9808e56ee73a39fd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ab65c4948655613af9808e56ee73a39fd">fill_pit</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ab65c4948655613af9808e56ee73a39fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35dc0573f2c10a79ad65cad73762f32"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ad35dc0573f2c10a79ad65cad73762f32">clear_rubble</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="memdesc:ad35dc0573f2c10a79ad65cad73762f32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explanation of ACT_CLEAR_RUBBLE activity values:  <a href="namespaceiuse.html#ad35dc0573f2c10a79ad65cad73762f32">More...</a><br /></td></tr>
<tr class="separator:ad35dc0573f2c10a79ad65cad73762f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124c8bc78a42f9cf06fcb801c9f4427c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a124c8bc78a42f9cf06fcb801c9f4427c">siphon</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a124c8bc78a42f9cf06fcb801c9f4427c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad79004baf98adccb8b9694bc30eb290d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ad79004baf98adccb8b9694bc30eb290d">chainsaw_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ad79004baf98adccb8b9694bc30eb290d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef454dfcb71a12f3fd7efa0d316ece43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aef454dfcb71a12f3fd7efa0d316ece43">chainsaw_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aef454dfcb71a12f3fd7efa0d316ece43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8471a6f7a1d97abed699bc34aa687061"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a8471a6f7a1d97abed699bc34aa687061">elec_chainsaw_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a8471a6f7a1d97abed699bc34aa687061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7db7681ea89f6652b3528ed6afdaa04"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ad7db7681ea89f6652b3528ed6afdaa04">elec_chainsaw_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ad7db7681ea89f6652b3528ed6afdaa04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58988398abeae1dcbed6161a5326bad9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a58988398abeae1dcbed6161a5326bad9">cs_lajatang_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a58988398abeae1dcbed6161a5326bad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac37caf0eeb00410e5b3c961794cebdc0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ac37caf0eeb00410e5b3c961794cebdc0">cs_lajatang_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ac37caf0eeb00410e5b3c961794cebdc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a128984aa7ad2a8433c238101d5294153"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a128984aa7ad2a8433c238101d5294153">ecs_lajatang_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a128984aa7ad2a8433c238101d5294153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa204865fbe45f6454539b3cb61ec6c92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aa204865fbe45f6454539b3cb61ec6c92">ecs_lajatang_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aa204865fbe45f6454539b3cb61ec6c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a272725ca02e576b08c783708015487e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a272725ca02e576b08c783708015487e6">carver_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a272725ca02e576b08c783708015487e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af624c9900caf3fcac2aa28441f7e4061"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af624c9900caf3fcac2aa28441f7e4061">carver_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af624c9900caf3fcac2aa28441f7e4061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99119c97dd4afb26a9ed0c0008c6491"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aa99119c97dd4afb26a9ed0c0008c6491">trimmer_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aa99119c97dd4afb26a9ed0c0008c6491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664125ee320f23c92c2bded4b241f8db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a664125ee320f23c92c2bded4b241f8db">trimmer_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a664125ee320f23c92c2bded4b241f8db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30188170d193c1e90671e4b938926b87"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a30188170d193c1e90671e4b938926b87">circsaw_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a30188170d193c1e90671e4b938926b87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ae1522fa6bd5a1dca74d08ad76c8e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ad4ae1522fa6bd5a1dca74d08ad76c8e1">combatsaw_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ad4ae1522fa6bd5a1dca74d08ad76c8e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a418d7c8d1422f573f32df2253997b165"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a418d7c8d1422f573f32df2253997b165">combatsaw_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a418d7c8d1422f573f32df2253997b165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e8ce410f0d48d5d30ad5a75ec274e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a32e8ce410f0d48d5d30ad5a75ec274e5">e_combatsaw_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a32e8ce410f0d48d5d30ad5a75ec274e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7379d0261888bcf0a4f2db556a36719a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a7379d0261888bcf0a4f2db556a36719a">e_combatsaw_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a7379d0261888bcf0a4f2db556a36719a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6280558f691d61cad732f9ddd4a3fc08"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a6280558f691d61cad732f9ddd4a3fc08">jackhammer</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a6280558f691d61cad732f9ddd4a3fc08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7fc7ed967ceab8eb255f38489ee5ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a1f7fc7ed967ceab8eb255f38489ee5ed">pickaxe</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a1f7fc7ed967ceab8eb255f38489ee5ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49f6d9afb7227451244b037b56f6c92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ad49f6d9afb7227451244b037b56f6c92">burrow</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ad49f6d9afb7227451244b037b56f6c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ada5d5014f5183d6be198a5b040138"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a44ada5d5014f5183d6be198a5b040138">geiger</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a44ada5d5014f5183d6be198a5b040138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13d2a221346c855be7a0c0c04d77895"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ac13d2a221346c855be7a0c0c04d77895">teleport</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ac13d2a221346c855be7a0c0c04d77895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f13dd0b3a12c9b168adb4f5248951a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a0f13dd0b3a12c9b168adb4f5248951a6">can_goo</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a0f13dd0b3a12c9b168adb4f5248951a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64b41a4e8dbd3fca719eaea1625b85b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a64b41a4e8dbd3fca719eaea1625b85b0">throwable_extinguisher_act</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a64b41a4e8dbd3fca719eaea1625b85b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863654211e66d555c6103f873c006f5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a863654211e66d555c6103f873c006f5a">directional_hologram</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a863654211e66d555c6103f873c006f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3795d77ec24e87e31270b733722b971f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a3795d77ec24e87e31270b733722b971f">capture_monster_veh</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a3795d77ec24e87e31270b733722b971f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba6d96d9fc6facbc0b8d5242355810e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aaba6d96d9fc6facbc0b8d5242355810e">capture_monster_act</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aaba6d96d9fc6facbc0b8d5242355810e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2060aa4647487f823f8e42e88fc214ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a2060aa4647487f823f8e42e88fc214ea">granade</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a2060aa4647487f823f8e42e88fc214ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4945736059f06b41ffce6c4070f8f5e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a4945736059f06b41ffce6c4070f8f5e1">granade_act</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a4945736059f06b41ffce6c4070f8f5e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f2177dc204aa334562f3b16a2a090e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a5f2177dc204aa334562f3b16a2a090e8">c4</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a5f2177dc204aa334562f3b16a2a090e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a54f099f8fd5fbb811aa05bad58e02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a39a54f099f8fd5fbb811aa05bad58e02">arrow_flammable</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a39a54f099f8fd5fbb811aa05bad58e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c01f7f882fde8bc12283b81cd5fbfb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a46c01f7f882fde8bc12283b81cd5fbfb">acidbomb_act</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a46c01f7f882fde8bc12283b81cd5fbfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead9366f186a44fcd9b0966c0d13a86a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aead9366f186a44fcd9b0966c0d13a86a">grenade_inc_act</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aead9366f186a44fcd9b0966c0d13a86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada78e14562e559ac1a3cc6f84f4c1604"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ada78e14562e559ac1a3cc6f84f4c1604">molotov_lit</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ada78e14562e559ac1a3cc6f84f4c1604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b7f3a9546c3fcb8a3095b5eb1f08ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ab1b7f3a9546c3fcb8a3095b5eb1f08ff">firecracker_pack</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ab1b7f3a9546c3fcb8a3095b5eb1f08ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6fc83e63c449fa4a2e8ca77a29c3c0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ad6fc83e63c449fa4a2e8ca77a29c3c0d">firecracker_pack_act</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ad6fc83e63c449fa4a2e8ca77a29c3c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b71f85b22913d8683ec1464ec8bec41"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a3b71f85b22913d8683ec1464ec8bec41">firecracker</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a3b71f85b22913d8683ec1464ec8bec41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04894d33896efed432019fa928a6dba6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a04894d33896efed432019fa928a6dba6">firecracker_act</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a04894d33896efed432019fa928a6dba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c8e65ced80f9b26011bc78dfa450a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a21c8e65ced80f9b26011bc78dfa450a6">mininuke</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a21c8e65ced80f9b26011bc78dfa450a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0abf562e890b6164e4165e8401b684f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a0abf562e890b6164e4165e8401b684f1">pheromone</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a0abf562e890b6164e4165e8401b684f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90743f549088ee917f6f482cf43c0ffe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a90743f549088ee917f6f482cf43c0ffe">portal</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a90743f549088ee917f6f482cf43c0ffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bdece1a07a33641fa483176a9bd0175"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a3bdece1a07a33641fa483176a9bd0175">tazer</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a3bdece1a07a33641fa483176a9bd0175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e3fd5647a64b6f33536703155750854"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a2e3fd5647a64b6f33536703155750854">tazer2</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a2e3fd5647a64b6f33536703155750854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c9e9d8e1c972f8d7e94f482aa692c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ab9c9e9d8e1c972f8d7e94f482aa692c3">shocktonfa_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ab9c9e9d8e1c972f8d7e94f482aa692c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7900c10b8cf6614dfa61450516d107d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af7900c10b8cf6614dfa61450516d107d">shocktonfa_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af7900c10b8cf6614dfa61450516d107d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae84247499c1f9c3996f54bb5e849ffe5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ae84247499c1f9c3996f54bb5e849ffe5">mp3</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ae84247499c1f9c3996f54bb5e849ffe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b9967bf92939e0eb7faf25298be0efd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a7b9967bf92939e0eb7faf25298be0efd">mp3_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a7b9967bf92939e0eb7faf25298be0efd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7125863340292afed6c2662c530bf362"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a7125863340292afed6c2662c530bf362">rpgdie</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a7125863340292afed6c2662c530bf362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f66093ce781aa4144ae0ad8669cd19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a89f66093ce781aa4144ae0ad8669cd19">dive_tank</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a89f66093ce781aa4144ae0ad8669cd19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb61c8d119bd0c545bc42c10d11d357b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#afb61c8d119bd0c545bc42c10d11d357b">gasmask</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:afb61c8d119bd0c545bc42c10d11d357b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4303a8a70c9ccc81c39d921ae2478692"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a4303a8a70c9ccc81c39d921ae2478692">portable_game</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a4303a8a70c9ccc81c39d921ae2478692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac24c85992b2571424e8eb4c70b579563"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ac24c85992b2571424e8eb4c70b579563">fitness_check</a> (<a class="el" href="classplayer.html">player</a> *p, <a class="el" href="classitem.html">item</a> *it, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ac24c85992b2571424e8eb4c70b579563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa729b58c9beb6d8f34c626a6e81c8c79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aa729b58c9beb6d8f34c626a6e81c8c79">vibe</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aa729b58c9beb6d8f34c626a6e81c8c79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46dea249d232934f987af8efb8320529"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a46dea249d232934f987af8efb8320529">hand_crank</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a46dea249d232934f987af8efb8320529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ce35e5e1cfa3e2a9efeb389f8e38b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a29ce35e5e1cfa3e2a9efeb389f8e38b2">vortex</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a29ce35e5e1cfa3e2a9efeb389f8e38b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a888aa172d5f857fd41531e78c95e8435"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a888aa172d5f857fd41531e78c95e8435">dog_whistle</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a888aa172d5f857fd41531e78c95e8435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7231ff4cad991c6f9bc9bc88026446"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aec7231ff4cad991c6f9bc9bc88026446">call_of_tindalos</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aec7231ff4cad991c6f9bc9bc88026446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2ba2bb6fe17a1cfc06d4a8e4227d76"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aba2ba2bb6fe17a1cfc06d4a8e4227d76">blood_draw</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aba2ba2bb6fe17a1cfc06d4a8e4227d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18ded3f37f4b03f690f1d23e5b4f0a50"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a18ded3f37f4b03f690f1d23e5b4f0a50">mind_splicer</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a18ded3f37f4b03f690f1d23e5b4f0a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ec87f69491dd9ce7eca10208c4bca39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a9ec87f69491dd9ce7eca10208c4bca39">cut_log_into_planks</a> (<a class="el" href="classplayer.html">player</a> &amp;)</td></tr>
<tr class="separator:a9ec87f69491dd9ce7eca10208c4bca39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f435663e43863b4d83264dac8fbe9ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a3f435663e43863b4d83264dac8fbe9ad">lumber</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a3f435663e43863b4d83264dac8fbe9ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497ebac6fa2d17e0890765b80832299f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a497ebac6fa2d17e0890765b80832299f">chop_tree</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a497ebac6fa2d17e0890765b80832299f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd99c4f5ccc4748d40d40a3a71b61df2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#acd99c4f5ccc4748d40d40a3a71b61df2">chop_logs</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:acd99c4f5ccc4748d40d40a3a71b61df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df3e8c930f47701ebe2a6a17538b584"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a2df3e8c930f47701ebe2a6a17538b584">oxytorch</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a2df3e8c930f47701ebe2a6a17538b584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed26c836be484fe8abed447dd276260"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a1ed26c836be484fe8abed447dd276260">hacksaw</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a1ed26c836be484fe8abed447dd276260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209a352e9bc73b4ce037af586b937ff1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a209a352e9bc73b4ce037af586b937ff1">boltcutters</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a209a352e9bc73b4ce037af586b937ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f16cb027c9e2d876a8a6617c6b62463"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a8f16cb027c9e2d876a8a6617c6b62463">mop</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a8f16cb027c9e2d876a8a6617c6b62463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffd5b9b676f359ad3b6a8db314d28a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a2ffd5b9b676f359ad3b6a8db314d28a0">spray_can</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a2ffd5b9b676f359ad3b6a8db314d28a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa714299cbd68a62e2487f7fda3095a3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aa714299cbd68a62e2487f7fda3095a3e">towel</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aa714299cbd68a62e2487f7fda3095a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14ea02c85a46c46323b35c4b4702a5f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af14ea02c85a46c46323b35c4b4702a5f">unfold_generic</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af14ea02c85a46c46323b35c4b4702a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad22021d43df78368abfcf1b80f7f3974"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ad22021d43df78368abfcf1b80f7f3974">adrenaline_injector</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ad22021d43df78368abfcf1b80f7f3974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac63015323a9e1403dbd85b0696d4ed87"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ac63015323a9e1403dbd85b0696d4ed87">jet_injector</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ac63015323a9e1403dbd85b0696d4ed87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5cf673b4a25124acdaf1e30265e8f19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af5cf673b4a25124acdaf1e30265e8f19">stimpack</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af5cf673b4a25124acdaf1e30265e8f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ee528f750608e518c16f09103a997d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a94ee528f750608e518c16f09103a997d">contacts</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a94ee528f750608e518c16f09103a997d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed61e824f231f3b6855d8d3769f085a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a3ed61e824f231f3b6855d8d3769f085a">talking_doll</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a3ed61e824f231f3b6855d8d3769f085a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a103a17ef4f7cf59720b027142cccbe27"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a103a17ef4f7cf59720b027142cccbe27">bell</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a103a17ef4f7cf59720b027142cccbe27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b07d9e1b2e068106e3a2c779d3362c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a07b07d9e1b2e068106e3a2c779d3362c">seed</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a07b07d9e1b2e068106e3a2c779d3362c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574c6a0371cf149b79ccf8fa062a44bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a574c6a0371cf149b79ccf8fa062a44bf">oxygen_bottle</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a574c6a0371cf149b79ccf8fa062a44bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1f228b25a574d88137059eb3ee009ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ae1f228b25a574d88137059eb3ee009ee">radio_mod</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ae1f228b25a574d88137059eb3ee009ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05b9253a87c0dbbd798894604c70ecd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aa05b9253a87c0dbbd798894604c70ecd">remove_all_mods</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aa05b9253a87c0dbbd798894604c70ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cbe783493c4bbb59042ea505639c06d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a5cbe783493c4bbb59042ea505639c06d">fishing_rod</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a5cbe783493c4bbb59042ea505639c06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee840b3e8d9e57e43bf850bb4fe1f32f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aee840b3e8d9e57e43bf850bb4fe1f32f">fish_trap</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aee840b3e8d9e57e43bf850bb4fe1f32f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7018b6487f94b8e782bd6523f24da9da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a7018b6487f94b8e782bd6523f24da9da">gun_repair</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a7018b6487f94b8e782bd6523f24da9da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee6388125347281819df5c608e1e2008"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aee6388125347281819df5c608e1e2008">gunmod_attach</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aee6388125347281819df5c608e1e2008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a8b4f435350b8f4a9759c173dca6d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a18a8b4f435350b8f4a9759c173dca6d0">toolmod_attach</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a18a8b4f435350b8f4a9759c173dca6d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7fe40ae857aa6263fa8f733a0bf9e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a8c7fe40ae857aa6263fa8f733a0bf9e5">rm13armor_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a8c7fe40ae857aa6263fa8f733a0bf9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b8ee5b1d9c197dc1f5fba88d9fd5192"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a9b8ee5b1d9c197dc1f5fba88d9fd5192">rm13armor_on</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a9b8ee5b1d9c197dc1f5fba88d9fd5192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ece949cc39ee555a5475d2dd8b25cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a07ece949cc39ee555a5475d2dd8b25cb">unpack_item</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a07ece949cc39ee555a5475d2dd8b25cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61aded548c5a7c3c3d3acdffcd962fe2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a61aded548c5a7c3c3d3acdffcd962fe2">pack_cbm</a> (<a class="el" href="classplayer.html">player</a> *p, <a class="el" href="classitem.html">item</a> *it, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a61aded548c5a7c3c3d3acdffcd962fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7092ba0c5ab6b366ce53e0d83e1733d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ae7092ba0c5ab6b366ce53e0d83e1733d">pack_item</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ae7092ba0c5ab6b366ce53e0d83e1733d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add705cd4049aa3d464aa38394e6deeaf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#add705cd4049aa3d464aa38394e6deeaf">radglove</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:add705cd4049aa3d464aa38394e6deeaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3cb4163d22a16b914674ca4f07fd07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a6b3cb4163d22a16b914674ca4f07fd07">robotcontrol</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a6b3cb4163d22a16b914674ca4f07fd07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71247a65bb3879d7be86961f2635e54b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a71247a65bb3879d7be86961f2635e54b">robotcontrol_can_target</a> (<a class="el" href="classplayer.html">player</a> *, const <a class="el" href="classmonster.html">monster</a> &amp;)</td></tr>
<tr class="separator:a71247a65bb3879d7be86961f2635e54b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4b8e2bc5d43e5e4c952c4c77e3db68"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a9a4b8e2bc5d43e5e4c952c4c77e3db68">einktabletpc</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a9a4b8e2bc5d43e5e4c952c4c77e3db68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab68c2305f7ed2e6a979869a5208d1011"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ab68c2305f7ed2e6a979869a5208d1011">camera</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ab68c2305f7ed2e6a979869a5208d1011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a817fb34ea6d9f331660be5f9f9d1d830"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a817fb34ea6d9f331660be5f9f9d1d830">ehandcuffs</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a817fb34ea6d9f331660be5f9f9d1d830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a9869a841219f81c39c873d5c08e59"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ae1a9869a841219f81c39c873d5c08e59">foodperson</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ae1a9869a841219f81c39c873d5c08e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f44ee8382c12410f19f4d321f18db29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a9f44ee8382c12410f19f4d321f18db29">tow_attach</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a9f44ee8382c12410f19f4d321f18db29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2364cfd5d8ad12ee1d3a3279dc355226"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a2364cfd5d8ad12ee1d3a3279dc355226">cable_attach</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a2364cfd5d8ad12ee1d3a3279dc355226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf48bc6fd66cb1105785fa740913337f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aaf48bc6fd66cb1105785fa740913337f">shavekit</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aaf48bc6fd66cb1105785fa740913337f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3d05b40baec1712280885e0255dd0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#acf3d05b40baec1712280885e0255dd0a">hairkit</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:acf3d05b40baec1712280885e0255dd0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae128a5b390f487c2ab93acbeadd86867"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ae128a5b390f487c2ab93acbeadd86867">weather_tool</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ae128a5b390f487c2ab93acbeadd86867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c1aa12219bb953dfbfb031e9528f95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af0c1aa12219bb953dfbfb031e9528f95">ladder</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af0c1aa12219bb953dfbfb031e9528f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a385737dae1ad9a403ea7946dea63a601"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a385737dae1ad9a403ea7946dea63a601">wash_soft_items</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a385737dae1ad9a403ea7946dea63a601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4d2575fb6b27538bc74b94f116943f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ada4d2575fb6b27538bc74b94f116943f">wash_hard_items</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ada4d2575fb6b27538bc74b94f116943f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8ae9469156e13ca227dfa4f1e2c5eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a4a8ae9469156e13ca227dfa4f1e2c5eb">wash_all_items</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a4a8ae9469156e13ca227dfa4f1e2c5eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad931b414f7f1b3e14c6f188e282da137"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ad931b414f7f1b3e14c6f188e282da137">solarpack</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ad931b414f7f1b3e14c6f188e282da137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a84e95e92cf71a5ab5a700d298f20bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a8a84e95e92cf71a5ab5a700d298f20bf">solarpack_off</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a8a84e95e92cf71a5ab5a700d298f20bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c9da42d08bb6a46345ebd7793ccb840"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a6c9da42d08bb6a46345ebd7793ccb840">weak_antibiotic</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a6c9da42d08bb6a46345ebd7793ccb840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25067961208e9644f6b186dd97ef8bcc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a25067961208e9644f6b186dd97ef8bcc">strong_antibiotic</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a25067961208e9644f6b186dd97ef8bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87e144a6d38b325248e013c04af471e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ab87e144a6d38b325248e013c04af471e">melatonin_tablet</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ab87e144a6d38b325248e013c04af471e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff458256cc3dd93ea9a65ff36ee556d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a2ff458256cc3dd93ea9a65ff36ee556d">coin_flip</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a2ff458256cc3dd93ea9a65ff36ee556d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1c729ba5eabe537c351f47be2a30324"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#af1c729ba5eabe537c351f47be2a30324">play_game</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:af1c729ba5eabe537c351f47be2a30324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791346a53fbb77e7bcffbebeab023965"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a791346a53fbb77e7bcffbebeab023965">magic_8_ball</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a791346a53fbb77e7bcffbebeab023965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a806d3629dd20d3cfa906b0a724018719"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a806d3629dd20d3cfa906b0a724018719">toggle_heats_food</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a806d3629dd20d3cfa906b0a724018719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da85c5459c545035b4400d4c32718d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a9da85c5459c545035b4400d4c32718d8">report_grid_charge</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a9da85c5459c545035b4400d4c32718d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c21ebb318f0a7e236a6b52d1333d0ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a2c21ebb318f0a7e236a6b52d1333d0ba">report_grid_connections</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a2c21ebb318f0a7e236a6b52d1333d0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee7b018768871e7ee2a69adb30f148f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aaee7b018768871e7ee2a69adb30f148f">radiocar</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aaee7b018768871e7ee2a69adb30f148f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea3836a0efda34a7f00ccbfbba7ade3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aea3836a0efda34a7f00ccbfbba7ade3e">radiocaron</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aea3836a0efda34a7f00ccbfbba7ade3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80802e0d819009a825a7e0d8cd5fbfb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a80802e0d819009a825a7e0d8cd5fbfb8">radiocontrol</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a80802e0d819009a825a7e0d8cd5fbfb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae706eba79724ccf3b4bc1cb14572df7d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ae706eba79724ccf3b4bc1cb14572df7d">autoclave</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ae706eba79724ccf3b4bc1cb14572df7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a673629edd47e63203956d4eb0a4fbb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a0a673629edd47e63203956d4eb0a4fbb">multicooker</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a0a673629edd47e63203956d4eb0a4fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec4a9ae044aed6a9e99b59258a6fbda"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a3ec4a9ae044aed6a9e99b59258a6fbda">remoteveh</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a3ec4a9ae044aed6a9e99b59258a6fbda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31feaa639847b8a1e5974e026eb785b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">craft</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a31feaa639847b8a1e5974e026eb785b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbada1cfe3e93f4e81d2a6abc0ae15d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#abbada1cfe3e93f4e81d2a6abc0ae15d4">disassemble</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:abbada1cfe3e93f4e81d2a6abc0ae15d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22da5acc314b6ca1dc7ada0c3c1944a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a22da5acc314b6ca1dc7ada0c3c1944a5">artifact</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a22da5acc314b6ca1dc7ada0c3c1944a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5949ee6963a56e98a0ddfbf754cbd77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ae5949ee6963a56e98a0ddfbf754cbd77">play_music</a> (<a class="el" href="classplayer.html">player</a> &amp;p, const <a class="el" href="structtripoint.html">tripoint</a> &amp;source, int volume, int max_morale)</td></tr>
<tr class="separator:ae5949ee6963a56e98a0ddfbf754cbd77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc5282019b1f6e24f9c91976a643427"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a6cc5282019b1f6e24f9c91976a643427">towel_common</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool)</td></tr>
<tr class="separator:a6cc5282019b1f6e24f9c91976a643427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92986fb5efe2c3952f80ad290b76076"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#aa92986fb5efe2c3952f80ad290b76076">handle_ground_graffiti</a> (<a class="el" href="classplayer.html">player</a> &amp;p, <a class="el" href="classitem.html">item</a> *it, const std::string &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c">prefix</a>, const <a class="el" href="structtripoint.html">tripoint</a> &amp;where)</td></tr>
<tr class="separator:aa92986fb5efe2c3952f80ad290b76076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49da5ba21638601d001ee1522104f91a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#a49da5ba21638601d001ee1522104f91a">chop_moves</a> (<a class="el" href="classCharacter.html">Character</a> &amp;ch, <a class="el" href="classitem.html">item</a> &amp;tool)</td></tr>
<tr class="separator:a49da5ba21638601d001ee1522104f91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7d5141d1ba513c0c5d6aa30ad2ee663"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceiuse.html#ac7d5141d1ba513c0c5d6aa30ad2ee663">cauterize_hotplate</a> (<a class="el" href="classplayer.html">player</a> *, <a class="el" href="classitem.html">item</a> *, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ac7d5141d1ba513c0c5d6aa30ad2ee663"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a46c01f7f882fde8bc12283b81cd5fbfb" name="a46c01f7f882fde8bc12283b81cd5fbfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46c01f7f882fde8bc12283b81cd5fbfb">&#9670;&nbsp;</a></span>acidbomb_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::acidbomb_act </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03729">3729</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03730" name="l03730"></a><span class="lineno"> 3730</span>{</div>
<div class="line"><a id="l03731" name="l03731"></a><span class="lineno"> 3731</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l03732" name="l03732"></a><span class="lineno"> 3732</span>        it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = -1;</div>
<div class="line"><a id="l03733" name="l03733"></a><span class="lineno"> 3733</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;tmp : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( pos.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> == -999 ? p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() : pos, 1 ) ) {</div>
<div class="line"><a id="l03734" name="l03734"></a><span class="lineno"> 3734</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( tmp, <a class="code hl_variable" href="field__type_8cpp.html#ab7a8a9cdb74831f6553f4abf5df22873">fd_acid</a>, 3 );</div>
<div class="line"><a id="l03735" name="l03735"></a><span class="lineno"> 3735</span>        }</div>
<div class="line"><a id="l03736" name="l03736"></a><span class="lineno"> 3736</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l03737" name="l03737"></a><span class="lineno"> 3737</span>    }</div>
<div class="line"><a id="l03738" name="l03738"></a><span class="lineno"> 3738</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03739" name="l03739"></a><span class="lineno"> 3739</span>}</div>
<div class="ttc" id="aclassCharacter_html_ad24859164517ed6e392e21df69527199"><div class="ttname"><a href="classCharacter.html#ad24859164517ed6e392e21df69527199">Character::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00707">character.cpp:707</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02195">item.h:2195</a></div></div>
<div class="ttc" id="aclassvisitable_html_af49d5ef7b3f2f0a8664c23097a56373f"><div class="ttname"><a href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">visitable::has_item</a></div><div class="ttdeci">bool has_item(const item &amp;it) const</div><div class="ttdoc">Returns true if this visitable instance contains the item.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00096">visitable.cpp:96</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_ab7a8a9cdb74831f6553f4abf5df22873"><div class="ttname"><a href="field__type_8cpp.html#ab7a8a9cdb74831f6553f4abf5df22873">fd_acid</a></div><div class="ttdeci">field_type_id fd_acid</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00342">field_type.cpp:342</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00267">game.cpp:267</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00150">point.h:150</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="field__type_8cpp_source.html#l00342">fd_acid</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ad22021d43df78368abfcf1b80f7f3974" name="ad22021d43df78368abfcf1b80f7f3974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad22021d43df78368abfcf1b80f7f3974">&#9670;&nbsp;</a></span>adrenaline_injector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::adrenaline_injector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05693">5693</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05694" name="l05694"></a><span class="lineno"> 5694</span>{</div>
<div class="line"><a id="l05695" name="l05695"></a><span class="lineno"> 5695</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() &amp;&amp; p-&gt;<a class="code hl_function" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">get_effect_dur</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a> ) &gt;= 30_minutes ) {</div>
<div class="line"><a id="l05696" name="l05696"></a><span class="lineno"> 5696</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05697" name="l05697"></a><span class="lineno"> 5697</span>    }</div>
<div class="line"><a id="l05698" name="l05698"></a><span class="lineno"> 5698</span> </div>
<div class="line"><a id="l05699" name="l05699"></a><span class="lineno"> 5699</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 1_seconds );</div>
<div class="line"><a id="l05700" name="l05700"></a><span class="lineno"> 5700</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You inject yourself with adrenaline.&quot;</span> ),</div>
<div class="line"><a id="l05701" name="l05701"></a><span class="lineno"> 5701</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; injects themselves with adrenaline.&quot;</span> ) );</div>
<div class="line"><a id="l05702" name="l05702"></a><span class="lineno"> 5702</span> </div>
<div class="line"><a id="l05703" name="l05703"></a><span class="lineno"> 5703</span>    <a class="code hl_class" href="classitem.html">item</a> syringe( <span class="stringliteral">&quot;syringe&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>() );</div>
<div class="line"><a id="l05704" name="l05704"></a><span class="lineno"> 5704</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( syringe );</div>
<div class="line"><a id="l05705" name="l05705"></a><span class="lineno"> 5705</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a> ) ) {</div>
<div class="line"><a id="l05706" name="l05706"></a><span class="lineno"> 5706</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your heart spasms!&quot;</span> ) );</div>
<div class="line"><a id="l05707" name="l05707"></a><span class="lineno"> 5707</span>        <span class="comment">// Note: not the mod, the health</span></div>
<div class="line"><a id="l05708" name="l05708"></a><span class="lineno"> 5708</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a0dccbd6c8830ec355bd793c74291fa8d">mod_healthy</a>( -20 );</div>
<div class="line"><a id="l05709" name="l05709"></a><span class="lineno"> 5709</span>    }</div>
<div class="line"><a id="l05710" name="l05710"></a><span class="lineno"> 5710</span> </div>
<div class="line"><a id="l05711" name="l05711"></a><span class="lineno"> 5711</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a>, 20_minutes );</div>
<div class="line"><a id="l05712" name="l05712"></a><span class="lineno"> 5712</span> </div>
<div class="line"><a id="l05713" name="l05713"></a><span class="lineno"> 5713</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05714" name="l05714"></a><span class="lineno"> 5714</span>}</div>
<div class="ttc" id="aclassCharacter_html_a0dccbd6c8830ec355bd793c74291fa8d"><div class="ttname"><a href="classCharacter.html#a0dccbd6c8830ec355bd793c74291fa8d">Character::mod_healthy</a></div><div class="ttdeci">virtual void mod_healthy(int nhealthy)</div><div class="ttdoc">Modifiers for health values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04230">character.cpp:4230</a></div></div>
<div class="ttc" id="aclassCharacter_html_a611bd51d6d4fa9c119787f2fbc6bdd52"><div class="ttname"><a href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">Character::i_add</a></div><div class="ttdeci">item &amp; i_add(item it, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02310">character.cpp:2310</a></div></div>
<div class="ttc" id="aclassCreature_html_a2bb3543ca955d69805e57e4e09d878ef"><div class="ttname"><a href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">Creature::get_effect_dur</a></div><div class="ttdeci">time_duration get_effect_dur(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Returns the duration of the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01235">creature.cpp:1235</a></div></div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00974">creature.cpp:974</a></div></div>
<div class="ttc" id="aclassCreature_html_a6fb79df9315dc2bed6f34d9a2e37da90"><div class="ttname"><a href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01173">creature.cpp:1173</a></div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00569">creature.h:569</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00175">item.h:176</a></div></div>
<div class="ttc" id="aclassitem_html_a46b9bb1181827a365eb83d935c663677"><div class="ttname"><a href="classitem.html#a46b9bb1181827a365eb83d935c663677">item::birthday</a></div><div class="ttdeci">time_point birthday() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09853">item.cpp:9853</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02156">item.h:2156</a></div></div>
<div class="ttc" id="aclassplayer_html_a07108565639fa6fe5b6776b4e8674fb6"><div class="ttname"><a href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">player::add_msg_player_or_npc</a></div><div class="ttdeci">void add_msg_player_or_npc(const std::string &amp;player_msg, const std::string &amp;npc_str) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04373">player.cpp:4373</a></div></div>
<div class="ttc" id="aclassplayer_html_a4b34c26cb73111ff42bcab11576f51a0"><div class="ttname"><a href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">player::is_npc</a></div><div class="ttdeci">bool is_npc() const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00131">player.h:131</a></div></div>
<div class="ttc" id="aclassplayer_html_ae7009d849f19a4f5ebe877cbe463c459"><div class="ttname"><a href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">player::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04368">player.cpp:4368</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00254">enums.h:254</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a1b24df80fb6fce16dd4527cc4a6fa6ca"><div class="ttname"><a href="iuse_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a></div><div class="ttdeci">static const efftype_id effect_adrenaline(&quot;adrenaline&quot;)</div></div>
<div class="ttc" id="astructitype_html_a953828c9c01185fef0f619ecdcd7f3b1"><div class="ttname"><a href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">itype::charges_to_use</a></div><div class="ttdeci">int charges_to_use() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01089">itype.h:1089</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="item_8cpp_source.html#l09853">item::birthday()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a>, <a class="el" href="creature_8cpp_source.html#l01235">Creature::get_effect_dur()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="character_8cpp_source.html#l04230">Character::mod_healthy()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="adc01ed1355e71cdf0856363b4ad907f5" name="adc01ed1355e71cdf0856363b4ad907f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc01ed1355e71cdf0856363b4ad907f5">&#9670;&nbsp;</a></span>alcohol_medium()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::alcohol_medium </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00509">509</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>{</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#aa5f091b5893e206d2b978b606a8163ec">alcohol</a>( *p, *it, 1 );</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_aa5f091b5893e206d2b978b606a8163ec"><div class="ttname"><a href="iuse_8cpp.html#aa5f091b5893e206d2b978b606a8163ec">alcohol</a></div><div class="ttdeci">static int alcohol(player &amp;p, const item &amp;it, const int strength)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00481">iuse.cpp:481</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l00481">alcohol()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="af299bd5b5c92d4c4508f85fb461e91f8" name="af299bd5b5c92d4c4508f85fb461e91f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af299bd5b5c92d4c4508f85fb461e91f8">&#9670;&nbsp;</a></span>alcohol_strong()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::alcohol_strong </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00514">514</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>{</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#aa5f091b5893e206d2b978b606a8163ec">alcohol</a>( *p, *it, 2 );</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l00481">alcohol()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ae8660f56fde38d1d448b20173f6e9ee4" name="ae8660f56fde38d1d448b20173f6e9ee4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8660f56fde38d1d448b20173f6e9ee4">&#9670;&nbsp;</a></span>alcohol_weak()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::alcohol_weak </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00504">504</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>{</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#aa5f091b5893e206d2b978b606a8163ec">alcohol</a>( *p, *it, 0 );</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l00481">alcohol()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ac4e2511a717575fe4666414db8138851" name="ac4e2511a717575fe4666414db8138851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e2511a717575fe4666414db8138851">&#9670;&nbsp;</a></span>antiasthmatic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::antiasthmatic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00870">870</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>{</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You no longer need to worry about asthma attacks, at least for a while.&quot;</span> ) );</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ac463f5152e7c53eb06a46800211cb6ea">effect_took_antiasthmatic</a>, 1_days, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>}</div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a></div><div class="ttdeci">@ num_bp</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00053">bodypart.h:52</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00253">enums.h:253</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_ac463f5152e7c53eb06a46800211cb6ea"><div class="ttname"><a href="iuse_8cpp.html#ac463f5152e7c53eb06a46800211cb6ea">effect_took_antiasthmatic</a></div><div class="ttdeci">static const efftype_id effect_took_antiasthmatic(&quot;took_antiasthmatic&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#ac463f5152e7c53eb06a46800211cb6ea">effect_took_antiasthmatic</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ab630d95172ee67696af5f138f0e2e85e" name="ab630d95172ee67696af5f138f0e2e85e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab630d95172ee67696af5f138f0e2e85e">&#9670;&nbsp;</a></span>antibiotic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::antibiotic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00621">621</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>{</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take some antibiotics.&quot;</span> ),</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; takes some antibiotics.&quot;</span> ) );</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a> ) &amp;&amp; !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a2ebc0d3c09d8f2896a466db2794c2845">effect_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Maybe just placebo effect, but you feel a little better as the dose settles in.&quot;</span> ) );</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    }</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a2ebc0d3c09d8f2896a466db2794c2845">effect_antibiotic</a>, 12_hours );</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>}</div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a></div><div class="ttdeci">@ m_neutral</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00260">enums.h:260</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a1de43fa1f6d16ce87ab7a3a49e47c463"><div class="ttname"><a href="iuse_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a></div><div class="ttdeci">static const efftype_id effect_infected(&quot;infected&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a2ebc0d3c09d8f2896a466db2794c2845"><div class="ttname"><a href="iuse_8cpp.html#a2ebc0d3c09d8f2896a466db2794c2845">effect_antibiotic</a></div><div class="ttdeci">static const efftype_id effect_antibiotic(&quot;antibiotic&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a2ebc0d3c09d8f2896a466db2794c2845">effect_antibiotic</a>, <a class="el" href="iuse_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a6747117d3ea0dfde6344594a9fd04cf9" name="a6747117d3ea0dfde6344594a9fd04cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6747117d3ea0dfde6344594a9fd04cf9">&#9670;&nbsp;</a></span>anticonvulsant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::anticonvulsant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Strength reduces duration of anticonvulsant medication 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00772">772</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>{</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take some anticonvulsant medication.&quot;</span> ) );<span class="comment"></span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span><span class="comment">    /** @EFFECT_STR reduces duration of anticonvulsant medication */</span></div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> duration = 8_hours - p-&gt;<a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a> * <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0_turns, 10_minutes );</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a> ) ) {</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        duration -= 1_hours;</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    }</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a> ) ) {</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        duration += 2_hours;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    }</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#acfad4e8017ecde8182c83fee1ad037cd">effect_valium</a>, duration );</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a> ) ) {</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a> );</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You stop shaking.&quot;</span> ) );</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    }</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>}</div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="aclassCharacter_html_a26369a0a81eef76cfe75214d22ed32b4"><div class="ttname"><a href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">Character::str_cur</a></div><div class="ttdeci">int str_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00304">character.h:304</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00103">mutation.cpp:103</a></div></div>
<div class="ttc" id="aclassCreature_html_a730fb8be5a540edd31ed9d8126ea20de"><div class="ttname"><a href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">Creature::remove_effect</a></div><div class="ttdeci">bool remove_effect(const efftype_id &amp;eff_id, body_part bp=num_bp)</div><div class="ttdoc">Removes a listed effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01130">creature.cpp:1130</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a2d866d9790623dc33511f3f08ec510b5"><div class="ttname"><a href="iuse_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a></div><div class="ttdeci">static const trait_id trait_TOLERANCE(&quot;TOLERANCE&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a513ee3dfdb798f83e30d99f697f2fa5b"><div class="ttname"><a href="iuse_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a></div><div class="ttdeci">static const trait_id trait_LIGHTWEIGHT(&quot;LIGHTWEIGHT&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_acf409ab736a978a27fd03d8e155eeee5"><div class="ttname"><a href="iuse_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a></div><div class="ttdeci">static const efftype_id effect_shakes(&quot;shakes&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_acfad4e8017ecde8182c83fee1ad037cd"><div class="ttname"><a href="iuse_8cpp.html#acfad4e8017ecde8182c83fee1ad037cd">effect_valium</a></div><div class="ttdeci">static const efftype_id effect_valium(&quot;valium&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a>, <a class="el" href="iuse_8cpp.html#acfad4e8017ecde8182c83fee1ad037cd">effect_valium</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="character_8h_source.html#l00304">Character::str_cur</a>, <a class="el" href="iuse_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a>, <a class="el" href="iuse_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a6367cff497b3a461b608bf616d2358ff" name="a6367cff497b3a461b608bf616d2358ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6367cff497b3a461b608bf616d2358ff">&#9670;&nbsp;</a></span>antifungal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::antifungal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00707">707</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>{</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take some antifungal medication.&quot;</span> ) );</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a> ) ) {</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a> );</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel a burning sensation under your skin that quickly fades away.&quot;</span> ) );</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    }</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a5700afe28dcf80d2e04f44172a1eebd7">effect_spores</a> ) ) {</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>        <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a> ) ) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your skin grows warm for a moment.&quot;</span> ) );</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        }</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    }</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>}</div>
<div class="ttc" id="aclassCreature_html_a5a2346f549de9c87e8f2afeec1e71366"><div class="ttname"><a href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">Creature::is_underwater</a></div><div class="ttdeci">virtual bool is_underwater() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00174">creature.cpp:174</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00258">enums.h:258</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00257">enums.h:257</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a08ed8f8240259a6a457502b0db459e08"><div class="ttname"><a href="iuse_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a></div><div class="ttdeci">static const efftype_id effect_fungus(&quot;fungus&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a5700afe28dcf80d2e04f44172a1eebd7"><div class="ttname"><a href="iuse_8cpp.html#a5700afe28dcf80d2e04f44172a1eebd7">effect_spores</a></div><div class="ttdeci">static const efftype_id effect_spores(&quot;spores&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a>, <a class="el" href="iuse_8cpp.html#a5700afe28dcf80d2e04f44172a1eebd7">effect_spores</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a1508cdd524e97a79a754d9a7390ea42a" name="a1508cdd524e97a79a754d9a7390ea42a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1508cdd524e97a79a754d9a7390ea42a">&#9670;&nbsp;</a></span>antiparasitic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::antiparasitic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00727">727</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>{</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    }</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take some antiparasitic medication.&quot;</span> ) );</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a> ) ) {</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a> );</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The itching sensation under your skin fades away.&quot;</span> ) );</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    }</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a> ) ) {</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a> );</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a> ) ) {</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your bowels clench as something inside them dies.&quot;</span> ) );</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100">m_mixed</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your bowels spasm painfully as something inside them dies.&quot;</span> ) );</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            p-&gt;<a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 8, 24 ) );</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>        }</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>    }</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a> ) ) {</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a> );</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your skin prickles and your veins itch for a few moments.&quot;</span> ) );</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>    }</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a> ) ) {</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a> );</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a> ) ) {</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The pressure inside your head feels better already.&quot;</span> ) );</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100">m_mixed</a>,</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your head pounds like a sore tooth as something inside of it dies.&quot;</span> ) );</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>            p-&gt;<a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 8, 24 ) );</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        }</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    }</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a> ) ) {</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a> );</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a> ) ) {</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The stiffness in your joints goes away.&quot;</span> ) );</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The pain in your joints goes away.&quot;</span> ) );</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>        }</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    }</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>}</div>
<div class="ttc" id="aclassplayer_html_a1304421e7a67d0046529f3bd9263ce42"><div class="ttname"><a href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">player::mod_pain</a></div><div class="ttdeci">void mod_pain(int npain) override</div><div class="ttdoc">Modifies a pain value by player traits before passing it to Creature::mod_pain()</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01092">player.cpp:1092</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100">m_mixed</a></div><div class="ttdeci">@ m_mixed</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00255">enums.h:255</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a074b87b8d18347675f51ed9e6d7e8787"><div class="ttname"><a href="iuse_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a></div><div class="ttdeci">static const efftype_id effect_bloodworms(&quot;bloodworms&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a13af1ce0f1c5467c2718b3d683c13c28"><div class="ttname"><a href="iuse_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a></div><div class="ttdeci">static const efftype_id effect_dermatik(&quot;dermatik&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a41e08c32ee980d1dd390b1d031c16696"><div class="ttname"><a href="iuse_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a></div><div class="ttdeci">static const efftype_id effect_tapeworm(&quot;tapeworm&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a914db3df05fd548e81adc85699eaaf05"><div class="ttname"><a href="iuse_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a></div><div class="ttdeci">static const efftype_id effect_paincysts(&quot;paincysts&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_af20cb84a6e8ccc0ed66c352edf29143b"><div class="ttname"><a href="iuse_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a></div><div class="ttdeci">static const trait_id trait_NOPAIN(&quot;NOPAIN&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_af39c36bbd4b4d5ea9cc11bbaba43570f"><div class="ttname"><a href="iuse_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a></div><div class="ttdeci">static const efftype_id effect_brainworms(&quot;brainworms&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a>, <a class="el" href="iuse_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a>, <a class="el" href="iuse_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a>, <a class="el" href="iuse_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a>, <a class="el" href="iuse_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00255">m_mixed</a>, <a class="el" href="player_8cpp_source.html#l01092">player::mod_pain()</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="iuse_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a39a54f099f8fd5fbb811aa05bad58e02" name="a39a54f099f8fd5fbb811aa05bad58e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39a54f099f8fd5fbb811aa05bad58e02">&#9670;&nbsp;</a></span>arrow_flammable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::arrow_flammable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03771">3771</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03772" name="l03772"></a><span class="lineno"> 3772</span>{</div>
<div class="line"><a id="l03773" name="l03773"></a><span class="lineno"> 3773</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l03774" name="l03774"></a><span class="lineno"> 3774</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l03775" name="l03775"></a><span class="lineno"> 3775</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03776" name="l03776"></a><span class="lineno"> 3776</span>    }</div>
<div class="line"><a id="l03777" name="l03777"></a><span class="lineno"> 3777</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#a8a33b517f5d4f8a85c83a71a3bc8cdaf">use_charges_if_avail</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, 1 ) ) {</div>
<div class="line"><a id="l03778" name="l03778"></a><span class="lineno"> 3778</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a source of fire!&quot;</span> ) );</div>
<div class="line"><a id="l03779" name="l03779"></a><span class="lineno"> 3779</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03780" name="l03780"></a><span class="lineno"> 3780</span>    }</div>
<div class="line"><a id="l03781" name="l03781"></a><span class="lineno"> 3781</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You light the arrow!&quot;</span> ) );</div>
<div class="line"><a id="l03782" name="l03782"></a><span class="lineno"> 3782</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 1_seconds );</div>
<div class="line"><a id="l03783" name="l03783"></a><span class="lineno"> 3783</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 1 ) {</div>
<div class="line"><a id="l03784" name="l03784"></a><span class="lineno"> 3784</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a047e81a739c379e954cb501213f833f6">itype_arrow_flamming</a> );</div>
<div class="line"><a id="l03785" name="l03785"></a><span class="lineno"> 3785</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03786" name="l03786"></a><span class="lineno"> 3786</span>    }</div>
<div class="line"><a id="l03787" name="l03787"></a><span class="lineno"> 3787</span>    <a class="code hl_class" href="classitem.html">item</a> lit_arrow( *it );</div>
<div class="line"><a id="l03788" name="l03788"></a><span class="lineno"> 3788</span>    lit_arrow.convert( <a class="code hl_variable" href="iuse_8cpp.html#a047e81a739c379e954cb501213f833f6">itype_arrow_flamming</a> ).charges = 1;</div>
<div class="line"><a id="l03789" name="l03789"></a><span class="lineno"> 3789</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( lit_arrow );</div>
<div class="line"><a id="l03790" name="l03790"></a><span class="lineno"> 3790</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l03791" name="l03791"></a><span class="lineno"> 3791</span>}</div>
<div class="ttc" id="aclassCharacter_html_a8a33b517f5d4f8a85c83a71a3bc8cdaf"><div class="ttname"><a href="classCharacter.html#a8a33b517f5d4f8a85c83a71a3bc8cdaf">Character::use_charges_if_avail</a></div><div class="ttdeci">bool use_charges_if_avail(const itype_id &amp;it, int quantity)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09622">character.cpp:9622</a></div></div>
<div class="ttc" id="aclassitem_html_a4667634357eecafb506b27ee4f5e763b"><div class="ttname"><a href="classitem.html#a4667634357eecafb506b27ee4f5e763b">item::convert</a></div><div class="ttdeci">item &amp; convert(const itype_id &amp;new_type)</div><div class="ttdoc">Filter converting this instance to another type preserving all other aspects.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00530">item.cpp:530</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a047e81a739c379e954cb501213f833f6"><div class="ttname"><a href="iuse_8cpp.html#a047e81a739c379e954cb501213f833f6">itype_arrow_flamming</a></div><div class="ttdeci">static const itype_id itype_arrow_flamming(&quot;arrow_flamming&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_aa5ffa4fd2e1363b9474c32c3a47a6df9"><div class="ttname"><a href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a></div><div class="ttdeci">static const itype_id itype_fire(&quot;fire&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="iuse_8cpp.html#a047e81a739c379e954cb501213f833f6">itype_arrow_flamming</a>, <a class="el" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, and <a class="el" href="character_8cpp_source.html#l09622">Character::use_charges_if_avail()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a22da5acc314b6ca1dc7ada0c3c1944a5" name="a22da5acc314b6ca1dc7ada0c3c1944a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22da5acc314b6ca1dc7ada0c3c1944a5">&#9670;&nbsp;</a></span>artifact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::artifact </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05178">5178</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05179" name="l05179"></a><span class="lineno"> 5179</span>{</div>
<div class="line"><a id="l05180" name="l05180"></a><span class="lineno"> 5180</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l05181" name="l05181"></a><span class="lineno"> 5181</span>        <span class="comment">// TODO: Allow this for trusting NPCs</span></div>
<div class="line"><a id="l05182" name="l05182"></a><span class="lineno"> 5182</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05183" name="l05183"></a><span class="lineno"> 5183</span>    }</div>
<div class="line"><a id="l05184" name="l05184"></a><span class="lineno"> 5184</span> </div>
<div class="line"><a id="l05185" name="l05185"></a><span class="lineno"> 5185</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a363ebdca3f9264390dbc6618de34c778">is_artifact</a>() ) {</div>
<div class="line"><a id="l05186" name="l05186"></a><span class="lineno"> 5186</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;iuse::artifact called on a non-artifact item!  %s&quot;</span>,</div>
<div class="line"><a id="l05187" name="l05187"></a><span class="lineno"> 5187</span>                  it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05188" name="l05188"></a><span class="lineno"> 5188</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05189" name="l05189"></a><span class="lineno"> 5189</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l05190" name="l05190"></a><span class="lineno"> 5190</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;iuse::artifact called on a non-tool artifact!  %s&quot;</span>,</div>
<div class="line"><a id="l05191" name="l05191"></a><span class="lineno"> 5191</span>                  it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05192" name="l05192"></a><span class="lineno"> 5192</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05193" name="l05193"></a><span class="lineno"> 5193</span>    }</div>
<div class="line"><a id="l05194" name="l05194"></a><span class="lineno"> 5194</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea15d4d969f53e9e04bc75c1a08a88dd6d">event_type::activates_artifact</a>&gt;( p-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>(), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( 1, <span class="keyword">false</span> ) );</div>
<div class="line"><a id="l05195" name="l05195"></a><span class="lineno"> 5195</span> </div>
<div class="line"><a id="l05196" name="l05196"></a><span class="lineno"> 5196</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;art = it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a>;</div>
<div class="line"><a id="l05197" name="l05197"></a><span class="lineno"> 5197</span>    <span class="keywordtype">size_t</span> num_used = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, art-&gt;effects_activated.size() );</div>
<div class="line"><a id="l05198" name="l05198"></a><span class="lineno"> 5198</span>    <span class="keywordflow">if</span>( num_used &lt; art-&gt;effects_activated.size() ) {</div>
<div class="line"><a id="l05199" name="l05199"></a><span class="lineno"> 5199</span>        num_used += <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, art-&gt;effects_activated.size() - num_used );</div>
<div class="line"><a id="l05200" name="l05200"></a><span class="lineno"> 5200</span>    }</div>
<div class="line"><a id="l05201" name="l05201"></a><span class="lineno"> 5201</span> </div>
<div class="line"><a id="l05202" name="l05202"></a><span class="lineno"> 5202</span>    std::vector&lt;art_effect_active&gt; <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1a2bb387c51f0ebdab53cc485d53694d37">effects</a> = art-&gt;effects_activated;</div>
<div class="line"><a id="l05203" name="l05203"></a><span class="lineno"> 5203</span>    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; num_used &amp;&amp; !<a class="code hl_enumvalue" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1a2bb387c51f0ebdab53cc485d53694d37">effects</a>.empty(); i++ ) {</div>
<div class="line"><a id="l05204" name="l05204"></a><span class="lineno"> 5204</span>        <span class="keyword">const</span> <a class="code hl_enumeration" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1b">art_effect_active</a> used = <a class="code hl_function" href="rng_8h.html#ac634f688b3c7864ab6992939ac7b0a6e">random_entry_removed</a>( effects );</div>
<div class="line"><a id="l05205" name="l05205"></a><span class="lineno"> 5205</span> </div>
<div class="line"><a id="l05206" name="l05206"></a><span class="lineno"> 5206</span>        <span class="keywordflow">switch</span>( used ) {</div>
<div class="line"><a id="l05207" name="l05207"></a><span class="lineno"> 5207</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baa8ca09227f454ee14950bb1b2d8b76c8">AEA_STORM</a>: {</div>
<div class="line"><a id="l05208" name="l05208"></a><span class="lineno"> 5208</span>                <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 10, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ka-BOOM!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;environment&quot;</span>,</div>
<div class="line"><a id="l05209" name="l05209"></a><span class="lineno"> 5209</span>                               <span class="stringliteral">&quot;thunder_near&quot;</span> );</div>
<div class="line"><a id="l05210" name="l05210"></a><span class="lineno"> 5210</span>                <span class="keywordtype">int</span> num_bolts = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 4 );</div>
<div class="line"><a id="l05211" name="l05211"></a><span class="lineno"> 5211</span>                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; num_bolts; j++ ) {</div>
<div class="line"><a id="l05212" name="l05212"></a><span class="lineno"> 5212</span>                    <a class="code hl_struct" href="structpoint.html">point</a> dir;</div>
<div class="line"><a id="l05213" name="l05213"></a><span class="lineno"> 5213</span>                    <span class="keywordflow">while</span>( dir.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> == 0 &amp;&amp; dir.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> == 0 ) {</div>
<div class="line"><a id="l05214" name="l05214"></a><span class="lineno"> 5214</span>                        dir.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 );</div>
<div class="line"><a id="l05215" name="l05215"></a><span class="lineno"> 5215</span>                        dir.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 );</div>
<div class="line"><a id="l05216" name="l05216"></a><span class="lineno"> 5216</span>                    }</div>
<div class="line"><a id="l05217" name="l05217"></a><span class="lineno"> 5217</span>                    <span class="keywordtype">int</span> dist = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 4, 12 );</div>
<div class="line"><a id="l05218" name="l05218"></a><span class="lineno"> 5218</span>                    <a class="code hl_struct" href="structpoint.html">point</a> bolt( p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>(), p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() );</div>
<div class="line"><a id="l05219" name="l05219"></a><span class="lineno"> 5219</span>                    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> n = 0; n &lt; dist; n++ ) {</div>
<div class="line"><a id="l05220" name="l05220"></a><span class="lineno"> 5220</span>                        bolt.x += dir.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>;</div>
<div class="line"><a id="l05221" name="l05221"></a><span class="lineno"> 5221</span>                        bolt.y += dir.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>;</div>
<div class="line"><a id="l05222" name="l05222"></a><span class="lineno"> 5222</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( {bolt, p-&gt;<a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>()}, <a class="code hl_variable" href="field__type_8cpp.html#a67f782decc0eca9e8e55696dfa89d13b">fd_electricity</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 3 ) );</div>
<div class="line"><a id="l05223" name="l05223"></a><span class="lineno"> 5223</span>                        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l05224" name="l05224"></a><span class="lineno"> 5224</span>                            <span class="keywordflow">if</span>( dir.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> == 0 ) {</div>
<div class="line"><a id="l05225" name="l05225"></a><span class="lineno"> 5225</span>                                dir.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 1 ) * 2 - 1;</div>
<div class="line"><a id="l05226" name="l05226"></a><span class="lineno"> 5226</span>                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05227" name="l05227"></a><span class="lineno"> 5227</span>                                dir.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> = 0;</div>
<div class="line"><a id="l05228" name="l05228"></a><span class="lineno"> 5228</span>                            }</div>
<div class="line"><a id="l05229" name="l05229"></a><span class="lineno"> 5229</span>                        }</div>
<div class="line"><a id="l05230" name="l05230"></a><span class="lineno"> 5230</span>                        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l05231" name="l05231"></a><span class="lineno"> 5231</span>                            <span class="keywordflow">if</span>( dir.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> == 0 ) {</div>
<div class="line"><a id="l05232" name="l05232"></a><span class="lineno"> 5232</span>                                dir.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 1 ) * 2 - 1;</div>
<div class="line"><a id="l05233" name="l05233"></a><span class="lineno"> 5233</span>                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05234" name="l05234"></a><span class="lineno"> 5234</span>                                dir.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> = 0;</div>
<div class="line"><a id="l05235" name="l05235"></a><span class="lineno"> 5235</span>                            }</div>
<div class="line"><a id="l05236" name="l05236"></a><span class="lineno"> 5236</span>                        }</div>
<div class="line"><a id="l05237" name="l05237"></a><span class="lineno"> 5237</span>                    }</div>
<div class="line"><a id="l05238" name="l05238"></a><span class="lineno"> 5238</span>                }</div>
<div class="line"><a id="l05239" name="l05239"></a><span class="lineno"> 5239</span>            }</div>
<div class="line"><a id="l05240" name="l05240"></a><span class="lineno"> 5240</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05241" name="l05241"></a><span class="lineno"> 5241</span> </div>
<div class="line"><a id="l05242" name="l05242"></a><span class="lineno"> 5242</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bab40ce27cc4ccb553ddae56edf6bb07d3">AEA_FIREBALL</a>: {</div>
<div class="line"><a id="l05243" name="l05243"></a><span class="lineno"> 5243</span>                <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> <a class="code hl_function" href="namespacemdeath.html#afeb8babb525456ffcced07e937f88d0d">fireball</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;look_around() ) {</div>
<div class="line"><a id="l05244" name="l05244"></a><span class="lineno"> 5244</span>                    <a class="code hl_function" href="namespaceexplosion__handler.html#aedf90c876bd69288b266c6a60dbc91dc">explosion_handler::explosion</a>( *<a class="code hl_function" href="namespacemdeath.html#afeb8babb525456ffcced07e937f88d0d">fireball</a>, 180, 0.5, <span class="keyword">true</span> );</div>
<div class="line"><a id="l05245" name="l05245"></a><span class="lineno"> 5245</span>                }</div>
<div class="line"><a id="l05246" name="l05246"></a><span class="lineno"> 5246</span>            }</div>
<div class="line"><a id="l05247" name="l05247"></a><span class="lineno"> 5247</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05248" name="l05248"></a><span class="lineno"> 5248</span> </div>
<div class="line"><a id="l05249" name="l05249"></a><span class="lineno"> 5249</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba681db0744c7fc3f4917b98d71d98f770">AEA_ADRENALINE</a>:</div>
<div class="line"><a id="l05250" name="l05250"></a><span class="lineno"> 5250</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re filled with a roaring energy!&quot;</span> ) );</div>
<div class="line"><a id="l05251" name="l05251"></a><span class="lineno"> 5251</span>                p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 20_minutes, 25_minutes ) );</div>
<div class="line"><a id="l05252" name="l05252"></a><span class="lineno"> 5252</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05253" name="l05253"></a><span class="lineno"> 5253</span> </div>
<div class="line"><a id="l05254" name="l05254"></a><span class="lineno"> 5254</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baef62ecc7501798baa6535e00d95419f1">AEA_MAP</a>: {</div>
<div class="line"><a id="l05255" name="l05255"></a><span class="lineno"> 5255</span>                <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> = p-&gt;<a class="code hl_function" href="classCharacter.html#af254fa44c7792574ff19973b0fa06b36">global_omt_location</a>();</div>
<div class="line"><a id="l05256" name="l05256"></a><span class="lineno"> 5256</span>                <span class="keyword">const</span> <span class="keywordtype">bool</span> new_map = <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#a2d8c6ac98f85113aa8d9ce40be1f59d0">reveal</a>( <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.xy(), 20, <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.z() );</div>
<div class="line"><a id="l05257" name="l05257"></a><span class="lineno"> 5257</span>                <span class="keywordflow">if</span>( new_map ) {</div>
<div class="line"><a id="l05258" name="l05258"></a><span class="lineno"> 5258</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have a vision of the surrounding area…&quot;</span> ) );</div>
<div class="line"><a id="l05259" name="l05259"></a><span class="lineno"> 5259</span>                    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 1_seconds );</div>
<div class="line"><a id="l05260" name="l05260"></a><span class="lineno"> 5260</span>                }</div>
<div class="line"><a id="l05261" name="l05261"></a><span class="lineno"> 5261</span>            }</div>
<div class="line"><a id="l05262" name="l05262"></a><span class="lineno"> 5262</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05263" name="l05263"></a><span class="lineno"> 5263</span> </div>
<div class="line"><a id="l05264" name="l05264"></a><span class="lineno"> 5264</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba87b917a7866c85f7445a9387359eb4a9">AEA_BLOOD</a>: {</div>
<div class="line"><a id="l05265" name="l05265"></a><span class="lineno"> 5265</span>                <span class="keywordtype">bool</span> blood = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05266" name="l05266"></a><span class="lineno"> 5266</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;tmp : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 4 ) ) {</div>
<div class="line"><a id="l05267" name="l05267"></a><span class="lineno"> 5267</span>                    <span class="keywordflow">if</span>( !<a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( tmp, <a class="code hl_variable" href="field__type_8cpp.html#a49902050cd0a9d394ce472f37f5662c1">fd_blood</a>, 3 ) &amp;&amp;</div>
<div class="line"><a id="l05268" name="l05268"></a><span class="lineno"> 5268</span>                        ( blood || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( tmp ) ) ) {</div>
<div class="line"><a id="l05269" name="l05269"></a><span class="lineno"> 5269</span>                        blood = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05270" name="l05270"></a><span class="lineno"> 5270</span>                    }</div>
<div class="line"><a id="l05271" name="l05271"></a><span class="lineno"> 5271</span>                }</div>
<div class="line"><a id="l05272" name="l05272"></a><span class="lineno"> 5272</span>                <span class="keywordflow">if</span>( blood ) {</div>
<div class="line"><a id="l05273" name="l05273"></a><span class="lineno"> 5273</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Blood soaks out of the ground and walls.&quot;</span> ) );</div>
<div class="line"><a id="l05274" name="l05274"></a><span class="lineno"> 5274</span>                }</div>
<div class="line"><a id="l05275" name="l05275"></a><span class="lineno"> 5275</span>            }</div>
<div class="line"><a id="l05276" name="l05276"></a><span class="lineno"> 5276</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05277" name="l05277"></a><span class="lineno"> 5277</span> </div>
<div class="line"><a id="l05278" name="l05278"></a><span class="lineno"> 5278</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baa4f207388f2dd93ee483523afb4c72f6">AEA_FATIGUE</a>: {</div>
<div class="line"><a id="l05279" name="l05279"></a><span class="lineno"> 5279</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The fabric of space seems to decay.&quot;</span> ) );</div>
<div class="line"><a id="l05280" name="l05280"></a><span class="lineno"> 5280</span>                <a class="code hl_struct" href="structpoint.html">point</a> p2{ <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() - 3, p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + 3 ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() - 3, p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + 3 ) };</div>
<div class="line"><a id="l05281" name="l05281"></a><span class="lineno"> 5281</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( {p2, p-&gt;<a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>()}, <a class="code hl_variable" href="field__type_8cpp.html#ae1b475e49c929a1dab1575f541a11542">fd_fatigue</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 2 ) );</div>
<div class="line"><a id="l05282" name="l05282"></a><span class="lineno"> 5282</span>            }</div>
<div class="line"><a id="l05283" name="l05283"></a><span class="lineno"> 5283</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05284" name="l05284"></a><span class="lineno"> 5284</span> </div>
<div class="line"><a id="l05285" name="l05285"></a><span class="lineno"> 5285</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bad8488bcc7075ed60fbe370f6f5b3d4d8">AEA_ACIDBALL</a>: {</div>
<div class="line"><a id="l05286" name="l05286"></a><span class="lineno"> 5286</span>                <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> acidball = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;look_around() ) {</div>
<div class="line"><a id="l05287" name="l05287"></a><span class="lineno"> 5287</span>                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;tmp : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( *acidball, 1 ) ) {</div>
<div class="line"><a id="l05288" name="l05288"></a><span class="lineno"> 5288</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( tmp, <a class="code hl_variable" href="field__type_8cpp.html#ab7a8a9cdb74831f6553f4abf5df22873">fd_acid</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 3 ) );</div>
<div class="line"><a id="l05289" name="l05289"></a><span class="lineno"> 5289</span>                    }</div>
<div class="line"><a id="l05290" name="l05290"></a><span class="lineno"> 5290</span>                }</div>
<div class="line"><a id="l05291" name="l05291"></a><span class="lineno"> 5291</span>            }</div>
<div class="line"><a id="l05292" name="l05292"></a><span class="lineno"> 5292</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05293" name="l05293"></a><span class="lineno"> 5293</span> </div>
<div class="line"><a id="l05294" name="l05294"></a><span class="lineno"> 5294</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba3fab05cf1ff1c9ae371c9794aef20c76">AEA_PULSE</a>:</div>
<div class="line"><a id="l05295" name="l05295"></a><span class="lineno"> 5295</span>                <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 30, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The earth shakes!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;misc&quot;</span>,</div>
<div class="line"><a id="l05296" name="l05296"></a><span class="lineno"> 5296</span>                               <span class="stringliteral">&quot;earthquake&quot;</span> );</div>
<div class="line"><a id="l05297" name="l05297"></a><span class="lineno"> 5297</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pt : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 2 ) ) {</div>
<div class="line"><a id="l05298" name="l05298"></a><span class="lineno"> 5298</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.bash( pt, 40 );</div>
<div class="line"><a id="l05299" name="l05299"></a><span class="lineno"> 5299</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.bash( pt, 40 );  <span class="comment">// Multibash effect, so that doors &amp;c will fall</span></div>
<div class="line"><a id="l05300" name="l05300"></a><span class="lineno"> 5300</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.bash( pt, 40 );</div>
<div class="line"><a id="l05301" name="l05301"></a><span class="lineno"> 5301</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.is_bashable( pt ) &amp;&amp; <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 10 ) &gt;= 3 ) {</div>
<div class="line"><a id="l05302" name="l05302"></a><span class="lineno"> 5302</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.bash( pt, 999, <span class="keyword">false</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l05303" name="l05303"></a><span class="lineno"> 5303</span>                    }</div>
<div class="line"><a id="l05304" name="l05304"></a><span class="lineno"> 5304</span>                }</div>
<div class="line"><a id="l05305" name="l05305"></a><span class="lineno"> 5305</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05306" name="l05306"></a><span class="lineno"> 5306</span> </div>
<div class="line"><a id="l05307" name="l05307"></a><span class="lineno"> 5307</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baf0239955dafe7b4bd17a92d7a7f37b73">AEA_HEAL</a>:</div>
<div class="line"><a id="l05308" name="l05308"></a><span class="lineno"> 5308</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel healed.&quot;</span> ) );</div>
<div class="line"><a id="l05309" name="l05309"></a><span class="lineno"> 5309</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#ae7a558a2455f552673b825e3ad2e0fd4">healall</a>( 2 );</div>
<div class="line"><a id="l05310" name="l05310"></a><span class="lineno"> 5310</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05311" name="l05311"></a><span class="lineno"> 5311</span> </div>
<div class="line"><a id="l05312" name="l05312"></a><span class="lineno"> 5312</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba8ca134e834a9f434ffa214437bf5d464">AEA_CONFUSED</a>:</div>
<div class="line"><a id="l05313" name="l05313"></a><span class="lineno"> 5313</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 8 ) ) {</div>
<div class="line"><a id="l05314" name="l05314"></a><span class="lineno"> 5314</span>                    <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l05315" name="l05315"></a><span class="lineno"> 5315</span>                        mon-&gt;add_effect( <a class="code hl_variable" href="iuse_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5_turns, 15_turns ) );</div>
<div class="line"><a id="l05316" name="l05316"></a><span class="lineno"> 5316</span>                    }</div>
<div class="line"><a id="l05317" name="l05317"></a><span class="lineno"> 5317</span>                }</div>
<div class="line"><a id="l05318" name="l05318"></a><span class="lineno"> 5318</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05319" name="l05319"></a><span class="lineno"> 5319</span> </div>
<div class="line"><a id="l05320" name="l05320"></a><span class="lineno"> 5320</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba8f90d65225685d8450306807a61e3202">AEA_ENTRANCE</a>:</div>
<div class="line"><a id="l05321" name="l05321"></a><span class="lineno"> 5321</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 8 ) ) {</div>
<div class="line"><a id="l05322" name="l05322"></a><span class="lineno"> 5322</span>                    <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest, true );</div>
<div class="line"><a id="l05323" name="l05323"></a><span class="lineno"> 5323</span>                    <span class="keywordflow">if</span>( mon &amp;&amp; mon-&gt;<a class="code hl_variable" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 &amp;&amp; <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 600 ) &gt; mon-&gt;<a class="code hl_function" href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">get_hp</a>() ) {</div>
<div class="line"><a id="l05324" name="l05324"></a><span class="lineno"> 5324</span>                        mon-&gt;<a class="code hl_function" href="classmonster.html#a508e0ecc5726af06eaccf219c4252477">make_friendly</a>();</div>
<div class="line"><a id="l05325" name="l05325"></a><span class="lineno"> 5325</span>                    }</div>
<div class="line"><a id="l05326" name="l05326"></a><span class="lineno"> 5326</span>                }</div>
<div class="line"><a id="l05327" name="l05327"></a><span class="lineno"> 5327</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05328" name="l05328"></a><span class="lineno"> 5328</span> </div>
<div class="line"><a id="l05329" name="l05329"></a><span class="lineno"> 5329</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bae96f3a5eb864c199eb1f0264b0e92f15">AEA_BUGS</a>: {</div>
<div class="line"><a id="l05330" name="l05330"></a><span class="lineno"> 5330</span>                <span class="keywordtype">int</span> roll = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 10 );</div>
<div class="line"><a id="l05331" name="l05331"></a><span class="lineno"> 5331</span>                <a class="code hl_class" href="classstring__id.html">mtype_id</a> bug = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">mtype_id::NULL_ID</a>();</div>
<div class="line"><a id="l05332" name="l05332"></a><span class="lineno"> 5332</span>                <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a> = 0;</div>
<div class="line"><a id="l05333" name="l05333"></a><span class="lineno"> 5333</span>                <span class="keywordflow">if</span>( roll &lt;= 4 ) {</div>
<div class="line"><a id="l05334" name="l05334"></a><span class="lineno"> 5334</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Flies buzz around you.&quot;</span> ) );</div>
<div class="line"><a id="l05335" name="l05335"></a><span class="lineno"> 5335</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( roll &lt;= 7 ) {</div>
<div class="line"><a id="l05336" name="l05336"></a><span class="lineno"> 5336</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Giant flies appear!&quot;</span> ) );</div>
<div class="line"><a id="l05337" name="l05337"></a><span class="lineno"> 5337</span>                    bug = <a class="code hl_variable" href="iuse_8cpp.html#a767c37a52b8327ca337bbb36afd4ffa4">mon_fly</a>;</div>
<div class="line"><a id="l05338" name="l05338"></a><span class="lineno"> 5338</span>                    <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 4 );</div>
<div class="line"><a id="l05339" name="l05339"></a><span class="lineno"> 5339</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( roll &lt;= 9 ) {</div>
<div class="line"><a id="l05340" name="l05340"></a><span class="lineno"> 5340</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Giant bees appear!&quot;</span> ) );</div>
<div class="line"><a id="l05341" name="l05341"></a><span class="lineno"> 5341</span>                    bug = <a class="code hl_variable" href="iuse_8cpp.html#a5ef971cfc9772837d78e7506fd85fdc0">mon_bee</a>;</div>
<div class="line"><a id="l05342" name="l05342"></a><span class="lineno"> 5342</span>                    <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 3 );</div>
<div class="line"><a id="l05343" name="l05343"></a><span class="lineno"> 5343</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05344" name="l05344"></a><span class="lineno"> 5344</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Giant wasps appear!&quot;</span> ) );</div>
<div class="line"><a id="l05345" name="l05345"></a><span class="lineno"> 5345</span>                    bug = <a class="code hl_variable" href="iuse_8cpp.html#a3deb155b28ffb371ba49edaa3f13b364">mon_wasp</a>;</div>
<div class="line"><a id="l05346" name="l05346"></a><span class="lineno"> 5346</span>                    <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 2 );</div>
<div class="line"><a id="l05347" name="l05347"></a><span class="lineno"> 5347</span>                }</div>
<div class="line"><a id="l05348" name="l05348"></a><span class="lineno"> 5348</span>                <span class="keywordflow">if</span>( bug ) {</div>
<div class="line"><a id="l05349" name="l05349"></a><span class="lineno"> 5349</span>                    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a>; j++ ) {</div>
<div class="line"><a id="l05350" name="l05350"></a><span class="lineno"> 5350</span>                        <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_around( bug, p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l05351" name="l05351"></a><span class="lineno"> 5351</span>                            <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;friendly = -1;</div>
<div class="line"><a id="l05352" name="l05352"></a><span class="lineno"> 5352</span>                            <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;add_effect( <a class="code hl_variable" href="iuse_8cpp.html#a02a4844a7fb68c13a34dc40b0a9e94d8">effect_pet</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l05353" name="l05353"></a><span class="lineno"> 5353</span>                        }</div>
<div class="line"><a id="l05354" name="l05354"></a><span class="lineno"> 5354</span>                    }</div>
<div class="line"><a id="l05355" name="l05355"></a><span class="lineno"> 5355</span>                }</div>
<div class="line"><a id="l05356" name="l05356"></a><span class="lineno"> 5356</span>            }</div>
<div class="line"><a id="l05357" name="l05357"></a><span class="lineno"> 5357</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05358" name="l05358"></a><span class="lineno"> 5358</span> </div>
<div class="line"><a id="l05359" name="l05359"></a><span class="lineno"> 5359</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba88be8e6edcec01ff7a58ff4749685d4b">AEA_TELEPORT</a>:</div>
<div class="line"><a id="l05360" name="l05360"></a><span class="lineno"> 5360</span>                <a class="code hl_function" href="namespaceteleport.html#a24cbf298b41e9fc23770c73d32e33a47">teleport::teleport</a>( *p );</div>
<div class="line"><a id="l05361" name="l05361"></a><span class="lineno"> 5361</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05362" name="l05362"></a><span class="lineno"> 5362</span> </div>
<div class="line"><a id="l05363" name="l05363"></a><span class="lineno"> 5363</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1babc2d7c4b1565bf42d43dba80b3d65ad6">AEA_LIGHT</a>:</div>
<div class="line"><a id="l05364" name="l05364"></a><span class="lineno"> 5364</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s glows brightly!&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05365" name="l05365"></a><span class="lineno"> 5365</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;timed_events.add( <a class="code hl_enumvalue" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a8fcbba6d885b5b62eaa0b937b1b85ff1">TIMED_EVENT_ARTIFACT_LIGHT</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + 3_minutes );</div>
<div class="line"><a id="l05366" name="l05366"></a><span class="lineno"> 5366</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05367" name="l05367"></a><span class="lineno"> 5367</span> </div>
<div class="line"><a id="l05368" name="l05368"></a><span class="lineno"> 5368</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba4f755d64a0d170085f1b043cf61c105a">AEA_GROWTH</a>: {</div>
<div class="line"><a id="l05369" name="l05369"></a><span class="lineno"> 5369</span>                <a class="code hl_class" href="classmonster.html">monster</a> tmptriffid( <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">mtype_id::NULL_ID</a>(), p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l05370" name="l05370"></a><span class="lineno"> 5370</span>                <a class="code hl_function" href="namespacemattack.html#a07af5ccfe3022a9bb301db9b8bccae57">mattack::growplants</a>( &amp;tmptriffid );</div>
<div class="line"><a id="l05371" name="l05371"></a><span class="lineno"> 5371</span>            }</div>
<div class="line"><a id="l05372" name="l05372"></a><span class="lineno"> 5372</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05373" name="l05373"></a><span class="lineno"> 5373</span> </div>
<div class="line"><a id="l05374" name="l05374"></a><span class="lineno"> 5374</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bab362bd6ebe2385fa7c75aadf79815151">AEA_HURTALL</a>:</div>
<div class="line"><a id="l05375" name="l05375"></a><span class="lineno"> 5375</span>                <span class="keywordflow">for</span>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a id="l05376" name="l05376"></a><span class="lineno"> 5376</span>                    critter.apply_damage( <span class="keyword">nullptr</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 5 ) );</div>
<div class="line"><a id="l05377" name="l05377"></a><span class="lineno"> 5377</span>                }</div>
<div class="line"><a id="l05378" name="l05378"></a><span class="lineno"> 5378</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05379" name="l05379"></a><span class="lineno"> 5379</span> </div>
<div class="line"><a id="l05380" name="l05380"></a><span class="lineno"> 5380</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baf84583f6d40265a1d5877eb6900af9aa">AEA_RADIATION</a>:</div>
<div class="line"><a id="l05381" name="l05381"></a><span class="lineno"> 5381</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Horrible gases are emitted!&quot;</span> ) );</div>
<div class="line"><a id="l05382" name="l05382"></a><span class="lineno"> 5382</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l05383" name="l05383"></a><span class="lineno"> 5383</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( dest, <a class="code hl_variable" href="field__type_8cpp.html#a50a270bd1c0284331c75930716ac4b79">fd_nuke_gas</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 3 ) );</div>
<div class="line"><a id="l05384" name="l05384"></a><span class="lineno"> 5384</span>                }</div>
<div class="line"><a id="l05385" name="l05385"></a><span class="lineno"> 5385</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05386" name="l05386"></a><span class="lineno"> 5386</span> </div>
<div class="line"><a id="l05387" name="l05387"></a><span class="lineno"> 5387</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bab1a853ba4273addf2b8199ce2a79da50">AEA_PAIN</a>:</div>
<div class="line"><a id="l05388" name="l05388"></a><span class="lineno"> 5388</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re wracked with pain!&quot;</span> ) );</div>
<div class="line"><a id="l05389" name="l05389"></a><span class="lineno"> 5389</span>                <span class="comment">// OK, the Lovecraftian thingamajig can bring Deadened</span></div>
<div class="line"><a id="l05390" name="l05390"></a><span class="lineno"> 5390</span>                <span class="comment">// masochists &amp; Cenobites the stimulation they&#39;ve been</span></div>
<div class="line"><a id="l05391" name="l05391"></a><span class="lineno"> 5391</span>                <span class="comment">// craving ;)</span></div>
<div class="line"><a id="l05392" name="l05392"></a><span class="lineno"> 5392</span>                p-&gt;<a class="code hl_function" href="classCreature.html#a74f17106e37657f528e42b3fd706766a">mod_pain_noresist</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5, 15 ) );</div>
<div class="line"><a id="l05393" name="l05393"></a><span class="lineno"> 5393</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05394" name="l05394"></a><span class="lineno"> 5394</span> </div>
<div class="line"><a id="l05395" name="l05395"></a><span class="lineno"> 5395</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba4b4e6f67eaa9aecb70503755ae8c490a">AEA_MUTATE</a>:</div>
<div class="line"><a id="l05396" name="l05396"></a><span class="lineno"> 5396</span>                <span class="keywordflow">if</span>( !<a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l05397" name="l05397"></a><span class="lineno"> 5397</span>                    p-&gt;<a class="code hl_function" href="classCharacter.html#a219dfd606ef95e169114487e61ba0ad7">mutate</a>();</div>
<div class="line"><a id="l05398" name="l05398"></a><span class="lineno"> 5398</span>                }</div>
<div class="line"><a id="l05399" name="l05399"></a><span class="lineno"> 5399</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05400" name="l05400"></a><span class="lineno"> 5400</span> </div>
<div class="line"><a id="l05401" name="l05401"></a><span class="lineno"> 5401</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba4eea9b05241cfab0b191fccdd01130ff">AEA_PARALYZE</a>:</div>
<div class="line"><a id="l05402" name="l05402"></a><span class="lineno"> 5402</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re paralyzed!&quot;</span> ) );</div>
<div class="line"><a id="l05403" name="l05403"></a><span class="lineno"> 5403</span>                p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 50, 200 );</div>
<div class="line"><a id="l05404" name="l05404"></a><span class="lineno"> 5404</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05405" name="l05405"></a><span class="lineno"> 5405</span> </div>
<div class="line"><a id="l05406" name="l05406"></a><span class="lineno"> 5406</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bacd77913f81749489fafdd65f6da856b9">AEA_FIRESTORM</a>: {</div>
<div class="line"><a id="l05407" name="l05407"></a><span class="lineno"> 5407</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Fire rains down around you!&quot;</span> ) );</div>
<div class="line"><a id="l05408" name="l05408"></a><span class="lineno"> 5408</span>                std::vector&lt;tripoint&gt; ps = <a class="code hl_function" href="coordinates_8h.html#a13a12943d34d5f17e6c3b4e730659fc6">closest_points_first</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 3 );</div>
<div class="line"><a id="l05409" name="l05409"></a><span class="lineno"> 5409</span>                <span class="keywordflow">for</span>( <span class="keyword">auto</span> p_it : ps ) {</div>
<div class="line"><a id="l05410" name="l05410"></a><span class="lineno"> 5410</span>                    <span class="keywordflow">if</span>( !<a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l05411" name="l05411"></a><span class="lineno"> 5411</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( p_it, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a>, 1 + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 1 ) * <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 1 ), 3_minutes );</div>
<div class="line"><a id="l05412" name="l05412"></a><span class="lineno"> 5412</span>                    }</div>
<div class="line"><a id="l05413" name="l05413"></a><span class="lineno"> 5413</span>                }</div>
<div class="line"><a id="l05414" name="l05414"></a><span class="lineno"> 5414</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05415" name="l05415"></a><span class="lineno"> 5415</span>            }</div>
<div class="line"><a id="l05416" name="l05416"></a><span class="lineno"> 5416</span> </div>
<div class="line"><a id="l05417" name="l05417"></a><span class="lineno"> 5417</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bab319c4a14043be657dbb10baba9c7129">AEA_ATTENTION</a>:</div>
<div class="line"><a id="l05418" name="l05418"></a><span class="lineno"> 5418</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel like your action has attracted attention.&quot;</span> ) );</div>
<div class="line"><a id="l05419" name="l05419"></a><span class="lineno"> 5419</span>                p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a224033af2e0bc90d812b116312d34365">effect_attention</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1_hours, 3_hours ) );</div>
<div class="line"><a id="l05420" name="l05420"></a><span class="lineno"> 5420</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05421" name="l05421"></a><span class="lineno"> 5421</span> </div>
<div class="line"><a id="l05422" name="l05422"></a><span class="lineno"> 5422</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba71425bb22e36567d78ad3c3bfb213a08">AEA_TELEGLOW</a>:</div>
<div class="line"><a id="l05423" name="l05423"></a><span class="lineno"> 5423</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel unhinged.&quot;</span> ) );</div>
<div class="line"><a id="l05424" name="l05424"></a><span class="lineno"> 5424</span>                p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 30_minutes, 120_minutes ) );</div>
<div class="line"><a id="l05425" name="l05425"></a><span class="lineno"> 5425</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05426" name="l05426"></a><span class="lineno"> 5426</span> </div>
<div class="line"><a id="l05427" name="l05427"></a><span class="lineno"> 5427</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba2b29f359cda3b6a591ba0e1f6facdcc7">AEA_NOISE</a>:</div>
<div class="line"><a id="l05428" name="l05428"></a><span class="lineno"> 5428</span>                <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 100, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>,</div>
<div class="line"><a id="l05429" name="l05429"></a><span class="lineno"> 5429</span>                               <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;a deafening boom from %s %s&quot;</span> ),</div>
<div class="line"><a id="l05430" name="l05430"></a><span class="lineno"> 5430</span>                                              p-&gt;<a class="code hl_function" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a>( <span class="keyword">true</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ), <span class="keyword">true</span>, <span class="stringliteral">&quot;misc&quot;</span>, <span class="stringliteral">&quot;shockwave&quot;</span> );</div>
<div class="line"><a id="l05431" name="l05431"></a><span class="lineno"> 5431</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05432" name="l05432"></a><span class="lineno"> 5432</span> </div>
<div class="line"><a id="l05433" name="l05433"></a><span class="lineno"> 5433</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bab005aa08020f6aafb45051d4828d56e2">AEA_SCREAM</a>:</div>
<div class="line"><a id="l05434" name="l05434"></a><span class="lineno"> 5434</span>                <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 40, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a7ed21143076d0cca420653d4345baa2f">sounds::sound_t::alert</a>,</div>
<div class="line"><a id="l05435" name="l05435"></a><span class="lineno"> 5435</span>                               <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;a disturbing scream from %s %s&quot;</span> ),</div>
<div class="line"><a id="l05436" name="l05436"></a><span class="lineno"> 5436</span>                                              p-&gt;<a class="code hl_function" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a>( <span class="keyword">true</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ), <span class="keyword">true</span>, <span class="stringliteral">&quot;shout&quot;</span>, <span class="stringliteral">&quot;scream&quot;</span> );</div>
<div class="line"><a id="l05437" name="l05437"></a><span class="lineno"> 5437</span>                <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">is_deaf</a>() ) {</div>
<div class="line"><a id="l05438" name="l05438"></a><span class="lineno"> 5438</span>                    p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a91516b205a75df70c98a219c4958e5ee">MORALE_SCREAM</a>, -10, 0, 30_minutes, 1_minutes );</div>
<div class="line"><a id="l05439" name="l05439"></a><span class="lineno"> 5439</span>                }</div>
<div class="line"><a id="l05440" name="l05440"></a><span class="lineno"> 5440</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05441" name="l05441"></a><span class="lineno"> 5441</span> </div>
<div class="line"><a id="l05442" name="l05442"></a><span class="lineno"> 5442</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba24d8e92ae5e328eed53eb4bd144109aa">AEA_DIM</a>:</div>
<div class="line"><a id="l05443" name="l05443"></a><span class="lineno"> 5443</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The sky starts to dim.&quot;</span> ) );</div>
<div class="line"><a id="l05444" name="l05444"></a><span class="lineno"> 5444</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;timed_events.add( <a class="code hl_enumvalue" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a090806619a7785ed4417cc40db713713">TIMED_EVENT_DIM</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + 5_minutes );</div>
<div class="line"><a id="l05445" name="l05445"></a><span class="lineno"> 5445</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05446" name="l05446"></a><span class="lineno"> 5446</span> </div>
<div class="line"><a id="l05447" name="l05447"></a><span class="lineno"> 5447</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba10137d74e4fdc51735a3e8ee6f282c4d">AEA_FLASH</a>:</div>
<div class="line"><a id="l05448" name="l05448"></a><span class="lineno"> 5448</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s flashes brightly!&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05449" name="l05449"></a><span class="lineno"> 5449</span>                <a class="code hl_function" href="namespaceexplosion__handler.html#a390e9830ff4eb73e44435c02c8039e5f">explosion_handler::flashbang</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span> );</div>
<div class="line"><a id="l05450" name="l05450"></a><span class="lineno"> 5450</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05451" name="l05451"></a><span class="lineno"> 5451</span> </div>
<div class="line"><a id="l05452" name="l05452"></a><span class="lineno"> 5452</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba40810cc4446add30f83d1720b247a0ad">AEA_VOMIT</a>:</div>
<div class="line"><a id="l05453" name="l05453"></a><span class="lineno"> 5453</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A wave of nausea passes through you!&quot;</span> ) );</div>
<div class="line"><a id="l05454" name="l05454"></a><span class="lineno"> 5454</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l05455" name="l05455"></a><span class="lineno"> 5455</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05456" name="l05456"></a><span class="lineno"> 5456</span> </div>
<div class="line"><a id="l05457" name="l05457"></a><span class="lineno"> 5457</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baa07729426c0fd279750f09524cbb1c7e">AEA_SHADOWS</a>: {</div>
<div class="line"><a id="l05458" name="l05458"></a><span class="lineno"> 5458</span>                <span class="keywordtype">int</span> num_shadows = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 4, 8 );</div>
<div class="line"><a id="l05459" name="l05459"></a><span class="lineno"> 5459</span>                <span class="keywordtype">int</span> num_spawned = 0;</div>
<div class="line"><a id="l05460" name="l05460"></a><span class="lineno"> 5460</span>                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; num_shadows; j++ ) {</div>
<div class="line"><a id="l05461" name="l05461"></a><span class="lineno"> 5461</span>                    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> tries = 0; tries &lt; 10; ++tries ) {</div>
<div class="line"><a id="l05462" name="l05462"></a><span class="lineno"> 5462</span>                        <a class="code hl_struct" href="structtripoint.html">tripoint</a> monp = p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>();</div>
<div class="line"><a id="l05463" name="l05463"></a><span class="lineno"> 5463</span>                        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a id="l05464" name="l05464"></a><span class="lineno"> 5464</span>                            monp.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() - 5, p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + 5 );</div>
<div class="line"><a id="l05465" name="l05465"></a><span class="lineno"> 5465</span>                            monp.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> = ( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ? p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() - 5 : p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + 5 );</div>
<div class="line"><a id="l05466" name="l05466"></a><span class="lineno"> 5466</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05467" name="l05467"></a><span class="lineno"> 5467</span>                            monp.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> = ( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ? p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() - 5 : p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + 5 );</div>
<div class="line"><a id="l05468" name="l05468"></a><span class="lineno"> 5468</span>                            monp.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() - 5, p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + 5 );</div>
<div class="line"><a id="l05469" name="l05469"></a><span class="lineno"> 5469</span>                        }</div>
<div class="line"><a id="l05470" name="l05470"></a><span class="lineno"> 5470</span>                        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.sees( monp, p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 10 ) ) {</div>
<div class="line"><a id="l05471" name="l05471"></a><span class="lineno"> 5471</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05472" name="l05472"></a><span class="lineno"> 5472</span>                        }</div>
<div class="line"><a id="l05473" name="l05473"></a><span class="lineno"> 5473</span>                        <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span>  spawned = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( <a class="code hl_variable" href="iuse_8cpp.html#a04ed540838134ee76f29b9135bd8efb8">mon_shadow</a>, monp ) ) {</div>
<div class="line"><a id="l05474" name="l05474"></a><span class="lineno"> 5474</span>                            num_spawned++;</div>
<div class="line"><a id="l05475" name="l05475"></a><span class="lineno"> 5475</span>                            spawned-&gt;reset_special_rng( <span class="stringliteral">&quot;DISAPPEAR&quot;</span> );</div>
<div class="line"><a id="l05476" name="l05476"></a><span class="lineno"> 5476</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05477" name="l05477"></a><span class="lineno"> 5477</span>                        }</div>
<div class="line"><a id="l05478" name="l05478"></a><span class="lineno"> 5478</span>                    }</div>
<div class="line"><a id="l05479" name="l05479"></a><span class="lineno"> 5479</span>                }</div>
<div class="line"><a id="l05480" name="l05480"></a><span class="lineno"> 5480</span>                <span class="keywordflow">if</span>( num_spawned &gt; 1 ) {</div>
<div class="line"><a id="l05481" name="l05481"></a><span class="lineno"> 5481</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Shadows form around you.&quot;</span> ) );</div>
<div class="line"><a id="l05482" name="l05482"></a><span class="lineno"> 5482</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( num_spawned == 1 ) {</div>
<div class="line"><a id="l05483" name="l05483"></a><span class="lineno"> 5483</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A shadow forms nearby.&quot;</span> ) );</div>
<div class="line"><a id="l05484" name="l05484"></a><span class="lineno"> 5484</span>                }</div>
<div class="line"><a id="l05485" name="l05485"></a><span class="lineno"> 5485</span>            }</div>
<div class="line"><a id="l05486" name="l05486"></a><span class="lineno"> 5486</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05487" name="l05487"></a><span class="lineno"> 5487</span> </div>
<div class="line"><a id="l05488" name="l05488"></a><span class="lineno"> 5488</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba8ad797f07524c051a366d6e756eb2ce3">AEA_STAMINA_EMPTY</a>:</div>
<div class="line"><a id="l05489" name="l05489"></a><span class="lineno"> 5489</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your body feels like jelly.&quot;</span> ) );</div>
<div class="line"><a id="l05490" name="l05490"></a><span class="lineno"> 5490</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#a65642ccc4e3370f7a594d77e4e1fd374">set_stamina</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>() * 1 / ( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 3, 8 ) ) );</div>
<div class="line"><a id="l05491" name="l05491"></a><span class="lineno"> 5491</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05492" name="l05492"></a><span class="lineno"> 5492</span> </div>
<div class="line"><a id="l05493" name="l05493"></a><span class="lineno"> 5493</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baadc02a82696cb6ff34f0ffd240f63300">AEA_FUN</a>:</div>
<div class="line"><a id="l05494" name="l05494"></a><span class="lineno"> 5494</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re filled with euphoria!&quot;</span> ) );</div>
<div class="line"><a id="l05495" name="l05495"></a><span class="lineno"> 5495</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a8743e2b2dd8b547e4b5934892d96970c">MORALE_FEELING_GOOD</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 20, 50 ), 0, 5_minutes, 5_turns, <span class="keyword">false</span> );</div>
<div class="line"><a id="l05496" name="l05496"></a><span class="lineno"> 5496</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05497" name="l05497"></a><span class="lineno"> 5497</span> </div>
<div class="line"><a id="l05498" name="l05498"></a><span class="lineno"> 5498</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba3a01e665d4076f17ef0fd89678ece1e1">AEA_SPLIT</a>:</div>
<div class="line"><a id="l05499" name="l05499"></a><span class="lineno"> 5499</span>                <span class="comment">// TODO: Add something</span></div>
<div class="line"><a id="l05500" name="l05500"></a><span class="lineno"> 5500</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05501" name="l05501"></a><span class="lineno"> 5501</span> </div>
<div class="line"><a id="l05502" name="l05502"></a><span class="lineno"> 5502</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba2418b11be90bd7c72d739b0cdc994099">AEA_NULL</a>:</div>
<div class="line"><a id="l05503" name="l05503"></a><span class="lineno"> 5503</span>            <span class="comment">// BUG</span></div>
<div class="line"><a id="l05504" name="l05504"></a><span class="lineno"> 5504</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba1f81eaff44544cfacf5d6c8abd8e4d45">NUM_AEAS</a>:</div>
<div class="line"><a id="l05505" name="l05505"></a><span class="lineno"> 5505</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l05506" name="l05506"></a><span class="lineno"> 5506</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;iuse::artifact(): wrong artifact type (%d)&quot;</span>, used );</div>
<div class="line"><a id="l05507" name="l05507"></a><span class="lineno"> 5507</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05508" name="l05508"></a><span class="lineno"> 5508</span>        }</div>
<div class="line"><a id="l05509" name="l05509"></a><span class="lineno"> 5509</span>    }</div>
<div class="line"><a id="l05510" name="l05510"></a><span class="lineno"> 5510</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05511" name="l05511"></a><span class="lineno"> 5511</span>}</div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1b"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1b">art_effect_active</a></div><div class="ttdeci">art_effect_active</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00016">artifact.h:16</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba10137d74e4fdc51735a3e8ee6f282c4d"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba10137d74e4fdc51735a3e8ee6f282c4d">AEA_FLASH</a></div><div class="ttdeci">@ AEA_FLASH</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00049">artifact.h:49</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba1f81eaff44544cfacf5d6c8abd8e4d45"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba1f81eaff44544cfacf5d6c8abd8e4d45">NUM_AEAS</a></div><div class="ttdeci">@ NUM_AEAS</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00055">artifact.h:54</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba2418b11be90bd7c72d739b0cdc994099"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba2418b11be90bd7c72d739b0cdc994099">AEA_NULL</a></div><div class="ttdeci">@ AEA_NULL</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00017">artifact.h:17</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba24d8e92ae5e328eed53eb4bd144109aa"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba24d8e92ae5e328eed53eb4bd144109aa">AEA_DIM</a></div><div class="ttdeci">@ AEA_DIM</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00048">artifact.h:48</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba2b29f359cda3b6a591ba0e1f6facdcc7"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba2b29f359cda3b6a591ba0e1f6facdcc7">AEA_NOISE</a></div><div class="ttdeci">@ AEA_NOISE</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00046">artifact.h:46</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba3a01e665d4076f17ef0fd89678ece1e1"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba3a01e665d4076f17ef0fd89678ece1e1">AEA_SPLIT</a></div><div class="ttdeci">@ AEA_SPLIT</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00037">artifact.h:37</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba3fab05cf1ff1c9ae371c9794aef20c76"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba3fab05cf1ff1c9ae371c9794aef20c76">AEA_PULSE</a></div><div class="ttdeci">@ AEA_PULSE</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00026">artifact.h:26</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba40810cc4446add30f83d1720b247a0ad"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba40810cc4446add30f83d1720b247a0ad">AEA_VOMIT</a></div><div class="ttdeci">@ AEA_VOMIT</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00050">artifact.h:50</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba4b4e6f67eaa9aecb70503755ae8c490a"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba4b4e6f67eaa9aecb70503755ae8c490a">AEA_MUTATE</a></div><div class="ttdeci">@ AEA_MUTATE</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00041">artifact.h:41</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba4eea9b05241cfab0b191fccdd01130ff"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba4eea9b05241cfab0b191fccdd01130ff">AEA_PARALYZE</a></div><div class="ttdeci">@ AEA_PARALYZE</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00042">artifact.h:42</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba4f755d64a0d170085f1b043cf61c105a"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba4f755d64a0d170085f1b043cf61c105a">AEA_GROWTH</a></div><div class="ttdeci">@ AEA_GROWTH</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00033">artifact.h:33</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba681db0744c7fc3f4917b98d71d98f770"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba681db0744c7fc3f4917b98d71d98f770">AEA_ADRENALINE</a></div><div class="ttdeci">@ AEA_ADRENALINE</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00021">artifact.h:21</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba71425bb22e36567d78ad3c3bfb213a08"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba71425bb22e36567d78ad3c3bfb213a08">AEA_TELEGLOW</a></div><div class="ttdeci">@ AEA_TELEGLOW</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00045">artifact.h:45</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba87b917a7866c85f7445a9387359eb4a9"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba87b917a7866c85f7445a9387359eb4a9">AEA_BLOOD</a></div><div class="ttdeci">@ AEA_BLOOD</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00023">artifact.h:23</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba88be8e6edcec01ff7a58ff4749685d4b"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba88be8e6edcec01ff7a58ff4749685d4b">AEA_TELEPORT</a></div><div class="ttdeci">@ AEA_TELEPORT</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00031">artifact.h:31</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba8ad797f07524c051a366d6e756eb2ce3"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba8ad797f07524c051a366d6e756eb2ce3">AEA_STAMINA_EMPTY</a></div><div class="ttdeci">@ AEA_STAMINA_EMPTY</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00052">artifact.h:52</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba8ca134e834a9f434ffa214437bf5d464"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba8ca134e834a9f434ffa214437bf5d464">AEA_CONFUSED</a></div><div class="ttdeci">@ AEA_CONFUSED</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00028">artifact.h:28</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1ba8f90d65225685d8450306807a61e3202"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1ba8f90d65225685d8450306807a61e3202">AEA_ENTRANCE</a></div><div class="ttdeci">@ AEA_ENTRANCE</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00029">artifact.h:29</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1baa07729426c0fd279750f09524cbb1c7e"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baa07729426c0fd279750f09524cbb1c7e">AEA_SHADOWS</a></div><div class="ttdeci">@ AEA_SHADOWS</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00051">artifact.h:51</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1baa4f207388f2dd93ee483523afb4c72f6"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baa4f207388f2dd93ee483523afb4c72f6">AEA_FATIGUE</a></div><div class="ttdeci">@ AEA_FATIGUE</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00024">artifact.h:24</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1baa8ca09227f454ee14950bb1b2d8b76c8"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baa8ca09227f454ee14950bb1b2d8b76c8">AEA_STORM</a></div><div class="ttdeci">@ AEA_STORM</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00019">artifact.h:19</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1baadc02a82696cb6ff34f0ffd240f63300"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baadc02a82696cb6ff34f0ffd240f63300">AEA_FUN</a></div><div class="ttdeci">@ AEA_FUN</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00035">artifact.h:35</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1bab005aa08020f6aafb45051d4828d56e2"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bab005aa08020f6aafb45051d4828d56e2">AEA_SCREAM</a></div><div class="ttdeci">@ AEA_SCREAM</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00047">artifact.h:47</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1bab1a853ba4273addf2b8199ce2a79da50"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bab1a853ba4273addf2b8199ce2a79da50">AEA_PAIN</a></div><div class="ttdeci">@ AEA_PAIN</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00040">artifact.h:40</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1bab319c4a14043be657dbb10baba9c7129"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bab319c4a14043be657dbb10baba9c7129">AEA_ATTENTION</a></div><div class="ttdeci">@ AEA_ATTENTION</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00044">artifact.h:44</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1bab362bd6ebe2385fa7c75aadf79815151"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bab362bd6ebe2385fa7c75aadf79815151">AEA_HURTALL</a></div><div class="ttdeci">@ AEA_HURTALL</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00034">artifact.h:34</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1bab40ce27cc4ccb553ddae56edf6bb07d3"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bab40ce27cc4ccb553ddae56edf6bb07d3">AEA_FIREBALL</a></div><div class="ttdeci">@ AEA_FIREBALL</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00020">artifact.h:20</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1babc2d7c4b1565bf42d43dba80b3d65ad6"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1babc2d7c4b1565bf42d43dba80b3d65ad6">AEA_LIGHT</a></div><div class="ttdeci">@ AEA_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00032">artifact.h:32</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1bacd77913f81749489fafdd65f6da856b9"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bacd77913f81749489fafdd65f6da856b9">AEA_FIRESTORM</a></div><div class="ttdeci">@ AEA_FIRESTORM</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00043">artifact.h:43</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1bad8488bcc7075ed60fbe370f6f5b3d4d8"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bad8488bcc7075ed60fbe370f6f5b3d4d8">AEA_ACIDBALL</a></div><div class="ttdeci">@ AEA_ACIDBALL</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00025">artifact.h:25</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1bae96f3a5eb864c199eb1f0264b0e92f15"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1bae96f3a5eb864c199eb1f0264b0e92f15">AEA_BUGS</a></div><div class="ttdeci">@ AEA_BUGS</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00030">artifact.h:30</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1baef62ecc7501798baa6535e00d95419f1"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baef62ecc7501798baa6535e00d95419f1">AEA_MAP</a></div><div class="ttdeci">@ AEA_MAP</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00022">artifact.h:22</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1baf0239955dafe7b4bd17a92d7a7f37b73"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baf0239955dafe7b4bd17a92d7a7f37b73">AEA_HEAL</a></div><div class="ttdeci">@ AEA_HEAL</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00027">artifact.h:27</a></div></div>
<div class="ttc" id="aartifact_8h_html_a34002785df1cadf2029c3b8c7558af1baf84583f6d40265a1d5877eb6900af9aa"><div class="ttname"><a href="artifact_8h.html#a34002785df1cadf2029c3b8c7558af1baf84583f6d40265a1d5877eb6900af9aa">AEA_RADIATION</a></div><div class="ttdeci">@ AEA_RADIATION</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00039">artifact.h:39</a></div></div>
<div class="ttc" id="abodypart_8h_html_a426444e2d486ce1ee315d8b8acc86b40"><div class="ttname"><a href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a></div><div class="ttdeci">int_id&lt; body_part_type &gt; bodypart_id</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00023">bodypart.h:23</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0d0cb32a95161137e0c61303f84b3753"><div class="ttname"><a href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">Character::posz</a></div><div class="ttdeci">int posz() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00844">character.h:844</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0ffe14df559cee6e9b5d02f5b214d009"><div class="ttname"><a href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">Character::get_stamina</a></div><div class="ttdeci">int get_stamina() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07175">character.cpp:7175</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1e1996b6d6fc0a86d917cd155e1656d8"><div class="ttname"><a href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">Character::disp_name</a></div><div class="ttdeci">std::string disp_name(bool possessive=false, bool capitalize_first=false) const override</div><div class="ttdoc">Returns either &quot;you&quot; or the player's name.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00539">character.cpp:539</a></div></div>
<div class="ttc" id="aclassCharacter_html_a219dfd606ef95e169114487e61ba0ad7"><div class="ttname"><a href="classCharacter.html#a219dfd606ef95e169114487e61ba0ad7">Character::mutate</a></div><div class="ttdeci">void mutate()</div><div class="ttdoc">Picks a random valid mutation and gives it to the Character, possibly removing/changing others along ...</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00845">mutation.cpp:845</a></div></div>
<div class="ttc" id="aclassCharacter_html_a464e960411f87bd3be76d5142dc255cb"><div class="ttname"><a href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">Character::posx</a></div><div class="ttdeci">int posx() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00838">character.h:838</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4b4d2e6bf4190c6470b282ce60183c0f"><div class="ttname"><a href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">Character::posy</a></div><div class="ttdeci">int posy() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00841">character.h:841</a></div></div>
<div class="ttc" id="aclassCharacter_html_a65642ccc4e3370f7a594d77e4e1fd374"><div class="ttname"><a href="classCharacter.html#a65642ccc4e3370f7a594d77e4e1fd374">Character::set_stamina</a></div><div class="ttdeci">void set_stamina(int new_stamina)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07189">character.cpp:7189</a></div></div>
<div class="ttc" id="aclassCharacter_html_a72b82d2498ae823e0cd6cad311215327"><div class="ttname"><a href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">Character::vomit</a></div><div class="ttdeci">void vomit()</div><div class="ttdoc">Handles Character vomiting effects.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07775">character.cpp:7775</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab6b6b317ae10bfb8f358fe289d645c96"><div class="ttname"><a href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">Character::add_morale</a></div><div class="ttdeci">void add_morale(const morale_type &amp;type, int bonus, int max_bonus=0, const time_duration &amp;duration=1_hours, const time_duration &amp;decay_start=30_minutes, bool capped=false, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09067">character.cpp:9067</a></div></div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00470">character.cpp:470</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae7a558a2455f552673b825e3ad2e0fd4"><div class="ttname"><a href="classCharacter.html#ae7a558a2455f552673b825e3ad2e0fd4">Character::healall</a></div><div class="ttdeci">void healall(int dam)</div><div class="ttdoc">Heals all body parts for dam.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08627">character.cpp:8627</a></div></div>
<div class="ttc" id="aclassCharacter_html_aecadb13556a47d015e1a1ac7c46d56a7"><div class="ttname"><a href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">Character::is_deaf</a></div><div class="ttdeci">bool is_deaf() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04470">character.cpp:4470</a></div></div>
<div class="ttc" id="aclassCharacter_html_af254fa44c7792574ff19973b0fa06b36"><div class="ttname"><a href="classCharacter.html#af254fa44c7792574ff19973b0fa06b36">Character::global_omt_location</a></div><div class="ttdeci">tripoint_abs_omt global_omt_location() const</div><div class="ttdoc">Returns the location of the player in global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06318">character.cpp:6318</a></div></div>
<div class="ttc" id="aclassCreature_html_a74f17106e37657f528e42b3fd706766a"><div class="ttname"><a href="classCreature.html#a74f17106e37657f528e42b3fd706766a">Creature::mod_pain_noresist</a></div><div class="ttdeci">virtual void mod_pain_noresist(int npain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01346">creature.cpp:1346</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::omt &gt;</a></div></div>
<div class="ttc" id="aclassitem_html_a363ebdca3f9264390dbc6618de34c778"><div class="ttname"><a href="classitem.html#a363ebdca3f9264390dbc6618de34c778">item::is_artifact</a></div><div class="ttdeci">bool is_artifact() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06813">item.cpp:6813</a></div></div>
<div class="ttc" id="aclassitem_html_a59a03649a0636c70e776054db688564a"><div class="ttname"><a href="classitem.html#a59a03649a0636c70e776054db688564a">item::is_tool</a></div><div class="ttdeci">bool is_tool() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06803">item.cpp:6803</a></div></div>
<div class="ttc" id="aclassitem_html_a7e78e26dcf9b357cda769c3ca2938eda"><div class="ttname"><a href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, bool with_prefix=true, unsigned int truncate=0) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04440">item.cpp:4440</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00083">monster.h:84</a></div></div>
<div class="ttc" id="aclassmonster_html_a2d0e466b9d25796cd99402ddd5d3ce20"><div class="ttname"><a href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">monster::get_hp</a></div><div class="ttdeci">int get_hp(const bodypart_id &amp;) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02894">monster.cpp:2894</a></div></div>
<div class="ttc" id="aclassmonster_html_a4e17d0d504a12d9b2e4de3e7a7503fff"><div class="ttname"><a href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">monster::friendly</a></div><div class="ttdeci">int friendly</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00471">monster.h:471</a></div></div>
<div class="ttc" id="aclassmonster_html_a508e0ecc5726af06eaccf219c4252477"><div class="ttname"><a href="classmonster.html#a508e0ecc5726af06eaccf219c4252477">monster::make_friendly</a></div><div class="ttdeci">void make_friendly()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02631">monster.cpp:2631</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a2d8c6ac98f85113aa8d9ce40be1f59d0"><div class="ttname"><a href="classovermapbuffer.html#a2d8c6ac98f85113aa8d9ce40be1f59d0">overmapbuffer::reveal</a></div><div class="ttdeci">bool reveal(const point_abs_omt &amp;center, int radius, int z)</div><div class="ttdoc">Mark a square area around center on Z-level z as seen.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00671">overmapbuffer.cpp:671</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; mtype &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; mtype &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; mtype &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="acoordinates_8h_html_a13a12943d34d5f17e6c3b4e730659fc6"><div class="ttname"><a href="coordinates_8h.html#a13a12943d34d5f17e6c3b4e730659fc6">closest_points_first</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale &gt; &gt; closest_points_first(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc, int min_dist, int max_dist)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00596">coordinates.h:596</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="adependency__tree_8h_html_a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c"><div class="ttname"><a href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">node_error_type::num</a></div><div class="ttdeci">@ num</div></div>
<div class="ttc" id="aenums_8h_html_a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b"><div class="ttname"><a href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a></div><div class="ttdeci">@ center</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00316">enums.h:316</a></div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea15d4d969f53e9e04bc75c1a08a88dd6d"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea15d4d969f53e9e04bc75c1a08a88dd6d">event_type::activates_artifact</a></div><div class="ttdeci">@ activates_artifact</div></div>
<div class="ttc" id="afield__type_8cpp_html_a261d438c14892c55153e1b615c548164"><div class="ttname"><a href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a></div><div class="ttdeci">field_type_id fd_fire</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00345">field_type.cpp:345</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a49902050cd0a9d394ce472f37f5662c1"><div class="ttname"><a href="field__type_8cpp.html#a49902050cd0a9d394ce472f37f5662c1">fd_blood</a></div><div class="ttdeci">field_type_id fd_blood</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00336">field_type.cpp:336</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a50a270bd1c0284331c75930716ac4b79"><div class="ttname"><a href="field__type_8cpp.html#a50a270bd1c0284331c75930716ac4b79">fd_nuke_gas</a></div><div class="ttdeci">field_type_id fd_nuke_gas</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00349">field_type.cpp:349</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a67f782decc0eca9e8e55696dfa89d13b"><div class="ttname"><a href="field__type_8cpp.html#a67f782decc0eca9e8e55696dfa89d13b">fd_electricity</a></div><div class="ttdeci">field_type_id fd_electricity</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00353">field_type.cpp:353</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_ae1b475e49c929a1dab1575f541a11542"><div class="ttname"><a href="field__type_8cpp.html#ae1b475e49c929a1dab1575f541a11542">fd_fatigue</a></div><div class="ttdeci">field_type_id fd_fatigue</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00354">field_type.cpp:354</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a02a4844a7fb68c13a34dc40b0a9e94d8"><div class="ttname"><a href="iuse_8cpp.html#a02a4844a7fb68c13a34dc40b0a9e94d8">effect_pet</a></div><div class="ttdeci">static const efftype_id effect_pet(&quot;pet&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a04ed540838134ee76f29b9135bd8efb8"><div class="ttname"><a href="iuse_8cpp.html#a04ed540838134ee76f29b9135bd8efb8">mon_shadow</a></div><div class="ttdeci">static const mtype_id mon_shadow(&quot;mon_shadow&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a0c073c8608c88bb092d72f27944a7df1"><div class="ttname"><a href="iuse_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a></div><div class="ttdeci">static const efftype_id effect_teleglow(&quot;teleglow&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a224033af2e0bc90d812b116312d34365"><div class="ttname"><a href="iuse_8cpp.html#a224033af2e0bc90d812b116312d34365">effect_attention</a></div><div class="ttdeci">static const efftype_id effect_attention(&quot;attention&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a3deb155b28ffb371ba49edaa3f13b364"><div class="ttname"><a href="iuse_8cpp.html#a3deb155b28ffb371ba49edaa3f13b364">mon_wasp</a></div><div class="ttdeci">static const mtype_id mon_wasp(&quot;mon_wasp&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a5ef971cfc9772837d78e7506fd85fdc0"><div class="ttname"><a href="iuse_8cpp.html#a5ef971cfc9772837d78e7506fd85fdc0">mon_bee</a></div><div class="ttdeci">static const mtype_id mon_bee(&quot;mon_bee&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a767c37a52b8327ca337bbb36afd4ffa4"><div class="ttname"><a href="iuse_8cpp.html#a767c37a52b8327ca337bbb36afd4ffa4">mon_fly</a></div><div class="ttdeci">static const mtype_id mon_fly(&quot;mon_fly&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ad1df0ca2944a94c3ad796e8baada33ae"><div class="ttname"><a href="iuse_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a></div><div class="ttdeci">static const efftype_id effect_stunned(&quot;stunned&quot;)</div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01030">magic.cpp:1030</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_a8743e2b2dd8b547e4b5934892d96970c"><div class="ttname"><a href="morale__types_8cpp.html#a8743e2b2dd8b547e4b5934892d96970c">MORALE_FEELING_GOOD</a></div><div class="ttdeci">const morale_type MORALE_FEELING_GOOD(&quot;morale_feeling_good&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a91516b205a75df70c98a219c4958e5ee"><div class="ttname"><a href="morale__types_8cpp.html#a91516b205a75df70c98a219c4958e5ee">MORALE_SCREAM</a></div><div class="ttdeci">const morale_type MORALE_SCREAM(&quot;morale_scream&quot;)</div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02player__display_8cpp_03_html_a2f6040cde5f366f2f92e1fd995b289c1a2bb387c51f0ebdab53cc485d53694d37"><div class="ttname"><a href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1a2bb387c51f0ebdab53cc485d53694d37">anonymous_namespace{player_display.cpp}::player_display_tab::effects</a></div><div class="ttdeci">@ effects</div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="anamespaceexplosion__handler_html_a390e9830ff4eb73e44435c02c8039e5f"><div class="ttname"><a href="namespaceexplosion__handler.html#a390e9830ff4eb73e44435c02c8039e5f">explosion_handler::flashbang</a></div><div class="ttdeci">void flashbang(const tripoint &amp;p, bool player_immune, const std::string &amp;exp_name)</div><div class="ttdoc">Triggers a flashbang explosion at p.</div><div class="ttdef"><b>Definition:</b> <a href="explosion_8cpp_source.html#l00792">explosion.cpp:792</a></div></div>
<div class="ttc" id="anamespaceexplosion__handler_html_aedf90c876bd69288b266c6a60dbc91dc"><div class="ttname"><a href="namespaceexplosion__handler.html#aedf90c876bd69288b266c6a60dbc91dc">explosion_handler::explosion</a></div><div class="ttdeci">void explosion(const tripoint &amp;p, float power, float factor, bool fire, int legacy_casing_mass, float)</div><div class="ttdoc">Legacy explosion function.</div><div class="ttdef"><b>Definition:</b> <a href="explosion_8cpp_source.html#l00684">explosion.cpp:684</a></div></div>
<div class="ttc" id="anamespacemattack_html_a07af5ccfe3022a9bb301db9b8bccae57"><div class="ttname"><a href="namespacemattack.html#a07af5ccfe3022a9bb301db9b8bccae57">mattack::growplants</a></div><div class="ttdeci">bool growplants(monster *z)</div><div class="ttdef"><b>Definition:</b> <a href="monattack_8cpp_source.html#l01407">monattack.cpp:1407</a></div></div>
<div class="ttc" id="anamespacemdeath_html_afeb8babb525456ffcced07e937f88d0d"><div class="ttname"><a href="namespacemdeath.html#afeb8babb525456ffcced07e937f88d0d">mdeath::fireball</a></div><div class="ttdeci">void fireball(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00932">mondeath.cpp:932</a></div></div>
<div class="ttc" id="anamespacesounds_html_a6bb79ae1c9c3dcd8c8e0b28c66b0398d"><div class="ttname"><a href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a></div><div class="ttdeci">void sound(const tripoint &amp;p, int vol, sound_t category, const std::string &amp;description, bool ambient=false, const std::string &amp;id=&quot;&quot;, const std::string &amp;variant=&quot;default&quot;)</div><div class="ttdoc">Sound at (p) of intensity (vol)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00177">sounds.cpp:177</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3a7ed21143076d0cca420653d4345baa2f"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a7ed21143076d0cca420653d4345baa2f">sounds::sound_t::alert</a></div><div class="ttdeci">@ alert</div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a></div><div class="ttdeci">@ combat</div></div>
<div class="ttc" id="anamespaceteleport_html_a24cbf298b41e9fc23770c73d32e33a47"><div class="ttname"><a href="namespaceteleport.html#a24cbf298b41e9fc23770c73d32e33a47">teleport::teleport</a></div><div class="ttdeci">bool teleport(Creature &amp;critter, int min_distance=2, int max_distance=12, bool safe=false, bool add_teleglow=true)</div><div class="ttdoc">Teleports a creature to a tile within min_distance and max_distance tiles.</div><div class="ttdef"><b>Definition:</b> <a href="teleport_8cpp_source.html#l00024">teleport.cpp:24</a></div></div>
<div class="ttc" id="aovermapbuffer_8cpp_html_ab3cf8344ec3e473f9ce96a33dc3425af"><div class="ttname"><a href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a></div><div class="ttdeci">overmapbuffer overmap_buffer</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00046">overmapbuffer.cpp:44</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00065">rng.cpp:65</a></div></div>
<div class="ttc" id="arng_8h_html_ac634f688b3c7864ab6992939ac7b0a6e"><div class="ttname"><a href="rng_8h.html#ac634f688b3c7864ab6992939ac7b0a6e">random_entry_removed</a></div><div class="ttdeci">V random_entry_removed(C &amp;container)</div><div class="ttdoc">Returns a random entry in the container and removes it from the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00170">rng.h:170</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
<div class="ttc" id="astructitype_html_ad399e19889a6477a9f3f5a067a92c651"><div class="ttname"><a href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">itype::artifact</a></div><div class="ttdeci">cata::value_ptr&lt; islot_artifact &gt; artifact</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00864">itype.h:864</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00039">point.h:39</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00038">point.h:38</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00151">point.h:151</a></div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a090806619a7785ed4417cc40db713713"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a090806619a7785ed4417cc40db713713">TIMED_EVENT_DIM</a></div><div class="ttdeci">@ TIMED_EVENT_DIM</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00022">timed_event.h:22</a></div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a8fcbba6d885b5b62eaa0b937b1b85ff1"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a8fcbba6d885b5b62eaa0b937b1b85ff1">TIMED_EVENT_ARTIFACT_LIGHT</a></div><div class="ttdeci">@ TIMED_EVENT_ARTIFACT_LIGHT</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00023">timed_event.h:23</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea15d4d969f53e9e04bc75c1a08a88dd6d">activates_artifact</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="character_8cpp_source.html#l09067">Character::add_morale()</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="artifact_8h_source.html#l00025">AEA_ACIDBALL</a>, <a class="el" href="artifact_8h_source.html#l00021">AEA_ADRENALINE</a>, <a class="el" href="artifact_8h_source.html#l00044">AEA_ATTENTION</a>, <a class="el" href="artifact_8h_source.html#l00023">AEA_BLOOD</a>, <a class="el" href="artifact_8h_source.html#l00030">AEA_BUGS</a>, <a class="el" href="artifact_8h_source.html#l00028">AEA_CONFUSED</a>, <a class="el" href="artifact_8h_source.html#l00048">AEA_DIM</a>, <a class="el" href="artifact_8h_source.html#l00029">AEA_ENTRANCE</a>, <a class="el" href="artifact_8h_source.html#l00024">AEA_FATIGUE</a>, <a class="el" href="artifact_8h_source.html#l00020">AEA_FIREBALL</a>, <a class="el" href="artifact_8h_source.html#l00043">AEA_FIRESTORM</a>, <a class="el" href="artifact_8h_source.html#l00049">AEA_FLASH</a>, <a class="el" href="artifact_8h_source.html#l00035">AEA_FUN</a>, <a class="el" href="artifact_8h_source.html#l00033">AEA_GROWTH</a>, <a class="el" href="artifact_8h_source.html#l00027">AEA_HEAL</a>, <a class="el" href="artifact_8h_source.html#l00034">AEA_HURTALL</a>, <a class="el" href="artifact_8h_source.html#l00032">AEA_LIGHT</a>, <a class="el" href="artifact_8h_source.html#l00022">AEA_MAP</a>, <a class="el" href="artifact_8h_source.html#l00041">AEA_MUTATE</a>, <a class="el" href="artifact_8h_source.html#l00046">AEA_NOISE</a>, <a class="el" href="artifact_8h_source.html#l00017">AEA_NULL</a>, <a class="el" href="artifact_8h_source.html#l00040">AEA_PAIN</a>, <a class="el" href="artifact_8h_source.html#l00042">AEA_PARALYZE</a>, <a class="el" href="artifact_8h_source.html#l00026">AEA_PULSE</a>, <a class="el" href="artifact_8h_source.html#l00039">AEA_RADIATION</a>, <a class="el" href="artifact_8h_source.html#l00047">AEA_SCREAM</a>, <a class="el" href="artifact_8h_source.html#l00051">AEA_SHADOWS</a>, <a class="el" href="artifact_8h_source.html#l00037">AEA_SPLIT</a>, <a class="el" href="artifact_8h_source.html#l00052">AEA_STAMINA_EMPTY</a>, <a class="el" href="artifact_8h_source.html#l00019">AEA_STORM</a>, <a class="el" href="artifact_8h_source.html#l00045">AEA_TELEGLOW</a>, <a class="el" href="artifact_8h_source.html#l00031">AEA_TELEPORT</a>, <a class="el" href="artifact_8h_source.html#l00050">AEA_VOMIT</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a7ed21143076d0cca420653d4345baa2f">sounds::alert</a>, <a class="el" href="itype_8h_source.html#l00864">itype::artifact</a>, <a class="el" href="magic_8cpp_source.html#l01030">b</a>, <a class="el" href="enums_8h_source.html#l00316">center</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="coordinates_8h_source.html#l00596">closest_points_first()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::combat</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="character_8cpp_source.html#l00539">Character::disp_name()</a>, <a class="el" href="iuse_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a>, <a class="el" href="iuse_8cpp.html#a224033af2e0bc90d812b116312d34365">effect_attention</a>, <a class="el" href="iuse_8cpp.html#a02a4844a7fb68c13a34dc40b0a9e94d8">effect_pet</a>, <a class="el" href="iuse_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="iuse_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a>, <a class="el" href="explosion_8cpp_source.html#l00684">explosion_handler::explosion()</a>, <a class="el" href="field__type_8cpp_source.html#l00342">fd_acid</a>, <a class="el" href="field__type_8cpp_source.html#l00336">fd_blood</a>, <a class="el" href="field__type_8cpp_source.html#l00353">fd_electricity</a>, <a class="el" href="field__type_8cpp_source.html#l00354">fd_fatigue</a>, <a class="el" href="field__type_8cpp_source.html#l00345">fd_fire</a>, <a class="el" href="field__type_8cpp_source.html#l00349">fd_nuke_gas</a>, <a class="el" href="mondeath_8cpp_source.html#l00932">mdeath::fireball()</a>, <a class="el" href="explosion_8cpp_source.html#l00792">explosion_handler::flashbang()</a>, <a class="el" href="monster_8h_source.html#l00471">monster::friendly</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="monster_8cpp_source.html#l02894">monster::get_hp()</a>, <a class="el" href="character_8cpp_source.html#l07175">Character::get_stamina()</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="character_8cpp_source.html#l06318">Character::global_omt_location()</a>, <a class="el" href="monattack_8cpp_source.html#l01407">mattack::growplants()</a>, <a class="el" href="character_8cpp_source.html#l08627">Character::healall()</a>, <a class="el" href="item_8cpp_source.html#l06813">item::is_artifact()</a>, <a class="el" href="character_8cpp_source.html#l04470">Character::is_deaf()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="item_8cpp_source.html#l06803">item::is_tool()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="monster_8cpp_source.html#l02631">monster::make_friendly()</a>, <a class="el" href="creature_8cpp_source.html#l01346">Creature::mod_pain_noresist()</a>, <a class="el" href="iuse_8cpp.html#a5ef971cfc9772837d78e7506fd85fdc0">mon_bee</a>, <a class="el" href="iuse_8cpp.html#a767c37a52b8327ca337bbb36afd4ffa4">mon_fly</a>, <a class="el" href="iuse_8cpp.html#a04ed540838134ee76f29b9135bd8efb8">mon_shadow</a>, <a class="el" href="iuse_8cpp.html#a3deb155b28ffb371ba49edaa3f13b364">mon_wasp</a>, <a class="el" href="morale__types_8cpp.html#a8743e2b2dd8b547e4b5934892d96970c">MORALE_FEELING_GOOD</a>, <a class="el" href="morale__types_8cpp.html#a91516b205a75df70c98a219c4958e5ee">MORALE_SCREAM</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="mutation_8cpp_source.html#l00845">Character::mutate()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; mtype &gt;::NULL_ID()</a>, <a class="el" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a>, <a class="el" href="artifact_8h_source.html#l00054">NUM_AEAS</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00044">overmap_buffer</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="character_8h_source.html#l00844">Character::posz()</a>, <a class="el" href="rng_8h_source.html#l00170">random_entry_removed()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00671">overmapbuffer::reveal()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="character_8cpp_source.html#l07189">Character::set_stamina()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="teleport_8cpp_source.html#l00024">teleport::teleport()</a>, <a class="el" href="timed__event_8h_source.html#l00023">TIMED_EVENT_ARTIFACT_LIGHT</a>, <a class="el" href="timed__event_8h_source.html#l00022">TIMED_EVENT_DIM</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="character_8cpp_source.html#l07775">Character::vomit()</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00039">point::y</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="artifact_8cpp_source.html#l00621">it_artifact_tool::it_artifact_tool()</a>.</p>

</div>
</div>
<a id="ae706eba79724ccf3b4bc1cb14572df7d" name="ae706eba79724ccf3b4bc1cb14572df7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae706eba79724ccf3b4bc1cb14572df7d">&#9670;&nbsp;</a></span>autoclave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::autoclave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l08388">8388</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08389" name="l08389"></a><span class="lineno"> 8389</span>{</div>
<div class="line"><a id="l08390" name="l08390"></a><span class="lineno"> 8390</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l08391" name="l08391"></a><span class="lineno"> 8391</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l08392" name="l08392"></a><span class="lineno"> 8392</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The autoclave ran out of battery and stopped before completing its cycle.&quot;</span> ) );</div>
<div class="line"><a id="l08393" name="l08393"></a><span class="lineno"> 8393</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08394" name="l08394"></a><span class="lineno"> 8394</span>            it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;CYCLETIME&quot;</span> );</div>
<div class="line"><a id="l08395" name="l08395"></a><span class="lineno"> 8395</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08396" name="l08396"></a><span class="lineno"> 8396</span>        }</div>
<div class="line"><a id="l08397" name="l08397"></a><span class="lineno"> 8397</span> </div>
<div class="line"><a id="l08398" name="l08398"></a><span class="lineno"> 8398</span>        <span class="keywordtype">int</span> Cycle_time = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;CYCLETIME&quot;</span>, 0 );</div>
<div class="line"><a id="l08399" name="l08399"></a><span class="lineno"> 8399</span>        Cycle_time -= 1;</div>
<div class="line"><a id="l08400" name="l08400"></a><span class="lineno"> 8400</span>        <span class="keywordflow">if</span>( Cycle_time &lt;= 0 ) {</div>
<div class="line"><a id="l08401" name="l08401"></a><span class="lineno"> 8401</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08402" name="l08402"></a><span class="lineno"> 8402</span>            it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;CYCLETIME&quot;</span> );</div>
<div class="line"><a id="l08403" name="l08403"></a><span class="lineno"> 8403</span>            it-&gt;<a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>( []( <a class="code hl_class" href="classitem.html">item</a> * bio ) {</div>
<div class="line"><a id="l08404" name="l08404"></a><span class="lineno"> 8404</span>                <span class="keywordflow">if</span>( bio-&gt;<a class="code hl_function" href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">is_bionic</a>() &amp;&amp; !bio-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_PACKED&quot;</span> ) ) {</div>
<div class="line"><a id="l08405" name="l08405"></a><span class="lineno"> 8405</span>                    bio-&gt;unset_flag( <span class="stringliteral">&quot;NO_STERILE&quot;</span> );</div>
<div class="line"><a id="l08406" name="l08406"></a><span class="lineno"> 8406</span>                }</div>
<div class="line"><a id="l08407" name="l08407"></a><span class="lineno"> 8407</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l08408" name="l08408"></a><span class="lineno"> 8408</span>            } );</div>
<div class="line"><a id="l08409" name="l08409"></a><span class="lineno"> 8409</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08410" name="l08410"></a><span class="lineno"> 8410</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;CYCLETIME&quot;</span>, Cycle_time );</div>
<div class="line"><a id="l08411" name="l08411"></a><span class="lineno"> 8411</span>        }</div>
<div class="line"><a id="l08412" name="l08412"></a><span class="lineno"> 8412</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l08413" name="l08413"></a><span class="lineno"> 8413</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l08414" name="l08414"></a><span class="lineno"> 8414</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l08415" name="l08415"></a><span class="lineno"> 8415</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08416" name="l08416"></a><span class="lineno"> 8416</span>        }</div>
<div class="line"><a id="l08417" name="l08417"></a><span class="lineno"> 8417</span> </div>
<div class="line"><a id="l08418" name="l08418"></a><span class="lineno"> 8418</span>        <span class="keywordtype">bool</span> empty = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08419" name="l08419"></a><span class="lineno"> 8419</span>        <a class="code hl_class" href="classitem.html">item</a> *clean_cbm = it-&gt;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ae91f4f5f0077f34e51f8acc525fd4798">get_item_with</a>(</div>
<div class="line"><a id="l08420" name="l08420"></a><span class="lineno"> 8420</span>        []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l08421" name="l08421"></a><span class="lineno"> 8421</span>            <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">is_bionic</a>();</div>
<div class="line"><a id="l08422" name="l08422"></a><span class="lineno"> 8422</span>        } );</div>
<div class="line"><a id="l08423" name="l08423"></a><span class="lineno"> 8423</span> </div>
<div class="line"><a id="l08424" name="l08424"></a><span class="lineno"> 8424</span>        <span class="keywordflow">if</span>( clean_cbm ) {</div>
<div class="line"><a id="l08425" name="l08425"></a><span class="lineno"> 8425</span>            empty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08426" name="l08426"></a><span class="lineno"> 8426</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Autoclave already contains a CBM.  Do you want to remove it?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l08427" name="l08427"></a><span class="lineno"> 8427</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item( pos, *clean_cbm );</div>
<div class="line"><a id="l08428" name="l08428"></a><span class="lineno"> 8428</span>                it-&gt;<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *clean_cbm );</div>
<div class="line"><a id="l08429" name="l08429"></a><span class="lineno"> 8429</span>                <span class="keywordflow">if</span>( !<a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Do you want to use the autoclave?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l08430" name="l08430"></a><span class="lineno"> 8430</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08431" name="l08431"></a><span class="lineno"> 8431</span>                }</div>
<div class="line"><a id="l08432" name="l08432"></a><span class="lineno"> 8432</span>                empty = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08433" name="l08433"></a><span class="lineno"> 8433</span>            }</div>
<div class="line"><a id="l08434" name="l08434"></a><span class="lineno"> 8434</span>        }</div>
<div class="line"><a id="l08435" name="l08435"></a><span class="lineno"> 8435</span> </div>
<div class="line"><a id="l08436" name="l08436"></a><span class="lineno"> 8436</span>        <span class="comment">//Using power_draw seem to consume random amount of battery so +100 to be safe</span></div>
<div class="line"><a id="l08437" name="l08437"></a><span class="lineno"> 8437</span>        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> power_need = ( ( it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;power_draw / 1000 ) * to_seconds&lt;int&gt;</div>
<div class="line"><a id="l08438" name="l08438"></a><span class="lineno"> 8438</span>                                        ( 90_minutes ) ) / 1000 + 100;</div>
<div class="line"><a id="l08439" name="l08439"></a><span class="lineno"> 8439</span>        <span class="keywordflow">if</span>( power_need &gt; it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() ) {</div>
<div class="line"><a id="l08440" name="l08440"></a><span class="lineno"> 8440</span>            <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The autoclave doesn&#39;t have enough battery for one cycle.  You need at least %s charges.&quot;</span> ),</div>
<div class="line"><a id="l08441" name="l08441"></a><span class="lineno"> 8441</span>                   power_need );</div>
<div class="line"><a id="l08442" name="l08442"></a><span class="lineno"> 8442</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08443" name="l08443"></a><span class="lineno"> 8443</span>        }</div>
<div class="line"><a id="l08444" name="l08444"></a><span class="lineno"> 8444</span> </div>
<div class="line"><a id="l08445" name="l08445"></a><span class="lineno"> 8445</span>        <a class="code hl_class" href="classitem__location.html">item_location</a> to_sterile;</div>
<div class="line"><a id="l08446" name="l08446"></a><span class="lineno"> 8446</span>        <span class="keywordflow">if</span>( empty ) {</div>
<div class="line"><a id="l08447" name="l08447"></a><span class="lineno"> 8447</span>            to_sterile = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a6dabf421ed20a9ded65c0e3b7e9088b4">game_menus::inv::sterilize_cbm</a>( *p );</div>
<div class="line"><a id="l08448" name="l08448"></a><span class="lineno"> 8448</span>            <span class="keywordflow">if</span>( !to_sterile ) {</div>
<div class="line"><a id="l08449" name="l08449"></a><span class="lineno"> 8449</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08450" name="l08450"></a><span class="lineno"> 8450</span>            }</div>
<div class="line"><a id="l08451" name="l08451"></a><span class="lineno"> 8451</span>        }</div>
<div class="line"><a id="l08452" name="l08452"></a><span class="lineno"> 8452</span> </div>
<div class="line"><a id="l08453" name="l08453"></a><span class="lineno"> 8453</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Start the autoclave?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l08454" name="l08454"></a><span class="lineno"> 8454</span>            <span class="keyword">auto</span> reqs = *<a class="code hl_typedef" href="type__id_8h.html#afb36dc6d5925e5112e70d60a171ebeb1">requirement_id</a>( <span class="stringliteral">&quot;autoclave_item&quot;</span> );</div>
<div class="line"><a id="l08455" name="l08455"></a><span class="lineno"> 8455</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : reqs.get_components() ) {</div>
<div class="line"><a id="l08456" name="l08456"></a><span class="lineno"> 8456</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">consume_items</a>( e, 1, <a class="code hl_function" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> );</div>
<div class="line"><a id="l08457" name="l08457"></a><span class="lineno"> 8457</span>            }</div>
<div class="line"><a id="l08458" name="l08458"></a><span class="lineno"> 8458</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : reqs.get_tools() ) {</div>
<div class="line"><a id="l08459" name="l08459"></a><span class="lineno"> 8459</span>                p-&gt;<a class="code hl_function" href="classplayer.html#aafa6cc2db2568af687ab21f09f8e4c2e">consume_tools</a>( e );</div>
<div class="line"><a id="l08460" name="l08460"></a><span class="lineno"> 8460</span>            }</div>
<div class="line"><a id="l08461" name="l08461"></a><span class="lineno"> 8461</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#afe4c095c2e6510f07f351d7e091f5787">invalidate_crafting_inventory</a>();</div>
<div class="line"><a id="l08462" name="l08462"></a><span class="lineno"> 8462</span> </div>
<div class="line"><a id="l08463" name="l08463"></a><span class="lineno"> 8463</span>            <span class="keywordflow">if</span>( empty ) {</div>
<div class="line"><a id="l08464" name="l08464"></a><span class="lineno"> 8464</span>                <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *cbm = to_sterile.<a class="code hl_function" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>();</div>
<div class="line"><a id="l08465" name="l08465"></a><span class="lineno"> 8465</span>                it-&gt;<a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( *cbm );</div>
<div class="line"><a id="l08466" name="l08466"></a><span class="lineno"> 8466</span>                to_sterile.<a class="code hl_function" href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">remove_item</a>();</div>
<div class="line"><a id="l08467" name="l08467"></a><span class="lineno"> 8467</span>            }</div>
<div class="line"><a id="l08468" name="l08468"></a><span class="lineno"> 8468</span> </div>
<div class="line"><a id="l08469" name="l08469"></a><span class="lineno"> 8469</span>            it-&gt;<a class="code hl_function" href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">activate</a>();</div>
<div class="line"><a id="l08470" name="l08470"></a><span class="lineno"> 8470</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;CYCLETIME&quot;</span>, to_seconds&lt;int&gt;( 90_minutes ) ); <span class="comment">// one cycle</span></div>
<div class="line"><a id="l08471" name="l08471"></a><span class="lineno"> 8471</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l08472" name="l08472"></a><span class="lineno"> 8472</span>        }</div>
<div class="line"><a id="l08473" name="l08473"></a><span class="lineno"> 8473</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08474" name="l08474"></a><span class="lineno"> 8474</span>        <span class="keywordtype">int</span> Cycle_time = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;CYCLETIME&quot;</span>, 0 );</div>
<div class="line"><a id="l08475" name="l08475"></a><span class="lineno"> 8475</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The cycle will be completed in %s.&quot;</span> ),</div>
<div class="line"><a id="l08476" name="l08476"></a><span class="lineno"> 8476</span>                 <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a>( <a class="code hl_function" href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a>( Cycle_time ) ) );</div>
<div class="line"><a id="l08477" name="l08477"></a><span class="lineno"> 8477</span>    }</div>
<div class="line"><a id="l08478" name="l08478"></a><span class="lineno"> 8478</span> </div>
<div class="line"><a id="l08479" name="l08479"></a><span class="lineno"> 8479</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08480" name="l08480"></a><span class="lineno"> 8480</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_aeb989652ea2bf7fd03b07a74fd30bd7a"><div class="ttname"><a href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00327">calendar.cpp:327</a></div></div>
<div class="ttc" id="aclassCharacter_html_afe4c095c2e6510f07f351d7e091f5787"><div class="ttname"><a href="classCharacter.html#afe4c095c2e6510f07f351d7e091f5787">Character::invalidate_crafting_inventory</a></div><div class="ttdeci">void invalidate_crafting_inventory()</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00587">crafting.cpp:587</a></div></div>
<div class="ttc" id="aclassitem__contents_html_ae91f4f5f0077f34e51f8acc525fd4798"><div class="ttname"><a href="classitem__contents.html#ae91f4f5f0077f34e51f8acc525fd4798">item_contents::get_item_with</a></div><div class="ttdeci">item * get_item_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter)</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00118">item_contents.cpp:118</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00022">item_location.h:23</a></div></div>
<div class="ttc" id="aclassitem__location_html_a350bb267073f30205f780b394324a32c"><div class="ttname"><a href="classitem__location.html#a350bb267073f30205f780b394324a32c">item_location::get_item</a></div><div class="ttdeci">item * get_item()</div><div class="ttdoc">Gets the selected item or nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00768">item_location.cpp:768</a></div></div>
<div class="ttc" id="aclassitem__location_html_a41e90133672d99aa1cecde670e37c23c"><div class="ttname"><a href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">item_location::remove_item</a></div><div class="ttdeci">void remove_item()</div><div class="ttdoc">Removes the selected item from the game.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00758">item_location.cpp:758</a></div></div>
<div class="ttc" id="aclassitem_html_a0b12108a604ac9d940716bb8f1368cf5"><div class="ttname"><a href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">item::get_var</a></div><div class="ttdeci">double get_var(const std::string &amp;name, double default_value) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01022">item.cpp:1022</a></div></div>
<div class="ttc" id="aclassitem_html_a26c025fd4909bd31c8e91ed87905507b"><div class="ttname"><a href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">item::ammo_remaining</a></div><div class="ttdeci">int ammo_remaining() const</div><div class="ttdoc">Quantity of ammunition currently loaded in tool, gun or auxiliary gunmod.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07226">item.cpp:7226</a></div></div>
<div class="ttc" id="aclassitem_html_a2993eb10a5ae589e6bb1be0a74cb65c1"><div class="ttname"><a href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">item::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02233">item.h:2233</a></div></div>
<div class="ttc" id="aclassitem_html_a3841e9e250af73e45b14d5bb3cc7a043"><div class="ttname"><a href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">item::put_in</a></div><div class="ttdeci">void put_in(const item &amp;payload)</div><div class="ttdoc">Puts the given item into this one, no checks are performed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00987">item.cpp:987</a></div></div>
<div class="ttc" id="aclassitem_html_a4938361b8fe897c4e85d66020ef91aff"><div class="ttname"><a href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">item::set_var</a></div><div class="ttdeci">void set_var(const std::string &amp;name, int value)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00992">item.cpp:992</a></div></div>
<div class="ttc" id="aclassitem_html_a4afe851abb42cbff0857065860f96e0e"><div class="ttname"><a href="classitem.html#a4afe851abb42cbff0857065860f96e0e">item::contents</a></div><div class="ttdeci">item_contents contents</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02157">item.h:2157</a></div></div>
<div class="ttc" id="aclassitem_html_a634d3c1aa2ea065c17af5cabb51b318e"><div class="ttname"><a href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">item::units_sufficient</a></div><div class="ttdeci">bool units_sufficient(const Character &amp;ch, int qty=-1) const</div><div class="ttdoc">Check if item has sufficient units (ammo or charges) remaining.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07853">item.cpp:7853</a></div></div>
<div class="ttc" id="aclassitem_html_a699d0314aa1c5ee9903cf3cf862ee8cf"><div class="ttname"><a href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">item::is_bionic</a></div><div class="ttdeci">bool is_bionic() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06402">item.cpp:6402</a></div></div>
<div class="ttc" id="aclassitem_html_a7f1ae4e309841707eea0852dd4cd95a3"><div class="ttname"><a href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">item::activate</a></div><div class="ttdeci">item &amp; activate()</div><div class="ttdoc">Filter converting instance to active state.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00554">item.cpp:554</a></div></div>
<div class="ttc" id="aclassitem_html_aa24fc115fb6cd1124efec30970cfcd9b"><div class="ttname"><a href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">item::erase_var</a></div><div class="ttdeci">void erase_var(const std::string &amp;name)</div><div class="ttdoc">Erase the value of the given variable.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01072">item.cpp:1072</a></div></div>
<div class="ttc" id="aclassitem_html_aaa5aeb6f838927babb10ede535cf2a73"><div class="ttname"><a href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">item::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05192">item.cpp:5192</a></div></div>
<div class="ttc" id="aclassplayer_html_aafa6cc2db2568af687ab21f09f8e4c2e"><div class="ttname"><a href="classplayer.html#aafa6cc2db2568af687ab21f09f8e4c2e">player::consume_tools</a></div><div class="ttdeci">void consume_tools(const comp_selection&lt; tool_comp &gt; &amp;tool, int batch)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01819">crafting.cpp:1819</a></div></div>
<div class="ttc" id="aclassplayer_html_ad1f5e6d21b83313ab148302140083b99"><div class="ttname"><a href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">player::consume_items</a></div><div class="ttdeci">std::list&lt; item &gt; consume_items(const comp_selection&lt; item_comp &gt; &amp;is, int batch, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01487">crafting.cpp:1487</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a24e810d76ce97cfab15fbe68a32a00ca"><div class="ttname"><a href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a></div><div class="ttdeci">static constexpr time_duration from_seconds(const T t)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00208">calendar.h:208</a></div></div>
<div class="ttc" id="aclassvisitable_html_a0a76a71d6a905414cc81236e86a7e649"><div class="ttname"><a href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visitable::visit_items</a></div><div class="ttdeci">VisitResponse visit_items(const std::function&lt; VisitResponse(item *, item *)&gt; &amp;func)</div><div class="ttdoc">Traverses this object and any child items contained using a visitor pattern.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00423">visitable.cpp:423</a></div></div>
<div class="ttc" id="aclassvisitable_html_adeb03e3af46e1b106a5f88f112add296"><div class="ttname"><a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">visitable::remove_item</a></div><div class="ttdeci">item remove_item(item &amp;it)</div><div class="ttdoc">Removes and returns the item which must be contained by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00564">visitable.cpp:564</a></div></div>
<div class="ttc" id="aitem_8h_html_a64c6001518eb0b959300f427a0086eb0"><div class="ttname"><a href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a></div><div class="ttdeci">bool is_crafting_component(const item &amp;component)</div><div class="ttdoc">Default filter for crafting component searches.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02275">item.h:2275</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_a6dabf421ed20a9ded65c0e3b7e9088b4"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#a6dabf421ed20a9ded65c0e3b7e9088b4">game_menus::inv::sterilize_cbm</a></div><div class="ttdeci">item_location sterilize_cbm(player &amp;p)</div><div class="ttdoc">Autoclave sterilize menu.</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l02128">game_inventory.cpp:2128</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e645471d321d71b235fb285da5c08ff"><div class="ttname"><a href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div><div class="ttdeci">int popup(const std::string &amp;text, PopupFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00764">output.cpp:764</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00698">output.cpp:698</a></div></div>
<div class="ttc" id="astructitype_html_a62a6e70840cb0e484f8d61e273f440f4"><div class="ttname"><a href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">itype::tool</a></div><div class="ttdeci">cata::value_ptr&lt; islot_tool &gt; tool</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00847">itype.h:847</a></div></div>
<div class="ttc" id="atype__id_8h_html_afb36dc6d5925e5112e70d60a171ebeb1"><div class="ttname"><a href="type__id_8h.html#afb36dc6d5925e5112e70d60a171ebeb1">requirement_id</a></div><div class="ttdeci">string_id&lt; requirement_data &gt; requirement_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00120">type_id.h:120</a></div></div>
<div class="ttc" id="avisitable_8h_html_aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6"><div class="ttname"><a href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a></div><div class="ttdeci">@ NEXT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l00554">item::activate()</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="crafting_8cpp_source.html#l01487">player::consume_items()</a>, <a class="el" href="crafting_8cpp_source.html#l01819">player::consume_tools()</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="item_8cpp_source.html#l01072">item::erase_var()</a>, <a class="el" href="calendar_8h_source.html#l00208">time_duration::from_seconds()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item__location_8cpp_source.html#l00768">item_location::get_item()</a>, <a class="el" href="item__contents_8cpp_source.html#l00118">item_contents::get_item_with()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="crafting_8cpp_source.html#l00587">Character::invalidate_crafting_inventory()</a>, <a class="el" href="item_8cpp_source.html#l06402">item::is_bionic()</a>, <a class="el" href="item_8h_source.html#l02275">is_crafting_component()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, <a class="el" href="item_8cpp_source.html#l00987">item::put_in()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="item__location_8cpp_source.html#l00758">item_location::remove_item()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; T &gt;::remove_item()</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02128">game_menus::inv::sterilize_cbm()</a>, <a class="el" href="calendar_8cpp_source.html#l00327">to_string()</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>, and <a class="el" href="visitable_8cpp_source.html#l00423">visitable&lt; T &gt;::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a103a17ef4f7cf59720b027142cccbe27" name="a103a17ef4f7cf59720b027142cccbe27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a103a17ef4f7cf59720b027142cccbe27">&#9670;&nbsp;</a></span>bell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::bell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05982">5982</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05983" name="l05983"></a><span class="lineno"> 5983</span>{</div>
<div class="line"><a id="l05984" name="l05984"></a><span class="lineno"> 5984</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a063489e6fa1f84ae993db988b9045b5f">itype_cow_bell</a> ) {</div>
<div class="line"><a id="l05985" name="l05985"></a><span class="lineno"> 5985</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 12, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a18d6769919266cd0bd6cd78aa405d5d0">sounds::sound_t::music</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Clank!  Clank!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;misc&quot;</span>,</div>
<div class="line"><a id="l05986" name="l05986"></a><span class="lineno"> 5986</span>                       <span class="stringliteral">&quot;cow_bell&quot;</span> );</div>
<div class="line"><a id="l05987" name="l05987"></a><span class="lineno"> 5987</span>        <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">is_deaf</a>() ) {</div>
<div class="line"><a id="l05988" name="l05988"></a><span class="lineno"> 5988</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> cow_factor = 1 + ( p-&gt;<a class="code hl_variable" href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">mutation_category_level</a>.find( <span class="stringliteral">&quot;CATTLE&quot;</span> ) ==</div>
<div class="line"><a id="l05989" name="l05989"></a><span class="lineno"> 5989</span>                                         p-&gt;<a class="code hl_variable" href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">mutation_category_level</a>.end() ?</div>
<div class="line"><a id="l05990" name="l05990"></a><span class="lineno"> 5990</span>                                         0 :</div>
<div class="line"><a id="l05991" name="l05991"></a><span class="lineno"> 5991</span>                                         ( p-&gt;<a class="code hl_variable" href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">mutation_category_level</a>.find( <span class="stringliteral">&quot;CATTLE&quot;</span> )-&gt;second ) / 8</div>
<div class="line"><a id="l05992" name="l05992"></a><span class="lineno"> 5992</span>                                       );</div>
<div class="line"><a id="l05993" name="l05993"></a><span class="lineno"> 5993</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( cow_factor, 1 + cow_factor ) ) {</div>
<div class="line"><a id="l05994" name="l05994"></a><span class="lineno"> 5994</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a8e336d6b24cd55f48ba13b9a62519ffb">MORALE_MUSIC</a>, 1, 15 * ( cow_factor &gt; 10 ? 10 : cow_factor ) );</div>
<div class="line"><a id="l05995" name="l05995"></a><span class="lineno"> 5995</span>            }</div>
<div class="line"><a id="l05996" name="l05996"></a><span class="lineno"> 5996</span>        }</div>
<div class="line"><a id="l05997" name="l05997"></a><span class="lineno"> 5997</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05998" name="l05998"></a><span class="lineno"> 5998</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 4, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a18d6769919266cd0bd6cd78aa405d5d0">sounds::sound_t::music</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ring!  Ring!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;misc&quot;</span>, <span class="stringliteral">&quot;bell&quot;</span> );</div>
<div class="line"><a id="l05999" name="l05999"></a><span class="lineno"> 5999</span>    }</div>
<div class="line"><a id="l06000" name="l06000"></a><span class="lineno"> 6000</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06001" name="l06001"></a><span class="lineno"> 6001</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_a359120c15f92d54a49fec9de7bcb571f"><div class="ttname"><a href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a></div><div class="ttdeci">bool x_in_y(const time_duration &amp;a, const time_duration &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00521">calendar.cpp:521</a></div></div>
<div class="ttc" id="aclassCharacter_html_af1a5539eaced527b8c2b1dc36527dbec"><div class="ttname"><a href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">Character::mutation_category_level</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; mutation_category_level</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01785">character.h:1785</a></div></div>
<div class="ttc" id="aclassitem_html_aa79dad64e1ef6347219be2f8666e2752"><div class="ttname"><a href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">item::typeId</a></div><div class="ttdeci">const itype_id &amp; typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08196">item.cpp:8196</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a063489e6fa1f84ae993db988b9045b5f"><div class="ttname"><a href="iuse_8cpp.html#a063489e6fa1f84ae993db988b9045b5f">itype_cow_bell</a></div><div class="ttdeci">static const itype_id itype_cow_bell(&quot;cow_bell&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a8e336d6b24cd55f48ba13b9a62519ffb"><div class="ttname"><a href="morale__types_8cpp.html#a8e336d6b24cd55f48ba13b9a62519ffb">MORALE_MUSIC</a></div><div class="ttdeci">const morale_type MORALE_MUSIC(&quot;morale_music&quot;)</div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3a18d6769919266cd0bd6cd78aa405d5d0"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a18d6769919266cd0bd6cd78aa405d5d0">sounds::sound_t::music</a></div><div class="ttdeci">@ music</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8cpp_source.html#l09067">Character::add_morale()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="character_8cpp_source.html#l04470">Character::is_deaf()</a>, <a class="el" href="iuse_8cpp.html#a063489e6fa1f84ae993db988b9045b5f">itype_cow_bell</a>, <a class="el" href="morale__types_8cpp.html#a8e336d6b24cd55f48ba13b9a62519ffb">MORALE_MUSIC</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a18d6769919266cd0bd6cd78aa405d5d0">sounds::music</a>, <a class="el" href="character_8h_source.html#l01785">Character::mutation_category_level</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, and <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a8d960e9090fe32957817e911bf30e3d1" name="a8d960e9090fe32957817e911bf30e3d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d960e9090fe32957817e911bf30e3d1">&#9670;&nbsp;</a></span>blech()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::blech </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01026">1026</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>{</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>    <span class="comment">// TODO: Add more effects?</span></div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>        <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This looks unhealthy, sure you want to drink it?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>        }</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>    } <span class="keywordflow">else</span> { <span class="comment">//Assume that if a blech consumable isn&#39;t a drink, it will be eaten.</span></div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>        <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This looks unhealthy, sure you want to eat it?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>        }</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>    }</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span> </div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="iuse_8cpp.html#a991246043b4742d0c84a8db98ef2f424">flag_ACID</a> ) &amp;&amp; ( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a5fccb1c22e58777ef464ef0cbb372541">trait_ACIDPROOF</a> ) ||</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>                                       p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a> ) ) ) {</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Blech, that tastes gross!&quot;</span> ) );</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>        <span class="comment">//reverse the harmful values of drinking this acid.</span></div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>        <span class="keywordtype">double</span> multiplier = -1;</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( 10 * p-&gt;<a class="code hl_function" href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">nutrition_for</a>( *it ) * multiplier );</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( -it-&gt;<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;quench * multiplier + 20 );</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">mod_healthy_mod</a>( it-&gt;<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;healthy * multiplier,</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>                            it-&gt;<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;healthy * multiplier );</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#ae5bf12aa6533cebf50765069d6d78eb0">MORALE_FOOD_BAD</a>, it-&gt;<a class="code hl_function" href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">get_comestible_fun</a>() * multiplier, 60, 1_hours, 30_minutes,</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>                       <span class="keyword">false</span>, it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Blech, that burns your throat!&quot;</span> ) );</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>        p-&gt;<a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 32, 64 ) );</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>, 1_hours );</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 4, 12 ) );</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>    }</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>}</div>
<div class="ttc" id="aclassCharacter_html_a431180ff2af878a9956bf474783017c0"><div class="ttname"><a href="classCharacter.html#a431180ff2af878a9956bf474783017c0">Character::mod_stored_kcal</a></div><div class="ttdeci">virtual void mod_stored_kcal(int nkcal)</div><div class="ttdoc">Modifiers for need values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04283">character.cpp:4283</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7c11a4f12bee9f80279bff21faa54153"><div class="ttname"><a href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">Character::apply_damage</a></div><div class="ttdeci">void apply_damage(Creature *source, bodypart_id hurt, int dam, bool bypass_med=false) override</div><div class="ttdoc">Actually hurt the player, hurts a body_part directly, no armor reduction.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08385">character.cpp:8385</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8c4e364e25b0ea4d5a27c3120a9f973f"><div class="ttname"><a href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">Character::mod_healthy_mod</a></div><div class="ttdeci">virtual void mod_healthy_mod(int nhealthy_mod, int cap)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04242">character.cpp:4242</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9ce2644a98b526b5e453b043f5fa49bc"><div class="ttname"><a href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">Character::mod_thirst</a></div><div class="ttdeci">virtual void mod_thirst(int nthirst)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04398">character.cpp:4398</a></div></div>
<div class="ttc" id="aclassCharacter_html_adfe305dc4dab1ce52dc6b46c73f4883f"><div class="ttname"><a href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">Character::nutrition_for</a></div><div class="ttdeci">int nutrition_for(const item &amp;comest) const</div><div class="ttdoc">Handles the nutrition value for a comestible.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00459">consumption.cpp:459</a></div></div>
<div class="ttc" id="aclassitem_html_a411163e892e27c57b802d0d015c05162"><div class="ttname"><a href="classitem.html#a411163e892e27c57b802d0d015c05162">item::get_comestible</a></div><div class="ttdeci">const cata::value_ptr&lt; islot_comestible &gt; &amp; get_comestible() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09951">item.cpp:9951</a></div></div>
<div class="ttc" id="aclassitem_html_a4326944ae95f4d265c8ca1c76ed89a03"><div class="ttname"><a href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">item::made_of</a></div><div class="ttdeci">const std::vector&lt; material_id &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06263">item.cpp:6263</a></div></div>
<div class="ttc" id="aclassitem_html_a66b0bbc211f6fb668781640c971d3acc"><div class="ttname"><a href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">item::get_comestible_fun</a></div><div class="ttdeci">int get_comestible_fun() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05371">item.cpp:5371</a></div></div>
<div class="ttc" id="aclassplayer_html_a341f7f0dc2d439c0aa12e55fb29d87a6"><div class="ttname"><a href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">player::query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;mes) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04405">player.cpp:4405</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a></div><div class="ttdeci">@ LIQUID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a5fccb1c22e58777ef464ef0cbb372541"><div class="ttname"><a href="iuse_8cpp.html#a5fccb1c22e58777ef464ef0cbb372541">trait_ACIDPROOF</a></div><div class="ttdeci">static const trait_id trait_ACIDPROOF(&quot;ACIDPROOF&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a991246043b4742d0c84a8db98ef2f424"><div class="ttname"><a href="iuse_8cpp.html#a991246043b4742d0c84a8db98ef2f424">flag_ACID</a></div><div class="ttdeci">static const std::string flag_ACID(&quot;ACID&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ace42425e1e703ebbe953ade0f6110b7c"><div class="ttname"><a href="iuse_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a></div><div class="ttdeci">static const efftype_id effect_poison(&quot;poison&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_af18c51d2a8f81b4d06912d40760e9691"><div class="ttname"><a href="iuse_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a></div><div class="ttdeci">static const trait_id trait_ACIDBLOOD(&quot;ACIDBLOOD&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ae5bf12aa6533cebf50765069d6d78eb0"><div class="ttname"><a href="morale__types_8cpp.html#ae5bf12aa6533cebf50765069d6d78eb0">MORALE_FOOD_BAD</a></div><div class="ttdeci">const morale_type MORALE_FOOD_BAD(&quot;morale_food_bad&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="character_8cpp_source.html#l09067">Character::add_morale()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l08385">Character::apply_damage()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>, <a class="el" href="iuse_8cpp.html#a991246043b4742d0c84a8db98ef2f424">flag_ACID()</a>, <a class="el" href="item_8cpp_source.html#l09951">item::get_comestible()</a>, <a class="el" href="item_8cpp_source.html#l05371">item::get_comestible_fun()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="item_8cpp_source.html#l06263">item::made_of()</a>, <a class="el" href="character_8cpp_source.html#l04242">Character::mod_healthy_mod()</a>, <a class="el" href="player_8cpp_source.html#l01092">player::mod_pain()</a>, <a class="el" href="character_8cpp_source.html#l04283">Character::mod_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, <a class="el" href="morale__types_8cpp.html#ae5bf12aa6533cebf50765069d6d78eb0">MORALE_FOOD_BAD</a>, <a class="el" href="consumption_8cpp_source.html#l00459">Character::nutrition_for()</a>, <a class="el" href="player_8cpp_source.html#l04405">player::query_yn()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="iuse_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a>, <a class="el" href="iuse_8cpp.html#a5fccb1c22e58777ef464ef0cbb372541">trait_ACIDPROOF</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="character_8cpp_source.html#l07775">Character::vomit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="iuse_8cpp_source.html#l01076">plantblech()</a>.</p>

</div>
</div>
<a id="a171b17b4631be6ffc30047e17ffc1fcd" name="a171b17b4631be6ffc30047e17ffc1fcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a171b17b4631be6ffc30047e17ffc1fcd">&#9670;&nbsp;</a></span>blech_because_unclean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::blech_because_unclean </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01060">1060</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>{</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>            <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This looks unclean, sure you want to drink it?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>            }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>        } <span class="keywordflow">else</span> { <span class="comment">//Assume that if a blech consumable isn&#39;t a drink, it will be eaten.</span></div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>            <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This looks unclean, sure you want to eat it?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>            }</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>        }</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    }</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06263">item::made_of()</a>, <a class="el" href="player_8cpp_source.html#l04405">player::query_yn()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aba2ba2bb6fe17a1cfc06d4a8e4227d76" name="aba2ba2bb6fe17a1cfc06d4a8e4227d76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba2ba2bb6fe17a1cfc06d4a8e4227d76">&#9670;&nbsp;</a></span>blood_draw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::blood_draw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04606">4606</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04607" name="l04607"></a><span class="lineno"> 4607</span>{</div>
<div class="line"><a id="l04608" name="l04608"></a><span class="lineno"> 4608</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l04609" name="l04609"></a><span class="lineno"> 4609</span>        <span class="keywordflow">return</span> 0;    <span class="comment">// No NPCs for now!</span></div>
<div class="line"><a id="l04610" name="l04610"></a><span class="lineno"> 4610</span>    }</div>
<div class="line"><a id="l04611" name="l04611"></a><span class="lineno"> 4611</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04612" name="l04612"></a><span class="lineno"> 4612</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04613" name="l04613"></a><span class="lineno"> 4613</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04614" name="l04614"></a><span class="lineno"> 4614</span>    }</div>
<div class="line"><a id="l04615" name="l04615"></a><span class="lineno"> 4615</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ) {</div>
<div class="line"><a id="l04616" name="l04616"></a><span class="lineno"> 4616</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That %s is full!&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04617" name="l04617"></a><span class="lineno"> 4617</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04618" name="l04618"></a><span class="lineno"> 4618</span>    }</div>
<div class="line"><a id="l04619" name="l04619"></a><span class="lineno"> 4619</span> </div>
<div class="line"><a id="l04620" name="l04620"></a><span class="lineno"> 4620</span>    <a class="code hl_class" href="classitem.html">item</a> blood( <span class="stringliteral">&quot;blood&quot;</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l04621" name="l04621"></a><span class="lineno"> 4621</span>    <span class="keywordtype">bool</span> drew_blood = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04622" name="l04622"></a><span class="lineno"> 4622</span>    <span class="keywordtype">bool</span> acid_blood = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04623" name="l04623"></a><span class="lineno"> 4623</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;map_it : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.i_at( <a class="code hl_struct" href="structpoint.html">point</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>(), p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() ) ) ) {</div>
<div class="line"><a id="l04624" name="l04624"></a><span class="lineno"> 4624</span>        <span class="keywordflow">if</span>( map_it.is_corpse() &amp;&amp;</div>
<div class="line"><a id="l04625" name="l04625"></a><span class="lineno"> 4625</span>            <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Draw blood from %s?&quot;</span> ),</div>
<div class="line"><a id="l04626" name="l04626"></a><span class="lineno"> 4626</span>                      <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( map_it.tname(), map_it.color_in_inventory() ) ) ) {</div>
<div class="line"><a id="l04627" name="l04627"></a><span class="lineno"> 4627</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You drew blood from the %s…&quot;</span> ), map_it.tname() );</div>
<div class="line"><a id="l04628" name="l04628"></a><span class="lineno"> 4628</span>            drew_blood = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04629" name="l04629"></a><span class="lineno"> 4629</span>            <span class="keyword">auto</span> bloodtype( map_it.get_mtype()-&gt;bloodType() );</div>
<div class="line"><a id="l04630" name="l04630"></a><span class="lineno"> 4630</span>            <span class="keywordflow">if</span>( bloodtype.obj().has_acid ) {</div>
<div class="line"><a id="l04631" name="l04631"></a><span class="lineno"> 4631</span>                acid_blood = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04632" name="l04632"></a><span class="lineno"> 4632</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04633" name="l04633"></a><span class="lineno"> 4633</span>                blood.set_mtype( map_it.get_mtype() );</div>
<div class="line"><a id="l04634" name="l04634"></a><span class="lineno"> 4634</span>            }</div>
<div class="line"><a id="l04635" name="l04635"></a><span class="lineno"> 4635</span>        }</div>
<div class="line"><a id="l04636" name="l04636"></a><span class="lineno"> 4636</span>    }</div>
<div class="line"><a id="l04637" name="l04637"></a><span class="lineno"> 4637</span> </div>
<div class="line"><a id="l04638" name="l04638"></a><span class="lineno"> 4638</span>    <span class="keywordflow">if</span>( !drew_blood &amp;&amp; <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Draw your own blood?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l04639" name="l04639"></a><span class="lineno"> 4639</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You drew your own blood…&quot;</span> ) );</div>
<div class="line"><a id="l04640" name="l04640"></a><span class="lineno"> 4640</span>        drew_blood = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04641" name="l04641"></a><span class="lineno"> 4641</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a> ) ) {</div>
<div class="line"><a id="l04642" name="l04642"></a><span class="lineno"> 4642</span>            acid_blood = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04643" name="l04643"></a><span class="lineno"> 4643</span>        }</div>
<div class="line"><a id="l04644" name="l04644"></a><span class="lineno"> 4644</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ac362a4ed1eb0794de41ee0b5df98724d">mod_stored_nutr</a>( 10 );</div>
<div class="line"><a id="l04645" name="l04645"></a><span class="lineno"> 4645</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 10 );</div>
<div class="line"><a id="l04646" name="l04646"></a><span class="lineno"> 4646</span>        p-&gt;<a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( 3 );</div>
<div class="line"><a id="l04647" name="l04647"></a><span class="lineno"> 4647</span>    }</div>
<div class="line"><a id="l04648" name="l04648"></a><span class="lineno"> 4648</span> </div>
<div class="line"><a id="l04649" name="l04649"></a><span class="lineno"> 4649</span>    <span class="keywordflow">if</span>( acid_blood ) {</div>
<div class="line"><a id="l04650" name="l04650"></a><span class="lineno"> 4650</span>        <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_function" href="namespacemattack.html#acdda0be7e7c8dabb76e9bd130547a3fa">acid</a>( <span class="stringliteral">&quot;acid&quot;</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l04651" name="l04651"></a><span class="lineno"> 4651</span>        it-&gt;<a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( <a class="code hl_function" href="namespacemattack.html#acdda0be7e7c8dabb76e9bd130547a3fa">acid</a> );</div>
<div class="line"><a id="l04652" name="l04652"></a><span class="lineno"> 4652</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l04653" name="l04653"></a><span class="lineno"> 4653</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aca60af3c295738c2c1fddf0fd669f9a1">inc_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90">DT_ACID</a> ) ) {</div>
<div class="line"><a id="l04654" name="l04654"></a><span class="lineno"> 4654</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;…but acidic blood melts the %s, destroying it!&quot;</span> ),</div>
<div class="line"><a id="l04655" name="l04655"></a><span class="lineno"> 4655</span>                                      it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04656" name="l04656"></a><span class="lineno"> 4656</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( it );</div>
<div class="line"><a id="l04657" name="l04657"></a><span class="lineno"> 4657</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04658" name="l04658"></a><span class="lineno"> 4658</span>            }</div>
<div class="line"><a id="l04659" name="l04659"></a><span class="lineno"> 4659</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;…but acidic blood damages the %s!&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04660" name="l04660"></a><span class="lineno"> 4660</span>        }</div>
<div class="line"><a id="l04661" name="l04661"></a><span class="lineno"> 4661</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04662" name="l04662"></a><span class="lineno"> 4662</span>    }</div>
<div class="line"><a id="l04663" name="l04663"></a><span class="lineno"> 4663</span> </div>
<div class="line"><a id="l04664" name="l04664"></a><span class="lineno"> 4664</span>    <span class="keywordflow">if</span>( !drew_blood ) {</div>
<div class="line"><a id="l04665" name="l04665"></a><span class="lineno"> 4665</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04666" name="l04666"></a><span class="lineno"> 4666</span>    }</div>
<div class="line"><a id="l04667" name="l04667"></a><span class="lineno"> 4667</span> </div>
<div class="line"><a id="l04668" name="l04668"></a><span class="lineno"> 4668</span>    it-&gt;<a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( blood );</div>
<div class="line"><a id="l04669" name="l04669"></a><span class="lineno"> 4669</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04670" name="l04670"></a><span class="lineno"> 4670</span>}</div>
<div class="ttc" id="aclassCharacter_html_a35f89e2e6eb1144b623be5281f4f221b"><div class="ttname"><a href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">Character::i_rem</a></div><div class="ttdeci">item i_rem(int pos)</div><div class="ttdoc">Remove a specific item from player possession.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02413">character.cpp:2413</a></div></div>
<div class="ttc" id="aclassCharacter_html_a67b51491c2529df09755e07bc633cc55"><div class="ttname"><a href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">Character::is_mounted</a></div><div class="ttdeci">bool is_mounted() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01133">character.cpp:1133</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac362a4ed1eb0794de41ee0b5df98724d"><div class="ttname"><a href="classCharacter.html#ac362a4ed1eb0794de41ee0b5df98724d">Character::mod_stored_nutr</a></div><div class="ttdeci">virtual void mod_stored_nutr(int nnutr)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04288">character.cpp:4288</a></div></div>
<div class="ttc" id="aclassitem__contents_html_ad5b1250d9699aa489bbfcf3e5689581b"><div class="ttname"><a href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">item_contents::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00016">item_contents.cpp:16</a></div></div>
<div class="ttc" id="aclassitem_html_aca60af3c295738c2c1fddf0fd669f9a1"><div class="ttname"><a href="classitem.html#aca60af3c295738c2c1fddf0fd669f9a1">item::inc_damage</a></div><div class="ttdeci">bool inc_damage(damage_type dt)</div><div class="ttdoc">Increment item damage by itype::damage_scale constrained by max_damage.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06103">item.cpp:6103</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00669">color.cpp:669</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90">DT_ACID</a></div><div class="ttdeci">@ DT_ACID</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00026">damage.h:26</a></div></div>
<div class="ttc" id="anamespacemattack_html_acdda0be7e7c8dabb76e9bd130547a3fa"><div class="ttname"><a href="namespacemattack.html#acdda0be7e7c8dabb76e9bd130547a3fa">mattack::acid</a></div><div class="ttdeci">bool acid(monster *z)</div><div class="ttdef"><b>Definition:</b> <a href="monattack_8cpp_source.html#l00581">monattack.cpp:581</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="monattack_8cpp_source.html#l00581">mattack::acid()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="damage_8h_source.html#l00026">DT_ACID</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, <a class="el" href="item_8cpp_source.html#l06103">item::inc_damage()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player_8cpp_source.html#l01092">player::mod_pain()</a>, <a class="el" href="character_8cpp_source.html#l04288">Character::mod_stored_nutr()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="item_8cpp_source.html#l00987">item::put_in()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="item_8cpp_source.html#l06502">item::set_mtype()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="iuse_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a209a352e9bc73b4ce037af586b937ff1" name="a209a352e9bc73b4ce037af586b937ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209a352e9bc73b4ce037af586b937ff1">&#9670;&nbsp;</a></span>boltcutters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::boltcutters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05040">5040</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05041" name="l05041"></a><span class="lineno"> 5041</span>{</div>
<div class="line"><a id="l05042" name="l05042"></a><span class="lineno"> 5042</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l05043" name="l05043"></a><span class="lineno"> 5043</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l05044" name="l05044"></a><span class="lineno"> 5044</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05045" name="l05045"></a><span class="lineno"> 5045</span>    }</div>
<div class="line"><a id="l05046" name="l05046"></a><span class="lineno"> 5046</span>    <span class="keyword">const</span> std::set&lt;ter_id&gt; allowed_ter_id {</div>
<div class="line"><a id="l05047" name="l05047"></a><span class="lineno"> 5047</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a749628ad18e67f0cbe56b2add9c8518d">t_chaingate_l</a>,</div>
<div class="line"><a id="l05048" name="l05048"></a><span class="lineno"> 5048</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a0d8c808248c75aafdb464b6ac8906ffb">t_chainfence</a></div>
<div class="line"><a id="l05049" name="l05049"></a><span class="lineno"> 5049</span>    };</div>
<div class="line"><a id="l05050" name="l05050"></a><span class="lineno"> 5050</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = [&amp;allowed_ter_id]( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l05051" name="l05051"></a><span class="lineno"> 5051</span>        <span class="keywordflow">if</span>( pnt == <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) {</div>
<div class="line"><a id="l05052" name="l05052"></a><span class="lineno"> 5052</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05053" name="l05053"></a><span class="lineno"> 5053</span>        }</div>
<div class="line"><a id="l05054" name="l05054"></a><span class="lineno"> 5054</span>        <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> ter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l05055" name="l05055"></a><span class="lineno"> 5055</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_allowed = allowed_ter_id.find( ter ) != allowed_ter_id.end();</div>
<div class="line"><a id="l05056" name="l05056"></a><span class="lineno"> 5056</span>        <span class="keywordflow">return</span> is_allowed;</div>
<div class="line"><a id="l05057" name="l05057"></a><span class="lineno"> 5057</span>    };</div>
<div class="line"><a id="l05058" name="l05058"></a><span class="lineno"> 5058</span> </div>
<div class="line"><a id="l05059" name="l05059"></a><span class="lineno"> 5059</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l05060" name="l05060"></a><span class="lineno"> 5060</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Cut up metal where?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is no metal to cut up nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l05061" name="l05061"></a><span class="lineno"> 5061</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l05062" name="l05062"></a><span class="lineno"> 5062</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05063" name="l05063"></a><span class="lineno"> 5063</span>    }</div>
<div class="line"><a id="l05064" name="l05064"></a><span class="lineno"> 5064</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l05065" name="l05065"></a><span class="lineno"> 5065</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l05066" name="l05066"></a><span class="lineno"> 5066</span>    <span class="keywordflow">if</span>( !f( pnt ) ) {</div>
<div class="line"><a id="l05067" name="l05067"></a><span class="lineno"> 5067</span>        <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l05068" name="l05068"></a><span class="lineno"> 5068</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l05069" name="l05069"></a><span class="lineno"> 5069</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You neatly sever all of the veins and arteries in your body.  Oh wait, Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l05070" name="l05070"></a><span class="lineno"> 5070</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05071" name="l05071"></a><span class="lineno"> 5071</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t cut that.&quot;</span> ) );</div>
<div class="line"><a id="l05072" name="l05072"></a><span class="lineno"> 5072</span>        }</div>
<div class="line"><a id="l05073" name="l05073"></a><span class="lineno"> 5073</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05074" name="l05074"></a><span class="lineno"> 5074</span>    }</div>
<div class="line"><a id="l05075" name="l05075"></a><span class="lineno"> 5075</span> </div>
<div class="line"><a id="l05076" name="l05076"></a><span class="lineno"> 5076</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#a749628ad18e67f0cbe56b2add9c8518d">t_chaingate_l</a> ) {</div>
<div class="line"><a id="l05077" name="l05077"></a><span class="lineno"> 5077</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 1_seconds );</div>
<div class="line"><a id="l05078" name="l05078"></a><span class="lineno"> 5078</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter_set( pnt, <a class="code hl_variable" href="mapdata_8cpp.html#a1aac21f1349f863e27c37e02aedfc255">t_chaingate_c</a> );</div>
<div class="line"><a id="l05079" name="l05079"></a><span class="lineno"> 5079</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pnt, 5, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Gachunk!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;tool&quot;</span>, <span class="stringliteral">&quot;boltcutters&quot;</span> );</div>
<div class="line"><a id="l05080" name="l05080"></a><span class="lineno"> 5080</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.spawn_item( <a class="code hl_struct" href="structpoint.html">point</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>(), p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() ), <span class="stringliteral">&quot;scrap&quot;</span>, 3 );</div>
<div class="line"><a id="l05081" name="l05081"></a><span class="lineno"> 5081</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#a0d8c808248c75aafdb464b6ac8906ffb">t_chainfence</a> ) {</div>
<div class="line"><a id="l05082" name="l05082"></a><span class="lineno"> 5082</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 5_seconds );</div>
<div class="line"><a id="l05083" name="l05083"></a><span class="lineno"> 5083</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter_set( pnt, <a class="code hl_variable" href="mapdata_8cpp.html#a4634beea18999257dfeceab734dd71f4">t_chainfence_posts</a> );</div>
<div class="line"><a id="l05084" name="l05084"></a><span class="lineno"> 5084</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pnt, 5, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Snick, snick, gachunk!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;tool&quot;</span>,</div>
<div class="line"><a id="l05085" name="l05085"></a><span class="lineno"> 5085</span>                       <span class="stringliteral">&quot;boltcutters&quot;</span> );</div>
<div class="line"><a id="l05086" name="l05086"></a><span class="lineno"> 5086</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.spawn_item( pnt, <span class="stringliteral">&quot;wire&quot;</span>, 20 );</div>
<div class="line"><a id="l05087" name="l05087"></a><span class="lineno"> 5087</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05088" name="l05088"></a><span class="lineno"> 5088</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05089" name="l05089"></a><span class="lineno"> 5089</span>    }</div>
<div class="line"><a id="l05090" name="l05090"></a><span class="lineno"> 5090</span> </div>
<div class="line"><a id="l05091" name="l05091"></a><span class="lineno"> 5091</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05092" name="l05092"></a><span class="lineno"> 5092</span>}</div>
<div class="ttc" id="aaction_8cpp_html_a46f5749dfc21d809440545cbaf02f8d0"><div class="ttname"><a href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a></div><div class="ttdeci">cata::optional&lt; tripoint &gt; choose_adjacent_highlight(const std::string &amp;message, const std::string &amp;failure_message, const action_id action, bool allow_vertical)</div><div class="ttdoc">Request player input of adjacent tile with highlighting, possibly on different z-level.</div><div class="ttdef"><b>Definition:</b> <a href="action_8cpp_source.html#l01015">action.cpp:1015</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; ter_t &gt;</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a></div><div class="ttdeci">@ type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00075">enums.h:75</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a0d8c808248c75aafdb464b6ac8906ffb"><div class="ttname"><a href="mapdata_8cpp.html#a0d8c808248c75aafdb464b6ac8906ffb">t_chainfence</a></div><div class="ttdeci">ter_id t_chainfence</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00686">mapdata.cpp:686</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a1aac21f1349f863e27c37e02aedfc255"><div class="ttname"><a href="mapdata_8cpp.html#a1aac21f1349f863e27c37e02aedfc255">t_chaingate_c</a></div><div class="ttdeci">ter_id t_chaingate_c</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00659">mapdata.cpp:659</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a4634beea18999257dfeceab734dd71f4"><div class="ttname"><a href="mapdata_8cpp.html#a4634beea18999257dfeceab734dd71f4">t_chainfence_posts</a></div><div class="ttdeci">ter_id t_chainfence_posts</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00686">mapdata.cpp:686</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a749628ad18e67f0cbe56b2add9c8518d"><div class="ttname"><a href="mapdata_8cpp.html#a749628ad18e67f0cbe56b2add9c8518d">t_chaingate_l</a></div><div class="ttdeci">ter_id t_chaingate_l</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00659">mapdata.cpp:659</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::combat</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="mapdata_8cpp_source.html#l00686">t_chainfence</a>, <a class="el" href="mapdata_8cpp_source.html#l00686">t_chainfence_posts</a>, <a class="el" href="mapdata_8cpp_source.html#l00659">t_chaingate_c</a>, <a class="el" href="mapdata_8cpp_source.html#l00659">t_chaingate_l</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ad49f6d9afb7227451244b037b56f6c92" name="ad49f6d9afb7227451244b037b56f6c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad49f6d9afb7227451244b037b56f6c92">&#9670;&nbsp;</a></span>burrow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::burrow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03336">3336</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03337" name="l03337"></a><span class="lineno"> 3337</span>{</div>
<div class="line"><a id="l03338" name="l03338"></a><span class="lineno"> 3338</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l03339" name="l03339"></a><span class="lineno"> 3339</span>        <span class="comment">// Long action</span></div>
<div class="line"><a id="l03340" name="l03340"></a><span class="lineno"> 3340</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03341" name="l03341"></a><span class="lineno"> 3341</span>    }</div>
<div class="line"><a id="l03342" name="l03342"></a><span class="lineno"> 3342</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l03343" name="l03343"></a><span class="lineno"> 3343</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l03344" name="l03344"></a><span class="lineno"> 3344</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03345" name="l03345"></a><span class="lineno"> 3345</span>    }</div>
<div class="line"><a id="l03346" name="l03346"></a><span class="lineno"> 3346</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l03347" name="l03347"></a><span class="lineno"> 3347</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l03348" name="l03348"></a><span class="lineno"> 3348</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03349" name="l03349"></a><span class="lineno"> 3349</span>    }</div>
<div class="line"><a id="l03350" name="l03350"></a><span class="lineno"> 3350</span> </div>
<div class="line"><a id="l03351" name="l03351"></a><span class="lineno"> 3351</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> pnt = pos;</div>
<div class="line"><a id="l03352" name="l03352"></a><span class="lineno"> 3352</span>    <span class="keywordflow">if</span>( pos == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l03353" name="l03353"></a><span class="lineno"> 3353</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Burrow where?&quot;</span> ) );</div>
<div class="line"><a id="l03354" name="l03354"></a><span class="lineno"> 3354</span>        <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l03355" name="l03355"></a><span class="lineno"> 3355</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03356" name="l03356"></a><span class="lineno"> 3356</span>        }</div>
<div class="line"><a id="l03357" name="l03357"></a><span class="lineno"> 3357</span>        pnt = *pnt_;</div>
<div class="line"><a id="l03358" name="l03358"></a><span class="lineno"> 3358</span>    }</div>
<div class="line"><a id="l03359" name="l03359"></a><span class="lineno"> 3359</span> </div>
<div class="line"><a id="l03360" name="l03360"></a><span class="lineno"> 3360</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;MINEABLE&quot;</span>, pnt ) ) {</div>
<div class="line"><a id="l03361" name="l03361"></a><span class="lineno"> 3361</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t burrow there.&quot;</span> ) );</div>
<div class="line"><a id="l03362" name="l03362"></a><span class="lineno"> 3362</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03363" name="l03363"></a><span class="lineno"> 3363</span>    }</div>
<div class="line"><a id="l03364" name="l03364"></a><span class="lineno"> 3364</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pnt ) ) {</div>
<div class="line"><a id="l03365" name="l03365"></a><span class="lineno"> 3365</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s a vehicle in the way!&quot;</span> ) );</div>
<div class="line"><a id="l03366" name="l03366"></a><span class="lineno"> 3366</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03367" name="l03367"></a><span class="lineno"> 3367</span>    }</div>
<div class="line"><a id="l03368" name="l03368"></a><span class="lineno"> 3368</span> </div>
<div class="line"><a id="l03369" name="l03369"></a><span class="lineno"> 3369</span>    <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 5_minutes );</div>
<div class="line"><a id="l03370" name="l03370"></a><span class="lineno"> 3370</span>    moves += ( ( <a class="code hl_variable" href="game__constants_8h.html#a3be415f83c03136e3832fe5e047cea94">MAX_STAT</a> + 3 ) - std::min( p-&gt;<a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a>, <a class="code hl_variable" href="game__constants_8h.html#a3be415f83c03136e3832fe5e047cea94">MAX_STAT</a> ) ) * to_moves&lt;int&gt;( 2_minutes );</div>
<div class="line"><a id="l03371" name="l03371"></a><span class="lineno"> 3371</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.move_cost( pnt ) == 2 ) {</div>
<div class="line"><a id="l03372" name="l03372"></a><span class="lineno"> 3372</span>        <span class="comment">// We&#39;re breaking up some flat surface like pavement, which is much easier</span></div>
<div class="line"><a id="l03373" name="l03373"></a><span class="lineno"> 3373</span>        moves /= 2;</div>
<div class="line"><a id="l03374" name="l03374"></a><span class="lineno"> 3374</span>    }</div>
<div class="line"><a id="l03375" name="l03375"></a><span class="lineno"> 3375</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#afb9006102dd3cc1955847412adfa91a7">ACT_BURROW</a>, moves, -1, 0 );</div>
<div class="line"><a id="l03376" name="l03376"></a><span class="lineno"> 3376</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = pnt;</div>
<div class="line"><a id="l03377" name="l03377"></a><span class="lineno"> 3377</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You start tearing into the %1$s with your %2$s.&quot;</span> ),</div>
<div class="line"><a id="l03378" name="l03378"></a><span class="lineno"> 3378</span>                          <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.tername( pnt ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03379" name="l03379"></a><span class="lineno"> 3379</span>    <span class="keywordflow">return</span> 0; <span class="comment">// handled when the activity finishes</span></div>
<div class="line"><a id="l03380" name="l03380"></a><span class="lineno"> 3380</span>}</div>
<div class="ttc" id="aaction_8cpp_html_a07d2f969463a28d447e90a3bb3dde190"><div class="ttname"><a href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a></div><div class="ttdeci">cata::optional&lt; tripoint &gt; choose_adjacent(const std::string &amp;message, const bool allow_vertical)</div><div class="ttdoc">Request player input of adjacent tile, possibly including vertical tiles.</div><div class="ttdef"><b>Definition:</b> <a href="action_8cpp_source.html#l01009">action.cpp:1009</a></div></div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01580">character.h:1580</a></div></div>
<div class="ttc" id="aclassCharacter_html_af7d50915d362a56eeff40bc6b392326d"><div class="ttname"><a href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">Character::assign_activity</a></div><div class="ttdeci">void assign_activity(const activity_id &amp;type, int moves=calendar::INDEFINITELY_LONG, int index=-1, int pos=INT_MIN, const std::string &amp;name=&quot;&quot;)</div><div class="ttdoc">Legacy activity assignment, does not work for any activites using the new activity_actor class and ma...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09165">character.cpp:9165</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_ad8add7819b06dcfa95ca4871447159f2"><div class="ttname"><a href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">player_activity::placement</a></div><div class="ttdeci">tripoint placement</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00062">player_activity.h:62</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a3be415f83c03136e3832fe5e047cea94"><div class="ttname"><a href="game__constants_8h.html#a3be415f83c03136e3832fe5e047cea94">MAX_STAT</a></div><div class="ttdeci">static constexpr int MAX_STAT</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00114">game_constants.h:114</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_afb9006102dd3cc1955847412adfa91a7"><div class="ttname"><a href="iuse_8cpp.html#afb9006102dd3cc1955847412adfa91a7">ACT_BURROW</a></div><div class="ttdeci">static const activity_id ACT_BURROW(&quot;ACT_BURROW&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#afb9006102dd3cc1955847412adfa91a7">ACT_BURROW</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="game__constants_8h_source.html#l00114">MAX_STAT</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="character_8h_source.html#l00304">Character::str_cur</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a5f2177dc204aa334562f3b16a2a090e8" name="a5f2177dc204aa334562f3b16a2a090e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f2177dc204aa334562f3b16a2a090e8">&#9670;&nbsp;</a></span>c4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::c4 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03714">3714</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03715" name="l03715"></a><span class="lineno"> 3715</span>{</div>
<div class="line"><a id="l03716" name="l03716"></a><span class="lineno"> 3716</span>    <span class="keywordtype">int</span> time;</div>
<div class="line"><a id="l03717" name="l03717"></a><span class="lineno"> 3717</span>    <span class="keywordtype">bool</span> got_value = <a class="code hl_function" href="output_8cpp.html#a37680b08c91e7a604e1ea532e4b47408">query_int</a>( time, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Set the timer to (0 to cancel)?&quot;</span> ) );</div>
<div class="line"><a id="l03718" name="l03718"></a><span class="lineno"> 3718</span>    <span class="keywordflow">if</span>( !got_value || time &lt;= 0 ) {</div>
<div class="line"><a id="l03719" name="l03719"></a><span class="lineno"> 3719</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l03720" name="l03720"></a><span class="lineno"> 3720</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03721" name="l03721"></a><span class="lineno"> 3721</span>    }</div>
<div class="line"><a id="l03722" name="l03722"></a><span class="lineno"> 3722</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You set the timer to %d.&quot;</span> ), time );</div>
<div class="line"><a id="l03723" name="l03723"></a><span class="lineno"> 3723</span>    it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a55a9a6f265b455727ff04b5bd5671587">itype_c4armed</a> );</div>
<div class="line"><a id="l03724" name="l03724"></a><span class="lineno"> 3724</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = time;</div>
<div class="line"><a id="l03725" name="l03725"></a><span class="lineno"> 3725</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03726" name="l03726"></a><span class="lineno"> 3726</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03727" name="l03727"></a><span class="lineno"> 3727</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a55a9a6f265b455727ff04b5bd5671587"><div class="ttname"><a href="iuse_8cpp.html#a55a9a6f265b455727ff04b5bd5671587">itype_c4armed</a></div><div class="ttdeci">static const itype_id itype_c4armed(&quot;c4armed&quot;)</div></div>
<div class="ttc" id="aoutput_8cpp_html_a37680b08c91e7a604e1ea532e4b47408"><div class="ttname"><a href="output_8cpp.html#a37680b08c91e7a604e1ea532e4b47408">query_int</a></div><div class="ttdeci">bool query_int(int &amp;result, int default_val, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00718">output.cpp:718</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="iuse_8cpp.html#a55a9a6f265b455727ff04b5bd5671587">itype_c4armed</a>, <a class="el" href="output_8cpp_source.html#l00718">query_int()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="simplexnoise_8cpp_source.html#l00397">raw_noise_4d()</a>.</p>

</div>
</div>
<a id="a2364cfd5d8ad12ee1d3a3279dc355226" name="a2364cfd5d8ad12ee1d3a3279dc355226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2364cfd5d8ad12ee1d3a3279dc355226">&#9670;&nbsp;</a></span>cable_attach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::cable_attach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l08909">8909</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08910" name="l08910"></a><span class="lineno"> 8910</span>{</div>
<div class="line"><a id="l08911" name="l08911"></a><span class="lineno"> 8911</span>    std::string initial_state = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;state&quot;</span>, <span class="stringliteral">&quot;attach_first&quot;</span> );</div>
<div class="line"><a id="l08912" name="l08912"></a><span class="lineno"> 8912</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_bio_cable = !p-&gt;<a class="code hl_function" href="classCharacter.html#a95f78cc0cde76f0a1428f6abd8742548">get_remote_fueled_bionic</a>().<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>();</div>
<div class="line"><a id="l08913" name="l08913"></a><span class="lineno"> 8913</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_solar_pack = p-&gt;<a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <span class="stringliteral">&quot;SOLARPACK&quot;</span> );</div>
<div class="line"><a id="l08914" name="l08914"></a><span class="lineno"> 8914</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_solar_pack_on = p-&gt;<a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <span class="stringliteral">&quot;SOLARPACK_ON&quot;</span> );</div>
<div class="line"><a id="l08915" name="l08915"></a><span class="lineno"> 8915</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> wearing_solar_pack = has_solar_pack || has_solar_pack_on;</div>
<div class="line"><a id="l08916" name="l08916"></a><span class="lineno"> 8916</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_ups = p-&gt;<a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( <a class="code hl_variable" href="iuse_8cpp.html#ae89306fd36cf36b57fe05dad0db3f71b">itype_UPS_off</a>, 1 ) || p-&gt;<a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1c359a305b979b2e5fc87d15db51e903">itype_adv_UPS_off</a>, 1 );</div>
<div class="line"><a id="l08917" name="l08917"></a><span class="lineno"> 8917</span> </div>
<div class="line"><a id="l08918" name="l08918"></a><span class="lineno"> 8918</span>    <a class="code hl_class" href="classitem__location.html">item_location</a> loc;</div>
<div class="line"><a id="l08919" name="l08919"></a><span class="lineno"> 8919</span>    <a class="code hl_class" href="classavatar.html">avatar</a> *you = p-&gt;<a class="code hl_function" href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">as_avatar</a>();</div>
<div class="line"><a id="l08920" name="l08920"></a><span class="lineno"> 8920</span> </div>
<div class="line"><a id="l08921" name="l08921"></a><span class="lineno"> 8921</span>    <span class="keyword">auto</span> filter = [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; itm ) {</div>
<div class="line"><a id="l08922" name="l08922"></a><span class="lineno"> 8922</span>        <span class="keywordflow">return</span> itm.<a class="code hl_function" href="classCreature.html#a993e0edf9322ff4aba71a9a3a4f5485c">has_flag</a>( <span class="stringliteral">&quot;IS_UPS&quot;</span> );</div>
<div class="line"><a id="l08923" name="l08923"></a><span class="lineno"> 8923</span>    };</div>
<div class="line"><a id="l08924" name="l08924"></a><span class="lineno"> 8924</span> </div>
<div class="line"><a id="l08925" name="l08925"></a><span class="lineno"> 8925</span>    <span class="keyword">const</span> std::string choose_ups = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Choose UPS:&quot;</span> );</div>
<div class="line"><a id="l08926" name="l08926"></a><span class="lineno"> 8926</span>    <span class="keyword">const</span> std::string dont_have_ups = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have any UPS.&quot;</span> );</div>
<div class="line"><a id="l08927" name="l08927"></a><span class="lineno"> 8927</span> </div>
<div class="line"><a id="l08928" name="l08928"></a><span class="lineno"> 8928</span>    <span class="keyword">const</span> <span class="keyword">auto</span> set_cable_active = []( <a class="code hl_class" href="classplayer.html">player</a> * p, <a class="code hl_class" href="classitem.html">item</a> * it, <span class="keyword">const</span> std::string &amp; state ) {</div>
<div class="line"><a id="l08929" name="l08929"></a><span class="lineno"> 8929</span>        <span class="keyword">const</span> std::string prev_state = it-&gt;get_var( <span class="stringliteral">&quot;state&quot;</span> );</div>
<div class="line"><a id="l08930" name="l08930"></a><span class="lineno"> 8930</span>        it-&gt;set_var( <span class="stringliteral">&quot;state&quot;</span>, state );</div>
<div class="line"><a id="l08931" name="l08931"></a><span class="lineno"> 8931</span>        it-&gt;active = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08932" name="l08932"></a><span class="lineno"> 8932</span>        it-&gt;process( p, p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), false );</div>
<div class="line"><a id="l08933" name="l08933"></a><span class="lineno"> 8933</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 15;</div>
<div class="line"><a id="l08934" name="l08934"></a><span class="lineno"> 8934</span> </div>
<div class="line"><a id="l08935" name="l08935"></a><span class="lineno"> 8935</span>        <span class="keywordflow">if</span>( !prev_state.empty() &amp;&amp; ( prev_state == <span class="stringliteral">&quot;cable_charger&quot;</span> || ( prev_state != <span class="stringliteral">&quot;attach_first&quot;</span> &amp;&amp;</div>
<div class="line"><a id="l08936" name="l08936"></a><span class="lineno"> 8936</span>                                     ( state == <span class="stringliteral">&quot;cable_charger_link&quot;</span> || state == <span class="stringliteral">&quot;cable_charger&quot;</span> ) ) ) ) {</div>
<div class="line"><a id="l08937" name="l08937"></a><span class="lineno"> 8937</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#ad05a5d54ddc3fc0f011258b4d329c1e3">find_remote_fuel</a>();</div>
<div class="line"><a id="l08938" name="l08938"></a><span class="lineno"> 8938</span>        }</div>
<div class="line"><a id="l08939" name="l08939"></a><span class="lineno"> 8939</span>    };</div>
<div class="line"><a id="l08940" name="l08940"></a><span class="lineno"> 8940</span>    <span class="keywordflow">if</span>( initial_state == <span class="stringliteral">&quot;attach_first&quot;</span> ) {</div>
<div class="line"><a id="l08941" name="l08941"></a><span class="lineno"> 8941</span>        <span class="keywordflow">if</span>( has_bio_cable ) {</div>
<div class="line"><a id="l08942" name="l08942"></a><span class="lineno"> 8942</span>            <a class="code hl_class" href="classuilist.html">uilist</a> kmenu;</div>
<div class="line"><a id="l08943" name="l08943"></a><span class="lineno"> 8943</span>            kmenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Using cable:&quot;</span> );</div>
<div class="line"><a id="l08944" name="l08944"></a><span class="lineno"> 8944</span>            kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 0, <span class="keyword">true</span>, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach cable to vehicle&quot;</span> ) );</div>
<div class="line"><a id="l08945" name="l08945"></a><span class="lineno"> 8945</span>            kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 1, <span class="keyword">true</span>, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach cable to self&quot;</span> ) );</div>
<div class="line"><a id="l08946" name="l08946"></a><span class="lineno"> 8946</span>            <span class="keywordflow">if</span>( wearing_solar_pack ) {</div>
<div class="line"><a id="l08947" name="l08947"></a><span class="lineno"> 8947</span>                kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 2, has_solar_pack_on, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach cable to solar pack&quot;</span> ) );</div>
<div class="line"><a id="l08948" name="l08948"></a><span class="lineno"> 8948</span>            }</div>
<div class="line"><a id="l08949" name="l08949"></a><span class="lineno"> 8949</span>            <span class="keywordflow">if</span>( has_ups ) {</div>
<div class="line"><a id="l08950" name="l08950"></a><span class="lineno"> 8950</span>                kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 3, <span class="keyword">true</span>, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach cable to UPS&quot;</span> ) );</div>
<div class="line"><a id="l08951" name="l08951"></a><span class="lineno"> 8951</span>            }</div>
<div class="line"><a id="l08952" name="l08952"></a><span class="lineno"> 8952</span>            kmenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l08953" name="l08953"></a><span class="lineno"> 8953</span>            <span class="keywordtype">int</span> choice = kmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l08954" name="l08954"></a><span class="lineno"> 8954</span> </div>
<div class="line"><a id="l08955" name="l08955"></a><span class="lineno"> 8955</span>            <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l08956" name="l08956"></a><span class="lineno"> 8956</span>                <span class="keywordflow">return</span> 0; <span class="comment">// we did nothing.</span></div>
<div class="line"><a id="l08957" name="l08957"></a><span class="lineno"> 8957</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice == 1 ) {</div>
<div class="line"><a id="l08958" name="l08958"></a><span class="lineno"> 8958</span>                set_cable_active( p, it, <span class="stringliteral">&quot;cable_charger&quot;</span> );</div>
<div class="line"><a id="l08959" name="l08959"></a><span class="lineno"> 8959</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You attach the cable to your Cable Charger System.&quot;</span> ) );</div>
<div class="line"><a id="l08960" name="l08960"></a><span class="lineno"> 8960</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08961" name="l08961"></a><span class="lineno"> 8961</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice == 2 ) {</div>
<div class="line"><a id="l08962" name="l08962"></a><span class="lineno"> 8962</span>                set_cable_active( p, it, <span class="stringliteral">&quot;solar_pack&quot;</span> );</div>
<div class="line"><a id="l08963" name="l08963"></a><span class="lineno"> 8963</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You attach the cable to the solar pack.&quot;</span> ) );</div>
<div class="line"><a id="l08964" name="l08964"></a><span class="lineno"> 8964</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08965" name="l08965"></a><span class="lineno"> 8965</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice == 3 ) {</div>
<div class="line"><a id="l08966" name="l08966"></a><span class="lineno"> 8966</span>                <span class="keywordflow">if</span>( you != <span class="keyword">nullptr</span> )                     {</div>
<div class="line"><a id="l08967" name="l08967"></a><span class="lineno"> 8967</span>                    loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a9eafc067094abf546e276b125d2fc788">game_menus::inv::titled_filter_menu</a>( filter, *you, choose_ups, dont_have_ups );</div>
<div class="line"><a id="l08968" name="l08968"></a><span class="lineno"> 8968</span>                }</div>
<div class="line"><a id="l08969" name="l08969"></a><span class="lineno"> 8969</span>                <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l08970" name="l08970"></a><span class="lineno"> 8970</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind&quot;</span> ) );</div>
<div class="line"><a id="l08971" name="l08971"></a><span class="lineno"> 8971</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08972" name="l08972"></a><span class="lineno"> 8972</span>                }</div>
<div class="line"><a id="l08973" name="l08973"></a><span class="lineno"> 8973</span>                <a class="code hl_class" href="classitem.html">item</a> &amp;chosen = *loc;</div>
<div class="line"><a id="l08974" name="l08974"></a><span class="lineno"> 8974</span>                chosen.<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;cable&quot;</span>, <span class="stringliteral">&quot;plugged_in&quot;</span> );</div>
<div class="line"><a id="l08975" name="l08975"></a><span class="lineno"> 8975</span>                chosen.<a class="code hl_function" href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">activate</a>();</div>
<div class="line"><a id="l08976" name="l08976"></a><span class="lineno"> 8976</span>                set_cable_active( p, it, <span class="stringliteral">&quot;UPS&quot;</span> );</div>
<div class="line"><a id="l08977" name="l08977"></a><span class="lineno"> 8977</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You attach the cable to the UPS.&quot;</span> ) );</div>
<div class="line"><a id="l08978" name="l08978"></a><span class="lineno"> 8978</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08979" name="l08979"></a><span class="lineno"> 8979</span>            }</div>
<div class="line"><a id="l08980" name="l08980"></a><span class="lineno"> 8980</span>            <span class="comment">// fall through for attaching to a vehicle</span></div>
<div class="line"><a id="l08981" name="l08981"></a><span class="lineno"> 8981</span>        }</div>
<div class="line"><a id="l08982" name="l08982"></a><span class="lineno"> 8982</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> posp_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach cable to vehicle where?&quot;</span> ) );</div>
<div class="line"><a id="l08983" name="l08983"></a><span class="lineno"> 8983</span>        <span class="keywordflow">if</span>( !posp_ ) {</div>
<div class="line"><a id="l08984" name="l08984"></a><span class="lineno"> 8984</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08985" name="l08985"></a><span class="lineno"> 8985</span>        }</div>
<div class="line"><a id="l08986" name="l08986"></a><span class="lineno"> 8986</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> posp = *posp_;</div>
<div class="line"><a id="l08987" name="l08987"></a><span class="lineno"> 8987</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( posp );</div>
<div class="line"><a id="l08988" name="l08988"></a><span class="lineno"> 8988</span>        <span class="keywordflow">if</span>( !vp ) {</div>
<div class="line"><a id="l08989" name="l08989"></a><span class="lineno"> 8989</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s no vehicle there.&quot;</span> ) );</div>
<div class="line"><a id="l08990" name="l08990"></a><span class="lineno"> 8990</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08991" name="l08991"></a><span class="lineno"> 8991</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08992" name="l08992"></a><span class="lineno"> 8992</span>            <span class="keyword">const</span> <span class="keyword">auto</span> abspos = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( posp );</div>
<div class="line"><a id="l08993" name="l08993"></a><span class="lineno"> 8993</span>            it-&gt;set_var( <span class="stringliteral">&quot;source_x&quot;</span>, abspos.x );</div>
<div class="line"><a id="l08994" name="l08994"></a><span class="lineno"> 8994</span>            it-&gt;set_var( <span class="stringliteral">&quot;source_y&quot;</span>, abspos.y );</div>
<div class="line"><a id="l08995" name="l08995"></a><span class="lineno"> 8995</span>            it-&gt;set_var( <span class="stringliteral">&quot;source_z&quot;</span>, abspos.z );</div>
<div class="line"><a id="l08996" name="l08996"></a><span class="lineno"> 8996</span>            set_cable_active( p, it, <span class="stringliteral">&quot;pay_out_cable&quot;</span> );</div>
<div class="line"><a id="l08997" name="l08997"></a><span class="lineno"> 8997</span>        }</div>
<div class="line"><a id="l08998" name="l08998"></a><span class="lineno"> 8998</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08999" name="l08999"></a><span class="lineno"> 8999</span>        <span class="keyword">const</span> <span class="keyword">auto</span> confirm_source_vehicle = []( <a class="code hl_class" href="classplayer.html">player</a> * p, <a class="code hl_class" href="classitem.html">item</a> * it, <span class="keyword">const</span> <span class="keywordtype">bool</span> detach_if_missing ) {</div>
<div class="line"><a id="l09000" name="l09000"></a><span class="lineno"> 9000</span>            <a class="code hl_struct" href="structtripoint.html">tripoint</a> source_global( it-&gt;get_var( <span class="stringliteral">&quot;source_x&quot;</span>, 0 ),</div>
<div class="line"><a id="l09001" name="l09001"></a><span class="lineno"> 9001</span>                                    it-&gt;get_var( <span class="stringliteral">&quot;source_y&quot;</span>, 0 ),</div>
<div class="line"><a id="l09002" name="l09002"></a><span class="lineno"> 9002</span>                                    it-&gt;get_var( <span class="stringliteral">&quot;source_z&quot;</span>, 0 ) );</div>
<div class="line"><a id="l09003" name="l09003"></a><span class="lineno"> 9003</span>            <a class="code hl_struct" href="structtripoint.html">tripoint</a> source_local = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getlocal( source_global );</div>
<div class="line"><a id="l09004" name="l09004"></a><span class="lineno"> 9004</span>            <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> source_vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( source_local );</div>
<div class="line"><a id="l09005" name="l09005"></a><span class="lineno"> 9005</span>            <a class="code hl_class" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> source_veh = <a class="code hl_function" href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a>( source_vp );</div>
<div class="line"><a id="l09006" name="l09006"></a><span class="lineno"> 9006</span>            <span class="keywordflow">if</span>( detach_if_missing &amp;&amp; source_veh == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09007" name="l09007"></a><span class="lineno"> 9007</span>                <span class="keywordflow">if</span>( p != <span class="keyword">nullptr</span> &amp;&amp; p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l09008" name="l09008"></a><span class="lineno"> 9008</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You notice the cable has come loose!&quot;</span> ) );</div>
<div class="line"><a id="l09009" name="l09009"></a><span class="lineno"> 9009</span>                }</div>
<div class="line"><a id="l09010" name="l09010"></a><span class="lineno"> 9010</span>                it-&gt;reset_cable( p );</div>
<div class="line"><a id="l09011" name="l09011"></a><span class="lineno"> 9011</span>            }</div>
<div class="line"><a id="l09012" name="l09012"></a><span class="lineno"> 9012</span>            <span class="keywordflow">return</span> source_vp;</div>
<div class="line"><a id="l09013" name="l09013"></a><span class="lineno"> 9013</span>        };</div>
<div class="line"><a id="l09014" name="l09014"></a><span class="lineno"> 9014</span> </div>
<div class="line"><a id="l09015" name="l09015"></a><span class="lineno"> 9015</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> paying_out = initial_state == <span class="stringliteral">&quot;pay_out_cable&quot;</span>;</div>
<div class="line"><a id="l09016" name="l09016"></a><span class="lineno"> 9016</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> cable_cbm = initial_state == <span class="stringliteral">&quot;cable_charger&quot;</span>;</div>
<div class="line"><a id="l09017" name="l09017"></a><span class="lineno"> 9017</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> solar_pack = initial_state == <span class="stringliteral">&quot;solar_pack&quot;</span>;</div>
<div class="line"><a id="l09018" name="l09018"></a><span class="lineno"> 9018</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> UPS = initial_state == <span class="stringliteral">&quot;UPS&quot;</span>;</div>
<div class="line"><a id="l09019" name="l09019"></a><span class="lineno"> 9019</span>        <span class="keywordtype">bool</span> loose_ends = paying_out || cable_cbm || solar_pack || UPS;</div>
<div class="line"><a id="l09020" name="l09020"></a><span class="lineno"> 9020</span>        <a class="code hl_class" href="classuilist.html">uilist</a> kmenu;</div>
<div class="line"><a id="l09021" name="l09021"></a><span class="lineno"> 9021</span>        kmenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Using cable:&quot;</span> );</div>
<div class="line"><a id="l09022" name="l09022"></a><span class="lineno"> 9022</span>        kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 0, <span class="keyword">true</span>, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Detach and re-spool the cable&quot;</span> ) );</div>
<div class="line"><a id="l09023" name="l09023"></a><span class="lineno"> 9023</span>        kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 1, ( paying_out || cable_cbm ) &amp;&amp; !solar_pack &amp;&amp;</div>
<div class="line"><a id="l09024" name="l09024"></a><span class="lineno"> 9024</span>                        !UPS, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach loose end to vehicle or grid connector&quot;</span> ) );</div>
<div class="line"><a id="l09025" name="l09025"></a><span class="lineno"> 9025</span> </div>
<div class="line"><a id="l09026" name="l09026"></a><span class="lineno"> 9026</span>        <span class="keywordflow">if</span>( has_bio_cable &amp;&amp; loose_ends ) {</div>
<div class="line"><a id="l09027" name="l09027"></a><span class="lineno"> 9027</span>            kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 2, !cable_cbm, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach loose end to self&quot;</span> ) );</div>
<div class="line"><a id="l09028" name="l09028"></a><span class="lineno"> 9028</span>            <span class="keywordflow">if</span>( wearing_solar_pack ) {</div>
<div class="line"><a id="l09029" name="l09029"></a><span class="lineno"> 9029</span>                kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 3, !solar_pack &amp;&amp; !paying_out &amp;&amp; !UPS, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach loose end to solar pack&quot;</span> ) );</div>
<div class="line"><a id="l09030" name="l09030"></a><span class="lineno"> 9030</span>            }</div>
<div class="line"><a id="l09031" name="l09031"></a><span class="lineno"> 9031</span>            <span class="keywordflow">if</span>( has_ups ) {</div>
<div class="line"><a id="l09032" name="l09032"></a><span class="lineno"> 9032</span>                kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 4, !UPS &amp;&amp; !solar_pack &amp;&amp; !paying_out, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach loose end to UPS&quot;</span> ) );</div>
<div class="line"><a id="l09033" name="l09033"></a><span class="lineno"> 9033</span>            }</div>
<div class="line"><a id="l09034" name="l09034"></a><span class="lineno"> 9034</span>        }</div>
<div class="line"><a id="l09035" name="l09035"></a><span class="lineno"> 9035</span>        kmenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l09036" name="l09036"></a><span class="lineno"> 9036</span>        <span class="keywordtype">int</span> choice = kmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l09037" name="l09037"></a><span class="lineno"> 9037</span> </div>
<div class="line"><a id="l09038" name="l09038"></a><span class="lineno"> 9038</span>        <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l09039" name="l09039"></a><span class="lineno"> 9039</span>            <span class="keywordflow">return</span> 0; <span class="comment">// we did nothing.</span></div>
<div class="line"><a id="l09040" name="l09040"></a><span class="lineno"> 9040</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice == 0 ) { <span class="comment">// unconnect &amp; respool</span></div>
<div class="line"><a id="l09041" name="l09041"></a><span class="lineno"> 9041</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#aaea5a3b7fd54a1e07bcd02e7b7d96194">reset_remote_fuel</a>();</div>
<div class="line"><a id="l09042" name="l09042"></a><span class="lineno"> 9042</span>            it-&gt;reset_cable( p );</div>
<div class="line"><a id="l09043" name="l09043"></a><span class="lineno"> 9043</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09044" name="l09044"></a><span class="lineno"> 9044</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice == 2 ) { <span class="comment">// connect self while other end already connected</span></div>
<div class="line"><a id="l09045" name="l09045"></a><span class="lineno"> 9045</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You attach the cable to the Cable Charger System.&quot;</span> ) );</div>
<div class="line"><a id="l09046" name="l09046"></a><span class="lineno"> 9046</span>            <span class="comment">// connecting self, solar backpack connected</span></div>
<div class="line"><a id="l09047" name="l09047"></a><span class="lineno"> 9047</span>            <span class="keywordflow">if</span>( solar_pack ) {</div>
<div class="line"><a id="l09048" name="l09048"></a><span class="lineno"> 9048</span>                set_cable_active( p, it, <span class="stringliteral">&quot;solar_pack_link&quot;</span> );</div>
<div class="line"><a id="l09049" name="l09049"></a><span class="lineno"> 9049</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are now plugged to the solar backpack.&quot;</span> ) );</div>
<div class="line"><a id="l09050" name="l09050"></a><span class="lineno"> 9050</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09051" name="l09051"></a><span class="lineno"> 9051</span>            }</div>
<div class="line"><a id="l09052" name="l09052"></a><span class="lineno"> 9052</span>            <span class="comment">// connecting self, UPS connected</span></div>
<div class="line"><a id="l09053" name="l09053"></a><span class="lineno"> 9053</span>            <span class="keywordflow">if</span>( UPS ) {</div>
<div class="line"><a id="l09054" name="l09054"></a><span class="lineno"> 9054</span>                set_cable_active( p, it, <span class="stringliteral">&quot;UPS_link&quot;</span> );</div>
<div class="line"><a id="l09055" name="l09055"></a><span class="lineno"> 9055</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are now plugged to the UPS.&quot;</span> ) );</div>
<div class="line"><a id="l09056" name="l09056"></a><span class="lineno"> 9056</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09057" name="l09057"></a><span class="lineno"> 9057</span>            }</div>
<div class="line"><a id="l09058" name="l09058"></a><span class="lineno"> 9058</span>            <span class="comment">// connecting self, vehicle connected</span></div>
<div class="line"><a id="l09059" name="l09059"></a><span class="lineno"> 9059</span>            <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> source_vp = confirm_source_vehicle( p, it, <span class="keyword">true</span> );</div>
<div class="line"><a id="l09060" name="l09060"></a><span class="lineno"> 9060</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a>( source_vp ) != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09061" name="l09061"></a><span class="lineno"> 9061</span>                set_cable_active( p, it, <span class="stringliteral">&quot;cable_charger_link&quot;</span> );</div>
<div class="line"><a id="l09062" name="l09062"></a><span class="lineno"> 9062</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are now plugged to the vehicle.&quot;</span> ) );</div>
<div class="line"><a id="l09063" name="l09063"></a><span class="lineno"> 9063</span>            }</div>
<div class="line"><a id="l09064" name="l09064"></a><span class="lineno"> 9064</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09065" name="l09065"></a><span class="lineno"> 9065</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice == 3 ) {</div>
<div class="line"><a id="l09066" name="l09066"></a><span class="lineno"> 9066</span>            <span class="comment">// connecting self to solar backpack</span></div>
<div class="line"><a id="l09067" name="l09067"></a><span class="lineno"> 9067</span>            set_cable_active( p, it, <span class="stringliteral">&quot;solar_pack_link&quot;</span> );</div>
<div class="line"><a id="l09068" name="l09068"></a><span class="lineno"> 9068</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are now plugged to the solar backpack.&quot;</span> ) );</div>
<div class="line"><a id="l09069" name="l09069"></a><span class="lineno"> 9069</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09070" name="l09070"></a><span class="lineno"> 9070</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice == 4 ) {</div>
<div class="line"><a id="l09071" name="l09071"></a><span class="lineno"> 9071</span>            loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a9eafc067094abf546e276b125d2fc788">game_menus::inv::titled_filter_menu</a>( filter, *you, choose_ups, dont_have_ups );</div>
<div class="line"><a id="l09072" name="l09072"></a><span class="lineno"> 9072</span>            <span class="comment">// connecting self to UPS</span></div>
<div class="line"><a id="l09073" name="l09073"></a><span class="lineno"> 9073</span>            <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l09074" name="l09074"></a><span class="lineno"> 9074</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind&quot;</span> ) );</div>
<div class="line"><a id="l09075" name="l09075"></a><span class="lineno"> 9075</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09076" name="l09076"></a><span class="lineno"> 9076</span>            }</div>
<div class="line"><a id="l09077" name="l09077"></a><span class="lineno"> 9077</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;chosen = *loc;</div>
<div class="line"><a id="l09078" name="l09078"></a><span class="lineno"> 9078</span>            chosen.<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;cable&quot;</span>, <span class="stringliteral">&quot;plugged_in&quot;</span> );</div>
<div class="line"><a id="l09079" name="l09079"></a><span class="lineno"> 9079</span>            chosen.<a class="code hl_function" href="classitem.html#a7f1ae4e309841707eea0852dd4cd95a3">activate</a>();</div>
<div class="line"><a id="l09080" name="l09080"></a><span class="lineno"> 9080</span>            set_cable_active( p, it, <span class="stringliteral">&quot;UPS_link&quot;</span> );</div>
<div class="line"><a id="l09081" name="l09081"></a><span class="lineno"> 9081</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are now plugged to the UPS.&quot;</span> ) );</div>
<div class="line"><a id="l09082" name="l09082"></a><span class="lineno"> 9082</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09083" name="l09083"></a><span class="lineno"> 9083</span>        }</div>
<div class="line"><a id="l09084" name="l09084"></a><span class="lineno"> 9084</span>        <span class="comment">// connecting self to vehicle</span></div>
<div class="line"><a id="l09085" name="l09085"></a><span class="lineno"> 9085</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> source_vp = confirm_source_vehicle( p, it, paying_out );</div>
<div class="line"><a id="l09086" name="l09086"></a><span class="lineno"> 9086</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> source_veh = <a class="code hl_function" href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a>( source_vp );</div>
<div class="line"><a id="l09087" name="l09087"></a><span class="lineno"> 9087</span>        <span class="keywordflow">if</span>( source_veh == <span class="keyword">nullptr</span> &amp;&amp; paying_out ) {</div>
<div class="line"><a id="l09088" name="l09088"></a><span class="lineno"> 9088</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09089" name="l09089"></a><span class="lineno"> 9089</span>        }</div>
<div class="line"><a id="l09090" name="l09090"></a><span class="lineno"> 9090</span> </div>
<div class="line"><a id="l09091" name="l09091"></a><span class="lineno"> 9091</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> vpos_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach cable where?&quot;</span> ) );</div>
<div class="line"><a id="l09092" name="l09092"></a><span class="lineno"> 9092</span>        <span class="keywordflow">if</span>( !vpos_ ) {</div>
<div class="line"><a id="l09093" name="l09093"></a><span class="lineno"> 9093</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09094" name="l09094"></a><span class="lineno"> 9094</span>        }</div>
<div class="line"><a id="l09095" name="l09095"></a><span class="lineno"> 9095</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> vpos = *vpos_;</div>
<div class="line"><a id="l09096" name="l09096"></a><span class="lineno"> 9096</span> </div>
<div class="line"><a id="l09097" name="l09097"></a><span class="lineno"> 9097</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> target_vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( vpos );</div>
<div class="line"><a id="l09098" name="l09098"></a><span class="lineno"> 9098</span>        <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> target_global( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( vpos ) );</div>
<div class="line"><a id="l09099" name="l09099"></a><span class="lineno"> 9099</span>        <a class="code hl_class" href="classvehicle__connector__tile.html">vehicle_connector_tile</a> *grid_connection = <a class="code hl_function" href="namespaceactive__tiles.html#a8ee11199630bf6a315debc6f64d0c082">active_tiles::furn_at&lt;vehicle_connector_tile&gt;</a></div>
<div class="line"><a id="l09100" name="l09100"></a><span class="lineno"> 9100</span>                ( target_global );</div>
<div class="line"><a id="l09101" name="l09101"></a><span class="lineno"> 9101</span>        <span class="keywordflow">if</span>( !target_vp &amp;&amp; !grid_connection ) {</div>
<div class="line"><a id="l09102" name="l09102"></a><span class="lineno"> 9102</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s no vehicle or grid connection there.&quot;</span> ) );</div>
<div class="line"><a id="l09103" name="l09103"></a><span class="lineno"> 9103</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09104" name="l09104"></a><span class="lineno"> 9104</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( cable_cbm ) {</div>
<div class="line"><a id="l09105" name="l09105"></a><span class="lineno"> 9105</span>            <span class="keyword">const</span> <span class="keyword">auto</span> abspos = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( vpos );</div>
<div class="line"><a id="l09106" name="l09106"></a><span class="lineno"> 9106</span>            it-&gt;set_var( <span class="stringliteral">&quot;source_x&quot;</span>, abspos.x );</div>
<div class="line"><a id="l09107" name="l09107"></a><span class="lineno"> 9107</span>            it-&gt;set_var( <span class="stringliteral">&quot;source_y&quot;</span>, abspos.y );</div>
<div class="line"><a id="l09108" name="l09108"></a><span class="lineno"> 9108</span>            it-&gt;set_var( <span class="stringliteral">&quot;source_z&quot;</span>, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_levz() );</div>
<div class="line"><a id="l09109" name="l09109"></a><span class="lineno"> 9109</span>            set_cable_active( p, it, <span class="stringliteral">&quot;cable_charger_link&quot;</span> );</div>
<div class="line"><a id="l09110" name="l09110"></a><span class="lineno"> 9110</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are now plugged to the vehicle.&quot;</span> ) );</div>
<div class="line"><a id="l09111" name="l09111"></a><span class="lineno"> 9111</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09112" name="l09112"></a><span class="lineno"> 9112</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09113" name="l09113"></a><span class="lineno"> 9113</span>            <a class="code hl_struct" href="structtripoint.html">tripoint</a> source_global( it-&gt;get_var( <span class="stringliteral">&quot;source_x&quot;</span>, 0 ),</div>
<div class="line"><a id="l09114" name="l09114"></a><span class="lineno"> 9114</span>                                    it-&gt;get_var( <span class="stringliteral">&quot;source_y&quot;</span>, 0 ),</div>
<div class="line"><a id="l09115" name="l09115"></a><span class="lineno"> 9115</span>                                    it-&gt;get_var( <span class="stringliteral">&quot;source_z&quot;</span>, 0 ) );</div>
<div class="line"><a id="l09116" name="l09116"></a><span class="lineno"> 9116</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">vpart_id</a> vpid( it-&gt;typeId().str() );</div>
<div class="line"><a id="l09117" name="l09117"></a><span class="lineno"> 9117</span> </div>
<div class="line"><a id="l09118" name="l09118"></a><span class="lineno"> 9118</span>            <a class="code hl_struct" href="structpoint.html">point</a> vcoords = source_vp-&gt;mount();</div>
<div class="line"><a id="l09119" name="l09119"></a><span class="lineno"> 9119</span>            <a class="code hl_struct" href="structvehicle__part.html">vehicle_part</a> source_part( vpid, vcoords, <a class="code hl_class" href="classitem.html">item</a>( *it ) );</div>
<div class="line"><a id="l09120" name="l09120"></a><span class="lineno"> 9120</span>            <span class="keywordflow">if</span>( grid_connection != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l09121" name="l09121"></a><span class="lineno"> 9121</span>                source_part.target.first = target_global.raw();</div>
<div class="line"><a id="l09122" name="l09122"></a><span class="lineno"> 9122</span>                source_part.target.second = target_global.raw();</div>
<div class="line"><a id="l09123" name="l09123"></a><span class="lineno"> 9123</span>                source_part.set_flag( <a class="code hl_enumvalue" href="structvehicle__part.html#a6944258e64f01a23d5ea254ad2fe71eaaf8a55dcb9257441627b688ad897a0fa3">vehicle_part::targets_grid</a> );</div>
<div class="line"><a id="l09124" name="l09124"></a><span class="lineno"> 9124</span>                <span class="keywordflow">if</span>( p != <span class="keyword">nullptr</span> &amp;&amp; p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l09125" name="l09125"></a><span class="lineno"> 9125</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You connect the %s to the electric grid.&quot;</span> ),</div>
<div class="line"><a id="l09126" name="l09126"></a><span class="lineno"> 9126</span>                                          source_veh-&gt;<a class="code hl_variable" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a id="l09127" name="l09127"></a><span class="lineno"> 9127</span>                    grid_connection-&gt;<a class="code hl_variable" href="classvehicle__connector__tile.html#a9e25418fb2af615f91fa8a6ad945e3d6">connected_vehicles</a>.emplace_back( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( source_veh-&gt;<a class="code hl_function" href="classvehicle.html#a3900ee345be0453828a955a200154db1">global_pos3</a>() ) );</div>
<div class="line"><a id="l09128" name="l09128"></a><span class="lineno"> 9128</span>                    source_veh-&gt;<a class="code hl_function" href="classvehicle.html#a720bcd814432de09323f4ca1dfb2eade">install_part</a>( vcoords, source_part );</div>
<div class="line"><a id="l09129" name="l09129"></a><span class="lineno"> 9129</span>                }</div>
<div class="line"><a id="l09130" name="l09130"></a><span class="lineno"> 9130</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09131" name="l09131"></a><span class="lineno"> 9131</span>                <a class="code hl_class" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> target_veh = &amp;target_vp-&gt;vehicle();</div>
<div class="line"><a id="l09132" name="l09132"></a><span class="lineno"> 9132</span>                <span class="keywordflow">if</span>( source_veh == target_veh ) {</div>
<div class="line"><a id="l09133" name="l09133"></a><span class="lineno"> 9133</span>                    <span class="keywordflow">if</span>( p != <span class="keyword">nullptr</span> &amp;&amp; p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l09134" name="l09134"></a><span class="lineno"> 9134</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s already has access to its own electric system!&quot;</span> ),</div>
<div class="line"><a id="l09135" name="l09135"></a><span class="lineno"> 9135</span>                                              source_veh-&gt;<a class="code hl_variable" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a id="l09136" name="l09136"></a><span class="lineno"> 9136</span>                    }</div>
<div class="line"><a id="l09137" name="l09137"></a><span class="lineno"> 9137</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09138" name="l09138"></a><span class="lineno"> 9138</span>                }</div>
<div class="line"><a id="l09139" name="l09139"></a><span class="lineno"> 9139</span> </div>
<div class="line"><a id="l09140" name="l09140"></a><span class="lineno"> 9140</span>                source_part.target.first = target_global.raw();</div>
<div class="line"><a id="l09141" name="l09141"></a><span class="lineno"> 9141</span>                source_part.target.second = target_veh-&gt;<a class="code hl_function" href="classvehicle.html#a789289c4179f7677e45cb100ff5ffb9a">global_square_location</a>().<a class="code hl_function" href="classcoords_1_1coord__point.html#a3f9a44403c08f2eaf0d605b1d034c048">raw</a>();</div>
<div class="line"><a id="l09142" name="l09142"></a><span class="lineno"> 9142</span>                source_veh-&gt;<a class="code hl_function" href="classvehicle.html#a720bcd814432de09323f4ca1dfb2eade">install_part</a>( vcoords, source_part );</div>
<div class="line"><a id="l09143" name="l09143"></a><span class="lineno"> 9143</span> </div>
<div class="line"><a id="l09144" name="l09144"></a><span class="lineno"> 9144</span>                <span class="keywordflow">if</span>( target_vp ) {</div>
<div class="line"><a id="l09145" name="l09145"></a><span class="lineno"> 9145</span>                    vcoords = target_vp-&gt;mount();</div>
<div class="line"><a id="l09146" name="l09146"></a><span class="lineno"> 9146</span>                    <a class="code hl_struct" href="structvehicle__part.html">vehicle_part</a> target_part( vpid, vcoords, <a class="code hl_class" href="classitem.html">item</a>( *it ) );</div>
<div class="line"><a id="l09147" name="l09147"></a><span class="lineno"> 9147</span>                    target_part.target.first = source_global;</div>
<div class="line"><a id="l09148" name="l09148"></a><span class="lineno"> 9148</span>                    target_part.target.second = source_veh-&gt;<a class="code hl_function" href="classvehicle.html#a789289c4179f7677e45cb100ff5ffb9a">global_square_location</a>().<a class="code hl_function" href="classcoords_1_1coord__point.html#a3f9a44403c08f2eaf0d605b1d034c048">raw</a>();</div>
<div class="line"><a id="l09149" name="l09149"></a><span class="lineno"> 9149</span>                    target_veh-&gt;<a class="code hl_function" href="classvehicle.html#a720bcd814432de09323f4ca1dfb2eade">install_part</a>( vcoords, target_part );</div>
<div class="line"><a id="l09150" name="l09150"></a><span class="lineno"> 9150</span> </div>
<div class="line"><a id="l09151" name="l09151"></a><span class="lineno"> 9151</span>                    <span class="keywordflow">if</span>( p != <span class="keyword">nullptr</span> &amp;&amp; p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l09152" name="l09152"></a><span class="lineno"> 9152</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You link up the electric systems of the %1$s and the %2$s.&quot;</span> ),</div>
<div class="line"><a id="l09153" name="l09153"></a><span class="lineno"> 9153</span>                                              source_veh-&gt;<a class="code hl_variable" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a>, target_veh-&gt;<a class="code hl_variable" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a id="l09154" name="l09154"></a><span class="lineno"> 9154</span>                    }</div>
<div class="line"><a id="l09155" name="l09155"></a><span class="lineno"> 9155</span>                }</div>
<div class="line"><a id="l09156" name="l09156"></a><span class="lineno"> 9156</span>            }</div>
<div class="line"><a id="l09157" name="l09157"></a><span class="lineno"> 9157</span> </div>
<div class="line"><a id="l09158" name="l09158"></a><span class="lineno"> 9158</span>            <span class="keywordflow">return</span> 1; <span class="comment">// Let the cable be destroyed.</span></div>
<div class="line"><a id="l09159" name="l09159"></a><span class="lineno"> 9159</span>        }</div>
<div class="line"><a id="l09160" name="l09160"></a><span class="lineno"> 9160</span>    }</div>
<div class="line"><a id="l09161" name="l09161"></a><span class="lineno"> 9161</span> </div>
<div class="line"><a id="l09162" name="l09162"></a><span class="lineno"> 9162</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09163" name="l09163"></a><span class="lineno"> 9163</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3aaa75382f6308a729369c7f2ccf0600"><div class="ttname"><a href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">Character::worn_with_flag</a></div><div class="ttdeci">bool worn_with_flag(const std::string &amp;flag, const bodypart_id &amp;bp=bodypart_str_id::NULL_ID()) const</div><div class="ttdoc">Returns true if the player is wearing an item with the given flag.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03241">character.cpp:3241</a></div></div>
<div class="ttc" id="aclassCharacter_html_a95f78cc0cde76f0a1428f6abd8742548"><div class="ttname"><a href="classCharacter.html#a95f78cc0cde76f0a1428f6abd8742548">Character::get_remote_fueled_bionic</a></div><div class="ttdeci">bionic_id get_remote_fueled_bionic() const</div><div class="ttdoc">Returns bionic_id of first remote fueled bionic found.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01891">character.cpp:1891</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9bff3208a5e121c4e3a71b81b378e4e7"><div class="ttname"><a href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">Character::has_charges</a></div><div class="ttdeci">bool has_charges(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09571">character.cpp:9571</a></div></div>
<div class="ttc" id="aclassCharacter_html_aaea5a3b7fd54a1e07bcd02e7b7d96194"><div class="ttname"><a href="classCharacter.html#aaea5a3b7fd54a1e07bcd02e7b7d96194">Character::reset_remote_fuel</a></div><div class="ttdeci">void reset_remote_fuel()</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l01442">bionics.cpp:1442</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad05a5d54ddc3fc0f011258b4d329c1e3"><div class="ttname"><a href="classCharacter.html#ad05a5d54ddc3fc0f011258b4d329c1e3">Character::find_remote_fuel</a></div><div class="ttdeci">itype_id find_remote_fuel(bool look_only=false)</div><div class="ttdoc">Find fuel used by remote powered bionic.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l01355">bionics.cpp:1355</a></div></div>
<div class="ttc" id="aclassCreature_html_a993e0edf9322ff4aba71a9a3a4f5485c"><div class="ttname"><a href="classCreature.html#a993e0edf9322ff4aba71a9a3a4f5485c">Creature::has_flag</a></div><div class="ttdeci">virtual bool has_flag(const m_flag) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00482">creature.h:482</a></div></div>
<div class="ttc" id="aclassCreature_html_aff1d211fe3b960fc3046db5f3dfcf793"><div class="ttname"><a href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">Creature::as_avatar</a></div><div class="ttdeci">virtual avatar * as_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00128">creature.h:128</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00053">avatar.h:54</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html_a3f9a44403c08f2eaf0d605b1d034c048"><div class="ttname"><a href="classcoords_1_1coord__point.html#a3f9a44403c08f2eaf0d605b1d034c048">coords::coord_point::raw</a></div><div class="ttdeci">constexpr Point &amp; raw()</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00111">coordinates.h:111</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a cata::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00101">vpart_position.h:102</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00098">player.h:99</a></div></div>
<div class="ttc" id="aclassstring__id_html_ac180a60056901aaf79f5c4b728a257bd"><div class="ttname"><a href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">string_id::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">Returns whether this id is empty.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00298">string_id.h:298</a></div></div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00186">ui.h:187</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00412">ui.h:412</a></div></div>
<div class="ttc" id="aclassuilist_html_af59dd3fdde04746dbc5cb52b355577ce"><div class="ttname"><a href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">uilist::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00320">ui.h:320</a></div></div>
<div class="ttc" id="aclassuilist_html_af99f28334902af64487e2d0758df2ab9"><div class="ttname"><a href="classuilist.html#af99f28334902af64487e2d0758df2ab9">uilist::addentry</a></div><div class="ttdeci">void addentry(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00932">ui.cpp:932</a></div></div>
<div class="ttc" id="aclassvehicle__connector__tile_html"><div class="ttname"><a href="classvehicle__connector__tile.html">vehicle_connector_tile</a></div><div class="ttdef"><b>Definition:</b> <a href="active__tile__data__def_8h_source.html#l00092">active_tile_data_def.h:93</a></div></div>
<div class="ttc" id="aclassvehicle__connector__tile_html_a9e25418fb2af615f91fa8a6ad945e3d6"><div class="ttname"><a href="classvehicle__connector__tile.html#a9e25418fb2af615f91fa8a6ad945e3d6">vehicle_connector_tile::connected_vehicles</a></div><div class="ttdeci">std::vector&lt; tripoint_abs_ms &gt; connected_vehicles</div><div class="ttdef"><b>Definition:</b> <a href="active__tile__data__def_8h_source.html#l00095">active_tile_data_def.h:95</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00674">vehicle.h:675</a></div></div>
<div class="ttc" id="aclassvehicle_html_a3900ee345be0453828a955a200154db1"><div class="ttname"><a href="classvehicle.html#a3900ee345be0453828a955a200154db1">vehicle::global_pos3</a></div><div class="ttdeci">tripoint global_pos3() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03101">vehicle.cpp:3101</a></div></div>
<div class="ttc" id="aclassvehicle_html_a441fa41f264fb7bc45df81d71244a0d1"><div class="ttname"><a href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">vehicle::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l01792">vehicle.h:1792</a></div></div>
<div class="ttc" id="aclassvehicle_html_a720bcd814432de09323f4ca1dfb2eade"><div class="ttname"><a href="classvehicle.html#a720bcd814432de09323f4ca1dfb2eade">vehicle::install_part</a></div><div class="ttdeci">int install_part(const point &amp;dp, const vpart_id &amp;id, bool force=false)</div><div class="ttdoc">Installs a part into this vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l01554">vehicle.cpp:1554</a></div></div>
<div class="ttc" id="aclassvehicle_html_a789289c4179f7677e45cb100ff5ffb9a"><div class="ttname"><a href="classvehicle.html#a789289c4179f7677e45cb100ff5ffb9a">vehicle::global_square_location</a></div><div class="ttdeci">tripoint_abs_ms global_square_location() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03091">vehicle.cpp:3091</a></div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00828">ui.cpp:828</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a1c359a305b979b2e5fc87d15db51e903"><div class="ttname"><a href="iuse_8cpp.html#a1c359a305b979b2e5fc87d15db51e903">itype_adv_UPS_off</a></div><div class="ttdeci">static const itype_id itype_adv_UPS_off(&quot;adv_UPS_off&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ae89306fd36cf36b57fe05dad0db3f71b"><div class="ttname"><a href="iuse_8cpp.html#ae89306fd36cf36b57fe05dad0db3f71b">itype_UPS_off</a></div><div class="ttdeci">static const itype_id itype_UPS_off(&quot;UPS_off&quot;)</div></div>
<div class="ttc" id="anamespaceactive__tiles_html_a8ee11199630bf6a315debc6f64d0c082"><div class="ttname"><a href="namespaceactive__tiles.html#a8ee11199630bf6a315debc6f64d0c082">active_tiles::furn_at&lt; vehicle_connector_tile &gt;</a></div><div class="ttdeci">template vehicle_connector_tile * furn_at&lt; vehicle_connector_tile &gt;(const tripoint_abs_ms &amp;)</div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_a9eafc067094abf546e276b125d2fc788"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#a9eafc067094abf546e276b125d2fc788">game_menus::inv::titled_filter_menu</a></div><div class="ttdeci">item_location titled_filter_menu(item_filter filter, avatar &amp;you, const std::string &amp;title, const std::string &amp;none_message=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l00265">game_inventory.cpp:265</a></div></div>
<div class="ttc" id="astructvehicle__part_html"><div class="ttname"><a href="structvehicle__part.html">vehicle_part</a></div><div class="ttdoc">Structure, describing vehicle part (i.e., wheel, seat)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00185">vehicle.h:185</a></div></div>
<div class="ttc" id="astructvehicle__part_html_a6944258e64f01a23d5ea254ad2fe71eaaf8a55dcb9257441627b688ad897a0fa3"><div class="ttname"><a href="structvehicle__part.html#a6944258e64f01a23d5ea254ad2fe71eaaf8a55dcb9257441627b688ad897a0fa3">vehicle_part::targets_grid</a></div><div class="ttdeci">@ targets_grid</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00197">vehicle.h:197</a></div></div>
<div class="ttc" id="avpart__position_8h_html_a67bd76da258293f1443f1356308381dc"><div class="ttname"><a href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a></div><div class="ttdeci">vehicle * veh_pointer_or_null(const optional_vpart_position &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00154">vpart_position.h:154</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l00554">item::activate()</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="ui_8cpp_source.html#l00932">uilist::addentry()</a>, <a class="el" href="creature_8h_source.html#l00128">Creature::as_avatar()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="active__tile__data__def_8h_source.html#l00095">vehicle_connector_tile::connected_vehicles</a>, <a class="el" href="bionics_8cpp_source.html#l01355">Character::find_remote_fuel()</a>, <a class="el" href="namespaceactive__tiles.html#a8ee11199630bf6a315debc6f64d0c082">active_tiles::furn_at&lt; vehicle_connector_tile &gt;()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01891">Character::get_remote_fueled_bionic()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="vehicle_8cpp_source.html#l03101">vehicle::global_pos3()</a>, <a class="el" href="vehicle_8cpp_source.html#l03091">vehicle::global_square_location()</a>, <a class="el" href="character_8cpp_source.html#l09571">Character::has_charges()</a>, <a class="el" href="creature_8h_source.html#l00482">Creature::has_flag()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="vehicle_8cpp_source.html#l01554">vehicle::install_part()</a>, <a class="el" href="string__id_8h_source.html#l00298">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="iuse_8cpp.html#a1c359a305b979b2e5fc87d15db51e903">itype_adv_UPS_off</a>, <a class="el" href="iuse_8cpp.html#ae89306fd36cf36b57fe05dad0db3f71b">itype_UPS_off</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="vehicle_8h_source.html#l01792">vehicle::name</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="item_8cpp_source.html#l09426">item::process()</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="coordinates_8h_source.html#l00111">coords::coord_point&lt; Point, Origin, Scale &gt;::raw()</a>, <a class="el" href="bionics_8cpp_source.html#l01442">Character::reset_remote_fuel()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="vehicle_8h_source.html#l00211">vehicle_part::set_flag()</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, <a class="el" href="vehicle_8h_source.html#l00431">vehicle_part::target</a>, <a class="el" href="vehicle_8h_source.html#l00197">vehicle_part::targets_grid</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, <a class="el" href="game__inventory_8cpp_source.html#l00265">game_menus::inv::titled_filter_menu()</a>, <a class="el" href="vpart__position_8h_source.html#l00154">veh_pointer_or_null()</a>, and <a class="el" href="character_8cpp_source.html#l03241">Character::worn_with_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aec7231ff4cad991c6f9bc9bc88026446" name="aec7231ff4cad991c6f9bc9bc88026446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec7231ff4cad991c6f9bc9bc88026446">&#9670;&nbsp;</a></span>call_of_tindalos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::call_of_tindalos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04595">4595</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04596" name="l04596"></a><span class="lineno"> 4596</span>{</div>
<div class="line"><a id="l04597" name="l04597"></a><span class="lineno"> 4597</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 12 ) ) {</div>
<div class="line"><a id="l04598" name="l04598"></a><span class="lineno"> 4598</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.is_cornerfloor( dest ) ) {</div>
<div class="line"><a id="l04599" name="l04599"></a><span class="lineno"> 4599</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( dest, <a class="code hl_variable" href="field__type_8cpp.html#add34ceb641349b4b54b06aa46e16f7eb">fd_tindalos_rift</a>, 3 );</div>
<div class="line"><a id="l04600" name="l04600"></a><span class="lineno"> 4600</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You hear a low-pitched echoing howl.&quot;</span> ) );</div>
<div class="line"><a id="l04601" name="l04601"></a><span class="lineno"> 4601</span>        }</div>
<div class="line"><a id="l04602" name="l04602"></a><span class="lineno"> 4602</span>    }</div>
<div class="line"><a id="l04603" name="l04603"></a><span class="lineno"> 4603</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04604" name="l04604"></a><span class="lineno"> 4604</span>}</div>
<div class="ttc" id="afield__type_8cpp_html_add34ceb641349b4b54b06aa46e16f7eb"><div class="ttname"><a href="field__type_8cpp.html#add34ceb641349b4b54b06aa46e16f7eb">fd_tindalos_rift</a></div><div class="ttdeci">field_type_id fd_tindalos_rift</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00386">field_type.cpp:387</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="field__type_8cpp_source.html#l00387">fd_tindalos_rift</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ab68c2305f7ed2e6a979869a5208d1011" name="ab68c2305f7ed2e6a979869a5208d1011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab68c2305f7ed2e6a979869a5208d1011">&#9670;&nbsp;</a></span>camera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::camera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l07494">7494</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07495" name="l07495"></a><span class="lineno"> 7495</span>{</div>
<div class="line"><a id="l07496" name="l07496"></a><span class="lineno"> 7496</span>    <span class="keyword">enum</span> {c_shot, c_photos, c_monsters, c_upload};</div>
<div class="line"><a id="l07497" name="l07497"></a><span class="lineno"> 7497</span> </div>
<div class="line"><a id="l07498" name="l07498"></a><span class="lineno"> 7498</span>    <span class="comment">// CAMERA_NPC_PHOTOS is old save variable</span></div>
<div class="line"><a id="l07499" name="l07499"></a><span class="lineno"> 7499</span>    <span class="keywordtype">bool</span> found_extended_photos = !it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;CAMERA_NPC_PHOTOS&quot;</span> ).empty() ||</div>
<div class="line"><a id="l07500" name="l07500"></a><span class="lineno"> 7500</span>                                 !it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;CAMERA_EXTENDED_PHOTOS&quot;</span> ).empty();</div>
<div class="line"><a id="l07501" name="l07501"></a><span class="lineno"> 7501</span>    <span class="keywordtype">bool</span> found_monster_photos = !it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;CAMERA_MONSTER_PHOTOS&quot;</span> ).empty();</div>
<div class="line"><a id="l07502" name="l07502"></a><span class="lineno"> 7502</span> </div>
<div class="line"><a id="l07503" name="l07503"></a><span class="lineno"> 7503</span>    <a class="code hl_class" href="classuilist.html">uilist</a> amenu;</div>
<div class="line"><a id="l07504" name="l07504"></a><span class="lineno"> 7504</span>    amenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;What to do with camera?&quot;</span> );</div>
<div class="line"><a id="l07505" name="l07505"></a><span class="lineno"> 7505</span>    amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( c_shot, <span class="keyword">true</span>, <span class="charliteral">&#39;t&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Take a photo&quot;</span> ) );</div>
<div class="line"><a id="l07506" name="l07506"></a><span class="lineno"> 7506</span>    <span class="keywordflow">if</span>( !found_extended_photos &amp;&amp; !found_monster_photos ) {</div>
<div class="line"><a id="l07507" name="l07507"></a><span class="lineno"> 7507</span>        amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( c_photos, <span class="keyword">false</span>, <span class="charliteral">&#39;l&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No photos in memory&quot;</span> ) );</div>
<div class="line"><a id="l07508" name="l07508"></a><span class="lineno"> 7508</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07509" name="l07509"></a><span class="lineno"> 7509</span>        <span class="keywordflow">if</span>( found_extended_photos ) {</div>
<div class="line"><a id="l07510" name="l07510"></a><span class="lineno"> 7510</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( c_photos, <span class="keyword">true</span>, <span class="charliteral">&#39;l&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;List photos&quot;</span> ) );</div>
<div class="line"><a id="l07511" name="l07511"></a><span class="lineno"> 7511</span>        }</div>
<div class="line"><a id="l07512" name="l07512"></a><span class="lineno"> 7512</span>        <span class="keywordflow">if</span>( found_monster_photos ) {</div>
<div class="line"><a id="l07513" name="l07513"></a><span class="lineno"> 7513</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( c_monsters, <span class="keyword">true</span>, <span class="charliteral">&#39;m&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your collection of monsters&quot;</span> ) );</div>
<div class="line"><a id="l07514" name="l07514"></a><span class="lineno"> 7514</span>        }</div>
<div class="line"><a id="l07515" name="l07515"></a><span class="lineno"> 7515</span>        amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( c_upload, <span class="keyword">true</span>, <span class="charliteral">&#39;u&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Upload photos to memory card&quot;</span> ) );</div>
<div class="line"><a id="l07516" name="l07516"></a><span class="lineno"> 7516</span>    }</div>
<div class="line"><a id="l07517" name="l07517"></a><span class="lineno"> 7517</span> </div>
<div class="line"><a id="l07518" name="l07518"></a><span class="lineno"> 7518</span>    amenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l07519" name="l07519"></a><span class="lineno"> 7519</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> choice = amenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l07520" name="l07520"></a><span class="lineno"> 7520</span> </div>
<div class="line"><a id="l07521" name="l07521"></a><span class="lineno"> 7521</span>    <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l07522" name="l07522"></a><span class="lineno"> 7522</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07523" name="l07523"></a><span class="lineno"> 7523</span>    }</div>
<div class="line"><a id="l07524" name="l07524"></a><span class="lineno"> 7524</span> </div>
<div class="line"><a id="l07525" name="l07525"></a><span class="lineno"> 7525</span>    <span class="keywordflow">if</span>( c_shot == choice ) {</div>
<div class="line"><a id="l07526" name="l07526"></a><span class="lineno"> 7526</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> aim_point_ = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;look_around();</div>
<div class="line"><a id="l07527" name="l07527"></a><span class="lineno"> 7527</span> </div>
<div class="line"><a id="l07528" name="l07528"></a><span class="lineno"> 7528</span>        <span class="keywordflow">if</span>( !aim_point_ ) {</div>
<div class="line"><a id="l07529" name="l07529"></a><span class="lineno"> 7529</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l07530" name="l07530"></a><span class="lineno"> 7530</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07531" name="l07531"></a><span class="lineno"> 7531</span>        }</div>
<div class="line"><a id="l07532" name="l07532"></a><span class="lineno"> 7532</span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> aim_point = *aim_point_;</div>
<div class="line"><a id="l07533" name="l07533"></a><span class="lineno"> 7533</span>        <span class="keywordtype">bool</span> incorrect_focus = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07534" name="l07534"></a><span class="lineno"> 7534</span>        <a class="code hl_class" href="classtripoint__range.html">tripoint_range&lt;tripoint&gt;</a> aim_bounds = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( aim_point, 2 );</div>
<div class="line"><a id="l07535" name="l07535"></a><span class="lineno"> 7535</span> </div>
<div class="line"><a id="l07536" name="l07536"></a><span class="lineno"> 7536</span>        std::vector&lt;tripoint&gt; <a class="code hl_typedef" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a> = <a class="code hl_function" href="coordinates_8h.html#a4a34f7ffa4c18effba7f8239c68c8738">line_to</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), aim_point, 0, 0 );</div>
<div class="line"><a id="l07537" name="l07537"></a><span class="lineno"> 7537</span>        <a class="code hl_typedef" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a>.push_back( aim_point );</div>
<div class="line"><a id="l07538" name="l07538"></a><span class="lineno"> 7538</span> </div>
<div class="line"><a id="l07539" name="l07539"></a><span class="lineno"> 7539</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 50;</div>
<div class="line"><a id="l07540" name="l07540"></a><span class="lineno"> 7540</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 8, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357">sounds::sound_t::activity</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Click.&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;tool&quot;</span>,</div>
<div class="line"><a id="l07541" name="l07541"></a><span class="lineno"> 7541</span>                       <span class="stringliteral">&quot;camera_shutter&quot;</span> );</div>
<div class="line"><a id="l07542" name="l07542"></a><span class="lineno"> 7542</span> </div>
<div class="line"><a id="l07543" name="l07543"></a><span class="lineno"> 7543</span>        <span class="keywordflow">for</span>( std::vector&lt;tripoint&gt;::iterator point_it = <a class="code hl_typedef" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a>.begin();</div>
<div class="line"><a id="l07544" name="l07544"></a><span class="lineno"> 7544</span>             point_it != <a class="code hl_typedef" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a>.end();</div>
<div class="line"><a id="l07545" name="l07545"></a><span class="lineno"> 7545</span>             ++point_it ) {</div>
<div class="line"><a id="l07546" name="l07546"></a><span class="lineno"> 7546</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> trajectory_point = *point_it;</div>
<div class="line"><a id="l07547" name="l07547"></a><span class="lineno"> 7547</span>            <span class="keywordflow">if</span>( point_it != <a class="code hl_typedef" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a>.end() ) {</div>
<div class="line"><a id="l07548" name="l07548"></a><span class="lineno"> 7548</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> next_point = *( point_it + 1 ); <span class="comment">// Trajectory ends on last visible tile</span></div>
<div class="line"><a id="l07549" name="l07549"></a><span class="lineno"> 7549</span>                <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.sees( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), next_point, <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), next_point ) + 3 ) ) {</div>
<div class="line"><a id="l07550" name="l07550"></a><span class="lineno"> 7550</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have the wrong camera focus.&quot;</span> ) );</div>
<div class="line"><a id="l07551" name="l07551"></a><span class="lineno"> 7551</span>                    incorrect_focus = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07552" name="l07552"></a><span class="lineno"> 7552</span>                    <span class="comment">// recalculate target point</span></div>
<div class="line"><a id="l07553" name="l07553"></a><span class="lineno"> 7553</span>                    aim_point = trajectory_point;</div>
<div class="line"><a id="l07554" name="l07554"></a><span class="lineno"> 7554</span>                    aim_bounds = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( trajectory_point, 2 );</div>
<div class="line"><a id="l07555" name="l07555"></a><span class="lineno"> 7555</span>                }</div>
<div class="line"><a id="l07556" name="l07556"></a><span class="lineno"> 7556</span>            }</div>
<div class="line"><a id="l07557" name="l07557"></a><span class="lineno"> 7557</span> </div>
<div class="line"><a id="l07558" name="l07558"></a><span class="lineno"> 7558</span>            <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( trajectory_point, true );</div>
<div class="line"><a id="l07559" name="l07559"></a><span class="lineno"> 7559</span>            <a class="code hl_class" href="classplayer.html">player</a> *<span class="keyword">const</span> guy = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classplayer.html">player</a>&gt;( trajectory_point );</div>
<div class="line"><a id="l07560" name="l07560"></a><span class="lineno"> 7560</span>            <span class="keywordflow">if</span>( mon || guy || trajectory_point == aim_point ) {</div>
<div class="line"><a id="l07561" name="l07561"></a><span class="lineno"> 7561</span>                <span class="keywordtype">int</span> dist = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), trajectory_point );</div>
<div class="line"><a id="l07562" name="l07562"></a><span class="lineno"> 7562</span> </div>
<div class="line"><a id="l07563" name="l07563"></a><span class="lineno"> 7563</span>                <span class="keywordtype">int</span> camera_bonus = it-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;CAMERA_PRO&quot;</span> ) ? 10 : 0;</div>
<div class="line"><a id="l07564" name="l07564"></a><span class="lineno"> 7564</span>                <span class="keywordtype">int</span> photo_quality = 20 - <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( dist, dist * 2 ) * 2 + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( camera_bonus / 2, camera_bonus );</div>
<div class="line"><a id="l07565" name="l07565"></a><span class="lineno"> 7565</span>                <span class="keywordflow">if</span>( photo_quality &gt; 5 ) {</div>
<div class="line"><a id="l07566" name="l07566"></a><span class="lineno"> 7566</span>                    photo_quality = 5;</div>
<div class="line"><a id="l07567" name="l07567"></a><span class="lineno"> 7567</span>                }</div>
<div class="line"><a id="l07568" name="l07568"></a><span class="lineno"> 7568</span>                <span class="keywordflow">if</span>( photo_quality &lt; 0 ) {</div>
<div class="line"><a id="l07569" name="l07569"></a><span class="lineno"> 7569</span>                    photo_quality = 0;</div>
<div class="line"><a id="l07570" name="l07570"></a><span class="lineno"> 7570</span>                }</div>
<div class="line"><a id="l07571" name="l07571"></a><span class="lineno"> 7571</span>                <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">is_blind</a>() ) {</div>
<div class="line"><a id="l07572" name="l07572"></a><span class="lineno"> 7572</span>                    photo_quality /= 2;</div>
<div class="line"><a id="l07573" name="l07573"></a><span class="lineno"> 7573</span>                }</div>
<div class="line"><a id="l07574" name="l07574"></a><span class="lineno"> 7574</span> </div>
<div class="line"><a id="l07575" name="l07575"></a><span class="lineno"> 7575</span>                <span class="keywordflow">if</span>( mon ) {</div>
<div class="line"><a id="l07576" name="l07576"></a><span class="lineno"> 7576</span>                    <a class="code hl_class" href="classmonster.html">monster</a> &amp;z = *mon;</div>
<div class="line"><a id="l07577" name="l07577"></a><span class="lineno"> 7577</span> </div>
<div class="line"><a id="l07578" name="l07578"></a><span class="lineno"> 7578</span>                    <span class="comment">// shoot past small monsters and hallucinations</span></div>
<div class="line"><a id="l07579" name="l07579"></a><span class="lineno"> 7579</span>                    <span class="keywordflow">if</span>( trajectory_point != aim_point &amp;&amp; ( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#aba4c84ff42939b47ff74896ed326a98f">size</a> &lt;= <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">MS_SMALL</a> || z.<a class="code hl_function" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ||</div>
<div class="line"><a id="l07580" name="l07580"></a><span class="lineno"> 7580</span>                                                           z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="iuse_8cpp.html#ab1410ec77eb6836c1b61f2937606eb6e">HALLUCINATION</a> ) ) ) {</div>
<div class="line"><a id="l07581" name="l07581"></a><span class="lineno"> 7581</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l07582" name="l07582"></a><span class="lineno"> 7582</span>                    }</div>
<div class="line"><a id="l07583" name="l07583"></a><span class="lineno"> 7583</span>                    <span class="keywordflow">if</span>( !aim_bounds.<a class="code hl_function" href="classtripoint__range.html#a1f85e617be27ca5b5a34f7c9e0d65195">is_point_inside</a>( trajectory_point ) ) {</div>
<div class="line"><a id="l07584" name="l07584"></a><span class="lineno"> 7584</span>                        <span class="comment">// take a photo of the monster that&#39;s in the way</span></div>
<div class="line"><a id="l07585" name="l07585"></a><span class="lineno"> 7585</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A %s got in the way of your photo.&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l07586" name="l07586"></a><span class="lineno"> 7586</span>                        incorrect_focus = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07587" name="l07587"></a><span class="lineno"> 7587</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( trajectory_point != aim_point ) { <span class="comment">// shoot past mon that will be in photo anyway</span></div>
<div class="line"><a id="l07588" name="l07588"></a><span class="lineno"> 7588</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l07589" name="l07589"></a><span class="lineno"> 7589</span>                    }</div>
<div class="line"><a id="l07590" name="l07590"></a><span class="lineno"> 7590</span>                    <span class="comment">// get an special message if the target is a hallucination</span></div>
<div class="line"><a id="l07591" name="l07591"></a><span class="lineno"> 7591</span>                    <span class="keywordflow">if</span>( trajectory_point == aim_point &amp;&amp; ( z.<a class="code hl_function" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ||</div>
<div class="line"><a id="l07592" name="l07592"></a><span class="lineno"> 7592</span>                                                           z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="iuse_8cpp.html#ab1410ec77eb6836c1b61f2937606eb6e">HALLUCINATION</a> ) ) ) {</div>
<div class="line"><a id="l07593" name="l07593"></a><span class="lineno"> 7593</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Strange… there&#39;s nothing in the center of picture?&quot;</span> ) );</div>
<div class="line"><a id="l07594" name="l07594"></a><span class="lineno"> 7594</span>                    }</div>
<div class="line"><a id="l07595" name="l07595"></a><span class="lineno"> 7595</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( guy ) {</div>
<div class="line"><a id="l07596" name="l07596"></a><span class="lineno"> 7596</span>                    <span class="keywordflow">if</span>( trajectory_point == aim_point &amp;&amp; guy-&gt;is_hallucination() ) {</div>
<div class="line"><a id="l07597" name="l07597"></a><span class="lineno"> 7597</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Strange… %s&#39;s not visible on the picture?&quot;</span> ), guy-&gt;name );</div>
<div class="line"><a id="l07598" name="l07598"></a><span class="lineno"> 7598</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !aim_bounds.<a class="code hl_function" href="classtripoint__range.html#a1f85e617be27ca5b5a34f7c9e0d65195">is_point_inside</a>( trajectory_point ) ) {</div>
<div class="line"><a id="l07599" name="l07599"></a><span class="lineno"> 7599</span>                        <span class="comment">// take a photo of the monster that&#39;s in the way</span></div>
<div class="line"><a id="l07600" name="l07600"></a><span class="lineno"> 7600</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s got in the way of your photo.&quot;</span> ), guy-&gt;name );</div>
<div class="line"><a id="l07601" name="l07601"></a><span class="lineno"> 7601</span>                        incorrect_focus = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07602" name="l07602"></a><span class="lineno"> 7602</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( trajectory_point != aim_point ) {  <span class="comment">// shoot past guy that will be in photo anyway</span></div>
<div class="line"><a id="l07603" name="l07603"></a><span class="lineno"> 7603</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l07604" name="l07604"></a><span class="lineno"> 7604</span>                    }</div>
<div class="line"><a id="l07605" name="l07605"></a><span class="lineno"> 7605</span>                }</div>
<div class="line"><a id="l07606" name="l07606"></a><span class="lineno"> 7606</span>                <span class="keywordflow">if</span>( incorrect_focus ) {</div>
<div class="line"><a id="l07607" name="l07607"></a><span class="lineno"> 7607</span>                    photo_quality = photo_quality == 0 ? 0 : photo_quality - 1;</div>
<div class="line"><a id="l07608" name="l07608"></a><span class="lineno"> 7608</span>                }</div>
<div class="line"><a id="l07609" name="l07609"></a><span class="lineno"> 7609</span> </div>
<div class="line"><a id="l07610" name="l07610"></a><span class="lineno"> 7610</span>                std::vector&lt;extended_photo_def&gt; extended_photos;</div>
<div class="line"><a id="l07611" name="l07611"></a><span class="lineno"> 7611</span>                std::vector&lt;monster *&gt; monster_vec;</div>
<div class="line"><a id="l07612" name="l07612"></a><span class="lineno"> 7612</span>                std::vector&lt;player *&gt; player_vec;</div>
<div class="line"><a id="l07613" name="l07613"></a><span class="lineno"> 7613</span>                <a class="code hl_struct" href="structextended__photo__def.html">extended_photo_def</a> photo = <a class="code hl_function" href="iuse_8cpp.html#ad96b2f1a64a05e584f2e633242e59f27">photo_def_for_camera_point</a>( trajectory_point, p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), monster_vec,</div>
<div class="line"><a id="l07614" name="l07614"></a><span class="lineno"> 7614</span>                                           player_vec );</div>
<div class="line"><a id="l07615" name="l07615"></a><span class="lineno"> 7615</span>                photo.<a class="code hl_variable" href="structextended__photo__def.html#a1bc0d9744770af96b73d6c1479c1d8de">quality</a> = photo_quality;</div>
<div class="line"><a id="l07616" name="l07616"></a><span class="lineno"> 7616</span> </div>
<div class="line"><a id="l07617" name="l07617"></a><span class="lineno"> 7617</span>                <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l07618" name="l07618"></a><span class="lineno"> 7618</span>                    <a class="code hl_function" href="iuse_8cpp.html#a62dd230128fcf5f966afc899e1bae461">item_read_extended_photos</a>( *it, extended_photos, <span class="stringliteral">&quot;CAMERA_EXTENDED_PHOTOS&quot;</span> );</div>
<div class="line"><a id="l07619" name="l07619"></a><span class="lineno"> 7619</span>                    extended_photos.push_back( photo );</div>
<div class="line"><a id="l07620" name="l07620"></a><span class="lineno"> 7620</span>                    <a class="code hl_function" href="iuse_8cpp.html#a7c338209243b2dcc17cdaca1f0a68112">item_write_extended_photos</a>( *it, extended_photos, <span class="stringliteral">&quot;CAMERA_EXTENDED_PHOTOS&quot;</span> );</div>
<div class="line"><a id="l07621" name="l07621"></a><span class="lineno"> 7621</span>                } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonError.html">JsonError</a> &amp;e ) {</div>
<div class="line"><a id="l07622" name="l07622"></a><span class="lineno"> 7622</span>                    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Error when adding new photo (loaded photos = %i): %s&quot;</span>, extended_photos.size(),</div>
<div class="line"><a id="l07623" name="l07623"></a><span class="lineno"> 7623</span>                              e.<a class="code hl_function" href="classJsonError.html#a6e7c0db4458ef6049d21735fb443e212">c_str</a>() );</div>
<div class="line"><a id="l07624" name="l07624"></a><span class="lineno"> 7624</span>                }</div>
<div class="line"><a id="l07625" name="l07625"></a><span class="lineno"> 7625</span> </div>
<div class="line"><a id="l07626" name="l07626"></a><span class="lineno"> 7626</span>                <span class="keyword">const</span> <span class="keywordtype">bool</span> selfie = <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( player_vec.begin(), player_vec.end(), p ) != player_vec.end();</div>
<div class="line"><a id="l07627" name="l07627"></a><span class="lineno"> 7627</span> </div>
<div class="line"><a id="l07628" name="l07628"></a><span class="lineno"> 7628</span>                <span class="keywordflow">if</span>( selfie ) {</div>
<div class="line"><a id="l07629" name="l07629"></a><span class="lineno"> 7629</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You took a selfie.&quot;</span> ) );</div>
<div class="line"><a id="l07630" name="l07630"></a><span class="lineno"> 7630</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07631" name="l07631"></a><span class="lineno"> 7631</span>                    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">is_blind</a>() ) {</div>
<div class="line"><a id="l07632" name="l07632"></a><span class="lineno"> 7632</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You took a photo of %s.&quot;</span> ), photo.<a class="code hl_variable" href="structextended__photo__def.html#a2383e70d4cb855672d6d4c86af8ca323">name</a> );</div>
<div class="line"><a id="l07633" name="l07633"></a><span class="lineno"> 7633</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07634" name="l07634"></a><span class="lineno"> 7634</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You took a photo of %1$s. It is %2$s.&quot;</span> ), photo.<a class="code hl_variable" href="structextended__photo__def.html#a2383e70d4cb855672d6d4c86af8ca323">name</a>,</div>
<div class="line"><a id="l07635" name="l07635"></a><span class="lineno"> 7635</span>                                              <a class="code hl_function" href="iuse_8cpp.html#a9dafb5bfb47673f6289a30a37384a24b">photo_quality_name</a>( photo_quality ) );</div>
<div class="line"><a id="l07636" name="l07636"></a><span class="lineno"> 7636</span>                    }</div>
<div class="line"><a id="l07637" name="l07637"></a><span class="lineno"> 7637</span>                    std::vector&lt;std::string&gt; blinded_names;</div>
<div class="line"><a id="l07638" name="l07638"></a><span class="lineno"> 7638</span>                    <span class="keywordflow">for</span>( <a class="code hl_class" href="classmonster.html">monster</a> * <span class="keyword">const</span> &amp;monster_p : monster_vec ) {</div>
<div class="line"><a id="l07639" name="l07639"></a><span class="lineno"> 7639</span>                        <span class="keywordflow">if</span>( dist &lt; 4 &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( dist + 2 ) &amp;&amp; monster_p-&gt;has_flag( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a1a9d43dc1ddecbc20beecf1760789d85">MF_SEES</a> ) ) {</div>
<div class="line"><a id="l07640" name="l07640"></a><span class="lineno"> 7640</span>                            monster_p-&gt;add_effect( <a class="code hl_variable" href="iuse_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5_turns, 10_turns ) );</div>
<div class="line"><a id="l07641" name="l07641"></a><span class="lineno"> 7641</span>                            blinded_names.push_back( monster_p-&gt;name() );</div>
<div class="line"><a id="l07642" name="l07642"></a><span class="lineno"> 7642</span>                        }</div>
<div class="line"><a id="l07643" name="l07643"></a><span class="lineno"> 7643</span>                    }</div>
<div class="line"><a id="l07644" name="l07644"></a><span class="lineno"> 7644</span>                    <span class="keywordflow">for</span>( <a class="code hl_class" href="classplayer.html">player</a> * <span class="keyword">const</span> &amp;player_p : player_vec ) {</div>
<div class="line"><a id="l07645" name="l07645"></a><span class="lineno"> 7645</span>                        <span class="keywordflow">if</span>( dist &lt; 4 &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( dist + 2 ) &amp;&amp; !player_p-&gt;is_blind() ) {</div>
<div class="line"><a id="l07646" name="l07646"></a><span class="lineno"> 7646</span>                            player_p-&gt;add_effect( <a class="code hl_variable" href="iuse_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5_turns, 10_turns ) );</div>
<div class="line"><a id="l07647" name="l07647"></a><span class="lineno"> 7647</span>                            blinded_names.push_back( player_p-&gt;name );</div>
<div class="line"><a id="l07648" name="l07648"></a><span class="lineno"> 7648</span>                        }</div>
<div class="line"><a id="l07649" name="l07649"></a><span class="lineno"> 7649</span>                    }</div>
<div class="line"><a id="l07650" name="l07650"></a><span class="lineno"> 7650</span>                    <span class="keywordflow">if</span>( !blinded_names.empty() ) {</div>
<div class="line"><a id="l07651" name="l07651"></a><span class="lineno"> 7651</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s looks blinded.&quot;</span> ), <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( blinded_names.begin(),</div>
<div class="line"><a id="l07652" name="l07652"></a><span class="lineno"> 7652</span>                        blinded_names.end(), []( <span class="keyword">const</span> std::string &amp; it ) {</div>
<div class="line"><a id="l07653" name="l07653"></a><span class="lineno"> 7653</span>                            return colorize( it, c_light_blue );</div>
<div class="line"><a id="l07654" name="l07654"></a><span class="lineno"> 7654</span>                        } ) );</div>
<div class="line"><a id="l07655" name="l07655"></a><span class="lineno"> 7655</span>                    }</div>
<div class="line"><a id="l07656" name="l07656"></a><span class="lineno"> 7656</span>                }</div>
<div class="line"><a id="l07657" name="l07657"></a><span class="lineno"> 7657</span>                <span class="keywordflow">if</span>( !monster_vec.empty() ) {</div>
<div class="line"><a id="l07658" name="l07658"></a><span class="lineno"> 7658</span>                    <a class="code hl_function" href="iuse_8cpp.html#a08c831de45f9f624cd2b2c2fc8e56eac">item_save_monsters</a>( *p, *it, monster_vec, photo_quality );</div>
<div class="line"><a id="l07659" name="l07659"></a><span class="lineno"> 7659</span>                }</div>
<div class="line"><a id="l07660" name="l07660"></a><span class="lineno"> 7660</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07661" name="l07661"></a><span class="lineno"> 7661</span>            }</div>
<div class="line"><a id="l07662" name="l07662"></a><span class="lineno"> 7662</span>        }</div>
<div class="line"><a id="l07663" name="l07663"></a><span class="lineno"> 7663</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07664" name="l07664"></a><span class="lineno"> 7664</span>    }</div>
<div class="line"><a id="l07665" name="l07665"></a><span class="lineno"> 7665</span> </div>
<div class="line"><a id="l07666" name="l07666"></a><span class="lineno"> 7666</span>    <span class="keywordflow">if</span>( c_photos == choice ) {</div>
<div class="line"><a id="l07667" name="l07667"></a><span class="lineno"> 7667</span>        <a class="code hl_function" href="iuse_8cpp.html#a4a212199907f7b264e774e9b9c9d444d">show_photo_selection</a>( *p, *it, <span class="stringliteral">&quot;CAMERA_EXTENDED_PHOTOS&quot;</span> );</div>
<div class="line"><a id="l07668" name="l07668"></a><span class="lineno"> 7668</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07669" name="l07669"></a><span class="lineno"> 7669</span>    }</div>
<div class="line"><a id="l07670" name="l07670"></a><span class="lineno"> 7670</span> </div>
<div class="line"><a id="l07671" name="l07671"></a><span class="lineno"> 7671</span>    <span class="keywordflow">if</span>( c_monsters == choice ) {</div>
<div class="line"><a id="l07672" name="l07672"></a><span class="lineno"> 7672</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">is_blind</a>() ) {</div>
<div class="line"><a id="l07673" name="l07673"></a><span class="lineno"> 7673</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t see the camera screen, you&#39;re blind.&quot;</span> ) );</div>
<div class="line"><a id="l07674" name="l07674"></a><span class="lineno"> 7674</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07675" name="l07675"></a><span class="lineno"> 7675</span>        }</div>
<div class="line"><a id="l07676" name="l07676"></a><span class="lineno"> 7676</span>        <a class="code hl_class" href="classuilist.html">uilist</a> pmenu;</div>
<div class="line"><a id="l07677" name="l07677"></a><span class="lineno"> 7677</span> </div>
<div class="line"><a id="l07678" name="l07678"></a><span class="lineno"> 7678</span>        pmenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your collection of monsters:&quot;</span> );</div>
<div class="line"><a id="l07679" name="l07679"></a><span class="lineno"> 7679</span> </div>
<div class="line"><a id="l07680" name="l07680"></a><span class="lineno"> 7680</span>        std::vector&lt;mtype_id&gt; monster_photos;</div>
<div class="line"><a id="l07681" name="l07681"></a><span class="lineno"> 7681</span>        std::vector&lt;std::string&gt; descriptions;</div>
<div class="line"><a id="l07682" name="l07682"></a><span class="lineno"> 7682</span> </div>
<div class="line"><a id="l07683" name="l07683"></a><span class="lineno"> 7683</span>        std::istringstream f_mon( it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;CAMERA_MONSTER_PHOTOS&quot;</span> ) );</div>
<div class="line"><a id="l07684" name="l07684"></a><span class="lineno"> 7684</span>        std::string s;</div>
<div class="line"><a id="l07685" name="l07685"></a><span class="lineno"> 7685</span>        <span class="keywordtype">int</span> k = 0;</div>
<div class="line"><a id="l07686" name="l07686"></a><span class="lineno"> 7686</span>        <span class="keywordflow">while</span>( getline( f_mon, s, <span class="charliteral">&#39;,&#39;</span> ) ) {</div>
<div class="line"><a id="l07687" name="l07687"></a><span class="lineno"> 7687</span> </div>
<div class="line"><a id="l07688" name="l07688"></a><span class="lineno"> 7688</span>            <span class="keywordflow">if</span>( s.empty() ) {</div>
<div class="line"><a id="l07689" name="l07689"></a><span class="lineno"> 7689</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l07690" name="l07690"></a><span class="lineno"> 7690</span>            }</div>
<div class="line"><a id="l07691" name="l07691"></a><span class="lineno"> 7691</span> </div>
<div class="line"><a id="l07692" name="l07692"></a><span class="lineno"> 7692</span>            monster_photos.push_back( <a class="code hl_typedef" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a>( s ) );</div>
<div class="line"><a id="l07693" name="l07693"></a><span class="lineno"> 7693</span> </div>
<div class="line"><a id="l07694" name="l07694"></a><span class="lineno"> 7694</span>            std::string menu_str;</div>
<div class="line"><a id="l07695" name="l07695"></a><span class="lineno"> 7695</span> </div>
<div class="line"><a id="l07696" name="l07696"></a><span class="lineno"> 7696</span>            <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> dummy( monster_photos.back() );</div>
<div class="line"><a id="l07697" name="l07697"></a><span class="lineno"> 7697</span>            menu_str = dummy.name();</div>
<div class="line"><a id="l07698" name="l07698"></a><span class="lineno"> 7698</span>            descriptions.push_back( dummy.type-&gt;get_description() );</div>
<div class="line"><a id="l07699" name="l07699"></a><span class="lineno"> 7699</span> </div>
<div class="line"><a id="l07700" name="l07700"></a><span class="lineno"> 7700</span>            getline( f_mon, s, <span class="charliteral">&#39;,&#39;</span> );</div>
<div class="line"><a id="l07701" name="l07701"></a><span class="lineno"> 7701</span>            <span class="keywordtype">char</span> *chq = &amp;s[0];</div>
<div class="line"><a id="l07702" name="l07702"></a><span class="lineno"> 7702</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_struct" href="structquality.html">quality</a> = atoi( chq );</div>
<div class="line"><a id="l07703" name="l07703"></a><span class="lineno"> 7703</span> </div>
<div class="line"><a id="l07704" name="l07704"></a><span class="lineno"> 7704</span>            menu_str += <span class="stringliteral">&quot; [&quot;</span> + <a class="code hl_function" href="iuse_8cpp.html#a9dafb5bfb47673f6289a30a37384a24b">photo_quality_name</a>( <a class="code hl_struct" href="structquality.html">quality</a> ) + <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a id="l07705" name="l07705"></a><span class="lineno"> 7705</span> </div>
<div class="line"><a id="l07706" name="l07706"></a><span class="lineno"> 7706</span>            pmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( k++, <span class="keyword">true</span>, -1, menu_str.c_str() );</div>
<div class="line"><a id="l07707" name="l07707"></a><span class="lineno"> 7707</span>        }</div>
<div class="line"><a id="l07708" name="l07708"></a><span class="lineno"> 7708</span> </div>
<div class="line"><a id="l07709" name="l07709"></a><span class="lineno"> 7709</span>        <span class="keywordtype">int</span> choice;</div>
<div class="line"><a id="l07710" name="l07710"></a><span class="lineno"> 7710</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l07711" name="l07711"></a><span class="lineno"> 7711</span>            pmenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l07712" name="l07712"></a><span class="lineno"> 7712</span>            choice = pmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l07713" name="l07713"></a><span class="lineno"> 7713</span> </div>
<div class="line"><a id="l07714" name="l07714"></a><span class="lineno"> 7714</span>            <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l07715" name="l07715"></a><span class="lineno"> 7715</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l07716" name="l07716"></a><span class="lineno"> 7716</span>            }</div>
<div class="line"><a id="l07717" name="l07717"></a><span class="lineno"> 7717</span> </div>
<div class="line"><a id="l07718" name="l07718"></a><span class="lineno"> 7718</span>            <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <span class="stringliteral">&quot;%s&quot;</span>, descriptions[choice].c_str() );</div>
<div class="line"><a id="l07719" name="l07719"></a><span class="lineno"> 7719</span> </div>
<div class="line"><a id="l07720" name="l07720"></a><span class="lineno"> 7720</span>        } <span class="keywordflow">while</span>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l07721" name="l07721"></a><span class="lineno"> 7721</span> </div>
<div class="line"><a id="l07722" name="l07722"></a><span class="lineno"> 7722</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07723" name="l07723"></a><span class="lineno"> 7723</span>    }</div>
<div class="line"><a id="l07724" name="l07724"></a><span class="lineno"> 7724</span> </div>
<div class="line"><a id="l07725" name="l07725"></a><span class="lineno"> 7725</span>    <span class="keywordflow">if</span>( c_upload == choice ) {</div>
<div class="line"><a id="l07726" name="l07726"></a><span class="lineno"> 7726</span> </div>
<div class="line"><a id="l07727" name="l07727"></a><span class="lineno"> 7727</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">is_blind</a>() ) {</div>
<div class="line"><a id="l07728" name="l07728"></a><span class="lineno"> 7728</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t see the camera screen, you&#39;re blind.&quot;</span> ) );</div>
<div class="line"><a id="l07729" name="l07729"></a><span class="lineno"> 7729</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07730" name="l07730"></a><span class="lineno"> 7730</span>        }</div>
<div class="line"><a id="l07731" name="l07731"></a><span class="lineno"> 7731</span> </div>
<div class="line"><a id="l07732" name="l07732"></a><span class="lineno"> 7732</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 2_seconds );</div>
<div class="line"><a id="l07733" name="l07733"></a><span class="lineno"> 7733</span> </div>
<div class="line"><a id="l07734" name="l07734"></a><span class="lineno"> 7734</span>        <a class="code hl_class" href="classavatar.html">avatar</a> *you = p-&gt;<a class="code hl_function" href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">as_avatar</a>();</div>
<div class="line"><a id="l07735" name="l07735"></a><span class="lineno"> 7735</span>        <a class="code hl_class" href="classitem__location.html">item_location</a> loc;</div>
<div class="line"><a id="l07736" name="l07736"></a><span class="lineno"> 7736</span>        <span class="keywordflow">if</span>( you != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l07737" name="l07737"></a><span class="lineno"> 7737</span>            loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a9eafc067094abf546e276b125d2fc788">game_menus::inv::titled_filter_menu</a>( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l07738" name="l07738"></a><span class="lineno"> 7738</span>                <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MC_MOBILE&quot;</span> );</div>
<div class="line"><a id="l07739" name="l07739"></a><span class="lineno"> 7739</span>            }, *you, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Insert memory card&quot;</span> ) );</div>
<div class="line"><a id="l07740" name="l07740"></a><span class="lineno"> 7740</span>        }</div>
<div class="line"><a id="l07741" name="l07741"></a><span class="lineno"> 7741</span>        <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l07742" name="l07742"></a><span class="lineno"> 7742</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item!&quot;</span> ) );</div>
<div class="line"><a id="l07743" name="l07743"></a><span class="lineno"> 7743</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07744" name="l07744"></a><span class="lineno"> 7744</span>        }</div>
<div class="line"><a id="l07745" name="l07745"></a><span class="lineno"> 7745</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;mc = *loc;</div>
<div class="line"><a id="l07746" name="l07746"></a><span class="lineno"> 7746</span> </div>
<div class="line"><a id="l07747" name="l07747"></a><span class="lineno"> 7747</span>        <span class="keywordflow">if</span>( !mc.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MC_MOBILE&quot;</span> ) ) {</div>
<div class="line"><a id="l07748" name="l07748"></a><span class="lineno"> 7748</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This is not a compatible memory card.&quot;</span> ) );</div>
<div class="line"><a id="l07749" name="l07749"></a><span class="lineno"> 7749</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07750" name="l07750"></a><span class="lineno"> 7750</span>        }</div>
<div class="line"><a id="l07751" name="l07751"></a><span class="lineno"> 7751</span> </div>
<div class="line"><a id="l07752" name="l07752"></a><span class="lineno"> 7752</span>        <a class="code hl_function" href="iuse_8cpp.html#aed5af7221728712d39314e54c08791ba">init_memory_card_with_random_stuff</a>( mc );</div>
<div class="line"><a id="l07753" name="l07753"></a><span class="lineno"> 7753</span> </div>
<div class="line"><a id="l07754" name="l07754"></a><span class="lineno"> 7754</span>        <span class="keywordflow">if</span>( mc.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MC_ENCRYPTED&quot;</span> ) ) {</div>
<div class="line"><a id="l07755" name="l07755"></a><span class="lineno"> 7755</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This memory card is encrypted.  Format and clear data?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l07756" name="l07756"></a><span class="lineno"> 7756</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07757" name="l07757"></a><span class="lineno"> 7757</span>            }</div>
<div class="line"><a id="l07758" name="l07758"></a><span class="lineno"> 7758</span>        }</div>
<div class="line"><a id="l07759" name="l07759"></a><span class="lineno"> 7759</span>        <span class="keywordflow">if</span>( mc.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MC_HAS_DATA&quot;</span> ) ) {</div>
<div class="line"><a id="l07760" name="l07760"></a><span class="lineno"> 7760</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Are you sure you want to clear the old data on the card?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l07761" name="l07761"></a><span class="lineno"> 7761</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07762" name="l07762"></a><span class="lineno"> 7762</span>            }</div>
<div class="line"><a id="l07763" name="l07763"></a><span class="lineno"> 7763</span>        }</div>
<div class="line"><a id="l07764" name="l07764"></a><span class="lineno"> 7764</span> </div>
<div class="line"><a id="l07765" name="l07765"></a><span class="lineno"> 7765</span>        mc.<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a78a1f8e858e92cd31d34012204a34e68">itype_mobile_memory_card</a> );</div>
<div class="line"><a id="l07766" name="l07766"></a><span class="lineno"> 7766</span>        mc.<a class="code hl_function" href="classitem.html#acf9b4242998c869e09a76406ffe0bb34">clear_vars</a>();</div>
<div class="line"><a id="l07767" name="l07767"></a><span class="lineno"> 7767</span>        mc.<a class="code hl_function" href="classitem.html#aa4529b4c18a10ffd5a1f111536ad879b">unset_flags</a>();</div>
<div class="line"><a id="l07768" name="l07768"></a><span class="lineno"> 7768</span>        mc.<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <span class="stringliteral">&quot;MC_HAS_DATA&quot;</span> );</div>
<div class="line"><a id="l07769" name="l07769"></a><span class="lineno"> 7769</span> </div>
<div class="line"><a id="l07770" name="l07770"></a><span class="lineno"> 7770</span>        mc.<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;MC_MONSTER_PHOTOS&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;CAMERA_MONSTER_PHOTOS&quot;</span> ) );</div>
<div class="line"><a id="l07771" name="l07771"></a><span class="lineno"> 7771</span>        mc.<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;MC_EXTENDED_PHOTOS&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;CAMERA_EXTENDED_PHOTOS&quot;</span> ) );</div>
<div class="line"><a id="l07772" name="l07772"></a><span class="lineno"> 7772</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l07773" name="l07773"></a><span class="lineno"> 7773</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You upload your photos and monster collection to memory card.&quot;</span> ) );</div>
<div class="line"><a id="l07774" name="l07774"></a><span class="lineno"> 7774</span> </div>
<div class="line"><a id="l07775" name="l07775"></a><span class="lineno"> 7775</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07776" name="l07776"></a><span class="lineno"> 7776</span>    }</div>
<div class="line"><a id="l07777" name="l07777"></a><span class="lineno"> 7777</span> </div>
<div class="line"><a id="l07778" name="l07778"></a><span class="lineno"> 7778</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07779" name="l07779"></a><span class="lineno"> 7779</span>}</div>
<div class="ttc" id="aclassCharacter_html_a4a9671b1264d53cb74469e78000e2544"><div class="ttname"><a href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">Character::is_blind</a></div><div class="ttdeci">bool is_blind() const</div><div class="ttdoc">Returns true if the player isn't able to see.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06324">character.cpp:6324</a></div></div>
<div class="ttc" id="aclassJsonError_html"><div class="ttname"><a href="classJsonError.html">JsonError</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00050">json.h:51</a></div></div>
<div class="ttc" id="aclassJsonError_html_a6e7c0db4458ef6049d21735fb443e212"><div class="ttname"><a href="classJsonError.html#a6e7c0db4458ef6049d21735fb443e212">JsonError::c_str</a></div><div class="ttdeci">const char * c_str() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00054">json.h:54</a></div></div>
<div class="ttc" id="aclassitem_html_aa4529b4c18a10ffd5a1f111536ad879b"><div class="ttname"><a href="classitem.html#aa4529b4c18a10ffd5a1f111536ad879b">item::unset_flags</a></div><div class="ttdeci">void unset_flags()</div><div class="ttdoc">Removes all item specific flags.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05177">item.cpp:5177</a></div></div>
<div class="ttc" id="aclassitem_html_aaf0e79cb1bc190daa4804cfd62f279c4"><div class="ttname"><a href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const std::string &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05221">item.cpp:5221</a></div></div>
<div class="ttc" id="aclassitem_html_acf9b4242998c869e09a76406ffe0bb34"><div class="ttname"><a href="classitem.html#acf9b4242998c869e09a76406ffe0bb34">item::clear_vars</a></div><div class="ttdeci">void clear_vars()</div><div class="ttdoc">Removes all item variables.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01077">item.cpp:1077</a></div></div>
<div class="ttc" id="aclassmonster_html_a70c250ac59c7d91b374dfa5d7b8da66c"><div class="ttname"><a href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">monster::is_hallucination</a></div><div class="ttdeci">bool is_hallucination() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02648">monster.cpp:2648</a></div></div>
<div class="ttc" id="aclassmonster_html_a7cb9d9786d11c2c0926d3482d3f51ffe"><div class="ttname"><a href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">monster::name</a></div><div class="ttdeci">std::string name(unsigned int quantity=1) const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00492">monster.cpp:492</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00478">monster.h:478</a></div></div>
<div class="ttc" id="aclasstripoint__range_html"><div class="ttname"><a href="classtripoint__range.html">tripoint_range</a></div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00012">map_iterator.h:13</a></div></div>
<div class="ttc" id="aclasstripoint__range_html_a1f85e617be27ca5b5a34f7c9e0d65195"><div class="ttname"><a href="classtripoint__range.html#a1f85e617be27ca5b5a34f7c9e0d65195">tripoint_range::is_point_inside</a></div><div class="ttdeci">bool is_point_inside(const Tripoint &amp;point) const</div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00107">map_iterator.h:107</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a47953b33a873caa0861b12222842a5ec"><div class="ttname"><a href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00519">coordinates.h:519</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a4a34f7ffa4c18effba7f8239c68c8738"><div class="ttname"><a href="coordinates_8h.html#a4a34f7ffa4c18effba7f8239c68c8738">line_to</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale &gt; &gt; line_to(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00548">coordinates.h:548</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">MS_SMALL</a></div><div class="ttdeci">@ MS_SMALL</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00059">creature.h:59</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a08c831de45f9f624cd2b2c2fc8e56eac"><div class="ttname"><a href="iuse_8cpp.html#a08c831de45f9f624cd2b2c2fc8e56eac">item_save_monsters</a></div><div class="ttdeci">static void item_save_monsters(player &amp;p, item &amp;it, const std::vector&lt; monster * &gt; &amp;monster_vec, int photo_quality)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l07367">iuse.cpp:7367</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a09e952ef4d27618e2f60ec737a8d1bae"><div class="ttname"><a href="iuse_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a></div><div class="ttdeci">static const efftype_id effect_blind(&quot;blind&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a4a212199907f7b264e774e9b9c9d444d"><div class="ttname"><a href="iuse_8cpp.html#a4a212199907f7b264e774e9b9c9d444d">show_photo_selection</a></div><div class="ttdeci">static bool show_photo_selection(player &amp;p, item &amp;it, const std::string &amp;var_name)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l07438">iuse.cpp:7438</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a62dd230128fcf5f966afc899e1bae461"><div class="ttname"><a href="iuse_8cpp.html#a62dd230128fcf5f966afc899e1bae461">item_read_extended_photos</a></div><div class="ttdeci">static bool item_read_extended_photos(item &amp;, std::vector&lt; extended_photo_def &gt; &amp;, const std::string &amp;, bool=false)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l07410">iuse.cpp:7410</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a78a1f8e858e92cd31d34012204a34e68"><div class="ttname"><a href="iuse_8cpp.html#a78a1f8e858e92cd31d34012204a34e68">itype_mobile_memory_card</a></div><div class="ttdeci">static const itype_id itype_mobile_memory_card(&quot;mobile_memory_card&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a7c338209243b2dcc17cdaca1f0a68112"><div class="ttname"><a href="iuse_8cpp.html#a7c338209243b2dcc17cdaca1f0a68112">item_write_extended_photos</a></div><div class="ttdeci">static void item_write_extended_photos(item &amp;, const std::vector&lt; extended_photo_def &gt; &amp;, const std::string &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l07428">iuse.cpp:7428</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a9dafb5bfb47673f6289a30a37384a24b"><div class="ttname"><a href="iuse_8cpp.html#a9dafb5bfb47673f6289a30a37384a24b">photo_quality_name</a></div><div class="ttdeci">static std::string photo_quality_name(const int index)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06361">iuse.cpp:6361</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_ab1410ec77eb6836c1b61f2937606eb6e"><div class="ttname"><a href="iuse_8cpp.html#ab1410ec77eb6836c1b61f2937606eb6e">HALLUCINATION</a></div><div class="ttdeci">static const species_id HALLUCINATION(&quot;HALLUCINATION&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ad96b2f1a64a05e584f2e633242e59f27"><div class="ttname"><a href="iuse_8cpp.html#ad96b2f1a64a05e584f2e633242e59f27">photo_def_for_camera_point</a></div><div class="ttdeci">static extended_photo_def photo_def_for_camera_point(const tripoint &amp;aim_point, const tripoint &amp;camera_pos, std::vector&lt; monster * &gt; &amp;monster_vec, std::vector&lt; player * &gt; &amp;player_vec)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l07099">iuse.cpp:7099</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_aed5af7221728712d39314e54c08791ba"><div class="ttname"><a href="iuse_8cpp.html#aed5af7221728712d39314e54c08791ba">init_memory_card_with_random_stuff</a></div><div class="ttdeci">static void init_memory_card_with_random_stuff(item &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06131">iuse.cpp:6131</a></div></div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842a1a9d43dc1ddecbc20beecf1760789d85"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a1a9d43dc1ddecbc20beecf1760789d85">MF_SEES</a></div><div class="ttdeci">@ MF_SEES</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00067">mtype.h:67</a></div></div>
<div class="ttc" id="anamespacedetail_html_ad06b74f7502b63cbab323bba1ca3f72b"><div class="ttname"><a href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">detail::find</a></div><div class="ttdeci">FMT_CONSTEXPR bool find(Ptr first, Ptr last, T value, Ptr &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l03355">fmtlib_format.h:3355</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357">sounds::sound_t::activity</a></div><div class="ttdeci">@ activity</div></div>
<div class="ttc" id="anamespacetarget__handler_html_aea843144f5e69546ddea88eeda177640"><div class="ttname"><a href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">target_handler::trajectory</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; trajectory</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8h_source.html#l00032">ranged.h:32</a></div></div>
<div class="ttc" id="aoutput_8h_html_abc4022ff920f936d2ee400cedc458733"><div class="ttname"><a href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const _Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00679">output.h:679</a></div></div>
<div class="ttc" id="astructextended__photo__def_html"><div class="ttname"><a href="structextended__photo__def.html">extended_photo_def</a></div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06703">iuse.cpp:6703</a></div></div>
<div class="ttc" id="astructextended__photo__def_html_a1bc0d9744770af96b73d6c1479c1d8de"><div class="ttname"><a href="structextended__photo__def.html#a1bc0d9744770af96b73d6c1479c1d8de">extended_photo_def::quality</a></div><div class="ttdeci">int quality</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06704">iuse.cpp:6704</a></div></div>
<div class="ttc" id="astructextended__photo__def_html_a2383e70d4cb855672d6d4c86af8ca323"><div class="ttname"><a href="structextended__photo__def.html#a2383e70d4cb855672d6d4c86af8ca323">extended_photo_def::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06705">iuse.cpp:6705</a></div></div>
<div class="ttc" id="astructmtype_html_a51ec342d71717bb513f0158198b12840"><div class="ttname"><a href="structmtype.html#a51ec342d71717bb513f0158198b12840">mtype::in_species</a></div><div class="ttdeci">bool in_species(const species_id &amp;spec) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00122">mtype.cpp:122</a></div></div>
<div class="ttc" id="astructmtype_html_aba4c84ff42939b47ff74896ed326a98f"><div class="ttname"><a href="structmtype.html#aba4c84ff42939b47ff74896ed326a98f">mtype::size</a></div><div class="ttdeci">m_size size</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00259">mtype.h:259</a></div></div>
<div class="ttc" id="astructquality_html"><div class="ttname"><a href="structquality.html">quality</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00044">requirements.h:44</a></div></div>
<div class="ttc" id="atype__id_8h_html_a039e4134b8c5eb549ca440b962667a2f"><div class="ttname"><a href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a></div><div class="ttdeci">string_id&lt; mtype &gt; mtype_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00104">type_id.h:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357">sounds::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="ui_8cpp_source.html#l00932">uilist::addentry()</a>, <a class="el" href="creature_8h_source.html#l00128">Creature::as_avatar()</a>, <a class="el" href="json_8h_source.html#l00054">JsonError::c_str()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l01077">item::clear_vars()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="iuse_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="mtype_8cpp_source.html#l00235">mtype::get_description()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="iuse_8cpp.html#ab1410ec77eb6836c1b61f2937606eb6e">HALLUCINATION</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="mtype_8cpp_source.html#l00122">mtype::in_species()</a>, <a class="el" href="iuse_8cpp_source.html#l06131">init_memory_card_with_random_stuff()</a>, <a class="el" href="character_8cpp_source.html#l06324">Character::is_blind()</a>, <a class="el" href="monster_8cpp_source.html#l02648">monster::is_hallucination()</a>, <a class="el" href="map__iterator_8h_source.html#l00107">tripoint_range&lt; Tripoint &gt;::is_point_inside()</a>, <a class="el" href="iuse_8cpp_source.html#l07410">item_read_extended_photos()</a>, <a class="el" href="iuse_8cpp_source.html#l07367">item_save_monsters()</a>, <a class="el" href="iuse_8cpp_source.html#l07428">item_write_extended_photos()</a>, <a class="el" href="iuse_8cpp.html#a78a1f8e858e92cd31d34012204a34e68">itype_mobile_memory_card</a>, <a class="el" href="coordinates_8h_source.html#l00548">line_to()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="mtype_8h_source.html#l00067">MF_SEES</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="creature_8h_source.html#l00059">MS_SMALL</a>, <a class="el" href="iuse_8cpp_source.html#l06705">extended_photo_def::name</a>, <a class="el" href="monster_8cpp_source.html#l00492">monster::name()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="iuse_8cpp_source.html#l07099">photo_def_for_camera_point()</a>, <a class="el" href="iuse_8cpp_source.html#l06361">photo_quality_name()</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="iuse_8cpp_source.html#l06704">extended_photo_def::quality</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp_source.html#l05221">item::set_flag()</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, <a class="el" href="iuse_8cpp_source.html#l07438">show_photo_selection()</a>, <a class="el" href="mtype_8h_source.html#l00259">mtype::size</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, <a class="el" href="game__inventory_8cpp_source.html#l00265">game_menus::inv::titled_filter_menu()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="monster_8h_source.html#l00478">monster::type</a>, and <a class="el" href="item_8cpp_source.html#l05177">item::unset_flags()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a0f13dd0b3a12c9b168adb4f5248951a6" name="a0f13dd0b3a12c9b168adb4f5248951a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f13dd0b3a12c9b168adb4f5248951a6">&#9670;&nbsp;</a></span>can_goo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::can_goo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03485">3485</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03486" name="l03486"></a><span class="lineno"> 3486</span>{</div>
<div class="line"><a id="l03487" name="l03487"></a><span class="lineno"> 3487</span>    it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a866e0b0ea3a028ee6220b8454f3de0bc">itype_canister_empty</a> );</div>
<div class="line"><a id="l03488" name="l03488"></a><span class="lineno"> 3488</span>    <span class="keywordtype">int</span> tries = 0;</div>
<div class="line"><a id="l03489" name="l03489"></a><span class="lineno"> 3489</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> goop;</div>
<div class="line"><a id="l03490" name="l03490"></a><span class="lineno"> 3490</span>    goop.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> = p-&gt;<a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>();</div>
<div class="line"><a id="l03491" name="l03491"></a><span class="lineno"> 3491</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l03492" name="l03492"></a><span class="lineno"> 3492</span>        goop.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> = p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -2, 2 );</div>
<div class="line"><a id="l03493" name="l03493"></a><span class="lineno"> 3493</span>        goop.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> = p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -2, 2 );</div>
<div class="line"><a id="l03494" name="l03494"></a><span class="lineno"> 3494</span>        tries++;</div>
<div class="line"><a id="l03495" name="l03495"></a><span class="lineno"> 3495</span>    } <span class="keywordflow">while</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.impassable( goop ) &amp;&amp; tries &lt; 10 );</div>
<div class="line"><a id="l03496" name="l03496"></a><span class="lineno"> 3496</span>    <span class="keywordflow">if</span>( tries == 10 ) {</div>
<div class="line"><a id="l03497" name="l03497"></a><span class="lineno"> 3497</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03498" name="l03498"></a><span class="lineno"> 3498</span>    }</div>
<div class="line"><a id="l03499" name="l03499"></a><span class="lineno"> 3499</span>    <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon_ptr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( goop ) ) {</div>
<div class="line"><a id="l03500" name="l03500"></a><span class="lineno"> 3500</span>        <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter = *mon_ptr;</div>
<div class="line"><a id="l03501" name="l03501"></a><span class="lineno"> 3501</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( goop ) ) {</div>
<div class="line"><a id="l03502" name="l03502"></a><span class="lineno"> 3502</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Black goo emerges from the canister and envelopes a %s!&quot;</span> ),</div>
<div class="line"><a id="l03503" name="l03503"></a><span class="lineno"> 3503</span>                     critter.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l03504" name="l03504"></a><span class="lineno"> 3504</span>        }</div>
<div class="line"><a id="l03505" name="l03505"></a><span class="lineno"> 3505</span>        critter.<a class="code hl_function" href="classmonster.html#a39d78be1e47deaf970439c3b9504e5d9">poly</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa38c932036191fc88554990d16a891a2">mon_blob</a> );</div>
<div class="line"><a id="l03506" name="l03506"></a><span class="lineno"> 3506</span> </div>
<div class="line"><a id="l03507" name="l03507"></a><span class="lineno"> 3507</span>        critter.<a class="code hl_function" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>( critter.<a class="code hl_function" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() - <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5, 25 ) );</div>
<div class="line"><a id="l03508" name="l03508"></a><span class="lineno"> 3508</span>        critter.<a class="code hl_function" href="classmonster.html#a98c421c82c34706735f13afe25ea7f1f">set_hp</a>( critter.<a class="code hl_function" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>() );</div>
<div class="line"><a id="l03509" name="l03509"></a><span class="lineno"> 3509</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03510" name="l03510"></a><span class="lineno"> 3510</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( goop ) ) {</div>
<div class="line"><a id="l03511" name="l03511"></a><span class="lineno"> 3511</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Living black goo emerges from the canister!&quot;</span> ) );</div>
<div class="line"><a id="l03512" name="l03512"></a><span class="lineno"> 3512</span>        }</div>
<div class="line"><a id="l03513" name="l03513"></a><span class="lineno"> 3513</span>        <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> <a class="code hl_function" href="namespacetrapfunc.html#af7d4351552782f280afe061707a23d02">goo</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( <a class="code hl_variable" href="iuse_8cpp.html#aa38c932036191fc88554990d16a891a2">mon_blob</a>, goop ) ) {</div>
<div class="line"><a id="l03514" name="l03514"></a><span class="lineno"> 3514</span>            <a class="code hl_function" href="namespacetrapfunc.html#af7d4351552782f280afe061707a23d02">goo</a>-&gt;friendly = -1;</div>
<div class="line"><a id="l03515" name="l03515"></a><span class="lineno"> 3515</span>        }</div>
<div class="line"><a id="l03516" name="l03516"></a><span class="lineno"> 3516</span>    }</div>
<div class="line"><a id="l03517" name="l03517"></a><span class="lineno"> 3517</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( 3.0, 4.0 ) ) {</div>
<div class="line"><a id="l03518" name="l03518"></a><span class="lineno"> 3518</span>        tries = 0;</div>
<div class="line"><a id="l03519" name="l03519"></a><span class="lineno"> 3519</span>        <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03520" name="l03520"></a><span class="lineno"> 3520</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l03521" name="l03521"></a><span class="lineno"> 3521</span>            goop.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> = p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -2, 2 );</div>
<div class="line"><a id="l03522" name="l03522"></a><span class="lineno"> 3522</span>            goop.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> = p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -2, 2 );</div>
<div class="line"><a id="l03523" name="l03523"></a><span class="lineno"> 3523</span>            tries++;</div>
<div class="line"><a id="l03524" name="l03524"></a><span class="lineno"> 3524</span>            found = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.passable( goop ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.tr_at( goop ).is_null();</div>
<div class="line"><a id="l03525" name="l03525"></a><span class="lineno"> 3525</span>        } <span class="keywordflow">while</span>( !found &amp;&amp; tries &lt; 10 );</div>
<div class="line"><a id="l03526" name="l03526"></a><span class="lineno"> 3526</span>        <span class="keywordflow">if</span>( found ) {</div>
<div class="line"><a id="l03527" name="l03527"></a><span class="lineno"> 3527</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( goop ) ) {</div>
<div class="line"><a id="l03528" name="l03528"></a><span class="lineno"> 3528</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A nearby splatter of goo forms into a goo pit.&quot;</span> ) );</div>
<div class="line"><a id="l03529" name="l03529"></a><span class="lineno"> 3529</span>            }</div>
<div class="line"><a id="l03530" name="l03530"></a><span class="lineno"> 3530</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.trap_set( goop, <a class="code hl_variable" href="memorial__logger_8cpp.html#af7be0fdf59a1f94184f49073494ded76">tr_goo</a> );</div>
<div class="line"><a id="l03531" name="l03531"></a><span class="lineno"> 3531</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03532" name="l03532"></a><span class="lineno"> 3532</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03533" name="l03533"></a><span class="lineno"> 3533</span>        }</div>
<div class="line"><a id="l03534" name="l03534"></a><span class="lineno"> 3534</span>    }</div>
<div class="line"><a id="l03535" name="l03535"></a><span class="lineno"> 3535</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03536" name="l03536"></a><span class="lineno"> 3536</span>}</div>
<div class="ttc" id="aclassCreature_html_a261dff3caa6aabe255ae9d3eaa94d3de"><div class="ttname"><a href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">Creature::get_speed</a></div><div class="ttdeci">virtual int get_speed() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01498">creature.cpp:1498</a></div></div>
<div class="ttc" id="aclassCreature_html_acfac03f5782f8ea53e1efcb5321ead1b"><div class="ttname"><a href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">Creature::get_speed_base</a></div><div class="ttdeci">virtual int get_speed_base() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01668">creature.cpp:1668</a></div></div>
<div class="ttc" id="aclassCreature_html_afedb5874d4d3438d3c82cb2104ec49fa"><div class="ttname"><a href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">Creature::set_speed_base</a></div><div class="ttdeci">virtual void set_speed_base(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01730">creature.cpp:1730</a></div></div>
<div class="ttc" id="aclassmonster_html_a39d78be1e47deaf970439c3b9504e5d9"><div class="ttname"><a href="classmonster.html#a39d78be1e47deaf970439c3b9504e5d9">monster::poly</a></div><div class="ttdeci">void poly(const mtype_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00260">monster.cpp:260</a></div></div>
<div class="ttc" id="aclassmonster_html_a98c421c82c34706735f13afe25ea7f1f"><div class="ttname"><a href="classmonster.html#a98c421c82c34706735f13afe25ea7f1f">monster::set_hp</a></div><div class="ttdeci">void set_hp(int hp)</div><div class="ttdoc">Directly set the current hp of the monster (not capped at the maximal hp).</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01631">monster.cpp:1631</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a866e0b0ea3a028ee6220b8454f3de0bc"><div class="ttname"><a href="iuse_8cpp.html#a866e0b0ea3a028ee6220b8454f3de0bc">itype_canister_empty</a></div><div class="ttdeci">static const itype_id itype_canister_empty(&quot;canister_empty&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_aa38c932036191fc88554990d16a891a2"><div class="ttname"><a href="iuse_8cpp.html#aa38c932036191fc88554990d16a891a2">mon_blob</a></div><div class="ttdeci">static const mtype_id mon_blob(&quot;mon_blob&quot;)</div></div>
<div class="ttc" id="amemorial__logger_8cpp_html_af7be0fdf59a1f94184f49073494ded76"><div class="ttname"><a href="memorial__logger_8cpp.html#af7be0fdf59a1f94184f49073494ded76">tr_goo</a></div><div class="ttdeci">static const trap_str_id tr_goo(&quot;tr_goo&quot;)</div></div>
<div class="ttc" id="anamespacetrapfunc_html_af7d4351552782f280afe061707a23d02"><div class="ttname"><a href="namespacetrapfunc.html#af7d4351552782f280afe061707a23d02">trapfunc::goo</a></div><div class="ttdeci">bool goo(const tripoint &amp;p, Creature *c, item *i)</div><div class="ttdef"><b>Definition:</b> <a href="trapfunc_8cpp_source.html#l00657">trapfunc.cpp:657</a></div></div>
<div class="ttc" id="astructtripoint_html_ac944c0e329b5eba2602f7a52f66bbbb9"><div class="ttname"><a href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">tripoint::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00152">point.h:152</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="creature_8cpp_source.html#l01498">Creature::get_speed()</a>, <a class="el" href="creature_8cpp_source.html#l01668">Creature::get_speed_base()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00657">trapfunc::goo()</a>, <a class="el" href="iuse_8cpp.html#a866e0b0ea3a028ee6220b8454f3de0bc">itype_canister_empty</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="iuse_8cpp.html#aa38c932036191fc88554990d16a891a2">mon_blob</a>, <a class="el" href="monster_8cpp_source.html#l00492">monster::name()</a>, <a class="el" href="monster_8cpp_source.html#l00260">monster::poly()</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="character_8h_source.html#l00844">Character::posz()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="monster_8cpp_source.html#l01631">monster::set_hp()</a>, <a class="el" href="creature_8cpp_source.html#l01730">Creature::set_speed_base()</a>, <a class="el" href="memorial__logger_8cpp.html#af7be0fdf59a1f94184f49073494ded76">tr_goo</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>, <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>, and <a class="el" href="point_8h_source.html#l00152">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aaba6d96d9fc6facbc0b8d5242355810e" name="aaba6d96d9fc6facbc0b8d5242355810e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba6d96d9fc6facbc0b8d5242355810e">&#9670;&nbsp;</a></span>capture_monster_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::capture_monster_act </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09356">9356</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09357" name="l09357"></a><span class="lineno"> 9357</span>{</div>
<div class="line"><a id="l09358" name="l09358"></a><span class="lineno"> 9358</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l09359" name="l09359"></a><span class="lineno"> 9359</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot capture a creature mounted.&quot;</span> ) );</div>
<div class="line"><a id="l09360" name="l09360"></a><span class="lineno"> 9360</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09361" name="l09361"></a><span class="lineno"> 9361</span>    }</div>
<div class="line"><a id="l09362" name="l09362"></a><span class="lineno"> 9362</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a478ecf81e48540e1ba39de33df968c43">has_var</a>( <span class="stringliteral">&quot;contained_name&quot;</span> ) ) {</div>
<div class="line"><a id="l09363" name="l09363"></a><span class="lineno"> 9363</span>        <span class="comment">// Remember contained_name for messages after release_monster erases it</span></div>
<div class="line"><a id="l09364" name="l09364"></a><span class="lineno"> 9364</span>        <span class="keyword">const</span> std::string contained_name = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;contained_name&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l09365" name="l09365"></a><span class="lineno"> 9365</span> </div>
<div class="line"><a id="l09366" name="l09366"></a><span class="lineno"> 9366</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#abf522557723e9d3342000d7589cead16">release_monster</a>( pos ) ) {</div>
<div class="line"><a id="l09367" name="l09367"></a><span class="lineno"> 9367</span>            <span class="comment">// It&#39;s been activated somewhere where there isn&#39;t a player or monster, good.</span></div>
<div class="line"><a id="l09368" name="l09368"></a><span class="lineno"> 9368</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09369" name="l09369"></a><span class="lineno"> 9369</span>        }</div>
<div class="line"><a id="l09370" name="l09370"></a><span class="lineno"> 9370</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;PLACE_RANDOMLY&quot;</span> ) ) {</div>
<div class="line"><a id="l09371" name="l09371"></a><span class="lineno"> 9371</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#abf522557723e9d3342000d7589cead16">release_monster</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l09372" name="l09372"></a><span class="lineno"> 9372</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09373" name="l09373"></a><span class="lineno"> 9373</span>            }</div>
<div class="line"><a id="l09374" name="l09374"></a><span class="lineno"> 9374</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is no place to put the %s.&quot;</span> ), contained_name );</div>
<div class="line"><a id="l09375" name="l09375"></a><span class="lineno"> 9375</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09376" name="l09376"></a><span class="lineno"> 9376</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09377" name="l09377"></a><span class="lineno"> 9377</span>            <span class="keyword">const</span> std::string query = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Place the %s where?&quot;</span> ), contained_name );</div>
<div class="line"><a id="l09378" name="l09378"></a><span class="lineno"> 9378</span>            <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pos_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( query );</div>
<div class="line"><a id="l09379" name="l09379"></a><span class="lineno"> 9379</span>            <span class="keywordflow">if</span>( !pos_ ) {</div>
<div class="line"><a id="l09380" name="l09380"></a><span class="lineno"> 9380</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09381" name="l09381"></a><span class="lineno"> 9381</span>            }</div>
<div class="line"><a id="l09382" name="l09382"></a><span class="lineno"> 9382</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#abf522557723e9d3342000d7589cead16">release_monster</a>( *pos_ ) ) {</div>
<div class="line"><a id="l09383" name="l09383"></a><span class="lineno"> 9383</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You release the %s.&quot;</span> ), contained_name );</div>
<div class="line"><a id="l09384" name="l09384"></a><span class="lineno"> 9384</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09385" name="l09385"></a><span class="lineno"> 9385</span>            }</div>
<div class="line"><a id="l09386" name="l09386"></a><span class="lineno"> 9386</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot place the %s there!&quot;</span> ), contained_name );</div>
<div class="line"><a id="l09387" name="l09387"></a><span class="lineno"> 9387</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09388" name="l09388"></a><span class="lineno"> 9388</span>        }</div>
<div class="line"><a id="l09389" name="l09389"></a><span class="lineno"> 9389</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09390" name="l09390"></a><span class="lineno"> 9390</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#aeb49bb1b64eba3731e606ffe83e95b4f">has_property</a>( <span class="stringliteral">&quot;monster_size_capacity&quot;</span> ) ) {</div>
<div class="line"><a id="l09391" name="l09391"></a><span class="lineno"> 9391</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;%s has no monster_size_capacity.&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09392" name="l09392"></a><span class="lineno"> 9392</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09393" name="l09393"></a><span class="lineno"> 9393</span>        }</div>
<div class="line"><a id="l09394" name="l09394"></a><span class="lineno"> 9394</span>        <span class="keyword">const</span> std::string capacity = it-&gt;<a class="code hl_function" href="classitem.html#ac7c536dbf6f3c3e9e28015990a060e41">get_property_string</a>( <span class="stringliteral">&quot;monster_size_capacity&quot;</span> );</div>
<div class="line"><a id="l09395" name="l09395"></a><span class="lineno"> 9395</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCreature.html#aa1629d099a51cc34924ff468c53be9fe">Creature::size_map</a>.<a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a>( capacity ) == 0 ) {</div>
<div class="line"><a id="l09396" name="l09396"></a><span class="lineno"> 9396</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;%s has invalid monster_size_capacity %s.&quot;</span>,</div>
<div class="line"><a id="l09397" name="l09397"></a><span class="lineno"> 9397</span>                      it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), capacity.c_str() );</div>
<div class="line"><a id="l09398" name="l09398"></a><span class="lineno"> 9398</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09399" name="l09399"></a><span class="lineno"> 9399</span>        }</div>
<div class="line"><a id="l09400" name="l09400"></a><span class="lineno"> 9400</span>        <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; adjacent_capturable = []( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l09401" name="l09401"></a><span class="lineno"> 9401</span>            <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> *mon_ptr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( pnt );</div>
<div class="line"><a id="l09402" name="l09402"></a><span class="lineno"> 9402</span>            <span class="keywordflow">return</span> mon_ptr != <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l09403" name="l09403"></a><span class="lineno"> 9403</span>        };</div>
<div class="line"><a id="l09404" name="l09404"></a><span class="lineno"> 9404</span>        <span class="keyword">const</span> std::string query = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Grab which creature to place in the %s?&quot;</span> ),</div>
<div class="line"><a id="l09405" name="l09405"></a><span class="lineno"> 9405</span>                                  it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09406" name="l09406"></a><span class="lineno"> 9406</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> target_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>( query,</div>
<div class="line"><a id="l09407" name="l09407"></a><span class="lineno"> 9407</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is no creature nearby you can capture.&quot;</span> ), adjacent_capturable, <span class="keyword">false</span> );</div>
<div class="line"><a id="l09408" name="l09408"></a><span class="lineno"> 9408</span>        <span class="keywordflow">if</span>( !target_ ) {</div>
<div class="line"><a id="l09409" name="l09409"></a><span class="lineno"> 9409</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot use a %s there.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09410" name="l09410"></a><span class="lineno"> 9410</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09411" name="l09411"></a><span class="lineno"> 9411</span>        }</div>
<div class="line"><a id="l09412" name="l09412"></a><span class="lineno"> 9412</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> target = *target_;</div>
<div class="line"><a id="l09413" name="l09413"></a><span class="lineno"> 9413</span> </div>
<div class="line"><a id="l09414" name="l09414"></a><span class="lineno"> 9414</span>        <span class="comment">// Capture the thing, if it&#39;s on the target square.</span></div>
<div class="line"><a id="l09415" name="l09415"></a><span class="lineno"> 9415</span>        <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon_ptr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( target ) ) {</div>
<div class="line"><a id="l09416" name="l09416"></a><span class="lineno"> 9416</span>            <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> &amp;f = *mon_ptr;</div>
<div class="line"><a id="l09417" name="l09417"></a><span class="lineno"> 9417</span> </div>
<div class="line"><a id="l09418" name="l09418"></a><span class="lineno"> 9418</span>            <span class="keywordflow">if</span>( f.<a class="code hl_function" href="classmonster.html#a4c251cc737554fe0bde7f7e4f68b8ef5">get_size</a>() &gt; <a class="code hl_variable" href="classCreature.html#aa1629d099a51cc34924ff468c53be9fe">Creature::size_map</a>.find( capacity )-&gt;second ) {</div>
<div class="line"><a id="l09419" name="l09419"></a><span class="lineno"> 9419</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %1$s is too big to put in your %2$s.&quot;</span> ),</div>
<div class="line"><a id="l09420" name="l09420"></a><span class="lineno"> 9420</span>                                      f.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>(), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09421" name="l09421"></a><span class="lineno"> 9421</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09422" name="l09422"></a><span class="lineno"> 9422</span>            }</div>
<div class="line"><a id="l09423" name="l09423"></a><span class="lineno"> 9423</span>            <span class="comment">// TODO: replace this with some kind of melee check.</span></div>
<div class="line"><a id="l09424" name="l09424"></a><span class="lineno"> 9424</span>            <span class="keywordtype">int</span> chance = f.<a class="code hl_function" href="classmonster.html#aed44761b8e8ac00ee8ffef0347265e4c">hp_percentage</a>() / 10;</div>
<div class="line"><a id="l09425" name="l09425"></a><span class="lineno"> 9425</span>            <span class="comment">// A weaker monster is easier to capture.</span></div>
<div class="line"><a id="l09426" name="l09426"></a><span class="lineno"> 9426</span>            <span class="comment">// If the monster is friendly, then put it in the item</span></div>
<div class="line"><a id="l09427" name="l09427"></a><span class="lineno"> 9427</span>            <span class="comment">// without checking if it rolled a success.</span></div>
<div class="line"><a id="l09428" name="l09428"></a><span class="lineno"> 9428</span>            <span class="keywordflow">if</span>( f.<a class="code hl_variable" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> != 0 || <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( chance ) ) {</div>
<div class="line"><a id="l09429" name="l09429"></a><span class="lineno"> 9429</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You capture the %1$s in your %2$s.&quot;</span> ),</div>
<div class="line"><a id="l09430" name="l09430"></a><span class="lineno"> 9430</span>                                      f.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>(), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09431" name="l09431"></a><span class="lineno"> 9431</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_function" href="classitem.html#a5b2240199659bfe1bc99201615926a57">contain_monster</a>( target );</div>
<div class="line"><a id="l09432" name="l09432"></a><span class="lineno"> 9432</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09433" name="l09433"></a><span class="lineno"> 9433</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %1$s avoids your attempts to put it in the %2$s.&quot;</span> ),</div>
<div class="line"><a id="l09434" name="l09434"></a><span class="lineno"> 9434</span>                                      f.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>(), it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 ) );</div>
<div class="line"><a id="l09435" name="l09435"></a><span class="lineno"> 9435</span>            }</div>
<div class="line"><a id="l09436" name="l09436"></a><span class="lineno"> 9436</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 1_seconds );</div>
<div class="line"><a id="l09437" name="l09437"></a><span class="lineno"> 9437</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09438" name="l09438"></a><span class="lineno"> 9438</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s can&#39;t capture nothing&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09439" name="l09439"></a><span class="lineno"> 9439</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09440" name="l09440"></a><span class="lineno"> 9440</span>        }</div>
<div class="line"><a id="l09441" name="l09441"></a><span class="lineno"> 9441</span>    }</div>
<div class="line"><a id="l09442" name="l09442"></a><span class="lineno"> 9442</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09443" name="l09443"></a><span class="lineno"> 9443</span>}</div>
<div class="ttc" id="aclassCreature_html_aa1629d099a51cc34924ff468c53be9fe"><div class="ttname"><a href="classCreature.html#aa1629d099a51cc34924ff468c53be9fe">Creature::size_map</a></div><div class="ttdeci">static const std::map&lt; std::string, m_size &gt; size_map</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00082">creature.h:82</a></div></div>
<div class="ttc" id="aclassitem_html_a478ecf81e48540e1ba39de33df968c43"><div class="ttname"><a href="classitem.html#a478ecf81e48540e1ba39de33df968c43">item::has_var</a></div><div class="ttdeci">bool has_var(const std::string &amp;name) const</div><div class="ttdoc">Whether the variable is defined at all.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01067">item.cpp:1067</a></div></div>
<div class="ttc" id="aclassitem_html_a5b2240199659bfe1bc99201615926a57"><div class="ttname"><a href="classitem.html#a5b2240199659bfe1bc99201615926a57">item::contain_monster</a></div><div class="ttdeci">int contain_monster(const tripoint &amp;target)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09338">iuse.cpp:9338</a></div></div>
<div class="ttc" id="aclassitem_html_abf522557723e9d3342000d7589cead16"><div class="ttname"><a href="classitem.html#abf522557723e9d3342000d7589cead16">item::release_monster</a></div><div class="ttdeci">bool release_monster(const tripoint &amp;target, int radius=0)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09317">iuse.cpp:9317</a></div></div>
<div class="ttc" id="aclassitem_html_ac7c536dbf6f3c3e9e28015990a060e41"><div class="ttname"><a href="classitem.html#ac7c536dbf6f3c3e9e28015990a060e41">item::get_property_string</a></div><div class="ttdeci">std::string get_property_string(const std::string &amp;prop, const std::string &amp;def=&quot;&quot;) const</div><div class="ttdoc">Get typed property for item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05252">item.cpp:5252</a></div></div>
<div class="ttc" id="aclassitem_html_aeb49bb1b64eba3731e606ffe83e95b4f"><div class="ttname"><a href="classitem.html#aeb49bb1b64eba3731e606ffe83e95b4f">item::has_property</a></div><div class="ttdeci">bool has_property(const std::string &amp;prop) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05247">item.cpp:5247</a></div></div>
<div class="ttc" id="aclassmonster_html_a4c251cc737554fe0bde7f7e4f68b8ef5"><div class="ttname"><a href="classmonster.html#a4c251cc737554fe0bde7f7e4f68b8ef5">monster::get_size</a></div><div class="ttdeci">m_size get_size() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02668">monster.cpp:2668</a></div></div>
<div class="ttc" id="aclassmonster_html_aed44761b8e8ac00ee8ffef0347265e4c"><div class="ttname"><a href="classmonster.html#aed44761b8e8ac00ee8ffef0347265e4c">monster::hp_percentage</a></div><div class="ttdeci">int hp_percentage() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01187">monster.cpp:1187</a></div></div>
<div class="ttc" id="anamespacedetail_html_ab2f84fb3de26acdac3fc63a2dce5ea5e"><div class="ttname"><a href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">detail::count</a></div><div class="ttdeci">constexpr size_t count()</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__core_8h_source.html#l01073">fmtlib_core.h:1073</a></div></div>
<div class="ttc" id="astructitype_html_ad35fbe0013544c1c396944b20b264421"><div class="ttname"><a href="structitype.html#ad35fbe0013544c1c396944b20b264421">itype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00046">itype.cpp:46</a></div></div>
<div class="ttc" id="astructmtype_html_a9a8f4ead67d1836e3f4db624533af5aa"><div class="ttname"><a href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">mtype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity=1) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00065">mtype.cpp:65</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="iuse_8cpp_source.html#l09338">item::contain_monster()</a>, <a class="el" href="fmtlib__core_8h_source.html#l01073">detail::count()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="monster_8h_source.html#l00471">monster::friendly</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05252">item::get_property_string()</a>, <a class="el" href="monster_8cpp_source.html#l02668">monster::get_size()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l05247">item::has_property()</a>, <a class="el" href="item_8cpp_source.html#l01067">item::has_var()</a>, <a class="el" href="monster_8cpp_source.html#l01187">monster::hp_percentage()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="itype_8cpp_source.html#l00046">itype::nname()</a>, <a class="el" href="mtype_8cpp_source.html#l00065">mtype::nname()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="iuse_8cpp_source.html#l09317">item::release_monster()</a>, <a class="el" href="creature_8h_source.html#l00082">Creature::size_map</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="monster_8h_source.html#l00478">monster::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l09302">capture_monster_veh()</a>, and <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a3795d77ec24e87e31270b733722b971f" name="a3795d77ec24e87e31270b733722b971f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3795d77ec24e87e31270b733722b971f">&#9670;&nbsp;</a></span>capture_monster_veh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::capture_monster_veh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09302">9302</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09303" name="l09303"></a><span class="lineno"> 9303</span>{</div>
<div class="line"><a id="l09304" name="l09304"></a><span class="lineno"> 9304</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l09305" name="l09305"></a><span class="lineno"> 9305</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l09306" name="l09306"></a><span class="lineno"> 9306</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09307" name="l09307"></a><span class="lineno"> 9307</span>    }</div>
<div class="line"><a id="l09308" name="l09308"></a><span class="lineno"> 9308</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;VEHICLE&quot;</span> ) ) {</div>
<div class="line"><a id="l09309" name="l09309"></a><span class="lineno"> 9309</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s must be installed in a vehicle before being loaded.&quot;</span> ),</div>
<div class="line"><a id="l09310" name="l09310"></a><span class="lineno"> 9310</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09311" name="l09311"></a><span class="lineno"> 9311</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09312" name="l09312"></a><span class="lineno"> 9312</span>    }</div>
<div class="line"><a id="l09313" name="l09313"></a><span class="lineno"> 9313</span>    <a class="code hl_function" href="namespaceiuse.html#aaba6d96d9fc6facbc0b8d5242355810e">capture_monster_act</a>( p, it, <span class="keyword">false</span>, pos );</div>
<div class="line"><a id="l09314" name="l09314"></a><span class="lineno"> 9314</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09315" name="l09315"></a><span class="lineno"> 9315</span>}</div>
<div class="ttc" id="anamespaceiuse_html_aaba6d96d9fc6facbc0b8d5242355810e"><div class="ttname"><a href="namespaceiuse.html#aaba6d96d9fc6facbc0b8d5242355810e">iuse::capture_monster_act</a></div><div class="ttdeci">int capture_monster_act(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09356">iuse.cpp:9356</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="iuse_8cpp_source.html#l09356">capture_monster_act()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a272725ca02e576b08c783708015487e6" name="a272725ca02e576b08c783708015487e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a272725ca02e576b08c783708015487e6">&#9670;&nbsp;</a></span>carver_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::carver_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03108">3108</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span>{</div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#ab84218a7a696ba0c25b8a593731fc7ee">toolweapon_off</a>( *p, *it,</div>
<div class="line"><a id="l03111" name="l03111"></a><span class="lineno"> 3111</span>                           <span class="keyword">false</span>,</div>
<div class="line"><a id="l03112" name="l03112"></a><span class="lineno"> 3112</span>                           <span class="keyword">true</span>,</div>
<div class="line"><a id="l03113" name="l03113"></a><span class="lineno"> 3113</span>                           20, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The electric carver&#39;s serrated blades start buzzing!&quot;</span> ),</div>
<div class="line"><a id="l03114" name="l03114"></a><span class="lineno"> 3114</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pull the trigger, but nothing happens.&quot;</span> ) );</div>
<div class="line"><a id="l03115" name="l03115"></a><span class="lineno"> 3115</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_ab84218a7a696ba0c25b8a593731fc7ee"><div class="ttname"><a href="iuse_8cpp.html#ab84218a7a696ba0c25b8a593731fc7ee">toolweapon_off</a></div><div class="ttdeci">static int toolweapon_off(player &amp;p, item &amp;it, const bool fast_startup, const bool condition, const int volume, const std::string &amp;msg_success, const std::string &amp;msg_failure)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03023">iuse.cpp:3023</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="af624c9900caf3fcac2aa28441f7e4061" name="af624c9900caf3fcac2aa28441f7e4061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af624c9900caf3fcac2aa28441f7e4061">&#9670;&nbsp;</a></span>carver_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::carver_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03206">3206</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span>{</div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"> 3208</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#a74ac96156e1d05593ce2dc168d2fb37c">toolweapon_on</a>( *p, *it, t, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;electric carver&quot;</span> ),</div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>                          <span class="keyword">true</span>,</div>
<div class="line"><a id="l03210" name="l03210"></a><span class="lineno"> 3210</span>                          10, 8, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your electric carver buzzes.&quot;</span> ) );</div>
<div class="line"><a id="l03211" name="l03211"></a><span class="lineno"> 3211</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a74ac96156e1d05593ce2dc168d2fb37c"><div class="ttname"><a href="iuse_8cpp.html#a74ac96156e1d05593ce2dc168d2fb37c">toolweapon_on</a></div><div class="ttdeci">static int toolweapon_on(player &amp;p, item &amp;it, const bool t, const std::string &amp;tname, const bool works_underwater, const int sound_chance, const int volume, const std::string &amp;sound, const bool double_charge_cost=false)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03126">iuse.cpp:3126</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a952ba3eee92726bda366cdf3b864b59f" name="a952ba3eee92726bda366cdf3b864b59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952ba3eee92726bda366cdf3b864b59f">&#9670;&nbsp;</a></span>catfood()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::catfood </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01635">1635</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>{</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#aba4a7ef0eb0c520a784fb936bda62550">petfood</a>( *p, *it, <a class="code hl_enumvalue" href="iuse_8cpp.html#aada2fd516b4c31f58ea02b26f150e497af470ee559b80a8507d8e56be7dcfc63c">CATFOOD</a> );</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_aada2fd516b4c31f58ea02b26f150e497af470ee559b80a8507d8e56be7dcfc63c"><div class="ttname"><a href="iuse_8cpp.html#aada2fd516b4c31f58ea02b26f150e497af470ee559b80a8507d8e56be7dcfc63c">CATFOOD</a></div><div class="ttdeci">@ CATFOOD</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01531">iuse.cpp:1531</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_aba4a7ef0eb0c520a784fb936bda62550"><div class="ttname"><a href="iuse_8cpp.html#aba4a7ef0eb0c520a784fb936bda62550">petfood</a></div><div class="ttdeci">static int petfood(player &amp;p, item &amp;it, Petfood animal_food_type)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01550">iuse.cpp:1550</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l01531">CATFOOD</a>, and <a class="el" href="iuse_8cpp_source.html#l01550">petfood()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ac7d5141d1ba513c0c5d6aa30ad2ee663" name="ac7d5141d1ba513c0c5d6aa30ad2ee663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7d5141d1ba513c0c5d6aa30ad2ee663">&#9670;&nbsp;</a></span>cauterize_hotplate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::cauterize_hotplate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad79004baf98adccb8b9694bc30eb290d" name="ad79004baf98adccb8b9694bc30eb290d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad79004baf98adccb8b9694bc30eb290d">&#9670;&nbsp;</a></span>chainsaw_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::chainsaw_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03072">3072</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03073" name="l03073"></a><span class="lineno"> 3073</span>{</div>
<div class="line"><a id="l03074" name="l03074"></a><span class="lineno"> 3074</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#ab84218a7a696ba0c25b8a593731fc7ee">toolweapon_off</a>( *p, *it,</div>
<div class="line"><a id="l03075" name="l03075"></a><span class="lineno"> 3075</span>                           <span class="keyword">false</span>,</div>
<div class="line"><a id="l03076" name="l03076"></a><span class="lineno"> 3076</span>                           <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 10 ) - it-&gt;<a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) &gt; 5 &amp;&amp; !p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>(),</div>
<div class="line"><a id="l03077" name="l03077"></a><span class="lineno"> 3077</span>                           20, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;With a roar, the chainsaw leaps to life!&quot;</span> ),</div>
<div class="line"><a id="l03078" name="l03078"></a><span class="lineno"> 3078</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You yank the cord, but nothing happens.&quot;</span> ) );</div>
<div class="line"><a id="l03079" name="l03079"></a><span class="lineno"> 3079</span>}</div>
<div class="ttc" id="aclassitem_html_a5be1c00110bff10a98ab02b8410c9af7"><div class="ttname"><a href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">item::damage_level</a></div><div class="ttdeci">int damage_level(int max) const</div><div class="ttdoc">Scale item damage to the given number of levels.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00698">item.cpp:698</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l00698">item::damage_level()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, and <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aef454dfcb71a12f3fd7efa0d316ece43" name="aef454dfcb71a12f3fd7efa0d316ece43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef454dfcb71a12f3fd7efa0d316ece43">&#9670;&nbsp;</a></span>chainsaw_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::chainsaw_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03172">3172</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span>{</div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#a74ac96156e1d05593ce2dc168d2fb37c">toolweapon_on</a>( *p, *it, t, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;chainsaw&quot;</span> ),</div>
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"> 3175</span>                          <span class="keyword">false</span>,</div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span>                          15, 12, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your chainsaw rumbles.&quot;</span> ) );</div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aecdc200d835fb6eaf207e84d2e5992a8" name="aecdc200d835fb6eaf207e84d2e5992a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecdc200d835fb6eaf207e84d2e5992a8">&#9670;&nbsp;</a></span>chew()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::chew </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01099">1099</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>{</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>    <span class="comment">// TODO: Add more effects?</span></div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You chew your %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="consumption_8cpp_source.html#l00824">player::eat()</a>, <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="consumption_8cpp_source.html#l01059">Character::modify_morale()</a>.</p>

</div>
</div>
<a id="acd99c4f5ccc4748d40d40a3a71b61df2" name="acd99c4f5ccc4748d40d40a3a71b61df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd99c4f5ccc4748d40d40a3a71b61df2">&#9670;&nbsp;</a></span>chop_logs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::chop_logs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04817">4817</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04818" name="l04818"></a><span class="lineno"> 4818</span>{</div>
<div class="line"><a id="l04819" name="l04819"></a><span class="lineno"> 4819</span>    <span class="keywordflow">if</span>( !p || t ) {</div>
<div class="line"><a id="l04820" name="l04820"></a><span class="lineno"> 4820</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04821" name="l04821"></a><span class="lineno"> 4821</span>    }</div>
<div class="line"><a id="l04822" name="l04822"></a><span class="lineno"> 4822</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04823" name="l04823"></a><span class="lineno"> 4823</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04824" name="l04824"></a><span class="lineno"> 4824</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04825" name="l04825"></a><span class="lineno"> 4825</span>    }</div>
<div class="line"><a id="l04826" name="l04826"></a><span class="lineno"> 4826</span> </div>
<div class="line"><a id="l04827" name="l04827"></a><span class="lineno"> 4827</span>    <span class="keyword">const</span> std::set&lt;ter_id&gt; allowed_ter_id {</div>
<div class="line"><a id="l04828" name="l04828"></a><span class="lineno"> 4828</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a6f16ca9fa2e84605c3364bd7c6e2e094">t_trunk</a>,</div>
<div class="line"><a id="l04829" name="l04829"></a><span class="lineno"> 4829</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a7248cf2720a59b9b303bdfeefab7c5e9">t_stump</a></div>
<div class="line"><a id="l04830" name="l04830"></a><span class="lineno"> 4830</span>    };</div>
<div class="line"><a id="l04831" name="l04831"></a><span class="lineno"> 4831</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = [&amp;allowed_ter_id]( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l04832" name="l04832"></a><span class="lineno"> 4832</span>        <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l04833" name="l04833"></a><span class="lineno"> 4833</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_allowed_terrain = allowed_ter_id.find( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) != allowed_ter_id.end();</div>
<div class="line"><a id="l04834" name="l04834"></a><span class="lineno"> 4834</span>        <span class="keywordflow">return</span> is_allowed_terrain;</div>
<div class="line"><a id="l04835" name="l04835"></a><span class="lineno"> 4835</span>    };</div>
<div class="line"><a id="l04836" name="l04836"></a><span class="lineno"> 4836</span> </div>
<div class="line"><a id="l04837" name="l04837"></a><span class="lineno"> 4837</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l04838" name="l04838"></a><span class="lineno"> 4838</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Chop which tree trunk?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is no tree trunk to chop nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l04839" name="l04839"></a><span class="lineno"> 4839</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l04840" name="l04840"></a><span class="lineno"> 4840</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04841" name="l04841"></a><span class="lineno"> 4841</span>    }</div>
<div class="line"><a id="l04842" name="l04842"></a><span class="lineno"> 4842</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l04843" name="l04843"></a><span class="lineno"> 4843</span>    <span class="keywordflow">if</span>( !f( pnt ) ) {</div>
<div class="line"><a id="l04844" name="l04844"></a><span class="lineno"> 4844</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t chop that.&quot;</span> ) );</div>
<div class="line"><a id="l04845" name="l04845"></a><span class="lineno"> 4845</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04846" name="l04846"></a><span class="lineno"> 4846</span>    }</div>
<div class="line"><a id="l04847" name="l04847"></a><span class="lineno"> 4847</span> </div>
<div class="line"><a id="l04848" name="l04848"></a><span class="lineno"> 4848</span>    <span class="keywordtype">int</span> moves = <a class="code hl_function" href="namespaceiuse.html#a49da5ba21638601d001ee1522104f91a">chop_moves</a>( *p, *it );</div>
<div class="line"><a id="l04849" name="l04849"></a><span class="lineno"> 4849</span> </div>
<div class="line"><a id="l04850" name="l04850"></a><span class="lineno"> 4850</span>    <span class="keyword">const</span> std::vector&lt;npc *&gt; helpers = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_crafting_helpers( 3 );</div>
<div class="line"><a id="l04851" name="l04851"></a><span class="lineno"> 4851</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *np : helpers ) {</div>
<div class="line"><a id="l04852" name="l04852"></a><span class="lineno"> 4852</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s helps with this task…&quot;</span> ), np-&gt;name );</div>
<div class="line"><a id="l04853" name="l04853"></a><span class="lineno"> 4853</span>    }</div>
<div class="line"><a id="l04854" name="l04854"></a><span class="lineno"> 4854</span>    moves = moves * ( 10 - helpers.size() ) / 10;</div>
<div class="line"><a id="l04855" name="l04855"></a><span class="lineno"> 4855</span> </div>
<div class="line"><a id="l04856" name="l04856"></a><span class="lineno"> 4856</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a85a4c1fa6c1ad7f204eeb79234da05d0">ACT_CHOP_LOGS</a>, moves, -1, p-&gt;<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( it ) );</div>
<div class="line"><a id="l04857" name="l04857"></a><span class="lineno"> 4857</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( pnt );</div>
<div class="line"><a id="l04858" name="l04858"></a><span class="lineno"> 4858</span> </div>
<div class="line"><a id="l04859" name="l04859"></a><span class="lineno"> 4859</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04860" name="l04860"></a><span class="lineno"> 4860</span>}</div>
<div class="ttc" id="aclassCharacter_html_a50ca774a69b5d6e12f7fba07434d9b35"><div class="ttname"><a href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">Character::get_item_position</a></div><div class="ttdeci">int get_item_position(const item *it) const</div><div class="ttdoc">Returns the item position (suitable for i_at or similar) of a specific item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02396">character.cpp:2396</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00780">npc.h:781</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a85a4c1fa6c1ad7f204eeb79234da05d0"><div class="ttname"><a href="iuse_8cpp.html#a85a4c1fa6c1ad7f204eeb79234da05d0">ACT_CHOP_LOGS</a></div><div class="ttdeci">static const activity_id ACT_CHOP_LOGS(&quot;ACT_CHOP_LOGS&quot;)</div></div>
<div class="ttc" id="amapdata_8cpp_html_a6f16ca9fa2e84605c3364bd7c6e2e094"><div class="ttname"><a href="mapdata_8cpp.html#a6f16ca9fa2e84605c3364bd7c6e2e094">t_trunk</a></div><div class="ttdeci">ter_id t_trunk</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00683">mapdata.cpp:683</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a7248cf2720a59b9b303bdfeefab7c5e9"><div class="ttname"><a href="mapdata_8cpp.html#a7248cf2720a59b9b303bdfeefab7c5e9">t_stump</a></div><div class="ttdeci">ter_id t_stump</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00683">mapdata.cpp:683</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a49da5ba21638601d001ee1522104f91a"><div class="ttname"><a href="namespaceiuse.html#a49da5ba21638601d001ee1522104f91a">iuse::chop_moves</a></div><div class="ttdeci">int chop_moves(Character &amp;ch, item &amp;tool)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04762">iuse.cpp:4762</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a85a4c1fa6c1ad7f204eeb79234da05d0">ACT_CHOP_LOGS</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="iuse_8cpp_source.html#l04762">chop_moves()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l02396">Character::get_item_position()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, <a class="el" href="mapdata_8cpp_source.html#l00683">t_stump</a>, <a class="el" href="mapdata_8cpp_source.html#l00683">t_trunk</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a49da5ba21638601d001ee1522104f91a" name="a49da5ba21638601d001ee1522104f91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49da5ba21638601d001ee1522104f91a">&#9670;&nbsp;</a></span>chop_moves()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::chop_moves </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>tool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04762">4762</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04763" name="l04763"></a><span class="lineno"> 4763</span>{</div>
<div class="line"><a id="l04764" name="l04764"></a><span class="lineno"> 4764</span>    <span class="comment">// quality of tool</span></div>
<div class="line"><a id="l04765" name="l04765"></a><span class="lineno"> 4765</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_struct" href="structquality.html">quality</a> = <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.get_quality( <a class="code hl_variable" href="iuse_8cpp.html#a5a11f34784499ed2f6b7b5c4d6c31c5d">qual_AXE</a> );</div>
<div class="line"><a id="l04766" name="l04766"></a><span class="lineno"> 4766</span> </div>
<div class="line"><a id="l04767" name="l04767"></a><span class="lineno"> 4767</span>    <span class="comment">// attribute; regular tools - based on STR, powered tools - based on DEX</span></div>
<div class="line"><a id="l04768" name="l04768"></a><span class="lineno"> 4768</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> attr = <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.has_flag( <span class="stringliteral">&quot;POWERED&quot;</span> ) ? ch.<a class="code hl_variable" href="classCharacter.html#a4065ac02745befad248425d307b71849">dex_cur</a> : ch.<a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a>;</div>
<div class="line"><a id="l04769" name="l04769"></a><span class="lineno"> 4769</span> </div>
<div class="line"><a id="l04770" name="l04770"></a><span class="lineno"> 4770</span>    <span class="keywordflow">return</span> to_moves&lt;int&gt;( std::max( 10_minutes, <a class="code hl_function" href="classtime__duration.html#a20688ca0a8848ec0d73636ede90d27ad">time_duration::from_minutes</a>( 60 - attr ) / <a class="code hl_struct" href="structquality.html">quality</a> ) );</div>
<div class="line"><a id="l04771" name="l04771"></a><span class="lineno"> 4771</span>}</div>
<div class="ttc" id="aclassCharacter_html_a4065ac02745befad248425d307b71849"><div class="ttname"><a href="classCharacter.html#a4065ac02745befad248425d307b71849">Character::dex_cur</a></div><div class="ttdeci">int dex_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00305">character.h:305</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a20688ca0a8848ec0d73636ede90d27ad"><div class="ttname"><a href="classtime__duration.html#a20688ca0a8848ec0d73636ede90d27ad">time_duration::from_minutes</a></div><div class="ttdeci">static constexpr time_duration from_minutes(const T m)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00212">calendar.h:212</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">item_consumption_t::tool</a></div><div class="ttdeci">@ tool</div></div>
<div class="ttc" id="aiuse_8cpp_html_a5a11f34784499ed2f6b7b5c4d6c31c5d"><div class="ttname"><a href="iuse_8cpp.html#a5a11f34784499ed2f6b7b5c4d6c31c5d">qual_AXE</a></div><div class="ttdeci">static const quality_id qual_AXE(&quot;AXE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8h_source.html#l00305">Character::dex_cur</a>, <a class="el" href="calendar_8h_source.html#l00212">time_duration::from_minutes()</a>, <a class="el" href="iuse_8cpp.html#a5a11f34784499ed2f6b7b5c4d6c31c5d">qual_AXE</a>, <a class="el" href="character_8h_source.html#l00304">Character::str_cur</a>, and <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l04817">chop_logs()</a>, <a class="el" href="iuse_8cpp_source.html#l04773">chop_tree()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l02416">chop_tree_activity()</a>.</p>

</div>
</div>
<a id="a497ebac6fa2d17e0890765b80832299f" name="a497ebac6fa2d17e0890765b80832299f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a497ebac6fa2d17e0890765b80832299f">&#9670;&nbsp;</a></span>chop_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::chop_tree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04773">4773</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04774" name="l04774"></a><span class="lineno"> 4774</span>{</div>
<div class="line"><a id="l04775" name="l04775"></a><span class="lineno"> 4775</span>    <span class="keywordflow">if</span>( !p || t ) {</div>
<div class="line"><a id="l04776" name="l04776"></a><span class="lineno"> 4776</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04777" name="l04777"></a><span class="lineno"> 4777</span>    }</div>
<div class="line"><a id="l04778" name="l04778"></a><span class="lineno"> 4778</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04779" name="l04779"></a><span class="lineno"> 4779</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04780" name="l04780"></a><span class="lineno"> 4780</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04781" name="l04781"></a><span class="lineno"> 4781</span>    }</div>
<div class="line"><a id="l04782" name="l04782"></a><span class="lineno"> 4782</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = []( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l04783" name="l04783"></a><span class="lineno"> 4783</span>        <span class="keywordflow">if</span>( pnt == <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) {</div>
<div class="line"><a id="l04784" name="l04784"></a><span class="lineno"> 4784</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04785" name="l04785"></a><span class="lineno"> 4785</span>        }</div>
<div class="line"><a id="l04786" name="l04786"></a><span class="lineno"> 4786</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;TREE&quot;</span>, pnt );</div>
<div class="line"><a id="l04787" name="l04787"></a><span class="lineno"> 4787</span>    };</div>
<div class="line"><a id="l04788" name="l04788"></a><span class="lineno"> 4788</span> </div>
<div class="line"><a id="l04789" name="l04789"></a><span class="lineno"> 4789</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l04790" name="l04790"></a><span class="lineno"> 4790</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Chop down which tree?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is no tree to chop down nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l04791" name="l04791"></a><span class="lineno"> 4791</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l04792" name="l04792"></a><span class="lineno"> 4792</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04793" name="l04793"></a><span class="lineno"> 4793</span>    }</div>
<div class="line"><a id="l04794" name="l04794"></a><span class="lineno"> 4794</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l04795" name="l04795"></a><span class="lineno"> 4795</span>    <span class="keywordflow">if</span>( !f( pnt ) ) {</div>
<div class="line"><a id="l04796" name="l04796"></a><span class="lineno"> 4796</span>        <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l04797" name="l04797"></a><span class="lineno"> 4797</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re not stern enough to shave yourself with THIS.&quot;</span> ) );</div>
<div class="line"><a id="l04798" name="l04798"></a><span class="lineno"> 4798</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04799" name="l04799"></a><span class="lineno"> 4799</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t chop down that.&quot;</span> ) );</div>
<div class="line"><a id="l04800" name="l04800"></a><span class="lineno"> 4800</span>        }</div>
<div class="line"><a id="l04801" name="l04801"></a><span class="lineno"> 4801</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04802" name="l04802"></a><span class="lineno"> 4802</span>    }</div>
<div class="line"><a id="l04803" name="l04803"></a><span class="lineno"> 4803</span>    <span class="keywordtype">int</span> moves = <a class="code hl_function" href="namespaceiuse.html#a49da5ba21638601d001ee1522104f91a">chop_moves</a>( *p, *it );</div>
<div class="line"><a id="l04804" name="l04804"></a><span class="lineno"> 4804</span> </div>
<div class="line"><a id="l04805" name="l04805"></a><span class="lineno"> 4805</span>    <span class="keyword">const</span> std::vector&lt;npc *&gt; helpers = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_crafting_helpers( 3 );</div>
<div class="line"><a id="l04806" name="l04806"></a><span class="lineno"> 4806</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *np : helpers ) {</div>
<div class="line"><a id="l04807" name="l04807"></a><span class="lineno"> 4807</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s helps with this task…&quot;</span> ), np-&gt;name );</div>
<div class="line"><a id="l04808" name="l04808"></a><span class="lineno"> 4808</span>    }</div>
<div class="line"><a id="l04809" name="l04809"></a><span class="lineno"> 4809</span>    moves = moves * ( 10 - helpers.size() ) / 10;</div>
<div class="line"><a id="l04810" name="l04810"></a><span class="lineno"> 4810</span> </div>
<div class="line"><a id="l04811" name="l04811"></a><span class="lineno"> 4811</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a015e5924b59a77e14009af8c8f72f3b0">ACT_CHOP_TREE</a>, moves, -1, p-&gt;<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( it ) );</div>
<div class="line"><a id="l04812" name="l04812"></a><span class="lineno"> 4812</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( pnt );</div>
<div class="line"><a id="l04813" name="l04813"></a><span class="lineno"> 4813</span> </div>
<div class="line"><a id="l04814" name="l04814"></a><span class="lineno"> 4814</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04815" name="l04815"></a><span class="lineno"> 4815</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a015e5924b59a77e14009af8c8f72f3b0"><div class="ttname"><a href="iuse_8cpp.html#a015e5924b59a77e14009af8c8f72f3b0">ACT_CHOP_TREE</a></div><div class="ttdeci">static const activity_id ACT_CHOP_TREE(&quot;ACT_CHOP_TREE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a015e5924b59a77e14009af8c8f72f3b0">ACT_CHOP_TREE</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="iuse_8cpp_source.html#l04762">chop_moves()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l02396">Character::get_item_position()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a30188170d193c1e90671e4b938926b87" name="a30188170d193c1e90671e4b938926b87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30188170d193c1e90671e4b938926b87">&#9670;&nbsp;</a></span>circsaw_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::circsaw_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03220">3220</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03221" name="l03221"></a><span class="lineno"> 3221</span>{</div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#a74ac96156e1d05593ce2dc168d2fb37c">toolweapon_on</a>( *p, *it, t, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;circular saw&quot;</span> ),</div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>                          <span class="keyword">true</span>,</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>                          15, 7, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your circular saw buzzes.&quot;</span> ) );</div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ad35dc0573f2c10a79ad65cad73762f32" name="ad35dc0573f2c10a79ad65cad73762f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35dc0573f2c10a79ad65cad73762f32">&#9670;&nbsp;</a></span>clear_rubble()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::clear_rubble </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Explanation of ACT_CLEAR_RUBBLE activity values: </p>
<p >coords[0]: Where the rubble is. index: The bonus, for calculating hunger and thirst penalties. </p>

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02935">2935</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02936" name="l02936"></a><span class="lineno"> 2936</span>{</div>
<div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span>    }</div>
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"> 2941</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = []( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;RUBBLE&quot;</span>, pnt );</div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>    };</div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span> </div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Clear rubble where?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is no rubble to clear nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"> 2947</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>    }</div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>    <span class="keywordflow">if</span>( !f( pnt ) ) {</div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s no rubble to clear.&quot;</span> ) );</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>    }</div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span> </div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span>    <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 30_seconds );</div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>    <span class="keywordtype">int</span> bonus = std::max( it-&gt;<a class="code hl_function" href="classitem.html#a4055882f85be37628b8ac9fe1e9e6964">get_quality</a>( <a class="code hl_class" href="classstring__id.html">quality_id</a>( <span class="stringliteral">&quot;DIG&quot;</span> ) ) - 1, 1 );</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span> </div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>    <span class="keyword">const</span> std::vector&lt;npc *&gt; helpers = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_crafting_helpers( 3 );</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *np : helpers ) {</div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s helps with this task…&quot;</span> ), np-&gt;name );</div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span>    }</div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span>    moves = moves * ( 10 - helpers.size() ) / 10;</div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span> </div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>    <a class="code hl_class" href="classplayer__activity.html">player_activity</a> <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( <a class="code hl_variable" href="iuse_8cpp.html#a5c474656425f78451d525598c1740ec6">ACT_CLEAR_RUBBLE</a>, moves / bonus, bonus );</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = pnt;</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span>}</div>
<div class="ttc" id="aclassitem_html_a4055882f85be37628b8ac9fe1e9e6964"><div class="ttname"><a href="classitem.html#a4055882f85be37628b8ac9fe1e9e6964">item::get_quality</a></div><div class="ttdeci">int get_quality(const quality_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05272">item.cpp:5272</a></div></div>
<div class="ttc" id="aclassplayer__activity_html"><div class="ttname"><a href="classplayer__activity.html">player_activity</a></div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00031">player_activity.h:32</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a5c474656425f78451d525598c1740ec6"><div class="ttname"><a href="iuse_8cpp.html#a5c474656425f78451d525598c1740ec6">ACT_CLEAR_RUBBLE</a></div><div class="ttdeci">static const activity_id ACT_CLEAR_RUBBLE(&quot;ACT_CLEAR_RUBBLE&quot;)</div></div>
<div class="ttc" id="asounds_8cpp_html_ad9fe7b616a93a8209da903eba756237e"><div class="ttname"><a href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a></div><div class="ttdeci">activity_id act</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00075">sounds.cpp:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="sounds_8cpp_source.html#l00075">act</a>, <a class="el" href="iuse_8cpp.html#a5c474656425f78451d525598c1740ec6">ACT_CLEAR_RUBBLE</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05272">item::get_quality()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a2ff458256cc3dd93ea9a65ff36ee556d" name="a2ff458256cc3dd93ea9a65ff36ee556d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff458256cc3dd93ea9a65ff36ee556d">&#9670;&nbsp;</a></span>coin_flip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::coin_flip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09717">9717</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09718" name="l09718"></a><span class="lineno"> 9718</span>{</div>
<div class="line"><a id="l09719" name="l09719"></a><span class="lineno"> 9719</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You flip a %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09720" name="l09720"></a><span class="lineno"> 9720</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Heads!&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Tails!&quot;</span> ) );</div>
<div class="line"><a id="l09721" name="l09721"></a><span class="lineno"> 9721</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09722" name="l09722"></a><span class="lineno"> 9722</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ad4ae1522fa6bd5a1dca74d08ad76c8e1" name="ad4ae1522fa6bd5a1dca74d08ad76c8e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ae1522fa6bd5a1dca74d08ad76c8e1">&#9670;&nbsp;</a></span>combatsaw_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::combatsaw_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03054">3054</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span>{</div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#ab84218a7a696ba0c25b8a593731fc7ee">toolweapon_off</a>( *p, *it,</div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span>                           <span class="keyword">true</span>,</div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>                           !p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>(),</div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>                           30, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;With a snarl, the combat chainsaw screams to life!&quot;</span> ),</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You yank the cord, but nothing happens.&quot;</span> ) );</div>
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"> 3061</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, and <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a418d7c8d1422f573f32df2253997b165" name="a418d7c8d1422f573f32df2253997b165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a418d7c8d1422f573f32df2253997b165">&#9670;&nbsp;</a></span>combatsaw_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::combatsaw_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03158">3158</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span>{</div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#a74ac96156e1d05593ce2dc168d2fb37c">toolweapon_on</a>( *p, *it, t, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;combat chainsaw&quot;</span> ),</div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span>                          <span class="keyword">false</span>,</div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>                          12, 18, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your combat chainsaw growls.&quot;</span> ) );</div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a94ee528f750608e518c16f09103a997d" name="a94ee528f750608e518c16f09103a997d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94ee528f750608e518c16f09103a997d">&#9670;&nbsp;</a></span>contacts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::contacts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05789">5789</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05790" name="l05790"></a><span class="lineno"> 5790</span>{</div>
<div class="line"><a id="l05791" name="l05791"></a><span class="lineno"> 5791</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l05792" name="l05792"></a><span class="lineno"> 5792</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l05793" name="l05793"></a><span class="lineno"> 5793</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05794" name="l05794"></a><span class="lineno"> 5794</span>    }</div>
<div class="line"><a id="l05795" name="l05795"></a><span class="lineno"> 5795</span>    <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> duration = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 6_days, 8_days );</div>
<div class="line"><a id="l05796" name="l05796"></a><span class="lineno"> 5796</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a> ) ) {</div>
<div class="line"><a id="l05797" name="l05797"></a><span class="lineno"> 5797</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Replace your current lenses?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l05798" name="l05798"></a><span class="lineno"> 5798</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 20_seconds );</div>
<div class="line"><a id="l05799" name="l05799"></a><span class="lineno"> 5799</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You replace your current %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05800" name="l05800"></a><span class="lineno"> 5800</span>            p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a> );</div>
<div class="line"><a id="l05801" name="l05801"></a><span class="lineno"> 5801</span>            p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a>, duration );</div>
<div class="line"><a id="l05802" name="l05802"></a><span class="lineno"> 5802</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05803" name="l05803"></a><span class="lineno"> 5803</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05804" name="l05804"></a><span class="lineno"> 5804</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t do anything with your %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05805" name="l05805"></a><span class="lineno"> 5805</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05806" name="l05806"></a><span class="lineno"> 5806</span>        }</div>
<div class="line"><a id="l05807" name="l05807"></a><span class="lineno"> 5807</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a> ) || p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a672afa3f6b579e99536696aa88ce9086">trait_MYOPIC</a> ) ||</div>
<div class="line"><a id="l05808" name="l05808"></a><span class="lineno"> 5808</span>               p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a5a9d650e68c539d904f8c0778a815d54">trait_URSINE_EYE</a> ) ) {</div>
<div class="line"><a id="l05809" name="l05809"></a><span class="lineno"> 5809</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 20_seconds );</div>
<div class="line"><a id="l05810" name="l05810"></a><span class="lineno"> 5810</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You put the %s in your eyes.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05811" name="l05811"></a><span class="lineno"> 5811</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a>, duration );</div>
<div class="line"><a id="l05812" name="l05812"></a><span class="lineno"> 5812</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05813" name="l05813"></a><span class="lineno"> 5813</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05814" name="l05814"></a><span class="lineno"> 5814</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your vision is fine already.&quot;</span> ) );</div>
<div class="line"><a id="l05815" name="l05815"></a><span class="lineno"> 5815</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05816" name="l05816"></a><span class="lineno"> 5816</span>    }</div>
<div class="line"><a id="l05817" name="l05817"></a><span class="lineno"> 5817</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a3151d4a613895c95436a5981e382ef80"><div class="ttname"><a href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a></div><div class="ttdeci">static const efftype_id effect_contacts(&quot;contacts&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a5a9d650e68c539d904f8c0778a815d54"><div class="ttname"><a href="iuse_8cpp.html#a5a9d650e68c539d904f8c0778a815d54">trait_URSINE_EYE</a></div><div class="ttdeci">static const trait_id trait_URSINE_EYE(&quot;URSINE_EYE&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a672afa3f6b579e99536696aa88ce9086"><div class="ttname"><a href="iuse_8cpp.html#a672afa3f6b579e99536696aa88ce9086">trait_MYOPIC</a></div><div class="ttdeci">static const trait_id trait_MYOPIC(&quot;MYOPIC&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a83835dcd301781ff63080d4b0fc72a18"><div class="ttname"><a href="iuse_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a></div><div class="ttdeci">static const trait_id trait_HYPEROPIC(&quot;HYPEROPIC&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="iuse_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a>, <a class="el" href="iuse_8cpp.html#a672afa3f6b579e99536696aa88ce9086">trait_MYOPIC</a>, <a class="el" href="iuse_8cpp.html#a5a9d650e68c539d904f8c0778a815d54">trait_URSINE_EYE</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a31feaa639847b8a1e5974e026eb785b5" name="a31feaa639847b8a1e5974e026eb785b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31feaa639847b8a1e5974e026eb785b5">&#9670;&nbsp;</a></span>craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::craft </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09630">9630</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09631" name="l09631"></a><span class="lineno"> 9631</span>{</div>
<div class="line"><a id="l09632" name="l09632"></a><span class="lineno"> 9632</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l09633" name="l09633"></a><span class="lineno"> 9633</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l09634" name="l09634"></a><span class="lineno"> 9634</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09635" name="l09635"></a><span class="lineno"> 9635</span>    }</div>
<div class="line"><a id="l09636" name="l09636"></a><span class="lineno"> 9636</span> </div>
<div class="line"><a id="l09637" name="l09637"></a><span class="lineno"> 9637</span>    <span class="keyword">const</span> std::string craft_name = it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>();</div>
<div class="line"><a id="l09638" name="l09638"></a><span class="lineno"> 9638</span> </div>
<div class="line"><a id="l09639" name="l09639"></a><span class="lineno"> 9639</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l09640" name="l09640"></a><span class="lineno"> 9640</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Attempted to start working on non craft &#39;%s.&#39;  Aborting.&quot;</span>, craft_name );</div>
<div class="line"><a id="l09641" name="l09641"></a><span class="lineno"> 9641</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09642" name="l09642"></a><span class="lineno"> 9642</span>    }</div>
<div class="line"><a id="l09643" name="l09643"></a><span class="lineno"> 9643</span> </div>
<div class="line"><a id="l09644" name="l09644"></a><span class="lineno"> 9644</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classplayer.html#a9b76ffb136ac45068a15eca83a71b279">can_continue_craft</a>( *it ) ) {</div>
<div class="line"><a id="l09645" name="l09645"></a><span class="lineno"> 9645</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09646" name="l09646"></a><span class="lineno"> 9646</span>    }</div>
<div class="line"><a id="l09647" name="l09647"></a><span class="lineno"> 9647</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp;rec = it-&gt;<a class="code hl_function" href="classitem.html#a685baa0530bf9e4cb57c2cea27ed332b">get_making</a>();</div>
<div class="line"><a id="l09648" name="l09648"></a><span class="lineno"> 9648</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#aa4184fe8a21d73194f782cc48c798f60">has_recipe</a>( &amp;rec, p-&gt;<a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>(), p-&gt;<a class="code hl_function" href="classplayer.html#a1ca63c0414c6b4ea34691ef1f4f40047">get_crafting_helpers</a>() ) == -1 ) {</div>
<div class="line"><a id="l09649" name="l09649"></a><span class="lineno"> 9649</span>        p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l09650" name="l09650"></a><span class="lineno"> 9650</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t know the recipe for the %s and can&#39;t continue crafting.&quot;</span> ),</div>
<div class="line"><a id="l09651" name="l09651"></a><span class="lineno"> 9651</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; doesn&#39;t know the recipe for the %s and can&#39;t continue crafting.&quot;</span> ),</div>
<div class="line"><a id="l09652" name="l09652"></a><span class="lineno"> 9652</span>            rec.<a class="code hl_function" href="classrecipe.html#a0306672b3485a410ef74cd5cdc1f5279">result_name</a>() );</div>
<div class="line"><a id="l09653" name="l09653"></a><span class="lineno"> 9653</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09654" name="l09654"></a><span class="lineno"> 9654</span>    }</div>
<div class="line"><a id="l09655" name="l09655"></a><span class="lineno"> 9655</span> </div>
<div class="line"><a id="l09656" name="l09656"></a><span class="lineno"> 9656</span>    <a class="code hl_struct" href="structbench__location.html">bench_location</a> best_bench = <a class="code hl_function" href="crafting_8cpp.html#a1d2a7cb3089df9947e11010194801609">find_best_bench</a>( *p, *it );</div>
<div class="line"><a id="l09657" name="l09657"></a><span class="lineno"> 9657</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l09658" name="l09658"></a><span class="lineno"> 9658</span>        <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;in progress craft&quot;</span>, <span class="stringliteral">&quot;You start working on the %s.&quot;</span> ),</div>
<div class="line"><a id="l09659" name="l09659"></a><span class="lineno"> 9659</span>        <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;in progress craft&quot;</span>, <span class="stringliteral">&quot;&lt;npcname&gt; starts working on the %s.&quot;</span> ), craft_name );</div>
<div class="line"><a id="l09660" name="l09660"></a><span class="lineno"> 9660</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a998c1f0ad926f40dc54ed31ef34e105e">ACT_CRAFT</a> );</div>
<div class="line"><a id="l09661" name="l09661"></a><span class="lineno"> 9661</span>    <span class="comment">// Horrible! We have to find the item again...</span></div>
<div class="line"><a id="l09662" name="l09662"></a><span class="lineno"> 9662</span>    <a class="code hl_class" href="classitem__location.html">item_location</a> where;</div>
<div class="line"><a id="l09663" name="l09663"></a><span class="lineno"> 9663</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l09664" name="l09664"></a><span class="lineno"> 9664</span>        where = <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, it );</div>
<div class="line"><a id="l09665" name="l09665"></a><span class="lineno"> 9665</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pos ).part_with_feature( <span class="stringliteral">&quot;CARGO&quot;</span>,</div>
<div class="line"><a id="l09666" name="l09666"></a><span class="lineno"> 9666</span>               <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l09667" name="l09667"></a><span class="lineno"> 9667</span>        <span class="keyword">const</span> <a class="code hl_class" href="classvehicle__cursor.html">vehicle_cursor</a> vc = <a class="code hl_class" href="classvehicle__cursor.html">vehicle_cursor</a>( vp-&gt;vehicle(), vp-&gt;part_index() );</div>
<div class="line"><a id="l09668" name="l09668"></a><span class="lineno"> 9668</span>        <span class="keywordflow">if</span>( vc.<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l09669" name="l09669"></a><span class="lineno"> 9669</span>            where = <a class="code hl_class" href="classitem__location.html">item_location</a>( vc, it ) ;</div>
<div class="line"><a id="l09670" name="l09670"></a><span class="lineno"> 9670</span>        }</div>
<div class="line"><a id="l09671" name="l09671"></a><span class="lineno"> 9671</span>    }</div>
<div class="line"><a id="l09672" name="l09672"></a><span class="lineno"> 9672</span> </div>
<div class="line"><a id="l09673" name="l09673"></a><span class="lineno"> 9673</span>    <span class="keywordflow">if</span>( !where ) {</div>
<div class="line"><a id="l09674" name="l09674"></a><span class="lineno"> 9674</span>        <a class="code hl_class" href="classmap__cursor.html">map_cursor</a> mc = <a class="code hl_class" href="classmap__cursor.html">map_cursor</a>( pos );</div>
<div class="line"><a id="l09675" name="l09675"></a><span class="lineno"> 9675</span>        <span class="keywordflow">if</span>( mc.<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l09676" name="l09676"></a><span class="lineno"> 9676</span>            where = <a class="code hl_class" href="classitem__location.html">item_location</a>( <a class="code hl_class" href="classmap__cursor.html">map_cursor</a>( pos ), it );</div>
<div class="line"><a id="l09677" name="l09677"></a><span class="lineno"> 9677</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09678" name="l09678"></a><span class="lineno"> 9678</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Incomplete item couldn&#39;t be found&quot;</span> );</div>
<div class="line"><a id="l09679" name="l09679"></a><span class="lineno"> 9679</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09680" name="l09680"></a><span class="lineno"> 9680</span>        }</div>
<div class="line"><a id="l09681" name="l09681"></a><span class="lineno"> 9681</span>    }</div>
<div class="line"><a id="l09682" name="l09682"></a><span class="lineno"> 9682</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( where );</div>
<div class="line"><a id="l09683" name="l09683"></a><span class="lineno"> 9683</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a13afed9baf3755048523a4ba9b896216">coords</a>.push_back( best_bench.<a class="code hl_variable" href="structbench__location.html#aea91597de713d6272ac0482a778a49ef">position</a> );</div>
<div class="line"><a id="l09684" name="l09684"></a><span class="lineno"> 9684</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.push_back( 0 ); <span class="comment">// Not a long craft</span></div>
<div class="line"><a id="l09685" name="l09685"></a><span class="lineno"> 9685</span>    <span class="comment">// Ugly</span></div>
<div class="line"><a id="l09686" name="l09686"></a><span class="lineno"> 9686</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.push_back( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( best_bench.<a class="code hl_variable" href="structbench__location.html#a798af50900ad9c46f5fe40d3b5367416">type</a> ) );</div>
<div class="line"><a id="l09687" name="l09687"></a><span class="lineno"> 9687</span> </div>
<div class="line"><a id="l09688" name="l09688"></a><span class="lineno"> 9688</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09689" name="l09689"></a><span class="lineno"> 9689</span>}</div>
<div class="ttc" id="aclassCharacter_html_abd358c7a7757575b70b1613dbcce40a7"><div class="ttname"><a href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">Character::crafting_inventory</a></div><div class="ttdeci">const inventory &amp; crafting_inventory(bool clear_path)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00545">crafting.cpp:545</a></div></div>
<div class="ttc" id="aclassitem_html_a685baa0530bf9e4cb57c2cea27ed332b"><div class="ttname"><a href="classitem.html#a685baa0530bf9e4cb57c2cea27ed332b">item::get_making</a></div><div class="ttdeci">const recipe &amp; get_making() const</div><div class="ttdoc">Get the stored recipe for in progress crafts.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09916">item.cpp:9916</a></div></div>
<div class="ttc" id="aclassitem_html_a7f25e0430419609c538b07f704d6ba7a"><div class="ttname"><a href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">item::is_craft</a></div><div class="ttdeci">bool is_craft() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06768">item.cpp:6768</a></div></div>
<div class="ttc" id="aclassmap__cursor_html"><div class="ttname"><a href="classmap__cursor.html">map_cursor</a></div><div class="ttdef"><b>Definition:</b> <a href="map__selector_8h_source.html#l00010">map_selector.h:11</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a13afed9baf3755048523a4ba9b896216"><div class="ttname"><a href="classplayer__activity.html#a13afed9baf3755048523a4ba9b896216">player_activity::coords</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; coords</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00059">player_activity.h:59</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a979cd5aca677ff30dcbb767d4a3980d2"><div class="ttname"><a href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">player_activity::targets</a></div><div class="ttdeci">std::vector&lt; item_location &gt; targets</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00056">player_activity.h:56</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_aca09f19b9a36866a33a46cf0c8ee484d"><div class="ttname"><a href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">player_activity::values</a></div><div class="ttdeci">std::vector&lt; int &gt; values</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00057">player_activity.h:57</a></div></div>
<div class="ttc" id="aclassplayer_html_a1ca63c0414c6b4ea34691ef1f4f40047"><div class="ttname"><a href="classplayer.html#a1ca63c0414c6b4ea34691ef1f4f40047">player::get_crafting_helpers</a></div><div class="ttdeci">std::vector&lt; npc * &gt; get_crafting_helpers(size_t max=0) const</div><div class="ttdoc">Returns nearby NPCs ready and willing to help with crafting or some other manual task.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02322">crafting.cpp:2322</a></div></div>
<div class="ttc" id="aclassplayer_html_a9b76ffb136ac45068a15eca83a71b279"><div class="ttname"><a href="classplayer.html#a9b76ffb136ac45068a15eca83a71b279">player::can_continue_craft</a></div><div class="ttdeci">bool can_continue_craft(item &amp;craft)</div><div class="ttdoc">Check if the player meets the requirements to continue the in progress craft and if unable to continu...</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01147">crafting.cpp:1147</a></div></div>
<div class="ttc" id="aclassplayer_html_aa4184fe8a21d73194f782cc48c798f60"><div class="ttname"><a href="classplayer.html#aa4184fe8a21d73194f782cc48c798f60">player::has_recipe</a></div><div class="ttdeci">int has_recipe(const recipe *r, const inventory &amp;crafting_inv, const std::vector&lt; npc * &gt; &amp;helpers) const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04123">player.cpp:4123</a></div></div>
<div class="ttc" id="aclassrecipe_html"><div class="ttname"><a href="classrecipe.html">recipe</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00034">recipe.h:35</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0306672b3485a410ef74cd5cdc1f5279"><div class="ttname"><a href="classrecipe.html#a0306672b3485a410ef74cd5cdc1f5279">recipe::result_name</a></div><div class="ttdeci">std::string result_name() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00579">recipe.cpp:579</a></div></div>
<div class="ttc" id="aclassvehicle__cursor_html"><div class="ttname"><a href="classvehicle__cursor.html">vehicle_cursor</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle__selector_8h_source.html#l00013">vehicle_selector.h:14</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a1d2a7cb3089df9947e11010194801609"><div class="ttname"><a href="crafting_8cpp.html#a1d2a7cb3089df9947e11010194801609">find_best_bench</a></div><div class="ttdeci">bench_location find_best_bench(const player &amp;p, const item &amp;craft)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02372">crafting.cpp:2372</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a998c1f0ad926f40dc54ed31ef34e105e"><div class="ttname"><a href="iuse_8cpp.html#a998c1f0ad926f40dc54ed31ef34e105e">ACT_CRAFT</a></div><div class="ttdeci">static const activity_id ACT_CRAFT(&quot;ACT_CRAFT&quot;)</div></div>
<div class="ttc" id="astructbench__location_html"><div class="ttname"><a href="structbench__location.html">bench_location</a></div><div class="ttdef"><b>Definition:</b> <a href="crafting_8h_source.html#l00027">crafting.h:27</a></div></div>
<div class="ttc" id="astructbench__location_html_a798af50900ad9c46f5fe40d3b5367416"><div class="ttname"><a href="structbench__location.html#a798af50900ad9c46f5fe40d3b5367416">bench_location::type</a></div><div class="ttdeci">bench_type type</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8h_source.html#l00031">crafting.h:31</a></div></div>
<div class="ttc" id="astructbench__location_html_aea91597de713d6272ac0482a778a49ef"><div class="ttname"><a href="structbench__location.html#aea91597de713d6272ac0482a778a49ef">bench_location::position</a></div><div class="ttdeci">tripoint position</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8h_source.html#l00032">crafting.h:32</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_af0c79b5c75a7cf2df78663485b03ed9a"><div class="ttname"><a href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a></div><div class="ttdeci">const char * pgettext(const char *context, const char *msgid)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00041">translations.cpp:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a998c1f0ad926f40dc54ed31ef34e105e">ACT_CRAFT</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="crafting_8cpp_source.html#l01147">player::can_continue_craft()</a>, <a class="el" href="player__activity_8h_source.html#l00059">player_activity::coords</a>, <a class="el" href="crafting_8cpp_source.html#l00545">Character::crafting_inventory()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="crafting_8cpp_source.html#l02372">find_best_bench()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="crafting_8cpp_source.html#l02322">player::get_crafting_helpers()</a>, <a class="el" href="item_8cpp_source.html#l09916">item::get_making()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="player_8cpp_source.html#l04123">player::has_recipe()</a>, <a class="el" href="item_8cpp_source.html#l06768">item::is_craft()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="crafting_8h_source.html#l00032">bench_location::position</a>, <a class="el" href="recipe_8cpp_source.html#l00579">recipe::result_name()</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="crafting_8h_source.html#l00031">bench_location::type</a>, and <a class="el" href="player__activity_8h_source.html#l00057">player_activity::values</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l02340">best_bench_here()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03867">activity_handlers::craft_do_turn()</a>, <a class="el" href="player__activity_8cpp_source.html#l00118">craft_progress_message()</a>, <a class="el" href="crafting_8cpp_source.html#l00277">crafting_speed_multiplier()</a>, <a class="el" href="crafting_8cpp_source.html#l00905">destroy_random_component()</a>, <a class="el" href="crafting_8cpp_source.html#l02372">find_best_bench()</a>, <a class="el" href="item_8cpp_source.html#l00448">get_most_rotten_component()</a>, <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="crafting_8cpp_source.html#l00197">workbench_crafting_speed_multiplier()</a>.</p>

</div>
</div>
<a id="a9430d817f535840cefa29014ad73a062" name="a9430d817f535840cefa29014ad73a062"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9430d817f535840cefa29014ad73a062">&#9670;&nbsp;</a></span>crowbar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::crowbar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Strength speeds up crowbar prying attempts Strength increases chance of crowbar prying success Strength reduces chance of breaking window with crowbar Mechanics reduces chance of breaking window with crowbar 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02411">2411</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>{</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>    }</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structpry__result.html">pry_result</a> *pry = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>    <span class="keywordtype">bool</span> pry_furn;</div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span> </div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; can_pry = [&amp;p]( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>        <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>        }</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>        <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> ter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>        <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> furn = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( pnt );</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span> </div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_allowed = ter-&gt;<a class="code hl_variable" href="structmap__data__common__t.html#a58b7afc95aa242623d88234d67c10e44">pry</a>.<a class="code hl_variable" href="structpry__result.html#af0fc1761e58b76b0a6c18e1e3ffab9a9">pry_quality</a> != -1 || furn-&gt;<a class="code hl_variable" href="structmap__data__common__t.html#a58b7afc95aa242623d88234d67c10e44">pry</a>.<a class="code hl_variable" href="structpry__result.html#af0fc1761e58b76b0a6c18e1e3ffab9a9">pry_quality</a> != -1;</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>        <span class="keywordflow">return</span> is_allowed;</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>    };</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span> </div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = ( pos != p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ? pos : <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Pry where?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is nothing to pry nearby.&quot;</span> ), can_pry, false );</div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span>    }</div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> ter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> furn = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( pnt );</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span> </div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>    <span class="keywordflow">if</span>( !can_pry( pnt ) ) {</div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>        <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You attempt to pry open your wallet &quot;</span></div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>                                             <span class="stringliteral">&quot;but alas.  You are just too miserly.&quot;</span> ) );</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !ter-&gt;<a class="code hl_function" href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">has_flag</a>( <span class="stringliteral">&quot;LOCKED&quot;</span> ) &amp;&amp; ter-&gt;<a class="code hl_variable" href="structter__t.html#a67c4e64d08591dbb404ef18e051b1f12">open</a> ) {</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You notice the door is unlocked, so you simply open it.&quot;</span> ) );</div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter_set( pnt, ter-&gt;<a class="code hl_variable" href="structter__t.html#a67c4e64d08591dbb404ef18e051b1f12">open</a> );</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t pry that.&quot;</span> ) );</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>        }</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span> </div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>    }</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span> </div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>    <span class="keywordflow">if</span>( furn-&gt;<a class="code hl_variable" href="structmap__data__common__t.html#a58b7afc95aa242623d88234d67c10e44">pry</a>.<a class="code hl_variable" href="structpry__result.html#af0fc1761e58b76b0a6c18e1e3ffab9a9">pry_quality</a> != -1 ) {</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>        pry_furn = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>        pry = &amp;furn-&gt;<a class="code hl_variable" href="structmap__data__common__t.html#a58b7afc95aa242623d88234d67c10e44">pry</a>;</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>        pry_furn = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>        pry = &amp;ter-&gt;<a class="code hl_variable" href="structmap__data__common__t.html#a58b7afc95aa242623d88234d67c10e44">pry</a>;</div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>    }</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span> </div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>    <span class="comment">// Doors need PRY 2 which is on a crowbar, crates need PRY 1 which is on a crowbar</span></div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>    <span class="comment">// &amp; a claw hammer.</span></div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span>    <span class="comment">// The iexamine function for crate supplies a hammer object.</span></div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>    <span class="comment">// So this stops the player (A)ctivating a Hammer with a Crowbar in their backpack</span></div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span>    <span class="comment">// then managing to open a door.</span></div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> pry_level = it-&gt;<a class="code hl_function" href="classitem.html#a4055882f85be37628b8ac9fe1e9e6964">get_quality</a>( <a class="code hl_typedef" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>( <span class="stringliteral">&quot;PRY&quot;</span> ) );</div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span> </div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>    <span class="keywordflow">if</span>( pry_level &lt; pry-&gt;pry_quality ) {</div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t get sufficient leverage to open that with your %s.&quot;</span> ),</div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( 10 ); <span class="comment">// spend a few moves trying it.</span></div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>    }</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span> </div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>    <span class="comment">// For every level of PRY over the requirement, remove n from the difficulty.</span></div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span>    <span class="comment">// Then multiply n by pry_bonus_mult. It&#39;s recommended that you don&#39;t allow</span></div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>    <span class="comment">// the result to be negative if you can help it.</span></div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span>    <span class="keywordtype">int</span> diff = pry-&gt;<a class="code hl_variable" href="structpry__result.html#a6f2bd33f5c3baa0552d8f5b3b9452b47">difficulty</a>;</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>    diff -= ( ( pry_level - pry-&gt;<a class="code hl_variable" href="structpry__result.html#af0fc1761e58b76b0a6c18e1e3ffab9a9">pry_quality</a> ) * pry-&gt;<a class="code hl_variable" href="structpry__result.html#ac51eeceaf9b236aca951e33e6a147883">pry_bonus_mult</a> );</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span><span class="comment"></span> </div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span><span class="comment">    /** @EFFECT_STR speeds up crowbar prying attempts */</span></div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -std::max( 20, diff * 50 - p-&gt;<a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a> * 10 ) );<span class="comment"></span></div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span><span class="comment">    /** @EFFECT_STR increases chance of crowbar prying success */</span></div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span> </div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 4, diff ) &lt; <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 4, p-&gt;<a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a> ) ) {</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, pry-&gt;<a class="code hl_variable" href="structpry__result.html#a2b71b77c9fdcd5668618d3e35b21bd5c">success_message</a> );</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span> </div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>        <span class="keywordflow">if</span>( pry_furn ) {</div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn_set( pnt, pry-&gt;<a class="code hl_variable" href="structpry__result.html#ae01ec1272606e7ade07eddc6bb506c11">new_furn_type</a> );</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter_set( pnt, pry-&gt;<a class="code hl_variable" href="structpry__result.html#ad16fa01388b4b1eb2af70454d2c87c80">new_ter_type</a> );</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>        }</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span> </div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>        <span class="keywordflow">if</span>( pry-&gt;<a class="code hl_variable" href="structpry__result.html#a2a20beace00427e3215edf08a7b85c5a">noise</a> &gt; 0 ) {</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>            <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pnt, pry-&gt;<a class="code hl_variable" href="structpry__result.html#a2a20beace00427e3215edf08a7b85c5a">noise</a>, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, pry-&gt;<a class="code hl_variable" href="structpry__result.html#a46bf0148d80ddca319330dafd59b4096">sound</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;tool&quot;</span>, <span class="stringliteral">&quot;crowbar&quot;</span> );</div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span>        }</div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.spawn_items( pnt, <a class="code hl_function" href="namespaceitem__group.html#ad15629f772f27e1d19c90fe9de23ae99">item_group::items_from</a>( pry-&gt;<a class="code hl_variable" href="structpry__result.html#a15891bc90a74b429709aac4dd1d89f2b">pry_items</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) );</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>        <span class="keywordflow">if</span>( pry-&gt;<a class="code hl_variable" href="structpry__result.html#a06319cec485faafd78e11d17f5d3b869">alarm</a> ) {</div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceab72f74bd1ee8a473f5e7df9de984e3a8">event_type::triggers_alarm</a>&gt;( p-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span>            <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 40, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;an alarm sound!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;environment&quot;</span>,</div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span>                           <span class="stringliteral">&quot;alarm&quot;</span> );</div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;timed_events.queued( <a class="code hl_enumvalue" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7afff18e924c5aeb1079ad44439996203a">TIMED_EVENT_WANTED</a> ) ) {</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;timed_events.add( <a class="code hl_enumvalue" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7afff18e924c5aeb1079ad44439996203a">TIMED_EVENT_WANTED</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + 30_minutes, 0,</div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>                                     p-&gt;<a class="code hl_function" href="classCharacter.html#a6d8533249182cd0cfc6feefb81349e3e">global_sm_location</a>() );</div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span>            }</div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>        }</div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span>        <span class="keywordflow">if</span>( pry-&gt;<a class="code hl_variable" href="structpry__result.html#aa97e06b86b015790b05b1d7be6067604">breakable</a> ) {</div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>            <span class="comment">//chance of breaking the glass if pry attempt fails</span><span class="comment"></span></div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span><span class="comment">            /** @EFFECT_STR reduces chance of breaking window with crowbar */</span></div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span><span class="comment"></span> </div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span><span class="comment">            /** @EFFECT_MECHANICS reduces chance of breaking window with crowbar */</span></div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 4, diff ) &gt; ( <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 2, p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a> ) ) + <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 2,</div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>                                    p-&gt;<a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a> ) ) * pry_level ) {</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100">m_mixed</a>, pry-&gt;<a class="code hl_variable" href="structpry__result.html#a289ea364536a9476b0f4b8b7bcef5d5d">break_message</a> );</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>                <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pnt, pry-&gt;<a class="code hl_variable" href="structpry__result.html#a42a8a8608a1a1a33f983f74a75b6408a">break_noise</a>, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, pry-&gt;<a class="code hl_variable" href="structpry__result.html#a8f1cb559f1566f7d6b7521266e247853">break_sound</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;smash&quot;</span>,</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>                               <span class="stringliteral">&quot;door&quot;</span> );</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>                <span class="keywordflow">if</span>( pry_furn ) {</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn_set( pnt, pry-&gt;<a class="code hl_variable" href="structpry__result.html#a2bd70d85a9ce87fb65e1c9c25e2cb94b">break_furn_type</a> );</div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter_set( pnt, pry-&gt;<a class="code hl_variable" href="structpry__result.html#a225855755a4a118b089085961540b337">break_ter_type</a> );</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>                }</div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.spawn_items( pnt, <a class="code hl_function" href="namespaceitem__group.html#ad15629f772f27e1d19c90fe9de23ae99">item_group::items_from</a>( pry-&gt;<a class="code hl_variable" href="structpry__result.html#af882e0261dcb134c31885ebee329307f">break_items</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) );</div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>                <span class="keywordflow">if</span>( pry-&gt;<a class="code hl_variable" href="structpry__result.html#a06319cec485faafd78e11d17f5d3b869">alarm</a> ) {</div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceab72f74bd1ee8a473f5e7df9de984e3a8">event_type::triggers_alarm</a>&gt;( p-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span>                    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 40, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;an alarm sound!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;environment&quot;</span>,</div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span>                                   <span class="stringliteral">&quot;alarm&quot;</span> );</div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span>                    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;timed_events.queued( <a class="code hl_enumvalue" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7afff18e924c5aeb1079ad44439996203a">TIMED_EVENT_WANTED</a> ) ) {</div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;timed_events.add( <a class="code hl_enumvalue" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7afff18e924c5aeb1079ad44439996203a">TIMED_EVENT_WANTED</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + 30_minutes, 0,</div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>                                             p-&gt;<a class="code hl_function" href="classCharacter.html#a6d8533249182cd0cfc6feefb81349e3e">global_sm_location</a>() );</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>                    }</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>                }</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>            }</div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>        }</div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( pry-&gt;<a class="code hl_variable" href="structpry__result.html#a354c660d69732ee9473e819b205b16d2">fail_message</a> );</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>    }</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>}</div>
<div class="ttc" id="aclassCharacter_html_a6d8533249182cd0cfc6feefb81349e3e"><div class="ttname"><a href="classCharacter.html#a6d8533249182cd0cfc6feefb81349e3e">Character::global_sm_location</a></div><div class="ttdeci">tripoint global_sm_location() const</div><div class="ttdoc">Returns the location of the player in global submap coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06313">character.cpp:6313</a></div></div>
<div class="ttc" id="aclassCharacter_html_afa95fe499ca6b55ab97f1b442a4c95c5"><div class="ttname"><a href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">Character::get_skill_level</a></div><div class="ttdeci">int get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03327">character.cpp:3327</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01402">creature.cpp:1402</a></div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1ceab72f74bd1ee8a473f5e7df9de984e3a8"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceab72f74bd1ee8a473f5e7df9de984e3a8">event_type::triggers_alarm</a></div><div class="ttdeci">@ triggers_alarm</div></div>
<div class="ttc" id="aiuse_8cpp_html_a53a27ba882bb24158d8752e53158bf46"><div class="ttname"><a href="iuse_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a></div><div class="ttdeci">static const skill_id skill_mechanics(&quot;mechanics&quot;)</div></div>
<div class="ttc" id="anamespaceitem__group_html_ad15629f772f27e1d19c90fe9de23ae99"><div class="ttname"><a href="namespaceitem__group.html#ad15629f772f27e1d19c90fe9de23ae99">item_group::items_from</a></div><div class="ttdeci">ItemList items_from(const item_group_id &amp;group_id, const time_point &amp;birthday)</div><div class="ttdoc">Create items from the given group.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00574">item_group.cpp:574</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a></div><div class="ttdeci">@ alarm</div></div>
<div class="ttc" id="arng_8cpp_html_a7ba03e7147e43d808dc29c54bce9e57f"><div class="ttname"><a href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a></div><div class="ttdeci">int dice(int number, int sides)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00085">rng.cpp:85</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a58b7afc95aa242623d88234d67c10e44"><div class="ttname"><a href="structmap__data__common__t.html#a58b7afc95aa242623d88234d67c10e44">map_data_common_t::pry</a></div><div class="ttdeci">pry_result pry</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00346">mapdata.h:346</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a630778707744fb147436b9aa0c370a7e"><div class="ttname"><a href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">map_data_common_t::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00415">mapdata.h:415</a></div></div>
<div class="ttc" id="astructpry__result_html"><div class="ttname"><a href="structpry__result.html">pry_result</a></div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00168">mapdata.h:168</a></div></div>
<div class="ttc" id="astructpry__result_html_a06319cec485faafd78e11d17f5d3b869"><div class="ttname"><a href="structpry__result.html#a06319cec485faafd78e11d17f5d3b869">pry_result::alarm</a></div><div class="ttdeci">bool alarm</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00180">mapdata.h:180</a></div></div>
<div class="ttc" id="astructpry__result_html_a15891bc90a74b429709aac4dd1d89f2b"><div class="ttname"><a href="structpry__result.html#a15891bc90a74b429709aac4dd1d89f2b">pry_result::pry_items</a></div><div class="ttdeci">item_group_id pry_items</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00190">mapdata.h:190</a></div></div>
<div class="ttc" id="astructpry__result_html_a225855755a4a118b089085961540b337"><div class="ttname"><a href="structpry__result.html#a225855755a4a118b089085961540b337">pry_result::break_ter_type</a></div><div class="ttdeci">ter_str_id break_ter_type</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00187">mapdata.h:187</a></div></div>
<div class="ttc" id="astructpry__result_html_a289ea364536a9476b0f4b8b7bcef5d5d"><div class="ttname"><a href="structpry__result.html#a289ea364536a9476b0f4b8b7bcef5d5d">pry_result::break_message</a></div><div class="ttdeci">std::string break_message</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00199">mapdata.h:199</a></div></div>
<div class="ttc" id="astructpry__result_html_a2a20beace00427e3215edf08a7b85c5a"><div class="ttname"><a href="structpry__result.html#a2a20beace00427e3215edf08a7b85c5a">pry_result::noise</a></div><div class="ttdeci">int noise</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00176">mapdata.h:176</a></div></div>
<div class="ttc" id="astructpry__result_html_a2b71b77c9fdcd5668618d3e35b21bd5c"><div class="ttname"><a href="structpry__result.html#a2b71b77c9fdcd5668618d3e35b21bd5c">pry_result::success_message</a></div><div class="ttdeci">std::string success_message</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00197">mapdata.h:197</a></div></div>
<div class="ttc" id="astructpry__result_html_a2bd70d85a9ce87fb65e1c9c25e2cb94b"><div class="ttname"><a href="structpry__result.html#a2bd70d85a9ce87fb65e1c9c25e2cb94b">pry_result::break_furn_type</a></div><div class="ttdeci">furn_str_id break_furn_type</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00188">mapdata.h:188</a></div></div>
<div class="ttc" id="astructpry__result_html_a354c660d69732ee9473e819b205b16d2"><div class="ttname"><a href="structpry__result.html#a354c660d69732ee9473e819b205b16d2">pry_result::fail_message</a></div><div class="ttdeci">std::string fail_message</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00198">mapdata.h:198</a></div></div>
<div class="ttc" id="astructpry__result_html_a42a8a8608a1a1a33f983f74a75b6408a"><div class="ttname"><a href="structpry__result.html#a42a8a8608a1a1a33f983f74a75b6408a">pry_result::break_noise</a></div><div class="ttdeci">int break_noise</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00178">mapdata.h:178</a></div></div>
<div class="ttc" id="astructpry__result_html_a46bf0148d80ddca319330dafd59b4096"><div class="ttname"><a href="structpry__result.html#a46bf0148d80ddca319330dafd59b4096">pry_result::sound</a></div><div class="ttdeci">translation sound</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00193">mapdata.h:193</a></div></div>
<div class="ttc" id="astructpry__result_html_a6f2bd33f5c3baa0552d8f5b3b9452b47"><div class="ttname"><a href="structpry__result.html#a6f2bd33f5c3baa0552d8f5b3b9452b47">pry_result::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00174">mapdata.h:174</a></div></div>
<div class="ttc" id="astructpry__result_html_a8f1cb559f1566f7d6b7521266e247853"><div class="ttname"><a href="structpry__result.html#a8f1cb559f1566f7d6b7521266e247853">pry_result::break_sound</a></div><div class="ttdeci">translation break_sound</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00195">mapdata.h:195</a></div></div>
<div class="ttc" id="astructpry__result_html_aa97e06b86b015790b05b1d7be6067604"><div class="ttname"><a href="structpry__result.html#aa97e06b86b015790b05b1d7be6067604">pry_result::breakable</a></div><div class="ttdeci">bool breakable</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00182">mapdata.h:182</a></div></div>
<div class="ttc" id="astructpry__result_html_ac51eeceaf9b236aca951e33e6a147883"><div class="ttname"><a href="structpry__result.html#ac51eeceaf9b236aca951e33e6a147883">pry_result::pry_bonus_mult</a></div><div class="ttdeci">int pry_bonus_mult</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00172">mapdata.h:172</a></div></div>
<div class="ttc" id="astructpry__result_html_ad16fa01388b4b1eb2af70454d2c87c80"><div class="ttname"><a href="structpry__result.html#ad16fa01388b4b1eb2af70454d2c87c80">pry_result::new_ter_type</a></div><div class="ttdeci">ter_str_id new_ter_type</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00184">mapdata.h:184</a></div></div>
<div class="ttc" id="astructpry__result_html_ae01ec1272606e7ade07eddc6bb506c11"><div class="ttname"><a href="structpry__result.html#ae01ec1272606e7ade07eddc6bb506c11">pry_result::new_furn_type</a></div><div class="ttdeci">furn_str_id new_furn_type</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00185">mapdata.h:185</a></div></div>
<div class="ttc" id="astructpry__result_html_af0fc1761e58b76b0a6c18e1e3ffab9a9"><div class="ttname"><a href="structpry__result.html#af0fc1761e58b76b0a6c18e1e3ffab9a9">pry_result::pry_quality</a></div><div class="ttdeci">int pry_quality</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00170">mapdata.h:170</a></div></div>
<div class="ttc" id="astructpry__result_html_af882e0261dcb134c31885ebee329307f"><div class="ttname"><a href="structpry__result.html#af882e0261dcb134c31885ebee329307f">pry_result::break_items</a></div><div class="ttdeci">item_group_id break_items</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00191">mapdata.h:191</a></div></div>
<div class="ttc" id="astructter__t_html_a67c4e64d08591dbb404ef18e051b1f12"><div class="ttname"><a href="structter__t.html#a67c4e64d08591dbb404ef18e051b1f12">ter_t::open</a></div><div class="ttdeci">ter_str_id open</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00459">mapdata.h:459</a></div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7afff18e924c5aeb1079ad44439996203a"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7afff18e924c5aeb1079ad44439996203a">TIMED_EVENT_WANTED</a></div><div class="ttdeci">@ TIMED_EVENT_WANTED</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00013">timed_event.h:13</a></div></div>
<div class="ttc" id="atype__id_8h_html_a462e78d510851b30d4f5795c409c7467"><div class="ttname"><a href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a></div><div class="ttdeci">string_id&lt; quality &gt; quality_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00158">type_id.h:158</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="mapdata_8h_source.html#l00180">pry_result::alarm</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="mapdata_8h_source.html#l00188">pry_result::break_furn_type</a>, <a class="el" href="mapdata_8h_source.html#l00191">pry_result::break_items</a>, <a class="el" href="mapdata_8h_source.html#l00199">pry_result::break_message</a>, <a class="el" href="mapdata_8h_source.html#l00178">pry_result::break_noise</a>, <a class="el" href="mapdata_8h_source.html#l00195">pry_result::break_sound</a>, <a class="el" href="mapdata_8h_source.html#l00187">pry_result::break_ter_type</a>, <a class="el" href="mapdata_8h_source.html#l00182">pry_result::breakable</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::combat</a>, <a class="el" href="rng_8cpp_source.html#l00085">dice()</a>, <a class="el" href="mapdata_8h_source.html#l00174">pry_result::difficulty</a>, <a class="el" href="mapdata_8h_source.html#l00198">pry_result::fail_message</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05272">item::get_quality()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="character_8cpp_source.html#l06313">Character::global_sm_location()</a>, <a class="el" href="mapdata_8h_source.html#l00415">map_data_common_t::has_flag()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="item__group_8cpp_source.html#l00574">item_group::items_from()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00255">m_mixed</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="mapdata_8h_source.html#l00185">pry_result::new_furn_type</a>, <a class="el" href="mapdata_8h_source.html#l00184">pry_result::new_ter_type</a>, <a class="el" href="mapdata_8h_source.html#l00176">pry_result::noise</a>, <a class="el" href="mapdata_8h_source.html#l00459">ter_t::open</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="mapdata_8h_source.html#l00346">map_data_common_t::pry</a>, <a class="el" href="mapdata_8h_source.html#l00172">pry_result::pry_bonus_mult</a>, <a class="el" href="mapdata_8h_source.html#l00190">pry_result::pry_items</a>, <a class="el" href="mapdata_8h_source.html#l00170">pry_result::pry_quality</a>, <a class="el" href="iuse_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a>, <a class="el" href="mapdata_8h_source.html#l00193">pry_result::sound</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="character_8h_source.html#l00304">Character::str_cur</a>, <a class="el" href="mapdata_8h_source.html#l00197">pry_result::success_message</a>, <a class="el" href="timed__event_8h_source.html#l00013">TIMED_EVENT_WANTED</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceab72f74bd1ee8a473f5e7df9de984e3a8">triggers_alarm</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="iexamine_8cpp_source.html#l01452">iexamine::locked_object()</a>.</p>

</div>
</div>
<a id="a58988398abeae1dcbed6161a5326bad9" name="a58988398abeae1dcbed6161a5326bad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58988398abeae1dcbed6161a5326bad9">&#9670;&nbsp;</a></span>cs_lajatang_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::cs_lajatang_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03090">3090</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03091" name="l03091"></a><span class="lineno"> 3091</span>{</div>
<div class="line"><a id="l03092" name="l03092"></a><span class="lineno"> 3092</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#ab84218a7a696ba0c25b8a593731fc7ee">toolweapon_off</a>( *p, *it,</div>
<div class="line"><a id="l03093" name="l03093"></a><span class="lineno"> 3093</span>                           <span class="keyword">false</span>,</div>
<div class="line"><a id="l03094" name="l03094"></a><span class="lineno"> 3094</span>                           <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 10 ) - it-&gt;<a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) &gt; 5 &amp;&amp; it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt; 1 &amp;&amp; !p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>(),</div>
<div class="line"><a id="l03095" name="l03095"></a><span class="lineno"> 3095</span>                           40, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;With a roar, the chainsaws leap to life!&quot;</span> ),</div>
<div class="line"><a id="l03096" name="l03096"></a><span class="lineno"> 3096</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You yank the cords, but nothing happens.&quot;</span> ) );</div>
<div class="line"><a id="l03097" name="l03097"></a><span class="lineno"> 3097</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l00698">item::damage_level()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, and <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ac37caf0eeb00410e5b3c961794cebdc0" name="ac37caf0eeb00410e5b3c961794cebdc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac37caf0eeb00410e5b3c961794cebdc0">&#9670;&nbsp;</a></span>cs_lajatang_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::cs_lajatang_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03186">3186</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>{</div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#a74ac96156e1d05593ce2dc168d2fb37c">toolweapon_on</a>( *p, *it, t, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;chainsaw lajatang&quot;</span> ),</div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"> 3189</span>                          <span class="keyword">false</span>,</div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>                          15, 12, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your chainsaws rumble.&quot;</span> ),</div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span>                          <span class="keyword">true</span> );</div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>    <span class="comment">// The chainsaw lajatang drains 2 charges per turn, since</span></div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span>    <span class="comment">// there are two chainsaws.</span></div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a9ec87f69491dd9ce7eca10208c4bca39" name="a9ec87f69491dd9ce7eca10208c4bca39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ec87f69491dd9ce7eca10208c4bca39">&#9670;&nbsp;</a></span>cut_log_into_planks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iuse::cut_log_into_planks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04712">4712</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04713" name="l04713"></a><span class="lineno"> 4713</span>{</div>
<div class="line"><a id="l04714" name="l04714"></a><span class="lineno"> 4714</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04715" name="l04715"></a><span class="lineno"> 4715</span>        p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04716" name="l04716"></a><span class="lineno"> 4716</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l04717" name="l04717"></a><span class="lineno"> 4717</span>    }</div>
<div class="line"><a id="l04718" name="l04718"></a><span class="lineno"> 4718</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 20_minutes );</div>
<div class="line"><a id="l04719" name="l04719"></a><span class="lineno"> 4719</span>    p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cut the log into planks.&quot;</span> ) );</div>
<div class="line"><a id="l04720" name="l04720"></a><span class="lineno"> 4720</span> </div>
<div class="line"><a id="l04721" name="l04721"></a><span class="lineno"> 4721</span>    p.<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#af9714d2b7629537aeec9af061f4c0435">ACT_CHOP_PLANKS</a>, moves, -1 );</div>
<div class="line"><a id="l04722" name="l04722"></a><span class="lineno"> 4722</span>    p.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l04723" name="l04723"></a><span class="lineno"> 4723</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_af9714d2b7629537aeec9af061f4c0435"><div class="ttname"><a href="iuse_8cpp.html#af9714d2b7629537aeec9af061f4c0435">ACT_CHOP_PLANKS</a></div><div class="ttdeci">static const activity_id ACT_CHOP_PLANKS(&quot;ACT_CHOP_PLANKS&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#af9714d2b7629537aeec9af061f4c0435">ACT_CHOP_PLANKS</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, and <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01148">construct::done_trunk_plank()</a>, and <a class="el" href="iuse_8cpp_source.html#l04725">lumber()</a>.</p>

</div>
</div>
<a id="a3842b28b642b547db964b32260af5010" name="a3842b28b642b547db964b32260af5010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3842b28b642b547db964b32260af5010">&#9670;&nbsp;</a></span>datura()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::datura </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00961">961</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>{</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>    }</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span> </div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a0a3de1e6679128988d176115710ddd03">effect_datura</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 3_hours, 13_hours ) );</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You eat the datura seed.&quot;</span> ) );</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) ) {</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#ab2e7f135d6749b067f488c38bec7eb8c">MORALE_FOOD_GOOD</a>, 36, 72, 2_hours, 1_hours, <span class="keyword">false</span>, it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    }</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a0a3de1e6679128988d176115710ddd03"><div class="ttname"><a href="iuse_8cpp.html#a0a3de1e6679128988d176115710ddd03">effect_datura</a></div><div class="ttdeci">static const efftype_id effect_datura(&quot;datura&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_abf47c050c3a01d3496c3eb251fa9c517"><div class="ttname"><a href="iuse_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a></div><div class="ttdeci">static const trait_id trait_SPIRITUAL(&quot;SPIRITUAL&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ab2e7f135d6749b067f488c38bec7eb8c"><div class="ttname"><a href="morale__types_8cpp.html#ab2e7f135d6749b067f488c38bec7eb8c">MORALE_FOOD_GOOD</a></div><div class="ttdeci">const morale_type MORALE_FOOD_GOOD(&quot;morale_food_good&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="character_8cpp_source.html#l09067">Character::add_morale()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a0a3de1e6679128988d176115710ddd03">effect_datura</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="morale__types_8cpp.html#ab2e7f135d6749b067f488c38bec7eb8c">MORALE_FOOD_GOOD</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="iuse_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a90826f05cd2d554a46e5c1aff7fd590b" name="a90826f05cd2d554a46e5c1aff7fd590b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90826f05cd2d554a46e5c1aff7fd590b">&#9670;&nbsp;</a></span>dig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::dig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02700">2700</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>{</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>    <span class="keywordflow">if</span>( !p || t ) {</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span>    }</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>    }</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> dig_point = p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>();</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span> </div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_dig_here = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;DIGGABLE&quot;</span>, dig_point ) &amp;&amp;</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>                              !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_furn( dig_point ) &amp;&amp;</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>                              <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.tr_at( dig_point ).is_null() &amp;&amp;</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>                              ( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( dig_point ) == <a class="code hl_variable" href="mapdata_8cpp.html#ae4102945b738d3a9cd2398167f75a4f3">t_grave_new</a> || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.i_at( dig_point ).empty() ) &amp;&amp;</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>                              !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( dig_point );</div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span> </div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>    <span class="keywordflow">if</span>( !can_dig_here ) {</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t dig a pit in this location.  Ensure it is clear diggable ground with no items or obstacles.&quot;</span> ) );</div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>    }</div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_deepen = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;DIGGABLE_CAN_DEEPEN&quot;</span>, dig_point );</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> grave = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( dig_point ) == <a class="code hl_variable" href="mapdata_8cpp.html#ae495403820c34047b8696538dac6da5e">t_grave</a>;</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span> </div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>().<a class="code hl_function" href="classvisitable.html#a62ad0b8f7866ec171a709c56e4a25ff2">has_quality</a>( <a class="code hl_variable" href="iuse_8cpp.html#a73439c0a480cbe825af2284e8134349c">qual_DIG</a>, 2 ) ) {</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>        <span class="keywordflow">if</span>( can_deepen ) {</div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t deepen this pit without a proper shovel.&quot;</span> ) );</div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( grave ) {</div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t exhume a grave without a proper shovel.&quot;</span> ) );</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span>        }</div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span>    }</div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span> </div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = []( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.passable( pnt );</div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span>    };</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span> </div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Deposit excavated materials where?&quot;</span> ),</div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is nowhere to deposit the excavated materials.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span>    }</div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> deposit_point = *pnt_;</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span> </div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>    <span class="keywordflow">if</span>( !f( deposit_point ) ) {</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t deposit the excavated materials onto an impassable location.&quot;</span> ) );</div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>    }</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span> </div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>    <span class="keywordflow">if</span>( grave ) {</div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="iuse_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="iuse_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a> ) &amp;&amp;</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.query_yn( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Would you really touch the sacred resting place of the dead?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Exhuming a grave is really against your beliefs.&quot;</span> ) );</div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.add_morale( <a class="code hl_variable" href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a>, -50, -100, 48_hours, 12_hours );</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.vomit();</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>            }</div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="iuse_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a> ) ) {</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"> 2763</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Exhuming a grave is fun now, where there is no one to object.&quot;</span> ) );</div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.add_morale( <a class="code hl_variable" href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a>, 25, 50, 2_hours, 1_hours );</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="iuse_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a> ) &amp;&amp;</div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span>                   !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="iuse_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a> ) ) {</div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Exhuming this grave is utterly disgusting!&quot;</span> ) );</div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.add_morale( <a class="code hl_variable" href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a>, -25, -50, 2_hours, 1_hours );</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>            }</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span>        }</div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span>    }</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span> </div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>    <a class="code hl_struct" href="structdigging__moves__and__byproducts.html">digging_moves_and_byproducts</a> moves_and_byproducts = <a class="code hl_function" href="iuse_8cpp.html#a57f8b053c74c3097e4ed544bb8f47941">dig_pit_moves_and_byproducts</a>( p, it,</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>            can_deepen, <span class="keyword">false</span> );</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span> </div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>    <span class="keyword">const</span> std::vector&lt;npc *&gt; helpers = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_crafting_helpers( 3 );</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *np : helpers ) {</div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s helps with this task…&quot;</span> ), np-&gt;name );</div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span>    }</div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>    moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#a00fd5d9ec47531acfd6bd54b32fe8157">moves</a> = moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#a00fd5d9ec47531acfd6bd54b32fe8157">moves</a> * ( 10 - helpers.size() ) / 10;</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span> </div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_class" href="classplayer__activity.html">player_activity</a>( <a class="code hl_class" href="classdig__activity__actor.html">dig_activity_actor</a>(</div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span>            moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#a00fd5d9ec47531acfd6bd54b32fe8157">moves</a>,</div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span>            dig_point,</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>            moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#aa98510747b280d3e757346e9e6edd96d">result_terrain</a>.<a class="code hl_function" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(),</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>            deposit_point,</div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>            moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#a71af3fc4fbcd2019a5fab5e865b08eae">spawn_count</a>,</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>            moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#acd84cd6268afe9060acfa45a7cecc54f">byproducts_item_group</a></div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span>                                         ) ) );</div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span> </div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span>}</div>
<div class="ttc" id="aclassdig__activity__actor_html"><div class="ttname"><a href="classdig__activity__actor.html">dig_activity_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l00108">activity_actor_definitions.h:109</a></div></div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa7dabc565f0c067e1a237ea224b18f93"><div class="ttname"><a href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00255">string_id.h:255</a></div></div>
<div class="ttc" id="aclassvisitable_html_a62ad0b8f7866ec171a709c56e4a25ff2"><div class="ttname"><a href="classvisitable.html#a62ad0b8f7866ec171a709c56e4a25ff2">visitable::has_quality</a></div><div class="ttdeci">bool has_quality(const quality_id &amp;qual, int level=1, int qty=1) const</div><div class="ttdoc">Returns true if instance has amount (or more) items of at least quality level.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00170">visitable.cpp:170</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a1eb34af6b7fba64663cb266638373e1b"><div class="ttname"><a href="iuse_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a></div><div class="ttdeci">static const trait_id trait_EATDEAD(&quot;EATDEAD&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a57f8b053c74c3097e4ed544bb8f47941"><div class="ttname"><a href="iuse_8cpp.html#a57f8b053c74c3097e4ed544bb8f47941">dig_pit_moves_and_byproducts</a></div><div class="ttdeci">static digging_moves_and_byproducts dig_pit_moves_and_byproducts(player *p, item *it, bool deep, bool channel)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02581">iuse.cpp:2581</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a73439c0a480cbe825af2284e8134349c"><div class="ttname"><a href="iuse_8cpp.html#a73439c0a480cbe825af2284e8134349c">qual_DIG</a></div><div class="ttdeci">static const quality_id qual_DIG(&quot;DIG&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a92fc92f8871feb56f05a24b582966275"><div class="ttname"><a href="iuse_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a></div><div class="ttdeci">static const trait_id trait_SAPROVORE(&quot;SAPROVORE&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a9bbf692360c0fe96f9fccf41db5756be"><div class="ttname"><a href="iuse_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a></div><div class="ttdeci">static const trait_id trait_PSYCHOPATH(&quot;PSYCHOPATH&quot;)</div></div>
<div class="ttc" id="amapdata_8cpp_html_ae4102945b738d3a9cd2398167f75a4f3"><div class="ttname"><a href="mapdata_8cpp.html#ae4102945b738d3a9cd2398167f75a4f3">t_grave_new</a></div><div class="ttdeci">ter_id t_grave_new</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ae495403820c34047b8696538dac6da5e"><div class="ttname"><a href="mapdata_8cpp.html#ae495403820c34047b8696538dac6da5e">t_grave</a></div><div class="ttdeci">ter_id t_grave</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_a74cb853ac917ecb6d7326aed52853f41"><div class="ttname"><a href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a></div><div class="ttdeci">const morale_type MORALE_GRAVEDIGGER(&quot;morale_gravedigger&quot;)</div></div>
<div class="ttc" id="astructdigging__moves__and__byproducts_html"><div class="ttname"><a href="structdigging__moves__and__byproducts.html">digging_moves_and_byproducts</a></div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02574">iuse.cpp:2574</a></div></div>
<div class="ttc" id="astructdigging__moves__and__byproducts_html_a00fd5d9ec47531acfd6bd54b32fe8157"><div class="ttname"><a href="structdigging__moves__and__byproducts.html#a00fd5d9ec47531acfd6bd54b32fe8157">digging_moves_and_byproducts::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02575">iuse.cpp:2575</a></div></div>
<div class="ttc" id="astructdigging__moves__and__byproducts_html_a71af3fc4fbcd2019a5fab5e865b08eae"><div class="ttname"><a href="structdigging__moves__and__byproducts.html#a71af3fc4fbcd2019a5fab5e865b08eae">digging_moves_and_byproducts::spawn_count</a></div><div class="ttdeci">int spawn_count</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02576">iuse.cpp:2576</a></div></div>
<div class="ttc" id="astructdigging__moves__and__byproducts_html_aa98510747b280d3e757346e9e6edd96d"><div class="ttname"><a href="structdigging__moves__and__byproducts.html#aa98510747b280d3e757346e9e6edd96d">digging_moves_and_byproducts::result_terrain</a></div><div class="ttdeci">ter_id result_terrain</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02578">iuse.cpp:2578</a></div></div>
<div class="ttc" id="astructdigging__moves__and__byproducts_html_acd84cd6268afe9060acfa45a7cecc54f"><div class="ttname"><a href="structdigging__moves__and__byproducts.html#acd84cd6268afe9060acfa45a7cecc54f">digging_moves_and_byproducts::byproducts_item_group</a></div><div class="ttdeci">std::string byproducts_item_group</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02577">iuse.cpp:2577</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l02577">digging_moves_and_byproducts::byproducts_item_group</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="crafting_8cpp_source.html#l00545">Character::crafting_inventory()</a>, <a class="el" href="iuse_8cpp_source.html#l02581">dig_pit_moves_and_byproducts()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="visitable_8cpp_source.html#l00170">visitable&lt; T &gt;::has_quality()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="morale__types_8cpp.html#a74cb853ac917ecb6d7326aed52853f41">MORALE_GRAVEDIGGER</a>, <a class="el" href="iuse_8cpp_source.html#l02575">digging_moves_and_byproducts::moves</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="iuse_8cpp.html#a73439c0a480cbe825af2284e8134349c">qual_DIG</a>, <a class="el" href="iuse_8cpp_source.html#l02578">digging_moves_and_byproducts::result_terrain</a>, <a class="el" href="iuse_8cpp_source.html#l02576">digging_moves_and_byproducts::spawn_count</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_grave</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_grave_new</a>, <a class="el" href="iuse_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a>, <a class="el" href="iuse_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a>, <a class="el" href="iuse_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a>, <a class="el" href="iuse_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="character_8cpp_source.html#l07775">Character::vomit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01312">construct::done_digormine_stair()</a>, and <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="af2ea0157e8ffbf1b71fe439733308adc" name="af2ea0157e8ffbf1b71fe439733308adc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2ea0157e8ffbf1b71fe439733308adc">&#9670;&nbsp;</a></span>dig_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::dig_channel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02796">2796</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span>{</div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span>    <span class="keywordflow">if</span>( !p || t ) {</div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span>    }</div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span>    }</div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> dig_point = p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>();</div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span> </div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_enumvalue" href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7ca8d8d1437907bca79900ac5f0ea1f5c73">north</a> = dig_point + <a class="code hl_variable" href="point_8h.html#acfe3d4a2977589c0adad45cf36774d8a">point_north</a>;</div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_enumvalue" href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7ca50fd76e33fe5b9617c5ca99008af8904">south</a> = dig_point + <a class="code hl_variable" href="point_8h.html#a702e673ec0d39d0822e2dc453a6af3e5">point_south</a>;</div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_enumvalue" href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7cada4f0053a5c13882268852ae2da2e466">west</a> = dig_point + <a class="code hl_variable" href="point_8h.html#a0acd5e182489265fadc8c586f5d4d701">point_west</a>;</div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_enumvalue" href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7ca320381dbf7cd2f31c04baa6b36e1c682">east</a> = dig_point + <a class="code hl_variable" href="point_8h.html#aff73fd5bf470a3db5291c5dec855bb71">point_east</a>;</div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span> </div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_dig_here = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="iuse_8cpp.html#a278a837249e42af97e0732cd82a9df7b">flag_DIGGABLE</a>, dig_point ) &amp;&amp;</div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span>                              !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_furn( dig_point ) &amp;&amp;</div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span>                              <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.tr_at( dig_point ).is_null() &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.i_at( dig_point ).empty() &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( dig_point ) &amp;&amp;</div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span>                              ( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="iuse_8cpp.html#a50524db39f9b8ccd48abc628eacfd3dd">flag_CURRENT</a>, north ) ||  <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="iuse_8cpp.html#a50524db39f9b8ccd48abc628eacfd3dd">flag_CURRENT</a>, south ) ||</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>                                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="iuse_8cpp.html#a50524db39f9b8ccd48abc628eacfd3dd">flag_CURRENT</a>, east ) ||  <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="iuse_8cpp.html#a50524db39f9b8ccd48abc628eacfd3dd">flag_CURRENT</a>, west ) );</div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span> </div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>    <span class="keywordflow">if</span>( !can_dig_here ) {</div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t dig a channel in this location.  Ensure it is clear diggable ground with no items or obstacles, adjacent to flowing water.&quot;</span> ) );</div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span>    }</div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span> </div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = []( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.passable( pnt );</div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>    };</div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span> </div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Deposit excavated materials where?&quot;</span> ),</div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is nowhere to deposit the excavated materials.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"> 2831</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span>    }</div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> deposit_point = *pnt_;</div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span> </div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>    <span class="keywordflow">if</span>( !f( deposit_point ) ) {</div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t deposit the excavated materials onto an impassable location.&quot;</span> ) );</div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span>    }</div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span> </div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>    <a class="code hl_struct" href="structdigging__moves__and__byproducts.html">digging_moves_and_byproducts</a> moves_and_byproducts = <a class="code hl_function" href="iuse_8cpp.html#a57f8b053c74c3097e4ed544bb8f47941">dig_pit_moves_and_byproducts</a>( p, it, <span class="keyword">false</span>,</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>            <span class="keyword">true</span> );</div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span> </div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span>    <span class="keyword">const</span> std::vector&lt;npc *&gt; helpers = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_crafting_helpers( 3 );</div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *np : helpers ) {</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s helps with this task…&quot;</span> ), np-&gt;name );</div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>    }</div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span>    moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#a00fd5d9ec47531acfd6bd54b32fe8157">moves</a> = moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#a00fd5d9ec47531acfd6bd54b32fe8157">moves</a> * ( 10 - helpers.size() ) / 10;</div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span> </div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_class" href="classplayer__activity.html">player_activity</a>( <a class="code hl_class" href="classdig__channel__activity__actor.html">dig_channel_activity_actor</a>(</div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span>            moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#a00fd5d9ec47531acfd6bd54b32fe8157">moves</a>,</div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span>            dig_point,</div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span>            moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#aa98510747b280d3e757346e9e6edd96d">result_terrain</a>.<a class="code hl_function" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(),</div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span>            deposit_point,</div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>            moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#a71af3fc4fbcd2019a5fab5e865b08eae">spawn_count</a>,</div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span>            moves_and_byproducts.<a class="code hl_variable" href="structdigging__moves__and__byproducts.html#acd84cd6268afe9060acfa45a7cecc54f">byproducts_item_group</a></div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span>                                         ) ) );</div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span>}</div>
<div class="ttc" id="aclassdig__channel__activity__actor_html"><div class="ttname"><a href="classdig__channel__activity__actor.html">dig_channel_activity_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l00167">activity_actor_definitions.h:168</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a278a837249e42af97e0732cd82a9df7b"><div class="ttname"><a href="iuse_8cpp.html#a278a837249e42af97e0732cd82a9df7b">flag_DIGGABLE</a></div><div class="ttdeci">static const std::string flag_DIGGABLE(&quot;DIGGABLE&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a50524db39f9b8ccd48abc628eacfd3dd"><div class="ttname"><a href="iuse_8cpp.html#a50524db39f9b8ccd48abc628eacfd3dd">flag_CURRENT</a></div><div class="ttdeci">static const std::string flag_CURRENT(&quot;CURRENT&quot;)</div></div>
<div class="ttc" id="anamespaceom__direction_html_a3f3a3bf2c5af33fc8036734d1ba70b7ca320381dbf7cd2f31c04baa6b36e1c682"><div class="ttname"><a href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7ca320381dbf7cd2f31c04baa6b36e1c682">om_direction::type::east</a></div><div class="ttdeci">@ east</div></div>
<div class="ttc" id="anamespaceom__direction_html_a3f3a3bf2c5af33fc8036734d1ba70b7ca50fd76e33fe5b9617c5ca99008af8904"><div class="ttname"><a href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7ca50fd76e33fe5b9617c5ca99008af8904">om_direction::type::south</a></div><div class="ttdeci">@ south</div></div>
<div class="ttc" id="anamespaceom__direction_html_a3f3a3bf2c5af33fc8036734d1ba70b7ca8d8d1437907bca79900ac5f0ea1f5c73"><div class="ttname"><a href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7ca8d8d1437907bca79900ac5f0ea1f5c73">om_direction::type::north</a></div><div class="ttdeci">@ north</div></div>
<div class="ttc" id="anamespaceom__direction_html_a3f3a3bf2c5af33fc8036734d1ba70b7cada4f0053a5c13882268852ae2da2e466"><div class="ttname"><a href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7cada4f0053a5c13882268852ae2da2e466">om_direction::type::west</a></div><div class="ttdeci">@ west</div></div>
<div class="ttc" id="apoint_8h_html_a0acd5e182489265fadc8c586f5d4d701"><div class="ttname"><a href="point_8h.html#a0acd5e182489265fadc8c586f5d4d701">point_west</a></div><div class="ttdeci">static constexpr point point_west</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00282">point.h:282</a></div></div>
<div class="ttc" id="apoint_8h_html_a702e673ec0d39d0822e2dc453a6af3e5"><div class="ttname"><a href="point_8h.html#a702e673ec0d39d0822e2dc453a6af3e5">point_south</a></div><div class="ttdeci">static constexpr point point_south</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00280">point.h:280</a></div></div>
<div class="ttc" id="apoint_8h_html_acfe3d4a2977589c0adad45cf36774d8a"><div class="ttname"><a href="point_8h.html#acfe3d4a2977589c0adad45cf36774d8a">point_north</a></div><div class="ttdeci">static constexpr point point_north</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00276">point.h:276</a></div></div>
<div class="ttc" id="apoint_8h_html_aff73fd5bf470a3db5291c5dec855bb71"><div class="ttname"><a href="point_8h.html#aff73fd5bf470a3db5291c5dec855bb71">point_east</a></div><div class="ttdeci">static constexpr point point_east</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00278">point.h:278</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l02577">digging_moves_and_byproducts::byproducts_item_group</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="iuse_8cpp_source.html#l02581">dig_pit_moves_and_byproducts()</a>, <a class="el" href="iuse_8cpp.html#a50524db39f9b8ccd48abc628eacfd3dd">flag_CURRENT()</a>, <a class="el" href="iuse_8cpp.html#a278a837249e42af97e0732cd82a9df7b">flag_DIGGABLE()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="iuse_8cpp_source.html#l02575">digging_moves_and_byproducts::moves</a>, <a class="el" href="point_8h_source.html#l00278">point_east</a>, <a class="el" href="point_8h_source.html#l00276">point_north</a>, <a class="el" href="point_8h_source.html#l00280">point_south</a>, <a class="el" href="point_8h_source.html#l00282">point_west</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="iuse_8cpp_source.html#l02578">digging_moves_and_byproducts::result_terrain</a>, <a class="el" href="iuse_8cpp_source.html#l02576">digging_moves_and_byproducts::spawn_count</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a586262f32556678ff6eaaf4f41f7e783" name="a586262f32556678ff6eaaf4f41f7e783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a586262f32556678ff6eaaf4f41f7e783">&#9670;&nbsp;</a></span>directional_antenna()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::directional_antenna </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02131">2131</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>{</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>    <span class="comment">// Find out if we have an active radio</span></div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>    <span class="keyword">auto</span> radios = p-&gt;<a class="code hl_function" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a>( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>        <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a731e18ebb9fe98be814fd8e70499907d">itype_radio_on</a>;</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>    } );</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>    <span class="comment">// If we don&#39;t wield the radio, also check on the ground</span></div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>    <span class="keywordflow">if</span>( radios.empty() ) {</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>        <a class="code hl_class" href="classmap__stack.html">map_stack</a> items = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;an_item : items ) {</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>            <span class="keywordflow">if</span>( an_item.typeId() == <a class="code hl_variable" href="iuse_8cpp.html#a731e18ebb9fe98be814fd8e70499907d">itype_radio_on</a> ) {</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>                radios.push_back( &amp;an_item );</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>            }</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>        }</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>    }</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>    <span class="keywordflow">if</span>( radios.empty() ) {</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Must have an active radio to check for signal direction.&quot;</span> ) );</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>    }</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_enumvalue" href="namespacesfx.html#af20f2b1f5492d2f2d793da6d29740f18aa398fb77df76e6153df57cd65fd0a7c5">radio</a> = *radios.front();</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>    <span class="comment">// Find the radio station its tuned to (if any)</span></div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>    <span class="keyword">const</span> <span class="keyword">auto</span> tref = <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#a52ff63bf974047e40515dffc2b413167">find_radio_station</a>( <a class="code hl_enumvalue" href="namespacesfx.html#af20f2b1f5492d2f2d793da6d29740f18aa398fb77df76e6153df57cd65fd0a7c5">radio</a>.frequency );</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>    <span class="keywordflow">if</span>( !tref ) {</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t find the direction if your radio isn&#39;t tuned.&quot;</span> ) );</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>    }</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>    <span class="comment">// Report direction.</span></div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>    <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_sm</a> player_pos( p-&gt;<a class="code hl_function" href="classCharacter.html#a6d8533249182cd0cfc6feefb81349e3e">global_sm_location</a>() );</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>    <a class="code hl_enumeration" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> <a class="code hl_typedef" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">angle</a> = <a class="code hl_function" href="coordinates_8h.html#a00be0762df7b46da965e55caffac53db">direction_from</a>( player_pos.xy(), tref.abs_sm_pos );</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The signal seems strongest to the %s.&quot;</span> ), <a class="code hl_function" href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a>( <a class="code hl_typedef" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">angle</a> ) );</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>}</div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00100">map.h:101</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04083">map.cpp:4083</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a52ff63bf974047e40515dffc2b413167"><div class="ttname"><a href="classovermapbuffer.html#a52ff63bf974047e40515dffc2b413167">overmapbuffer::find_radio_station</a></div><div class="ttdeci">radio_tower_reference find_radio_station(int frequency)</div><div class="ttdoc">Find radio station with given frequency, search an unspecified area around the current player locatio...</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01279">overmapbuffer.cpp:1279</a></div></div>
<div class="ttc" id="aclassvisitable_html_a5b3c37fbe8209cab68aa26d3cc7f4300"><div class="ttname"><a href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">visitable::items_with</a></div><div class="ttdeci">std::vector&lt; item * &gt; items_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter)</div><div class="ttdoc">Returns all items (including those within a container) matching the filter.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00325">visitable.cpp:325</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a00be0762df7b46da965e55caffac53db"><div class="ttname"><a href="coordinates_8h.html#a00be0762df7b46da965e55caffac53db">direction_from</a></div><div class="ttdeci">direction direction_from(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00540">coordinates.h:540</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a731e18ebb9fe98be814fd8e70499907d"><div class="ttname"><a href="iuse_8cpp.html#a731e18ebb9fe98be814fd8e70499907d">itype_radio_on</a></div><div class="ttdeci">static const itype_id itype_radio_on(&quot;radio_on&quot;)</div></div>
<div class="ttc" id="aline_8cpp_html_a19634ed59e09da9312d6fa110a38539c"><div class="ttname"><a href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a></div><div class="ttdeci">std::string direction_name(const direction dir)</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00528">line.cpp:528</a></div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00039">line.h:39</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00141">map.cpp:141</a></div></div>
<div class="ttc" id="anamespacesfx_html_af20f2b1f5492d2f2d793da6d29740f18aa398fb77df76e6153df57cd65fd0a7c5"><div class="ttname"><a href="namespacesfx.html#af20f2b1f5492d2f2d793da6d29740f18aa398fb77df76e6153df57cd65fd0a7c5">sfx::channel::radio</a></div><div class="ttdeci">@ radio</div></div>
<div class="ttc" id="anamespaceunits_html_a2c7fe916bf04655f9fb4f2abdc5d28ed"><div class="ttname"><a href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a></div><div class="ttdeci">quantity&lt; double, angle_in_radians_tag &gt; angle</div><div class="ttdef"><b>Definition:</b> <a href="units__angle_8h_source.html#l00017">units_angle.h:17</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="coordinates_8h_source.html#l00540">direction_from()</a>, <a class="el" href="line_8cpp_source.html#l00528">direction_name()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01279">overmapbuffer::find_radio_station()</a>, <a class="el" href="map_8cpp_source.html#l00141">get_map()</a>, <a class="el" href="character_8cpp_source.html#l06313">Character::global_sm_location()</a>, <a class="el" href="map_8cpp_source.html#l04083">map::i_at()</a>, <a class="el" href="iuse_8cpp_source.html#l06947">object_names_collection::items</a>, <a class="el" href="visitable_8cpp_source.html#l00325">visitable&lt; T &gt;::items_with()</a>, <a class="el" href="iuse_8cpp.html#a731e18ebb9fe98be814fd8e70499907d">itype_radio_on</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00044">overmap_buffer</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, and <a class="el" href="coordinates_8h_source.html#l00130">coords::coord_point&lt; Point, Origin, Scale &gt;::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a863654211e66d555c6103f873c006f5a" name="a863654211e66d555c6103f873c006f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a863654211e66d555c6103f873c006f5a">&#9670;&nbsp;</a></span>directional_hologram()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::directional_hologram </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09272">9272</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09273" name="l09273"></a><span class="lineno"> 9273</span>{</div>
<div class="line"><a id="l09274" name="l09274"></a><span class="lineno"> 9274</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() &amp;&amp;  !( p-&gt;<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *it ) ) ) {</div>
<div class="line"><a id="l09275" name="l09275"></a><span class="lineno"> 9275</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need to wear the %1$s before activating it.&quot;</span> ),</div>
<div class="line"><a id="l09276" name="l09276"></a><span class="lineno"> 9276</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09277" name="l09277"></a><span class="lineno"> 9277</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09278" name="l09278"></a><span class="lineno"> 9278</span>    }</div>
<div class="line"><a id="l09279" name="l09279"></a><span class="lineno"> 9279</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> posp_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Choose hologram direction.&quot;</span> ) );</div>
<div class="line"><a id="l09280" name="l09280"></a><span class="lineno"> 9280</span>    <span class="keywordflow">if</span>( !posp_ ) {</div>
<div class="line"><a id="l09281" name="l09281"></a><span class="lineno"> 9281</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09282" name="l09282"></a><span class="lineno"> 9282</span>    }</div>
<div class="line"><a id="l09283" name="l09283"></a><span class="lineno"> 9283</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> posp = *posp_;</div>
<div class="line"><a id="l09284" name="l09284"></a><span class="lineno"> 9284</span> </div>
<div class="line"><a id="l09285" name="l09285"></a><span class="lineno"> 9285</span>    <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> hologram = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( <a class="code hl_variable" href="iuse_8cpp.html#ab0d084494ccdd0e181ec0111482260e1">mon_hologram</a>, posp );</div>
<div class="line"><a id="l09286" name="l09286"></a><span class="lineno"> 9286</span>    <span class="keywordflow">if</span>( !hologram ) {</div>
<div class="line"><a id="l09287" name="l09287"></a><span class="lineno"> 9287</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Can&#39;t create a hologram there.&quot;</span> ) );</div>
<div class="line"><a id="l09288" name="l09288"></a><span class="lineno"> 9288</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09289" name="l09289"></a><span class="lineno"> 9289</span>    }</div>
<div class="line"><a id="l09290" name="l09290"></a><span class="lineno"> 9290</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> target = pos;</div>
<div class="line"><a id="l09291" name="l09291"></a><span class="lineno"> 9291</span>    target.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> = p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + 4 * <a class="code hl_variable" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * ( posp.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> - p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() );</div>
<div class="line"><a id="l09292" name="l09292"></a><span class="lineno"> 9292</span>    target.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> = p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + 4 * <a class="code hl_variable" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> * ( posp.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> - p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() );</div>
<div class="line"><a id="l09293" name="l09293"></a><span class="lineno"> 9293</span>    hologram-&gt;<a class="code hl_variable" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = -1;</div>
<div class="line"><a id="l09294" name="l09294"></a><span class="lineno"> 9294</span>    hologram-&gt;<a class="code hl_function" href="classmonster.html#a45462fba4c37679c66ecde2f9000c22c">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a>, 1_hours );</div>
<div class="line"><a id="l09295" name="l09295"></a><span class="lineno"> 9295</span>    hologram-&gt;<a class="code hl_variable" href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">wandf</a> = -30;</div>
<div class="line"><a id="l09296" name="l09296"></a><span class="lineno"> 9296</span>    hologram-&gt;<a class="code hl_function" href="classmonster.html#a6f731be1827a34cb1bffc1b6698eb869">set_summon_time</a>( 60_seconds );</div>
<div class="line"><a id="l09297" name="l09297"></a><span class="lineno"> 9297</span>    hologram-&gt;<a class="code hl_function" href="classmonster.html#a1da2080d28447c922d5a537e54794051">set_dest</a>( target );</div>
<div class="line"><a id="l09298" name="l09298"></a><span class="lineno"> 9298</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -to_turns&lt;int&gt;( 1_seconds ) );</div>
<div class="line"><a id="l09299" name="l09299"></a><span class="lineno"> 9299</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l09300" name="l09300"></a><span class="lineno"> 9300</span>}</div>
<div class="ttc" id="aclassCharacter_html_a4d8d747c469431f530acb05c5f7a7f45"><div class="ttname"><a href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">Character::is_worn</a></div><div class="ttdeci">bool is_worn(const item &amp;thing) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01142">character.h:1142</a></div></div>
<div class="ttc" id="aclassitem_html_a9aab8660fb40eedb8d2da95e797ecd32"><div class="ttname"><a href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">item::is_armor</a></div><div class="ttdeci">bool is_armor() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06554">item.cpp:6554</a></div></div>
<div class="ttc" id="aclassmonster_html_a1da2080d28447c922d5a537e54794051"><div class="ttname"><a href="classmonster.html#a1da2080d28447c922d5a537e54794051">monster::set_dest</a></div><div class="ttdeci">void set_dest(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="monmove_8cpp_source.html#l00254">monmove.cpp:254</a></div></div>
<div class="ttc" id="aclassmonster_html_a45462fba4c37679c66ecde2f9000c22c"><div class="ttname"><a href="classmonster.html#a45462fba4c37679c66ecde2f9000c22c">monster::add_effect</a></div><div class="ttdeci">void add_effect(const efftype_id &amp;eff_id, const time_duration &amp;dur, const bodypart_str_id &amp;bp, int intensity=0, bool force=false, bool deferred=false) override</div><div class="ttdoc">Performs any monster-specific modifications to the arguments before passing to Creature::add_effect()...</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01807">monster.cpp:1807</a></div></div>
<div class="ttc" id="aclassmonster_html_a6f731be1827a34cb1bffc1b6698eb869"><div class="ttname"><a href="classmonster.html#a6f731be1827a34cb1bffc1b6698eb869">monster::set_summon_time</a></div><div class="ttdeci">void set_summon_time(const time_duration &amp;length)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02120">monster.cpp:2120</a></div></div>
<div class="ttc" id="aclassmonster_html_a88c30bfeb57c6d44b965f92265fc16d2"><div class="ttname"><a href="classmonster.html#a88c30bfeb57c6d44b965f92265fc16d2">monster::wandf</a></div><div class="ttdeci">int wandf</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00455">monster.h:455</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a39fd8a829e3dc412646663066dbdb54c"><div class="ttname"><a href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a></div><div class="ttdeci">static constexpr int SEEX</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00036">game_constants.h:36</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a4cfa35de359af17f7bc6c2a424339eb5"><div class="ttname"><a href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></div><div class="ttdeci">static constexpr int SEEY</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00037">game_constants.h:37</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a924fe96bf3dd9ac954c9925fdd5b6901"><div class="ttname"><a href="iuse_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a></div><div class="ttdeci">static const efftype_id effect_docile(&quot;docile&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ab0d084494ccdd0e181ec0111482260e1"><div class="ttname"><a href="iuse_8cpp.html#ab0d084494ccdd0e181ec0111482260e1">mon_hologram</a></div><div class="ttdeci">static const mtype_id mon_hologram(&quot;mon_hologram&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="monster_8cpp_source.html#l01807">monster::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="iuse_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a>, <a class="el" href="monster_8h_source.html#l00471">monster::friendly</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l06554">item::is_armor()</a>, <a class="el" href="character_8h_source.html#l01142">Character::is_worn()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="iuse_8cpp.html#ab0d084494ccdd0e181ec0111482260e1">mon_hologram</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="game__constants_8h_source.html#l00036">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00037">SEEY</a>, <a class="el" href="monmove_8cpp_source.html#l00254">monster::set_dest()</a>, <a class="el" href="monster_8cpp_source.html#l02120">monster::set_summon_time()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="monster_8h_source.html#l00455">monster::wandf</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="abbada1cfe3e93f4e81d2a6abc0ae15d4" name="abbada1cfe3e93f4e81d2a6abc0ae15d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbada1cfe3e93f4e81d2a6abc0ae15d4">&#9670;&nbsp;</a></span>disassemble()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::disassemble </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09691">9691</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09692" name="l09692"></a><span class="lineno"> 9692</span>{</div>
<div class="line"><a id="l09693" name="l09693"></a><span class="lineno"> 9693</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l09694" name="l09694"></a><span class="lineno"> 9694</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l09695" name="l09695"></a><span class="lineno"> 9695</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09696" name="l09696"></a><span class="lineno"> 9696</span>    }</div>
<div class="line"><a id="l09697" name="l09697"></a><span class="lineno"> 9697</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l09698" name="l09698"></a><span class="lineno"> 9698</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09699" name="l09699"></a><span class="lineno"> 9699</span>    }</div>
<div class="line"><a id="l09700" name="l09700"></a><span class="lineno"> 9700</span> </div>
<div class="line"><a id="l09701" name="l09701"></a><span class="lineno"> 9701</span>    p-&gt;<a class="code hl_function" href="classplayer.html#aa9da31740010570cb21b47ca70885d48">disassemble</a>( <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, it ), <span class="keyword">false</span> );</div>
<div class="line"><a id="l09702" name="l09702"></a><span class="lineno"> 9702</span> </div>
<div class="line"><a id="l09703" name="l09703"></a><span class="lineno"> 9703</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09704" name="l09704"></a><span class="lineno"> 9704</span>}</div>
<div class="ttc" id="aclassplayer_html_aa9da31740010570cb21b47ca70885d48"><div class="ttname"><a href="classplayer.html#aa9da31740010570cb21b47ca70885d48">player::disassemble</a></div><div class="ttdeci">bool disassemble()</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01928">crafting.cpp:1928</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="crafting_8cpp_source.html#l01928">player::disassemble()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, and <a class="el" href="enums_8h_source.html#l00258">m_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a89f66093ce781aa4144ae0ad8669cd19" name="a89f66093ce781aa4144ae0ad8669cd19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89f66093ce781aa4144ae0ad8669cd19">&#9670;&nbsp;</a></span>dive_tank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::dive_tank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04239">4239</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04240" name="l04240"></a><span class="lineno"> 4240</span>{</div>
<div class="line"><a id="l04241" name="l04241"></a><span class="lineno"> 4241</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Normal use</span></div>
<div class="line"><a id="l04242" name="l04242"></a><span class="lineno"> 4242</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *it ) ) {</div>
<div class="line"><a id="l04243" name="l04243"></a><span class="lineno"> 4243</span>            <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() &amp;&amp; p-&gt;<a class="code hl_variable" href="classCharacter.html#a865e5eb770c71b3bd4ec4a05235cd3b6">oxygen</a> &lt; 10 ) {</div>
<div class="line"><a id="l04244" name="l04244"></a><span class="lineno"> 4244</span>                p-&gt;<a class="code hl_variable" href="classCharacter.html#a865e5eb770c71b3bd4ec4a05235cd3b6">oxygen</a> += 20;</div>
<div class="line"><a id="l04245" name="l04245"></a><span class="lineno"> 4245</span>            }</div>
<div class="line"><a id="l04246" name="l04246"></a><span class="lineno"> 4246</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 15 ) ) {</div>
<div class="line"><a id="l04247" name="l04247"></a><span class="lineno"> 4247</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take a deep breath from your %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04248" name="l04248"></a><span class="lineno"> 4248</span>            }</div>
<div class="line"><a id="l04249" name="l04249"></a><span class="lineno"> 4249</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l04250" name="l04250"></a><span class="lineno"> 4250</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Air in your %s runs out.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04251" name="l04251"></a><span class="lineno"> 4251</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;overwrite_env_resist&quot;</span>, 0 );</div>
<div class="line"><a id="l04252" name="l04252"></a><span class="lineno"> 4252</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().substr( 0,</div>
<div class="line"><a id="l04253" name="l04253"></a><span class="lineno"> 4253</span>                                       it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().size() - 3 ) ) ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>; <span class="comment">// 3 = &quot;_on&quot;</span></div>
<div class="line"><a id="l04254" name="l04254"></a><span class="lineno"> 4254</span>            }</div>
<div class="line"><a id="l04255" name="l04255"></a><span class="lineno"> 4255</span>        } <span class="keywordflow">else</span> { <span class="comment">// not worn = off thanks to on-demand regulator</span></div>
<div class="line"><a id="l04256" name="l04256"></a><span class="lineno"> 4256</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;overwrite_env_resist&quot;</span>, 0 );</div>
<div class="line"><a id="l04257" name="l04257"></a><span class="lineno"> 4257</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().substr( 0,</div>
<div class="line"><a id="l04258" name="l04258"></a><span class="lineno"> 4258</span>                                   it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().size() - 3 ) ) ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>; <span class="comment">// 3 = &quot;_on&quot;</span></div>
<div class="line"><a id="l04259" name="l04259"></a><span class="lineno"> 4259</span>        }</div>
<div class="line"><a id="l04260" name="l04260"></a><span class="lineno"> 4260</span> </div>
<div class="line"><a id="l04261" name="l04261"></a><span class="lineno"> 4261</span>    } <span class="keywordflow">else</span> { <span class="comment">// Turning it on/off</span></div>
<div class="line"><a id="l04262" name="l04262"></a><span class="lineno"> 4262</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l04263" name="l04263"></a><span class="lineno"> 4263</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is empty.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04264" name="l04264"></a><span class="lineno"> 4264</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) { <span class="comment">//off</span></div>
<div class="line"><a id="l04265" name="l04265"></a><span class="lineno"> 4265</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You turn off the regulator and close the air valve.&quot;</span> ) );</div>
<div class="line"><a id="l04266" name="l04266"></a><span class="lineno"> 4266</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;overwrite_env_resist&quot;</span>, 0 );</div>
<div class="line"><a id="l04267" name="l04267"></a><span class="lineno"> 4267</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().substr( 0,</div>
<div class="line"><a id="l04268" name="l04268"></a><span class="lineno"> 4268</span>                                   it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().size() - 3 ) ) ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>; <span class="comment">// 3 = &quot;_on&quot;</span></div>
<div class="line"><a id="l04269" name="l04269"></a><span class="lineno"> 4269</span>        } <span class="keywordflow">else</span> { <span class="comment">//on</span></div>
<div class="line"><a id="l04270" name="l04270"></a><span class="lineno"> 4270</span>            <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *it ) ) {</div>
<div class="line"><a id="l04271" name="l04271"></a><span class="lineno"> 4271</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You should wear it first.&quot;</span> ) );</div>
<div class="line"><a id="l04272" name="l04272"></a><span class="lineno"> 4272</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04273" name="l04273"></a><span class="lineno"> 4273</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You turn on the regulator and open the air valve.&quot;</span> ) );</div>
<div class="line"><a id="l04274" name="l04274"></a><span class="lineno"> 4274</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;overwrite_env_resist&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#acb31dfc93d0de49315fdbbac504236df">get_base_env_resist_w_filter</a>() );</div>
<div class="line"><a id="l04275" name="l04275"></a><span class="lineno"> 4275</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() + <span class="stringliteral">&quot;_on&quot;</span> ) ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04276" name="l04276"></a><span class="lineno"> 4276</span>            }</div>
<div class="line"><a id="l04277" name="l04277"></a><span class="lineno"> 4277</span>        }</div>
<div class="line"><a id="l04278" name="l04278"></a><span class="lineno"> 4278</span>    }</div>
<div class="line"><a id="l04279" name="l04279"></a><span class="lineno"> 4279</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l04280" name="l04280"></a><span class="lineno"> 4280</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;overwrite_env_resist&quot;</span>, 0 );</div>
<div class="line"><a id="l04281" name="l04281"></a><span class="lineno"> 4281</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().substr( 0,</div>
<div class="line"><a id="l04282" name="l04282"></a><span class="lineno"> 4282</span>                               it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().size() - 3 ) ) ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>; <span class="comment">// 3 = &quot;_on&quot;</span></div>
<div class="line"><a id="l04283" name="l04283"></a><span class="lineno"> 4283</span>    }</div>
<div class="line"><a id="l04284" name="l04284"></a><span class="lineno"> 4284</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04285" name="l04285"></a><span class="lineno"> 4285</span>}</div>
<div class="ttc" id="aclassCharacter_html_a865e5eb770c71b3bd4ec4a05235cd3b6"><div class="ttname"><a href="classCharacter.html#a865e5eb770c71b3bd4ec4a05235cd3b6">Character::oxygen</a></div><div class="ttdeci">int oxygen</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01594">character.h:1594</a></div></div>
<div class="ttc" id="aclassitem_html_acb31dfc93d0de49315fdbbac504236df"><div class="ttname"><a href="classitem.html#acb31dfc93d0de49315fdbbac504236df">item::get_base_env_resist_w_filter</a></div><div class="ttdeci">int get_base_env_resist_w_filter() const</div><div class="ttdoc">Returns the base resistance to environmental effects if an item (for example a gas mask) requires a g...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05627">item.cpp:5627</a></div></div>
<div class="ttc" id="atype__id_8h_html_ac2f82f863d4e9e8f267a77a73910ebbf"><div class="ttname"><a href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a></div><div class="ttdeci">string_id&lt; itype &gt; itype_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00073">type_id.h:73</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="item_8cpp_source.html#l05627">item::get_base_env_resist_w_filter()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="character_8h_source.html#l01142">Character::is_worn()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="character_8h_source.html#l01594">Character::oxygen</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a888aa172d5f857fd41531e78c95e8435" name="a888aa172d5f857fd41531e78c95e8435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a888aa172d5f857fd41531e78c95e8435">&#9670;&nbsp;</a></span>dog_whistle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::dog_whistle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04569">4569</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04570" name="l04570"></a><span class="lineno"> 4570</span>{</div>
<div class="line"><a id="l04571" name="l04571"></a><span class="lineno"> 4571</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l04572" name="l04572"></a><span class="lineno"> 4572</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l04573" name="l04573"></a><span class="lineno"> 4573</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04574" name="l04574"></a><span class="lineno"> 4574</span>    }</div>
<div class="line"><a id="l04575" name="l04575"></a><span class="lineno"> 4575</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You blow your dog whistle.&quot;</span> ) );</div>
<div class="line"><a id="l04576" name="l04576"></a><span class="lineno"> 4576</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a id="l04577" name="l04577"></a><span class="lineno"> 4577</span>        <span class="keywordflow">if</span>( critter.friendly != 0 &amp;&amp; critter.has_flag( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a02f96727df6d10d1f36e865399cfcb81">MF_DOGFOOD</a> ) ) {</div>
<div class="line"><a id="l04578" name="l04578"></a><span class="lineno"> 4578</span>            <span class="keywordtype">bool</span> u_see = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( critter );</div>
<div class="line"><a id="l04579" name="l04579"></a><span class="lineno"> 4579</span>            <span class="keywordflow">if</span>( critter.has_effect( <a class="code hl_variable" href="iuse_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a> ) ) {</div>
<div class="line"><a id="l04580" name="l04580"></a><span class="lineno"> 4580</span>                <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a id="l04581" name="l04581"></a><span class="lineno"> 4581</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s looks ready to attack.&quot;</span> ), critter.name() );</div>
<div class="line"><a id="l04582" name="l04582"></a><span class="lineno"> 4582</span>                }</div>
<div class="line"><a id="l04583" name="l04583"></a><span class="lineno"> 4583</span>                critter.remove_effect( <a class="code hl_variable" href="iuse_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a> );</div>
<div class="line"><a id="l04584" name="l04584"></a><span class="lineno"> 4584</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04585" name="l04585"></a><span class="lineno"> 4585</span>                <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a id="l04586" name="l04586"></a><span class="lineno"> 4586</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s goes docile.&quot;</span> ), critter.name() );</div>
<div class="line"><a id="l04587" name="l04587"></a><span class="lineno"> 4587</span>                }</div>
<div class="line"><a id="l04588" name="l04588"></a><span class="lineno"> 4588</span>                critter.add_effect( <a class="code hl_variable" href="iuse_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l04589" name="l04589"></a><span class="lineno"> 4589</span>            }</div>
<div class="line"><a id="l04590" name="l04590"></a><span class="lineno"> 4590</span>        }</div>
<div class="line"><a id="l04591" name="l04591"></a><span class="lineno"> 4591</span>    }</div>
<div class="line"><a id="l04592" name="l04592"></a><span class="lineno"> 4592</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04593" name="l04593"></a><span class="lineno"> 4593</span>}</div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842a02f96727df6d10d1f36e865399cfcb81"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a02f96727df6d10d1f36e865399cfcb81">MF_DOGFOOD</a></div><div class="ttdeci">@ MF_DOGFOOD</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00166">mtype.h:166</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="mtype_8h_source.html#l00166">MF_DOGFOOD</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a265cb6538afad686f4da6f07de495e79" name="a265cb6538afad686f4da6f07de495e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a265cb6538afad686f4da6f07de495e79">&#9670;&nbsp;</a></span>dogfood()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::dogfood </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01630">1630</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>{</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#aba4a7ef0eb0c520a784fb936bda62550">petfood</a>( *p, *it, <a class="code hl_enumvalue" href="iuse_8cpp.html#aada2fd516b4c31f58ea02b26f150e497a72966602a111e93a01e49a2377c443cb">DOGFOOD</a> );</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_aada2fd516b4c31f58ea02b26f150e497a72966602a111e93a01e49a2377c443cb"><div class="ttname"><a href="iuse_8cpp.html#aada2fd516b4c31f58ea02b26f150e497a72966602a111e93a01e49a2377c443cb">DOGFOOD</a></div><div class="ttdeci">@ DOGFOOD</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01530">iuse.cpp:1530</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l01530">DOGFOOD</a>, and <a class="el" href="iuse_8cpp_source.html#l01550">petfood()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a32e8ce410f0d48d5d30ad5a75ec274e5" name="a32e8ce410f0d48d5d30ad5a75ec274e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e8ce410f0d48d5d30ad5a75ec274e5">&#9670;&nbsp;</a></span>e_combatsaw_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::e_combatsaw_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03063">3063</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>{</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#ab84218a7a696ba0c25b8a593731fc7ee">toolweapon_off</a>( *p, *it,</div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span>                           <span class="keyword">true</span>,</div>
<div class="line"><a id="l03067" name="l03067"></a><span class="lineno"> 3067</span>                           !p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>(),</div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span>                           30, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;With a snarl, the electric combat chainsaw screams to life!&quot;</span> ),</div>
<div class="line"><a id="l03069" name="l03069"></a><span class="lineno"> 3069</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pull the trigger, but nothing happens.&quot;</span> ) );</div>
<div class="line"><a id="l03070" name="l03070"></a><span class="lineno"> 3070</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, and <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a7379d0261888bcf0a4f2db556a36719a" name="a7379d0261888bcf0a4f2db556a36719a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7379d0261888bcf0a4f2db556a36719a">&#9670;&nbsp;</a></span>e_combatsaw_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::e_combatsaw_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03165">3165</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03166" name="l03166"></a><span class="lineno"> 3166</span>{</div>
<div class="line"><a id="l03167" name="l03167"></a><span class="lineno"> 3167</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#a74ac96156e1d05593ce2dc168d2fb37c">toolweapon_on</a>( *p, *it, t, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;electric combat chainsaw&quot;</span> ),</div>
<div class="line"><a id="l03168" name="l03168"></a><span class="lineno"> 3168</span>                          <span class="keyword">false</span>,</div>
<div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span>                          12, 18, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your electric combat chainsaw growls.&quot;</span> ) );</div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ae7605a2a35b7ba6d0353b3c7c74ae7f0" name="ae7605a2a35b7ba6d0353b3c7c74ae7f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7605a2a35b7ba6d0353b3c7c74ae7f0">&#9670;&nbsp;</a></span>ecig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::ecig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00594">594</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>{</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#aae1e9a5185012ed8c4a56409559c9aca">itype_ecig</a> ) {</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take a puff from your electronic cigarette.&quot;</span> ) );</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a4365e043c6b960fe0360ad63470383d9">itype_advanced_ecig</a> ) {</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( <a class="code hl_variable" href="iuse_8cpp.html#ad80db25cf47a7d58c6163230edf5b416">itype_nicotine_liquid</a>, 1 ) ) {</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You inhale some vapor from your advanced electronic cigarette.&quot;</span> ) );</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( <a class="code hl_variable" href="iuse_8cpp.html#ad80db25cf47a7d58c6163230edf5b416">itype_nicotine_liquid</a>, 1 );</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>            <a class="code hl_class" href="classitem.html">item</a> dummy_ecig = <a class="code hl_class" href="classitem.html">item</a>( <span class="stringliteral">&quot;ecig&quot;</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">consume_effects</a>( dummy_ecig );</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have any nicotine liquid!&quot;</span> ) );</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        }</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span> </div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 1 );</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( 10 );</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa6055e7b9d5b2cb3ecd4cce48a416d33">effect_cig</a>, 10_minutes );</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">get_effect_dur</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa6055e7b9d5b2cb3ecd4cce48a416d33">effect_cig</a> ) &gt; 10_minutes * ( p-&gt;<a class="code hl_function" href="classCharacter.html#af2f6b4a5ad4b128bda53fe610362b5b0">addiction_level</a>(</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>                <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba641921a2214b1bb7a1134a54c0d04ff7">add_type::CIG</a> ) + 1 ) ) {</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ugh, too much nicotine… you feel nasty.&quot;</span> ) );</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    }</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3d0ec2b4e80527bd2daad576c2bbb187"><div class="ttname"><a href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">Character::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const itype_id &amp;what, int qty, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09631">character.cpp:9631</a></div></div>
<div class="ttc" id="aclassCharacter_html_a54f90ca736510c41a6539c8d8ad833b6"><div class="ttname"><a href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">Character::consume_effects</a></div><div class="ttdeci">bool consume_effects(item &amp;food)</div><div class="ttdoc">Handles the effects of consuming an item.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01159">consumption.cpp:1159</a></div></div>
<div class="ttc" id="aclassCharacter_html_af2f6b4a5ad4b128bda53fe610362b5b0"><div class="ttname"><a href="classCharacter.html#af2f6b4a5ad4b128bda53fe610362b5b0">Character::addiction_level</a></div><div class="ttdeci">int addiction_level(add_type type) const</div><div class="ttdoc">Returns the intensity of the specified addiction.</div><div class="ttdef"><b>Definition:</b> <a href="suffer_8cpp_source.html#l01959">suffer.cpp:1959</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a4365e043c6b960fe0360ad63470383d9"><div class="ttname"><a href="iuse_8cpp.html#a4365e043c6b960fe0360ad63470383d9">itype_advanced_ecig</a></div><div class="ttdeci">static const itype_id itype_advanced_ecig(&quot;advanced_ecig&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_aa6055e7b9d5b2cb3ecd4cce48a416d33"><div class="ttname"><a href="iuse_8cpp.html#aa6055e7b9d5b2cb3ecd4cce48a416d33">effect_cig</a></div><div class="ttdeci">static const efftype_id effect_cig(&quot;cig&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_aae1e9a5185012ed8c4a56409559c9aca"><div class="ttname"><a href="iuse_8cpp.html#aae1e9a5185012ed8c4a56409559c9aca">itype_ecig</a></div><div class="ttdeci">static const itype_id itype_ecig(&quot;ecig&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ad80db25cf47a7d58c6163230edf5b416"><div class="ttname"><a href="iuse_8cpp.html#ad80db25cf47a7d58c6163230edf5b416">itype_nicotine_liquid</a></div><div class="ttdeci">static const itype_id itype_nicotine_liquid(&quot;nicotine_liquid&quot;)</div></div>
<div class="ttc" id="apldata_8h_html_abffc2f52fa6cfeac2e388c6de0ac295ba641921a2214b1bb7a1134a54c0d04ff7"><div class="ttname"><a href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba641921a2214b1bb7a1134a54c0d04ff7">add_type::CIG</a></div><div class="ttdeci">@ CIG</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="suffer_8cpp_source.html#l01959">Character::addiction_level()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba641921a2214b1bb7a1134a54c0d04ff7">CIG</a>, <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>, <a class="el" href="iuse_8cpp.html#aa6055e7b9d5b2cb3ecd4cce48a416d33">effect_cig</a>, <a class="el" href="creature_8cpp_source.html#l01235">Creature::get_effect_dur()</a>, <a class="el" href="character_8cpp_source.html#l09571">Character::has_charges()</a>, <a class="el" href="iuse_8cpp.html#a4365e043c6b960fe0360ad63470383d9">itype_advanced_ecig</a>, <a class="el" href="iuse_8cpp.html#aae1e9a5185012ed8c4a56409559c9aca">itype_ecig</a>, <a class="el" href="iuse_8cpp.html#ad80db25cf47a7d58c6163230edf5b416">itype_nicotine_liquid</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="character_8cpp_source.html#l04283">Character::mod_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, and <a class="el" href="character_8cpp_source.html#l09631">Character::use_charges()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a128984aa7ad2a8433c238101d5294153" name="a128984aa7ad2a8433c238101d5294153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a128984aa7ad2a8433c238101d5294153">&#9670;&nbsp;</a></span>ecs_lajatang_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::ecs_lajatang_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03099">3099</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03100" name="l03100"></a><span class="lineno"> 3100</span>{</div>
<div class="line"><a id="l03101" name="l03101"></a><span class="lineno"> 3101</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#ab84218a7a696ba0c25b8a593731fc7ee">toolweapon_off</a>( *p, *it,</div>
<div class="line"><a id="l03102" name="l03102"></a><span class="lineno"> 3102</span>                           <span class="keyword">false</span>,</div>
<div class="line"><a id="l03103" name="l03103"></a><span class="lineno"> 3103</span>                           it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt; 1 &amp;&amp; !p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>(),</div>
<div class="line"><a id="l03104" name="l03104"></a><span class="lineno"> 3104</span>                           40, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;With a buzz, the chainsaws leap to life!&quot;</span> ),</div>
<div class="line"><a id="l03105" name="l03105"></a><span class="lineno"> 3105</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pull the trigger, but nothing happens.&quot;</span> ) );</div>
<div class="line"><a id="l03106" name="l03106"></a><span class="lineno"> 3106</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, and <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aa204865fbe45f6454539b3cb61ec6c92" name="aa204865fbe45f6454539b3cb61ec6c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa204865fbe45f6454539b3cb61ec6c92">&#9670;&nbsp;</a></span>ecs_lajatang_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::ecs_lajatang_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03196">3196</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span>{</div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"> 3198</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#a74ac96156e1d05593ce2dc168d2fb37c">toolweapon_on</a>( *p, *it, t, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;electric chainsaw lajatang&quot;</span> ),</div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span>                          <span class="keyword">false</span>,</div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span>                          15, 12, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your chainsaws buzz.&quot;</span> ),</div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span>                          <span class="keyword">true</span> );</div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>    <span class="comment">// The chainsaw lajatang drains 2 charges per turn, since</span></div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span>    <span class="comment">// there are two chainsaws.</span></div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a817fb34ea6d9f331660be5f9f9d1d830" name="a817fb34ea6d9f331660be5f9f9d1d830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a817fb34ea6d9f331660be5f9f9d1d830">&#9670;&nbsp;</a></span>ehandcuffs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::ehandcuffs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l07781">7781</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07782" name="l07782"></a><span class="lineno"> 7782</span>{</div>
<div class="line"><a id="l07783" name="l07783"></a><span class="lineno"> 7783</span> </div>
<div class="line"><a id="l07784" name="l07784"></a><span class="lineno"> 7784</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l07785" name="l07785"></a><span class="lineno"> 7785</span> </div>
<div class="line"><a id="l07786" name="l07786"></a><span class="lineno"> 7786</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;SWIMMABLE&quot;</span>, pos.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() ) ) {</div>
<div class="line"><a id="l07787" name="l07787"></a><span class="lineno"> 7787</span>            it-&gt;<a class="code hl_function" href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">unset_flag</a>( <span class="stringliteral">&quot;NO_UNWIELD&quot;</span> );</div>
<div class="line"><a id="l07788" name="l07788"></a><span class="lineno"> 7788</span>            it-&gt;<a class="code hl_function" href="classitem.html#aa31ffbae3561dd20a3a60e541f6fd02e">ammo_unset</a>();</div>
<div class="line"><a id="l07789" name="l07789"></a><span class="lineno"> 7789</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07790" name="l07790"></a><span class="lineno"> 7790</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s automatically turned off!&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l07791" name="l07791"></a><span class="lineno"> 7791</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07792" name="l07792"></a><span class="lineno"> 7792</span>        }</div>
<div class="line"><a id="l07793" name="l07793"></a><span class="lineno"> 7793</span> </div>
<div class="line"><a id="l07794" name="l07794"></a><span class="lineno"> 7794</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l07795" name="l07795"></a><span class="lineno"> 7795</span> </div>
<div class="line"><a id="l07796" name="l07796"></a><span class="lineno"> 7796</span>            <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 2, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <span class="stringliteral">&quot;Click.&quot;</span>, <span class="keyword">true</span>, <span class="stringliteral">&quot;tools&quot;</span>, <span class="stringliteral">&quot;handcuffs&quot;</span> );</div>
<div class="line"><a id="l07797" name="l07797"></a><span class="lineno"> 7797</span>            it-&gt;<a class="code hl_function" href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">unset_flag</a>( <span class="stringliteral">&quot;NO_UNWIELD&quot;</span> );</div>
<div class="line"><a id="l07798" name="l07798"></a><span class="lineno"> 7798</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07799" name="l07799"></a><span class="lineno"> 7799</span> </div>
<div class="line"><a id="l07800" name="l07800"></a><span class="lineno"> 7800</span>            <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) &amp;&amp; p-&gt;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a8036e3cd7d05e67da5e6e9ddc4caec9b">itype_e_handcuffs</a> ) {</div>
<div class="line"><a id="l07801" name="l07801"></a><span class="lineno"> 7801</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s on your hands opened!&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l07802" name="l07802"></a><span class="lineno"> 7802</span>            }</div>
<div class="line"><a id="l07803" name="l07803"></a><span class="lineno"> 7803</span> </div>
<div class="line"><a id="l07804" name="l07804"></a><span class="lineno"> 7804</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07805" name="l07805"></a><span class="lineno"> 7805</span>        }</div>
<div class="line"><a id="l07806" name="l07806"></a><span class="lineno"> 7806</span> </div>
<div class="line"><a id="l07807" name="l07807"></a><span class="lineno"> 7807</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l07808" name="l07808"></a><span class="lineno"> 7808</span>            <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="iuse_8cpp.html#a9719257cccee9b21df38a95f2ca195fa">bio_shock</a> ) &amp;&amp; p-&gt;<a class="code hl_function" href="classCharacter.html#add22510ff2fa20a662868b4dd86e030e">get_power_level</a>() &gt;= 2_kJ &amp;&amp;</div>
<div class="line"><a id="l07809" name="l07809"></a><span class="lineno"> 7809</span>                <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a id="l07810" name="l07810"></a><span class="lineno"> 7810</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">mod_power_level</a>( -2_kJ );</div>
<div class="line"><a id="l07811" name="l07811"></a><span class="lineno"> 7811</span> </div>
<div class="line"><a id="l07812" name="l07812"></a><span class="lineno"> 7812</span>                it-&gt;<a class="code hl_function" href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">unset_flag</a>( <span class="stringliteral">&quot;NO_UNWIELD&quot;</span> );</div>
<div class="line"><a id="l07813" name="l07813"></a><span class="lineno"> 7813</span>                it-&gt;<a class="code hl_function" href="classitem.html#aa31ffbae3561dd20a3a60e541f6fd02e">ammo_unset</a>();</div>
<div class="line"><a id="l07814" name="l07814"></a><span class="lineno"> 7814</span>                it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07815" name="l07815"></a><span class="lineno"> 7815</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s crackle with electricity from your bionic, then come off your hands!&quot;</span> ),</div>
<div class="line"><a id="l07816" name="l07816"></a><span class="lineno"> 7816</span>                         it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l07817" name="l07817"></a><span class="lineno"> 7817</span> </div>
<div class="line"><a id="l07818" name="l07818"></a><span class="lineno"> 7818</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07819" name="l07819"></a><span class="lineno"> 7819</span>            }</div>
<div class="line"><a id="l07820" name="l07820"></a><span class="lineno"> 7820</span>        }</div>
<div class="line"><a id="l07821" name="l07821"></a><span class="lineno"> 7821</span> </div>
<div class="line"><a id="l07822" name="l07822"></a><span class="lineno"> 7822</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 1_minutes ) ) {</div>
<div class="line"><a id="l07823" name="l07823"></a><span class="lineno"> 7823</span>            <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 10, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;a police siren, whoop WHOOP.&quot;</span> ), <span class="keyword">true</span>,</div>
<div class="line"><a id="l07824" name="l07824"></a><span class="lineno"> 7824</span>                           <span class="stringliteral">&quot;environment&quot;</span>, <span class="stringliteral">&quot;police_siren&quot;</span> );</div>
<div class="line"><a id="l07825" name="l07825"></a><span class="lineno"> 7825</span>        }</div>
<div class="line"><a id="l07826" name="l07826"></a><span class="lineno"> 7826</span> </div>
<div class="line"><a id="l07827" name="l07827"></a><span class="lineno"> 7827</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> p2( it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;HANDCUFFS_X&quot;</span>, 0 ), it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;HANDCUFFS_Y&quot;</span>, 0 ) );</div>
<div class="line"><a id="l07828" name="l07828"></a><span class="lineno"> 7828</span> </div>
<div class="line"><a id="l07829" name="l07829"></a><span class="lineno"> 7829</span>        <span class="keywordflow">if</span>( ( it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt; it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#af238865694d157c403d1c7d0b74106dc">maximum_charges</a>() - 1000 ) &amp;&amp; ( p2.x != pos.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> ||</div>
<div class="line"><a id="l07830" name="l07830"></a><span class="lineno"> 7830</span>                p2.y != pos.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> ) ) {</div>
<div class="line"><a id="l07831" name="l07831"></a><span class="lineno"> 7831</span> </div>
<div class="line"><a id="l07832" name="l07832"></a><span class="lineno"> 7832</span>            <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) &amp;&amp; p-&gt;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a8036e3cd7d05e67da5e6e9ddc4caec9b">itype_e_handcuffs</a> ) {</div>
<div class="line"><a id="l07833" name="l07833"></a><span class="lineno"> 7833</span> </div>
<div class="line"><a id="l07834" name="l07834"></a><span class="lineno"> 7834</span>                <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a2fcc1fc6fbdadd5dc6f404eb80351b3f">is_elec_immune</a>() ) {</div>
<div class="line"><a id="l07835" name="l07835"></a><span class="lineno"> 7835</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a id="l07836" name="l07836"></a><span class="lineno"> 7836</span>                        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The cuffs try to shock you, but you&#39;re protected from electricity.&quot;</span> ) );</div>
<div class="line"><a id="l07837" name="l07837"></a><span class="lineno"> 7837</span>                    }</div>
<div class="line"><a id="l07838" name="l07838"></a><span class="lineno"> 7838</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07839" name="l07839"></a><span class="lineno"> 7839</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ouch, the cuffs shock you!&quot;</span> ) );</div>
<div class="line"><a id="l07840" name="l07840"></a><span class="lineno"> 7840</span> </div>
<div class="line"><a id="l07841" name="l07841"></a><span class="lineno"> 7841</span>                    p-&gt;<a class="code hl_function" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;arm_l&quot;</span> ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 2 ) );</div>
<div class="line"><a id="l07842" name="l07842"></a><span class="lineno"> 7842</span>                    p-&gt;<a class="code hl_function" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;arm_r&quot;</span> ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 2 ) );</div>
<div class="line"><a id="l07843" name="l07843"></a><span class="lineno"> 7843</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 5 ) );</div>
<div class="line"><a id="l07844" name="l07844"></a><span class="lineno"> 7844</span> </div>
<div class="line"><a id="l07845" name="l07845"></a><span class="lineno"> 7845</span>                }</div>
<div class="line"><a id="l07846" name="l07846"></a><span class="lineno"> 7846</span> </div>
<div class="line"><a id="l07847" name="l07847"></a><span class="lineno"> 7847</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07848" name="l07848"></a><span class="lineno"> 7848</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s spark with electricity!&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l07849" name="l07849"></a><span class="lineno"> 7849</span>            }</div>
<div class="line"><a id="l07850" name="l07850"></a><span class="lineno"> 7850</span> </div>
<div class="line"><a id="l07851" name="l07851"></a><span class="lineno"> 7851</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= 50;</div>
<div class="line"><a id="l07852" name="l07852"></a><span class="lineno"> 7852</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt; 1 ) {</div>
<div class="line"><a id="l07853" name="l07853"></a><span class="lineno"> 7853</span>                it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 1;</div>
<div class="line"><a id="l07854" name="l07854"></a><span class="lineno"> 7854</span>            }</div>
<div class="line"><a id="l07855" name="l07855"></a><span class="lineno"> 7855</span> </div>
<div class="line"><a id="l07856" name="l07856"></a><span class="lineno"> 7856</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;HANDCUFFS_X&quot;</span>, pos.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> );</div>
<div class="line"><a id="l07857" name="l07857"></a><span class="lineno"> 7857</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;HANDCUFFS_Y&quot;</span>, pos.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> );</div>
<div class="line"><a id="l07858" name="l07858"></a><span class="lineno"> 7858</span> </div>
<div class="line"><a id="l07859" name="l07859"></a><span class="lineno"> 7859</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07860" name="l07860"></a><span class="lineno"> 7860</span> </div>
<div class="line"><a id="l07861" name="l07861"></a><span class="lineno"> 7861</span>        }</div>
<div class="line"><a id="l07862" name="l07862"></a><span class="lineno"> 7862</span> </div>
<div class="line"><a id="l07863" name="l07863"></a><span class="lineno"> 7863</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07864" name="l07864"></a><span class="lineno"> 7864</span> </div>
<div class="line"><a id="l07865" name="l07865"></a><span class="lineno"> 7865</span>    }</div>
<div class="line"><a id="l07866" name="l07866"></a><span class="lineno"> 7866</span> </div>
<div class="line"><a id="l07867" name="l07867"></a><span class="lineno"> 7867</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l07868" name="l07868"></a><span class="lineno"> 7868</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s are clamped tightly on your wrists.  You can&#39;t take them off.&quot;</span> ),</div>
<div class="line"><a id="l07869" name="l07869"></a><span class="lineno"> 7869</span>                 it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l07870" name="l07870"></a><span class="lineno"> 7870</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07871" name="l07871"></a><span class="lineno"> 7871</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s have discharged and can be taken off.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l07872" name="l07872"></a><span class="lineno"> 7872</span>    }</div>
<div class="line"><a id="l07873" name="l07873"></a><span class="lineno"> 7873</span> </div>
<div class="line"><a id="l07874" name="l07874"></a><span class="lineno"> 7874</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07875" name="l07875"></a><span class="lineno"> 7875</span>}</div>
<div class="ttc" id="aclassCharacter_html_a17446e14fd6046648a505c4aaec3d976"><div class="ttname"><a href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">Character::mod_power_level</a></div><div class="ttdeci">void mod_power_level(const units::energy &amp;npower)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01976">character.cpp:1976</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2fcc1fc6fbdadd5dc6f404eb80351b3f"><div class="ttname"><a href="classCharacter.html#a2fcc1fc6fbdadd5dc6f404eb80351b3f">Character::is_elec_immune</a></div><div class="ttdeci">bool is_elec_immune() const override</div><div class="ttdoc">Returns true is the player is protected from electric shocks.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06173">character.cpp:6173</a></div></div>
<div class="ttc" id="aclassCharacter_html_add22510ff2fa20a662868b4dd86e030e"><div class="ttname"><a href="classCharacter.html#add22510ff2fa20a662868b4dd86e030e">Character::get_power_level</a></div><div class="ttdeci">units::energy get_power_level() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01956">character.cpp:1956</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae68b7a6565646ba662e448bded8b6599"><div class="ttname"><a href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">Character::weapon</a></div><div class="ttdeci">item weapon</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01585">character.h:1585</a></div></div>
<div class="ttc" id="aclassCharacter_html_af9c7419575e23d52745c94009929fafb"><div class="ttname"><a href="classCharacter.html#af9c7419575e23d52745c94009929fafb">Character::has_active_bionic</a></div><div class="ttdeci">bool has_active_bionic(const bionic_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered bionic id and it is powered on.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01876">character.cpp:1876</a></div></div>
<div class="ttc" id="aclassitem_html_aa31ffbae3561dd20a3a60e541f6fd02e"><div class="ttname"><a href="classitem.html#aa31ffbae3561dd20a3a60e541f6fd02e">item::ammo_unset</a></div><div class="ttdeci">item &amp; ammo_unset()</div><div class="ttdoc">Filter removing all ammo from this instance If the item is neither a tool, gun nor magazine is a no-o...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00677">item.cpp:677</a></div></div>
<div class="ttc" id="aclassitem_html_ab03f3d257e8d9c5789aca61a1fa8c741"><div class="ttname"><a href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">item::unset_flag</a></div><div class="ttdeci">item &amp; unset_flag(const std::string &amp;flag)</div><div class="ttdoc">Idempotent filter removing an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05227">item.cpp:5227</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a8036e3cd7d05e67da5e6e9ddc4caec9b"><div class="ttname"><a href="iuse_8cpp.html#a8036e3cd7d05e67da5e6e9ddc4caec9b">itype_e_handcuffs</a></div><div class="ttdeci">static const itype_id itype_e_handcuffs(&quot;e_handcuffs&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a9719257cccee9b21df38a95f2ca195fa"><div class="ttname"><a href="iuse_8cpp.html#a9719257cccee9b21df38a95f2ca195fa">bio_shock</a></div><div class="ttdeci">static const bionic_id bio_shock(&quot;bio_shock&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_a356df28513f4d655ae35c312ab6e7d55"><div class="ttname"><a href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a></div><div class="ttdeci">bool once_every(const time_duration &amp;event_frequency)</div><div class="ttdoc">Predicate to handle rate-limiting.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00490">calendar.cpp:490</a></div></div>
<div class="ttc" id="astructitype_html_af238865694d157c403d1c7d0b74106dc"><div class="ttname"><a href="structitype.html#af238865694d157c403d1c7d0b74106dc">itype::maximum_charges</a></div><div class="ttdeci">int maximum_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01101">itype.h:1101</a></div></div>
<div class="ttc" id="astructtripoint_html_accc0725c936dbebb2486f969f39e2e5f"><div class="ttname"><a href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">tripoint::xy</a></div><div class="ttdeci">constexpr point xy() const</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00220">point.h:220</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l00677">item::ammo_unset()</a>, <a class="el" href="character_8cpp_source.html#l08385">Character::apply_damage()</a>, <a class="el" href="iuse_8cpp.html#a9719257cccee9b21df38a95f2ca195fa">bio_shock</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::combat</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01956">Character::get_power_level()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="character_8cpp_source.html#l06173">Character::is_elec_immune()</a>, <a class="el" href="iuse_8cpp.html#a8036e3cd7d05e67da5e6e9ddc4caec9b">itype_e_handcuffs</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="itype_8h_source.html#l01101">itype::maximum_charges()</a>, <a class="el" href="player_8cpp_source.html#l01092">player::mod_pain()</a>, <a class="el" href="character_8cpp_source.html#l01976">Character::mod_power_level()</a>, <a class="el" href="calendar_8cpp_source.html#l00490">calendar::once_every()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, <a class="el" href="item_8cpp_source.html#l05227">item::unset_flag()</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00220">tripoint::xy()</a>, <a class="el" href="point_8h_source.html#l00039">point::y</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a9a4b8e2bc5d43e5e4c952c4c77e3db68" name="a9a4b8e2bc5d43e5e4c952c4c77e3db68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4b8e2bc5d43e5e4c952c4c77e3db68">&#9670;&nbsp;</a></span>einktabletpc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::einktabletpc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Computer &gt;2 allows decrypting memory cards more easily Intelligence increases chance of safely decrypting memory card Computer increases chance of safely decrypting memory card 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l06372">6372</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06373" name="l06373"></a><span class="lineno"> 6373</span>{</div>
<div class="line"><a id="l06374" name="l06374"></a><span class="lineno"> 6374</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l06375" name="l06375"></a><span class="lineno"> 6375</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EIPC_MUSIC_ON&quot;</span> ).empty() &amp;&amp; ( it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt; 0 ) ) {</div>
<div class="line"><a id="l06376" name="l06376"></a><span class="lineno"> 6376</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 5_minutes ) ) {</div>
<div class="line"><a id="l06377" name="l06377"></a><span class="lineno"> 6377</span>                it-&gt;<a class="code hl_function" href="classitem.html#ae00bce86206993cc672387f9a2c77f92">ammo_consume</a>( 1, p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l06378" name="l06378"></a><span class="lineno"> 6378</span>            }</div>
<div class="line"><a id="l06379" name="l06379"></a><span class="lineno"> 6379</span> </div>
<div class="line"><a id="l06380" name="l06380"></a><span class="lineno"> 6380</span>            <span class="comment">//the more varied music, the better max mood.</span></div>
<div class="line"><a id="l06381" name="l06381"></a><span class="lineno"> 6381</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> songs = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EIPC_MUSIC&quot;</span>, 0 );</div>
<div class="line"><a id="l06382" name="l06382"></a><span class="lineno"> 6382</span>            <a class="code hl_function" href="sdlsound_8h.html#a283388f57294fc9cc61dae8b158e4e2c">play_music</a>( *p, pos, 8, std::min( 25, songs ) );</div>
<div class="line"><a id="l06383" name="l06383"></a><span class="lineno"> 6383</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06384" name="l06384"></a><span class="lineno"> 6384</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l06385" name="l06385"></a><span class="lineno"> 6385</span>            it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;EIPC_MUSIC_ON&quot;</span> );</div>
<div class="line"><a id="l06386" name="l06386"></a><span class="lineno"> 6386</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Tablet&#39;s batteries are dead.&quot;</span> ) );</div>
<div class="line"><a id="l06387" name="l06387"></a><span class="lineno"> 6387</span>        }</div>
<div class="line"><a id="l06388" name="l06388"></a><span class="lineno"> 6388</span> </div>
<div class="line"><a id="l06389" name="l06389"></a><span class="lineno"> 6389</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06390" name="l06390"></a><span class="lineno"> 6390</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l06391" name="l06391"></a><span class="lineno"> 6391</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l06392" name="l06392"></a><span class="lineno"> 6392</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06393" name="l06393"></a><span class="lineno"> 6393</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l06394" name="l06394"></a><span class="lineno"> 6394</span> </div>
<div class="line"><a id="l06395" name="l06395"></a><span class="lineno"> 6395</span>        <span class="keyword">enum</span> {</div>
<div class="line"><a id="l06396" name="l06396"></a><span class="lineno"> 6396</span>            ei_invalid, ei_photo, ei_music, ei_recipe, ei_uploaded_photos, ei_monsters, ei_download, ei_decrypt</div>
<div class="line"><a id="l06397" name="l06397"></a><span class="lineno"> 6397</span>        };</div>
<div class="line"><a id="l06398" name="l06398"></a><span class="lineno"> 6398</span> </div>
<div class="line"><a id="l06399" name="l06399"></a><span class="lineno"> 6399</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l06400" name="l06400"></a><span class="lineno"> 6400</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l06401" name="l06401"></a><span class="lineno"> 6401</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06402" name="l06402"></a><span class="lineno"> 6402</span>        }</div>
<div class="line"><a id="l06403" name="l06403"></a><span class="lineno"> 6403</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a357572465dfb7a0a417d86e1be77af49">trait_ILLITERATE</a> ) ) {</div>
<div class="line"><a id="l06404" name="l06404"></a><span class="lineno"> 6404</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot read a computer screen.&quot;</span> ) );</div>
<div class="line"><a id="l06405" name="l06405"></a><span class="lineno"> 6405</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06406" name="l06406"></a><span class="lineno"> 6406</span>        }</div>
<div class="line"><a id="l06407" name="l06407"></a><span class="lineno"> 6407</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a> ) &amp;&amp; !p-&gt;<a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <a class="code hl_function" href="iuse_8cpp.html#a393bbebb3031858ad74c405659e88664">flag_FIX_FARSIGHT</a> ) &amp;&amp;</div>
<div class="line"><a id="l06408" name="l06408"></a><span class="lineno"> 6408</span>            !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a> ) &amp;&amp; !p-&gt;<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="iuse_8cpp.html#ac5dbc67d196198ebde935e412aa1e1f6">bio_eye_optic</a> ) ) {</div>
<div class="line"><a id="l06409" name="l06409"></a><span class="lineno"> 6409</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l06410" name="l06410"></a><span class="lineno"> 6410</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ll need to put on reading glasses before you can see the screen.&quot;</span> ) );</div>
<div class="line"><a id="l06411" name="l06411"></a><span class="lineno"> 6411</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06412" name="l06412"></a><span class="lineno"> 6412</span>        }</div>
<div class="line"><a id="l06413" name="l06413"></a><span class="lineno"> 6413</span> </div>
<div class="line"><a id="l06414" name="l06414"></a><span class="lineno"> 6414</span>        <a class="code hl_class" href="classuilist.html">uilist</a> amenu;</div>
<div class="line"><a id="l06415" name="l06415"></a><span class="lineno"> 6415</span> </div>
<div class="line"><a id="l06416" name="l06416"></a><span class="lineno"> 6416</span>        amenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Choose menu option:&quot;</span> );</div>
<div class="line"><a id="l06417" name="l06417"></a><span class="lineno"> 6417</span> </div>
<div class="line"><a id="l06418" name="l06418"></a><span class="lineno"> 6418</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> photos = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EIPC_PHOTOS&quot;</span>, 0 );</div>
<div class="line"><a id="l06419" name="l06419"></a><span class="lineno"> 6419</span>        <span class="keywordflow">if</span>( photos &gt; 0 ) {</div>
<div class="line"><a id="l06420" name="l06420"></a><span class="lineno"> 6420</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_photo, <span class="keyword">true</span>, <span class="charliteral">&#39;p&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Unsorted photos [%d]&quot;</span> ), photos );</div>
<div class="line"><a id="l06421" name="l06421"></a><span class="lineno"> 6421</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06422" name="l06422"></a><span class="lineno"> 6422</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_photo, <span class="keyword">false</span>, <span class="charliteral">&#39;p&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No photos on device&quot;</span> ) );</div>
<div class="line"><a id="l06423" name="l06423"></a><span class="lineno"> 6423</span>        }</div>
<div class="line"><a id="l06424" name="l06424"></a><span class="lineno"> 6424</span> </div>
<div class="line"><a id="l06425" name="l06425"></a><span class="lineno"> 6425</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> songs = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EIPC_MUSIC&quot;</span>, 0 );</div>
<div class="line"><a id="l06426" name="l06426"></a><span class="lineno"> 6426</span>        <span class="keywordflow">if</span>( songs &gt; 0 ) {</div>
<div class="line"><a id="l06427" name="l06427"></a><span class="lineno"> 6427</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l06428" name="l06428"></a><span class="lineno"> 6428</span>                amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_music, <span class="keyword">true</span>, <span class="charliteral">&#39;m&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Turn music off&quot;</span> ) );</div>
<div class="line"><a id="l06429" name="l06429"></a><span class="lineno"> 6429</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06430" name="l06430"></a><span class="lineno"> 6430</span>                amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_music, <span class="keyword">true</span>, <span class="charliteral">&#39;m&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Turn music on [%d]&quot;</span> ), songs );</div>
<div class="line"><a id="l06431" name="l06431"></a><span class="lineno"> 6431</span>            }</div>
<div class="line"><a id="l06432" name="l06432"></a><span class="lineno"> 6432</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06433" name="l06433"></a><span class="lineno"> 6433</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_music, <span class="keyword">false</span>, <span class="charliteral">&#39;m&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No music on device&quot;</span> ) );</div>
<div class="line"><a id="l06434" name="l06434"></a><span class="lineno"> 6434</span>        }</div>
<div class="line"><a id="l06435" name="l06435"></a><span class="lineno"> 6435</span> </div>
<div class="line"><a id="l06436" name="l06436"></a><span class="lineno"> 6436</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EIPC_RECIPES&quot;</span> ).empty() ) {</div>
<div class="line"><a id="l06437" name="l06437"></a><span class="lineno"> 6437</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_recipe, <span class="keyword">true</span>, <span class="charliteral">&#39;r&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;View recipes on E-ink screen&quot;</span> ) );</div>
<div class="line"><a id="l06438" name="l06438"></a><span class="lineno"> 6438</span>        }</div>
<div class="line"><a id="l06439" name="l06439"></a><span class="lineno"> 6439</span> </div>
<div class="line"><a id="l06440" name="l06440"></a><span class="lineno"> 6440</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EIPC_EXTENDED_PHOTOS&quot;</span> ).empty() ) {</div>
<div class="line"><a id="l06441" name="l06441"></a><span class="lineno"> 6441</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_uploaded_photos, <span class="keyword">true</span>, <span class="charliteral">&#39;l&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your photos&quot;</span> ) );</div>
<div class="line"><a id="l06442" name="l06442"></a><span class="lineno"> 6442</span>        }</div>
<div class="line"><a id="l06443" name="l06443"></a><span class="lineno"> 6443</span> </div>
<div class="line"><a id="l06444" name="l06444"></a><span class="lineno"> 6444</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EINK_MONSTER_PHOTOS&quot;</span> ).empty() ) {</div>
<div class="line"><a id="l06445" name="l06445"></a><span class="lineno"> 6445</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_monsters, <span class="keyword">true</span>, <span class="charliteral">&#39;y&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your collection of monsters&quot;</span> ) );</div>
<div class="line"><a id="l06446" name="l06446"></a><span class="lineno"> 6446</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06447" name="l06447"></a><span class="lineno"> 6447</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_monsters, <span class="keyword">false</span>, <span class="charliteral">&#39;y&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Collection of monsters is empty&quot;</span> ) );</div>
<div class="line"><a id="l06448" name="l06448"></a><span class="lineno"> 6448</span>        }</div>
<div class="line"><a id="l06449" name="l06449"></a><span class="lineno"> 6449</span> </div>
<div class="line"><a id="l06450" name="l06450"></a><span class="lineno"> 6450</span>        amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_download, <span class="keyword">true</span>, <span class="charliteral">&#39;w&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Download data from memory card&quot;</span> ) );</div>
<div class="line"><a id="l06451" name="l06451"></a><span class="lineno"> 6451</span><span class="comment"></span> </div>
<div class="line"><a id="l06452" name="l06452"></a><span class="lineno"> 6452</span><span class="comment">        /** @EFFECT_COMPUTER &gt;2 allows decrypting memory cards more easily */</span></div>
<div class="line"><a id="l06453" name="l06453"></a><span class="lineno"> 6453</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#a55717f512921183ce304b4024c20015c">skill_computer</a> ) &gt; 2 ) {</div>
<div class="line"><a id="l06454" name="l06454"></a><span class="lineno"> 6454</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_decrypt, <span class="keyword">true</span>, <span class="charliteral">&#39;d&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Decrypt memory card&quot;</span> ) );</div>
<div class="line"><a id="l06455" name="l06455"></a><span class="lineno"> 6455</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06456" name="l06456"></a><span class="lineno"> 6456</span>            amenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( ei_decrypt, <span class="keyword">false</span>, <span class="charliteral">&#39;d&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Decrypt memory card (low skill)&quot;</span> ) );</div>
<div class="line"><a id="l06457" name="l06457"></a><span class="lineno"> 6457</span>        }</div>
<div class="line"><a id="l06458" name="l06458"></a><span class="lineno"> 6458</span> </div>
<div class="line"><a id="l06459" name="l06459"></a><span class="lineno"> 6459</span>        amenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l06460" name="l06460"></a><span class="lineno"> 6460</span> </div>
<div class="line"><a id="l06461" name="l06461"></a><span class="lineno"> 6461</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> choice = amenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l06462" name="l06462"></a><span class="lineno"> 6462</span> </div>
<div class="line"><a id="l06463" name="l06463"></a><span class="lineno"> 6463</span>        <span class="keywordflow">if</span>( ei_photo == choice ) {</div>
<div class="line"><a id="l06464" name="l06464"></a><span class="lineno"> 6464</span> </div>
<div class="line"><a id="l06465" name="l06465"></a><span class="lineno"> 6465</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> photos = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EIPC_PHOTOS&quot;</span>, 0 );</div>
<div class="line"><a id="l06466" name="l06466"></a><span class="lineno"> 6466</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> viewed = std::min( photos, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 10, 30 ) ) );</div>
<div class="line"><a id="l06467" name="l06467"></a><span class="lineno"> 6467</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> = photos - viewed;</div>
<div class="line"><a id="l06468" name="l06468"></a><span class="lineno"> 6468</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> == 0 ) {</div>
<div class="line"><a id="l06469" name="l06469"></a><span class="lineno"> 6469</span>                it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;EIPC_PHOTOS&quot;</span> );</div>
<div class="line"><a id="l06470" name="l06470"></a><span class="lineno"> 6470</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06471" name="l06471"></a><span class="lineno"> 6471</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;EIPC_PHOTOS&quot;</span>, <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> );</div>
<div class="line"><a id="l06472" name="l06472"></a><span class="lineno"> 6472</span>            }</div>
<div class="line"><a id="l06473" name="l06473"></a><span class="lineno"> 6473</span> </div>
<div class="line"><a id="l06474" name="l06474"></a><span class="lineno"> 6474</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 3_seconds, 7_seconds ) );</div>
<div class="line"><a id="l06475" name="l06475"></a><span class="lineno"> 6475</span> </div>
<div class="line"><a id="l06476" name="l06476"></a><span class="lineno"> 6476</span>            <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a> ) ) {</div>
<div class="line"><a id="l06477" name="l06477"></a><span class="lineno"> 6477</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Wasted time, these pictures do not provoke your senses.&quot;</span> ) );</div>
<div class="line"><a id="l06478" name="l06478"></a><span class="lineno"> 6478</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06479" name="l06479"></a><span class="lineno"> 6479</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a0a98cf03667f194eebb08d502713fad0">MORALE_PHOTOS</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 15, 30 ), 100 );</div>
<div class="line"><a id="l06480" name="l06480"></a><span class="lineno"> 6480</span> </div>
<div class="line"><a id="l06481" name="l06481"></a><span class="lineno"> 6481</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> random_photo = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 20 );</div>
<div class="line"><a id="l06482" name="l06482"></a><span class="lineno"> 6482</span>                <span class="keywordflow">switch</span>( random_photo ) {</div>
<div class="line"><a id="l06483" name="l06483"></a><span class="lineno"> 6483</span>                    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l06484" name="l06484"></a><span class="lineno"> 6484</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You used to have a dog like this…&quot;</span> ) );</div>
<div class="line"><a id="l06485" name="l06485"></a><span class="lineno"> 6485</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06486" name="l06486"></a><span class="lineno"> 6486</span>                    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l06487" name="l06487"></a><span class="lineno"> 6487</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ha-ha!  An amusing cat photo.&quot;</span> ) );</div>
<div class="line"><a id="l06488" name="l06488"></a><span class="lineno"> 6488</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06489" name="l06489"></a><span class="lineno"> 6489</span>                    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l06490" name="l06490"></a><span class="lineno"> 6490</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Excellent pictures of nature.&quot;</span> ) );</div>
<div class="line"><a id="l06491" name="l06491"></a><span class="lineno"> 6491</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06492" name="l06492"></a><span class="lineno"> 6492</span>                    <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l06493" name="l06493"></a><span class="lineno"> 6493</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Food photos… your stomach rumbles!&quot;</span> ) );</div>
<div class="line"><a id="l06494" name="l06494"></a><span class="lineno"> 6494</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06495" name="l06495"></a><span class="lineno"> 6495</span>                    <span class="keywordflow">case</span> 5:</div>
<div class="line"><a id="l06496" name="l06496"></a><span class="lineno"> 6496</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Some very interesting travel photos.&quot;</span> ) );</div>
<div class="line"><a id="l06497" name="l06497"></a><span class="lineno"> 6497</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06498" name="l06498"></a><span class="lineno"> 6498</span>                    <span class="keywordflow">case</span> 6:</div>
<div class="line"><a id="l06499" name="l06499"></a><span class="lineno"> 6499</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Pictures of a concert of popular band.&quot;</span> ) );</div>
<div class="line"><a id="l06500" name="l06500"></a><span class="lineno"> 6500</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06501" name="l06501"></a><span class="lineno"> 6501</span>                    <span class="keywordflow">case</span> 7:</div>
<div class="line"><a id="l06502" name="l06502"></a><span class="lineno"> 6502</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Photos of someone&#39;s luxurious house.&quot;</span> ) );</div>
<div class="line"><a id="l06503" name="l06503"></a><span class="lineno"> 6503</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06504" name="l06504"></a><span class="lineno"> 6504</span>                    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l06505" name="l06505"></a><span class="lineno"> 6505</span>                        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel nostalgic as you stare at the photo.&quot;</span> ) );</div>
<div class="line"><a id="l06506" name="l06506"></a><span class="lineno"> 6506</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06507" name="l06507"></a><span class="lineno"> 6507</span>                }</div>
<div class="line"><a id="l06508" name="l06508"></a><span class="lineno"> 6508</span>            }</div>
<div class="line"><a id="l06509" name="l06509"></a><span class="lineno"> 6509</span> </div>
<div class="line"><a id="l06510" name="l06510"></a><span class="lineno"> 6510</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06511" name="l06511"></a><span class="lineno"> 6511</span>        }</div>
<div class="line"><a id="l06512" name="l06512"></a><span class="lineno"> 6512</span> </div>
<div class="line"><a id="l06513" name="l06513"></a><span class="lineno"> 6513</span>        <span class="keywordflow">if</span>( ei_music == choice ) {</div>
<div class="line"><a id="l06514" name="l06514"></a><span class="lineno"> 6514</span> </div>
<div class="line"><a id="l06515" name="l06515"></a><span class="lineno"> 6515</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 30;</div>
<div class="line"><a id="l06516" name="l06516"></a><span class="lineno"> 6516</span> </div>
<div class="line"><a id="l06517" name="l06517"></a><span class="lineno"> 6517</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l06518" name="l06518"></a><span class="lineno"> 6518</span>                it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l06519" name="l06519"></a><span class="lineno"> 6519</span>                it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;EIPC_MUSIC_ON&quot;</span> );</div>
<div class="line"><a id="l06520" name="l06520"></a><span class="lineno"> 6520</span> </div>
<div class="line"><a id="l06521" name="l06521"></a><span class="lineno"> 6521</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You turned off music on your %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l06522" name="l06522"></a><span class="lineno"> 6522</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06523" name="l06523"></a><span class="lineno"> 6523</span>                it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06524" name="l06524"></a><span class="lineno"> 6524</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;EIPC_MUSIC_ON&quot;</span>, <span class="stringliteral">&quot;1&quot;</span> );</div>
<div class="line"><a id="l06525" name="l06525"></a><span class="lineno"> 6525</span> </div>
<div class="line"><a id="l06526" name="l06526"></a><span class="lineno"> 6526</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You turned on music on your %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l06527" name="l06527"></a><span class="lineno"> 6527</span> </div>
<div class="line"><a id="l06528" name="l06528"></a><span class="lineno"> 6528</span>            }</div>
<div class="line"><a id="l06529" name="l06529"></a><span class="lineno"> 6529</span> </div>
<div class="line"><a id="l06530" name="l06530"></a><span class="lineno"> 6530</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06531" name="l06531"></a><span class="lineno"> 6531</span>        }</div>
<div class="line"><a id="l06532" name="l06532"></a><span class="lineno"> 6532</span> </div>
<div class="line"><a id="l06533" name="l06533"></a><span class="lineno"> 6533</span>        <span class="keywordflow">if</span>( ei_recipe == choice ) {</div>
<div class="line"><a id="l06534" name="l06534"></a><span class="lineno"> 6534</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 50;</div>
<div class="line"><a id="l06535" name="l06535"></a><span class="lineno"> 6535</span> </div>
<div class="line"><a id="l06536" name="l06536"></a><span class="lineno"> 6536</span>            <a class="code hl_class" href="classuilist.html">uilist</a> rmenu;</div>
<div class="line"><a id="l06537" name="l06537"></a><span class="lineno"> 6537</span> </div>
<div class="line"><a id="l06538" name="l06538"></a><span class="lineno"> 6538</span>            rmenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;List recipes:&quot;</span> );</div>
<div class="line"><a id="l06539" name="l06539"></a><span class="lineno"> 6539</span> </div>
<div class="line"><a id="l06540" name="l06540"></a><span class="lineno"> 6540</span>            std::vector&lt;recipe_id&gt; candidate_recipes;</div>
<div class="line"><a id="l06541" name="l06541"></a><span class="lineno"> 6541</span>            std::istringstream f( it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EIPC_RECIPES&quot;</span> ) );</div>
<div class="line"><a id="l06542" name="l06542"></a><span class="lineno"> 6542</span>            std::string s;</div>
<div class="line"><a id="l06543" name="l06543"></a><span class="lineno"> 6543</span>            <span class="keywordtype">int</span> k = 0;</div>
<div class="line"><a id="l06544" name="l06544"></a><span class="lineno"> 6544</span>            <span class="keywordflow">while</span>( getline( f, s, <span class="charliteral">&#39;,&#39;</span> ) ) {</div>
<div class="line"><a id="l06545" name="l06545"></a><span class="lineno"> 6545</span> </div>
<div class="line"><a id="l06546" name="l06546"></a><span class="lineno"> 6546</span>                <span class="keywordflow">if</span>( s.empty() ) {</div>
<div class="line"><a id="l06547" name="l06547"></a><span class="lineno"> 6547</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l06548" name="l06548"></a><span class="lineno"> 6548</span>                }</div>
<div class="line"><a id="l06549" name="l06549"></a><span class="lineno"> 6549</span> </div>
<div class="line"><a id="l06550" name="l06550"></a><span class="lineno"> 6550</span>                candidate_recipes.emplace_back( s );</div>
<div class="line"><a id="l06551" name="l06551"></a><span class="lineno"> 6551</span> </div>
<div class="line"><a id="l06552" name="l06552"></a><span class="lineno"> 6552</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classrecipe.html">recipe</a> = *candidate_recipes.back();</div>
<div class="line"><a id="l06553" name="l06553"></a><span class="lineno"> 6553</span>                <span class="keywordflow">if</span>( <a class="code hl_class" href="classrecipe.html">recipe</a> ) {</div>
<div class="line"><a id="l06554" name="l06554"></a><span class="lineno"> 6554</span>                    rmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( k++, <span class="keyword">true</span>, -1, <a class="code hl_class" href="classrecipe.html">recipe</a>.<a class="code hl_function" href="classrecipe.html#a0306672b3485a410ef74cd5cdc1f5279">result_name</a>() );</div>
<div class="line"><a id="l06555" name="l06555"></a><span class="lineno"> 6555</span>                }</div>
<div class="line"><a id="l06556" name="l06556"></a><span class="lineno"> 6556</span>            }</div>
<div class="line"><a id="l06557" name="l06557"></a><span class="lineno"> 6557</span> </div>
<div class="line"><a id="l06558" name="l06558"></a><span class="lineno"> 6558</span>            rmenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l06559" name="l06559"></a><span class="lineno"> 6559</span> </div>
<div class="line"><a id="l06560" name="l06560"></a><span class="lineno"> 6560</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06561" name="l06561"></a><span class="lineno"> 6561</span>        }</div>
<div class="line"><a id="l06562" name="l06562"></a><span class="lineno"> 6562</span> </div>
<div class="line"><a id="l06563" name="l06563"></a><span class="lineno"> 6563</span>        <span class="keywordflow">if</span>( ei_uploaded_photos == choice ) {</div>
<div class="line"><a id="l06564" name="l06564"></a><span class="lineno"> 6564</span>            <a class="code hl_function" href="iuse_8cpp.html#a4a212199907f7b264e774e9b9c9d444d">show_photo_selection</a>( *p, *it, <span class="stringliteral">&quot;EIPC_EXTENDED_PHOTOS&quot;</span> );</div>
<div class="line"><a id="l06565" name="l06565"></a><span class="lineno"> 6565</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06566" name="l06566"></a><span class="lineno"> 6566</span>        }</div>
<div class="line"><a id="l06567" name="l06567"></a><span class="lineno"> 6567</span> </div>
<div class="line"><a id="l06568" name="l06568"></a><span class="lineno"> 6568</span>        <span class="keywordflow">if</span>( ei_monsters == choice ) {</div>
<div class="line"><a id="l06569" name="l06569"></a><span class="lineno"> 6569</span> </div>
<div class="line"><a id="l06570" name="l06570"></a><span class="lineno"> 6570</span>            <a class="code hl_class" href="classuilist.html">uilist</a> pmenu;</div>
<div class="line"><a id="l06571" name="l06571"></a><span class="lineno"> 6571</span> </div>
<div class="line"><a id="l06572" name="l06572"></a><span class="lineno"> 6572</span>            pmenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your collection of monsters:&quot;</span> );</div>
<div class="line"><a id="l06573" name="l06573"></a><span class="lineno"> 6573</span> </div>
<div class="line"><a id="l06574" name="l06574"></a><span class="lineno"> 6574</span>            std::vector&lt;mtype_id&gt; monster_photos;</div>
<div class="line"><a id="l06575" name="l06575"></a><span class="lineno"> 6575</span> </div>
<div class="line"><a id="l06576" name="l06576"></a><span class="lineno"> 6576</span>            std::istringstream f( it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;EINK_MONSTER_PHOTOS&quot;</span> ) );</div>
<div class="line"><a id="l06577" name="l06577"></a><span class="lineno"> 6577</span>            std::string s;</div>
<div class="line"><a id="l06578" name="l06578"></a><span class="lineno"> 6578</span>            <span class="keywordtype">int</span> k = 0;</div>
<div class="line"><a id="l06579" name="l06579"></a><span class="lineno"> 6579</span>            <span class="keywordflow">while</span>( getline( f, s, <span class="charliteral">&#39;,&#39;</span> ) ) {</div>
<div class="line"><a id="l06580" name="l06580"></a><span class="lineno"> 6580</span>                <span class="keywordflow">if</span>( s.empty() ) {</div>
<div class="line"><a id="l06581" name="l06581"></a><span class="lineno"> 6581</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l06582" name="l06582"></a><span class="lineno"> 6582</span>                }</div>
<div class="line"><a id="l06583" name="l06583"></a><span class="lineno"> 6583</span>                monster_photos.push_back( <a class="code hl_typedef" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a>( s ) );</div>
<div class="line"><a id="l06584" name="l06584"></a><span class="lineno"> 6584</span>                std::string menu_str;</div>
<div class="line"><a id="l06585" name="l06585"></a><span class="lineno"> 6585</span>                <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> dummy( monster_photos.back() );</div>
<div class="line"><a id="l06586" name="l06586"></a><span class="lineno"> 6586</span>                menu_str = dummy.name();</div>
<div class="line"><a id="l06587" name="l06587"></a><span class="lineno"> 6587</span>                getline( f, s, <span class="charliteral">&#39;,&#39;</span> );</div>
<div class="line"><a id="l06588" name="l06588"></a><span class="lineno"> 6588</span>                <span class="keywordtype">char</span> *chq = &amp;s[0];</div>
<div class="line"><a id="l06589" name="l06589"></a><span class="lineno"> 6589</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_struct" href="structquality.html">quality</a> = atoi( chq );</div>
<div class="line"><a id="l06590" name="l06590"></a><span class="lineno"> 6590</span>                menu_str += <span class="stringliteral">&quot; [&quot;</span> + <a class="code hl_function" href="iuse_8cpp.html#a9dafb5bfb47673f6289a30a37384a24b">photo_quality_name</a>( <a class="code hl_struct" href="structquality.html">quality</a> ) + <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a id="l06591" name="l06591"></a><span class="lineno"> 6591</span>                pmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( k++, <span class="keyword">true</span>, -1, menu_str.c_str() );</div>
<div class="line"><a id="l06592" name="l06592"></a><span class="lineno"> 6592</span>            }</div>
<div class="line"><a id="l06593" name="l06593"></a><span class="lineno"> 6593</span> </div>
<div class="line"><a id="l06594" name="l06594"></a><span class="lineno"> 6594</span>            <span class="keywordtype">int</span> choice;</div>
<div class="line"><a id="l06595" name="l06595"></a><span class="lineno"> 6595</span>            <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l06596" name="l06596"></a><span class="lineno"> 6596</span>                pmenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l06597" name="l06597"></a><span class="lineno"> 6597</span>                choice = pmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l06598" name="l06598"></a><span class="lineno"> 6598</span> </div>
<div class="line"><a id="l06599" name="l06599"></a><span class="lineno"> 6599</span>                <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l06600" name="l06600"></a><span class="lineno"> 6600</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06601" name="l06601"></a><span class="lineno"> 6601</span>                }</div>
<div class="line"><a id="l06602" name="l06602"></a><span class="lineno"> 6602</span> </div>
<div class="line"><a id="l06603" name="l06603"></a><span class="lineno"> 6603</span>                <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> dummy( monster_photos[choice] );</div>
<div class="line"><a id="l06604" name="l06604"></a><span class="lineno"> 6604</span>                <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( dummy.type-&gt;get_description() );</div>
<div class="line"><a id="l06605" name="l06605"></a><span class="lineno"> 6605</span>            } <span class="keywordflow">while</span>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l06606" name="l06606"></a><span class="lineno"> 6606</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06607" name="l06607"></a><span class="lineno"> 6607</span>        }</div>
<div class="line"><a id="l06608" name="l06608"></a><span class="lineno"> 6608</span> </div>
<div class="line"><a id="l06609" name="l06609"></a><span class="lineno"> 6609</span>        <a class="code hl_class" href="classavatar.html">avatar</a> *you = p-&gt;<a class="code hl_function" href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">as_avatar</a>();</div>
<div class="line"><a id="l06610" name="l06610"></a><span class="lineno"> 6610</span>        <a class="code hl_class" href="classitem__location.html">item_location</a> loc;</div>
<div class="line"><a id="l06611" name="l06611"></a><span class="lineno"> 6611</span>        <span class="keyword">auto</span> filter = []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l06612" name="l06612"></a><span class="lineno"> 6612</span>            <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MC_MOBILE&quot;</span> );</div>
<div class="line"><a id="l06613" name="l06613"></a><span class="lineno"> 6613</span>        };</div>
<div class="line"><a id="l06614" name="l06614"></a><span class="lineno"> 6614</span>        <span class="keyword">const</span> std::string <a class="code hl_function" href="namespacePATH__INFO.html#af9a3ed879d4c10c8494ba4934c8ec678">title</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Insert memory card&quot;</span> );</div>
<div class="line"><a id="l06615" name="l06615"></a><span class="lineno"> 6615</span> </div>
<div class="line"><a id="l06616" name="l06616"></a><span class="lineno"> 6616</span>        <span class="keywordflow">if</span>( ei_download == choice ) {</div>
<div class="line"><a id="l06617" name="l06617"></a><span class="lineno"> 6617</span> </div>
<div class="line"><a id="l06618" name="l06618"></a><span class="lineno"> 6618</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 2_seconds );</div>
<div class="line"><a id="l06619" name="l06619"></a><span class="lineno"> 6619</span> </div>
<div class="line"><a id="l06620" name="l06620"></a><span class="lineno"> 6620</span>            <span class="keywordflow">if</span>( you != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l06621" name="l06621"></a><span class="lineno"> 6621</span>                loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a9eafc067094abf546e276b125d2fc788">game_menus::inv::titled_filter_menu</a>( filter, *you, <a class="code hl_function" href="namespacePATH__INFO.html#af9a3ed879d4c10c8494ba4934c8ec678">title</a> );</div>
<div class="line"><a id="l06622" name="l06622"></a><span class="lineno"> 6622</span>            }</div>
<div class="line"><a id="l06623" name="l06623"></a><span class="lineno"> 6623</span>            <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l06624" name="l06624"></a><span class="lineno"> 6624</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item!&quot;</span> ) );</div>
<div class="line"><a id="l06625" name="l06625"></a><span class="lineno"> 6625</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06626" name="l06626"></a><span class="lineno"> 6626</span>            }</div>
<div class="line"><a id="l06627" name="l06627"></a><span class="lineno"> 6627</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;mc = *loc;</div>
<div class="line"><a id="l06628" name="l06628"></a><span class="lineno"> 6628</span> </div>
<div class="line"><a id="l06629" name="l06629"></a><span class="lineno"> 6629</span>            <span class="keywordflow">if</span>( !mc.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MC_MOBILE&quot;</span> ) ) {</div>
<div class="line"><a id="l06630" name="l06630"></a><span class="lineno"> 6630</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This is not a compatible memory card.&quot;</span> ) );</div>
<div class="line"><a id="l06631" name="l06631"></a><span class="lineno"> 6631</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06632" name="l06632"></a><span class="lineno"> 6632</span>            }</div>
<div class="line"><a id="l06633" name="l06633"></a><span class="lineno"> 6633</span> </div>
<div class="line"><a id="l06634" name="l06634"></a><span class="lineno"> 6634</span>            <a class="code hl_function" href="iuse_8cpp.html#aed5af7221728712d39314e54c08791ba">init_memory_card_with_random_stuff</a>( mc );</div>
<div class="line"><a id="l06635" name="l06635"></a><span class="lineno"> 6635</span> </div>
<div class="line"><a id="l06636" name="l06636"></a><span class="lineno"> 6636</span>            <span class="keywordflow">if</span>( mc.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MC_ENCRYPTED&quot;</span> ) ) {</div>
<div class="line"><a id="l06637" name="l06637"></a><span class="lineno"> 6637</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This memory card is encrypted.&quot;</span> ) );</div>
<div class="line"><a id="l06638" name="l06638"></a><span class="lineno"> 6638</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06639" name="l06639"></a><span class="lineno"> 6639</span>            }</div>
<div class="line"><a id="l06640" name="l06640"></a><span class="lineno"> 6640</span>            <span class="keywordflow">if</span>( !mc.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MC_HAS_DATA&quot;</span> ) ) {</div>
<div class="line"><a id="l06641" name="l06641"></a><span class="lineno"> 6641</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This memory card does not contain any new data.&quot;</span> ) );</div>
<div class="line"><a id="l06642" name="l06642"></a><span class="lineno"> 6642</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06643" name="l06643"></a><span class="lineno"> 6643</span>            }</div>
<div class="line"><a id="l06644" name="l06644"></a><span class="lineno"> 6644</span> </div>
<div class="line"><a id="l06645" name="l06645"></a><span class="lineno"> 6645</span>            <a class="code hl_function" href="iuse_8cpp.html#a62c594985fc866f7c68dd4396e3046f2">einkpc_download_memory_card</a>( *p, *it, mc );</div>
<div class="line"><a id="l06646" name="l06646"></a><span class="lineno"> 6646</span> </div>
<div class="line"><a id="l06647" name="l06647"></a><span class="lineno"> 6647</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06648" name="l06648"></a><span class="lineno"> 6648</span>        }</div>
<div class="line"><a id="l06649" name="l06649"></a><span class="lineno"> 6649</span> </div>
<div class="line"><a id="l06650" name="l06650"></a><span class="lineno"> 6650</span>        <span class="keywordflow">if</span>( ei_decrypt == choice ) {</div>
<div class="line"><a id="l06651" name="l06651"></a><span class="lineno"> 6651</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 2_seconds );</div>
<div class="line"><a id="l06652" name="l06652"></a><span class="lineno"> 6652</span>            <span class="keywordflow">if</span>( you != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l06653" name="l06653"></a><span class="lineno"> 6653</span>                loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a9eafc067094abf546e276b125d2fc788">game_menus::inv::titled_filter_menu</a>( filter, *you, <a class="code hl_function" href="namespacePATH__INFO.html#af9a3ed879d4c10c8494ba4934c8ec678">title</a> );</div>
<div class="line"><a id="l06654" name="l06654"></a><span class="lineno"> 6654</span>            }</div>
<div class="line"><a id="l06655" name="l06655"></a><span class="lineno"> 6655</span>            <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l06656" name="l06656"></a><span class="lineno"> 6656</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item!&quot;</span> ) );</div>
<div class="line"><a id="l06657" name="l06657"></a><span class="lineno"> 6657</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06658" name="l06658"></a><span class="lineno"> 6658</span>            }</div>
<div class="line"><a id="l06659" name="l06659"></a><span class="lineno"> 6659</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;mc = *loc;</div>
<div class="line"><a id="l06660" name="l06660"></a><span class="lineno"> 6660</span> </div>
<div class="line"><a id="l06661" name="l06661"></a><span class="lineno"> 6661</span>            <span class="keywordflow">if</span>( !mc.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MC_MOBILE&quot;</span> ) ) {</div>
<div class="line"><a id="l06662" name="l06662"></a><span class="lineno"> 6662</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This is not a compatible memory card.&quot;</span> ) );</div>
<div class="line"><a id="l06663" name="l06663"></a><span class="lineno"> 6663</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06664" name="l06664"></a><span class="lineno"> 6664</span>            }</div>
<div class="line"><a id="l06665" name="l06665"></a><span class="lineno"> 6665</span> </div>
<div class="line"><a id="l06666" name="l06666"></a><span class="lineno"> 6666</span>            <a class="code hl_function" href="iuse_8cpp.html#aed5af7221728712d39314e54c08791ba">init_memory_card_with_random_stuff</a>( mc );</div>
<div class="line"><a id="l06667" name="l06667"></a><span class="lineno"> 6667</span> </div>
<div class="line"><a id="l06668" name="l06668"></a><span class="lineno"> 6668</span>            <span class="keywordflow">if</span>( !mc.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MC_ENCRYPTED&quot;</span> ) ) {</div>
<div class="line"><a id="l06669" name="l06669"></a><span class="lineno"> 6669</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This memory card is not encrypted.&quot;</span> ) );</div>
<div class="line"><a id="l06670" name="l06670"></a><span class="lineno"> 6670</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06671" name="l06671"></a><span class="lineno"> 6671</span>            }</div>
<div class="line"><a id="l06672" name="l06672"></a><span class="lineno"> 6672</span> </div>
<div class="line"><a id="l06673" name="l06673"></a><span class="lineno"> 6673</span>            p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#a55717f512921183ce304b4024c20015c">skill_computer</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 5 ) );</div>
<div class="line"><a id="l06674" name="l06674"></a><span class="lineno"> 6674</span><span class="comment"></span> </div>
<div class="line"><a id="l06675" name="l06675"></a><span class="lineno"> 6675</span><span class="comment">            /** @EFFECT_INT increases chance of safely decrypting memory card */</span></div>
<div class="line"><a id="l06676" name="l06676"></a><span class="lineno"> 6676</span><span class="comment"></span> </div>
<div class="line"><a id="l06677" name="l06677"></a><span class="lineno"> 6677</span><span class="comment">            /** @EFFECT_COMPUTER increases chance of safely decrypting memory card */</span></div>
<div class="line"><a id="l06678" name="l06678"></a><span class="lineno"> 6678</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> = p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#a55717f512921183ce304b4024c20015c">skill_computer</a> ) * <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1,</div>
<div class="line"><a id="l06679" name="l06679"></a><span class="lineno"> 6679</span>                                p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#a55717f512921183ce304b4024c20015c">skill_computer</a> ) ) *</div>
<div class="line"><a id="l06680" name="l06680"></a><span class="lineno"> 6680</span>                                <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, p-&gt;<a class="code hl_variable" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a> ) - <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 30, 80 );</div>
<div class="line"><a id="l06681" name="l06681"></a><span class="lineno"> 6681</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> &gt; 0 ) {</div>
<div class="line"><a id="l06682" name="l06682"></a><span class="lineno"> 6682</span>                p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#a55717f512921183ce304b4024c20015c">skill_computer</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5, 10 ) );</div>
<div class="line"><a id="l06683" name="l06683"></a><span class="lineno"> 6683</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You successfully decrypted content on %s!&quot;</span> ),</div>
<div class="line"><a id="l06684" name="l06684"></a><span class="lineno"> 6684</span>                                      mc.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l06685" name="l06685"></a><span class="lineno"> 6685</span>                <a class="code hl_function" href="iuse_8cpp.html#a62c594985fc866f7c68dd4396e3046f2">einkpc_download_memory_card</a>( *p, *it, mc );</div>
<div class="line"><a id="l06686" name="l06686"></a><span class="lineno"> 6686</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06687" name="l06687"></a><span class="lineno"> 6687</span>                <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> &gt; -10 || <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a id="l06688" name="l06688"></a><span class="lineno"> 6688</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You failed to decrypt the %s.&quot;</span> ), mc.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l06689" name="l06689"></a><span class="lineno"> 6689</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06690" name="l06690"></a><span class="lineno"> 6690</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l06691" name="l06691"></a><span class="lineno"> 6691</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You tripped the firmware protection, and the card deleted its data!&quot;</span> ) );</div>
<div class="line"><a id="l06692" name="l06692"></a><span class="lineno"> 6692</span>                    mc.<a class="code hl_function" href="classitem.html#acf9b4242998c869e09a76406ffe0bb34">clear_vars</a>();</div>
<div class="line"><a id="l06693" name="l06693"></a><span class="lineno"> 6693</span>                    mc.<a class="code hl_function" href="classitem.html#aa4529b4c18a10ffd5a1f111536ad879b">unset_flags</a>();</div>
<div class="line"><a id="l06694" name="l06694"></a><span class="lineno"> 6694</span>                    mc.<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a9f12fc6a3a4d8079b97452f881357158">itype_mobile_memory_card_used</a> );</div>
<div class="line"><a id="l06695" name="l06695"></a><span class="lineno"> 6695</span>                }</div>
<div class="line"><a id="l06696" name="l06696"></a><span class="lineno"> 6696</span>            }</div>
<div class="line"><a id="l06697" name="l06697"></a><span class="lineno"> 6697</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06698" name="l06698"></a><span class="lineno"> 6698</span>        }</div>
<div class="line"><a id="l06699" name="l06699"></a><span class="lineno"> 6699</span>    }</div>
<div class="line"><a id="l06700" name="l06700"></a><span class="lineno"> 6700</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06701" name="l06701"></a><span class="lineno"> 6701</span>}</div>
<div class="ttc" id="aclassCharacter_html_a5751b689e5a4ecd43b6de5c3e2d31541"><div class="ttname"><a href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">Character::has_bionic</a></div><div class="ttdeci">bool has_bionic(const bionic_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered bionic id.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01866">character.cpp:1866</a></div></div>
<div class="ttc" id="aclassCharacter_html_a994c83d61054215e81a6e87478d81203"><div class="ttname"><a href="classCharacter.html#a994c83d61054215e81a6e87478d81203">Character::int_cur</a></div><div class="ttdeci">int int_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00306">character.h:306</a></div></div>
<div class="ttc" id="aclassitem_html_ae00bce86206993cc672387f9a2c77f92"><div class="ttname"><a href="classitem.html#ae00bce86206993cc672387f9a2c77f92">item::ammo_consume</a></div><div class="ttdeci">int ammo_consume(int qty, const tripoint &amp;pos)</div><div class="ttdoc">Consume ammo (if available) and return the amount of ammo that was consumed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07324">item.cpp:7324</a></div></div>
<div class="ttc" id="aclassplayer_html_aa57c61de29a5e410c100aee07798b9b1"><div class="ttname"><a href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">player::practice</a></div><div class="ttdeci">void practice(const skill_id &amp;id, int amount, int cap=99, bool suppress_warning=false)</div><div class="ttdoc">This handles giving xp for a skill.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04005">player.cpp:4005</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a357572465dfb7a0a417d86e1be77af49"><div class="ttname"><a href="iuse_8cpp.html#a357572465dfb7a0a417d86e1be77af49">trait_ILLITERATE</a></div><div class="ttdeci">static const trait_id trait_ILLITERATE(&quot;ILLITERATE&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a393bbebb3031858ad74c405659e88664"><div class="ttname"><a href="iuse_8cpp.html#a393bbebb3031858ad74c405659e88664">flag_FIX_FARSIGHT</a></div><div class="ttdeci">static const std::string flag_FIX_FARSIGHT(&quot;FIX_FARSIGHT&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a55717f512921183ce304b4024c20015c"><div class="ttname"><a href="iuse_8cpp.html#a55717f512921183ce304b4024c20015c">skill_computer</a></div><div class="ttdeci">static const skill_id skill_computer(&quot;computer&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a62c594985fc866f7c68dd4396e3046f2"><div class="ttname"><a href="iuse_8cpp.html#a62c594985fc866f7c68dd4396e3046f2">einkpc_download_memory_card</a></div><div class="ttdeci">static bool einkpc_download_memory_card(player &amp;p, item &amp;eink, item &amp;mc)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06206">iuse.cpp:6206</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a9f12fc6a3a4d8079b97452f881357158"><div class="ttname"><a href="iuse_8cpp.html#a9f12fc6a3a4d8079b97452f881357158">itype_mobile_memory_card_used</a></div><div class="ttdeci">static const itype_id itype_mobile_memory_card_used(&quot;mobile_memory_card_used&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ac5dbc67d196198ebde935e412aa1e1f6"><div class="ttname"><a href="iuse_8cpp.html#ac5dbc67d196198ebde935e412aa1e1f6">bio_eye_optic</a></div><div class="ttdeci">static const bionic_id bio_eye_optic(&quot;bio_eye_optic&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a0a98cf03667f194eebb08d502713fad0"><div class="ttname"><a href="morale__types_8cpp.html#a0a98cf03667f194eebb08d502713fad0">MORALE_PHOTOS</a></div><div class="ttdeci">const morale_type MORALE_PHOTOS(&quot;morale_photos&quot;)</div></div>
<div class="ttc" id="anamespacePATH__INFO_html_af9a3ed879d4c10c8494ba4934c8ec678"><div class="ttname"><a href="namespacePATH__INFO.html#af9a3ed879d4c10c8494ba4934c8ec678">PATH_INFO::title</a></div><div class="ttdeci">std::string title(holiday current_holiday)</div><div class="ttdef"><b>Definition:</b> <a href="path__info_8cpp_source.html#l00330">path_info.cpp:330</a></div></div>
<div class="ttc" id="anamespacebehavior_html_af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b"><div class="ttname"><a href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">behavior::success</a></div><div class="ttdeci">@ success</div><div class="ttdef"><b>Definition:</b> <a href="behavior_8h_source.html#l00020">behavior.h:20</a></div></div>
<div class="ttc" id="asdlsound_8h_html_a283388f57294fc9cc61dae8b158e4e2c"><div class="ttname"><a href="sdlsound_8h.html#a283388f57294fc9cc61dae8b158e4e2c">play_music</a></div><div class="ttdeci">void play_music(const std::string &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="sdlsound_8h_source.html#l00025">sdlsound.h:25</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="character_8cpp_source.html#l09067">Character::add_morale()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="ui_8cpp_source.html#l00932">uilist::addentry()</a>, <a class="el" href="item_8cpp_source.html#l07324">item::ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="creature_8h_source.html#l00128">Creature::as_avatar()</a>, <a class="el" href="iuse_8cpp.html#ac5dbc67d196198ebde935e412aa1e1f6">bio_eye_optic</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l01077">item::clear_vars()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="fmtlib__core_8h_source.html#l01073">detail::count()</a>, <a class="el" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a>, <a class="el" href="iuse_8cpp_source.html#l06206">einkpc_download_memory_card()</a>, <a class="el" href="item_8cpp_source.html#l01072">item::erase_var()</a>, <a class="el" href="iuse_8cpp.html#a393bbebb3031858ad74c405659e88664">flag_FIX_FARSIGHT()</a>, <a class="el" href="mtype_8cpp_source.html#l00235">mtype::get_description()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="character_8cpp_source.html#l01866">Character::has_bionic()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="iuse_8cpp_source.html#l06131">init_memory_card_with_random_stuff()</a>, <a class="el" href="character_8h_source.html#l00306">Character::int_cur</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="iuse_8cpp.html#a9f12fc6a3a4d8079b97452f881357158">itype_mobile_memory_card_used</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="morale__types_8cpp.html#a0a98cf03667f194eebb08d502713fad0">MORALE_PHOTOS</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="monster_8cpp_source.html#l00492">monster::name()</a>, <a class="el" href="calendar_8cpp_source.html#l00490">calendar::once_every()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="iuse_8cpp_source.html#l06361">photo_quality_name()</a>, <a class="el" href="sdlsound_8h_source.html#l00025">play_music()</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp_source.html#l04005">player::practice()</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="recipe_8cpp_source.html#l00579">recipe::result_name()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, <a class="el" href="iuse_8cpp_source.html#l07438">show_photo_selection()</a>, <a class="el" href="iuse_8cpp.html#a55717f512921183ce304b4024c20015c">skill_computer</a>, <a class="el" href="behavior_8h_source.html#l00020">behavior::success</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, <a class="el" href="path__info_8cpp_source.html#l00330">PATH_INFO::title()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00265">game_menus::inv::titled_filter_menu()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="iuse_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a>, <a class="el" href="iuse_8cpp.html#a357572465dfb7a0a417d86e1be77af49">trait_ILLITERATE</a>, <a class="el" href="iuse_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="monster_8h_source.html#l00478">monster::type</a>, <a class="el" href="item_8cpp_source.html#l05177">item::unset_flags()</a>, and <a class="el" href="character_8cpp_source.html#l03241">Character::worn_with_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a8471a6f7a1d97abed699bc34aa687061" name="a8471a6f7a1d97abed699bc34aa687061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8471a6f7a1d97abed699bc34aa687061">&#9670;&nbsp;</a></span>elec_chainsaw_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::elec_chainsaw_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03081">3081</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03082" name="l03082"></a><span class="lineno"> 3082</span>{</div>
<div class="line"><a id="l03083" name="l03083"></a><span class="lineno"> 3083</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#ab84218a7a696ba0c25b8a593731fc7ee">toolweapon_off</a>( *p, *it,</div>
<div class="line"><a id="l03084" name="l03084"></a><span class="lineno"> 3084</span>                           <span class="keyword">false</span>,</div>
<div class="line"><a id="l03085" name="l03085"></a><span class="lineno"> 3085</span>                           !p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>(),</div>
<div class="line"><a id="l03086" name="l03086"></a><span class="lineno"> 3086</span>                           20, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;With a roar, the electric chainsaw leaps to life!&quot;</span> ),</div>
<div class="line"><a id="l03087" name="l03087"></a><span class="lineno"> 3087</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pull the trigger, but nothing happens.&quot;</span> ) );</div>
<div class="line"><a id="l03088" name="l03088"></a><span class="lineno"> 3088</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, and <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ad7db7681ea89f6652b3528ed6afdaa04" name="ad7db7681ea89f6652b3528ed6afdaa04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7db7681ea89f6652b3528ed6afdaa04">&#9670;&nbsp;</a></span>elec_chainsaw_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::elec_chainsaw_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03179">3179</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span>{</div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#a74ac96156e1d05593ce2dc168d2fb37c">toolweapon_on</a>( *p, *it, t, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;electric chainsaw&quot;</span> ),</div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span>                          <span class="keyword">false</span>,</div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span>                          15, 12, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your electric chainsaw rumbles.&quot;</span> ) );</div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ac99884d7e0f78beb10cc7fe95cf13802" name="ac99884d7e0f78beb10cc7fe95cf13802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac99884d7e0f78beb10cc7fe95cf13802">&#9670;&nbsp;</a></span>extinguisher()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::extinguisher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01927">1927</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>{</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>    }</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>    <span class="comment">// If anyone other than the player wants to use one of these,</span></div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>    <span class="comment">// they&#39;re going to need to figure out how to aim it.</span></div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> dest_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Spray where?&quot;</span> ) );</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>    <span class="keywordflow">if</span>( !dest_ ) {</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>    }</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> dest = *dest_;</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span> </div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 2_seconds );</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span> </div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>    <span class="comment">// Reduce the strength of fire (if any) in the target tile.</span></div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.mod_field_intensity( dest, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a>, 0 - <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 3 ) );</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span> </div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>    <span class="comment">// Also spray monsters in that tile.</span></div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>    <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon_ptr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>        <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter = *mon_ptr;</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>        critter.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 2_seconds );</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>        <span class="keywordtype">bool</span> blind = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) &amp;&amp; critter.<a class="code hl_function" href="classmonster.html#a0315651e596e69f0626b30e081726596">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a1a9d43dc1ddecbc20beecf1760789d85">MF_SEES</a> ) ) {</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>            blind = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>            critter.<a class="code hl_function" href="classmonster.html#a45462fba4c37679c66ecde2f9000c22c">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1_minutes, 2_minutes ) );</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>        }</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( critter ) ) {</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s is sprayed!&quot;</span> ), critter.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>            <span class="keywordflow">if</span>( blind ) {</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s looks blinded.&quot;</span> ), critter.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>            }</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>        }</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>        <span class="keywordflow">if</span>( critter.<a class="code hl_function" href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( critter ) ) {</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s is frozen!&quot;</span> ), critter.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>            }</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>            critter.<a class="code hl_function" href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">apply_damage</a>( p, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 20, 60 ) );</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>            critter.<a class="code hl_function" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>( critter.<a class="code hl_function" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() / 2 );</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>        }</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>    }</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span> </div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>    <span class="comment">// Slightly reduce the strength of fire immediately behind the target tile.</span></div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.passable( dest ) ) {</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>        dest.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> += ( dest.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> - p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() );</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>        dest.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> += ( dest.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> - p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() );</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span> </div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.mod_field_intensity( dest, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a>, std::min( 0 - <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 1 ) + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 1 ), 0 ) );</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>    }</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span> </div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>}</div>
<div class="ttc" id="aclassitem_html_a8efcfdc21aadbc25a8cc95cf54685489"><div class="ttname"><a href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">item::ammo_sufficient</a></div><div class="ttdeci">bool ammo_sufficient(int qty=1) const</div><div class="ttdoc">Check if sufficient ammo is loaded for given number of uses.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07319">item.cpp:7319</a></div></div>
<div class="ttc" id="aclassmonster_html_a0315651e596e69f0626b30e081726596"><div class="ttname"><a href="classmonster.html#a0315651e596e69f0626b30e081726596">monster::has_flag</a></div><div class="ttdeci">bool has_flag(m_flag f) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00869">monster.cpp:869</a></div></div>
<div class="ttc" id="aclassmonster_html_a6e03e18c6ea5e5adb496634b2bbaea52"><div class="ttname"><a href="classmonster.html#a6e03e18c6ea5e5adb496634b2bbaea52">monster::made_of</a></div><div class="ttdeci">bool made_of(const material_id &amp;m) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00958">monster.cpp:958</a></div></div>
<div class="ttc" id="aclassmonster_html_afc6e6f5443145732310dd4901a394b4f"><div class="ttname"><a href="classmonster.html#afc6e6f5443145732310dd4901a394b4f">monster::apply_damage</a></div><div class="ttdeci">void apply_damage(Creature *source, bodypart_id bp, int dam, bool bypass_med=false) override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01636">monster.cpp:1636</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="monster_8cpp_source.html#l01807">monster::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="monster_8cpp_source.html#l01636">monster::apply_damage()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="iuse_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="el" href="field__type_8cpp_source.html#l00345">fd_fire</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="creature_8cpp_source.html#l01668">Creature::get_speed_base()</a>, <a class="el" href="monster_8cpp_source.html#l00869">monster::has_flag()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="monster_8cpp_source.html#l00958">monster::made_of()</a>, <a class="el" href="mtype_8h_source.html#l00067">MF_SEES</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="monster_8cpp_source.html#l00492">monster::name()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="creature_8cpp_source.html#l01730">Creature::set_speed_base()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a9c619bed00bbbe6c9280aec8b8f9adc8" name="a9c619bed00bbbe6c9280aec8b8f9adc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c619bed00bbbe6c9280aec8b8f9adc8">&#9670;&nbsp;</a></span>eyedrops()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::eyedrops </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00634">634</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>{</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    }</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt; it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>() ) {</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re out of %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    }</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You use your %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 10_seconds );</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a> ) ) {</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a> );</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You wash the slime from your eyes.&quot;</span> ) );</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    }</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a468a4ea99d05230e46c7e014a68270a7"><div class="ttname"><a href="iuse_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a></div><div class="ttdeci">static const efftype_id effect_boomered(&quot;boomered&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a0dd2935dd8aacfee3d6fa8a6da61ec0a" name="a0dd2935dd8aacfee3d6fa8a6da61ec0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dd2935dd8aacfee3d6fa8a6da61ec0a">&#9670;&nbsp;</a></span>feedbird()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::feedbird </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01645">1645</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>{</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#aba4a7ef0eb0c520a784fb936bda62550">petfood</a>( *p, *it, <a class="code hl_enumvalue" href="iuse_8cpp.html#aada2fd516b4c31f58ea02b26f150e497af79eb64ca9e7dd0aa39bca5e926832cf">BIRDFOOD</a> );</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_aada2fd516b4c31f58ea02b26f150e497af79eb64ca9e7dd0aa39bca5e926832cf"><div class="ttname"><a href="iuse_8cpp.html#aada2fd516b4c31f58ea02b26f150e497af79eb64ca9e7dd0aa39bca5e926832cf">BIRDFOOD</a></div><div class="ttdeci">@ BIRDFOOD</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01534">iuse.cpp:1533</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l01533">BIRDFOOD</a>, and <a class="el" href="iuse_8cpp_source.html#l01550">petfood()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a66d62c54b717d4e2fbc4490e0eddaba7" name="a66d62c54b717d4e2fbc4490e0eddaba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d62c54b717d4e2fbc4490e0eddaba7">&#9670;&nbsp;</a></span>feedcattle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::feedcattle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01640">1640</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>{</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#aba4a7ef0eb0c520a784fb936bda62550">petfood</a>( *p, *it, <a class="code hl_enumvalue" href="iuse_8cpp.html#aada2fd516b4c31f58ea02b26f150e497abecd99d1499db828eb8b143e157530aa">CATTLEFODDER</a> );</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_aada2fd516b4c31f58ea02b26f150e497abecd99d1499db828eb8b143e157530aa"><div class="ttname"><a href="iuse_8cpp.html#aada2fd516b4c31f58ea02b26f150e497abecd99d1499db828eb8b143e157530aa">CATTLEFODDER</a></div><div class="ttdeci">@ CATTLEFODDER</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01532">iuse.cpp:1532</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l01532">CATTLEFODDER</a>, and <a class="el" href="iuse_8cpp_source.html#l01550">petfood()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ab65c4948655613af9808e56ee73a39fd" name="ab65c4948655613af9808e56ee73a39fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab65c4948655613af9808e56ee73a39fd">&#9670;&nbsp;</a></span>fill_pit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::fill_pit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02862">2862</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span>{</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>    <span class="keywordflow">if</span>( !p || t ) {</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>    }</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>    }</div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>    <span class="keyword">const</span> std::set&lt;ter_id&gt; allowed_ter_id {</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span>        <a class="code hl_variable" href="mapdata_8cpp.html#ae6822029506d9cb25c5077dfec866b86">t_pit</a>,</div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a43a85ba4d54f41e63f95e1afd67d2788">t_pit_spiked</a>,</div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a01dc0729d826a24eec2683a1b03da867">t_pit_glass</a>,</div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a2653d7932a921c701a685ddc596dc9e7">t_pit_corpsed</a>,</div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>        <a class="code hl_variable" href="mapdata_8cpp.html#acde4690b771efe403c3c6b972e839df7">t_pit_shallow</a>,</div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>        <a class="code hl_variable" href="mapdata_8cpp.html#af636f3d89f77cfd0ebb47c3d4ecac0c1">t_dirtmound</a></div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>    };</div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span> </div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = [&amp;allowed_ter_id]( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>        <span class="keywordflow">if</span>( pnt == <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) {</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>        }</div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>        <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span>        <span class="keywordflow">return</span> ( allowed_ter_id.find( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) != allowed_ter_id.end() );</div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span>    };</div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span> </div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Fill which pit or mound?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is no pit or mound to fill nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span>    }</div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"> 2894</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> ter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>    <span class="keywordflow">if</span>( !f( pnt ) ) {</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>        <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You decide not to bury yourself that early.&quot;</span> ) );</div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is nothing to fill.&quot;</span> ) );</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>        }</div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>    }</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span> </div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>    <span class="keywordtype">int</span> moves;</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>    <span class="keywordflow">if</span>( ter == <a class="code hl_variable" href="mapdata_8cpp.html#ae6822029506d9cb25c5077dfec866b86">t_pit</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a43a85ba4d54f41e63f95e1afd67d2788">t_pit_spiked</a> ||</div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>        ter == <a class="code hl_variable" href="mapdata_8cpp.html#a01dc0729d826a24eec2683a1b03da867">t_pit_glass</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a2653d7932a921c701a685ddc596dc9e7">t_pit_corpsed</a> ) {</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span>        moves = to_moves&lt;int&gt;( <a class="code hl_function" href="classtime__duration.html#a20688ca0a8848ec0d73636ede90d27ad">time_duration::from_minutes</a>( 15 ) );</div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ter == <a class="code hl_variable" href="mapdata_8cpp.html#acde4690b771efe403c3c6b972e839df7">t_pit_shallow</a> ) {</div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span>        moves = to_moves&lt;int&gt;( <a class="code hl_function" href="classtime__duration.html#a20688ca0a8848ec0d73636ede90d27ad">time_duration::from_minutes</a>( 10 ) );</div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ter == <a class="code hl_variable" href="mapdata_8cpp.html#af636f3d89f77cfd0ebb47c3d4ecac0c1">t_dirtmound</a> ) {</div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span>        moves = to_moves&lt;int&gt;( <a class="code hl_function" href="classtime__duration.html#a20688ca0a8848ec0d73636ede90d27ad">time_duration::from_minutes</a>( 5 ) );</div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span>    }</div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span> </div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span>    <span class="keyword">const</span> std::vector&lt;npc *&gt; helpers = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_crafting_helpers( 3 );</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *np : helpers ) {</div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s helps with this task…&quot;</span> ), np-&gt;name );</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span>    }</div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span>    moves = moves * ( 10 - helpers.size() ) / 10;</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span> </div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#af41696a41ad9917ff165d1e931d43317">ACT_FILL_PIT</a>, moves, -1, p-&gt;<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( it ) );</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = pnt;</div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span> </div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_af41696a41ad9917ff165d1e931d43317"><div class="ttname"><a href="iuse_8cpp.html#af41696a41ad9917ff165d1e931d43317">ACT_FILL_PIT</a></div><div class="ttdeci">static const activity_id ACT_FILL_PIT(&quot;ACT_FILL_PIT&quot;)</div></div>
<div class="ttc" id="amapdata_8cpp_html_a01dc0729d826a24eec2683a1b03da867"><div class="ttname"><a href="mapdata_8cpp.html#a01dc0729d826a24eec2683a1b03da867">t_pit_glass</a></div><div class="ttdeci">ter_id t_pit_glass</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00626">mapdata.cpp:626</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a2653d7932a921c701a685ddc596dc9e7"><div class="ttname"><a href="mapdata_8cpp.html#a2653d7932a921c701a685ddc596dc9e7">t_pit_corpsed</a></div><div class="ttdeci">ter_id t_pit_corpsed</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00626">mapdata.cpp:626</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a43a85ba4d54f41e63f95e1afd67d2788"><div class="ttname"><a href="mapdata_8cpp.html#a43a85ba4d54f41e63f95e1afd67d2788">t_pit_spiked</a></div><div class="ttdeci">ter_id t_pit_spiked</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00626">mapdata.cpp:626</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_acde4690b771efe403c3c6b972e839df7"><div class="ttname"><a href="mapdata_8cpp.html#acde4690b771efe403c3c6b972e839df7">t_pit_shallow</a></div><div class="ttdeci">ter_id t_pit_shallow</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ae6822029506d9cb25c5077dfec866b86"><div class="ttname"><a href="mapdata_8cpp.html#ae6822029506d9cb25c5077dfec866b86">t_pit</a></div><div class="ttdeci">ter_id t_pit</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_af636f3d89f77cfd0ebb47c3d4ecac0c1"><div class="ttname"><a href="mapdata_8cpp.html#af636f3d89f77cfd0ebb47c3d4ecac0c1">t_dirtmound</a></div><div class="ttdeci">ter_id t_dirtmound</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#af41696a41ad9917ff165d1e931d43317">ACT_FILL_PIT</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="calendar_8h_source.html#l00212">time_duration::from_minutes()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l02396">Character::get_item_position()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_dirtmound</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_pit</a>, <a class="el" href="mapdata_8cpp_source.html#l00626">t_pit_corpsed</a>, <a class="el" href="mapdata_8cpp_source.html#l00626">t_pit_glass</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_pit_shallow</a>, <a class="el" href="mapdata_8cpp_source.html#l00626">t_pit_spiked</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a3b71f85b22913d8683ec1464ec8bec41" name="a3b71f85b22913d8683ec1464ec8bec41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b71f85b22913d8683ec1464ec8bec41">&#9670;&nbsp;</a></span>firecracker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::firecracker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03859">3859</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03860" name="l03860"></a><span class="lineno"> 3860</span>{</div>
<div class="line"><a id="l03861" name="l03861"></a><span class="lineno"> 3861</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l03862" name="l03862"></a><span class="lineno"> 3862</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l03863" name="l03863"></a><span class="lineno"> 3863</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03864" name="l03864"></a><span class="lineno"> 3864</span>    }</div>
<div class="line"><a id="l03865" name="l03865"></a><span class="lineno"> 3865</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#a8a33b517f5d4f8a85c83a71a3bc8cdaf">use_charges_if_avail</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, 1 ) ) {</div>
<div class="line"><a id="l03866" name="l03866"></a><span class="lineno"> 3866</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a source of fire!&quot;</span> ) );</div>
<div class="line"><a id="l03867" name="l03867"></a><span class="lineno"> 3867</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03868" name="l03868"></a><span class="lineno"> 3868</span>    }</div>
<div class="line"><a id="l03869" name="l03869"></a><span class="lineno"> 3869</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You light the firecracker.&quot;</span> ) );</div>
<div class="line"><a id="l03870" name="l03870"></a><span class="lineno"> 3870</span>    it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a7426dca8a4823f1b70c7e79953ad89a7">itype_firecracker_act</a> );</div>
<div class="line"><a id="l03871" name="l03871"></a><span class="lineno"> 3871</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 2;</div>
<div class="line"><a id="l03872" name="l03872"></a><span class="lineno"> 3872</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03873" name="l03873"></a><span class="lineno"> 3873</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03874" name="l03874"></a><span class="lineno"> 3874</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a7426dca8a4823f1b70c7e79953ad89a7"><div class="ttname"><a href="iuse_8cpp.html#a7426dca8a4823f1b70c7e79953ad89a7">itype_firecracker_act</a></div><div class="ttdeci">static const itype_id itype_firecracker_act(&quot;firecracker_act&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, <a class="el" href="iuse_8cpp.html#a7426dca8a4823f1b70c7e79953ad89a7">itype_firecracker_act</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="character_8cpp_source.html#l09622">Character::use_charges_if_avail()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a04894d33896efed432019fa928a6dba6" name="a04894d33896efed432019fa928a6dba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04894d33896efed432019fa928a6dba6">&#9670;&nbsp;</a></span>firecracker_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::firecracker_act </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03876">3876</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03877" name="l03877"></a><span class="lineno"> 3877</span>{</div>
<div class="line"><a id="l03878" name="l03878"></a><span class="lineno"> 3878</span>    <span class="keywordflow">if</span>( pos.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> == -999 || pos.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> == -999 ) {</div>
<div class="line"><a id="l03879" name="l03879"></a><span class="lineno"> 3879</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03880" name="l03880"></a><span class="lineno"> 3880</span>    }</div>
<div class="line"><a id="l03881" name="l03881"></a><span class="lineno"> 3881</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Simple timer effects</span></div>
<div class="line"><a id="l03882" name="l03882"></a><span class="lineno"> 3882</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 0,  <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;ssss…&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;misc&quot;</span>, <span class="stringliteral">&quot;lit_fuse&quot;</span> );</div>
<div class="line"><a id="l03883" name="l03883"></a><span class="lineno"> 3883</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a id="l03884" name="l03884"></a><span class="lineno"> 3884</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ve already lit the %s, try throwing it instead.&quot;</span> ),</div>
<div class="line"><a id="l03885" name="l03885"></a><span class="lineno"> 3885</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03886" name="l03886"></a><span class="lineno"> 3886</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03887" name="l03887"></a><span class="lineno"> 3887</span>    } <span class="keywordflow">else</span> { <span class="comment">// When that timer runs down...</span></div>
<div class="line"><a id="l03888" name="l03888"></a><span class="lineno"> 3888</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 20, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bang!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;explosion&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a id="l03889" name="l03889"></a><span class="lineno"> 3889</span>    }</div>
<div class="line"><a id="l03890" name="l03890"></a><span class="lineno"> 3890</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03891" name="l03891"></a><span class="lineno"> 3891</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::combat</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ab1b7f3a9546c3fcb8a3095b5eb1f08ff" name="ab1b7f3a9546c3fcb8a3095b5eb1f08ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1b7f3a9546c3fcb8a3095b5eb1f08ff">&#9670;&nbsp;</a></span>firecracker_pack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::firecracker_pack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03818">3818</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03819" name="l03819"></a><span class="lineno"> 3819</span>{</div>
<div class="line"><a id="l03820" name="l03820"></a><span class="lineno"> 3820</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l03821" name="l03821"></a><span class="lineno"> 3821</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l03822" name="l03822"></a><span class="lineno"> 3822</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03823" name="l03823"></a><span class="lineno"> 3823</span>    }</div>
<div class="line"><a id="l03824" name="l03824"></a><span class="lineno"> 3824</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, 1 ) ) {</div>
<div class="line"><a id="l03825" name="l03825"></a><span class="lineno"> 3825</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a source of fire!&quot;</span> ) );</div>
<div class="line"><a id="l03826" name="l03826"></a><span class="lineno"> 3826</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03827" name="l03827"></a><span class="lineno"> 3827</span>    }</div>
<div class="line"><a id="l03828" name="l03828"></a><span class="lineno"> 3828</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You light the pack of firecrackers.&quot;</span> ) );</div>
<div class="line"><a id="l03829" name="l03829"></a><span class="lineno"> 3829</span>    it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#adcfa1469d248639fa8653f746a07a1a6">itype_firecracker_pack_act</a> );</div>
<div class="line"><a id="l03830" name="l03830"></a><span class="lineno"> 3830</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 26;</div>
<div class="line"><a id="l03831" name="l03831"></a><span class="lineno"> 3831</span>    it-&gt;<a class="code hl_function" href="classitem.html#ab55a5629e6fe769a7ac314c02d25ecef">set_age</a>( 0_turns );</div>
<div class="line"><a id="l03832" name="l03832"></a><span class="lineno"> 3832</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03833" name="l03833"></a><span class="lineno"> 3833</span>    <span class="keywordflow">return</span> 0; <span class="comment">// don&#39;t use any charges at all. it has became a new item</span></div>
<div class="line"><a id="l03834" name="l03834"></a><span class="lineno"> 3834</span>}</div>
<div class="ttc" id="aclassitem_html_ab55a5629e6fe769a7ac314c02d25ecef"><div class="ttname"><a href="classitem.html#ab55a5629e6fe769a7ac314c02d25ecef">item::set_age</a></div><div class="ttdeci">void set_age(const time_duration &amp;age)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09837">item.cpp:9837</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_adcfa1469d248639fa8653f746a07a1a6"><div class="ttname"><a href="iuse_8cpp.html#adcfa1469d248639fa8653f746a07a1a6">itype_firecracker_pack_act</a></div><div class="ttdeci">static const itype_id itype_firecracker_pack_act(&quot;firecracker_pack_act&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="character_8cpp_source.html#l09571">Character::has_charges()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, <a class="el" href="iuse_8cpp.html#adcfa1469d248639fa8653f746a07a1a6">itype_firecracker_pack_act</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, and <a class="el" href="item_8cpp_source.html#l09837">item::set_age()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ad6fc83e63c449fa4a2e8ca77a29c3c0d" name="ad6fc83e63c449fa4a2e8ca77a29c3c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6fc83e63c449fa4a2e8ca77a29c3c0d">&#9670;&nbsp;</a></span>firecracker_pack_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::firecracker_pack_act </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03836">3836</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03837" name="l03837"></a><span class="lineno"> 3837</span>{</div>
<div class="line"><a id="l03838" name="l03838"></a><span class="lineno"> 3838</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> timer = it-&gt;<a class="code hl_function" href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">age</a>();</div>
<div class="line"><a id="l03839" name="l03839"></a><span class="lineno"> 3839</span>    <span class="keywordflow">if</span>( timer &lt; 2_turns ) {</div>
<div class="line"><a id="l03840" name="l03840"></a><span class="lineno"> 3840</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 0, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;ssss…&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;misc&quot;</span>, <span class="stringliteral">&quot;lit_fuse&quot;</span> );</div>
<div class="line"><a id="l03841" name="l03841"></a><span class="lineno"> 3841</span>        it-&gt;<a class="code hl_function" href="classitem.html#aca60af3c295738c2c1fddf0fd669f9a1">inc_damage</a>();</div>
<div class="line"><a id="l03842" name="l03842"></a><span class="lineno"> 3842</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a id="l03843" name="l03843"></a><span class="lineno"> 3843</span>        <span class="keywordtype">int</span> ex = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 4, 6 );</div>
<div class="line"><a id="l03844" name="l03844"></a><span class="lineno"> 3844</span>        <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a id="l03845" name="l03845"></a><span class="lineno"> 3845</span>        <span class="keywordflow">if</span>( ex &gt; it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) {</div>
<div class="line"><a id="l03846" name="l03846"></a><span class="lineno"> 3846</span>            ex = it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l03847" name="l03847"></a><span class="lineno"> 3847</span>        }</div>
<div class="line"><a id="l03848" name="l03848"></a><span class="lineno"> 3848</span>        <span class="keywordflow">for</span>( i = 0; i &lt; ex; i++ ) {</div>
<div class="line"><a id="l03849" name="l03849"></a><span class="lineno"> 3849</span>            <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 20, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bang!&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a id="l03850" name="l03850"></a><span class="lineno"> 3850</span>        }</div>
<div class="line"><a id="l03851" name="l03851"></a><span class="lineno"> 3851</span>        it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= ex;</div>
<div class="line"><a id="l03852" name="l03852"></a><span class="lineno"> 3852</span>    }</div>
<div class="line"><a id="l03853" name="l03853"></a><span class="lineno"> 3853</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l03854" name="l03854"></a><span class="lineno"> 3854</span>        it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = -1;</div>
<div class="line"><a id="l03855" name="l03855"></a><span class="lineno"> 3855</span>    }</div>
<div class="line"><a id="l03856" name="l03856"></a><span class="lineno"> 3856</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03857" name="l03857"></a><span class="lineno"> 3857</span>}</div>
<div class="ttc" id="aclassitem_html_a66fcc8b7976e6c73904bdfbe5296c150"><div class="ttname"><a href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">item::age</a></div><div class="ttdeci">time_duration age() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09832">item.cpp:9832</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l09832">item::age()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::combat</a>, <a class="el" href="item_8cpp_source.html#l06103">item::inc_damage()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, and <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aee840b3e8d9e57e43bf850bb4fe1f32f" name="aee840b3e8d9e57e43bf850bb4fe1f32f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee840b3e8d9e57e43bf850bb4fe1f32f">&#9670;&nbsp;</a></span>fish_trap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::fish_trap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Survival randomly increases number of fish caught in fishing trap 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01793">1793</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>{</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>    <span class="keywordflow">if</span>( !t ) {</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>        <span class="comment">// Handle deploying fish trap.</span></div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>        }</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span> </div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt; 0 ) {</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 0;</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>        }</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>        }</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>        }</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span> </div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Fish are not foolish enough to go in here without bait.&quot;</span> ) );</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>        }</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span> </div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Put fish trap where?&quot;</span> ) );</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>        <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>        }</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> pnt = *pnt_;</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span> </div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;FISHABLE&quot;</span>, pnt ) ) {</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t fish there!&quot;</span> ) );</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>        }</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="iuse_8cpp.html#aa8cb8a92f4521dabbe9459773b7bd882">good_fishing_spot</a>( pnt ) ) {</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>        }</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>        it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>        it-&gt;<a class="code hl_function" href="classitem.html#ab55a5629e6fe769a7ac314c02d25ecef">set_age</a>( 0_turns );</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item_or_charges( pnt, *it );</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( it );</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You place the fish trap, in three hours or so you may catch some fish.&quot;</span> ) );</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span> </div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span> </div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>        <span class="comment">// Handle processing fish trap over time.</span></div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>        }</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a66fcc8b7976e6c73904bdfbe5296c150">age</a>() &gt; 3_hours ) {</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span> </div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;FISHABLE&quot;</span>, pos ) ) {</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>            }</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span> </div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>            <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> = -50;</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> surv = p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a> );</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> attempts = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> * it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; attempts; i++ ) {<span class="comment"></span></div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span><span class="comment">                /** @EFFECT_SURVIVAL randomly increases number of fish caught in fishing trap */</span></div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>                <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> += <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( surv, surv * surv );</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>            }</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span> </div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt; 0 ) {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>                it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 0;</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>            }</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span> </div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>            <span class="keywordtype">int</span> fishes = 0;</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span> </div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> &lt; 0 ) {</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>                fishes = 0;</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> &lt; 300 ) {</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>                fishes = 1;</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> &lt; 1500 ) {</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>                fishes = 2;</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>                fishes = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 3, 5 );</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>            }</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span> </div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>            <span class="keywordflow">if</span>( fishes == 0 ) {</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>                it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 0;</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>                p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5, 15 ) );</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span> </div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>            }</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span> </div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>            <span class="comment">//get the fishables around the trap&#39;s spot</span></div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>            std::unordered_set&lt;tripoint&gt; fishable_locations = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_fishable_locations( 60, pos );</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>            std::vector&lt;monster *&gt; fishables = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_fishable_monsters( fishable_locations );</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; fishes; i++ ) {</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>                p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 3, 10 ) );</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>                <span class="keywordflow">if</span>( !fishables.empty() ) {</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>                    <a class="code hl_class" href="classmonster.html">monster</a> *chosen_fish = <a class="code hl_function" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( fishables );</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>                    <span class="comment">// reduce the abstract fish_population marker of that fish</span></div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>                    chosen_fish-&gt;<a class="code hl_variable" href="classmonster.html#a1bcf8c4105ed1ba90775fbdef4afeaf6">fish_population</a> -= 1;</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>                    <span class="keywordflow">if</span>( chosen_fish-&gt;<a class="code hl_variable" href="classmonster.html#a1bcf8c4105ed1ba90775fbdef4afeaf6">fish_population</a> &lt;= 0 ) {</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;catch_a_monster( chosen_fish, pos, p, 300_hours ); <span class="comment">//catch the fish!</span></div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item_or_charges( pos, <a class="code hl_function" href="classitem.html#a843e57d31c5f26b3300b607446c8b860">item::make_corpse</a>( chosen_fish-&gt;<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a>,</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>                                                  <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0_turns,</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>                                                          3_hours ) ) );</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>                    }</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>                    <span class="comment">//there will always be a chance that the player will get lucky and catch a fish</span></div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>                    <span class="comment">//not existing in the fishables vector. (maybe it was in range, but wandered off)</span></div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>                    <span class="comment">//lets say it is a 5% chance per fish to catch</span></div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 20 ) ) {</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>                        <span class="keyword">const</span> std::vector&lt;mtype_id&gt; fish_group = <a class="code hl_function" href="classMonsterGroupManager.html#a216ce6ae63f665288e81cc682bfe8f13">MonsterGroupManager::GetMonstersFromGroup</a>(</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>                                    <a class="code hl_variable" href="iuse_8cpp.html#ab95d97ed8a44c318326937f8869e9359">GROUP_FISH</a> );</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>                        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> &amp;fish_mon = <a class="code hl_function" href="rng_8h.html#a265321f9012874a83b2a57ee33835617">random_entry_ref</a>( fish_group );</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>                        <span class="comment">//Yes, we can put fishes in the trap like knives in the boot,</span></div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>                        <span class="comment">//and then get fishes via activation of the item,</span></div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>                        <span class="comment">//but it&#39;s not as comfortable as if you just put fishes in the same tile with the trap.</span></div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>                        <span class="comment">//Also: corpses and comestibles do not rot in containers like this, but on the ground they will rot.</span></div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>                        <span class="comment">//we don&#39;t know when it was caught so use a random turn</span></div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item_or_charges( pos, <a class="code hl_function" href="classitem.html#a843e57d31c5f26b3300b607446c8b860">item::make_corpse</a>( fish_mon, it-&gt;<a class="code hl_function" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0_turns,</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>                                                  3_hours ) ) );</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>                        <span class="keywordflow">break</span>; <span class="comment">//this can happen only once</span></div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>                    }</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>                }</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>            }</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>        }</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>    }</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>}</div>
<div class="ttc" id="aclassMonsterGroupManager_html_a216ce6ae63f665288e81cc682bfe8f13"><div class="ttname"><a href="classMonsterGroupManager.html#a216ce6ae63f665288e81cc682bfe8f13">MonsterGroupManager::GetMonstersFromGroup</a></div><div class="ttdeci">static std::vector&lt; mtype_id &gt; GetMonstersFromGroup(const mongroup_id &amp;group)</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8cpp_source.html#l00230">mongroup.cpp:230</a></div></div>
<div class="ttc" id="aclassitem_html_a843e57d31c5f26b3300b607446c8b860"><div class="ttname"><a href="classitem.html#a843e57d31c5f26b3300b607446c8b860">item::make_corpse</a></div><div class="ttdeci">static item make_corpse(const mtype_id &amp;mt=string_id&lt; mtype &gt;::NULL_ID(), time_point turn=calendar::turn, const std::string &amp;name=&quot;&quot;, int upgrade_time=-1)</div><div class="ttdoc">Make a corpse of the given monster type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00504">item.cpp:504</a></div></div>
<div class="ttc" id="aclassmonster_html_a1bcf8c4105ed1ba90775fbdef4afeaf6"><div class="ttname"><a href="classmonster.html#a1bcf8c4105ed1ba90775fbdef4afeaf6">monster::fish_population</a></div><div class="ttdeci">int fish_population</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00491">monster.h:491</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_aa8cb8a92f4521dabbe9459773b7bd882"><div class="ttname"><a href="iuse_8cpp.html#aa8cb8a92f4521dabbe9459773b7bd882">good_fishing_spot</a></div><div class="ttdeci">static bool good_fishing_spot(tripoint pos)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01747">iuse.cpp:1747</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_ab95d97ed8a44c318326937f8869e9359"><div class="ttname"><a href="iuse_8cpp.html#ab95d97ed8a44c318326937f8869e9359">GROUP_FISH</a></div><div class="ttdeci">static const mongroup_id GROUP_FISH(&quot;GROUP_FISH&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ac038c6319122de04af85fb88e6618601"><div class="ttname"><a href="iuse_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a></div><div class="ttdeci">static const skill_id skill_survival(&quot;survival&quot;)</div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00088">rng.h:88</a></div></div>
<div class="ttc" id="arng_8h_html_a265321f9012874a83b2a57ee33835617"><div class="ttname"><a href="rng_8h.html#a265321f9012874a83b2a57ee33835617">random_entry_ref</a></div><div class="ttdeci">std::enable_if&lt;!is_std_array&lt; C &gt;::value, constV &amp; &gt;::type random_entry_ref(const C &amp;container)</div><div class="ttdoc">Same as above, but with a statically allocated default value (using the default constructor).</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00149">rng.h:149</a></div></div>
<div class="ttc" id="astructmtype_html_a60dea81cdc4c627313e540831d311b5a"><div class="ttname"><a href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">mtype::id</a></div><div class="ttdeci">mtype_id id</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00240">mtype.h:240</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l09832">item::age()</a>, <a class="el" href="item_8cpp_source.html#l09853">item::birthday()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="monster_8h_source.html#l00491">monster::fish_population</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="mongroup_8cpp_source.html#l00230">MonsterGroupManager::GetMonstersFromGroup()</a>, <a class="el" href="iuse_8cpp_source.html#l01747">good_fishing_spot()</a>, <a class="el" href="iuse_8cpp.html#ab95d97ed8a44c318326937f8869e9359">GROUP_FISH</a>, <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, <a class="el" href="mtype_8h_source.html#l00240">mtype::id</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l00504">item::make_corpse()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="player_8cpp_source.html#l04005">player::practice()</a>, <a class="el" href="rng_8h_source.html#l00088">random_entry()</a>, <a class="el" href="rng_8h_source.html#l00149">random_entry_ref()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp_source.html#l09837">item::set_age()</a>, <a class="el" href="iuse_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="behavior_8h_source.html#l00020">behavior::success</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, and <a class="el" href="monster_8h_source.html#l00478">monster::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a5cbe783493c4bbb59042ea505639c06d" name="a5cbe783493c4bbb59042ea505639c06d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cbe783493c4bbb59042ea505639c06d">&#9670;&nbsp;</a></span>fishing_rod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::fishing_rod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01765">1765</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>{</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>        <span class="comment">// Long actions - NPCs don&#39;t like those yet.</span></div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>    }</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>    }</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>    <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> found;</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="iuse_8cpp.html#a7df2843ad3dbe12b65e80f1bf0298ce1">flag_FISHABLE</a>, pnt ) &amp;&amp; <a class="code hl_function" href="iuse_8cpp.html#aa8cb8a92f4521dabbe9459773b7bd882">good_fishing_spot</a>( pnt ) ) {</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>            found = pnt;</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>        }</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>    }</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>    <span class="keywordflow">if</span>( !found ) {</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t fish there!&quot;</span> ) );</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>    }</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cast your line and wait to hook something…&quot;</span> ) );</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a63532169a015e803e57202c5af8ce838">ACT_FISH</a>, to_moves&lt;int&gt;( 5_hours ), 0, 0, it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, it ) );</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#adb6198e1b33fc9dfa2d7ef2003a0ea54">coord_set</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_fishable_locations( 60, *found );</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>}</div>
<div class="ttc" id="aclassplayer__activity_html_adb6198e1b33fc9dfa2d7ef2003a0ea54"><div class="ttname"><a href="classplayer__activity.html#adb6198e1b33fc9dfa2d7ef2003a0ea54">player_activity::coord_set</a></div><div class="ttdeci">std::unordered_set&lt; tripoint &gt; coord_set</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00060">player_activity.h:60</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a63532169a015e803e57202c5af8ce838"><div class="ttname"><a href="iuse_8cpp.html#a63532169a015e803e57202c5af8ce838">ACT_FISH</a></div><div class="ttdeci">static const activity_id ACT_FISH(&quot;ACT_FISH&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a7df2843ad3dbe12b65e80f1bf0298ce1"><div class="ttname"><a href="iuse_8cpp.html#a7df2843ad3dbe12b65e80f1bf0298ce1">flag_FISHABLE</a></div><div class="ttdeci">static const std::string flag_FISHABLE(&quot;FISHABLE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a63532169a015e803e57202c5af8ce838">ACT_FISH</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="player__activity_8h_source.html#l00060">player_activity::coord_set</a>, <a class="el" href="iuse_8cpp.html#a7df2843ad3dbe12b65e80f1bf0298ce1">flag_FISHABLE()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="iuse_8cpp_source.html#l01747">good_fishing_spot()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ac24c85992b2571424e8eb4c70b579563" name="ac24c85992b2571424e8eb4c70b579563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac24c85992b2571424e8eb4c70b579563">&#9670;&nbsp;</a></span>fitness_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::fitness_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af015e96f2a09b910339eb5ddc09fd64a" name="af015e96f2a09b910339eb5ddc09fd64a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af015e96f2a09b910339eb5ddc09fd64a">&#9670;&nbsp;</a></span>flu_vaccine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::flu_vaccine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00863">863</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>{</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You empty.&quot;</span> ) );</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    <a class="code hl_class" href="classitem.html">item</a> syringe( <span class="stringliteral">&quot;syringe&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>() );</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l09853">item::birthday()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aa748624edacd9038fb86f038e61bb68a" name="aa748624edacd9038fb86f038e61bb68a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa748624edacd9038fb86f038e61bb68a">&#9670;&nbsp;</a></span>flumed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::flumed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00975">975</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>{</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a298d7fdbd56c13ca020ae33f002fad54">effect_took_flumed</a>, 10_hours );</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take some %s&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a298d7fdbd56c13ca020ae33f002fad54"><div class="ttname"><a href="iuse_8cpp.html#a298d7fdbd56c13ca020ae33f002fad54">effect_took_flumed</a></div><div class="ttdeci">static const efftype_id effect_took_flumed(&quot;took_flumed&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a298d7fdbd56c13ca020ae33f002fad54">effect_took_flumed</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="adbe3744c239129f7b6cdd7b9fdcddb53" name="adbe3744c239129f7b6cdd7b9fdcddb53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbe3744c239129f7b6cdd7b9fdcddb53">&#9670;&nbsp;</a></span>flusleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::flusleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00982">982</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>{</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a298d7fdbd56c13ca020ae33f002fad54">effect_took_flumed</a>, 12_hours );</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( 30 );</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take some %s&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel very sleepy…&quot;</span> ) );</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>}</div>
<div class="ttc" id="aclassCharacter_html_a67a7e1b4bc1b191c747a27a1575ee1a6"><div class="ttname"><a href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">Character::mod_fatigue</a></div><div class="ttdeci">virtual void mod_fatigue(int nfatigue)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04414">character.cpp:4414</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a298d7fdbd56c13ca020ae33f002fad54">effect_took_flumed</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ae1a9869a841219f81c39c873d5c08e59" name="ae1a9869a841219f81c39c873d5c08e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1a9869a841219f81c39c873d5c08e59">&#9670;&nbsp;</a></span>foodperson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::foodperson </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l07877">7877</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07878" name="l07878"></a><span class="lineno"> 7878</span>{</div>
<div class="line"><a id="l07879" name="l07879"></a><span class="lineno"> 7879</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l07880" name="l07880"></a><span class="lineno"> 7880</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 1_minutes ) ) {</div>
<div class="line"><a id="l07881" name="l07881"></a><span class="lineno"> 7881</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structSpeechBubble.html">SpeechBubble</a> &amp;<a class="code hl_variable" href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a> = <a class="code hl_function" href="speech_8cpp.html#a576ec6cec2f290b1c65170befdd4b66d">get_speech</a>( <span class="stringliteral">&quot;foodperson_mask&quot;</span> );</div>
<div class="line"><a id="l07882" name="l07882"></a><span class="lineno"> 7882</span>            <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, <a class="code hl_variable" href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a>.volume, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_variable" href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a>.text.translated(), <span class="keyword">true</span>, <span class="stringliteral">&quot;speech&quot;</span>,</div>
<div class="line"><a id="l07883" name="l07883"></a><span class="lineno"> 7883</span>                           <span class="stringliteral">&quot;foodperson_mask&quot;</span> );</div>
<div class="line"><a id="l07884" name="l07884"></a><span class="lineno"> 7884</span>        }</div>
<div class="line"><a id="l07885" name="l07885"></a><span class="lineno"> 7885</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07886" name="l07886"></a><span class="lineno"> 7886</span>    }</div>
<div class="line"><a id="l07887" name="l07887"></a><span class="lineno"> 7887</span> </div>
<div class="line"><a id="l07888" name="l07888"></a><span class="lineno"> 7888</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> shift = <a class="code hl_function" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( it-&gt;<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>()-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() *</div>
<div class="line"><a id="l07889" name="l07889"></a><span class="lineno"> 7889</span>                          it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;turns_per_charge );</div>
<div class="line"><a id="l07890" name="l07890"></a><span class="lineno"> 7890</span> </div>
<div class="line"><a id="l07891" name="l07891"></a><span class="lineno"> 7891</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your HUD lights-up: \&quot;Your shift ends in %s\&quot;.&quot;</span> ),</div>
<div class="line"><a id="l07892" name="l07892"></a><span class="lineno"> 7892</span>                          <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a>( shift ) );</div>
<div class="line"><a id="l07893" name="l07893"></a><span class="lineno"> 7893</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07894" name="l07894"></a><span class="lineno"> 7894</span>}</div>
<div class="ttc" id="aclassitem_html_ab22fc9a4e0f9c6f5569b93e00deccfac"><div class="ttname"><a href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">item::magazine_current</a></div><div class="ttdeci">item * magazine_current()</div><div class="ttdoc">Currently loaded magazine (if any)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07565">item.cpp:7565</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00204">calendar.h:204</a></div></div>
<div class="ttc" id="aspeech_8cpp_html_a576ec6cec2f290b1c65170befdd4b66d"><div class="ttname"><a href="speech_8cpp.html#a576ec6cec2f290b1c65170befdd4b66d">get_speech</a></div><div class="ttdeci">const SpeechBubble &amp; get_speech(const std::string &amp;label)</div><div class="ttdef"><b>Definition:</b> <a href="speech_8cpp_source.html#l00031">speech.cpp:31</a></div></div>
<div class="ttc" id="aspeech_8cpp_html_a67a91181969e507f1132304946b6360b"><div class="ttname"><a href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a></div><div class="ttdeci">static std::map&lt; std::string, std::vector&lt; SpeechBubble &gt; &gt; speech</div><div class="ttdef"><b>Definition:</b> <a href="speech_8cpp_source.html#l00012">speech.cpp:12</a></div></div>
<div class="ttc" id="astructSpeechBubble_html"><div class="ttname"><a href="structSpeechBubble.html">SpeechBubble</a></div><div class="ttdef"><b>Definition:</b> <a href="speech_8h_source.html#l00011">speech.h:11</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="calendar_8h_source.html#l00204">time_duration::from_turns()</a>, <a class="el" href="speech_8cpp_source.html#l00031">get_speech()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l07565">item::magazine_current()</a>, <a class="el" href="calendar_8cpp_source.html#l00490">calendar::once_every()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="speech_8cpp_source.html#l00012">speech</a>, <a class="el" href="calendar_8cpp_source.html#l00327">to_string()</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a65f04cd778ba18f8af92e04db0212ad9" name="a65f04cd778ba18f8af92e04db0212ad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f04cd778ba18f8af92e04db0212ad9">&#9670;&nbsp;</a></span>fungicide()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::fungicide </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00653">653</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>{</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    }</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span> </div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_fungus = p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a> );</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_spores = p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a5700afe28dcf80d2e04f44172a1eebd7">effect_spores</a> );</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span> </div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() &amp;&amp; !has_fungus &amp;&amp; !has_spores ) {</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    }</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span> </div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You use your fungicide.&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; uses some fungicide&quot;</span> ) );</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <span class="keywordflow">if</span>( has_fungus &amp;&amp; ( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) ) {</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a> );</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel a burning sensation under your skin that quickly fades away.&quot;</span> ) );</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    }</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <span class="keywordflow">if</span>( has_spores &amp;&amp; ( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) ) {</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>        <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a> ) ) {</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your skin grows warm for a moment.&quot;</span> ) );</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>        }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a5700afe28dcf80d2e04f44172a1eebd7">effect_spores</a> );</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>        <span class="keywordtype">int</span> spore_count = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 6 );</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>            <span class="keywordflow">if</span>( spore_count == 0 ) {</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>            }</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>            <span class="keywordflow">if</span>( dest == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>            }</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.passable( dest ) &amp;&amp; <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( spore_count, 8 ) ) {</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon_ptr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest ) ) {</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>                    <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter = *mon_ptr;</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( dest ) &amp;&amp;</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>                        !critter.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="iuse_8cpp.html#a21ab92eb0bc71e62dbc4d95a9fd6eb70">FUNGUS</a> ) ) {</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>                        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s is covered in tiny spores!&quot;</span> ),</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>                                 critter.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>                    }</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>                    <span class="keywordflow">if</span>( !critter.<a class="code hl_function" href="classmonster.html#a4fddab3f065220c8b7c015572a5de408">make_fungus</a>() ) {</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>                        critter.<a class="code hl_function" href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">die</a>( p ); <span class="comment">// counts as kill by player</span></div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>                    }</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( <a class="code hl_variable" href="iuse_8cpp.html#a88e7476f01684d4172178130beb46ce0">mon_spore</a>, dest );</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>                }</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>                spore_count--;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>            }</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>        }</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    }</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>}</div>
<div class="ttc" id="aclassmonster_html_a4fddab3f065220c8b7c015572a5de408"><div class="ttname"><a href="classmonster.html#a4fddab3f065220c8b7c015572a5de408">monster::make_fungus</a></div><div class="ttdeci">bool make_fungus()</div><div class="ttdoc">Makes this monster into a fungus version Returns false if no such monster exists Returns true if mons...</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02599">monster.cpp:2599</a></div></div>
<div class="ttc" id="aclassmonster_html_a82ae41773b05af94d4b678cb33bfb329"><div class="ttname"><a href="classmonster.html#a82ae41773b05af94d4b678cb33bfb329">monster::die</a></div><div class="ttdeci">void die(Creature *killer) override</div><div class="ttdoc">Empty function.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02243">monster.cpp:2243</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a21ab92eb0bc71e62dbc4d95a9fd6eb70"><div class="ttname"><a href="iuse_8cpp.html#a21ab92eb0bc71e62dbc4d95a9fd6eb70">FUNGUS</a></div><div class="ttdeci">static const species_id FUNGUS(&quot;FUNGUS&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a88e7476f01684d4172178130beb46ce0"><div class="ttname"><a href="iuse_8cpp.html#a88e7476f01684d4172178130beb46ce0">mon_spore</a></div><div class="ttdeci">static const mtype_id mon_spore(&quot;mon_spore&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="monster_8cpp_source.html#l02243">monster::die()</a>, <a class="el" href="iuse_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a>, <a class="el" href="iuse_8cpp.html#a5700afe28dcf80d2e04f44172a1eebd7">effect_spores</a>, <a class="el" href="iuse_8cpp.html#a21ab92eb0bc71e62dbc4d95a9fd6eb70">FUNGUS</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mtype_8cpp_source.html#l00122">mtype::in_species()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="monster_8cpp_source.html#l02599">monster::make_fungus()</a>, <a class="el" href="iuse_8cpp.html#a88e7476f01684d4172178130beb46ce0">mon_spore</a>, <a class="el" href="monster_8cpp_source.html#l00492">monster::name()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="monster_8h_source.html#l00478">monster::type</a>, and <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="afb61c8d119bd0c545bc42c10d11d357b" name="afb61c8d119bd0c545bc42c10d11d357b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb61c8d119bd0c545bc42c10d11d357b">&#9670;&nbsp;</a></span>gasmask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::gasmask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04330">4330</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04331" name="l04331"></a><span class="lineno"> 4331</span>{</div>
<div class="line"><a id="l04332" name="l04332"></a><span class="lineno"> 4332</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Normal use</span></div>
<div class="line"><a id="l04333" name="l04333"></a><span class="lineno"> 4333</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *it ) ) {</div>
<div class="line"><a id="l04334" name="l04334"></a><span class="lineno"> 4334</span>            <span class="comment">// calculate amount of absorbed gas per filter charge</span></div>
<div class="line"><a id="l04335" name="l04335"></a><span class="lineno"> 4335</span>            <span class="keyword">const</span> <a class="code hl_class" href="classfield.html">field</a> &amp;gasfield = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.field_at( pos );</div>
<div class="line"><a id="l04336" name="l04336"></a><span class="lineno"> 4336</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;dfield : gasfield ) {</div>
<div class="line"><a id="l04337" name="l04337"></a><span class="lineno"> 4337</span>                <span class="keyword">const</span> <a class="code hl_class" href="classfield__entry.html">field_entry</a> &amp;entry = dfield.second;</div>
<div class="line"><a id="l04338" name="l04338"></a><span class="lineno"> 4338</span>                <span class="keywordflow">if</span>( entry.<a class="code hl_function" href="classfield__entry.html#a428f0d1befacc7bd92dd42eb9b298a01">get_gas_absorption_factor</a>() &gt; 0 ) {</div>
<div class="line"><a id="l04339" name="l04339"></a><span class="lineno"> 4339</span>                    it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;gas_absorbed&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;gas_absorbed&quot;</span>, 0 ) + entry.<a class="code hl_function" href="classfield__entry.html#a428f0d1befacc7bd92dd42eb9b298a01">get_gas_absorption_factor</a>() );</div>
<div class="line"><a id="l04340" name="l04340"></a><span class="lineno"> 4340</span>                }</div>
<div class="line"><a id="l04341" name="l04341"></a><span class="lineno"> 4341</span>            }</div>
<div class="line"><a id="l04342" name="l04342"></a><span class="lineno"> 4342</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;gas_absorbed&quot;</span>, 0 ) &gt;= 100 ) {</div>
<div class="line"><a id="l04343" name="l04343"></a><span class="lineno"> 4343</span>                it-&gt;<a class="code hl_function" href="classitem.html#ae00bce86206993cc672387f9a2c77f92">ammo_consume</a>( 1, p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l04344" name="l04344"></a><span class="lineno"> 4344</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;gas_absorbed&quot;</span>, 0 );</div>
<div class="line"><a id="l04345" name="l04345"></a><span class="lineno"> 4345</span>            }</div>
<div class="line"><a id="l04346" name="l04346"></a><span class="lineno"> 4346</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l04347" name="l04347"></a><span class="lineno"> 4347</span>                p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l04348" name="l04348"></a><span class="lineno"> 4348</span>                    <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l04349" name="l04349"></a><span class="lineno"> 4349</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s requires new filter!&quot;</span> ),</div>
<div class="line"><a id="l04350" name="l04350"></a><span class="lineno"> 4350</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; needs new gas mask filter!&quot;</span> )</div>
<div class="line"><a id="l04351" name="l04351"></a><span class="lineno"> 4351</span>                    , it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04352" name="l04352"></a><span class="lineno"> 4352</span>            }</div>
<div class="line"><a id="l04353" name="l04353"></a><span class="lineno"> 4353</span>        }</div>
<div class="line"><a id="l04354" name="l04354"></a><span class="lineno"> 4354</span>    } <span class="keywordflow">else</span> { <span class="comment">// activate</span></div>
<div class="line"><a id="l04355" name="l04355"></a><span class="lineno"> 4355</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l04356" name="l04356"></a><span class="lineno"> 4356</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s don&#39;t have a filter.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04357" name="l04357"></a><span class="lineno"> 4357</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04358" name="l04358"></a><span class="lineno"> 4358</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You prepared your %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04359" name="l04359"></a><span class="lineno"> 4359</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04360" name="l04360"></a><span class="lineno"> 4360</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;overwrite_env_resist&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#acb31dfc93d0de49315fdbbac504236df">get_base_env_resist_w_filter</a>() );</div>
<div class="line"><a id="l04361" name="l04361"></a><span class="lineno"> 4361</span>        }</div>
<div class="line"><a id="l04362" name="l04362"></a><span class="lineno"> 4362</span>    }</div>
<div class="line"><a id="l04363" name="l04363"></a><span class="lineno"> 4363</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l04364" name="l04364"></a><span class="lineno"> 4364</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;overwrite_env_resist&quot;</span>, 0 );</div>
<div class="line"><a id="l04365" name="l04365"></a><span class="lineno"> 4365</span>        it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04366" name="l04366"></a><span class="lineno"> 4366</span>    }</div>
<div class="line"><a id="l04367" name="l04367"></a><span class="lineno"> 4367</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04368" name="l04368"></a><span class="lineno"> 4368</span>}</div>
<div class="ttc" id="aclassfield__entry_html"><div class="ttname"><a href="classfield__entry.html">field_entry</a></div><div class="ttdoc">An active or passive effect existing on a tile.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00019">field.h:20</a></div></div>
<div class="ttc" id="aclassfield__entry_html_a428f0d1befacc7bd92dd42eb9b298a01"><div class="ttname"><a href="classfield__entry.html#a428f0d1befacc7bd92dd42eb9b298a01">field_entry::get_gas_absorption_factor</a></div><div class="ttdeci">int get_gas_absorption_factor() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00101">field.h:101</a></div></div>
<div class="ttc" id="aclassfield_html"><div class="ttname"><a href="classfield.html">field</a></div><div class="ttdoc">A variable sized collection of field entries on a given map square.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00130">field.h:131</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="item_8cpp_source.html#l07324">item::ammo_consume()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05627">item::get_base_env_resist_w_filter()</a>, <a class="el" href="field_8h_source.html#l00101">field_entry::get_gas_absorption_factor()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="character_8h_source.html#l01142">Character::is_worn()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a44ada5d5014f5183d6be198a5b040138" name="a44ada5d5014f5183d6be198a5b040138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ada5d5014f5183d6be198a5b040138">&#9670;&nbsp;</a></span>geiger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::geiger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03382">3382</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03383" name="l03383"></a><span class="lineno"> 3383</span>{</div>
<div class="line"><a id="l03384" name="l03384"></a><span class="lineno"> 3384</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Every-turn use when it&#39;s on</span></div>
<div class="line"><a id="l03385" name="l03385"></a><span class="lineno"> 3385</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> rads = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.get_radiation( pos );</div>
<div class="line"><a id="l03386" name="l03386"></a><span class="lineno"> 3386</span>        <span class="keywordflow">if</span>( rads == 0 ) {</div>
<div class="line"><a id="l03387" name="l03387"></a><span class="lineno"> 3387</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03388" name="l03388"></a><span class="lineno"> 3388</span>        }</div>
<div class="line"><a id="l03389" name="l03389"></a><span class="lineno"> 3389</span>        std::string description = rads &gt; 50 ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;buzzing&quot;</span> ) :</div>
<div class="line"><a id="l03390" name="l03390"></a><span class="lineno"> 3390</span>                                  rads &gt; 25 ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;rapid clicking&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;clicking&quot;</span> );</div>
<div class="line"><a id="l03391" name="l03391"></a><span class="lineno"> 3391</span>        std::string sound_var = rads &gt; 50 ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;geiger_high&quot;</span> ) :</div>
<div class="line"><a id="l03392" name="l03392"></a><span class="lineno"> 3392</span>                                rads &gt; 25 ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;geiger_medium&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;geiger_low&quot;</span> );</div>
<div class="line"><a id="l03393" name="l03393"></a><span class="lineno"> 3393</span> </div>
<div class="line"><a id="l03394" name="l03394"></a><span class="lineno"> 3394</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 6, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, description, <span class="keyword">true</span>, <span class="stringliteral">&quot;tool&quot;</span>, sound_var );</div>
<div class="line"><a id="l03395" name="l03395"></a><span class="lineno"> 3395</span>        <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#ab0ad8a1c48785fa554d5b2f662248697">can_hear</a>( pos, 6 ) ) {</div>
<div class="line"><a id="l03396" name="l03396"></a><span class="lineno"> 3396</span>            <span class="comment">// can not hear it, but may have alarmed other creatures</span></div>
<div class="line"><a id="l03397" name="l03397"></a><span class="lineno"> 3397</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03398" name="l03398"></a><span class="lineno"> 3398</span>        }</div>
<div class="line"><a id="l03399" name="l03399"></a><span class="lineno"> 3399</span>        <span class="keywordflow">if</span>( rads &gt; 50 ) {</div>
<div class="line"><a id="l03400" name="l03400"></a><span class="lineno"> 3400</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The geiger counter buzzes intensely.&quot;</span> ) );</div>
<div class="line"><a id="l03401" name="l03401"></a><span class="lineno"> 3401</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( rads &gt; 35 ) {</div>
<div class="line"><a id="l03402" name="l03402"></a><span class="lineno"> 3402</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The geiger counter clicks wildly.&quot;</span> ) );</div>
<div class="line"><a id="l03403" name="l03403"></a><span class="lineno"> 3403</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( rads &gt; 25 ) {</div>
<div class="line"><a id="l03404" name="l03404"></a><span class="lineno"> 3404</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The geiger counter clicks rapidly.&quot;</span> ) );</div>
<div class="line"><a id="l03405" name="l03405"></a><span class="lineno"> 3405</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( rads &gt; 15 ) {</div>
<div class="line"><a id="l03406" name="l03406"></a><span class="lineno"> 3406</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The geiger counter clicks steadily.&quot;</span> ) );</div>
<div class="line"><a id="l03407" name="l03407"></a><span class="lineno"> 3407</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( rads &gt; 8 ) {</div>
<div class="line"><a id="l03408" name="l03408"></a><span class="lineno"> 3408</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The geiger counter clicks slowly.&quot;</span> ) );</div>
<div class="line"><a id="l03409" name="l03409"></a><span class="lineno"> 3409</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( rads &gt; 4 ) {</div>
<div class="line"><a id="l03410" name="l03410"></a><span class="lineno"> 3410</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The geiger counter clicks intermittently.&quot;</span> ) );</div>
<div class="line"><a id="l03411" name="l03411"></a><span class="lineno"> 3411</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03412" name="l03412"></a><span class="lineno"> 3412</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The geiger counter clicks once.&quot;</span> ) );</div>
<div class="line"><a id="l03413" name="l03413"></a><span class="lineno"> 3413</span>        }</div>
<div class="line"><a id="l03414" name="l03414"></a><span class="lineno"> 3414</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03415" name="l03415"></a><span class="lineno"> 3415</span>    }</div>
<div class="line"><a id="l03416" name="l03416"></a><span class="lineno"> 3416</span>    <span class="comment">// Otherwise, we&#39;re activating the geiger counter</span></div>
<div class="line"><a id="l03417" name="l03417"></a><span class="lineno"> 3417</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a8dc36a92349db80ee1b3fab6a0fd785a">itype_geiger_on</a> ) {</div>
<div class="line"><a id="l03418" name="l03418"></a><span class="lineno"> 3418</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The geiger counter&#39;s SCANNING LED turns off.&quot;</span> ) );</div>
<div class="line"><a id="l03419" name="l03419"></a><span class="lineno"> 3419</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a79148b0d71cec627a14aff135db27398">itype_geiger_off</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03420" name="l03420"></a><span class="lineno"> 3420</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03421" name="l03421"></a><span class="lineno"> 3421</span>    }</div>
<div class="line"><a id="l03422" name="l03422"></a><span class="lineno"> 3422</span> </div>
<div class="line"><a id="l03423" name="l03423"></a><span class="lineno"> 3423</span>    <span class="keywordtype">int</span> ch = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Geiger counter:&quot;</span> ), {</div>
<div class="line"><a id="l03424" name="l03424"></a><span class="lineno"> 3424</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Scan yourself or other person&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Scan the ground&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Turn continuous scan on&quot;</span> )</div>
<div class="line"><a id="l03425" name="l03425"></a><span class="lineno"> 3425</span>    } );</div>
<div class="line"><a id="l03426" name="l03426"></a><span class="lineno"> 3426</span>    <span class="keywordflow">switch</span>( ch ) {</div>
<div class="line"><a id="l03427" name="l03427"></a><span class="lineno"> 3427</span>        <span class="keywordflow">case</span> 0: {</div>
<div class="line"><a id="l03428" name="l03428"></a><span class="lineno"> 3428</span>            <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = [&amp;]( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l03429" name="l03429"></a><span class="lineno"> 3429</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classnpc.html">npc</a>&gt;( pnt ) != <span class="keyword">nullptr</span> || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classplayer.html">player</a>&gt;( pnt ) != <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l03430" name="l03430"></a><span class="lineno"> 3430</span>            };</div>
<div class="line"><a id="l03431" name="l03431"></a><span class="lineno"> 3431</span> </div>
<div class="line"><a id="l03432" name="l03432"></a><span class="lineno"> 3432</span>            <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Scan whom?&quot;</span> ),</div>
<div class="line"><a id="l03433" name="l03433"></a><span class="lineno"> 3433</span>                                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is no one to scan nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l03434" name="l03434"></a><span class="lineno"> 3434</span>            <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l03435" name="l03435"></a><span class="lineno"> 3435</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03436" name="l03436"></a><span class="lineno"> 3436</span>            }</div>
<div class="line"><a id="l03437" name="l03437"></a><span class="lineno"> 3437</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l03438" name="l03438"></a><span class="lineno"> 3438</span>            <span class="keywordflow">if</span>( pnt == <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) {</div>
<div class="line"><a id="l03439" name="l03439"></a><span class="lineno"> 3439</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your radiation level: %d mSv (%d mSv from items)&quot;</span> ), p-&gt;<a class="code hl_function" href="classCharacter.html#aa81a4b0db6f2387bfc02706a6b7a678e">get_rad</a>(),</div>
<div class="line"><a id="l03440" name="l03440"></a><span class="lineno"> 3440</span>                                      p-&gt;<a class="code hl_function" href="classCharacter.html#abc25d1c7ac31566f6e087635df3cd7f1">leak_level</a>( <span class="stringliteral">&quot;RADIOACTIVE&quot;</span> ) );</div>
<div class="line"><a id="l03441" name="l03441"></a><span class="lineno"> 3441</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03442" name="l03442"></a><span class="lineno"> 3442</span>            }</div>
<div class="line"><a id="l03443" name="l03443"></a><span class="lineno"> 3443</span>            <span class="keywordflow">if</span>( <a class="code hl_class" href="classnpc.html">npc</a> *<span class="keyword">const</span> person_ = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classnpc.html">npc</a>&gt;( pnt ) ) {</div>
<div class="line"><a id="l03444" name="l03444"></a><span class="lineno"> 3444</span>                <a class="code hl_class" href="classnpc.html">npc</a> &amp;person = *person_;</div>
<div class="line"><a id="l03445" name="l03445"></a><span class="lineno"> 3445</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s&#39;s radiation level: %d mSv (%d mSv from items)&quot;</span> ),</div>
<div class="line"><a id="l03446" name="l03446"></a><span class="lineno"> 3446</span>                                      person.<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>, person.<a class="code hl_function" href="classCharacter.html#aa81a4b0db6f2387bfc02706a6b7a678e">get_rad</a>(),</div>
<div class="line"><a id="l03447" name="l03447"></a><span class="lineno"> 3447</span>                                      person.<a class="code hl_function" href="classCharacter.html#abc25d1c7ac31566f6e087635df3cd7f1">leak_level</a>( <span class="stringliteral">&quot;RADIOACTIVE&quot;</span> ) );</div>
<div class="line"><a id="l03448" name="l03448"></a><span class="lineno"> 3448</span>            }</div>
<div class="line"><a id="l03449" name="l03449"></a><span class="lineno"> 3449</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03450" name="l03450"></a><span class="lineno"> 3450</span>        }</div>
<div class="line"><a id="l03451" name="l03451"></a><span class="lineno"> 3451</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l03452" name="l03452"></a><span class="lineno"> 3452</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The ground&#39;s radiation level: %d mSv/h&quot;</span> ),</div>
<div class="line"><a id="l03453" name="l03453"></a><span class="lineno"> 3453</span>                                  <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.get_radiation( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) );</div>
<div class="line"><a id="l03454" name="l03454"></a><span class="lineno"> 3454</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03455" name="l03455"></a><span class="lineno"> 3455</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l03456" name="l03456"></a><span class="lineno"> 3456</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The geiger counter&#39;s scan LED turns on.&quot;</span> ) );</div>
<div class="line"><a id="l03457" name="l03457"></a><span class="lineno"> 3457</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a8dc36a92349db80ee1b3fab6a0fd785a">itype_geiger_on</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03458" name="l03458"></a><span class="lineno"> 3458</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03459" name="l03459"></a><span class="lineno"> 3459</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l03460" name="l03460"></a><span class="lineno"> 3460</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03461" name="l03461"></a><span class="lineno"> 3461</span>    }</div>
<div class="line"><a id="l03462" name="l03462"></a><span class="lineno"> 3462</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -100 );</div>
<div class="line"><a id="l03463" name="l03463"></a><span class="lineno"> 3463</span> </div>
<div class="line"><a id="l03464" name="l03464"></a><span class="lineno"> 3464</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03465" name="l03465"></a><span class="lineno"> 3465</span>}</div>
<div class="ttc" id="aclassCharacter_html_a6592c35167738421f3e04ca8808d37db"><div class="ttname"><a href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">Character::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01568">character.h:1568</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa81a4b0db6f2387bfc02706a6b7a678e"><div class="ttname"><a href="classCharacter.html#aa81a4b0db6f2387bfc02706a6b7a678e">Character::get_rad</a></div><div class="ttdeci">int get_rad() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07157">character.cpp:7157</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab0ad8a1c48785fa554d5b2f662248697"><div class="ttname"><a href="classCharacter.html#ab0ad8a1c48785fa554d5b2f662248697">Character::can_hear</a></div><div class="ttdeci">bool can_hear(const tripoint &amp;source, int volume) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10231">character.cpp:10231</a></div></div>
<div class="ttc" id="aclassCharacter_html_abc25d1c7ac31566f6e087635df3cd7f1"><div class="ttname"><a href="classCharacter.html#abc25d1c7ac31566f6e087635df3cd7f1">Character::leak_level</a></div><div class="ttdeci">int leak_level(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="suffer_8cpp_source.html#l01968">suffer.cpp:1968</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a79148b0d71cec627a14aff135db27398"><div class="ttname"><a href="iuse_8cpp.html#a79148b0d71cec627a14aff135db27398">itype_geiger_off</a></div><div class="ttdeci">static const itype_id itype_geiger_off(&quot;geiger_off&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a8dc36a92349db80ee1b3fab6a0fd785a"><div class="ttname"><a href="iuse_8cpp.html#a8dc36a92349db80ee1b3fab6a0fd785a">itype_geiger_on</a></div><div class="ttdeci">static const itype_id itype_geiger_on(&quot;geiger_on&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="character_8cpp_source.html#l10231">Character::can_hear()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l07157">Character::get_rad()</a>, <a class="el" href="iuse_8cpp.html#a79148b0d71cec627a14aff135db27398">itype_geiger_off</a>, <a class="el" href="iuse_8cpp.html#a8dc36a92349db80ee1b3fab6a0fd785a">itype_geiger_on</a>, <a class="el" href="suffer_8cpp_source.html#l01968">Character::leak_level()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a2060aa4647487f823f8e42e88fc214ea" name="a2060aa4647487f823f8e42e88fc214ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2060aa4647487f823f8e42e88fc214ea">&#9670;&nbsp;</a></span>granade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::granade </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03560">3560</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03561" name="l03561"></a><span class="lineno"> 3561</span>{</div>
<div class="line"><a id="l03562" name="l03562"></a><span class="lineno"> 3562</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pull the pin on the Granade.&quot;</span> ) );</div>
<div class="line"><a id="l03563" name="l03563"></a><span class="lineno"> 3563</span>    it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#afa366cb17b39a44d0149e72225cdecd5">itype_granade_act</a> );</div>
<div class="line"><a id="l03564" name="l03564"></a><span class="lineno"> 3564</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 5;</div>
<div class="line"><a id="l03565" name="l03565"></a><span class="lineno"> 3565</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03566" name="l03566"></a><span class="lineno"> 3566</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03567" name="l03567"></a><span class="lineno"> 3567</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_afa366cb17b39a44d0149e72225cdecd5"><div class="ttname"><a href="iuse_8cpp.html#afa366cb17b39a44d0149e72225cdecd5">itype_granade_act</a></div><div class="ttdeci">static const itype_id itype_granade_act(&quot;granade_act&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="iuse_8cpp.html#afa366cb17b39a44d0149e72225cdecd5">itype_granade_act</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a4945736059f06b41ffce6c4070f8f5e1" name="a4945736059f06b41ffce6c4070f8f5e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4945736059f06b41ffce6c4070f8f5e1">&#9670;&nbsp;</a></span>granade_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::granade_act </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Maximum Strength increases possible granade str buff for NPCs Maximum Dexterity increases possible granade dex buff for NPCs Maximum Intelligence increases possible granade int buff for NPCs Maximum Perception increases possible granade per buff for NPCs Maximum Strength increases possible granade str buff Maximum Dexterity increases possible granade dex buff Maximum Intelligence increases possible granade int buff Maximum Perception increases possible granade per buff Maximum Strength increases possible granade str debuff for NPCs (NEGATIVE) Maximum Dexterity increases possible granade dex debuff for NPCs (NEGATIVE) Maximum Intelligence increases possible granade int debuff for NPCs (NEGATIVE) Maximum Perception increases possible granade per debuff for NPCs (NEGATIVE) Maximum Strength increases possible granade str debuff (NEGATIVE) Maximum Dexterity increases possible granade dex debuff (NEGATIVE) Maximum Intelligence increases possible granade int debuff (NEGATIVE) Maximum Perception increases possible granade per debuff (NEGATIVE) 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03569">3569</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03570" name="l03570"></a><span class="lineno"> 3570</span>{</div>
<div class="line"><a id="l03571" name="l03571"></a><span class="lineno"> 3571</span>    <span class="keywordflow">if</span>( pos.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> == -999 || pos.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> == -999 ) {</div>
<div class="line"><a id="l03572" name="l03572"></a><span class="lineno"> 3572</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03573" name="l03573"></a><span class="lineno"> 3573</span>    }</div>
<div class="line"><a id="l03574" name="l03574"></a><span class="lineno"> 3574</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Simple timer effects</span></div>
<div class="line"><a id="l03575" name="l03575"></a><span class="lineno"> 3575</span>        <span class="comment">// Vol 0 = only heard if you hold it</span></div>
<div class="line"><a id="l03576" name="l03576"></a><span class="lineno"> 3576</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 0, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Merged!&quot;</span> ),</div>
<div class="line"><a id="l03577" name="l03577"></a><span class="lineno"> 3577</span>                       <span class="keyword">true</span>, <span class="stringliteral">&quot;speech&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l03578" name="l03578"></a><span class="lineno"> 3578</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a id="l03579" name="l03579"></a><span class="lineno"> 3579</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ve already pulled the %s&#39;s pin, try throwing it instead.&quot;</span> ),</div>
<div class="line"><a id="l03580" name="l03580"></a><span class="lineno"> 3580</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03581" name="l03581"></a><span class="lineno"> 3581</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03582" name="l03582"></a><span class="lineno"> 3582</span>    } <span class="keywordflow">else</span> { <span class="comment">// When that timer runs down...</span></div>
<div class="line"><a id="l03583" name="l03583"></a><span class="lineno"> 3583</span>        <span class="keywordtype">int</span> explosion_radius = 3;</div>
<div class="line"><a id="l03584" name="l03584"></a><span class="lineno"> 3584</span>        <span class="keywordtype">int</span> effect_roll = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 5 );</div>
<div class="line"><a id="l03585" name="l03585"></a><span class="lineno"> 3585</span>        <span class="keyword">auto</span> buff_stat = [&amp;]( <span class="keywordtype">int</span> &amp;current_stat, <span class="keywordtype">int</span> modify_by ) {</div>
<div class="line"><a id="l03586" name="l03586"></a><span class="lineno"> 3586</span>            <span class="keyword">auto</span> modified_stat = current_stat + modify_by;</div>
<div class="line"><a id="l03587" name="l03587"></a><span class="lineno"> 3587</span>            current_stat = std::max( current_stat, std::min( 15, modified_stat ) );</div>
<div class="line"><a id="l03588" name="l03588"></a><span class="lineno"> 3588</span>        };</div>
<div class="line"><a id="l03589" name="l03589"></a><span class="lineno"> 3589</span>        <span class="keywordflow">switch</span>( effect_roll ) {</div>
<div class="line"><a id="l03590" name="l03590"></a><span class="lineno"> 3590</span>            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l03591" name="l03591"></a><span class="lineno"> 3591</span>                <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 100, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;BUGFIXES!&quot;</span> ),</div>
<div class="line"><a id="l03592" name="l03592"></a><span class="lineno"> 3592</span>                               <span class="keyword">true</span>, <span class="stringliteral">&quot;speech&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l03593" name="l03593"></a><span class="lineno"> 3593</span>                <a class="code hl_function" href="namespaceexplosion__handler.html#ad08a9ecd9e6a9f043598c0920882d0a3">explosion_handler::draw_explosion</a>( pos, explosion_radius, <a class="code hl_define" href="color_8h.html#a894265dad49331c44392826fc52b848f">c_light_cyan</a>, <span class="stringliteral">&quot;explosion&quot;</span> );</div>
<div class="line"><a id="l03594" name="l03594"></a><span class="lineno"> 3594</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( pos, explosion_radius ) ) {</div>
<div class="line"><a id="l03595" name="l03595"></a><span class="lineno"> 3595</span>                    <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest, true );</div>
<div class="line"><a id="l03596" name="l03596"></a><span class="lineno"> 3596</span>                    <span class="keywordflow">if</span>( mon &amp;&amp; ( mon-&gt;<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="iuse_8cpp.html#a8c7cbf21cfb7caaf9cc9d45150684d29">INSECT</a> ) || mon-&gt;<a class="code hl_function" href="classmonster.html#a70c250ac59c7d91b374dfa5d7b8da66c">is_hallucination</a>() ) ) {</div>
<div class="line"><a id="l03597" name="l03597"></a><span class="lineno"> 3597</span>                        mon-&gt;<a class="code hl_function" href="classmonster.html#aee322ddbd0d998f61aa928c4392396e8">die_in_explosion</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l03598" name="l03598"></a><span class="lineno"> 3598</span>                    }</div>
<div class="line"><a id="l03599" name="l03599"></a><span class="lineno"> 3599</span>                }</div>
<div class="line"><a id="l03600" name="l03600"></a><span class="lineno"> 3600</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03601" name="l03601"></a><span class="lineno"> 3601</span> </div>
<div class="line"><a id="l03602" name="l03602"></a><span class="lineno"> 3602</span>            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l03603" name="l03603"></a><span class="lineno"> 3603</span>                <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 100, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;BUFFS!&quot;</span> ),</div>
<div class="line"><a id="l03604" name="l03604"></a><span class="lineno"> 3604</span>                               <span class="keyword">true</span>, <span class="stringliteral">&quot;speech&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l03605" name="l03605"></a><span class="lineno"> 3605</span>                <a class="code hl_function" href="namespaceexplosion__handler.html#ad08a9ecd9e6a9f043598c0920882d0a3">explosion_handler::draw_explosion</a>( pos, explosion_radius, <a class="code hl_define" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>, <span class="stringliteral">&quot;explosion&quot;</span> );</div>
<div class="line"><a id="l03606" name="l03606"></a><span class="lineno"> 3606</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( pos, explosion_radius ) ) {</div>
<div class="line"><a id="l03607" name="l03607"></a><span class="lineno"> 3607</span>                    <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon_ptr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest ) ) {</div>
<div class="line"><a id="l03608" name="l03608"></a><span class="lineno"> 3608</span>                        <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter = *mon_ptr;</div>
<div class="line"><a id="l03609" name="l03609"></a><span class="lineno"> 3609</span>                        critter.<a class="code hl_function" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>(</div>
<div class="line"><a id="l03610" name="l03610"></a><span class="lineno"> 3610</span>                            critter.<a class="code hl_function" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() * <a class="code hl_function" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 1.1, 2.0 ) );</div>
<div class="line"><a id="l03611" name="l03611"></a><span class="lineno"> 3611</span>                        critter.<a class="code hl_function" href="classmonster.html#a98c421c82c34706735f13afe25ea7f1f">set_hp</a>( critter.<a class="code hl_function" href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">get_hp</a>() * <a class="code hl_function" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 1.1, 2.0 ) );</div>
<div class="line"><a id="l03612" name="l03612"></a><span class="lineno"> 3612</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_class" href="classnpc.html">npc</a> *<span class="keyword">const</span> person = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classnpc.html">npc</a>&gt;( dest ) ) {<span class="comment"></span></div>
<div class="line"><a id="l03613" name="l03613"></a><span class="lineno"> 3613</span><span class="comment">                        /** @EFFECT_STR_MAX increases possible granade str buff for NPCs */</span></div>
<div class="line"><a id="l03614" name="l03614"></a><span class="lineno"> 3614</span>                        buff_stat( person-&gt;str_max, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, person-&gt;str_max / 2 ) );<span class="comment"></span></div>
<div class="line"><a id="l03615" name="l03615"></a><span class="lineno"> 3615</span><span class="comment">                        /** @EFFECT_DEX_MAX increases possible granade dex buff for NPCs */</span></div>
<div class="line"><a id="l03616" name="l03616"></a><span class="lineno"> 3616</span>                        buff_stat( person-&gt;dex_max, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, person-&gt;dex_max / 2 ) );<span class="comment"></span></div>
<div class="line"><a id="l03617" name="l03617"></a><span class="lineno"> 3617</span><span class="comment">                        /** @EFFECT_INT_MAX increases possible granade int buff for NPCs */</span></div>
<div class="line"><a id="l03618" name="l03618"></a><span class="lineno"> 3618</span>                        buff_stat( person-&gt;int_max, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, person-&gt;int_max / 2 ) );<span class="comment"></span></div>
<div class="line"><a id="l03619" name="l03619"></a><span class="lineno"> 3619</span><span class="comment">                        /** @EFFECT_PER_MAX increases possible granade per buff for NPCs */</span></div>
<div class="line"><a id="l03620" name="l03620"></a><span class="lineno"> 3620</span>                        buff_stat( person-&gt;per_max, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, person-&gt;per_max / 2 ) );</div>
<div class="line"><a id="l03621" name="l03621"></a><span class="lineno"> 3621</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() == dest ) {<span class="comment"></span></div>
<div class="line"><a id="l03622" name="l03622"></a><span class="lineno"> 3622</span><span class="comment">                        /** @EFFECT_STR_MAX increases possible granade str buff */</span></div>
<div class="line"><a id="l03623" name="l03623"></a><span class="lineno"> 3623</span>                        buff_stat( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.str_max, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.str_max / 2 ) );<span class="comment"></span></div>
<div class="line"><a id="l03624" name="l03624"></a><span class="lineno"> 3624</span><span class="comment">                        /** @EFFECT_DEX_MAX increases possible granade dex buff */</span></div>
<div class="line"><a id="l03625" name="l03625"></a><span class="lineno"> 3625</span>                        buff_stat( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.dex_max, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.dex_max / 2 ) );<span class="comment"></span></div>
<div class="line"><a id="l03626" name="l03626"></a><span class="lineno"> 3626</span><span class="comment">                        /** @EFFECT_INT_MAX increases possible granade int buff */</span></div>
<div class="line"><a id="l03627" name="l03627"></a><span class="lineno"> 3627</span>                        buff_stat( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.int_max, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.int_max / 2 ) );<span class="comment"></span></div>
<div class="line"><a id="l03628" name="l03628"></a><span class="lineno"> 3628</span><span class="comment">                        /** @EFFECT_PER_MAX increases possible granade per buff */</span></div>
<div class="line"><a id="l03629" name="l03629"></a><span class="lineno"> 3629</span>                        buff_stat( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.per_max, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.per_max / 2 ) );</div>
<div class="line"><a id="l03630" name="l03630"></a><span class="lineno"> 3630</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.recalc_hp();</div>
<div class="line"><a id="l03631" name="l03631"></a><span class="lineno"> 3631</span>                        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;bp : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_all_body_parts() ) {</div>
<div class="line"><a id="l03632" name="l03632"></a><span class="lineno"> 3632</span>                            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.set_part_hp_cur( bp, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_part_hp_cur( bp ) * <a class="code hl_function" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 1, 1.2 ) );</div>
<div class="line"><a id="l03633" name="l03633"></a><span class="lineno"> 3633</span>                            <span class="keyword">const</span> <span class="keywordtype">int</span> hp_max = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_part_hp_max( bp );</div>
<div class="line"><a id="l03634" name="l03634"></a><span class="lineno"> 3634</span>                            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_part_hp_cur( bp ) &gt; hp_max ) {</div>
<div class="line"><a id="l03635" name="l03635"></a><span class="lineno"> 3635</span>                                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.set_part_hp_cur( bp, hp_max );</div>
<div class="line"><a id="l03636" name="l03636"></a><span class="lineno"> 3636</span>                            }</div>
<div class="line"><a id="l03637" name="l03637"></a><span class="lineno"> 3637</span>                        }</div>
<div class="line"><a id="l03638" name="l03638"></a><span class="lineno"> 3638</span>                    }</div>
<div class="line"><a id="l03639" name="l03639"></a><span class="lineno"> 3639</span>                }</div>
<div class="line"><a id="l03640" name="l03640"></a><span class="lineno"> 3640</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03641" name="l03641"></a><span class="lineno"> 3641</span> </div>
<div class="line"><a id="l03642" name="l03642"></a><span class="lineno"> 3642</span>            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l03643" name="l03643"></a><span class="lineno"> 3643</span>                <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 100, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;NERFS!&quot;</span> ),</div>
<div class="line"><a id="l03644" name="l03644"></a><span class="lineno"> 3644</span>                               <span class="keyword">true</span>, <span class="stringliteral">&quot;speech&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l03645" name="l03645"></a><span class="lineno"> 3645</span>                <a class="code hl_function" href="namespaceexplosion__handler.html#ad08a9ecd9e6a9f043598c0920882d0a3">explosion_handler::draw_explosion</a>( pos, explosion_radius, <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <span class="stringliteral">&quot;explosion&quot;</span> );</div>
<div class="line"><a id="l03646" name="l03646"></a><span class="lineno"> 3646</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( pos, explosion_radius ) ) {</div>
<div class="line"><a id="l03647" name="l03647"></a><span class="lineno"> 3647</span>                    <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon_ptr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest ) ) {</div>
<div class="line"><a id="l03648" name="l03648"></a><span class="lineno"> 3648</span>                        <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter = *mon_ptr;</div>
<div class="line"><a id="l03649" name="l03649"></a><span class="lineno"> 3649</span>                        critter.<a class="code hl_function" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>(</div>
<div class="line"><a id="l03650" name="l03650"></a><span class="lineno"> 3650</span>                            <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, critter.<a class="code hl_function" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() ) );</div>
<div class="line"><a id="l03651" name="l03651"></a><span class="lineno"> 3651</span>                        critter.<a class="code hl_function" href="classmonster.html#a98c421c82c34706735f13afe25ea7f1f">set_hp</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, critter.<a class="code hl_function" href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">get_hp</a>() ) );</div>
<div class="line"><a id="l03652" name="l03652"></a><span class="lineno"> 3652</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_class" href="classnpc.html">npc</a> *<span class="keyword">const</span> person = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classnpc.html">npc</a>&gt;( dest ) ) {<span class="comment"></span></div>
<div class="line"><a id="l03653" name="l03653"></a><span class="lineno"> 3653</span><span class="comment">                        /** @EFFECT_STR_MAX increases possible granade str debuff for NPCs (NEGATIVE) */</span></div>
<div class="line"><a id="l03654" name="l03654"></a><span class="lineno"> 3654</span>                        person-&gt;str_max -= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, person-&gt;str_max / 2 );<span class="comment"></span></div>
<div class="line"><a id="l03655" name="l03655"></a><span class="lineno"> 3655</span><span class="comment">                        /** @EFFECT_DEX_MAX increases possible granade dex debuff for NPCs (NEGATIVE) */</span></div>
<div class="line"><a id="l03656" name="l03656"></a><span class="lineno"> 3656</span>                        person-&gt;dex_max -= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, person-&gt;dex_max / 2 );<span class="comment"></span></div>
<div class="line"><a id="l03657" name="l03657"></a><span class="lineno"> 3657</span><span class="comment">                        /** @EFFECT_INT_MAX increases possible granade int debuff for NPCs (NEGATIVE) */</span></div>
<div class="line"><a id="l03658" name="l03658"></a><span class="lineno"> 3658</span>                        person-&gt;int_max -= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, person-&gt;int_max / 2 );<span class="comment"></span></div>
<div class="line"><a id="l03659" name="l03659"></a><span class="lineno"> 3659</span><span class="comment">                        /** @EFFECT_PER_MAX increases possible granade per debuff for NPCs (NEGATIVE) */</span></div>
<div class="line"><a id="l03660" name="l03660"></a><span class="lineno"> 3660</span>                        person-&gt;per_max -= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, person-&gt;per_max / 2 );</div>
<div class="line"><a id="l03661" name="l03661"></a><span class="lineno"> 3661</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() == dest ) {<span class="comment"></span></div>
<div class="line"><a id="l03662" name="l03662"></a><span class="lineno"> 3662</span><span class="comment">                        /** @EFFECT_STR_MAX increases possible granade str debuff (NEGATIVE) */</span></div>
<div class="line"><a id="l03663" name="l03663"></a><span class="lineno"> 3663</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.str_max -= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.str_max / 2 );<span class="comment"></span></div>
<div class="line"><a id="l03664" name="l03664"></a><span class="lineno"> 3664</span><span class="comment">                        /** @EFFECT_DEX_MAX increases possible granade dex debuff (NEGATIVE) */</span></div>
<div class="line"><a id="l03665" name="l03665"></a><span class="lineno"> 3665</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.dex_max -= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.dex_max / 2 );<span class="comment"></span></div>
<div class="line"><a id="l03666" name="l03666"></a><span class="lineno"> 3666</span><span class="comment">                        /** @EFFECT_INT_MAX increases possible granade int debuff (NEGATIVE) */</span></div>
<div class="line"><a id="l03667" name="l03667"></a><span class="lineno"> 3667</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.int_max -= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.int_max / 2 );<span class="comment"></span></div>
<div class="line"><a id="l03668" name="l03668"></a><span class="lineno"> 3668</span><span class="comment">                        /** @EFFECT_PER_MAX increases possible granade per debuff (NEGATIVE) */</span></div>
<div class="line"><a id="l03669" name="l03669"></a><span class="lineno"> 3669</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.per_max -= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.per_max / 2 );</div>
<div class="line"><a id="l03670" name="l03670"></a><span class="lineno"> 3670</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.recalc_hp();</div>
<div class="line"><a id="l03671" name="l03671"></a><span class="lineno"> 3671</span>                        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;bp : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_all_body_parts() ) {</div>
<div class="line"><a id="l03672" name="l03672"></a><span class="lineno"> 3672</span>                            <span class="keyword">const</span> <span class="keywordtype">int</span> hp_cur = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_part_hp_cur( bp );</div>
<div class="line"><a id="l03673" name="l03673"></a><span class="lineno"> 3673</span>                            <span class="keywordflow">if</span>( hp_cur &gt; 0 ) {</div>
<div class="line"><a id="l03674" name="l03674"></a><span class="lineno"> 3674</span>                                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.set_part_hp_cur( bp, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, hp_cur ) );</div>
<div class="line"><a id="l03675" name="l03675"></a><span class="lineno"> 3675</span>                            }</div>
<div class="line"><a id="l03676" name="l03676"></a><span class="lineno"> 3676</span>                        }</div>
<div class="line"><a id="l03677" name="l03677"></a><span class="lineno"> 3677</span>                    }</div>
<div class="line"><a id="l03678" name="l03678"></a><span class="lineno"> 3678</span>                }</div>
<div class="line"><a id="l03679" name="l03679"></a><span class="lineno"> 3679</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03680" name="l03680"></a><span class="lineno"> 3680</span> </div>
<div class="line"><a id="l03681" name="l03681"></a><span class="lineno"> 3681</span>            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l03682" name="l03682"></a><span class="lineno"> 3682</span>                <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 100, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;REVERTS!&quot;</span> ),</div>
<div class="line"><a id="l03683" name="l03683"></a><span class="lineno"> 3683</span>                               <span class="keyword">true</span>, <span class="stringliteral">&quot;speech&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l03684" name="l03684"></a><span class="lineno"> 3684</span>                <a class="code hl_function" href="namespaceexplosion__handler.html#ad08a9ecd9e6a9f043598c0920882d0a3">explosion_handler::draw_explosion</a>( pos, explosion_radius, <a class="code hl_define" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a>, <span class="stringliteral">&quot;explosion&quot;</span> );</div>
<div class="line"><a id="l03685" name="l03685"></a><span class="lineno"> 3685</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( pos, explosion_radius ) ) {</div>
<div class="line"><a id="l03686" name="l03686"></a><span class="lineno"> 3686</span>                    <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon_ptr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest ) ) {</div>
<div class="line"><a id="l03687" name="l03687"></a><span class="lineno"> 3687</span>                        <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter = *mon_ptr;</div>
<div class="line"><a id="l03688" name="l03688"></a><span class="lineno"> 3688</span>                        critter.<a class="code hl_function" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a>( critter.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">speed</a> );</div>
<div class="line"><a id="l03689" name="l03689"></a><span class="lineno"> 3689</span>                        critter.<a class="code hl_function" href="classmonster.html#a98c421c82c34706735f13afe25ea7f1f">set_hp</a>( critter.<a class="code hl_function" href="classmonster.html#a551f4a380282f8ec082c74f410c397de">get_hp_max</a>() );</div>
<div class="line"><a id="l03690" name="l03690"></a><span class="lineno"> 3690</span>                        critter.<a class="code hl_function" href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe">clear_effects</a>();</div>
<div class="line"><a id="l03691" name="l03691"></a><span class="lineno"> 3691</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_class" href="classnpc.html">npc</a> *<span class="keyword">const</span> person = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classnpc.html">npc</a>&gt;( dest ) ) {</div>
<div class="line"><a id="l03692" name="l03692"></a><span class="lineno"> 3692</span>                        person-&gt;environmental_revert_effect();</div>
<div class="line"><a id="l03693" name="l03693"></a><span class="lineno"> 3693</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() == dest ) {</div>
<div class="line"><a id="l03694" name="l03694"></a><span class="lineno"> 3694</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.environmental_revert_effect();</div>
<div class="line"><a id="l03695" name="l03695"></a><span class="lineno"> 3695</span>                        <a class="code hl_function" href="iuse_8cpp.html#ab4ff5c243c9258575756fb43984608ad">do_purify</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l03696" name="l03696"></a><span class="lineno"> 3696</span>                    }</div>
<div class="line"><a id="l03697" name="l03697"></a><span class="lineno"> 3697</span>                }</div>
<div class="line"><a id="l03698" name="l03698"></a><span class="lineno"> 3698</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03699" name="l03699"></a><span class="lineno"> 3699</span>            <span class="keywordflow">case</span> 5:</div>
<div class="line"><a id="l03700" name="l03700"></a><span class="lineno"> 3700</span>                <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 100, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;BEES!&quot;</span> ),</div>
<div class="line"><a id="l03701" name="l03701"></a><span class="lineno"> 3701</span>                               <span class="keyword">true</span>, <span class="stringliteral">&quot;speech&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l03702" name="l03702"></a><span class="lineno"> 3702</span>                <a class="code hl_function" href="namespaceexplosion__handler.html#ad08a9ecd9e6a9f043598c0920882d0a3">explosion_handler::draw_explosion</a>( pos, explosion_radius, <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, <span class="stringliteral">&quot;explosion&quot;</span> );</div>
<div class="line"><a id="l03703" name="l03703"></a><span class="lineno"> 3703</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( pos, explosion_radius ) ) {</div>
<div class="line"><a id="l03704" name="l03704"></a><span class="lineno"> 3704</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at( dest ) ) {</div>
<div class="line"><a id="l03705" name="l03705"></a><span class="lineno"> 3705</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( dest, <a class="code hl_variable" href="field__type_8cpp.html#a5d5f15ed25822dd84422bced5beef691">fd_bees</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 3 ) );</div>
<div class="line"><a id="l03706" name="l03706"></a><span class="lineno"> 3706</span>                    }</div>
<div class="line"><a id="l03707" name="l03707"></a><span class="lineno"> 3707</span>                }</div>
<div class="line"><a id="l03708" name="l03708"></a><span class="lineno"> 3708</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03709" name="l03709"></a><span class="lineno"> 3709</span>        }</div>
<div class="line"><a id="l03710" name="l03710"></a><span class="lineno"> 3710</span>    }</div>
<div class="line"><a id="l03711" name="l03711"></a><span class="lineno"> 3711</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03712" name="l03712"></a><span class="lineno"> 3712</span>}</div>
<div class="ttc" id="aclassCreature_html_ade25d295e89504f92aff453b05cd2bbe"><div class="ttname"><a href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe">Creature::clear_effects</a></div><div class="ttdeci">void clear_effects()</div><div class="ttdoc">Remove all effects.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01122">creature.cpp:1122</a></div></div>
<div class="ttc" id="aclassmonster_html_a551f4a380282f8ec082c74f410c397de"><div class="ttname"><a href="classmonster.html#a551f4a380282f8ec082c74f410c397de">monster::get_hp_max</a></div><div class="ttdeci">int get_hp_max(const bodypart_id &amp;) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02884">monster.cpp:2884</a></div></div>
<div class="ttc" id="aclassmonster_html_aee322ddbd0d998f61aa928c4392396e8"><div class="ttname"><a href="classmonster.html#aee322ddbd0d998f61aa928c4392396e8">monster::die_in_explosion</a></div><div class="ttdeci">void die_in_explosion(Creature *source)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01650">monster.cpp:1650</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00022">color.h:22</a></div></div>
<div class="ttc" id="acolor_8h_html_a6c870a877c442090edead1e229b3953d"><div class="ttname"><a href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a></div><div class="ttdeci">#define c_pink</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00031">color.h:31</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00032">color.h:32</a></div></div>
<div class="ttc" id="acolor_8h_html_a894265dad49331c44392826fc52b848f"><div class="ttname"><a href="color_8h.html#a894265dad49331c44392826fc52b848f">c_light_cyan</a></div><div class="ttdeci">#define c_light_cyan</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00030">color.h:30</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00021">color.h:21</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a5d5f15ed25822dd84422bced5beef691"><div class="ttname"><a href="field__type_8cpp.html#a5d5f15ed25822dd84422bced5beef691">fd_bees</a></div><div class="ttdeci">field_type_id fd_bees</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00371">field_type.cpp:371</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a8c7cbf21cfb7caaf9cc9d45150684d29"><div class="ttname"><a href="iuse_8cpp.html#a8c7cbf21cfb7caaf9cc9d45150684d29">INSECT</a></div><div class="ttdeci">static const species_id INSECT(&quot;INSECT&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ab4ff5c243c9258575756fb43984608ad"><div class="ttname"><a href="iuse_8cpp.html#ab4ff5c243c9258575756fb43984608ad">do_purify</a></div><div class="ttdeci">static void do_purify(player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01107">iuse.cpp:1107</a></div></div>
<div class="ttc" id="anamespaceexplosion__handler_html_ad08a9ecd9e6a9f043598c0920882d0a3"><div class="ttname"><a href="namespaceexplosion__handler.html#ad08a9ecd9e6a9f043598c0920882d0a3">explosion_handler::draw_explosion</a></div><div class="ttdeci">void draw_explosion(const tripoint &amp;p, int radius, const nc_color &amp;col, const std::string &amp;exp_name)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00294">animation.cpp:294</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a></div><div class="ttdeci">@ electronic_speech</div></div>
<div class="ttc" id="arng_8cpp_html_a0c88381d6334a2fbaa726c53f5cf9bb9"><div class="ttname"><a href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a></div><div class="ttdeci">double rng_float(double lo, double hi)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00028">rng.cpp:28</a></div></div>
<div class="ttc" id="astructmtype_html_addfa6852e581c8cebbd1bbf9c4ebbd9a"><div class="ttname"><a href="structmtype.html#addfa6852e581c8cebbd1bbf9c4ebbd9a">mtype::speed</a></div><div class="ttdeci">int speed</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00268">mtype.h:268</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="color_8h_source.html#l00022">c_green</a>, <a class="el" href="color_8h_source.html#l00030">c_light_cyan</a>, <a class="el" href="color_8h_source.html#l00031">c_pink</a>, <a class="el" href="color_8h_source.html#l00021">c_red</a>, <a class="el" href="color_8h_source.html#l00032">c_yellow</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="creature_8cpp_source.html#l01122">Creature::clear_effects()</a>, <a class="el" href="monster_8cpp_source.html#l01650">monster::die_in_explosion()</a>, <a class="el" href="iuse_8cpp_source.html#l01107">do_purify()</a>, <a class="el" href="animation_8cpp_source.html#l00294">explosion_handler::draw_explosion()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::electronic_speech</a>, <a class="el" href="field__type_8cpp_source.html#l00371">fd_bees</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="monster_8cpp_source.html#l02894">monster::get_hp()</a>, <a class="el" href="monster_8cpp_source.html#l02884">monster::get_hp_max()</a>, <a class="el" href="creature_8cpp_source.html#l01668">Creature::get_speed_base()</a>, <a class="el" href="mtype_8cpp_source.html#l00122">mtype::in_species()</a>, <a class="el" href="iuse_8cpp.html#a8c7cbf21cfb7caaf9cc9d45150684d29">INSECT</a>, <a class="el" href="monster_8cpp_source.html#l02648">monster::is_hallucination()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="rng_8cpp_source.html#l00028">rng_float()</a>, <a class="el" href="monster_8cpp_source.html#l01631">monster::set_hp()</a>, <a class="el" href="creature_8cpp_source.html#l01730">Creature::set_speed_base()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="mtype_8h_source.html#l00268">mtype::speed</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="monster_8h_source.html#l00478">monster::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aead9366f186a44fcd9b0966c0d13a86a" name="aead9366f186a44fcd9b0966c0d13a86a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aead9366f186a44fcd9b0966c0d13a86a">&#9670;&nbsp;</a></span>grenade_inc_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::grenade_inc_act </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03741">3741</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03742" name="l03742"></a><span class="lineno"> 3742</span>{</div>
<div class="line"><a id="l03743" name="l03743"></a><span class="lineno"> 3743</span>    <span class="keywordflow">if</span>( pos.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> == -999 || pos.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> == -999 ) {</div>
<div class="line"><a id="l03744" name="l03744"></a><span class="lineno"> 3744</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03745" name="l03745"></a><span class="lineno"> 3745</span>    }</div>
<div class="line"><a id="l03746" name="l03746"></a><span class="lineno"> 3746</span> </div>
<div class="line"><a id="l03747" name="l03747"></a><span class="lineno"> 3747</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Simple timer effects</span></div>
<div class="line"><a id="l03748" name="l03748"></a><span class="lineno"> 3748</span>        <span class="comment">// Vol 0 = only heard if you hold it</span></div>
<div class="line"><a id="l03749" name="l03749"></a><span class="lineno"> 3749</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 0, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Tick!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;misc&quot;</span>, <span class="stringliteral">&quot;bomb_ticking&quot;</span> );</div>
<div class="line"><a id="l03750" name="l03750"></a><span class="lineno"> 3750</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a id="l03751" name="l03751"></a><span class="lineno"> 3751</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ve already released the handle, try throwing it instead.&quot;</span> ) );</div>
<div class="line"><a id="l03752" name="l03752"></a><span class="lineno"> 3752</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03753" name="l03753"></a><span class="lineno"> 3753</span>    } <span class="keywordflow">else</span> {  <span class="comment">// blow up</span></div>
<div class="line"><a id="l03754" name="l03754"></a><span class="lineno"> 3754</span>        <span class="keywordtype">int</span> num_flames = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 3, 5 );</div>
<div class="line"><a id="l03755" name="l03755"></a><span class="lineno"> 3755</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> current_flame = 0; current_flame &lt; num_flames; current_flame++ ) {</div>
<div class="line"><a id="l03756" name="l03756"></a><span class="lineno"> 3756</span>            <a class="code hl_struct" href="structtripoint.html">tripoint</a> dest( pos + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -5, 5 ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -5, 5 ) ) );</div>
<div class="line"><a id="l03757" name="l03757"></a><span class="lineno"> 3757</span>            std::vector&lt;tripoint&gt; flames = <a class="code hl_function" href="coordinates_8h.html#a4a34f7ffa4c18effba7f8239c68c8738">line_to</a>( pos, dest, 0, 0 );</div>
<div class="line"><a id="l03758" name="l03758"></a><span class="lineno"> 3758</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;<a class="code hl_function" href="namespacemattack.html#a74c5bd8b75ec90d4af94f3fc218b3eba">flame</a> : flames ) {</div>
<div class="line"><a id="l03759" name="l03759"></a><span class="lineno"> 3759</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( <a class="code hl_function" href="namespacemattack.html#a74c5bd8b75ec90d4af94f3fc218b3eba">flame</a>, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 2 ) );</div>
<div class="line"><a id="l03760" name="l03760"></a><span class="lineno"> 3760</span>            }</div>
<div class="line"><a id="l03761" name="l03761"></a><span class="lineno"> 3761</span>        }</div>
<div class="line"><a id="l03762" name="l03762"></a><span class="lineno"> 3762</span>        <a class="code hl_function" href="namespaceexplosion__handler.html#aedf90c876bd69288b266c6a60dbc91dc">explosion_handler::explosion</a>( pos, 8, 0.8, <span class="keyword">true</span> );</div>
<div class="line"><a id="l03763" name="l03763"></a><span class="lineno"> 3763</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( pos, 2 ) ) {</div>
<div class="line"><a id="l03764" name="l03764"></a><span class="lineno"> 3764</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( dest, <a class="code hl_variable" href="field__type_8cpp.html#a0740150aaa065c46121ca6a8981a2fdd">fd_incendiary</a>, 3 );</div>
<div class="line"><a id="l03765" name="l03765"></a><span class="lineno"> 3765</span>        }</div>
<div class="line"><a id="l03766" name="l03766"></a><span class="lineno"> 3766</span> </div>
<div class="line"><a id="l03767" name="l03767"></a><span class="lineno"> 3767</span>    }</div>
<div class="line"><a id="l03768" name="l03768"></a><span class="lineno"> 3768</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03769" name="l03769"></a><span class="lineno"> 3769</span>}</div>
<div class="ttc" id="afield__type_8cpp_html_a0740150aaa065c46121ca6a8981a2fdd"><div class="ttname"><a href="field__type_8cpp.html#a0740150aaa065c46121ca6a8981a2fdd">fd_incendiary</a></div><div class="ttdeci">field_type_id fd_incendiary</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00372">field_type.cpp:372</a></div></div>
<div class="ttc" id="anamespacemattack_html_a74c5bd8b75ec90d4af94f3fc218b3eba"><div class="ttname"><a href="namespacemattack.html#a74c5bd8b75ec90d4af94f3fc218b3eba">mattack::flame</a></div><div class="ttdeci">void flame(monster *z, Creature *target)</div><div class="ttdef"><b>Definition:</b> <a href="monattack_8cpp_source.html#l03658">monattack.cpp:3658</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="explosion_8cpp_source.html#l00684">explosion_handler::explosion()</a>, <a class="el" href="field__type_8cpp_source.html#l00345">fd_fire</a>, <a class="el" href="field__type_8cpp_source.html#l00372">fd_incendiary</a>, <a class="el" href="monattack_8cpp_source.html#l03658">mattack::flame()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="coordinates_8h_source.html#l00548">line_to()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a7018b6487f94b8e782bd6523f24da9da" name="a7018b6487f94b8e782bd6523f24da9da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7018b6487f94b8e782bd6523f24da9da">&#9670;&nbsp;</a></span>gun_repair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::gun_repair </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Mechanics &gt;1 allows gun repair Mechanics &gt;=8 allows accurizing ranged weapons 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05839">5839</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05840" name="l05840"></a><span class="lineno"> 5840</span>{</div>
<div class="line"><a id="l05841" name="l05841"></a><span class="lineno"> 5841</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l05842" name="l05842"></a><span class="lineno"> 5842</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05843" name="l05843"></a><span class="lineno"> 5843</span>    }</div>
<div class="line"><a id="l05844" name="l05844"></a><span class="lineno"> 5844</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l05845" name="l05845"></a><span class="lineno"> 5845</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l05846" name="l05846"></a><span class="lineno"> 5846</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05847" name="l05847"></a><span class="lineno"> 5847</span>    }</div>
<div class="line"><a id="l05848" name="l05848"></a><span class="lineno"> 5848</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l05849" name="l05849"></a><span class="lineno"> 5849</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l05850" name="l05850"></a><span class="lineno"> 5850</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05851" name="l05851"></a><span class="lineno"> 5851</span>    }<span class="comment"></span></div>
<div class="line"><a id="l05852" name="l05852"></a><span class="lineno"> 5852</span><span class="comment">    /** @EFFECT_MECHANICS &gt;1 allows gun repair */</span></div>
<div class="line"><a id="l05853" name="l05853"></a><span class="lineno"> 5853</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a> ) &lt; 2 ) {</div>
<div class="line"><a id="l05854" name="l05854"></a><span class="lineno"> 5854</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a mechanics skill of 2 to use this repair kit.&quot;</span> ) );</div>
<div class="line"><a id="l05855" name="l05855"></a><span class="lineno"> 5855</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05856" name="l05856"></a><span class="lineno"> 5856</span>    }</div>
<div class="line"><a id="l05857" name="l05857"></a><span class="lineno"> 5857</span>    <a class="code hl_class" href="classitem__location.html">item_location</a> loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a444b5ce5e2f2fef0a2856bbb88d05162">game_menus::inv::titled_menu</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, ( <span class="stringliteral">&quot;Select the firearm to repair&quot;</span> ) );</div>
<div class="line"><a id="l05858" name="l05858"></a><span class="lineno"> 5858</span>    <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l05859" name="l05859"></a><span class="lineno"> 5859</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item!&quot;</span> ) );</div>
<div class="line"><a id="l05860" name="l05860"></a><span class="lineno"> 5860</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05861" name="l05861"></a><span class="lineno"> 5861</span>    }</div>
<div class="line"><a id="l05862" name="l05862"></a><span class="lineno"> 5862</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;fix = *loc;</div>
<div class="line"><a id="l05863" name="l05863"></a><span class="lineno"> 5863</span>    <span class="keywordflow">if</span>( !fix.<a class="code hl_function" href="classitem.html#ac690c252311f4c021cb82c9487d35242">is_firearm</a>() ) {</div>
<div class="line"><a id="l05864" name="l05864"></a><span class="lineno"> 5864</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That isn&#39;t a firearm!&quot;</span> ) );</div>
<div class="line"><a id="l05865" name="l05865"></a><span class="lineno"> 5865</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05866" name="l05866"></a><span class="lineno"> 5866</span>    }</div>
<div class="line"><a id="l05867" name="l05867"></a><span class="lineno"> 5867</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_REPAIR&quot;</span> ) ) {</div>
<div class="line"><a id="l05868" name="l05868"></a><span class="lineno"> 5868</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot repair your %s.&quot;</span> ), fix.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05869" name="l05869"></a><span class="lineno"> 5869</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05870" name="l05870"></a><span class="lineno"> 5870</span>    }</div>
<div class="line"><a id="l05871" name="l05871"></a><span class="lineno"> 5871</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &lt;= fix.<a class="code hl_function" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a>() ) {</div>
<div class="line"><a id="l05872" name="l05872"></a><span class="lineno"> 5872</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot improve your %s any more this way.&quot;</span> ),</div>
<div class="line"><a id="l05873" name="l05873"></a><span class="lineno"> 5873</span>                              fix.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05874" name="l05874"></a><span class="lineno"> 5874</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05875" name="l05875"></a><span class="lineno"> 5875</span>    }</div>
<div class="line"><a id="l05876" name="l05876"></a><span class="lineno"> 5876</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &lt;= 0 &amp;&amp; p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a> ) &lt; 8 ) {</div>
<div class="line"><a id="l05877" name="l05877"></a><span class="lineno"> 5877</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is already in peak condition.&quot;</span> ), fix.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05878" name="l05878"></a><span class="lineno"> 5878</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l05879" name="l05879"></a><span class="lineno"> 5879</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;With a higher mechanics skill, you might be able to improve it.&quot;</span> ) );</div>
<div class="line"><a id="l05880" name="l05880"></a><span class="lineno"> 5880</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05881" name="l05881"></a><span class="lineno"> 5881</span>    }<span class="comment"></span></div>
<div class="line"><a id="l05882" name="l05882"></a><span class="lineno"> 5882</span><span class="comment">    /** @EFFECT_MECHANICS &gt;=8 allows accurizing ranged weapons */</span></div>
<div class="line"><a id="l05883" name="l05883"></a><span class="lineno"> 5883</span>    <span class="keyword">const</span> std::string startdurability = fix.<a class="code hl_function" href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">durability_indicator</a>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l05884" name="l05884"></a><span class="lineno"> 5884</span>    std::string resultdurability;</div>
<div class="line"><a id="l05885" name="l05885"></a><span class="lineno"> 5885</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &lt;= 0 ) {</div>
<div class="line"><a id="l05886" name="l05886"></a><span class="lineno"> 5886</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 6, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357">sounds::sound_t::activity</a>, <span class="stringliteral">&quot;crunch&quot;</span>, <span class="keyword">true</span>, <span class="stringliteral">&quot;tool&quot;</span>, <span class="stringliteral">&quot;repair_kit&quot;</span> );</div>
<div class="line"><a id="l05887" name="l05887"></a><span class="lineno"> 5887</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 20_seconds * p-&gt;<a class="code hl_function" href="classplayer.html#a679df6703c948c0fffa835885a857f42">fine_detail_vision_mod</a>() );</div>
<div class="line"><a id="l05888" name="l05888"></a><span class="lineno"> 5888</span>        p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a>, 10 );</div>
<div class="line"><a id="l05889" name="l05889"></a><span class="lineno"> 5889</span>        fix.<a class="code hl_function" href="classitem.html#a58837e07450321aa679d9f00140762bd">mod_damage</a>( -<a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a> );</div>
<div class="line"><a id="l05890" name="l05890"></a><span class="lineno"> 5890</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You accurize your %s.&quot;</span> ), fix.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( 1, <span class="keyword">false</span> ) );</div>
<div class="line"><a id="l05891" name="l05891"></a><span class="lineno"> 5891</span> </div>
<div class="line"><a id="l05892" name="l05892"></a><span class="lineno"> 5892</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a> ) {</div>
<div class="line"><a id="l05893" name="l05893"></a><span class="lineno"> 5893</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 8, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357">sounds::sound_t::activity</a>, <span class="stringliteral">&quot;crunch&quot;</span>, <span class="keyword">true</span>, <span class="stringliteral">&quot;tool&quot;</span>, <span class="stringliteral">&quot;repair_kit&quot;</span> );</div>
<div class="line"><a id="l05894" name="l05894"></a><span class="lineno"> 5894</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 10_seconds * p-&gt;<a class="code hl_function" href="classplayer.html#a679df6703c948c0fffa835885a857f42">fine_detail_vision_mod</a>() );</div>
<div class="line"><a id="l05895" name="l05895"></a><span class="lineno"> 5895</span>        p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a>, 10 );</div>
<div class="line"><a id="l05896" name="l05896"></a><span class="lineno"> 5896</span>        fix.<a class="code hl_function" href="classitem.html#a58837e07450321aa679d9f00140762bd">mod_damage</a>( -<a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a> );</div>
<div class="line"><a id="l05897" name="l05897"></a><span class="lineno"> 5897</span>        resultdurability = fix.<a class="code hl_function" href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">durability_indicator</a>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l05898" name="l05898"></a><span class="lineno"> 5898</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You repair your %s!  ( %s-&gt; %s)&quot;</span> ), fix.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( 1, <span class="keyword">false</span> ),</div>
<div class="line"><a id="l05899" name="l05899"></a><span class="lineno"> 5899</span>                              startdurability, resultdurability );</div>
<div class="line"><a id="l05900" name="l05900"></a><span class="lineno"> 5900</span> </div>
<div class="line"><a id="l05901" name="l05901"></a><span class="lineno"> 5901</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05902" name="l05902"></a><span class="lineno"> 5902</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 8, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357">sounds::sound_t::activity</a>, <span class="stringliteral">&quot;crunch&quot;</span>, <span class="keyword">true</span>, <span class="stringliteral">&quot;tool&quot;</span>, <span class="stringliteral">&quot;repair_kit&quot;</span> );</div>
<div class="line"><a id="l05903" name="l05903"></a><span class="lineno"> 5903</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 5_seconds * p-&gt;<a class="code hl_function" href="classplayer.html#a679df6703c948c0fffa835885a857f42">fine_detail_vision_mod</a>() );</div>
<div class="line"><a id="l05904" name="l05904"></a><span class="lineno"> 5904</span>        p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a>, 10 );</div>
<div class="line"><a id="l05905" name="l05905"></a><span class="lineno"> 5905</span>        fix.<a class="code hl_function" href="classitem.html#a4095bf310206d3c22ce0bb15bc7dad03">set_damage</a>( 0 );</div>
<div class="line"><a id="l05906" name="l05906"></a><span class="lineno"> 5906</span>        resultdurability = fix.<a class="code hl_function" href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">durability_indicator</a>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l05907" name="l05907"></a><span class="lineno"> 5907</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You repair your %s completely!  ( %s-&gt; %s)&quot;</span> ),</div>
<div class="line"><a id="l05908" name="l05908"></a><span class="lineno"> 5908</span>                              fix.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( 1, <span class="keyword">false</span> ), startdurability, resultdurability );</div>
<div class="line"><a id="l05909" name="l05909"></a><span class="lineno"> 5909</span>    }</div>
<div class="line"><a id="l05910" name="l05910"></a><span class="lineno"> 5910</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05911" name="l05911"></a><span class="lineno"> 5911</span>}</div>
<div class="ttc" id="aclassitem_html_a4095bf310206d3c22ce0bb15bc7dad03"><div class="ttname"><a href="classitem.html#a4095bf310206d3c22ce0bb15bc7dad03">item::set_damage</a></div><div class="ttdeci">item &amp; set_damage(int qty)</div><div class="ttdoc">Filter setting damage constrained by min_damage and max_damage.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00711">item.cpp:711</a></div></div>
<div class="ttc" id="aclassitem_html_a58837e07450321aa679d9f00140762bd"><div class="ttname"><a href="classitem.html#a58837e07450321aa679d9f00140762bd">item::mod_damage</a></div><div class="ttdeci">bool mod_damage(int qty, damage_type dt)</div><div class="ttdoc">Apply damage to const itemrained by min_damage and max_damage.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06076">item.cpp:6076</a></div></div>
<div class="ttc" id="aclassitem_html_a80ef6d13a5545c5d32af710fedf717eb"><div class="ttname"><a href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">item::durability_indicator</a></div><div class="ttdeci">std::string durability_indicator(bool include_intact=false) const</div><div class="ttdoc">Provides a prefix for the durability state of the item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06166">item.cpp:6166</a></div></div>
<div class="ttc" id="aclassitem_html_a8f94ab0bb7b77ec4157ec5af2f8493b7"><div class="ttname"><a href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">item::min_damage</a></div><div class="ttdeci">int min_damage() const</div><div class="ttdoc">Minimum amount of damage to an item (state of maximum repair)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06061">item.cpp:6061</a></div></div>
<div class="ttc" id="aclassitem_html_ac690c252311f4c021cb82c9487d35242"><div class="ttname"><a href="classitem.html#ac690c252311f4c021cb82c9487d35242">item::is_firearm</a></div><div class="ttdeci">bool is_firearm() const</div><div class="ttdoc">Does it require gunsmithing tools to repair.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06372">item.cpp:6372</a></div></div>
<div class="ttc" id="aclassitem_html_ae8a58c6fe3c80cded11d6f3ccfa548a3"><div class="ttname"><a href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">item::damage</a></div><div class="ttdeci">int damage() const</div><div class="ttdoc">How much damage has the item sustained?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00693">item.cpp:693</a></div></div>
<div class="ttc" id="aclassplayer_html_a679df6703c948c0fffa835885a857f42"><div class="ttname"><a href="classplayer.html#a679df6703c948c0fffa835885a857f42">player::fine_detail_vision_mod</a></div><div class="ttdeci">float fine_detail_vision_mod(const tripoint &amp;p=tripoint_zero) const</div><div class="ttdoc">Returns a value from 1.0 to 5.0 that acts as a multiplier for the time taken to perform tasks that re...</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03983">player.cpp:3983</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_a444b5ce5e2f2fef0a2856bbb88d05162"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#a444b5ce5e2f2fef0a2856bbb88d05162">game_menus::inv::titled_menu</a></div><div class="ttdeci">item_location titled_menu(avatar &amp;you, const std::string &amp;title, const std::string &amp;none_message=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l00272">game_inventory.cpp:272</a></div></div>
<div class="ttc" id="astructitype_html_acbc6974858332fd6933f71a304312d7f"><div class="ttname"><a href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a></div><div class="ttdeci">static constexpr int damage_scale</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01008">itype.h:1008</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a69a256025f66e4ce5d15c9dd7225d357">sounds::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00693">item::damage()</a>, <a class="el" href="itype_8h_source.html#l01008">itype::damage_scale</a>, <a class="el" href="item_8cpp_source.html#l06166">item::durability_indicator()</a>, <a class="el" href="player_8cpp_source.html#l03983">player::fine_detail_vision_mod()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06372">item::is_firearm()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l06061">item::min_damage()</a>, <a class="el" href="item_8cpp_source.html#l06076">item::mod_damage()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp_source.html#l04005">player::practice()</a>, <a class="el" href="item_8cpp_source.html#l00711">item::set_damage()</a>, <a class="el" href="iuse_8cpp.html#a53a27ba882bb24158d8752e53158bf46">skill_mechanics</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00272">game_menus::inv::titled_menu()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aee6388125347281819df5c608e1e2008" name="aee6388125347281819df5c608e1e2008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee6388125347281819df5c608e1e2008">&#9670;&nbsp;</a></span>gunmod_attach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::gunmod_attach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05913">5913</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05914" name="l05914"></a><span class="lineno"> 5914</span>{</div>
<div class="line"><a id="l05915" name="l05915"></a><span class="lineno"> 5915</span>    <span class="keywordflow">if</span>( !it || !it-&gt;<a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() ) {</div>
<div class="line"><a id="l05916" name="l05916"></a><span class="lineno"> 5916</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;tried to attach non-gunmod&quot;</span> );</div>
<div class="line"><a id="l05917" name="l05917"></a><span class="lineno"> 5917</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05918" name="l05918"></a><span class="lineno"> 5918</span>    }</div>
<div class="line"><a id="l05919" name="l05919"></a><span class="lineno"> 5919</span> </div>
<div class="line"><a id="l05920" name="l05920"></a><span class="lineno"> 5920</span>    <span class="keywordflow">if</span>( !p ) {</div>
<div class="line"><a id="l05921" name="l05921"></a><span class="lineno"> 5921</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05922" name="l05922"></a><span class="lineno"> 5922</span>    }</div>
<div class="line"><a id="l05923" name="l05923"></a><span class="lineno"> 5923</span> </div>
<div class="line"><a id="l05924" name="l05924"></a><span class="lineno"> 5924</span>    <span class="keyword">auto</span> loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#af7d31e1e849ba97bb8b40f1f36b09ed6">game_menus::inv::gun_to_modify</a>( *p, *it );</div>
<div class="line"><a id="l05925" name="l05925"></a><span class="lineno"> 5925</span> </div>
<div class="line"><a id="l05926" name="l05926"></a><span class="lineno"> 5926</span>    <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l05927" name="l05927"></a><span class="lineno"> 5927</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l05928" name="l05928"></a><span class="lineno"> 5928</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05929" name="l05929"></a><span class="lineno"> 5929</span>    }</div>
<div class="line"><a id="l05930" name="l05930"></a><span class="lineno"> 5930</span> </div>
<div class="line"><a id="l05931" name="l05931"></a><span class="lineno"> 5931</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ab3d41d8089689600e089ba046e017f0e">gunmod_add</a>( *loc, *it );</div>
<div class="line"><a id="l05932" name="l05932"></a><span class="lineno"> 5932</span> </div>
<div class="line"><a id="l05933" name="l05933"></a><span class="lineno"> 5933</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05934" name="l05934"></a><span class="lineno"> 5934</span>}</div>
<div class="ttc" id="aclassitem_html_a9b06bb61116b722a90aa372a4561337a"><div class="ttname"><a href="classitem.html#a9b06bb61116b722a90aa372a4561337a">item::is_gunmod</a></div><div class="ttdeci">bool is_gunmod() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06397">item.cpp:6397</a></div></div>
<div class="ttc" id="aclassplayer_html_ab3d41d8089689600e089ba046e017f0e"><div class="ttname"><a href="classplayer.html#ab3d41d8089689600e089ba046e017f0e">player::gunmod_add</a></div><div class="ttdeci">void gunmod_add(item &amp;gun, item &amp;mod)</div><div class="ttdoc">Starts activity to install gunmod having warned user about any risk of failure or irremovable mods s.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03519">player.cpp:3519</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_af7d31e1e849ba97bb8b40f1f36b09ed6"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#af7d31e1e849ba97bb8b40f1f36b09ed6">game_menus::inv::gun_to_modify</a></div><div class="ttdeci">item_location gun_to_modify(player &amp;p, const item &amp;gunmod)</div><div class="ttdoc">Gunmod installation menu.</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l00959">game_inventory.cpp:959</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="game__inventory_8cpp_source.html#l00959">game_menus::inv::gun_to_modify()</a>, <a class="el" href="player_8cpp_source.html#l03519">player::gunmod_add()</a>, <a class="el" href="item_8cpp_source.html#l06397">item::is_gunmod()</a>, and <a class="el" href="enums_8h_source.html#l00258">m_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a1ed26c836be484fe8abed447dd276260" name="a1ed26c836be484fe8abed447dd276260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed26c836be484fe8abed447dd276260">&#9670;&nbsp;</a></span>hacksaw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::hacksaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04963">4963</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04964" name="l04964"></a><span class="lineno"> 4964</span>{</div>
<div class="line"><a id="l04965" name="l04965"></a><span class="lineno"> 4965</span>    <span class="keywordflow">if</span>( !p || t ) {</div>
<div class="line"><a id="l04966" name="l04966"></a><span class="lineno"> 4966</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04967" name="l04967"></a><span class="lineno"> 4967</span>    }</div>
<div class="line"><a id="l04968" name="l04968"></a><span class="lineno"> 4968</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04969" name="l04969"></a><span class="lineno"> 4969</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04970" name="l04970"></a><span class="lineno"> 4970</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04971" name="l04971"></a><span class="lineno"> 4971</span>    }</div>
<div class="line"><a id="l04972" name="l04972"></a><span class="lineno"> 4972</span>    <span class="keyword">const</span> std::set&lt;ter_id&gt; allowed_ter_id {</div>
<div class="line"><a id="l04973" name="l04973"></a><span class="lineno"> 4973</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a4634beea18999257dfeceab734dd71f4">t_chainfence_posts</a>,</div>
<div class="line"><a id="l04974" name="l04974"></a><span class="lineno"> 4974</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a5ec9dbb1139107c1c3f0fa83f868c352">t_window_enhanced</a>,</div>
<div class="line"><a id="l04975" name="l04975"></a><span class="lineno"> 4975</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a051531fcf5b68d50c7f080626547af97">t_window_enhanced_noglass</a>,</div>
<div class="line"><a id="l04976" name="l04976"></a><span class="lineno"> 4976</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a0d8c808248c75aafdb464b6ac8906ffb">t_chainfence</a>,</div>
<div class="line"><a id="l04977" name="l04977"></a><span class="lineno"> 4977</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a1aac21f1349f863e27c37e02aedfc255">t_chaingate_c</a>,</div>
<div class="line"><a id="l04978" name="l04978"></a><span class="lineno"> 4978</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a749628ad18e67f0cbe56b2add9c8518d">t_chaingate_l</a>,</div>
<div class="line"><a id="l04979" name="l04979"></a><span class="lineno"> 4979</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a5965d87b2ca75049ae9bc1877a1539b2">t_window_bars_alarm</a>,</div>
<div class="line"><a id="l04980" name="l04980"></a><span class="lineno"> 4980</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a5c86fc6bcc6769b62eaded14956f412b">t_window_bars</a>,</div>
<div class="line"><a id="l04981" name="l04981"></a><span class="lineno"> 4981</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a1a854500428a2e6e6a67cbaf67fb6384">t_reb_cage</a>,</div>
<div class="line"><a id="l04982" name="l04982"></a><span class="lineno"> 4982</span>        <a class="code hl_variable" href="mapdata_8cpp.html#ac16c04d0d33758501b8e5f8c886de310">t_door_bar_c</a>,</div>
<div class="line"><a id="l04983" name="l04983"></a><span class="lineno"> 4983</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a38256073c475f06d6118d5bf0e1ecb0d">t_door_bar_locked</a>,</div>
<div class="line"><a id="l04984" name="l04984"></a><span class="lineno"> 4984</span>        <a class="code hl_variable" href="mapdata_8cpp.html#aa8a4aed77e152355e263976c0a1bd0fc">t_bars</a></div>
<div class="line"><a id="l04985" name="l04985"></a><span class="lineno"> 4985</span>    };</div>
<div class="line"><a id="l04986" name="l04986"></a><span class="lineno"> 4986</span>    <span class="keyword">const</span> std::set&lt;furn_id&gt; allowed_furn_id {</div>
<div class="line"><a id="l04987" name="l04987"></a><span class="lineno"> 4987</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a92a2621c6047e2eca05c96d11be439df">f_rack</a></div>
<div class="line"><a id="l04988" name="l04988"></a><span class="lineno"> 4988</span>    };</div>
<div class="line"><a id="l04989" name="l04989"></a><span class="lineno"> 4989</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = [&amp;allowed_ter_id,</div>
<div class="line"><a id="l04990" name="l04990"></a><span class="lineno"> 4990</span>    &amp;allowed_furn_id]( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l04991" name="l04991"></a><span class="lineno"> 4991</span>        <span class="keywordflow">if</span>( pnt == <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) {</div>
<div class="line"><a id="l04992" name="l04992"></a><span class="lineno"> 4992</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04993" name="l04993"></a><span class="lineno"> 4993</span>        }</div>
<div class="line"><a id="l04994" name="l04994"></a><span class="lineno"> 4994</span>        <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> ter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l04995" name="l04995"></a><span class="lineno"> 4995</span>        <span class="keyword">const</span> <span class="keyword">auto</span> furn = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( pnt );</div>
<div class="line"><a id="l04996" name="l04996"></a><span class="lineno"> 4996</span> </div>
<div class="line"><a id="l04997" name="l04997"></a><span class="lineno"> 4997</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_allowed = ( allowed_ter_id.find( ter ) != allowed_ter_id.end() ) ||</div>
<div class="line"><a id="l04998" name="l04998"></a><span class="lineno"> 4998</span>                                ( allowed_furn_id.find( furn ) != allowed_furn_id.end() );</div>
<div class="line"><a id="l04999" name="l04999"></a><span class="lineno"> 4999</span>        <span class="keywordflow">return</span> is_allowed;</div>
<div class="line"><a id="l05000" name="l05000"></a><span class="lineno"> 5000</span>    };</div>
<div class="line"><a id="l05001" name="l05001"></a><span class="lineno"> 5001</span> </div>
<div class="line"><a id="l05002" name="l05002"></a><span class="lineno"> 5002</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l05003" name="l05003"></a><span class="lineno"> 5003</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Cut up metal where?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is no metal to cut up nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l05004" name="l05004"></a><span class="lineno"> 5004</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l05005" name="l05005"></a><span class="lineno"> 5005</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05006" name="l05006"></a><span class="lineno"> 5006</span>    }</div>
<div class="line"><a id="l05007" name="l05007"></a><span class="lineno"> 5007</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l05008" name="l05008"></a><span class="lineno"> 5008</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> ter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l05009" name="l05009"></a><span class="lineno"> 5009</span>    <span class="keywordflow">if</span>( !f( pnt ) ) {</div>
<div class="line"><a id="l05010" name="l05010"></a><span class="lineno"> 5010</span>        <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l05011" name="l05011"></a><span class="lineno"> 5011</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Why would you do that?&quot;</span> ) );</div>
<div class="line"><a id="l05012" name="l05012"></a><span class="lineno"> 5012</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re not even chained to a boiler.&quot;</span> ) );</div>
<div class="line"><a id="l05013" name="l05013"></a><span class="lineno"> 5013</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05014" name="l05014"></a><span class="lineno"> 5014</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t cut that.&quot;</span> ) );</div>
<div class="line"><a id="l05015" name="l05015"></a><span class="lineno"> 5015</span>        }</div>
<div class="line"><a id="l05016" name="l05016"></a><span class="lineno"> 5016</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05017" name="l05017"></a><span class="lineno"> 5017</span>    }</div>
<div class="line"><a id="l05018" name="l05018"></a><span class="lineno"> 5018</span> </div>
<div class="line"><a id="l05019" name="l05019"></a><span class="lineno"> 5019</span>    <span class="keywordtype">int</span> moves;</div>
<div class="line"><a id="l05020" name="l05020"></a><span class="lineno"> 5020</span>    <span class="keywordflow">if</span>( ter == <a class="code hl_variable" href="mapdata_8cpp.html#a4634beea18999257dfeceab734dd71f4">t_chainfence_posts</a> || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( pnt ) == <a class="code hl_variable" href="mapdata_8cpp.html#a92a2621c6047e2eca05c96d11be439df">f_rack</a> ) {</div>
<div class="line"><a id="l05021" name="l05021"></a><span class="lineno"> 5021</span>        moves = to_moves&lt;int&gt;( 2_minutes );</div>
<div class="line"><a id="l05022" name="l05022"></a><span class="lineno"> 5022</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ter == <a class="code hl_variable" href="mapdata_8cpp.html#a5ec9dbb1139107c1c3f0fa83f868c352">t_window_enhanced</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a051531fcf5b68d50c7f080626547af97">t_window_enhanced_noglass</a> ) {</div>
<div class="line"><a id="l05023" name="l05023"></a><span class="lineno"> 5023</span>        moves = to_moves&lt;int&gt;( 5_minutes );</div>
<div class="line"><a id="l05024" name="l05024"></a><span class="lineno"> 5024</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ter == <a class="code hl_variable" href="mapdata_8cpp.html#a0d8c808248c75aafdb464b6ac8906ffb">t_chainfence</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a1aac21f1349f863e27c37e02aedfc255">t_chaingate_c</a> ||</div>
<div class="line"><a id="l05025" name="l05025"></a><span class="lineno"> 5025</span>               ter == <a class="code hl_variable" href="mapdata_8cpp.html#a749628ad18e67f0cbe56b2add9c8518d">t_chaingate_l</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a5965d87b2ca75049ae9bc1877a1539b2">t_window_bars_alarm</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a5c86fc6bcc6769b62eaded14956f412b">t_window_bars</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a1a854500428a2e6e6a67cbaf67fb6384">t_reb_cage</a> ) {</div>
<div class="line"><a id="l05026" name="l05026"></a><span class="lineno"> 5026</span>        moves = to_moves&lt;int&gt;( 10_minutes );</div>
<div class="line"><a id="l05027" name="l05027"></a><span class="lineno"> 5027</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ter == <a class="code hl_variable" href="mapdata_8cpp.html#ac16c04d0d33758501b8e5f8c886de310">t_door_bar_c</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a38256073c475f06d6118d5bf0e1ecb0d">t_door_bar_locked</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#aa8a4aed77e152355e263976c0a1bd0fc">t_bars</a> ) {</div>
<div class="line"><a id="l05028" name="l05028"></a><span class="lineno"> 5028</span>        moves = to_moves&lt;int&gt;( 15_minutes );</div>
<div class="line"><a id="l05029" name="l05029"></a><span class="lineno"> 5029</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05030" name="l05030"></a><span class="lineno"> 5030</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05031" name="l05031"></a><span class="lineno"> 5031</span>    }</div>
<div class="line"><a id="l05032" name="l05032"></a><span class="lineno"> 5032</span> </div>
<div class="line"><a id="l05033" name="l05033"></a><span class="lineno"> 5033</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a7c9ce27c37c3443862813125a0b13dd6">ACT_HACKSAW</a>, moves, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( ter ),</div>
<div class="line"><a id="l05034" name="l05034"></a><span class="lineno"> 5034</span>                        p-&gt;<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( it ) );</div>
<div class="line"><a id="l05035" name="l05035"></a><span class="lineno"> 5035</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = pnt;</div>
<div class="line"><a id="l05036" name="l05036"></a><span class="lineno"> 5036</span> </div>
<div class="line"><a id="l05037" name="l05037"></a><span class="lineno"> 5037</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05038" name="l05038"></a><span class="lineno"> 5038</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a7c9ce27c37c3443862813125a0b13dd6"><div class="ttname"><a href="iuse_8cpp.html#a7c9ce27c37c3443862813125a0b13dd6">ACT_HACKSAW</a></div><div class="ttdeci">static const activity_id ACT_HACKSAW(&quot;ACT_HACKSAW&quot;)</div></div>
<div class="ttc" id="amapdata_8cpp_html_a051531fcf5b68d50c7f080626547af97"><div class="ttname"><a href="mapdata_8cpp.html#a051531fcf5b68d50c7f080626547af97">t_window_enhanced_noglass</a></div><div class="ttdeci">ter_id t_window_enhanced_noglass</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00670">mapdata.cpp:670</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a1a854500428a2e6e6a67cbaf67fb6384"><div class="ttname"><a href="mapdata_8cpp.html#a1a854500428a2e6e6a67cbaf67fb6384">t_reb_cage</a></div><div class="ttdeci">ter_id t_reb_cage</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00654">mapdata.cpp:654</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a38256073c475f06d6118d5bf0e1ecb0d"><div class="ttname"><a href="mapdata_8cpp.html#a38256073c475f06d6118d5bf0e1ecb0d">t_door_bar_locked</a></div><div class="ttdeci">ter_id t_door_bar_locked</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00663">mapdata.cpp:663</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a5965d87b2ca75049ae9bc1877a1539b2"><div class="ttname"><a href="mapdata_8cpp.html#a5965d87b2ca75049ae9bc1877a1539b2">t_window_bars_alarm</a></div><div class="ttdeci">ter_id t_window_bars_alarm</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00670">mapdata.cpp:670</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a5c86fc6bcc6769b62eaded14956f412b"><div class="ttname"><a href="mapdata_8cpp.html#a5c86fc6bcc6769b62eaded14956f412b">t_window_bars</a></div><div class="ttdeci">ter_id t_window_bars</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00670">mapdata.cpp:670</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a5ec9dbb1139107c1c3f0fa83f868c352"><div class="ttname"><a href="mapdata_8cpp.html#a5ec9dbb1139107c1c3f0fa83f868c352">t_window_enhanced</a></div><div class="ttdeci">ter_id t_window_enhanced</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00669">mapdata.cpp:669</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a92a2621c6047e2eca05c96d11be439df"><div class="ttname"><a href="mapdata_8cpp.html#a92a2621c6047e2eca05c96d11be439df">f_rack</a></div><div class="ttdeci">furn_id f_rack</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l01107">mapdata.cpp:1107</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_aa8a4aed77e152355e263976c0a1bd0fc"><div class="ttname"><a href="mapdata_8cpp.html#aa8a4aed77e152355e263976c0a1bd0fc">t_bars</a></div><div class="ttdeci">ter_id t_bars</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00653">mapdata.cpp:653</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ac16c04d0d33758501b8e5f8c886de310"><div class="ttname"><a href="mapdata_8cpp.html#ac16c04d0d33758501b8e5f8c886de310">t_door_bar_c</a></div><div class="ttdeci">ter_id t_door_bar_c</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00663">mapdata.cpp:663</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a7c9ce27c37c3443862813125a0b13dd6">ACT_HACKSAW</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="mapdata_8cpp_source.html#l01107">f_rack</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l02396">Character::get_item_position()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="mapdata_8cpp_source.html#l00653">t_bars</a>, <a class="el" href="mapdata_8cpp_source.html#l00686">t_chainfence</a>, <a class="el" href="mapdata_8cpp_source.html#l00686">t_chainfence_posts</a>, <a class="el" href="mapdata_8cpp_source.html#l00659">t_chaingate_c</a>, <a class="el" href="mapdata_8cpp_source.html#l00659">t_chaingate_l</a>, <a class="el" href="mapdata_8cpp_source.html#l00663">t_door_bar_c</a>, <a class="el" href="mapdata_8cpp_source.html#l00663">t_door_bar_locked</a>, <a class="el" href="mapdata_8cpp_source.html#l00654">t_reb_cage</a>, <a class="el" href="mapdata_8cpp_source.html#l00670">t_window_bars</a>, <a class="el" href="mapdata_8cpp_source.html#l00670">t_window_bars_alarm</a>, <a class="el" href="mapdata_8cpp_source.html#l00669">t_window_enhanced</a>, <a class="el" href="mapdata_8cpp_source.html#l00670">t_window_enhanced_noglass</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="acf3d05b40baec1712280885e0255dd0a" name="acf3d05b40baec1712280885e0255dd0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf3d05b40baec1712280885e0255dd0a">&#9670;&nbsp;</a></span>hairkit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::hairkit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09180">9180</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09181" name="l09181"></a><span class="lineno"> 9181</span>{</div>
<div class="line"><a id="l09182" name="l09182"></a><span class="lineno"> 9182</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l09183" name="l09183"></a><span class="lineno"> 9183</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l09184" name="l09184"></a><span class="lineno"> 9184</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09185" name="l09185"></a><span class="lineno"> 9185</span>    }</div>
<div class="line"><a id="l09186" name="l09186"></a><span class="lineno"> 9186</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 30_minutes );</div>
<div class="line"><a id="l09187" name="l09187"></a><span class="lineno"> 9187</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#adc556b5e52f9b38ee5329814402b4d77">ACT_HAIRCUT</a>, moves );</div>
<div class="line"><a id="l09188" name="l09188"></a><span class="lineno"> 9188</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l09189" name="l09189"></a><span class="lineno"> 9189</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_adc556b5e52f9b38ee5329814402b4d77"><div class="ttname"><a href="iuse_8cpp.html#adc556b5e52f9b38ee5329814402b4d77">ACT_HAIRCUT</a></div><div class="ttdeci">static const activity_id ACT_HAIRCUT(&quot;ACT_HAIRCUT&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#adc556b5e52f9b38ee5329814402b4d77">ACT_HAIRCUT</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a598d4b5bd2b0c73b1090325754726213" name="a598d4b5bd2b0c73b1090325754726213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598d4b5bd2b0c73b1090325754726213">&#9670;&nbsp;</a></span>hammer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::hammer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02352">2352</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>{</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>    }</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>    <span class="keyword">const</span> std::set&lt;ter_id&gt; allowed_ter_id {</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>        <a class="code hl_variable" href="mapdata_8cpp.html#abbb78af220def2eb6fd7582e9a482ba4">t_fence</a>,</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>        <a class="code hl_variable" href="mapdata_8cpp.html#aaaf951eaa038293f04cf425845336bb5">t_window_boarded</a>,</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a32ac0fa178103b3980f8aba740d87233">t_window_boarded_noglass</a>,</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a2db779abad23a8285ab46d0091481bf4">t_door_boarded</a>,</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a88f900168e6a6fac6fba27b555f57c9a">t_door_boarded_damaged</a>,</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a49ef102e5e99a851465b993354056aab">t_door_boarded_peep</a>,</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a5e7484a30e96e5d0e7ed31adcc18ee0b">t_door_boarded_damaged_peep</a>,</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a2193b368ed66473491cb87e401e1d513">t_rdoor_boarded</a>,</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>        <a class="code hl_variable" href="mapdata_8cpp.html#ae03fab617c8efb1d1b1ed79c27fe2559">t_rdoor_boarded_damaged</a></div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>    };</div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span> </div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = [&amp;allowed_ter_id]( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>        <span class="keywordflow">if</span>( pnt == <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) {</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>        }</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>        <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> ter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span> </div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_allowed = allowed_ter_id.find( ter ) != allowed_ter_id.end();</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>        <span class="keywordflow">return</span> is_allowed;</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>    };</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span> </div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Pry where?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is nothing to pry nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>    }</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>    <span class="keywordflow">if</span>( !f( pnt ) ) {</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>        <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You try to hit yourself with the hammer.&quot;</span> ) );</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;But you can&#39;t touch this.&quot;</span> ) );</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t pry that.&quot;</span> ) );</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>        }</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>    }</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span> </div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#abbb78af220def2eb6fd7582e9a482ba4">t_fence</a> || <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#aaaf951eaa038293f04cf425845336bb5">t_window_boarded</a> || <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#a32ac0fa178103b3980f8aba740d87233">t_window_boarded_noglass</a> ||</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>        <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#a2db779abad23a8285ab46d0091481bf4">t_door_boarded</a> || <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#a88f900168e6a6fac6fba27b555f57c9a">t_door_boarded_damaged</a> ||</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>        <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#a2193b368ed66473491cb87e401e1d513">t_rdoor_boarded</a> || <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#ae03fab617c8efb1d1b1ed79c27fe2559">t_rdoor_boarded_damaged</a> ||</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span>        <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#a49ef102e5e99a851465b993354056aab">t_door_boarded_peep</a> || <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="mapdata_8cpp.html#a5e7484a30e96e5d0e7ed31adcc18ee0b">t_door_boarded_damaged_peep</a> ) {</div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span>        <span class="comment">// pry action</span></div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>        <a class="code hl_class" href="classplayer__activity.html">player_activity</a> <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( <a class="code hl_variable" href="iuse_8cpp.html#a5478fb8e35dda696f32c64ee49a54088">ACT_PRY_NAILS</a>, to_moves&lt;int&gt;( 30_seconds ), -1 );</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>        <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.placement = pnt;</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>    }</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a5478fb8e35dda696f32c64ee49a54088"><div class="ttname"><a href="iuse_8cpp.html#a5478fb8e35dda696f32c64ee49a54088">ACT_PRY_NAILS</a></div><div class="ttdeci">static const activity_id ACT_PRY_NAILS(&quot;ACT_PRY_NAILS&quot;)</div></div>
<div class="ttc" id="amapdata_8cpp_html_a2193b368ed66473491cb87e401e1d513"><div class="ttname"><a href="mapdata_8cpp.html#a2193b368ed66473491cb87e401e1d513">t_rdoor_boarded</a></div><div class="ttdeci">ter_id t_rdoor_boarded</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00660">mapdata.cpp:660</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a2db779abad23a8285ab46d0091481bf4"><div class="ttname"><a href="mapdata_8cpp.html#a2db779abad23a8285ab46d0091481bf4">t_door_boarded</a></div><div class="ttdeci">ter_id t_door_boarded</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00660">mapdata.cpp:660</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a32ac0fa178103b3980f8aba740d87233"><div class="ttname"><a href="mapdata_8cpp.html#a32ac0fa178103b3980f8aba740d87233">t_window_boarded_noglass</a></div><div class="ttdeci">ter_id t_window_boarded_noglass</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00669">mapdata.cpp:669</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a49ef102e5e99a851465b993354056aab"><div class="ttname"><a href="mapdata_8cpp.html#a49ef102e5e99a851465b993354056aab">t_door_boarded_peep</a></div><div class="ttdeci">ter_id t_door_boarded_peep</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00660">mapdata.cpp:660</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a5e7484a30e96e5d0e7ed31adcc18ee0b"><div class="ttname"><a href="mapdata_8cpp.html#a5e7484a30e96e5d0e7ed31adcc18ee0b">t_door_boarded_damaged_peep</a></div><div class="ttdeci">ter_id t_door_boarded_damaged_peep</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00661">mapdata.cpp:661</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a88f900168e6a6fac6fba27b555f57c9a"><div class="ttname"><a href="mapdata_8cpp.html#a88f900168e6a6fac6fba27b555f57c9a">t_door_boarded_damaged</a></div><div class="ttdeci">ter_id t_door_boarded_damaged</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00660">mapdata.cpp:660</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_aaaf951eaa038293f04cf425845336bb5"><div class="ttname"><a href="mapdata_8cpp.html#aaaf951eaa038293f04cf425845336bb5">t_window_boarded</a></div><div class="ttdeci">ter_id t_window_boarded</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00668">mapdata.cpp:668</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_abbb78af220def2eb6fd7582e9a482ba4"><div class="ttname"><a href="mapdata_8cpp.html#abbb78af220def2eb6fd7582e9a482ba4">t_fence</a></div><div class="ttdeci">ter_id t_fence</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00686">mapdata.cpp:686</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ae03fab617c8efb1d1b1ed79c27fe2559"><div class="ttname"><a href="mapdata_8cpp.html#ae03fab617c8efb1d1b1ed79c27fe2559">t_rdoor_boarded_damaged</a></div><div class="ttdeci">ter_id t_rdoor_boarded_damaged</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00661">mapdata.cpp:661</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="sounds_8cpp_source.html#l00075">act</a>, <a class="el" href="iuse_8cpp.html#a5478fb8e35dda696f32c64ee49a54088">ACT_PRY_NAILS</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="mapdata_8cpp_source.html#l00660">t_door_boarded</a>, <a class="el" href="mapdata_8cpp_source.html#l00660">t_door_boarded_damaged</a>, <a class="el" href="mapdata_8cpp_source.html#l00661">t_door_boarded_damaged_peep</a>, <a class="el" href="mapdata_8cpp_source.html#l00660">t_door_boarded_peep</a>, <a class="el" href="mapdata_8cpp_source.html#l00686">t_fence</a>, <a class="el" href="mapdata_8cpp_source.html#l00660">t_rdoor_boarded</a>, <a class="el" href="mapdata_8cpp_source.html#l00661">t_rdoor_boarded_damaged</a>, <a class="el" href="mapdata_8cpp_source.html#l00668">t_window_boarded</a>, <a class="el" href="mapdata_8cpp_source.html#l00669">t_window_boarded_noglass</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a46dea249d232934f987af8efb8320529" name="a46dea249d232934f987af8efb8320529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46dea249d232934f987af8efb8320529">&#9670;&nbsp;</a></span>hand_crank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::hand_crank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04466">4466</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04467" name="l04467"></a><span class="lineno"> 4467</span>{</div>
<div class="line"><a id="l04468" name="l04468"></a><span class="lineno"> 4468</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l04469" name="l04469"></a><span class="lineno"> 4469</span>        <span class="comment">// Long action</span></div>
<div class="line"><a id="l04470" name="l04470"></a><span class="lineno"> 4470</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04471" name="l04471"></a><span class="lineno"> 4471</span>    }</div>
<div class="line"><a id="l04472" name="l04472"></a><span class="lineno"> 4472</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l04473" name="l04473"></a><span class="lineno"> 4473</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s not waterproof enough to work underwater.&quot;</span> ) );</div>
<div class="line"><a id="l04474" name="l04474"></a><span class="lineno"> 4474</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04475" name="l04475"></a><span class="lineno"> 4475</span>    }</div>
<div class="line"><a id="l04476" name="l04476"></a><span class="lineno"> 4476</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &gt;= <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">fatigue_levels::dead_tired</a> ) {</div>
<div class="line"><a id="l04477" name="l04477"></a><span class="lineno"> 4477</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re too exhausted to keep cranking.&quot;</span> ) );</div>
<div class="line"><a id="l04478" name="l04478"></a><span class="lineno"> 4478</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04479" name="l04479"></a><span class="lineno"> 4479</span>    }</div>
<div class="line"><a id="l04480" name="l04480"></a><span class="lineno"> 4480</span>    <a class="code hl_class" href="classitem.html">item</a> *magazine = it-&gt;<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>();</div>
<div class="line"><a id="l04481" name="l04481"></a><span class="lineno"> 4481</span>    <span class="keywordflow">if</span>( magazine &amp;&amp; magazine-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RECHARGE&quot;</span> ) ) {</div>
<div class="line"><a id="l04482" name="l04482"></a><span class="lineno"> 4482</span>        <span class="comment">// 1600 minutes. It shouldn&#39;t ever run this long, but it&#39;s an upper bound.</span></div>
<div class="line"><a id="l04483" name="l04483"></a><span class="lineno"> 4483</span>        <span class="comment">// expectation is it runs until the player is too tired.</span></div>
<div class="line"><a id="l04484" name="l04484"></a><span class="lineno"> 4484</span>        <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 1600_minutes );</div>
<div class="line"><a id="l04485" name="l04485"></a><span class="lineno"> 4485</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() &gt; it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() ) {</div>
<div class="line"><a id="l04486" name="l04486"></a><span class="lineno"> 4486</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You start cranking the %s to charge its %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(),</div>
<div class="line"><a id="l04487" name="l04487"></a><span class="lineno"> 4487</span>                                  it-&gt;<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>()-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04488" name="l04488"></a><span class="lineno"> 4488</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a4e1de2690242373f2205a99a8d032098">ACT_HAND_CRANK</a>, moves, -1, 0, <span class="stringliteral">&quot;hand-cranking&quot;</span> );</div>
<div class="line"><a id="l04489" name="l04489"></a><span class="lineno"> 4489</span>            p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, it ) );</div>
<div class="line"><a id="l04490" name="l04490"></a><span class="lineno"> 4490</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04491" name="l04491"></a><span class="lineno"> 4491</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You could use the %s to charge its %s, but it&#39;s already charged.&quot;</span> ),</div>
<div class="line"><a id="l04492" name="l04492"></a><span class="lineno"> 4492</span>                                  it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), magazine-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04493" name="l04493"></a><span class="lineno"> 4493</span>        }</div>
<div class="line"><a id="l04494" name="l04494"></a><span class="lineno"> 4494</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04495" name="l04495"></a><span class="lineno"> 4495</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a rechargeable battery cell to charge.&quot;</span> ) );</div>
<div class="line"><a id="l04496" name="l04496"></a><span class="lineno"> 4496</span>    }</div>
<div class="line"><a id="l04497" name="l04497"></a><span class="lineno"> 4497</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04498" name="l04498"></a><span class="lineno"> 4498</span>}</div>
<div class="ttc" id="acharacter_8h_html_abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d"><div class="ttname"><a href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">fatigue_levels::dead_tired</a></div><div class="ttdeci">@ dead_tired</div></div>
<div class="ttc" id="aclassCharacter_html_a31c20b0d370fef88fefe520ff046daf5"><div class="ttname"><a href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">Character::get_fatigue</a></div><div class="ttdeci">int get_fatigue() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04439">character.cpp:4439</a></div></div>
<div class="ttc" id="aclassitem_html_a5d89f04a2a08245ec865db0865e8a6c1"><div class="ttname"><a href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">item::ammo_capacity</a></div><div class="ttdeci">int ammo_capacity() const</div><div class="ttdoc">Maximum quantity of ammunition loadable for tool, gun or auxiliary gunmod.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07253">item.cpp:7253</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a4e1de2690242373f2205a99a8d032098"><div class="ttname"><a href="iuse_8cpp.html#a4e1de2690242373f2205a99a8d032098">ACT_HAND_CRANK</a></div><div class="ttdeci">static const activity_id ACT_HAND_CRANK(&quot;ACT_HAND_CRANK&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a4e1de2690242373f2205a99a8d032098">ACT_HAND_CRANK</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07253">item::ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">dead_tired</a>, <a class="el" href="character_8cpp_source.html#l04439">Character::get_fatigue()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l07565">item::magazine_current()</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aa92986fb5efe2c3952f80ad290b76076" name="aa92986fb5efe2c3952f80ad290b76076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa92986fb5efe2c3952f80ad290b76076">&#9670;&nbsp;</a></span>handle_ground_graffiti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::handle_ground_graffiti </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>where</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05522">5522</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05524" name="l05524"></a><span class="lineno"> 5524</span>{</div>
<div class="line"><a id="l05525" name="l05525"></a><span class="lineno"> 5525</span>    <a class="code hl_class" href="classstring__input__popup.html">string_input_popup</a> <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>;</div>
<div class="line"><a id="l05526" name="l05526"></a><span class="lineno"> 5526</span>    std::string <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> = <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div>
<div class="line"><a id="l05527" name="l05527"></a><span class="lineno"> 5527</span>                          .title( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c">prefix</a> + <span class="stringliteral">&quot; &quot;</span> + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;(To delete, clear the text and confirm)&quot;</span> ) )</div>
<div class="line"><a id="l05528" name="l05528"></a><span class="lineno"> 5528</span>                          .text( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_graffiti_at( where ) ? <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.graffiti_at( where ) : std::string() )</div>
<div class="line"><a id="l05529" name="l05529"></a><span class="lineno"> 5529</span>                          .identifier( <span class="stringliteral">&quot;graffiti&quot;</span> )</div>
<div class="line"><a id="l05530" name="l05530"></a><span class="lineno"> 5530</span>                          .query_string();</div>
<div class="line"><a id="l05531" name="l05531"></a><span class="lineno"> 5531</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>.canceled() ) {</div>
<div class="line"><a id="l05532" name="l05532"></a><span class="lineno"> 5532</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05533" name="l05533"></a><span class="lineno"> 5533</span>    }</div>
<div class="line"><a id="l05534" name="l05534"></a><span class="lineno"> 5534</span> </div>
<div class="line"><a id="l05535" name="l05535"></a><span class="lineno"> 5535</span>    <span class="keywordtype">bool</span> grave = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( where ) == <a class="code hl_variable" href="mapdata_8cpp.html#ae4102945b738d3a9cd2398167f75a4f3">t_grave_new</a>;</div>
<div class="line"><a id="l05536" name="l05536"></a><span class="lineno"> 5536</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a>;</div>
<div class="line"><a id="l05537" name="l05537"></a><span class="lineno"> 5537</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a>.empty() ) {</div>
<div class="line"><a id="l05538" name="l05538"></a><span class="lineno"> 5538</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_graffiti_at( where ) ) {</div>
<div class="line"><a id="l05539" name="l05539"></a><span class="lineno"> 5539</span>            <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> = 3 * <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.graffiti_at( where ).length();</div>
<div class="line"><a id="l05540" name="l05540"></a><span class="lineno"> 5540</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.delete_graffiti( where );</div>
<div class="line"><a id="l05541" name="l05541"></a><span class="lineno"> 5541</span>            <span class="keywordflow">if</span>( grave ) {</div>
<div class="line"><a id="l05542" name="l05542"></a><span class="lineno"> 5542</span>                p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You blur the inscription on the grave.&quot;</span> ) );</div>
<div class="line"><a id="l05543" name="l05543"></a><span class="lineno"> 5543</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05544" name="l05544"></a><span class="lineno"> 5544</span>                p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You manage to get rid of the message on the surface.&quot;</span> ) );</div>
<div class="line"><a id="l05545" name="l05545"></a><span class="lineno"> 5545</span>            }</div>
<div class="line"><a id="l05546" name="l05546"></a><span class="lineno"> 5546</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05547" name="l05547"></a><span class="lineno"> 5547</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05548" name="l05548"></a><span class="lineno"> 5548</span>        }</div>
<div class="line"><a id="l05549" name="l05549"></a><span class="lineno"> 5549</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05550" name="l05550"></a><span class="lineno"> 5550</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.set_graffiti( where, <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> );</div>
<div class="line"><a id="l05551" name="l05551"></a><span class="lineno"> 5551</span>        <span class="keywordflow">if</span>( grave ) {</div>
<div class="line"><a id="l05552" name="l05552"></a><span class="lineno"> 5552</span>            p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You carve an inscription on the grave.&quot;</span> ) );</div>
<div class="line"><a id="l05553" name="l05553"></a><span class="lineno"> 5553</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05554" name="l05554"></a><span class="lineno"> 5554</span>            p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You write a message on the surface.&quot;</span> ) );</div>
<div class="line"><a id="l05555" name="l05555"></a><span class="lineno"> 5555</span>        }</div>
<div class="line"><a id="l05556" name="l05556"></a><span class="lineno"> 5556</span>        <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> = 2 * <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a>.length();</div>
<div class="line"><a id="l05557" name="l05557"></a><span class="lineno"> 5557</span>    }</div>
<div class="line"><a id="l05558" name="l05558"></a><span class="lineno"> 5558</span>    p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a>;</div>
<div class="line"><a id="l05559" name="l05559"></a><span class="lineno"> 5559</span>    <span class="keywordflow">if</span>( it != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05560" name="l05560"></a><span class="lineno"> 5560</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05561" name="l05561"></a><span class="lineno"> 5561</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05562" name="l05562"></a><span class="lineno"> 5562</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05563" name="l05563"></a><span class="lineno"> 5563</span>    }</div>
<div class="line"><a id="l05564" name="l05564"></a><span class="lineno"> 5564</span>}</div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a0572000ec0976f2d095ae0cd9d20e78b"><div class="ttname"><a href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a></div><div class="ttdeci">static int move_cost(const item &amp;it, const tripoint &amp;src, const tripoint &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00888">activity_item_handling.cpp:888</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html"><div class="ttname"><a href="classstring__input__popup.html">string_input_popup</a></div><div class="ttdoc">Shows a window querying the user for input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00046">string_input_popup.h:47</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40a7afa939f8bd773f5f7e326990b07580c">prefix</a></div><div class="ttdeci">@ prefix</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00079">enums.h:79</a></div></div>
<div class="ttc" id="anamespacemapgen__defer_html_a616ad2c7ee2eb002b683b41b04a888c1"><div class="ttname"><a href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">mapgen_defer::message</a></div><div class="ttdeci">std::string message</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00403">mapgen.cpp:403</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="mapgen_8cpp_source.html#l00403">mapgen_defer::message</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00888">move_cost()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, <a class="el" href="enums_8h_source.html#l00079">prefix</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_grave_new</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01156">construct::done_grave()</a>, <a class="el" href="iuse_8cpp_source.html#l05513">spray_can()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l01833">inscribe_actor::use()</a>.</p>

</div>
</div>
<a id="a5c781aff4648bc9d49ee54de7a257b4a" name="a5c781aff4648bc9d49ee54de7a257b4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c781aff4648bc9d49ee54de7a257b4a">&#9670;&nbsp;</a></span>honeycomb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::honeycomb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00462">462</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>{</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.spawn_item( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="iuse_8cpp.html#aa1d7f6396d078e12885997a44118961d">itype_wax</a>, 2 );</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_aa1d7f6396d078e12885997a44118961d"><div class="ttname"><a href="iuse_8cpp.html#aa1d7f6396d078e12885997a44118961d">itype_wax</a></div><div class="ttdeci">static const itype_id itype_wax(&quot;wax&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="iuse_8cpp.html#aa1d7f6396d078e12885997a44118961d">itype_wax</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a4884a5f4a9818606704ceeffe78382a0" name="a4884a5f4a9818606704ceeffe78382a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4884a5f4a9818606704ceeffe78382a0">&#9670;&nbsp;</a></span>inhaler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::inhaler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00991">991</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>{</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take a puff from your inhaler.&quot;</span> ),</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; takes a puff from their inhaler.&quot;</span> ) );</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a2dde49329eef942ec57d25db274942c0">effect_asthma</a> ) ) {</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( -3 ); <span class="comment">// if we don&#39;t have asthma can be used as stimulant</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 20 ) ) {   <span class="comment">// with a small but significant risk of adverse reaction</span></div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>            p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2_minutes, 5_minutes ) );</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>        }</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>    }</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a72096ee2bbb945b58f1b7c01b09fd004">effect_smoke</a> );</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a2dde49329eef942ec57d25db274942c0"><div class="ttname"><a href="iuse_8cpp.html#a2dde49329eef942ec57d25db274942c0">effect_asthma</a></div><div class="ttdeci">static const efftype_id effect_asthma(&quot;asthma&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a72096ee2bbb945b58f1b7c01b09fd004"><div class="ttname"><a href="iuse_8cpp.html#a72096ee2bbb945b58f1b7c01b09fd004">effect_smoke</a></div><div class="ttdeci">static const efftype_id effect_smoke(&quot;smoke&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a2dde49329eef942ec57d25db274942c0">effect_asthma</a>, <a class="el" href="iuse_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a>, <a class="el" href="iuse_8cpp.html#a72096ee2bbb945b58f1b7c01b09fd004">effect_smoke</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a6280558f691d61cad732f9ddd4a3fc08" name="a6280558f691d61cad732f9ddd4a3fc08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6280558f691d61cad732f9ddd4a3fc08">&#9670;&nbsp;</a></span>jackhammer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::jackhammer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03227">3227</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03228" name="l03228"></a><span class="lineno"> 3228</span>{</div>
<div class="line"><a id="l03229" name="l03229"></a><span class="lineno"> 3229</span>    <span class="comment">// use has_enough_charges to check for UPS availability</span></div>
<div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span>    <span class="comment">// p is assumed to exist for iuse cases</span></div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#a1986577611b062ba002eaed9ae600ef1">has_enough_charges</a>( *it, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03233" name="l03233"></a><span class="lineno"> 3233</span>    }</div>
<div class="line"><a id="l03234" name="l03234"></a><span class="lineno"> 3234</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l03235" name="l03235"></a><span class="lineno"> 3235</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l03236" name="l03236"></a><span class="lineno"> 3236</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03237" name="l03237"></a><span class="lineno"> 3237</span>    }</div>
<div class="line"><a id="l03238" name="l03238"></a><span class="lineno"> 3238</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l03239" name="l03239"></a><span class="lineno"> 3239</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l03240" name="l03240"></a><span class="lineno"> 3240</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03241" name="l03241"></a><span class="lineno"> 3241</span>    }</div>
<div class="line"><a id="l03242" name="l03242"></a><span class="lineno"> 3242</span> </div>
<div class="line"><a id="l03243" name="l03243"></a><span class="lineno"> 3243</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> pnt = pos;</div>
<div class="line"><a id="l03244" name="l03244"></a><span class="lineno"> 3244</span>    <span class="keywordflow">if</span>( pos == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l03245" name="l03245"></a><span class="lineno"> 3245</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Drill where?&quot;</span> ) );</div>
<div class="line"><a id="l03246" name="l03246"></a><span class="lineno"> 3246</span>        <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l03247" name="l03247"></a><span class="lineno"> 3247</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03248" name="l03248"></a><span class="lineno"> 3248</span>        }</div>
<div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span>        pnt = *pnt_;</div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"> 3250</span>    }</div>
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"> 3251</span> </div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;MINEABLE&quot;</span>, pnt ) ) {</div>
<div class="line"><a id="l03253" name="l03253"></a><span class="lineno"> 3253</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t drill there.&quot;</span> ) );</div>
<div class="line"><a id="l03254" name="l03254"></a><span class="lineno"> 3254</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03255" name="l03255"></a><span class="lineno"> 3255</span>    }</div>
<div class="line"><a id="l03256" name="l03256"></a><span class="lineno"> 3256</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pnt ) ) {</div>
<div class="line"><a id="l03257" name="l03257"></a><span class="lineno"> 3257</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s a vehicle in the way!&quot;</span> ) );</div>
<div class="line"><a id="l03258" name="l03258"></a><span class="lineno"> 3258</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03259" name="l03259"></a><span class="lineno"> 3259</span>    }</div>
<div class="line"><a id="l03260" name="l03260"></a><span class="lineno"> 3260</span> </div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span>    <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 30_minutes );</div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.move_cost( pnt ) == 2 ) {</div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span>        <span class="comment">// We&#39;re breaking up some flat surface like pavement, which is much easier</span></div>
<div class="line"><a id="l03264" name="l03264"></a><span class="lineno"> 3264</span>        moves /= 2;</div>
<div class="line"><a id="l03265" name="l03265"></a><span class="lineno"> 3265</span>    }</div>
<div class="line"><a id="l03266" name="l03266"></a><span class="lineno"> 3266</span> </div>
<div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span>    <span class="keyword">const</span> std::vector&lt;npc *&gt; helpers = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_crafting_helpers( 3 );</div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *np : helpers ) {</div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s helps with this task…&quot;</span> ), np-&gt;name );</div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>    }</div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>    moves = moves * ( 10 - helpers.size() ) / 10;</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span> </div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a14c5af3dcb69e85df7220ceaf63faae5">ACT_JACKHAMMER</a>, moves );</div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, it ) );</div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( pnt );</div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You start drilling into the %1$s with your %2$s.&quot;</span> ),</div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span>                          <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.tername( pnt ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span> </div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span>}</div>
<div class="ttc" id="aclassCharacter_html_a1986577611b062ba002eaed9ae600ef1"><div class="ttname"><a href="classCharacter.html#a1986577611b062ba002eaed9ae600ef1">Character::has_enough_charges</a></div><div class="ttdeci">bool has_enough_charges(const item &amp;it, bool show_msg) const</div><div class="ttdoc">Has the item enough charges to invoke its use function? Also checks if UPS from this player is used i...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07442">character.cpp:7442</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a14c5af3dcb69e85df7220ceaf63faae5"><div class="ttname"><a href="iuse_8cpp.html#a14c5af3dcb69e85df7220ceaf63faae5">ACT_JACKHAMMER</a></div><div class="ttdeci">static const activity_id ACT_JACKHAMMER(&quot;ACT_JACKHAMMER&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a14c5af3dcb69e85df7220ceaf63faae5">ACT_JACKHAMMER</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l07442">Character::has_enough_charges()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ac63015323a9e1403dbd85b0696d4ed87" name="ac63015323a9e1403dbd85b0696d4ed87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac63015323a9e1403dbd85b0696d4ed87">&#9670;&nbsp;</a></span>jet_injector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::jet_injector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05716">5716</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05717" name="l05717"></a><span class="lineno"> 5717</span>{</div>
<div class="line"><a id="l05718" name="l05718"></a><span class="lineno"> 5718</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l05719" name="l05719"></a><span class="lineno"> 5719</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The jet injector is empty.&quot;</span> ) );</div>
<div class="line"><a id="l05720" name="l05720"></a><span class="lineno"> 5720</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05721" name="l05721"></a><span class="lineno"> 5721</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05722" name="l05722"></a><span class="lineno"> 5722</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You inject yourself with the jet injector.&quot;</span> ) );</div>
<div class="line"><a id="l05723" name="l05723"></a><span class="lineno"> 5723</span>        <span class="comment">// Intensity is 2 here because intensity = 1 is the comedown</span></div>
<div class="line"><a id="l05724" name="l05724"></a><span class="lineno"> 5724</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#aafcb720ac4a196206c7053dc1dec4025">effect_jetinjector</a>, 20_minutes, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>, 2 );</div>
<div class="line"><a id="l05725" name="l05725"></a><span class="lineno"> 5725</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">mod_painkiller</a>( 20 );</div>
<div class="line"><a id="l05726" name="l05726"></a><span class="lineno"> 5726</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ac840406f65172cadd93d4274ddd78e15">mod_stim</a>( 10 );</div>
<div class="line"><a id="l05727" name="l05727"></a><span class="lineno"> 5727</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ae7a558a2455f552673b825e3ad2e0fd4">healall</a>( 20 );</div>
<div class="line"><a id="l05728" name="l05728"></a><span class="lineno"> 5728</span>    }</div>
<div class="line"><a id="l05729" name="l05729"></a><span class="lineno"> 5729</span> </div>
<div class="line"><a id="l05730" name="l05730"></a><span class="lineno"> 5730</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#aafcb720ac4a196206c7053dc1dec4025">effect_jetinjector</a> ) ) {</div>
<div class="line"><a id="l05731" name="l05731"></a><span class="lineno"> 5731</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">get_effect_dur</a>( <a class="code hl_variable" href="iuse_8cpp.html#aafcb720ac4a196206c7053dc1dec4025">effect_jetinjector</a> ) &gt; 20_minutes ) {</div>
<div class="line"><a id="l05732" name="l05732"></a><span class="lineno"> 5732</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your heart is beating alarmingly fast!&quot;</span> ) );</div>
<div class="line"><a id="l05733" name="l05733"></a><span class="lineno"> 5733</span>        }</div>
<div class="line"><a id="l05734" name="l05734"></a><span class="lineno"> 5734</span>    }</div>
<div class="line"><a id="l05735" name="l05735"></a><span class="lineno"> 5735</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05736" name="l05736"></a><span class="lineno"> 5736</span>}</div>
<div class="ttc" id="aclassCharacter_html_a9790ad52dd6dfc8fd6c615ed994f8105"><div class="ttname"><a href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">Character::mod_painkiller</a></div><div class="ttdeci">void mod_painkiller(int npkill)</div><div class="ttdoc">Modifies intensity of painkillers</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09756">character.cpp:9756</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac840406f65172cadd93d4274ddd78e15"><div class="ttname"><a href="classCharacter.html#ac840406f65172cadd93d4274ddd78e15">Character::mod_stim</a></div><div class="ttdeci">void mod_stim(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07152">character.cpp:7152</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_aafcb720ac4a196206c7053dc1dec4025"><div class="ttname"><a href="iuse_8cpp.html#aafcb720ac4a196206c7053dc1dec4025">effect_jetinjector</a></div><div class="ttdeci">static const efftype_id effect_jetinjector(&quot;jetinjector&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#aafcb720ac4a196206c7053dc1dec4025">effect_jetinjector</a>, <a class="el" href="creature_8cpp_source.html#l01235">Creature::get_effect_dur()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="character_8cpp_source.html#l08627">Character::healall()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="character_8cpp_source.html#l09756">Character::mod_painkiller()</a>, <a class="el" href="character_8cpp_source.html#l07152">Character::mod_stim()</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="af0c1aa12219bb953dfbfb031e9528f95" name="af0c1aa12219bb953dfbfb031e9528f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0c1aa12219bb953dfbfb031e9528f95">&#9670;&nbsp;</a></span>ladder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::ladder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09445">9445</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09446" name="l09446"></a><span class="lineno"> 9446</span>{</div>
<div class="line"><a id="l09447" name="l09447"></a><span class="lineno"> 9447</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_zlevels() ) {</div>
<div class="line"><a id="l09448" name="l09448"></a><span class="lineno"> 9448</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Ladder can&#39;t be used in non-z-level mode&quot;</span> );</div>
<div class="line"><a id="l09449" name="l09449"></a><span class="lineno"> 9449</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09450" name="l09450"></a><span class="lineno"> 9450</span>    }</div>
<div class="line"><a id="l09451" name="l09451"></a><span class="lineno"> 9451</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l09452" name="l09452"></a><span class="lineno"> 9452</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l09453" name="l09453"></a><span class="lineno"> 9453</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09454" name="l09454"></a><span class="lineno"> 9454</span>    }</div>
<div class="line"><a id="l09455" name="l09455"></a><span class="lineno"> 9455</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Put the ladder where?&quot;</span> ) );</div>
<div class="line"><a id="l09456" name="l09456"></a><span class="lineno"> 9456</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l09457" name="l09457"></a><span class="lineno"> 9457</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09458" name="l09458"></a><span class="lineno"> 9458</span>    }</div>
<div class="line"><a id="l09459" name="l09459"></a><span class="lineno"> 9459</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> pnt = *pnt_;</div>
<div class="line"><a id="l09460" name="l09460"></a><span class="lineno"> 9460</span> </div>
<div class="line"><a id="l09461" name="l09461"></a><span class="lineno"> 9461</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_empty( pnt ) || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_furn( pnt ) ) {</div>
<div class="line"><a id="l09462" name="l09462"></a><span class="lineno"> 9462</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Can&#39;t place it there.&quot;</span> ) );</div>
<div class="line"><a id="l09463" name="l09463"></a><span class="lineno"> 9463</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09464" name="l09464"></a><span class="lineno"> 9464</span>    }</div>
<div class="line"><a id="l09465" name="l09465"></a><span class="lineno"> 9465</span> </div>
<div class="line"><a id="l09466" name="l09466"></a><span class="lineno"> 9466</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You set down the ladder.&quot;</span> ) );</div>
<div class="line"><a id="l09467" name="l09467"></a><span class="lineno"> 9467</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 5_seconds );</div>
<div class="line"><a id="l09468" name="l09468"></a><span class="lineno"> 9468</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn_set( pnt, <a class="code hl_typedef" href="type__id_8h.html#a13fd56b9ac506b2517d4889040e0ef66">furn_str_id</a>( <span class="stringliteral">&quot;f_ladder&quot;</span> ) );</div>
<div class="line"><a id="l09469" name="l09469"></a><span class="lineno"> 9469</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l09470" name="l09470"></a><span class="lineno"> 9470</span>}</div>
<div class="ttc" id="atype__id_8h_html_a13fd56b9ac506b2517d4889040e0ef66"><div class="ttname"><a href="type__id_8h.html#a13fd56b9ac506b2517d4889040e0ef66">furn_str_id</a></div><div class="ttdeci">string_id&lt; furn_t &gt; furn_str_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00058">type_id.h:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, and <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="game_8cpp_source.html#l10492">game::vertical_move()</a>.</p>

</div>
</div>
<a id="a3f435663e43863b4d83264dac8fbe9ad" name="a3f435663e43863b4d83264dac8fbe9ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f435663e43863b4d83264dac8fbe9ad">&#9670;&nbsp;</a></span>lumber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::lumber </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04725">4725</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04726" name="l04726"></a><span class="lineno"> 4726</span>{</div>
<div class="line"><a id="l04727" name="l04727"></a><span class="lineno"> 4727</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l04728" name="l04728"></a><span class="lineno"> 4728</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04729" name="l04729"></a><span class="lineno"> 4729</span>    }</div>
<div class="line"><a id="l04730" name="l04730"></a><span class="lineno"> 4730</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04731" name="l04731"></a><span class="lineno"> 4731</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04732" name="l04732"></a><span class="lineno"> 4732</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04733" name="l04733"></a><span class="lineno"> 4733</span>    }</div>
<div class="line"><a id="l04734" name="l04734"></a><span class="lineno"> 4734</span>    <span class="comment">// Check if player is standing on any lumber</span></div>
<div class="line"><a id="l04735" name="l04735"></a><span class="lineno"> 4735</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.i_at( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l04736" name="l04736"></a><span class="lineno"> 4736</span>        <span class="keywordflow">if</span>( i.typeId() == <a class="code hl_variable" href="iuse_8cpp.html#acc460662ddee537de32b9aa08feb81f1">itype_log</a> ) {</div>
<div class="line"><a id="l04737" name="l04737"></a><span class="lineno"> 4737</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.i_rem( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), &amp;i );</div>
<div class="line"><a id="l04738" name="l04738"></a><span class="lineno"> 4738</span>            <a class="code hl_function" href="namespaceiuse.html#a9ec87f69491dd9ce7eca10208c4bca39">cut_log_into_planks</a>( *p );</div>
<div class="line"><a id="l04739" name="l04739"></a><span class="lineno"> 4739</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04740" name="l04740"></a><span class="lineno"> 4740</span>        }</div>
<div class="line"><a id="l04741" name="l04741"></a><span class="lineno"> 4741</span>    }</div>
<div class="line"><a id="l04742" name="l04742"></a><span class="lineno"> 4742</span> </div>
<div class="line"><a id="l04743" name="l04743"></a><span class="lineno"> 4743</span>    <span class="comment">// If the player is not standing on a log, check inventory</span></div>
<div class="line"><a id="l04744" name="l04744"></a><span class="lineno"> 4744</span>    <a class="code hl_class" href="classavatar.html">avatar</a> *you = p-&gt;<a class="code hl_function" href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">as_avatar</a>();</div>
<div class="line"><a id="l04745" name="l04745"></a><span class="lineno"> 4745</span>    <a class="code hl_class" href="classitem__location.html">item_location</a> loc;</div>
<div class="line"><a id="l04746" name="l04746"></a><span class="lineno"> 4746</span>    <span class="keyword">auto</span> filter = []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l04747" name="l04747"></a><span class="lineno"> 4747</span>        <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#acc460662ddee537de32b9aa08feb81f1">itype_log</a>;</div>
<div class="line"><a id="l04748" name="l04748"></a><span class="lineno"> 4748</span>    };</div>
<div class="line"><a id="l04749" name="l04749"></a><span class="lineno"> 4749</span>    <span class="keywordflow">if</span>( you != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l04750" name="l04750"></a><span class="lineno"> 4750</span>        loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a9eafc067094abf546e276b125d2fc788">game_menus::inv::titled_filter_menu</a>( filter, *you, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Cut up what?&quot;</span> ) );</div>
<div class="line"><a id="l04751" name="l04751"></a><span class="lineno"> 4751</span>    }</div>
<div class="line"><a id="l04752" name="l04752"></a><span class="lineno"> 4752</span> </div>
<div class="line"><a id="l04753" name="l04753"></a><span class="lineno"> 4753</span>    <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l04754" name="l04754"></a><span class="lineno"> 4754</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item!&quot;</span> ) );</div>
<div class="line"><a id="l04755" name="l04755"></a><span class="lineno"> 4755</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04756" name="l04756"></a><span class="lineno"> 4756</span>    }</div>
<div class="line"><a id="l04757" name="l04757"></a><span class="lineno"> 4757</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;*loc );</div>
<div class="line"><a id="l04758" name="l04758"></a><span class="lineno"> 4758</span>    <a class="code hl_function" href="namespaceiuse.html#a9ec87f69491dd9ce7eca10208c4bca39">cut_log_into_planks</a>( *p );</div>
<div class="line"><a id="l04759" name="l04759"></a><span class="lineno"> 4759</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04760" name="l04760"></a><span class="lineno"> 4760</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_acc460662ddee537de32b9aa08feb81f1"><div class="ttname"><a href="iuse_8cpp.html#acc460662ddee537de32b9aa08feb81f1">itype_log</a></div><div class="ttdeci">static const itype_id itype_log(&quot;log&quot;)</div></div>
<div class="ttc" id="anamespaceiuse_html_a9ec87f69491dd9ce7eca10208c4bca39"><div class="ttname"><a href="namespaceiuse.html#a9ec87f69491dd9ce7eca10208c4bca39">iuse::cut_log_into_planks</a></div><div class="ttdeci">void cut_log_into_planks(player &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04712">iuse.cpp:4712</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="creature_8h_source.html#l00128">Creature::as_avatar()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp_source.html#l04712">cut_log_into_planks()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="iuse_8cpp.html#acc460662ddee537de32b9aa08feb81f1">itype_log</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00265">game_menus::inv::titled_filter_menu()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="acb63e796d6a12763147860706533963d" name="acb63e796d6a12763147860706533963d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb63e796d6a12763147860706533963d">&#9670;&nbsp;</a></span>ma_manual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::ma_manual </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02336">2336</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>{</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>    <span class="comment">// [CR] - should NPCs just be allowed to learn this stuff? Just like that?</span></div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span> </div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">matype_id</a> style_to_learn = <a class="code hl_function" href="martialarts_8cpp.html#ad99254fef8817d713c1577c9f7021eb0">martial_art_learned_from</a>( *it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span> </div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>    <span class="keywordflow">if</span>( !style_to_learn.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ERROR: Invalid martial art&quot;</span> );</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>    }</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span> </div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;learn_style( style_to_learn, p-&gt;<a class="code hl_function" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() );</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span> </div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>}</div>
<div class="ttc" id="aclassCharacter_html_a313797e99525bfd2a5ead68b7672f168"><div class="ttname"><a href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">Character::martial_arts_data</a></div><div class="ttdeci">pimpl&lt; character_martial_arts &gt; martial_arts_data</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01589">character.h:1589</a></div></div>
<div class="ttc" id="aclassCreature_html_ac209d32cbfd3774af3d5c0500e2fae52"><div class="ttname"><a href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">Creature::is_avatar</a></div><div class="ttdeci">virtual bool is_avatar() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00095">creature.h:95</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00065">achievement.cpp:65</a></div></div>
<div class="ttc" id="amartialarts_8cpp_html_ad99254fef8817d713c1577c9f7021eb0"><div class="ttname"><a href="martialarts_8cpp.html#ad99254fef8817d713c1577c9f7021eb0">martial_art_learned_from</a></div><div class="ttdeci">matype_id martial_art_learned_from(const itype &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l00055">martialarts.cpp:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="creature_8h_source.html#l00095">Creature::is_avatar()</a>, <a class="el" href="achievement_8cpp_source.html#l00065">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="martialarts_8cpp_source.html#l00055">martial_art_learned_from()</a>, <a class="el" href="character_8h_source.html#l01589">Character::martial_arts_data</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a791346a53fbb77e7bcffbebeab023965" name="a791346a53fbb77e7bcffbebeab023965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a791346a53fbb77e7bcffbebeab023965">&#9670;&nbsp;</a></span>magic_8_ball()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::magic_8_ball </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09738">9738</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09739" name="l09739"></a><span class="lineno"> 9739</span>{</div>
<div class="line"><a id="l09740" name="l09740"></a><span class="lineno"> 9740</span>    <span class="keyword">enum</span> {</div>
<div class="line"><a id="l09741" name="l09741"></a><span class="lineno"> 9741</span>        BALL8_GOOD,</div>
<div class="line"><a id="l09742" name="l09742"></a><span class="lineno"> 9742</span>        BALL8_UNK = 10,</div>
<div class="line"><a id="l09743" name="l09743"></a><span class="lineno"> 9743</span>        BALL8_BAD = 15</div>
<div class="line"><a id="l09744" name="l09744"></a><span class="lineno"> 9744</span>    };</div>
<div class="line"><a id="l09745" name="l09745"></a><span class="lineno"> 9745</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;const char *, 20&gt; tab = {{</div>
<div class="line"><a id="l09746" name="l09746"></a><span class="lineno"> 9746</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;It is certain.&quot;</span> ),</div>
<div class="line"><a id="l09747" name="l09747"></a><span class="lineno"> 9747</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;It is decidedly so.&quot;</span> ),</div>
<div class="line"><a id="l09748" name="l09748"></a><span class="lineno"> 9748</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Without a doubt.&quot;</span> ),</div>
<div class="line"><a id="l09749" name="l09749"></a><span class="lineno"> 9749</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Yes - definitely.&quot;</span> ),</div>
<div class="line"><a id="l09750" name="l09750"></a><span class="lineno"> 9750</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;You may rely on it.&quot;</span> ),</div>
<div class="line"><a id="l09751" name="l09751"></a><span class="lineno"> 9751</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;As I see it, yes.&quot;</span> ),</div>
<div class="line"><a id="l09752" name="l09752"></a><span class="lineno"> 9752</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Most likely.&quot;</span> ),</div>
<div class="line"><a id="l09753" name="l09753"></a><span class="lineno"> 9753</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Outlook good.&quot;</span> ),</div>
<div class="line"><a id="l09754" name="l09754"></a><span class="lineno"> 9754</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Yes.&quot;</span> ),</div>
<div class="line"><a id="l09755" name="l09755"></a><span class="lineno"> 9755</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Signs point to yes.&quot;</span> ),</div>
<div class="line"><a id="l09756" name="l09756"></a><span class="lineno"> 9756</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Reply hazy, try again.&quot;</span> ),</div>
<div class="line"><a id="l09757" name="l09757"></a><span class="lineno"> 9757</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Ask again later.&quot;</span> ),</div>
<div class="line"><a id="l09758" name="l09758"></a><span class="lineno"> 9758</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Better not tell you now.&quot;</span> ),</div>
<div class="line"><a id="l09759" name="l09759"></a><span class="lineno"> 9759</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Cannot predict now.&quot;</span> ),</div>
<div class="line"><a id="l09760" name="l09760"></a><span class="lineno"> 9760</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Concentrate and ask again.&quot;</span> ),</div>
<div class="line"><a id="l09761" name="l09761"></a><span class="lineno"> 9761</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Don&#39;t count on it.&quot;</span> ),</div>
<div class="line"><a id="l09762" name="l09762"></a><span class="lineno"> 9762</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;My reply is no.&quot;</span> ),</div>
<div class="line"><a id="l09763" name="l09763"></a><span class="lineno"> 9763</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;My sources say no.&quot;</span> ),</div>
<div class="line"><a id="l09764" name="l09764"></a><span class="lineno"> 9764</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Outlook not so good.&quot;</span> ),</div>
<div class="line"><a id="l09765" name="l09765"></a><span class="lineno"> 9765</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Very doubtful.&quot;</span> )</div>
<div class="line"><a id="l09766" name="l09766"></a><span class="lineno"> 9766</span>        }</div>
<div class="line"><a id="l09767" name="l09767"></a><span class="lineno"> 9767</span>    };</div>
<div class="line"><a id="l09768" name="l09768"></a><span class="lineno"> 9768</span> </div>
<div class="line"><a id="l09769" name="l09769"></a><span class="lineno"> 9769</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You ask the %s, then flip it.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09770" name="l09770"></a><span class="lineno"> 9770</span>    <span class="keywordtype">int</span> rn = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, tab.size() - 1 );</div>
<div class="line"><a id="l09771" name="l09771"></a><span class="lineno"> 9771</span>    <span class="keyword">auto</span> <a class="code hl_function" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = ( rn &gt;= BALL8_BAD ? <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a> : rn &gt;= BALL8_UNK ? <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a> : <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a> );</div>
<div class="line"><a id="l09772" name="l09772"></a><span class="lineno"> 9772</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_function" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s says: %s&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( tab[rn] ) );</div>
<div class="line"><a id="l09773" name="l09773"></a><span class="lineno"> 9773</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09774" name="l09774"></a><span class="lineno"> 9774</span>}</div>
<div class="ttc" id="aeditmap_8cpp_html_a025a5c063205294df20818edc4cfe355"><div class="ttname"><a href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a></div><div class="ttdeci">static nc_color color(const T_t &amp;t)</div></div>
<div class="ttc" id="atranslations_8h_html_a0b3ab525ec6b450b2487e7644255fa7c"><div class="ttname"><a href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a></div><div class="ttdeci">#define translate_marker(x)</div><div class="ttdoc">Marks a string literal to be extracted for translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00030">translations.h:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="translations_8h_source.html#l00030">translate_marker</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ac6176c97f6298823068e8c8b7f572348" name="ac6176c97f6298823068e8c8b7f572348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6176c97f6298823068e8c8b7f572348">&#9670;&nbsp;</a></span>makemound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::makemound </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02542">2542</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>{</div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>    <span class="keywordflow">if</span>( !p || t ) {</div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>    }</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span>    }</div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Till soil where?&quot;</span> ) );</div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>    }</div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> pnt = *pnt_;</div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span> </div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>    <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You think about jumping on a shovel, but then change up your mind.&quot;</span> ) );</div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span>    }</div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span> </div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="iuse_8cpp.html#aaa9613ea825773a0d74eaba7663a5dbf">flag_PLOWABLE</a>, pnt ) &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_function" href="iuse_8cpp.html#a2e758eb990178554eeb22e4ed5457b9b">flag_PLANT</a>, pnt ) ) {</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You start churning up the earth here.&quot;</span> ) );</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a910d5657a8382793704a3198a33cf33a">ACT_CHURN</a>, 18000, -1, p-&gt;<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( it ) );</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span>        p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( pnt );</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t churn up this ground.&quot;</span> ) );</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>    }</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a2e758eb990178554eeb22e4ed5457b9b"><div class="ttname"><a href="iuse_8cpp.html#a2e758eb990178554eeb22e4ed5457b9b">flag_PLANT</a></div><div class="ttdeci">static const std::string flag_PLANT(&quot;PLANT&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a910d5657a8382793704a3198a33cf33a"><div class="ttname"><a href="iuse_8cpp.html#a910d5657a8382793704a3198a33cf33a">ACT_CHURN</a></div><div class="ttdeci">static const activity_id ACT_CHURN(&quot;ACT_CHURN&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_aaa9613ea825773a0d74eaba7663a5dbf"><div class="ttname"><a href="iuse_8cpp.html#aaa9613ea825773a0d74eaba7663a5dbf">flag_PLOWABLE</a></div><div class="ttdeci">static const std::string flag_PLOWABLE(&quot;PLOWABLE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a910d5657a8382793704a3198a33cf33a">ACT_CHURN</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="iuse_8cpp.html#a2e758eb990178554eeb22e4ed5457b9b">flag_PLANT()</a>, <a class="el" href="iuse_8cpp.html#aaa9613ea825773a0d74eaba7663a5dbf">flag_PLOWABLE()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l02396">Character::get_item_position()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a52fbad62e1ab810f627a8ef2a5bd0494" name="a52fbad62e1ab810f627a8ef2a5bd0494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52fbad62e1ab810f627a8ef2a5bd0494">&#9670;&nbsp;</a></span>marloss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::marloss </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01395">1395</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>{</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="iuse_8cpp.html#a65bade5a896c086debafc34ac01f3f08">marloss_prevented</a>( *p ) ) {</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>    }</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span> </div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceaa835727151122744039a6355de038e38">event_type::consumes_marloss_item</a>&gt;( p-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>(), it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span> </div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>    <a class="code hl_function" href="iuse_8cpp.html#ae11da14264c4ead9dbabc72327822381">marloss_common</a>( *p, *it, <a class="code hl_variable" href="iuse_8cpp.html#a9ed97178aef2274e9fdb82feeda84b3a">trait_MARLOSS</a> );</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>}</div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1ceaa835727151122744039a6355de038e38"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceaa835727151122744039a6355de038e38">event_type::consumes_marloss_item</a></div><div class="ttdeci">@ consumes_marloss_item</div></div>
<div class="ttc" id="aiuse_8cpp_html_a65bade5a896c086debafc34ac01f3f08"><div class="ttname"><a href="iuse_8cpp.html#a65bade5a896c086debafc34ac01f3f08">marloss_prevented</a></div><div class="ttdeci">static bool marloss_prevented(const player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01375">iuse.cpp:1375</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a9ed97178aef2274e9fdb82feeda84b3a"><div class="ttname"><a href="iuse_8cpp.html#a9ed97178aef2274e9fdb82feeda84b3a">trait_MARLOSS</a></div><div class="ttdeci">static const trait_id trait_MARLOSS(&quot;MARLOSS&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ae11da14264c4ead9dbabc72327822381"><div class="ttname"><a href="iuse_8cpp.html#ae11da14264c4ead9dbabc72327822381">marloss_common</a></div><div class="ttdeci">static void marloss_common(player &amp;p, item &amp;it, const trait_id &amp;current_color)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01261">iuse.cpp:1261</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceaa835727151122744039a6355de038e38">consumes_marloss_item</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="iuse_8cpp_source.html#l01261">marloss_common()</a>, <a class="el" href="iuse_8cpp_source.html#l01375">marloss_prevented()</a>, <a class="el" href="iuse_8cpp.html#a9ed97178aef2274e9fdb82feeda84b3a">trait_MARLOSS</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ae9e320388be1366adea2739dd390c18d" name="ae9e320388be1366adea2739dd390c18d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9e320388be1366adea2739dd390c18d">&#9670;&nbsp;</a></span>marloss_gel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::marloss_gel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01424">1424</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>{</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="iuse_8cpp.html#a65bade5a896c086debafc34ac01f3f08">marloss_prevented</a>( *p ) ) {</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    }</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span> </div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceaa835727151122744039a6355de038e38">event_type::consumes_marloss_item</a>&gt;( p-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>(), it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span> </div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>    <a class="code hl_function" href="iuse_8cpp.html#ae11da14264c4ead9dbabc72327822381">marloss_common</a>( *p, *it, <a class="code hl_variable" href="iuse_8cpp.html#ac6e886f6e3b4c3257b9d06df920e79b4">trait_MARLOSS_YELLOW</a> );</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_ac6e886f6e3b4c3257b9d06df920e79b4"><div class="ttname"><a href="iuse_8cpp.html#ac6e886f6e3b4c3257b9d06df920e79b4">trait_MARLOSS_YELLOW</a></div><div class="ttdeci">static const trait_id trait_MARLOSS_YELLOW(&quot;MARLOSS_YELLOW&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceaa835727151122744039a6355de038e38">consumes_marloss_item</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="iuse_8cpp_source.html#l01261">marloss_common()</a>, <a class="el" href="iuse_8cpp_source.html#l01375">marloss_prevented()</a>, <a class="el" href="iuse_8cpp.html#ac6e886f6e3b4c3257b9d06df920e79b4">trait_MARLOSS_YELLOW</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a48fa1d77fe26dcfe0cfa5b8d1e38ce03" name="a48fa1d77fe26dcfe0cfa5b8d1e38ce03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48fa1d77fe26dcfe0cfa5b8d1e38ce03">&#9670;&nbsp;</a></span>marloss_seed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::marloss_seed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01407">1407</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>{</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Sure you want to eat the %s?  You could plant it in a mound of dirt.&quot;</span> ),</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>                   <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), it-&gt;<a class="code hl_function" href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">color_in_inventory</a>() ) ) ) {</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>        <span class="keywordflow">return</span> 0; <span class="comment">// Save the seed for later!</span></div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>    }</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span> </div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="iuse_8cpp.html#a65bade5a896c086debafc34ac01f3f08">marloss_prevented</a>( *p ) ) {</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>    }</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span> </div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceaa835727151122744039a6355de038e38">event_type::consumes_marloss_item</a>&gt;( p-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>(), it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span> </div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>    <a class="code hl_function" href="iuse_8cpp.html#ae11da14264c4ead9dbabc72327822381">marloss_common</a>( *p, *it, <a class="code hl_variable" href="iuse_8cpp.html#ace9d1890ec80f6dd15d66b99f6d30d2e">trait_MARLOSS_BLUE</a> );</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>}</div>
<div class="ttc" id="aclassitem_html_a6bc022aab35ecd1f591a065aa4006eff"><div class="ttname"><a href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">item::color_in_inventory</a></div><div class="ttdeci">nc_color color_in_inventory() const</div><div class="ttdoc">Returns the color of the item depending on usefulness for the player character, e....</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04017">item.cpp:4017</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_ace9d1890ec80f6dd15d66b99f6d30d2e"><div class="ttname"><a href="iuse_8cpp.html#ace9d1890ec80f6dd15d66b99f6d30d2e">trait_MARLOSS_BLUE</a></div><div class="ttdeci">static const trait_id trait_MARLOSS_BLUE(&quot;MARLOSS_BLUE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l04017">item::color_in_inventory()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceaa835727151122744039a6355de038e38">consumes_marloss_item</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="iuse_8cpp_source.html#l01261">marloss_common()</a>, <a class="el" href="iuse_8cpp_source.html#l01375">marloss_prevented()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="iuse_8cpp.html#ace9d1890ec80f6dd15d66b99f6d30d2e">trait_MARLOSS_BLUE</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a9ae5784c506dd050460a51b6585e636c" name="a9ae5784c506dd050460a51b6585e636c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ae5784c506dd050460a51b6585e636c">&#9670;&nbsp;</a></span>meditate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::meditate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00899">899</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>{</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>    <span class="keywordflow">if</span>( !p || t ) {</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    }</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>    }</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) ) {</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 20_minutes );</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#ab1b42300a60fda8de29af78da933d0bf">ACT_MEDITATE</a>, moves );</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This %s probably meant a lot to someone at one time.&quot;</span> ),</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    }</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_ab1b42300a60fda8de29af78da933d0bf"><div class="ttname"><a href="iuse_8cpp.html#ab1b42300a60fda8de29af78da933d0bf">ACT_MEDITATE</a></div><div class="ttdeci">static const activity_id ACT_MEDITATE(&quot;ACT_MEDITATE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#ab1b42300a60fda8de29af78da933d0bf">ACT_MEDITATE</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="iuse_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ab87e144a6d38b325248e013c04af471e" name="ab87e144a6d38b325248e013c04af471e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab87e144a6d38b325248e013c04af471e">&#9670;&nbsp;</a></span>melatonin_tablet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::melatonin_tablet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09706">9706</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09707" name="l09707"></a><span class="lineno"> 9707</span>{</div>
<div class="line"><a id="l09708" name="l09708"></a><span class="lineno"> 9708</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pop a %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09709" name="l09709"></a><span class="lineno"> 9709</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a18723ba3af1eff9de4ac952ff3b8d39f">effect_melatonin_supplements</a> ) ) {</div>
<div class="line"><a id="l09710" name="l09710"></a><span class="lineno"> 9710</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l09711" name="l09711"></a><span class="lineno"> 9711</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Simply taking more melatonin won&#39;t help.  You have to go to sleep for it to work.&quot;</span> ) );</div>
<div class="line"><a id="l09712" name="l09712"></a><span class="lineno"> 9712</span>    }</div>
<div class="line"><a id="l09713" name="l09713"></a><span class="lineno"> 9713</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a18723ba3af1eff9de4ac952ff3b8d39f">effect_melatonin_supplements</a>, 16_hours );</div>
<div class="line"><a id="l09714" name="l09714"></a><span class="lineno"> 9714</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l09715" name="l09715"></a><span class="lineno"> 9715</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a18723ba3af1eff9de4ac952ff3b8d39f"><div class="ttname"><a href="iuse_8cpp.html#a18723ba3af1eff9de4ac952ff3b8d39f">effect_melatonin_supplements</a></div><div class="ttdeci">static const efftype_id effect_melatonin_supplements(&quot;melatonin&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a18723ba3af1eff9de4ac952ff3b8d39f">effect_melatonin_supplements</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

</div>
</div>
<a id="a1c55d9f8022241b470d2d2e3f26ccbb3" name="a1c55d9f8022241b470d2d2e3f26ccbb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c55d9f8022241b470d2d2e3f26ccbb3">&#9670;&nbsp;</a></span>meth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::meth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Strength reduces duration of meth Maximum Strength &gt;4 experiences less hunger benefit from meth 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00815">815</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>{<span class="comment"></span></div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span><span class="comment">    /** @EFFECT_STR reduces duration of meth */</span></div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> duration = 1_minutes * ( 60 - p-&gt;<a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a> );</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( <a class="code hl_variable" href="iuse_8cpp.html#af39b0184e307d15344e6631cd30c479e">itype_apparatus</a>, 1 ) &amp;&amp; p-&gt;<a class="code hl_function" href="classCharacter.html#a8a33b517f5d4f8a85c83a71a3bc8cdaf">use_charges_if_avail</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, 1 ) ) {</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You smoke your meth.&quot;</span> ) );</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The world seems to sharpen.&quot;</span> ) );</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( -375 );</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a> ) ) {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>            duration *= 1.2;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>            duration *= ( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a> ) ? 1.8 : 1.5 );</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        <span class="comment">// breathe out some smoke</span></div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 3; i++ ) {</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( {p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -2, 2 ) ), p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -2, 2 ) ), p-&gt;<a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>()},</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>                            <a class="code hl_variable" href="field__type_8cpp.html#ad6fedcfb4f9b35a4e7615c07699708af">fd_methsmoke</a>, 2 );</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        }</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You snort some crystal meth.&quot;</span> ) );</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( -300 );</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    }</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a5ba3e18250fa524fe8548fa0a1e98535">effect_meth</a> ) ) {</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        <a class="code hl_enumvalue" href="namespacefields.html#af8bc739ca8fbe535a44afc02da973280ab85ec314bf443b797ef8a66b3b03f8a4">duration</a> += 1_hours;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    }</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    <span class="keywordflow">if</span>( duration &gt; 0_turns ) {</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        <span class="comment">// meth actually inhibits hunger, weaker characters benefit more</span><span class="comment"></span></div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span><span class="comment">        /** @EFFECT_STR_MAX &gt;4 experiences less hunger benefit from meth */</span></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>        <span class="keywordtype">int</span> hungerpen = ( p-&gt;<a class="code hl_variable" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a> &lt; 5 ? 35 : 40 - ( 2 * p-&gt;<a class="code hl_variable" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a> ) );</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        <span class="keywordflow">if</span>( hungerpen &gt; 0 ) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( 10 * hungerpen );</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>        }</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a5ba3e18250fa524fe8548fa0a1e98535">effect_meth</a>, duration );</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    }</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>}</div>
<div class="ttc" id="aclassCharacter_html_a0bbd9aa7982f98e08f67db130e4eb9f8"><div class="ttname"><a href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">Character::str_max</a></div><div class="ttdeci">int str_max</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00299">character.h:299</a></div></div>
<div class="ttc" id="aclassvisitable_html_ac50bc4422d4636a70a97d41787f22d0d"><div class="ttname"><a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">visitable::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdoc">Check instance provides at least qty of an item (.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l01108">visitable.cpp:1108</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_ad6fedcfb4f9b35a4e7615c07699708af"><div class="ttname"><a href="field__type_8cpp.html#ad6fedcfb4f9b35a4e7615c07699708af">fd_methsmoke</a></div><div class="ttdeci">field_type_id fd_methsmoke</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00370">field_type.cpp:370</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a5ba3e18250fa524fe8548fa0a1e98535"><div class="ttname"><a href="iuse_8cpp.html#a5ba3e18250fa524fe8548fa0a1e98535">effect_meth</a></div><div class="ttdeci">static const efftype_id effect_meth(&quot;meth&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_af39b0184e307d15344e6631cd30c479e"><div class="ttname"><a href="iuse_8cpp.html#af39b0184e307d15344e6631cd30c479e">itype_apparatus</a></div><div class="ttdeci">static const itype_id itype_apparatus(&quot;apparatus&quot;)</div></div>
<div class="ttc" id="anamespacefields_html_af8bc739ca8fbe535a44afc02da973280ab85ec314bf443b797ef8a66b3b03f8a4"><div class="ttname"><a href="namespacefields.html#af8bc739ca8fbe535a44afc02da973280ab85ec314bf443b797ef8a66b3b03f8a4">fields::stacking_type::duration</a></div><div class="ttdeci">@ duration</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a5ba3e18250fa524fe8548fa0a1e98535">effect_meth</a>, <a class="el" href="field__type_8cpp_source.html#l00370">fd_methsmoke</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; T &gt;::has_amount()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="iuse_8cpp.html#af39b0184e307d15344e6631cd30c479e">itype_apparatus</a>, <a class="el" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, <a class="el" href="character_8cpp_source.html#l04283">Character::mod_stored_kcal()</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="character_8h_source.html#l00844">Character::posz()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="character_8h_source.html#l00304">Character::str_cur</a>, <a class="el" href="character_8h_source.html#l00299">Character::str_max</a>, <a class="el" href="iuse_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a>, <a class="el" href="iuse_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="character_8cpp_source.html#l09622">Character::use_charges_if_avail()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a18ded3f37f4b03f690f1d23e5b4f0a50" name="a18ded3f37f4b03f690f1d23e5b4f0a50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18ded3f37f4b03f690f1d23e5b4f0a50">&#9670;&nbsp;</a></span>mind_splicer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::mind_splicer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Dexterity makes using the mind splicer faster \EFFECT_FIRSTAID makes using the mind splicer faster 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04673">4673</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04674" name="l04674"></a><span class="lineno"> 4674</span>{</div>
<div class="line"><a id="l04675" name="l04675"></a><span class="lineno"> 4675</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04676" name="l04676"></a><span class="lineno"> 4676</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04677" name="l04677"></a><span class="lineno"> 4677</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04678" name="l04678"></a><span class="lineno"> 4678</span>    }</div>
<div class="line"><a id="l04679" name="l04679"></a><span class="lineno"> 4679</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;map_it : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.i_at( <a class="code hl_struct" href="structpoint.html">point</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>(), p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() ) ) ) {</div>
<div class="line"><a id="l04680" name="l04680"></a><span class="lineno"> 4680</span>        <span class="keywordflow">if</span>( map_it.typeId() == <a class="code hl_variable" href="iuse_8cpp.html#a956328a3e1d1004d4ed1567d43ed9563">itype_rmi2_corpse</a> &amp;&amp;</div>
<div class="line"><a id="l04681" name="l04681"></a><span class="lineno"> 4681</span>            <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Use the mind splicer kit on the %s?&quot;</span> ), <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( map_it.tname(),</div>
<div class="line"><a id="l04682" name="l04682"></a><span class="lineno"> 4682</span>                      map_it.color_in_inventory() ) ) ) {</div>
<div class="line"><a id="l04683" name="l04683"></a><span class="lineno"> 4683</span> </div>
<div class="line"><a id="l04684" name="l04684"></a><span class="lineno"> 4684</span>            <span class="keyword">auto</span> filter = []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l04685" name="l04685"></a><span class="lineno"> 4685</span>                <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#ab38ab2f8df529890ff65999f7c5e4b3b">itype_data_card</a>;</div>
<div class="line"><a id="l04686" name="l04686"></a><span class="lineno"> 4686</span>            };</div>
<div class="line"><a id="l04687" name="l04687"></a><span class="lineno"> 4687</span>            <a class="code hl_class" href="classavatar.html">avatar</a> *you = p-&gt;<a class="code hl_function" href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">as_avatar</a>();</div>
<div class="line"><a id="l04688" name="l04688"></a><span class="lineno"> 4688</span>            <a class="code hl_class" href="classitem__location.html">item_location</a> loc;</div>
<div class="line"><a id="l04689" name="l04689"></a><span class="lineno"> 4689</span>            <span class="keywordflow">if</span>( you != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l04690" name="l04690"></a><span class="lineno"> 4690</span>                loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a9eafc067094abf546e276b125d2fc788">game_menus::inv::titled_filter_menu</a>( filter, *you, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Select storage media&quot;</span> ) );</div>
<div class="line"><a id="l04691" name="l04691"></a><span class="lineno"> 4691</span>            }</div>
<div class="line"><a id="l04692" name="l04692"></a><span class="lineno"> 4692</span>            <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l04693" name="l04693"></a><span class="lineno"> 4693</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Nevermind.&quot;</span> ) );</div>
<div class="line"><a id="l04694" name="l04694"></a><span class="lineno"> 4694</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04695" name="l04695"></a><span class="lineno"> 4695</span>            }</div>
<div class="line"><a id="l04696" name="l04696"></a><span class="lineno"> 4696</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;data_card = *loc;<span class="comment"></span></div>
<div class="line"><a id="l04697" name="l04697"></a><span class="lineno"> 4697</span><span class="comment">            ///\EFFECT_DEX makes using the mind splicer faster</span></div>
<div class="line"><a id="l04698" name="l04698"></a><span class="lineno"> 4698</span><span class="comment">            ///\EFFECT_FIRSTAID makes using the mind splicer faster</span></div>
<div class="line"><a id="l04699" name="l04699"></a><span class="lineno"> 4699</span><span class="comment"></span>            <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> time = std::max( 150_minutes - 20_minutes * ( p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>(</div>
<div class="line"><a id="l04700" name="l04700"></a><span class="lineno"> 4700</span>                    <a class="code hl_variable" href="iuse_8cpp.html#aaf598d0fedebd89ec20f768da3b5fd8a">skill_firstaid</a> ) - 1 ) - 10_minutes * ( p-&gt;<a class="code hl_function" href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">get_dex</a>() - 8 ), 30_minutes );</div>
<div class="line"><a id="l04701" name="l04701"></a><span class="lineno"> 4701</span> </div>
<div class="line"><a id="l04702" name="l04702"></a><span class="lineno"> 4702</span>            <a class="code hl_class" href="classplayer__activity.html">player_activity</a> <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( <a class="code hl_variable" href="iuse_8cpp.html#a872fb4d0da2239ca1b731872b34b178a">ACT_MIND_SPLICER</a>, to_moves&lt;int&gt;( time ) );</div>
<div class="line"><a id="l04703" name="l04703"></a><span class="lineno"> 4703</span>            <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.targets.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, &amp;data_card ) );</div>
<div class="line"><a id="l04704" name="l04704"></a><span class="lineno"> 4704</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a id="l04705" name="l04705"></a><span class="lineno"> 4705</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04706" name="l04706"></a><span class="lineno"> 4706</span>        }</div>
<div class="line"><a id="l04707" name="l04707"></a><span class="lineno"> 4707</span>    }</div>
<div class="line"><a id="l04708" name="l04708"></a><span class="lineno"> 4708</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s nothing to use the %s on here.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04709" name="l04709"></a><span class="lineno"> 4709</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04710" name="l04710"></a><span class="lineno"> 4710</span>}</div>
<div class="ttc" id="aclassCharacter_html_a34a927d0f161ac92ab0d462397828bd5"><div class="ttname"><a href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">Character::get_dex</a></div><div class="ttdeci">virtual int get_dex() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04052">character.cpp:4052</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a872fb4d0da2239ca1b731872b34b178a"><div class="ttname"><a href="iuse_8cpp.html#a872fb4d0da2239ca1b731872b34b178a">ACT_MIND_SPLICER</a></div><div class="ttdeci">static const activity_id ACT_MIND_SPLICER(&quot;ACT_MIND_SPLICER&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a956328a3e1d1004d4ed1567d43ed9563"><div class="ttname"><a href="iuse_8cpp.html#a956328a3e1d1004d4ed1567d43ed9563">itype_rmi2_corpse</a></div><div class="ttdeci">static const itype_id itype_rmi2_corpse(&quot;rmi2_corpse&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_aaf598d0fedebd89ec20f768da3b5fd8a"><div class="ttname"><a href="iuse_8cpp.html#aaf598d0fedebd89ec20f768da3b5fd8a">skill_firstaid</a></div><div class="ttdeci">static const skill_id skill_firstaid(&quot;firstaid&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ab38ab2f8df529890ff65999f7c5e4b3b"><div class="ttname"><a href="iuse_8cpp.html#ab38ab2f8df529890ff65999f7c5e4b3b">itype_data_card</a></div><div class="ttdeci">static const itype_id itype_data_card(&quot;data_card&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="sounds_8cpp_source.html#l00075">act</a>, <a class="el" href="iuse_8cpp.html#a872fb4d0da2239ca1b731872b34b178a">ACT_MIND_SPLICER</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="creature_8h_source.html#l00128">Creature::as_avatar()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l04052">Character::get_dex()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="iuse_8cpp.html#ab38ab2f8df529890ff65999f7c5e4b3b">itype_data_card</a>, <a class="el" href="iuse_8cpp.html#a956328a3e1d1004d4ed1567d43ed9563">itype_rmi2_corpse</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="iuse_8cpp.html#aaf598d0fedebd89ec20f768da3b5fd8a">skill_firstaid</a>, <a class="el" href="game__inventory_8cpp_source.html#l00265">game_menus::inv::titled_filter_menu()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a21c8e65ced80f9b26011bc78dfa450a6" name="a21c8e65ced80f9b26011bc78dfa450a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c8e65ced80f9b26011bc78dfa450a6">&#9670;&nbsp;</a></span>mininuke()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::mininuke </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03893">3893</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03894" name="l03894"></a><span class="lineno"> 3894</span>{</div>
<div class="line"><a id="l03895" name="l03895"></a><span class="lineno"> 3895</span>    <span class="keywordtype">int</span> time;</div>
<div class="line"><a id="l03896" name="l03896"></a><span class="lineno"> 3896</span>    <span class="keywordtype">bool</span> got_value = <a class="code hl_function" href="output_8cpp.html#a37680b08c91e7a604e1ea532e4b47408">query_int</a>( time, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Set the timer to ___ turns (0 to cancel)?&quot;</span> ) );</div>
<div class="line"><a id="l03897" name="l03897"></a><span class="lineno"> 3897</span>    <span class="keywordflow">if</span>( !got_value || time &lt;= 0 ) {</div>
<div class="line"><a id="l03898" name="l03898"></a><span class="lineno"> 3898</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l03899" name="l03899"></a><span class="lineno"> 3899</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03900" name="l03900"></a><span class="lineno"> 3900</span>    }</div>
<div class="line"><a id="l03901" name="l03901"></a><span class="lineno"> 3901</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You set the timer to %s.&quot;</span> ),</div>
<div class="line"><a id="l03902" name="l03902"></a><span class="lineno"> 3902</span>                          <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a>( <a class="code hl_function" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( time ) ) );</div>
<div class="line"><a id="l03903" name="l03903"></a><span class="lineno"> 3903</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea913e44b8d4d2273f958054ef6975d65a">event_type::activates_mininuke</a>&gt;( p-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l03904" name="l03904"></a><span class="lineno"> 3904</span>    it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#af15dda390fbc6ecaba6fa78540d00487">itype_mininuke_act</a> );</div>
<div class="line"><a id="l03905" name="l03905"></a><span class="lineno"> 3905</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = time;</div>
<div class="line"><a id="l03906" name="l03906"></a><span class="lineno"> 3906</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03907" name="l03907"></a><span class="lineno"> 3907</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03908" name="l03908"></a><span class="lineno"> 3908</span>}</div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea913e44b8d4d2273f958054ef6975d65a"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea913e44b8d4d2273f958054ef6975d65a">event_type::activates_mininuke</a></div><div class="ttdeci">@ activates_mininuke</div></div>
<div class="ttc" id="aiuse_8cpp_html_af15dda390fbc6ecaba6fa78540d00487"><div class="ttname"><a href="iuse_8cpp.html#af15dda390fbc6ecaba6fa78540d00487">itype_mininuke_act</a></div><div class="ttdeci">static const itype_id itype_mininuke_act(&quot;mininuke_act&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea913e44b8d4d2273f958054ef6975d65a">activates_mininuke</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="calendar_8h_source.html#l00204">time_duration::from_turns()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="iuse_8cpp.html#af15dda390fbc6ecaba6fa78540d00487">itype_mininuke_act</a>, <a class="el" href="output_8cpp_source.html#l00718">query_int()</a>, <a class="el" href="calendar_8cpp_source.html#l00327">to_string()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ada78e14562e559ac1a3cc6f84f4c1604" name="ada78e14562e559ac1a3cc6f84f4c1604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada78e14562e559ac1a3cc6f84f4c1604">&#9670;&nbsp;</a></span>molotov_lit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::molotov_lit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03793">3793</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03794" name="l03794"></a><span class="lineno"> 3794</span>{</div>
<div class="line"><a id="l03795" name="l03795"></a><span class="lineno"> 3795</span>    <span class="keywordflow">if</span>( pos.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> == -999 || pos.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> == -999 ) {</div>
<div class="line"><a id="l03796" name="l03796"></a><span class="lineno"> 3796</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03797" name="l03797"></a><span class="lineno"> 3797</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !t ) {</div>
<div class="line"><a id="l03798" name="l03798"></a><span class="lineno"> 3798</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pt : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( pos, 1, 0 ) ) {</div>
<div class="line"><a id="l03799" name="l03799"></a><span class="lineno"> 3799</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> intensity = 1 + <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) + <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 );</div>
<div class="line"><a id="l03800" name="l03800"></a><span class="lineno"> 3800</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( pt, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a>, intensity );</div>
<div class="line"><a id="l03801" name="l03801"></a><span class="lineno"> 3801</span>        }</div>
<div class="line"><a id="l03802" name="l03802"></a><span class="lineno"> 3802</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l03803" name="l03803"></a><span class="lineno"> 3803</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a id="l03804" name="l03804"></a><span class="lineno"> 3804</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ve already lit the %s, try throwing it instead.&quot;</span> ),</div>
<div class="line"><a id="l03805" name="l03805"></a><span class="lineno"> 3805</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03806" name="l03806"></a><span class="lineno"> 3806</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03807" name="l03807"></a><span class="lineno"> 3807</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) &amp;&amp; it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l03808" name="l03808"></a><span class="lineno"> 3808</span>        it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> += 1;</div>
<div class="line"><a id="l03809" name="l03809"></a><span class="lineno"> 3809</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a id="l03810" name="l03810"></a><span class="lineno"> 3810</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your lit Molotov goes out.&quot;</span> ) );</div>
<div class="line"><a id="l03811" name="l03811"></a><span class="lineno"> 3811</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a179150155224ba5af2768f5cea703e4c">itype_molotov</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03812" name="l03812"></a><span class="lineno"> 3812</span>        }</div>
<div class="line"><a id="l03813" name="l03813"></a><span class="lineno"> 3813</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03814" name="l03814"></a><span class="lineno"> 3814</span>    }</div>
<div class="line"><a id="l03815" name="l03815"></a><span class="lineno"> 3815</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03816" name="l03816"></a><span class="lineno"> 3816</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a179150155224ba5af2768f5cea703e4c"><div class="ttname"><a href="iuse_8cpp.html#a179150155224ba5af2768f5cea703e4c">itype_molotov</a></div><div class="ttdeci">static const itype_id itype_molotov(&quot;molotov&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="field__type_8cpp_source.html#l00345">fd_fire</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="iuse_8cpp.html#a179150155224ba5af2768f5cea703e4c">itype_molotov</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a8f16cb027c9e2d876a8a6617c6b62463" name="a8f16cb027c9e2d876a8a6617c6b62463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f16cb027c9e2d876a8a6617c6b62463">&#9670;&nbsp;</a></span>mop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::mop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05094">5094</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05095" name="l05095"></a><span class="lineno"> 5095</span>{</div>
<div class="line"><a id="l05096" name="l05096"></a><span class="lineno"> 5096</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l05097" name="l05097"></a><span class="lineno"> 5097</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l05098" name="l05098"></a><span class="lineno"> 5098</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05099" name="l05099"></a><span class="lineno"> 5099</span>    }</div>
<div class="line"><a id="l05100" name="l05100"></a><span class="lineno"> 5100</span>    <span class="keyword">const</span> std::vector&lt;field_type_id&gt; to_check = {</div>
<div class="line"><a id="l05101" name="l05101"></a><span class="lineno"> 5101</span>        <a class="code hl_variable" href="field__type_8cpp.html#a49902050cd0a9d394ce472f37f5662c1">fd_blood</a>,</div>
<div class="line"><a id="l05102" name="l05102"></a><span class="lineno"> 5102</span>        <a class="code hl_variable" href="field__type_8cpp.html#a3c719a2313c6c467ccdc2103d82a5960">fd_blood_veggy</a>,</div>
<div class="line"><a id="l05103" name="l05103"></a><span class="lineno"> 5103</span>        <a class="code hl_variable" href="field__type_8cpp.html#a2186e6b87a0a13e3816dca8071c53c60">fd_blood_insect</a>,</div>
<div class="line"><a id="l05104" name="l05104"></a><span class="lineno"> 5104</span>        <a class="code hl_variable" href="field__type_8cpp.html#a354b01b9e540bdf894f0765aba7fb34e">fd_blood_invertebrate</a>,</div>
<div class="line"><a id="l05105" name="l05105"></a><span class="lineno"> 5105</span>        <a class="code hl_variable" href="field__type_8cpp.html#af4968b2ecec49cf31e31fe19392a1713">fd_gibs_flesh</a>,</div>
<div class="line"><a id="l05106" name="l05106"></a><span class="lineno"> 5106</span>        <a class="code hl_variable" href="field__type_8cpp.html#a453c309602e818d2f1813fac80e34e5b">fd_gibs_veggy</a>,</div>
<div class="line"><a id="l05107" name="l05107"></a><span class="lineno"> 5107</span>        <a class="code hl_variable" href="field__type_8cpp.html#a0ec6f81be4e83e343641d40df059cef8">fd_gibs_insect</a>,</div>
<div class="line"><a id="l05108" name="l05108"></a><span class="lineno"> 5108</span>        <a class="code hl_variable" href="field__type_8cpp.html#ad76789f346238bd779b1505b21de52a7">fd_gibs_invertebrate</a>,</div>
<div class="line"><a id="l05109" name="l05109"></a><span class="lineno"> 5109</span>        <a class="code hl_variable" href="field__type_8cpp.html#a22bb00476a16e7d9d5a0de4454a7e7ae">fd_bile</a>,</div>
<div class="line"><a id="l05110" name="l05110"></a><span class="lineno"> 5110</span>        <a class="code hl_variable" href="field__type_8cpp.html#ad0c1e4220b3ad9c9ca9b655d4eda7968">fd_slime</a>,</div>
<div class="line"><a id="l05111" name="l05111"></a><span class="lineno"> 5111</span>        <a class="code hl_variable" href="field__type_8cpp.html#a4f650392cc90c9a28651f06974421485">fd_sludge</a></div>
<div class="line"><a id="l05112" name="l05112"></a><span class="lineno"> 5112</span>    };</div>
<div class="line"><a id="l05113" name="l05113"></a><span class="lineno"> 5113</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = [&amp;to_check]( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l05114" name="l05114"></a><span class="lineno"> 5114</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;LIQUIDCONT&quot;</span>, pnt ) &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;SEALED&quot;</span>, pnt ) ) {</div>
<div class="line"><a id="l05115" name="l05115"></a><span class="lineno"> 5115</span>            <a class="code hl_class" href="classmap__stack.html">map_stack</a> items = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.i_at( pnt );</div>
<div class="line"><a id="l05116" name="l05116"></a><span class="lineno"> 5116</span>            <span class="keyword">auto</span> found = std::find_if( items.<a class="code hl_function" href="classitem__stack.html#a588d49cd17fbf3c64227906758940769">begin</a>(), items.<a class="code hl_function" href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">end</a>(), []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l05117" name="l05117"></a><span class="lineno"> 5117</span>                return it.made_of( LIQUID );</div>
<div class="line"><a id="l05118" name="l05118"></a><span class="lineno"> 5118</span>            } );</div>
<div class="line"><a id="l05119" name="l05119"></a><span class="lineno"> 5119</span>            <span class="keywordflow">if</span>( found != items.<a class="code hl_function" href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">end</a>() ) {</div>
<div class="line"><a id="l05120" name="l05120"></a><span class="lineno"> 5120</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05121" name="l05121"></a><span class="lineno"> 5121</span>            }</div>
<div class="line"><a id="l05122" name="l05122"></a><span class="lineno"> 5122</span>        }</div>
<div class="line"><a id="l05123" name="l05123"></a><span class="lineno"> 5123</span>        <a class="code hl_class" href="classfield.html">field</a> &amp;fld = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.field_at( pnt );</div>
<div class="line"><a id="l05124" name="l05124"></a><span class="lineno"> 5124</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classint__id.html">field_type_id</a> fid : to_check ) {</div>
<div class="line"><a id="l05125" name="l05125"></a><span class="lineno"> 5125</span>            <span class="keywordflow">if</span>( fld.<a class="code hl_function" href="classfield.html#a5779231e4e479861e294a16c408a813e">find_field_c</a>( fid ) ) {</div>
<div class="line"><a id="l05126" name="l05126"></a><span class="lineno"> 5126</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05127" name="l05127"></a><span class="lineno"> 5127</span>            }</div>
<div class="line"><a id="l05128" name="l05128"></a><span class="lineno"> 5128</span>        }</div>
<div class="line"><a id="l05129" name="l05129"></a><span class="lineno"> 5129</span>        <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pnt ) ) {</div>
<div class="line"><a id="l05130" name="l05130"></a><span class="lineno"> 5130</span>            <a class="code hl_class" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> veh = &amp;vp-&gt;<a class="code hl_function" href="classvehicle.html#a8621fbcb37cbcb7760f0106a6b7e4fbe">vehicle</a>();</div>
<div class="line"><a id="l05131" name="l05131"></a><span class="lineno"> 5131</span>            std::vector&lt;int&gt; parts_here = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5a4d8dc36f8def16518bc7ba0126c969">parts_at_relative</a>( vp-&gt;mount(), <span class="keyword">true</span> );</div>
<div class="line"><a id="l05132" name="l05132"></a><span class="lineno"> 5132</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> elem : parts_here ) {</div>
<div class="line"><a id="l05133" name="l05133"></a><span class="lineno"> 5133</span>                <span class="keywordflow">if</span>( veh-&gt;<a class="code hl_function" href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">part</a>( elem ).<a class="code hl_variable" href="structvehicle__part.html#ad2b0eaca45327195e5ac1f9ee9f228bd">blood</a> &gt; 0 ) {</div>
<div class="line"><a id="l05134" name="l05134"></a><span class="lineno"> 5134</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05135" name="l05135"></a><span class="lineno"> 5135</span>                }</div>
<div class="line"><a id="l05136" name="l05136"></a><span class="lineno"> 5136</span>                <a class="code hl_class" href="classvehicle__stack.html">vehicle_stack</a> items = veh-&gt;<a class="code hl_function" href="classvehicle.html#a983dd9db3cd64078b176a82289e0b260">get_items</a>( elem );</div>
<div class="line"><a id="l05137" name="l05137"></a><span class="lineno"> 5137</span>                <span class="keyword">auto</span> found = std::find_if( items.<a class="code hl_function" href="classitem__stack.html#a588d49cd17fbf3c64227906758940769">begin</a>(), items.<a class="code hl_function" href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">end</a>(), []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l05138" name="l05138"></a><span class="lineno"> 5138</span>                    return it.made_of( LIQUID );</div>
<div class="line"><a id="l05139" name="l05139"></a><span class="lineno"> 5139</span>                } );</div>
<div class="line"><a id="l05140" name="l05140"></a><span class="lineno"> 5140</span>                <span class="keywordflow">if</span>( found != items.<a class="code hl_function" href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">end</a>() ) {</div>
<div class="line"><a id="l05141" name="l05141"></a><span class="lineno"> 5141</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05142" name="l05142"></a><span class="lineno"> 5142</span>                }</div>
<div class="line"><a id="l05143" name="l05143"></a><span class="lineno"> 5143</span>            }</div>
<div class="line"><a id="l05144" name="l05144"></a><span class="lineno"> 5144</span>        }</div>
<div class="line"><a id="l05145" name="l05145"></a><span class="lineno"> 5145</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05146" name="l05146"></a><span class="lineno"> 5146</span>    };</div>
<div class="line"><a id="l05147" name="l05147"></a><span class="lineno"> 5147</span> </div>
<div class="line"><a id="l05148" name="l05148"></a><span class="lineno"> 5148</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l05149" name="l05149"></a><span class="lineno"> 5149</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mop where?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is nothing to mop nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l05150" name="l05150"></a><span class="lineno"> 5150</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l05151" name="l05151"></a><span class="lineno"> 5151</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05152" name="l05152"></a><span class="lineno"> 5152</span>    }</div>
<div class="line"><a id="l05153" name="l05153"></a><span class="lineno"> 5153</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l05154" name="l05154"></a><span class="lineno"> 5154</span>    <span class="keywordflow">if</span>( !f( pnt ) ) {</div>
<div class="line"><a id="l05155" name="l05155"></a><span class="lineno"> 5155</span>        <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l05156" name="l05156"></a><span class="lineno"> 5156</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You mop yourself up.&quot;</span> ) );</div>
<div class="line"><a id="l05157" name="l05157"></a><span class="lineno"> 5157</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The universe implodes and reforms around you.&quot;</span> ) );</div>
<div class="line"><a id="l05158" name="l05158"></a><span class="lineno"> 5158</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05159" name="l05159"></a><span class="lineno"> 5159</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s nothing to mop there.&quot;</span> ) );</div>
<div class="line"><a id="l05160" name="l05160"></a><span class="lineno"> 5160</span>        }</div>
<div class="line"><a id="l05161" name="l05161"></a><span class="lineno"> 5161</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05162" name="l05162"></a><span class="lineno"> 5162</span>    }</div>
<div class="line"><a id="l05163" name="l05163"></a><span class="lineno"> 5163</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">is_blind</a>() ) {</div>
<div class="line"><a id="l05164" name="l05164"></a><span class="lineno"> 5164</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You move the mop around, unsure whether it&#39;s doing any good.&quot;</span> ) );</div>
<div class="line"><a id="l05165" name="l05165"></a><span class="lineno"> 5165</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 15;</div>
<div class="line"><a id="l05166" name="l05166"></a><span class="lineno"> 5166</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l05167" name="l05167"></a><span class="lineno"> 5167</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.mop_spills( pnt );</div>
<div class="line"><a id="l05168" name="l05168"></a><span class="lineno"> 5168</span>        }</div>
<div class="line"><a id="l05169" name="l05169"></a><span class="lineno"> 5169</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.mop_spills( pnt ) ) {</div>
<div class="line"><a id="l05170" name="l05170"></a><span class="lineno"> 5170</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You mop up the spill.&quot;</span> ) );</div>
<div class="line"><a id="l05171" name="l05171"></a><span class="lineno"> 5171</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 15;</div>
<div class="line"><a id="l05172" name="l05172"></a><span class="lineno"> 5172</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05173" name="l05173"></a><span class="lineno"> 5173</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05174" name="l05174"></a><span class="lineno"> 5174</span>    }</div>
<div class="line"><a id="l05175" name="l05175"></a><span class="lineno"> 5175</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05176" name="l05176"></a><span class="lineno"> 5176</span>}</div>
<div class="ttc" id="aclassfield_html_a5779231e4e479861e294a16c408a813e"><div class="ttname"><a href="classfield.html#a5779231e4e479861e294a16c408a813e">field::find_field_c</a></div><div class="ttdeci">const field_entry * find_field_c(const field_type_id &amp;field_type_to_find) const</div><div class="ttdoc">Returns a field entry corresponding to the field_type_id parameter passed in.</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00165">field.cpp:165</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a588d49cd17fbf3c64227906758940769"><div class="ttname"><a href="classitem__stack.html#a588d49cd17fbf3c64227906758940769">item_stack::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00028">item_stack.cpp:28</a></div></div>
<div class="ttc" id="aclassitem__stack_html_ad04a969155cc139c54a6a3b4a3395454"><div class="ttname"><a href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">item_stack::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00033">item_stack.cpp:33</a></div></div>
<div class="ttc" id="aclassvehicle__stack_html"><div class="ttname"><a href="classvehicle__stack.html">vehicle_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00122">vehicle.h:123</a></div></div>
<div class="ttc" id="aclassvehicle_html_a5a4d8dc36f8def16518bc7ba0126c969"><div class="ttname"><a href="classvehicle.html#a5a4d8dc36f8def16518bc7ba0126c969">vehicle::parts_at_relative</a></div><div class="ttdeci">std::vector&lt; int &gt; parts_at_relative(const point &amp;dp, bool use_cache) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02414">vehicle.cpp:2414</a></div></div>
<div class="ttc" id="aclassvehicle_html_a8621fbcb37cbcb7760f0106a6b7e4fbe"><div class="ttname"><a href="classvehicle.html#a8621fbcb37cbcb7760f0106a6b7e4fbe">vehicle::vehicle</a></div><div class="ttdeci">vehicle(const vproto_id &amp;type_id, int init_veh_fuel=-1, int init_veh_status=-1)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00251">vehicle.cpp:251</a></div></div>
<div class="ttc" id="aclassvehicle_html_a983dd9db3cd64078b176a82289e0b260"><div class="ttname"><a href="classvehicle.html#a983dd9db3cd64078b176a82289e0b260">vehicle::get_items</a></div><div class="ttdeci">vehicle_stack get_items(int part) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05288">vehicle.cpp:5288</a></div></div>
<div class="ttc" id="aclassvehicle_html_acdb2ebf673a32f657ac9e29b842ee7f5"><div class="ttname"><a href="classvehicle.html#acdb2ebf673a32f657ac9e29b842ee7f5">vehicle::part</a></div><div class="ttdeci">vehicle_part &amp; part(int part_num)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l06892">vehicle.cpp:6892</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a0ec6f81be4e83e343641d40df059cef8"><div class="ttname"><a href="field__type_8cpp.html#a0ec6f81be4e83e343641d40df059cef8">fd_gibs_insect</a></div><div class="ttdeci">field_type_id fd_gibs_insect</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00365">field_type.cpp:365</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a2186e6b87a0a13e3816dca8071c53c60"><div class="ttname"><a href="field__type_8cpp.html#a2186e6b87a0a13e3816dca8071c53c60">fd_blood_insect</a></div><div class="ttdeci">field_type_id fd_blood_insect</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00363">field_type.cpp:363</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a22bb00476a16e7d9d5a0de4454a7e7ae"><div class="ttname"><a href="field__type_8cpp.html#a22bb00476a16e7d9d5a0de4454a7e7ae">fd_bile</a></div><div class="ttdeci">field_type_id fd_bile</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00337">field_type.cpp:337</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a354b01b9e540bdf894f0765aba7fb34e"><div class="ttname"><a href="field__type_8cpp.html#a354b01b9e540bdf894f0765aba7fb34e">fd_blood_invertebrate</a></div><div class="ttdeci">field_type_id fd_blood_invertebrate</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00364">field_type.cpp:364</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a3c719a2313c6c467ccdc2103d82a5960"><div class="ttname"><a href="field__type_8cpp.html#a3c719a2313c6c467ccdc2103d82a5960">fd_blood_veggy</a></div><div class="ttdeci">field_type_id fd_blood_veggy</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00362">field_type.cpp:362</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a453c309602e818d2f1813fac80e34e5b"><div class="ttname"><a href="field__type_8cpp.html#a453c309602e818d2f1813fac80e34e5b">fd_gibs_veggy</a></div><div class="ttdeci">field_type_id fd_gibs_veggy</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00339">field_type.cpp:339</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a4f650392cc90c9a28651f06974421485"><div class="ttname"><a href="field__type_8cpp.html#a4f650392cc90c9a28651f06974421485">fd_sludge</a></div><div class="ttdeci">field_type_id fd_sludge</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00344">field_type.cpp:344</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_ad0c1e4220b3ad9c9ca9b655d4eda7968"><div class="ttname"><a href="field__type_8cpp.html#ad0c1e4220b3ad9c9ca9b655d4eda7968">fd_slime</a></div><div class="ttdeci">field_type_id fd_slime</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00341">field_type.cpp:341</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_ad76789f346238bd779b1505b21de52a7"><div class="ttname"><a href="field__type_8cpp.html#ad76789f346238bd779b1505b21de52a7">fd_gibs_invertebrate</a></div><div class="ttdeci">field_type_id fd_gibs_invertebrate</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00366">field_type.cpp:366</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_af4968b2ecec49cf31e31fe19392a1713"><div class="ttname"><a href="field__type_8cpp.html#af4968b2ecec49cf31e31fe19392a1713">fd_gibs_flesh</a></div><div class="ttdeci">field_type_id fd_gibs_flesh</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00338">field_type.cpp:338</a></div></div>
<div class="ttc" id="astructvehicle__part_html_ad2b0eaca45327195e5ac1f9ee9f228bd"><div class="ttname"><a href="structvehicle__part.html#ad2b0eaca45327195e5ac1f9ee9f228bd">vehicle_part::blood</a></div><div class="ttdeci">int blood</div><div class="ttdoc">how much blood covers part (in turns).</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00398">vehicle.h:398</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item__stack_8cpp_source.html#l00028">item_stack::begin()</a>, <a class="el" href="vehicle_8h_source.html#l00398">vehicle_part::blood</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="item__stack_8cpp_source.html#l00033">item_stack::end()</a>, <a class="el" href="field__type_8cpp_source.html#l00337">fd_bile</a>, <a class="el" href="field__type_8cpp_source.html#l00336">fd_blood</a>, <a class="el" href="field__type_8cpp_source.html#l00363">fd_blood_insect</a>, <a class="el" href="field__type_8cpp_source.html#l00364">fd_blood_invertebrate</a>, <a class="el" href="field__type_8cpp_source.html#l00362">fd_blood_veggy</a>, <a class="el" href="field__type_8cpp_source.html#l00338">fd_gibs_flesh</a>, <a class="el" href="field__type_8cpp_source.html#l00365">fd_gibs_insect</a>, <a class="el" href="field__type_8cpp_source.html#l00366">fd_gibs_invertebrate</a>, <a class="el" href="field__type_8cpp_source.html#l00339">fd_gibs_veggy</a>, <a class="el" href="field__type_8cpp_source.html#l00341">fd_slime</a>, <a class="el" href="field__type_8cpp_source.html#l00344">fd_sludge</a>, <a class="el" href="field_8cpp_source.html#l00165">field::find_field_c()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="vehicle_8cpp_source.html#l05288">vehicle::get_items()</a>, <a class="el" href="character_8cpp_source.html#l06324">Character::is_blind()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="vehicle_8cpp_source.html#l06892">vehicle::part()</a>, <a class="el" href="vehicle_8cpp_source.html#l02414">vehicle::parts_at_relative()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="vehicle_8cpp_source.html#l00251">vehicle::vehicle()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ae84247499c1f9c3996f54bb5e849ffe5" name="ae84247499c1f9c3996f54bb5e849ffe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae84247499c1f9c3996f54bb5e849ffe5">&#9670;&nbsp;</a></span>mp3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::mp3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04104">4104</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04105" name="l04105"></a><span class="lineno"> 4105</span>{</div>
<div class="line"><a id="l04106" name="l04106"></a><span class="lineno"> 4106</span>    <span class="comment">// TODO: avoid item id hardcoding to make this function usable for pure json-defined devices.</span></div>
<div class="line"><a id="l04107" name="l04107"></a><span class="lineno"> 4107</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l04108" name="l04108"></a><span class="lineno"> 4108</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The device&#39;s batteries are dead.&quot;</span> ) );</div>
<div class="line"><a id="l04109" name="l04109"></a><span class="lineno"> 4109</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a37f135e792eeba920085377b9bdb9a9b">has_active_item</a>( <a class="code hl_variable" href="iuse_8cpp.html#afe103308d22d817a160b7232dd630c45">itype_mp3_on</a> ) || p-&gt;<a class="code hl_function" href="classCharacter.html#a37f135e792eeba920085377b9bdb9a9b">has_active_item</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1eb74fd8e342d40dcdde584c17c5b080">itype_smartphone_music</a> ) ||</div>
<div class="line"><a id="l04110" name="l04110"></a><span class="lineno"> 4110</span>               p-&gt;<a class="code hl_function" href="classCharacter.html#a37f135e792eeba920085377b9bdb9a9b">has_active_item</a>( <a class="code hl_variable" href="iuse_8cpp.html#ad06f93fc6fcd45a5c314474739099ae2">itype_afs_atomic_smartphone_music</a> ) ||</div>
<div class="line"><a id="l04111" name="l04111"></a><span class="lineno"> 4111</span>               p-&gt;<a class="code hl_function" href="classCharacter.html#a37f135e792eeba920085377b9bdb9a9b">has_active_item</a>( <a class="code hl_variable" href="iuse_8cpp.html#af87dd034285ad6095cf29e4fd16a61d0">itype_afs_atomic_wraitheon_music</a> ) ) {</div>
<div class="line"><a id="l04112" name="l04112"></a><span class="lineno"> 4112</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are already listening to music!&quot;</span> ) );</div>
<div class="line"><a id="l04113" name="l04113"></a><span class="lineno"> 4113</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04114" name="l04114"></a><span class="lineno"> 4114</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You put in the earbuds and start listening to music.&quot;</span> ) );</div>
<div class="line"><a id="l04115" name="l04115"></a><span class="lineno"> 4115</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a52d568d70e6f9f62ba2784dae37f08d7">itype_mp3</a> ) {</div>
<div class="line"><a id="l04116" name="l04116"></a><span class="lineno"> 4116</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#afe103308d22d817a160b7232dd630c45">itype_mp3_on</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04117" name="l04117"></a><span class="lineno"> 4117</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#ab766201e9552074c6c297fec427103f4">itype_smart_phone</a> ) {</div>
<div class="line"><a id="l04118" name="l04118"></a><span class="lineno"> 4118</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1eb74fd8e342d40dcdde584c17c5b080">itype_smartphone_music</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04119" name="l04119"></a><span class="lineno"> 4119</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a8a14db3f66fcd11a5a3a03d77bb3dfbb">itype_afs_atomic_smartphone</a> ) {</div>
<div class="line"><a id="l04120" name="l04120"></a><span class="lineno"> 4120</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#ad06f93fc6fcd45a5c314474739099ae2">itype_afs_atomic_smartphone_music</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04121" name="l04121"></a><span class="lineno"> 4121</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#acd52623988abc6e82a3f8c299c9c512f">itype_afs_wraitheon_smartphone</a> ) {</div>
<div class="line"><a id="l04122" name="l04122"></a><span class="lineno"> 4122</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#af87dd034285ad6095cf29e4fd16a61d0">itype_afs_atomic_wraitheon_music</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04123" name="l04123"></a><span class="lineno"> 4123</span>        }</div>
<div class="line"><a id="l04124" name="l04124"></a><span class="lineno"> 4124</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -200 );</div>
<div class="line"><a id="l04125" name="l04125"></a><span class="lineno"> 4125</span>    }</div>
<div class="line"><a id="l04126" name="l04126"></a><span class="lineno"> 4126</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04127" name="l04127"></a><span class="lineno"> 4127</span>}</div>
<div class="ttc" id="aclassCharacter_html_a37f135e792eeba920085377b9bdb9a9b"><div class="ttname"><a href="classCharacter.html#a37f135e792eeba920085377b9bdb9a9b">Character::has_active_item</a></div><div class="ttdeci">bool has_active_item(const itype_id &amp;id) const</div><div class="ttdoc">Whether the player carries an active item of the given item type.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02542">character.cpp:2542</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a1eb74fd8e342d40dcdde584c17c5b080"><div class="ttname"><a href="iuse_8cpp.html#a1eb74fd8e342d40dcdde584c17c5b080">itype_smartphone_music</a></div><div class="ttdeci">static const itype_id itype_smartphone_music(&quot;smartphone_music&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a52d568d70e6f9f62ba2784dae37f08d7"><div class="ttname"><a href="iuse_8cpp.html#a52d568d70e6f9f62ba2784dae37f08d7">itype_mp3</a></div><div class="ttdeci">static const itype_id itype_mp3(&quot;mp3&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a8a14db3f66fcd11a5a3a03d77bb3dfbb"><div class="ttname"><a href="iuse_8cpp.html#a8a14db3f66fcd11a5a3a03d77bb3dfbb">itype_afs_atomic_smartphone</a></div><div class="ttdeci">static const itype_id itype_afs_atomic_smartphone(&quot;afs_atomic_smartphone&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ab766201e9552074c6c297fec427103f4"><div class="ttname"><a href="iuse_8cpp.html#ab766201e9552074c6c297fec427103f4">itype_smart_phone</a></div><div class="ttdeci">static const itype_id itype_smart_phone(&quot;smart_phone&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_acd52623988abc6e82a3f8c299c9c512f"><div class="ttname"><a href="iuse_8cpp.html#acd52623988abc6e82a3f8c299c9c512f">itype_afs_wraitheon_smartphone</a></div><div class="ttdeci">static const itype_id itype_afs_wraitheon_smartphone(&quot;afs_wraitheon_smartphone&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ad06f93fc6fcd45a5c314474739099ae2"><div class="ttname"><a href="iuse_8cpp.html#ad06f93fc6fcd45a5c314474739099ae2">itype_afs_atomic_smartphone_music</a></div><div class="ttdeci">static const itype_id itype_afs_atomic_smartphone_music(&quot;afs_atomic_smartphone_music&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_af87dd034285ad6095cf29e4fd16a61d0"><div class="ttname"><a href="iuse_8cpp.html#af87dd034285ad6095cf29e4fd16a61d0">itype_afs_atomic_wraitheon_music</a></div><div class="ttdeci">static const itype_id itype_afs_atomic_wraitheon_music(&quot;afs_atomic_wraitheon_music&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_afe103308d22d817a160b7232dd630c45"><div class="ttname"><a href="iuse_8cpp.html#afe103308d22d817a160b7232dd630c45">itype_mp3_on</a></div><div class="ttdeci">static const itype_id itype_mp3_on(&quot;mp3_on&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="character_8cpp_source.html#l02542">Character::has_active_item()</a>, <a class="el" href="iuse_8cpp.html#a8a14db3f66fcd11a5a3a03d77bb3dfbb">itype_afs_atomic_smartphone</a>, <a class="el" href="iuse_8cpp.html#ad06f93fc6fcd45a5c314474739099ae2">itype_afs_atomic_smartphone_music</a>, <a class="el" href="iuse_8cpp.html#af87dd034285ad6095cf29e4fd16a61d0">itype_afs_atomic_wraitheon_music</a>, <a class="el" href="iuse_8cpp.html#acd52623988abc6e82a3f8c299c9c512f">itype_afs_wraitheon_smartphone</a>, <a class="el" href="iuse_8cpp.html#a52d568d70e6f9f62ba2784dae37f08d7">itype_mp3</a>, <a class="el" href="iuse_8cpp.html#afe103308d22d817a160b7232dd630c45">itype_mp3_on</a>, <a class="el" href="iuse_8cpp.html#ab766201e9552074c6c297fec427103f4">itype_smart_phone</a>, <a class="el" href="iuse_8cpp.html#a1eb74fd8e342d40dcdde584c17c5b080">itype_smartphone_music</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="mapgen__functions_8cpp_source.html#l02814">mapgen_lake_shore()</a>.</p>

</div>
</div>
<a id="a7b9967bf92939e0eb7faf25298be0efd" name="a7b9967bf92939e0eb7faf25298be0efd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b9967bf92939e0eb7faf25298be0efd">&#9670;&nbsp;</a></span>mp3_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::mp3_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04190">4190</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04191" name="l04191"></a><span class="lineno"> 4191</span>{</div>
<div class="line"><a id="l04192" name="l04192"></a><span class="lineno"> 4192</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Normal use</span></div>
<div class="line"><a id="l04193" name="l04193"></a><span class="lineno"> 4193</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l04194" name="l04194"></a><span class="lineno"> 4194</span>            <span class="comment">// mp3 player in inventory, we can listen</span></div>
<div class="line"><a id="l04195" name="l04195"></a><span class="lineno"> 4195</span>            <a class="code hl_function" href="sdlsound_8h.html#a283388f57294fc9cc61dae8b158e4e2c">play_music</a>( *p, pos, 0, 20 );</div>
<div class="line"><a id="l04196" name="l04196"></a><span class="lineno"> 4196</span>        }</div>
<div class="line"><a id="l04197" name="l04197"></a><span class="lineno"> 4197</span>    } <span class="keywordflow">else</span> { <span class="comment">// Turning it off</span></div>
<div class="line"><a id="l04198" name="l04198"></a><span class="lineno"> 4198</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#afe103308d22d817a160b7232dd630c45">itype_mp3_on</a> ) {</div>
<div class="line"><a id="l04199" name="l04199"></a><span class="lineno"> 4199</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The mp3 player turns off.&quot;</span> ) );</div>
<div class="line"><a id="l04200" name="l04200"></a><span class="lineno"> 4200</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a52d568d70e6f9f62ba2784dae37f08d7">itype_mp3</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04201" name="l04201"></a><span class="lineno"> 4201</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a1eb74fd8e342d40dcdde584c17c5b080">itype_smartphone_music</a> ) {</div>
<div class="line"><a id="l04202" name="l04202"></a><span class="lineno"> 4202</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The phone turns off.&quot;</span> ) );</div>
<div class="line"><a id="l04203" name="l04203"></a><span class="lineno"> 4203</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#ab766201e9552074c6c297fec427103f4">itype_smart_phone</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04204" name="l04204"></a><span class="lineno"> 4204</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#ad06f93fc6fcd45a5c314474739099ae2">itype_afs_atomic_smartphone_music</a> ) {</div>
<div class="line"><a id="l04205" name="l04205"></a><span class="lineno"> 4205</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The phone turns off.&quot;</span> ) );</div>
<div class="line"><a id="l04206" name="l04206"></a><span class="lineno"> 4206</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a8a14db3f66fcd11a5a3a03d77bb3dfbb">itype_afs_atomic_smartphone</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04207" name="l04207"></a><span class="lineno"> 4207</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#af87dd034285ad6095cf29e4fd16a61d0">itype_afs_atomic_wraitheon_music</a> ) {</div>
<div class="line"><a id="l04208" name="l04208"></a><span class="lineno"> 4208</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The phone turns off.&quot;</span> ) );</div>
<div class="line"><a id="l04209" name="l04209"></a><span class="lineno"> 4209</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#acd52623988abc6e82a3f8c299c9c512f">itype_afs_wraitheon_smartphone</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04210" name="l04210"></a><span class="lineno"> 4210</span>        }</div>
<div class="line"><a id="l04211" name="l04211"></a><span class="lineno"> 4211</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -200 );</div>
<div class="line"><a id="l04212" name="l04212"></a><span class="lineno"> 4212</span>    }</div>
<div class="line"><a id="l04213" name="l04213"></a><span class="lineno"> 4213</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04214" name="l04214"></a><span class="lineno"> 4214</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="iuse_8cpp.html#a8a14db3f66fcd11a5a3a03d77bb3dfbb">itype_afs_atomic_smartphone</a>, <a class="el" href="iuse_8cpp.html#ad06f93fc6fcd45a5c314474739099ae2">itype_afs_atomic_smartphone_music</a>, <a class="el" href="iuse_8cpp.html#af87dd034285ad6095cf29e4fd16a61d0">itype_afs_atomic_wraitheon_music</a>, <a class="el" href="iuse_8cpp.html#acd52623988abc6e82a3f8c299c9c512f">itype_afs_wraitheon_smartphone</a>, <a class="el" href="iuse_8cpp.html#a52d568d70e6f9f62ba2784dae37f08d7">itype_mp3</a>, <a class="el" href="iuse_8cpp.html#afe103308d22d817a160b7232dd630c45">itype_mp3_on</a>, <a class="el" href="iuse_8cpp.html#ab766201e9552074c6c297fec427103f4">itype_smart_phone</a>, <a class="el" href="iuse_8cpp.html#a1eb74fd8e342d40dcdde584c17c5b080">itype_smartphone_music</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="sdlsound_8h_source.html#l00025">play_music()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a0a673629edd47e63203956d4eb0a4fbb" name="a0a673629edd47e63203956d4eb0a4fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a673629edd47e63203956d4eb0a4fbb">&#9670;&nbsp;</a></span>multicooker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::multicooker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Intelligence increases chance of checking multi-cooker on time Survival increases chance of checking multi-cooker on time Electronics &gt;3 allows multicooker upgrade Fabrication &gt;3 allows multicooker upgrade Intelligence increases chance to successfully upgrade multi-cooker Electronics increases chance to successfully upgrade multi-cooker Fabrication increases chance to successfully upgrade multi-cooker 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l08482">8482</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08483" name="l08483"></a><span class="lineno"> 8483</span>{</div>
<div class="line"><a id="l08484" name="l08484"></a><span class="lineno"> 8484</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::set&lt;std::string&gt; multicooked_subcats = { <span class="stringliteral">&quot;CSC_FOOD_MEAT&quot;</span>, <span class="stringliteral">&quot;CSC_FOOD_VEGGI&quot;</span>, <span class="stringliteral">&quot;CSC_FOOD_PASTA&quot;</span> };</div>
<div class="line"><a id="l08485" name="l08485"></a><span class="lineno"> 8485</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> charges_to_start = 50;</div>
<div class="line"><a id="l08486" name="l08486"></a><span class="lineno"> 8486</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l08487" name="l08487"></a><span class="lineno"> 8487</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l08488" name="l08488"></a><span class="lineno"> 8488</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08489" name="l08489"></a><span class="lineno"> 8489</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08490" name="l08490"></a><span class="lineno"> 8490</span>        }</div>
<div class="line"><a id="l08491" name="l08491"></a><span class="lineno"> 8491</span> </div>
<div class="line"><a id="l08492" name="l08492"></a><span class="lineno"> 8492</span>        <span class="keywordtype">int</span> cooktime = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;COOKTIME&quot;</span>, 0 );</div>
<div class="line"><a id="l08493" name="l08493"></a><span class="lineno"> 8493</span>        cooktime -= 100;</div>
<div class="line"><a id="l08494" name="l08494"></a><span class="lineno"> 8494</span> </div>
<div class="line"><a id="l08495" name="l08495"></a><span class="lineno"> 8495</span>        <span class="keywordflow">if</span>( cooktime &gt;= 300 &amp;&amp; cooktime &lt; 400 ) {</div>
<div class="line"><a id="l08496" name="l08496"></a><span class="lineno"> 8496</span>            <span class="comment">//Smart or good cook or careful</span><span class="comment"></span></div>
<div class="line"><a id="l08497" name="l08497"></a><span class="lineno"> 8497</span><span class="comment">            /** @EFFECT_INT increases chance of checking multi-cooker on time */</span></div>
<div class="line"><a id="l08498" name="l08498"></a><span class="lineno"> 8498</span><span class="comment"></span> </div>
<div class="line"><a id="l08499" name="l08499"></a><span class="lineno"> 8499</span><span class="comment">            /** @EFFECT_SURVIVAL increases chance of checking multi-cooker on time */</span></div>
<div class="line"><a id="l08500" name="l08500"></a><span class="lineno"> 8500</span>            <span class="keywordflow">if</span>( p-&gt;<a class="code hl_variable" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a> + p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">skill_cooking</a> ) + p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a> ) &gt; 16 ) {</div>
<div class="line"><a id="l08501" name="l08501"></a><span class="lineno"> 8501</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The multi-cooker should be finishing shortly…&quot;</span> ) );</div>
<div class="line"><a id="l08502" name="l08502"></a><span class="lineno"> 8502</span>            }</div>
<div class="line"><a id="l08503" name="l08503"></a><span class="lineno"> 8503</span>        }</div>
<div class="line"><a id="l08504" name="l08504"></a><span class="lineno"> 8504</span> </div>
<div class="line"><a id="l08505" name="l08505"></a><span class="lineno"> 8505</span>        <span class="keywordflow">if</span>( cooktime &lt;= 0 ) {</div>
<div class="line"><a id="l08506" name="l08506"></a><span class="lineno"> 8506</span>            <a class="code hl_class" href="classitem.html">item</a> meal( it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;DISH&quot;</span> ) );</div>
<div class="line"><a id="l08507" name="l08507"></a><span class="lineno"> 8507</span> </div>
<div class="line"><a id="l08508" name="l08508"></a><span class="lineno"> 8508</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08509" name="l08509"></a><span class="lineno"> 8509</span>            it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;DISH&quot;</span> );</div>
<div class="line"><a id="l08510" name="l08510"></a><span class="lineno"> 8510</span>            it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;COOKTIME&quot;</span> );</div>
<div class="line"><a id="l08511" name="l08511"></a><span class="lineno"> 8511</span>            it-&gt;<a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( meal );</div>
<div class="line"><a id="l08512" name="l08512"></a><span class="lineno"> 8512</span> </div>
<div class="line"><a id="l08513" name="l08513"></a><span class="lineno"> 8513</span>            <span class="comment">//~ sound of a multi-cooker finishing its cycle!</span></div>
<div class="line"><a id="l08514" name="l08514"></a><span class="lineno"> 8514</span>            <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 8, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;ding!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;misc&quot;</span>, <span class="stringliteral">&quot;ding&quot;</span> );</div>
<div class="line"><a id="l08515" name="l08515"></a><span class="lineno"> 8515</span> </div>
<div class="line"><a id="l08516" name="l08516"></a><span class="lineno"> 8516</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08517" name="l08517"></a><span class="lineno"> 8517</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08518" name="l08518"></a><span class="lineno"> 8518</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;COOKTIME&quot;</span>, cooktime );</div>
<div class="line"><a id="l08519" name="l08519"></a><span class="lineno"> 8519</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08520" name="l08520"></a><span class="lineno"> 8520</span>        }</div>
<div class="line"><a id="l08521" name="l08521"></a><span class="lineno"> 8521</span> </div>
<div class="line"><a id="l08522" name="l08522"></a><span class="lineno"> 8522</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08523" name="l08523"></a><span class="lineno"> 8523</span>        <span class="keyword">enum</span> {</div>
<div class="line"><a id="l08524" name="l08524"></a><span class="lineno"> 8524</span>            mc_start, mc_stop, mc_take, mc_upgrade</div>
<div class="line"><a id="l08525" name="l08525"></a><span class="lineno"> 8525</span>        };</div>
<div class="line"><a id="l08526" name="l08526"></a><span class="lineno"> 8526</span> </div>
<div class="line"><a id="l08527" name="l08527"></a><span class="lineno"> 8527</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l08528" name="l08528"></a><span class="lineno"> 8528</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l08529" name="l08529"></a><span class="lineno"> 8529</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08530" name="l08530"></a><span class="lineno"> 8530</span>        }</div>
<div class="line"><a id="l08531" name="l08531"></a><span class="lineno"> 8531</span> </div>
<div class="line"><a id="l08532" name="l08532"></a><span class="lineno"> 8532</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a357572465dfb7a0a417d86e1be77af49">trait_ILLITERATE</a> ) ) {</div>
<div class="line"><a id="l08533" name="l08533"></a><span class="lineno"> 8533</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l08534" name="l08534"></a><span class="lineno"> 8534</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot read, and don&#39;t understand the screen or the buttons!&quot;</span> ) );</div>
<div class="line"><a id="l08535" name="l08535"></a><span class="lineno"> 8535</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08536" name="l08536"></a><span class="lineno"> 8536</span>        }</div>
<div class="line"><a id="l08537" name="l08537"></a><span class="lineno"> 8537</span> </div>
<div class="line"><a id="l08538" name="l08538"></a><span class="lineno"> 8538</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a> ) || p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a> ) ) {</div>
<div class="line"><a id="l08539" name="l08539"></a><span class="lineno"> 8539</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="iuse_8cpp.html#a9af93aab490b34b7cc54b373b794780f">multicooker_hallu</a>( *p ) ) {</div>
<div class="line"><a id="l08540" name="l08540"></a><span class="lineno"> 8540</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08541" name="l08541"></a><span class="lineno"> 8541</span>            }</div>
<div class="line"><a id="l08542" name="l08542"></a><span class="lineno"> 8542</span>        }</div>
<div class="line"><a id="l08543" name="l08543"></a><span class="lineno"> 8543</span> </div>
<div class="line"><a id="l08544" name="l08544"></a><span class="lineno"> 8544</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a> ) &amp;&amp; !p-&gt;<a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <span class="stringliteral">&quot;FIX_FARSIGHT&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l08545" name="l08545"></a><span class="lineno"> 8545</span>            !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a> ) ) {</div>
<div class="line"><a id="l08546" name="l08546"></a><span class="lineno"> 8546</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l08547" name="l08547"></a><span class="lineno"> 8547</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ll need to put on reading glasses before you can see the screen.&quot;</span> ) );</div>
<div class="line"><a id="l08548" name="l08548"></a><span class="lineno"> 8548</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08549" name="l08549"></a><span class="lineno"> 8549</span>        }</div>
<div class="line"><a id="l08550" name="l08550"></a><span class="lineno"> 8550</span> </div>
<div class="line"><a id="l08551" name="l08551"></a><span class="lineno"> 8551</span>        <a class="code hl_class" href="classuilist.html">uilist</a> menu;</div>
<div class="line"><a id="l08552" name="l08552"></a><span class="lineno"> 8552</span>        menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Welcome to the RobotChef3000.  Choose option:&quot;</span> );</div>
<div class="line"><a id="l08553" name="l08553"></a><span class="lineno"> 8553</span> </div>
<div class="line"><a id="l08554" name="l08554"></a><span class="lineno"> 8554</span>        <a class="code hl_class" href="classitem.html">item</a> *dish_it = it-&gt;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ae91f4f5f0077f34e51f8acc525fd4798">get_item_with</a>(</div>
<div class="line"><a id="l08555" name="l08555"></a><span class="lineno"> 8555</span>        []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l08556" name="l08556"></a><span class="lineno"> 8556</span>            <span class="keywordflow">return</span> !( it.<a class="code hl_function" href="classitem.html#a91fb3717957325c9800f90c58a03ba4c">is_toolmod</a>() || it.<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() );</div>
<div class="line"><a id="l08557" name="l08557"></a><span class="lineno"> 8557</span>        } );</div>
<div class="line"><a id="l08558" name="l08558"></a><span class="lineno"> 8558</span> </div>
<div class="line"><a id="l08559" name="l08559"></a><span class="lineno"> 8559</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l08560" name="l08560"></a><span class="lineno"> 8560</span>            menu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( mc_stop, <span class="keyword">true</span>, <span class="charliteral">&#39;s&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stop cooking&quot;</span> ) );</div>
<div class="line"><a id="l08561" name="l08561"></a><span class="lineno"> 8561</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08562" name="l08562"></a><span class="lineno"> 8562</span>            <span class="keywordflow">if</span>( dish_it == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l08563" name="l08563"></a><span class="lineno"> 8563</span>                <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &lt; charges_to_start ) {</div>
<div class="line"><a id="l08564" name="l08564"></a><span class="lineno"> 8564</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Batteries are low.&quot;</span> ) );</div>
<div class="line"><a id="l08565" name="l08565"></a><span class="lineno"> 8565</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08566" name="l08566"></a><span class="lineno"> 8566</span>                }</div>
<div class="line"><a id="l08567" name="l08567"></a><span class="lineno"> 8567</span>                menu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( mc_start, <span class="keyword">true</span>, <span class="charliteral">&#39;s&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Start cooking&quot;</span> ) );</div>
<div class="line"><a id="l08568" name="l08568"></a><span class="lineno"> 8568</span><span class="comment"></span> </div>
<div class="line"><a id="l08569" name="l08569"></a><span class="lineno"> 8569</span><span class="comment">                /** @EFFECT_ELECTRONICS &gt;3 allows multicooker upgrade */</span></div>
<div class="line"><a id="l08570" name="l08570"></a><span class="lineno"> 8570</span><span class="comment"></span> </div>
<div class="line"><a id="l08571" name="l08571"></a><span class="lineno"> 8571</span><span class="comment">                /** @EFFECT_FABRICATION &gt;3 allows multicooker upgrade */</span></div>
<div class="line"><a id="l08572" name="l08572"></a><span class="lineno"> 8572</span>                <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a> ) &gt; 3 &amp;&amp; p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a> ) &gt; 3 ) {</div>
<div class="line"><a id="l08573" name="l08573"></a><span class="lineno"> 8573</span>                    <span class="keyword">const</span> <span class="keyword">auto</span> upgr = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;MULTI_COOK_UPGRADE&quot;</span> );</div>
<div class="line"><a id="l08574" name="l08574"></a><span class="lineno"> 8574</span>                    <span class="keywordflow">if</span>( upgr.empty() ) {</div>
<div class="line"><a id="l08575" name="l08575"></a><span class="lineno"> 8575</span>                        menu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( mc_upgrade, <span class="keyword">true</span>, <span class="charliteral">&#39;u&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Upgrade multi-cooker&quot;</span> ) );</div>
<div class="line"><a id="l08576" name="l08576"></a><span class="lineno"> 8576</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08577" name="l08577"></a><span class="lineno"> 8577</span>                        <span class="keywordflow">if</span>( upgr == <span class="stringliteral">&quot;UPGRADE&quot;</span> ) {</div>
<div class="line"><a id="l08578" name="l08578"></a><span class="lineno"> 8578</span>                            menu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( mc_upgrade, <span class="keyword">false</span>, <span class="charliteral">&#39;u&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Multi-cooker already upgraded&quot;</span> ) );</div>
<div class="line"><a id="l08579" name="l08579"></a><span class="lineno"> 8579</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08580" name="l08580"></a><span class="lineno"> 8580</span>                            menu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( mc_upgrade, <span class="keyword">false</span>, <span class="charliteral">&#39;u&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Multi-cooker unable to upgrade&quot;</span> ) );</div>
<div class="line"><a id="l08581" name="l08581"></a><span class="lineno"> 8581</span>                        }</div>
<div class="line"><a id="l08582" name="l08582"></a><span class="lineno"> 8582</span>                    }</div>
<div class="line"><a id="l08583" name="l08583"></a><span class="lineno"> 8583</span>                }</div>
<div class="line"><a id="l08584" name="l08584"></a><span class="lineno"> 8584</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08585" name="l08585"></a><span class="lineno"> 8585</span>                menu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( mc_take, <span class="keyword">true</span>, <span class="charliteral">&#39;t&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Take out dish&quot;</span> ) );</div>
<div class="line"><a id="l08586" name="l08586"></a><span class="lineno"> 8586</span>            }</div>
<div class="line"><a id="l08587" name="l08587"></a><span class="lineno"> 8587</span>        }</div>
<div class="line"><a id="l08588" name="l08588"></a><span class="lineno"> 8588</span> </div>
<div class="line"><a id="l08589" name="l08589"></a><span class="lineno"> 8589</span>        menu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l08590" name="l08590"></a><span class="lineno"> 8590</span>        <span class="keywordtype">int</span> choice = menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l08591" name="l08591"></a><span class="lineno"> 8591</span> </div>
<div class="line"><a id="l08592" name="l08592"></a><span class="lineno"> 8592</span>        <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l08593" name="l08593"></a><span class="lineno"> 8593</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08594" name="l08594"></a><span class="lineno"> 8594</span>        }</div>
<div class="line"><a id="l08595" name="l08595"></a><span class="lineno"> 8595</span> </div>
<div class="line"><a id="l08596" name="l08596"></a><span class="lineno"> 8596</span>        <span class="keywordflow">if</span>( mc_stop == choice ) {</div>
<div class="line"><a id="l08597" name="l08597"></a><span class="lineno"> 8597</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Really stop cooking?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l08598" name="l08598"></a><span class="lineno"> 8598</span>                it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08599" name="l08599"></a><span class="lineno"> 8599</span>                it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;DISH&quot;</span> );</div>
<div class="line"><a id="l08600" name="l08600"></a><span class="lineno"> 8600</span>                it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;COOKTIME&quot;</span> );</div>
<div class="line"><a id="l08601" name="l08601"></a><span class="lineno"> 8601</span>                it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;RECIPE&quot;</span> );</div>
<div class="line"><a id="l08602" name="l08602"></a><span class="lineno"> 8602</span>            }</div>
<div class="line"><a id="l08603" name="l08603"></a><span class="lineno"> 8603</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08604" name="l08604"></a><span class="lineno"> 8604</span>        }</div>
<div class="line"><a id="l08605" name="l08605"></a><span class="lineno"> 8605</span> </div>
<div class="line"><a id="l08606" name="l08606"></a><span class="lineno"> 8606</span>        <span class="keywordflow">if</span>( mc_take == choice ) {</div>
<div class="line"><a id="l08607" name="l08607"></a><span class="lineno"> 8607</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;dish = *dish_it;</div>
<div class="line"><a id="l08608" name="l08608"></a><span class="lineno"> 8608</span>            <span class="keyword">const</span> std::string dish_name = dish.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( dish.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l08609" name="l08609"></a><span class="lineno"> 8609</span>            <span class="keywordflow">if</span>( dish.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l08610" name="l08610"></a><span class="lineno"> 8610</span>                <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classplayer.html#a7de6a67bf992674f83642a4f67cffdba">check_eligible_containers_for_crafting</a>( *<a class="code hl_class" href="classstring__id.html">recipe_id</a>( it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;RECIPE&quot;</span> ) ), 1 ) ) {</div>
<div class="line"><a id="l08611" name="l08611"></a><span class="lineno"> 8611</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have a suitable container to store your %s.&quot;</span> ),</div>
<div class="line"><a id="l08612" name="l08612"></a><span class="lineno"> 8612</span>                                          dish_name );</div>
<div class="line"><a id="l08613" name="l08613"></a><span class="lineno"> 8613</span> </div>
<div class="line"><a id="l08614" name="l08614"></a><span class="lineno"> 8614</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08615" name="l08615"></a><span class="lineno"> 8615</span>                }</div>
<div class="line"><a id="l08616" name="l08616"></a><span class="lineno"> 8616</span>                <a class="code hl_function" href="namespaceliquid__handler.html#abdd687d6de27a042558f41fd9f7a0aba">liquid_handler::handle_all_liquid</a>( dish, <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> );</div>
<div class="line"><a id="l08617" name="l08617"></a><span class="lineno"> 8617</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08618" name="l08618"></a><span class="lineno"> 8618</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( dish );</div>
<div class="line"><a id="l08619" name="l08619"></a><span class="lineno"> 8619</span>            }</div>
<div class="line"><a id="l08620" name="l08620"></a><span class="lineno"> 8620</span> </div>
<div class="line"><a id="l08621" name="l08621"></a><span class="lineno"> 8621</span>            it-&gt;<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *dish_it );</div>
<div class="line"><a id="l08622" name="l08622"></a><span class="lineno"> 8622</span>            it-&gt;<a class="code hl_function" href="classitem.html#aa24fc115fb6cd1124efec30970cfcd9b">erase_var</a>( <span class="stringliteral">&quot;RECIPE&quot;</span> );</div>
<div class="line"><a id="l08623" name="l08623"></a><span class="lineno"> 8623</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a39e569f5e0f4ae83fdef1fd5bcddc02e">itype_multi_cooker</a> );</div>
<div class="line"><a id="l08624" name="l08624"></a><span class="lineno"> 8624</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You got the %s from the multi-cooker.&quot;</span> ),</div>
<div class="line"><a id="l08625" name="l08625"></a><span class="lineno"> 8625</span>                                  dish_name );</div>
<div class="line"><a id="l08626" name="l08626"></a><span class="lineno"> 8626</span> </div>
<div class="line"><a id="l08627" name="l08627"></a><span class="lineno"> 8627</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08628" name="l08628"></a><span class="lineno"> 8628</span>        }</div>
<div class="line"><a id="l08629" name="l08629"></a><span class="lineno"> 8629</span> </div>
<div class="line"><a id="l08630" name="l08630"></a><span class="lineno"> 8630</span>        <span class="keywordflow">if</span>( mc_start == choice ) {</div>
<div class="line"><a id="l08631" name="l08631"></a><span class="lineno"> 8631</span>            <a class="code hl_class" href="classuilist.html">uilist</a> dmenu;</div>
<div class="line"><a id="l08632" name="l08632"></a><span class="lineno"> 8632</span>            dmenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Choose desired meal:&quot;</span> );</div>
<div class="line"><a id="l08633" name="l08633"></a><span class="lineno"> 8633</span> </div>
<div class="line"><a id="l08634" name="l08634"></a><span class="lineno"> 8634</span>            std::vector&lt;const recipe *&gt; dishes;</div>
<div class="line"><a id="l08635" name="l08635"></a><span class="lineno"> 8635</span> </div>
<div class="line"><a id="l08636" name="l08636"></a><span class="lineno"> 8636</span>            <a class="code hl_class" href="classinventory.html">inventory</a> crafting_inv = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.crafting_inventory();</div>
<div class="line"><a id="l08637" name="l08637"></a><span class="lineno"> 8637</span>            <span class="comment">//add some tools and qualities. we can&#39;t add this qualities to json, because multicook must be used only by activating, not as component other crafts.</span></div>
<div class="line"><a id="l08638" name="l08638"></a><span class="lineno"> 8638</span>            <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> bday = <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a>;</div>
<div class="line"><a id="l08639" name="l08639"></a><span class="lineno"> 8639</span>            crafting_inv.<a class="code hl_function" href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">push_back</a>( <a class="code hl_class" href="classitem.html">item</a>( <span class="stringliteral">&quot;hotplate&quot;</span>, bday ) ); <span class="comment">//hotplate inside</span></div>
<div class="line"><a id="l08640" name="l08640"></a><span class="lineno"> 8640</span>            crafting_inv.<a class="code hl_function" href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">push_back</a>( <a class="code hl_class" href="classitem.html">item</a>( <span class="stringliteral">&quot;tongs&quot;</span>, bday ) ); <span class="comment">//some recipes requires tongs</span></div>
<div class="line"><a id="l08641" name="l08641"></a><span class="lineno"> 8641</span>            crafting_inv.<a class="code hl_function" href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">push_back</a>( <a class="code hl_class" href="classitem.html">item</a>( <span class="stringliteral">&quot;toolset&quot;</span>, bday ) ); <span class="comment">//toolset with CUT and other qualities inside</span></div>
<div class="line"><a id="l08642" name="l08642"></a><span class="lineno"> 8642</span>            crafting_inv.<a class="code hl_function" href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">push_back</a>( <a class="code hl_class" href="classitem.html">item</a>( <span class="stringliteral">&quot;pot&quot;</span>, bday ) ); <span class="comment">//good COOK, BOIL, CONTAIN qualities inside</span></div>
<div class="line"><a id="l08643" name="l08643"></a><span class="lineno"> 8643</span> </div>
<div class="line"><a id="l08644" name="l08644"></a><span class="lineno"> 8644</span>            <span class="keywordtype">int</span> counter = 0;</div>
<div class="line"><a id="l08645" name="l08645"></a><span class="lineno"> 8645</span> </div>
<div class="line"><a id="l08646" name="l08646"></a><span class="lineno"> 8646</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;r : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_learned_recipes().in_category( <span class="stringliteral">&quot;CC_FOOD&quot;</span> ) ) {</div>
<div class="line"><a id="l08647" name="l08647"></a><span class="lineno"> 8647</span>                <span class="keywordflow">if</span>( multicooked_subcats.count( r-&gt;subcategory ) &gt; 0 ) {</div>
<div class="line"><a id="l08648" name="l08648"></a><span class="lineno"> 8648</span>                    dishes.push_back( r );</div>
<div class="line"><a id="l08649" name="l08649"></a><span class="lineno"> 8649</span>                    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_make = r-&gt;deduped_requirements().can_make_with_inventory(</div>
<div class="line"><a id="l08650" name="l08650"></a><span class="lineno"> 8650</span>                                              crafting_inv, r-&gt;get_component_filter() );</div>
<div class="line"><a id="l08651" name="l08651"></a><span class="lineno"> 8651</span> </div>
<div class="line"><a id="l08652" name="l08652"></a><span class="lineno"> 8652</span>                    dmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( counter++, can_make, -1, r-&gt;result_name() );</div>
<div class="line"><a id="l08653" name="l08653"></a><span class="lineno"> 8653</span>                }</div>
<div class="line"><a id="l08654" name="l08654"></a><span class="lineno"> 8654</span>            }</div>
<div class="line"><a id="l08655" name="l08655"></a><span class="lineno"> 8655</span> </div>
<div class="line"><a id="l08656" name="l08656"></a><span class="lineno"> 8656</span>            dmenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l08657" name="l08657"></a><span class="lineno"> 8657</span> </div>
<div class="line"><a id="l08658" name="l08658"></a><span class="lineno"> 8658</span>            <span class="keywordtype">int</span> choice = dmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l08659" name="l08659"></a><span class="lineno"> 8659</span> </div>
<div class="line"><a id="l08660" name="l08660"></a><span class="lineno"> 8660</span>            <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l08661" name="l08661"></a><span class="lineno"> 8661</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08662" name="l08662"></a><span class="lineno"> 8662</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08663" name="l08663"></a><span class="lineno"> 8663</span>                <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> *meal = dishes[choice];</div>
<div class="line"><a id="l08664" name="l08664"></a><span class="lineno"> 8664</span>                <span class="keywordtype">int</span> mealtime;</div>
<div class="line"><a id="l08665" name="l08665"></a><span class="lineno"> 8665</span>                <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;MULTI_COOK_UPGRADE&quot;</span> ) == <span class="stringliteral">&quot;UPGRADE&quot;</span> ) {</div>
<div class="line"><a id="l08666" name="l08666"></a><span class="lineno"> 8666</span>                    mealtime = meal-&gt;<a class="code hl_variable" href="classrecipe.html#a6f112b43cfa1f07bb48529d110839e6d">time</a>;</div>
<div class="line"><a id="l08667" name="l08667"></a><span class="lineno"> 8667</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08668" name="l08668"></a><span class="lineno"> 8668</span>                    mealtime = meal-&gt;<a class="code hl_variable" href="classrecipe.html#a6f112b43cfa1f07bb48529d110839e6d">time</a> * 2;</div>
<div class="line"><a id="l08669" name="l08669"></a><span class="lineno"> 8669</span>                }</div>
<div class="line"><a id="l08670" name="l08670"></a><span class="lineno"> 8670</span> </div>
<div class="line"><a id="l08671" name="l08671"></a><span class="lineno"> 8671</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> all_charges = charges_to_start + mealtime / ( it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;power_draw / 10000 );</div>
<div class="line"><a id="l08672" name="l08672"></a><span class="lineno"> 8672</span> </div>
<div class="line"><a id="l08673" name="l08673"></a><span class="lineno"> 8673</span>                <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &lt; all_charges ) {</div>
<div class="line"><a id="l08674" name="l08674"></a><span class="lineno"> 8674</span> </div>
<div class="line"><a id="l08675" name="l08675"></a><span class="lineno"> 8675</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l08676" name="l08676"></a><span class="lineno"> 8676</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The multi-cooker needs %d charges to cook this dish.&quot;</span> ),</div>
<div class="line"><a id="l08677" name="l08677"></a><span class="lineno"> 8677</span>                                          all_charges );</div>
<div class="line"><a id="l08678" name="l08678"></a><span class="lineno"> 8678</span> </div>
<div class="line"><a id="l08679" name="l08679"></a><span class="lineno"> 8679</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08680" name="l08680"></a><span class="lineno"> 8680</span>                }</div>
<div class="line"><a id="l08681" name="l08681"></a><span class="lineno"> 8681</span> </div>
<div class="line"><a id="l08682" name="l08682"></a><span class="lineno"> 8682</span>                <span class="keyword">const</span> <span class="keyword">auto</span> filter = <a class="code hl_function" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a>;</div>
<div class="line"><a id="l08683" name="l08683"></a><span class="lineno"> 8683</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structrequirement__data.html">requirement_data</a> *reqs =</div>
<div class="line"><a id="l08684" name="l08684"></a><span class="lineno"> 8684</span>                    meal-&gt;<a class="code hl_function" href="classrecipe.html#a1c935a61b9e502fe69cc8c1e89c72d12">deduped_requirements</a>().<a class="code hl_function" href="classdeduped__requirement__data.html#a16713f5faf5d64045a8aeb543045dc23">select_alternative</a>( *p, filter );</div>
<div class="line"><a id="l08685" name="l08685"></a><span class="lineno"> 8685</span>                <span class="keywordflow">if</span>( !reqs ) {</div>
<div class="line"><a id="l08686" name="l08686"></a><span class="lineno"> 8686</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08687" name="l08687"></a><span class="lineno"> 8687</span>                }</div>
<div class="line"><a id="l08688" name="l08688"></a><span class="lineno"> 8688</span> </div>
<div class="line"><a id="l08689" name="l08689"></a><span class="lineno"> 8689</span>                <span class="keywordflow">for</span>( <span class="keyword">auto</span> <a class="code hl_struct" href="structcomponent.html">component</a> : reqs-&gt;<a class="code hl_function" href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">get_components</a>() ) {</div>
<div class="line"><a id="l08690" name="l08690"></a><span class="lineno"> 8690</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">consume_items</a>( <a class="code hl_struct" href="structcomponent.html">component</a>, 1, filter );</div>
<div class="line"><a id="l08691" name="l08691"></a><span class="lineno"> 8691</span>                }</div>
<div class="line"><a id="l08692" name="l08692"></a><span class="lineno"> 8692</span> </div>
<div class="line"><a id="l08693" name="l08693"></a><span class="lineno"> 8693</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;RECIPE&quot;</span>, meal-&gt;<a class="code hl_function" href="classrecipe.html#a5f1fa30e49785a8c16c4f5951d039afb">ident</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l08694" name="l08694"></a><span class="lineno"> 8694</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;DISH&quot;</span>, meal-&gt;<a class="code hl_function" href="classrecipe.html#ad47b2208779717bbaa2f43fc1a6408b0">result</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l08695" name="l08695"></a><span class="lineno"> 8695</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;COOKTIME&quot;</span>, mealtime );</div>
<div class="line"><a id="l08696" name="l08696"></a><span class="lineno"> 8696</span> </div>
<div class="line"><a id="l08697" name="l08697"></a><span class="lineno"> 8697</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l08698" name="l08698"></a><span class="lineno"> 8698</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The screen flashes blue symbols and scales as the multi-cooker begins to shake.&quot;</span> ) );</div>
<div class="line"><a id="l08699" name="l08699"></a><span class="lineno"> 8699</span> </div>
<div class="line"><a id="l08700" name="l08700"></a><span class="lineno"> 8700</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#af305e7ad8f70969f4453060bf5894885">itype_multi_cooker_filled</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08701" name="l08701"></a><span class="lineno"> 8701</span>                it-&gt;<a class="code hl_function" href="classitem.html#ae00bce86206993cc672387f9a2c77f92">ammo_consume</a>( charges_to_start, pos );</div>
<div class="line"><a id="l08702" name="l08702"></a><span class="lineno"> 8702</span> </div>
<div class="line"><a id="l08703" name="l08703"></a><span class="lineno"> 8703</span>                p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">skill_cooking</a>, meal-&gt;<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> * 3 ); <span class="comment">//little bonus</span></div>
<div class="line"><a id="l08704" name="l08704"></a><span class="lineno"> 8704</span> </div>
<div class="line"><a id="l08705" name="l08705"></a><span class="lineno"> 8705</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08706" name="l08706"></a><span class="lineno"> 8706</span>            }</div>
<div class="line"><a id="l08707" name="l08707"></a><span class="lineno"> 8707</span>        }</div>
<div class="line"><a id="l08708" name="l08708"></a><span class="lineno"> 8708</span> </div>
<div class="line"><a id="l08709" name="l08709"></a><span class="lineno"> 8709</span>        <span class="keywordflow">if</span>( mc_upgrade == choice ) {</div>
<div class="line"><a id="l08710" name="l08710"></a><span class="lineno"> 8710</span> </div>
<div class="line"><a id="l08711" name="l08711"></a><span class="lineno"> 8711</span>            <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#a9ca7c0c3d959ba59a58203261e051acd">has_morale_to_craft</a>() ) {</div>
<div class="line"><a id="l08712" name="l08712"></a><span class="lineno"> 8712</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your morale is too low to craft…&quot;</span> ) );</div>
<div class="line"><a id="l08713" name="l08713"></a><span class="lineno"> 8713</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08714" name="l08714"></a><span class="lineno"> 8714</span>            }</div>
<div class="line"><a id="l08715" name="l08715"></a><span class="lineno"> 8715</span> </div>
<div class="line"><a id="l08716" name="l08716"></a><span class="lineno"> 8716</span>            <span class="keywordtype">bool</span> has_tools = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08717" name="l08717"></a><span class="lineno"> 8717</span> </div>
<div class="line"><a id="l08718" name="l08718"></a><span class="lineno"> 8718</span>            <span class="keyword">const</span> <a class="code hl_class" href="classinventory.html">inventory</a> &amp;cinv = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.crafting_inventory();</div>
<div class="line"><a id="l08719" name="l08719"></a><span class="lineno"> 8719</span> </div>
<div class="line"><a id="l08720" name="l08720"></a><span class="lineno"> 8720</span>            <span class="keywordflow">if</span>( !cinv.<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( <a class="code hl_variable" href="iuse_8cpp.html#a33dde1f8402abf0eea62ecee985182e3">itype_soldering_iron</a>, 1 ) ) {</div>
<div class="line"><a id="l08721" name="l08721"></a><span class="lineno"> 8721</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a %s.&quot;</span> ),</div>
<div class="line"><a id="l08722" name="l08722"></a><span class="lineno"> 8722</span>                                      <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( <a class="code hl_variable" href="iuse_8cpp.html#a33dde1f8402abf0eea62ecee985182e3">itype_soldering_iron</a> ) );</div>
<div class="line"><a id="l08723" name="l08723"></a><span class="lineno"> 8723</span>                has_tools = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08724" name="l08724"></a><span class="lineno"> 8724</span>            }</div>
<div class="line"><a id="l08725" name="l08725"></a><span class="lineno"> 8725</span> </div>
<div class="line"><a id="l08726" name="l08726"></a><span class="lineno"> 8726</span>            <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">quality_id</a> SCREW_FINE( <span class="stringliteral">&quot;SCREW_FINE&quot;</span> );</div>
<div class="line"><a id="l08727" name="l08727"></a><span class="lineno"> 8727</span>            <span class="keywordflow">if</span>( !cinv.<a class="code hl_function" href="classvisitable.html#a62ad0b8f7866ec171a709c56e4a25ff2">has_quality</a>( SCREW_FINE ) ) {</div>
<div class="line"><a id="l08728" name="l08728"></a><span class="lineno"> 8728</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need an item with %s of 1 or more to disassemble this.&quot;</span> ),</div>
<div class="line"><a id="l08729" name="l08729"></a><span class="lineno"> 8729</span>                                      SCREW_FINE.obj().name );</div>
<div class="line"><a id="l08730" name="l08730"></a><span class="lineno"> 8730</span>                has_tools = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08731" name="l08731"></a><span class="lineno"> 8731</span>            }</div>
<div class="line"><a id="l08732" name="l08732"></a><span class="lineno"> 8732</span> </div>
<div class="line"><a id="l08733" name="l08733"></a><span class="lineno"> 8733</span>            <span class="keywordflow">if</span>( !has_tools ) {</div>
<div class="line"><a id="l08734" name="l08734"></a><span class="lineno"> 8734</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08735" name="l08735"></a><span class="lineno"> 8735</span>            }</div>
<div class="line"><a id="l08736" name="l08736"></a><span class="lineno"> 8736</span> </div>
<div class="line"><a id="l08737" name="l08737"></a><span class="lineno"> 8737</span>            p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5, 10 ) );</div>
<div class="line"><a id="l08738" name="l08738"></a><span class="lineno"> 8738</span>            p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5, 10 ) );</div>
<div class="line"><a id="l08739" name="l08739"></a><span class="lineno"> 8739</span> </div>
<div class="line"><a id="l08740" name="l08740"></a><span class="lineno"> 8740</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 7_seconds );</div>
<div class="line"><a id="l08741" name="l08741"></a><span class="lineno"> 8741</span><span class="comment"></span> </div>
<div class="line"><a id="l08742" name="l08742"></a><span class="lineno"> 8742</span><span class="comment">            /** @EFFECT_INT increases chance to successfully upgrade multi-cooker */</span></div>
<div class="line"><a id="l08743" name="l08743"></a><span class="lineno"> 8743</span><span class="comment"></span> </div>
<div class="line"><a id="l08744" name="l08744"></a><span class="lineno"> 8744</span><span class="comment">            /** @EFFECT_ELECTRONICS increases chance to successfully upgrade multi-cooker */</span></div>
<div class="line"><a id="l08745" name="l08745"></a><span class="lineno"> 8745</span><span class="comment"></span> </div>
<div class="line"><a id="l08746" name="l08746"></a><span class="lineno"> 8746</span><span class="comment">            /** @EFFECT_FABRICATION increases chance to successfully upgrade multi-cooker */</span></div>
<div class="line"><a id="l08747" name="l08747"></a><span class="lineno"> 8747</span>            <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a> ) + p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a> ) + p-&gt;<a class="code hl_variable" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a> &gt;</div>
<div class="line"><a id="l08748" name="l08748"></a><span class="lineno"> 8748</span>                <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 20, 35 ) ) {</div>
<div class="line"><a id="l08749" name="l08749"></a><span class="lineno"> 8749</span> </div>
<div class="line"><a id="l08750" name="l08750"></a><span class="lineno"> 8750</span>                p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5, 20 ) );</div>
<div class="line"><a id="l08751" name="l08751"></a><span class="lineno"> 8751</span>                p-&gt;<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="iuse_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5, 20 ) );</div>
<div class="line"><a id="l08752" name="l08752"></a><span class="lineno"> 8752</span> </div>
<div class="line"><a id="l08753" name="l08753"></a><span class="lineno"> 8753</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l08754" name="l08754"></a><span class="lineno"> 8754</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ve successfully upgraded the multi-cooker, master tinkerer!  Now it cooks faster!&quot;</span> ) );</div>
<div class="line"><a id="l08755" name="l08755"></a><span class="lineno"> 8755</span> </div>
<div class="line"><a id="l08756" name="l08756"></a><span class="lineno"> 8756</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;MULTI_COOK_UPGRADE&quot;</span>, <span class="stringliteral">&quot;UPGRADE&quot;</span> );</div>
<div class="line"><a id="l08757" name="l08757"></a><span class="lineno"> 8757</span> </div>
<div class="line"><a id="l08758" name="l08758"></a><span class="lineno"> 8758</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08759" name="l08759"></a><span class="lineno"> 8759</span> </div>
<div class="line"><a id="l08760" name="l08760"></a><span class="lineno"> 8760</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08761" name="l08761"></a><span class="lineno"> 8761</span> </div>
<div class="line"><a id="l08762" name="l08762"></a><span class="lineno"> 8762</span>                <span class="keywordflow">if</span>( !<a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a id="l08763" name="l08763"></a><span class="lineno"> 8763</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a id="l08764" name="l08764"></a><span class="lineno"> 8764</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You sagely examine and analyze the multi-cooker, but don&#39;t manage to accomplish anything.&quot;</span> ) );</div>
<div class="line"><a id="l08765" name="l08765"></a><span class="lineno"> 8765</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08766" name="l08766"></a><span class="lineno"> 8766</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l08767" name="l08767"></a><span class="lineno"> 8767</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your tinkering nearly breaks the multi-cooker!  Fortunately, it still works, but best to stop messing with it.&quot;</span> ) );</div>
<div class="line"><a id="l08768" name="l08768"></a><span class="lineno"> 8768</span>                    it-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;MULTI_COOK_UPGRADE&quot;</span>, <span class="stringliteral">&quot;DAMAGED&quot;</span> );</div>
<div class="line"><a id="l08769" name="l08769"></a><span class="lineno"> 8769</span>                }</div>
<div class="line"><a id="l08770" name="l08770"></a><span class="lineno"> 8770</span> </div>
<div class="line"><a id="l08771" name="l08771"></a><span class="lineno"> 8771</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08772" name="l08772"></a><span class="lineno"> 8772</span> </div>
<div class="line"><a id="l08773" name="l08773"></a><span class="lineno"> 8773</span>            }</div>
<div class="line"><a id="l08774" name="l08774"></a><span class="lineno"> 8774</span> </div>
<div class="line"><a id="l08775" name="l08775"></a><span class="lineno"> 8775</span>        }</div>
<div class="line"><a id="l08776" name="l08776"></a><span class="lineno"> 8776</span> </div>
<div class="line"><a id="l08777" name="l08777"></a><span class="lineno"> 8777</span>    }</div>
<div class="line"><a id="l08778" name="l08778"></a><span class="lineno"> 8778</span> </div>
<div class="line"><a id="l08779" name="l08779"></a><span class="lineno"> 8779</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08780" name="l08780"></a><span class="lineno"> 8780</span>}</div>
<div class="ttc" id="acached__options_8cpp_html_a1467e25ae6a1c8f9d4489be4a8e014a3"><div class="ttname"><a href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a></div><div class="ttdeci">int PICKUP_RANGE</div><div class="ttdoc">Items on the map with at most this distance to the player are considered available for crafting,...</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00017">cached_options.cpp:17</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9ca7c0c3d959ba59a58203261e051acd"><div class="ttname"><a href="classCharacter.html#a9ca7c0c3d959ba59a58203261e051acd">Character::has_morale_to_craft</a></div><div class="ttdeci">bool has_morale_to_craft() const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00329">crafting.cpp:329</a></div></div>
<div class="ttc" id="aclassdeduped__requirement__data_html_a16713f5faf5d64045a8aeb543045dc23"><div class="ttname"><a href="classdeduped__requirement__data.html#a16713f5faf5d64045a8aeb543045dc23">deduped_requirement_data::select_alternative</a></div><div class="ttdeci">const requirement_data * select_alternative(player &amp;, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, cost_adjustment=static_cast&lt; cost_adjustment &gt;(0)) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01507">requirements.cpp:1507</a></div></div>
<div class="ttc" id="aclassinventory_html"><div class="ttname"><a href="classinventory.html">inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00089">inventory.h:90</a></div></div>
<div class="ttc" id="aclassinventory_html_a2fc0c051b701e87b3ce58dad4f8c5288"><div class="ttname"><a href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">inventory::push_back</a></div><div class="ttdeci">void push_back(const std::list&lt; item &gt; &amp;newits)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00244">inventory.cpp:244</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09749">item.cpp:9749</a></div></div>
<div class="ttc" id="aclassitem_html_a91fb3717957325c9800f90c58a03ba4c"><div class="ttname"><a href="classitem.html#a91fb3717957325c9800f90c58a03ba4c">item::is_toolmod</a></div><div class="ttdeci">bool is_toolmod() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06615">item.cpp:6615</a></div></div>
<div class="ttc" id="aclassitem_html_adce43f2490a85e2dc212a26ce5ded4fc"><div class="ttname"><a href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">item::is_magazine</a></div><div class="ttdeci">bool is_magazine() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06407">item.cpp:6407</a></div></div>
<div class="ttc" id="aclassplayer_html_a7de6a67bf992674f83642a4f67cffdba"><div class="ttname"><a href="classplayer.html#a7de6a67bf992674f83642a4f67cffdba">player::check_eligible_containers_for_crafting</a></div><div class="ttdeci">bool check_eligible_containers_for_crafting(const recipe &amp;rec, int batch_size=1) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00407">crafting.cpp:407</a></div></div>
<div class="ttc" id="aclassrecipe_html_a10e4e7582e7174825ead3d07c3e4fca1"><div class="ttname"><a href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">recipe::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00060">recipe.h:60</a></div></div>
<div class="ttc" id="aclassrecipe_html_a1c935a61b9e502fe69cc8c1e89c72d12"><div class="ttname"><a href="classrecipe.html#a1c935a61b9e502fe69cc8c1e89c72d12">recipe::deduped_requirements</a></div><div class="ttdeci">const deduped_requirement_data &amp; deduped_requirements() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00071">recipe.h:71</a></div></div>
<div class="ttc" id="aclassrecipe_html_a5f1fa30e49785a8c16c4f5951d039afb"><div class="ttname"><a href="classrecipe.html#a5f1fa30e49785a8c16c4f5951d039afb">recipe::ident</a></div><div class="ttdeci">const recipe_id &amp; ident() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00075">recipe.h:75</a></div></div>
<div class="ttc" id="aclassrecipe_html_a6f112b43cfa1f07bb48529d110839e6d"><div class="ttname"><a href="classrecipe.html#a6f112b43cfa1f07bb48529d110839e6d">recipe::time</a></div><div class="ttdeci">int time</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00059">recipe.h:59</a></div></div>
<div class="ttc" id="aclassrecipe_html_ad47b2208779717bbaa2f43fc1a6408b0"><div class="ttname"><a href="classrecipe.html#ad47b2208779717bbaa2f43fc1a6408b0">recipe::result</a></div><div class="ttdeci">const itype_id &amp; result() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00048">recipe.h:48</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00430">calendar.h:431</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a33d14d146dbc0f416314bdb87d8fca77"><div class="ttname"><a href="iuse_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a></div><div class="ttdeci">static const efftype_id effect_hallu(&quot;hallu&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a33dde1f8402abf0eea62ecee985182e3"><div class="ttname"><a href="iuse_8cpp.html#a33dde1f8402abf0eea62ecee985182e3">itype_soldering_iron</a></div><div class="ttdeci">static const itype_id itype_soldering_iron(&quot;soldering_iron&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a39e569f5e0f4ae83fdef1fd5bcddc02e"><div class="ttname"><a href="iuse_8cpp.html#a39e569f5e0f4ae83fdef1fd5bcddc02e">itype_multi_cooker</a></div><div class="ttdeci">static const itype_id itype_multi_cooker(&quot;multi_cooker&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a6e356b8c88f37fd089a667b39f6b4419"><div class="ttname"><a href="iuse_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a></div><div class="ttdeci">static const efftype_id effect_visuals(&quot;visuals&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a92adaaef73b238fc4ae42c4f0ee72a86"><div class="ttname"><a href="iuse_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a></div><div class="ttdeci">static const skill_id skill_fabrication(&quot;fabrication&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a9af93aab490b34b7cc54b373b794780f"><div class="ttname"><a href="iuse_8cpp.html#a9af93aab490b34b7cc54b373b794780f">multicooker_hallu</a></div><div class="ttdeci">static bool multicooker_hallu(player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08336">iuse.cpp:8336</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_ad0e39d29af45ea0a03f280197b35ca72"><div class="ttname"><a href="iuse_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">skill_cooking</a></div><div class="ttdeci">static const skill_id skill_cooking(&quot;cooking&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_af305e7ad8f70969f4453060bf5894885"><div class="ttname"><a href="iuse_8cpp.html#af305e7ad8f70969f4453060bf5894885">itype_multi_cooker_filled</a></div><div class="ttdeci">static const itype_id itype_multi_cooker_filled(&quot;multi_cooker_filled&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_af557f83ca09615da5b2ff84b924e01c0"><div class="ttname"><a href="iuse_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a></div><div class="ttdeci">static const skill_id skill_electronics(&quot;electronics&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_ab01178b933b4f1c62bd75b2edfdbaf79"><div class="ttname"><a href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a></div><div class="ttdeci">const time_point &amp; start_of_cataclysm</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00033">calendar.cpp:33</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_abdd687d6de27a042558f41fd9f7a0aba"><div class="ttname"><a href="namespaceliquid__handler.html#abdd687d6de27a042558f41fd9f7a0aba">liquid_handler::handle_all_liquid</a></div><div class="ttdeci">void handle_all_liquid(item liquid, const int radius)</div><div class="ttdoc">Consume / handle all of the liquid.</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00095">handle_liquid.cpp:95</a></div></div>
<div class="ttc" id="astructcomponent_html"><div class="ttname"><a href="structcomponent.html">component</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00057">requirements.h:57</a></div></div>
<div class="ttc" id="astructrequirement__data_html"><div class="ttname"><a href="structrequirement__data.html">requirement_data</a></div><div class="ttdoc">The *_vector members represent list of alternatives requirements: alter_tool_comp_vector = { * { { a,...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00215">requirements.h:215</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a56dbf23ade6bced0dc6148b8e1a12d4c"><div class="ttname"><a href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">requirement_data::get_components</a></div><div class="ttdeci">const alter_item_comp_vector &amp; get_components() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00985">requirements.cpp:985</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="ui_8cpp_source.html#l00932">uilist::addentry()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="item_8cpp_source.html#l07324">item::ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="crafting_8cpp_source.html#l00407">player::check_eligible_containers_for_crafting()</a>, <a class="el" href="crafting_8cpp_source.html#l01487">player::consume_items()</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="recipe_8h_source.html#l00071">recipe::deduped_requirements()</a>, <a class="el" href="recipe_8h_source.html#l00060">recipe::difficulty</a>, <a class="el" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a>, <a class="el" href="iuse_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a>, <a class="el" href="iuse_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a>, <a class="el" href="item_8cpp_source.html#l01072">item::erase_var()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="requirements_8cpp_source.html#l00985">requirement_data::get_components()</a>, <a class="el" href="item__contents_8cpp_source.html#l00118">item_contents::get_item_with()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00095">liquid_handler::handle_all_liquid()</a>, <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; T &gt;::has_amount()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="crafting_8cpp_source.html#l00329">Character::has_morale_to_craft()</a>, <a class="el" href="visitable_8cpp_source.html#l00170">visitable&lt; T &gt;::has_quality()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="recipe_8h_source.html#l00075">recipe::ident()</a>, <a class="el" href="character_8h_source.html#l00306">Character::int_cur</a>, <a class="el" href="item_8h_source.html#l02275">is_crafting_component()</a>, <a class="el" href="item_8cpp_source.html#l06407">item::is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06615">item::is_toolmod()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="iuse_8cpp.html#a39e569f5e0f4ae83fdef1fd5bcddc02e">itype_multi_cooker</a>, <a class="el" href="iuse_8cpp.html#af305e7ad8f70969f4453060bf5894885">itype_multi_cooker_filled</a>, <a class="el" href="iuse_8cpp.html#a33dde1f8402abf0eea62ecee985182e3">itype_soldering_iron</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="item_8cpp_source.html#l06263">item::made_of()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="iuse_8cpp_source.html#l08336">multicooker_hallu()</a>, <a class="el" href="requirements_8h_source.html#l00047">quality::name</a>, <a class="el" href="item_8cpp_source.html#l09749">item::nname()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="player_8cpp_source.html#l04005">player::practice()</a>, <a class="el" href="inventory_8cpp_source.html#l00244">inventory::push_back()</a>, <a class="el" href="item_8cpp_source.html#l00987">item::put_in()</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; T &gt;::remove_item()</a>, <a class="el" href="recipe_8h_source.html#l00048">recipe::result()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="requirements_8cpp_source.html#l01507">deduped_requirement_data::select_alternative()</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, <a class="el" href="iuse_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">skill_cooking</a>, <a class="el" href="iuse_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a>, <a class="el" href="iuse_8cpp.html#a92adaaef73b238fc4ae42c4f0ee72a86">skill_fabrication</a>, <a class="el" href="iuse_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="calendar_8cpp_source.html#l00033">calendar::start_of_cataclysm</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, <a class="el" href="recipe_8h_source.html#l00059">recipe::time</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, <a class="el" href="iuse_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a>, <a class="el" href="iuse_8cpp.html#a357572465dfb7a0a417d86e1be77af49">trait_ILLITERATE</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>, and <a class="el" href="character_8cpp_source.html#l03241">Character::worn_with_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a2a7f7b04683cbec09580da469a10ccb0" name="a2a7f7b04683cbec09580da469a10ccb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a7f7b04683cbec09580da469a10ccb0">&#9670;&nbsp;</a></span>mycus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::mycus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Intelligence slightly reduces sleep duration when eating mycus 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01436">1436</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>{</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>    }</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    <span class="comment">// Welcome our guide.  Welcome.  To. The Mycus.</span></div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a0d7873e243723a1ba7390f11e934f61f">trait_THRESH_MARLOSS</a> ) ) {</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea9436c1f8a8fbba03e4b7ea8a8dc5b3e1">event_type::crosses_mycus_threshold</a>&gt;( p-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It tastes amazing, and you finish it quickly.&quot;</span> ) );</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel better all over.&quot;</span> ) );</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">mod_painkiller</a>( 30 );</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>        <a class="code hl_function" href="namespaceiuse.html#ad13ddff79124dac8f631e85e07a3439d">purifier</a>( p, it, t, pos ); <span class="comment">// Clear out some of that goo you may have floating around</span></div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ad06f0f9440098eb66fa9a6c46d033324">set_rad</a>( 0 );</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ae7a558a2455f552673b825e3ad2e0fd4">healall</a>( 4 ); <span class="comment">// Can&#39;t make you a whole new person, but not for lack of trying</span></div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;As it settles in, you feel ecstasy radiating through every part of your body…&quot;</span> ) );</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a469eab74882c318b14859579b2391a3d">MORALE_MARLOSS</a>, 1000, 1000 ); <span class="comment">// Last time you&#39;ll ever have it this good.  So enjoy.</span></div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your eyes roll back in your head.  Everything dissolves into a blissful haze…&quot;</span> ) );<span class="comment"></span></div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span><span class="comment">        /** @EFFECT_INT slightly reduces sleep duration when eating mycus */</span></div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a4886c07d74c7e8ad7ce2ced7d8238015">fall_asleep</a>( 5_hours - p-&gt;<a class="code hl_variable" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a> * 1_minutes );</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a4d0c8ac674e4cadce1faf3c002353a3b">unset_mutation</a>( <a class="code hl_variable" href="iuse_8cpp.html#a0d7873e243723a1ba7390f11e934f61f">trait_THRESH_MARLOSS</a> );</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ab62ff442fdad1420ab48b1c166af2e89">set_mutation</a>( <a class="code hl_variable" href="iuse_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a> );</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;invalidate_main_ui_adaptor();</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>        <span class="comment">//~ The Mycus does not use the term (or encourage the concept of) &quot;you&quot;.  The PC is a local/native organism, but is now the Mycus.</span></div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>        <span class="comment">//~ It still understands the concept, but uninitelligent fungaloids and mind-bent symbiotes should not need it.</span></div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>        <span class="comment">//~ We are the Mycus.</span></div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>        <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;We welcome into us.  We have endured long in this forbidding world.&quot;</span> ) );</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A sea of white caps, waving gently.  A haze of spores wafting silently over a forest.&quot;</span> ) );</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;invalidate_main_ui_adaptor();</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>        <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The natives have a saying: \&quot;E Pluribus Unum.\&quot;  Out of many, one.&quot;</span> ) );</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The blazing pink redness of the berry.  The juices spreading across your tongue, the warmth draping over us like a lover&#39;s embrace.&quot;</span> ) );</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;invalidate_main_ui_adaptor();</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>        <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;We welcome the union of our lines in our local guide.  We will prosper, and unite this world.  Even now, our fruits adapt to better serve local physiology.&quot;</span> ) );</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The sky-blue of the seed.  The nutty, creamy flavors intermingling with the berry, a memory that will never leave us.&quot;</span> ) );</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;invalidate_main_ui_adaptor();</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>        <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;As, in time, shall we adapt to better welcome those who have not received us.&quot;</span> ) );</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The amber-yellow of the sap.  Feel it flowing through our veins, taking the place of the strange, thin red gruel called \&quot;blood.\&quot;&quot;</span> ) );</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;invalidate_main_ui_adaptor();</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>        <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;We are the Mycus.&quot;</span> ) );</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>        <span class="comment">/*p-&gt;add_msg_if_player( m_good,</span></div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span><span class="comment">                              _( &quot;We welcome into us.  We have endured long in this forbidding world.&quot; ) );</span></div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span><span class="comment">        p-&gt;add_msg_if_player( m_good,</span></div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span><span class="comment">                              _( &quot;The natives have a saying: \&quot;E Pluribus Unum\&quot;  Out of many, one.&quot; ) );</span></div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span><span class="comment">        p-&gt;add_msg_if_player( m_good,</span></div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span><span class="comment">                              _( &quot;We welcome the union of our lines in our local guide.  We will prosper, and unite this world.&quot; ) );</span></div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span><span class="comment">        p-&gt;add_msg_if_player( m_good, _( &quot;Even now, our fruits adapt to better serve local physiology.&quot; ) );</span></div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span><span class="comment">        p-&gt;add_msg_if_player( m_good,</span></div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span><span class="comment">                              _( &quot;As, in time, shall we adapt to better welcome those who have not received us.&quot; ) );*/</span></div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>        <a class="code hl_class" href="classfungal__effects.html">fungal_effects</a> fe( *<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m );</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;nearby_pos : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 3 ) ) {</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>            fe.marlossify( nearby_pos );</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>        }</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a6106ffc3053c2eb470bd840bce44d1b9">rem_addiction</a>( <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bac6416db52d131e71cc3ed439730f7487">add_type::MARLOSS_R</a> );</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a6106ffc3053c2eb470bd840bce44d1b9">rem_addiction</a>( <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba03487ec93e1d34f02918f447ddaa3b55">add_type::MARLOSS_B</a> );</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a6106ffc3053c2eb470bd840bce44d1b9">rem_addiction</a>( <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bad6dffc087d24f34075ff83f08881aa69">add_type::MARLOSS_Y</a> );</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a> ) &amp;&amp;</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>               !p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#ac71452586eb6cf87fab888bc561dc897">trait_M_DEPENDENT</a> ) ) { <span class="comment">// OK, now set the hook.</span></div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#a00716e2ac25311496743b19eb9c598f1">mutate_category</a>( <span class="stringliteral">&quot;MYCUS&quot;</span> );</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#ac362a4ed1eb0794de41ee0b5df98724d">mod_stored_nutr</a>( 10 );</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 10 );</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( 5 );</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a469eab74882c318b14859579b2391a3d">MORALE_MARLOSS</a>, 25, 200 ); <span class="comment">// still covers up mutation pain</span></div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>        }</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a> ) ) {</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">mod_painkiller</a>( 5 );</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ac840406f65172cadd93d4274ddd78e15">mod_stim</a>( 5 );</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>    } <span class="keywordflow">else</span> { <span class="comment">// In case someone gets one without having been adapted first.</span></div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>        <span class="comment">// Marloss is the Mycus&#39; method of co-opting humans.  Mycus fruit is for symbiotes&#39; maintenance and development.</span></div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This tastes really weird!  You&#39;re not sure it&#39;s good for you…&quot;</span> ) );</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a219dfd606ef95e169114487e61ba0ad7">mutate</a>();</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>        p-&gt;<a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( 2 * <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 5 ) );</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ac362a4ed1eb0794de41ee0b5df98724d">mod_stored_nutr</a>( 10 );</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 10 );</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( 5 );</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>(); <span class="comment">// no hunger/quench benefit for you</span></div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">mod_healthy_mod</a>( -8, -50 );</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    }</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>}</div>
<div class="ttc" id="aclassCharacter_html_a00716e2ac25311496743b19eb9c598f1"><div class="ttname"><a href="classCharacter.html#a00716e2ac25311496743b19eb9c598f1">Character::mutate_category</a></div><div class="ttdeci">void mutate_category(const std::string &amp;mut_cat)</div><div class="ttdoc">Picks a random valid mutation in a category and mutate_towards() it.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l01044">mutation.cpp:1044</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4886c07d74c7e8ad7ce2ced7d8238015"><div class="ttname"><a href="classCharacter.html#a4886c07d74c7e8ad7ce2ced7d8238015">Character::fall_asleep</a></div><div class="ttdeci">void fall_asleep()</div><div class="ttdoc">Adds &quot;sleep&quot; to the player.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09248">character.cpp:9248</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4d0c8ac674e4cadce1faf3c002353a3b"><div class="ttname"><a href="classCharacter.html#a4d0c8ac674e4cadce1faf3c002353a3b">Character::unset_mutation</a></div><div class="ttdeci">void unset_mutation(const trait_id &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00167">mutation.cpp:167</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6106ffc3053c2eb470bd840bce44d1b9"><div class="ttname"><a href="classCharacter.html#a6106ffc3053c2eb470bd840bce44d1b9">Character::rem_addiction</a></div><div class="ttdeci">void rem_addiction(add_type type)</div><div class="ttdoc">Removes an addition from the player.</div><div class="ttdef"><b>Definition:</b> <a href="suffer_8cpp_source.html#l01946">suffer.cpp:1946</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab62ff442fdad1420ab48b1c166af2e89"><div class="ttname"><a href="classCharacter.html#ab62ff442fdad1420ab48b1c166af2e89">Character::set_mutation</a></div><div class="ttdeci">void set_mutation(const trait_id &amp;)</div><div class="ttdoc">Add or removes a mutation on the player, but does not trigger mutation loss/gain effects.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00154">mutation.cpp:154</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad06f0f9440098eb66fa9a6c46d033324"><div class="ttname"><a href="classCharacter.html#ad06f0f9440098eb66fa9a6c46d033324">Character::set_rad</a></div><div class="ttdeci">void set_rad(int new_rad)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07162">character.cpp:7162</a></div></div>
<div class="ttc" id="aclassfungal__effects_html"><div class="ttname"><a href="classfungal__effects.html">fungal_effects</a></div><div class="ttdef"><b>Definition:</b> <a href="fungal__effects_8h_source.html#l00010">fungal_effects.h:11</a></div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea9436c1f8a8fbba03e4b7ea8a8dc5b3e1"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea9436c1f8a8fbba03e4b7ea8a8dc5b3e1">event_type::crosses_mycus_threshold</a></div><div class="ttdeci">@ crosses_mycus_threshold</div></div>
<div class="ttc" id="aiuse_8cpp_html_a0d7873e243723a1ba7390f11e934f61f"><div class="ttname"><a href="iuse_8cpp.html#a0d7873e243723a1ba7390f11e934f61f">trait_THRESH_MARLOSS</a></div><div class="ttdeci">static const trait_id trait_THRESH_MARLOSS(&quot;THRESH_MARLOSS&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a40331e22a139e13b3b70f387c9fdd390"><div class="ttname"><a href="iuse_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a></div><div class="ttdeci">static const trait_id trait_THRESH_MYCUS(&quot;THRESH_MYCUS&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ac71452586eb6cf87fab888bc561dc897"><div class="ttname"><a href="iuse_8cpp.html#ac71452586eb6cf87fab888bc561dc897">trait_M_DEPENDENT</a></div><div class="ttdeci">static const trait_id trait_M_DEPENDENT(&quot;M_DEPENDENT&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a469eab74882c318b14859579b2391a3d"><div class="ttname"><a href="morale__types_8cpp.html#a469eab74882c318b14859579b2391a3d">MORALE_MARLOSS</a></div><div class="ttdeci">const morale_type MORALE_MARLOSS(&quot;morale_marloss&quot;)</div></div>
<div class="ttc" id="anamespaceiuse_html_ad13ddff79124dac8f631e85e07a3439d"><div class="ttname"><a href="namespaceiuse.html#ad13ddff79124dac8f631e85e07a3439d">iuse::purifier</a></div><div class="ttdeci">int purifier(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01132">iuse.cpp:1132</a></div></div>
<div class="ttc" id="apldata_8h_html_abffc2f52fa6cfeac2e388c6de0ac295ba03487ec93e1d34f02918f447ddaa3b55"><div class="ttname"><a href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba03487ec93e1d34f02918f447ddaa3b55">add_type::MARLOSS_B</a></div><div class="ttdeci">@ MARLOSS_B</div></div>
<div class="ttc" id="apldata_8h_html_abffc2f52fa6cfeac2e388c6de0ac295bac6416db52d131e71cc3ed439730f7487"><div class="ttname"><a href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bac6416db52d131e71cc3ed439730f7487">add_type::MARLOSS_R</a></div><div class="ttdeci">@ MARLOSS_R</div></div>
<div class="ttc" id="apldata_8h_html_abffc2f52fa6cfeac2e388c6de0ac295bad6dffc087d24f34075ff83f08881aa69"><div class="ttname"><a href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bad6dffc087d24f34075ff83f08881aa69">add_type::MARLOSS_Y</a></div><div class="ttdeci">@ MARLOSS_Y</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8cpp_source.html#l09067">Character::add_morale()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea9436c1f8a8fbba03e4b7ea8a8dc5b3e1">crosses_mycus_threshold</a>, <a class="el" href="character_8cpp_source.html#l09248">Character::fall_asleep()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l08627">Character::healall()</a>, <a class="el" href="character_8h_source.html#l00306">Character::int_cur</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba03487ec93e1d34f02918f447ddaa3b55">MARLOSS_B</a>, <a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bac6416db52d131e71cc3ed439730f7487">MARLOSS_R</a>, <a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bad6dffc087d24f34075ff83f08881aa69">MARLOSS_Y</a>, <a class="el" href="fungal__effects_8cpp_source.html#l00122">fungal_effects::marlossify()</a>, <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, <a class="el" href="character_8cpp_source.html#l04242">Character::mod_healthy_mod()</a>, <a class="el" href="player_8cpp_source.html#l01092">player::mod_pain()</a>, <a class="el" href="character_8cpp_source.html#l09756">Character::mod_painkiller()</a>, <a class="el" href="character_8cpp_source.html#l07152">Character::mod_stim()</a>, <a class="el" href="character_8cpp_source.html#l04288">Character::mod_stored_nutr()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, <a class="el" href="morale__types_8cpp.html#a469eab74882c318b14859579b2391a3d">MORALE_MARLOSS</a>, <a class="el" href="mutation_8cpp_source.html#l00845">Character::mutate()</a>, <a class="el" href="mutation_8cpp_source.html#l01044">Character::mutate_category()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="iuse_8cpp_source.html#l01132">purifier()</a>, <a class="el" href="suffer_8cpp_source.html#l01946">Character::rem_addiction()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="mutation_8cpp_source.html#l00154">Character::set_mutation()</a>, <a class="el" href="character_8cpp_source.html#l07162">Character::set_rad()</a>, <a class="el" href="iuse_8cpp.html#ac71452586eb6cf87fab888bc561dc897">trait_M_DEPENDENT</a>, <a class="el" href="iuse_8cpp.html#a0d7873e243723a1ba7390f11e934f61f">trait_THRESH_MARLOSS</a>, <a class="el" href="iuse_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="mutation_8cpp_source.html#l00167">Character::unset_mutation()</a>, and <a class="el" href="character_8cpp_source.html#l07775">Character::vomit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l01916">mattack::fungus_fortify()</a>, <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="character_8cpp_source.html#l04716">Character::update_stomach()</a>.</p>

</div>
</div>
<a id="a3c1d4a10bd7e29e546ba40ab02b3d765" name="a3c1d4a10bd7e29e546ba40ab02b3d765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c1d4a10bd7e29e546ba40ab02b3d765">&#9670;&nbsp;</a></span>noise_emitter_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::noise_emitter_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02252">2252</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>{</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s dead.&quot;</span> ) );</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You turn the noise emitter on.&quot;</span> ) );</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1da2b24a18f43c568fd5e576252e010b">itype_noise_emitter_on</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>    }</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a1da2b24a18f43c568fd5e576252e010b"><div class="ttname"><a href="iuse_8cpp.html#a1da2b24a18f43c568fd5e576252e010b">itype_noise_emitter_on</a></div><div class="ttdeci">static const itype_id itype_noise_emitter_on(&quot;noise_emitter_on&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="iuse_8cpp.html#a1da2b24a18f43c568fd5e576252e010b">itype_noise_emitter_on</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a4abd33c9bed73fcf0455f67785ee29eb" name="a4abd33c9bed73fcf0455f67785ee29eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4abd33c9bed73fcf0455f67785ee29eb">&#9670;&nbsp;</a></span>noise_emitter_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::noise_emitter_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02263">2263</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>{</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Normal use</span></div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>        <span class="comment">//~ the sound of a noise emitter when turned on</span></div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 30, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;KXSHHHHRRCRKLKKK!&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;tool&quot;</span>,</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>                       <span class="stringliteral">&quot;noise_emitter&quot;</span> );</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>    } <span class="keywordflow">else</span> { <span class="comment">// Turning it off</span></div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The infernal racket dies as the noise emitter turns off.&quot;</span> ) );</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#af9d49c855111ea0084ca15a015ca3a7f">itype_noise_emitter</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>    }</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_af9d49c855111ea0084ca15a015ca3a7f"><div class="ttname"><a href="iuse_8cpp.html#af9d49c855111ea0084ca15a015ca3a7f">itype_noise_emitter</a></div><div class="ttdeci">static const itype_id itype_noise_emitter(&quot;noise_emitter&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="iuse_8cpp.html#af9d49c855111ea0084ca15a015ca3a7f">itype_noise_emitter</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a54ef0e8a9b1ce40de92f0baae5e54ca1" name="a54ef0e8a9b1ce40de92f0baae5e54ca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ef0e8a9b1ce40de92f0baae5e54ca1">&#9670;&nbsp;</a></span>note_bionics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::note_bionics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02277">2277</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>{</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>    <span class="keywordflow">if</span>( !t ) {</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>        it-&gt;<a class="code hl_function" href="classitem.html#a3e058f8327de11a69a8e33f597be6d80">deactivate</a>( p, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>    }</div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>        <span class="comment">// Not supported at the moment</span></div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>    }</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span> </div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>        it-&gt;<a class="code hl_function" href="classitem.html#a3e058f8327de11a69a8e33f597be6d80">deactivate</a>( p, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>    }</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pt : here.<a class="code hl_function" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( pos, <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> ) ) {</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>        <span class="keywordflow">if</span>( !here.<a class="code hl_function" href="classmap.html#aa904e9f61ca568d8ed985cf22193b8ed">has_items</a>( pt ) || !p-&gt;<a class="code hl_function" href="classCharacter.html#aba9bd7517b334e6ed4149889ed32377a">sees</a>( pt ) ) {</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>        }</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;corpse : here.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( pt ) ) {</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.is_corpse() ||</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>                <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.get_var( <span class="stringliteral">&quot;bionics_scanned_by&quot;</span>, -1 ) == p-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>().<a class="code hl_function" href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">get_value</a>() ) {</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>            }</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span> </div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>            std::vector&lt;const item *&gt; cbms;</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;maybe_cbm : <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.components ) {</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>                <span class="keywordflow">if</span>( maybe_cbm.<a class="code hl_function" href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">is_bionic</a>() ) {</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>                    cbms.push_back( &amp;maybe_cbm );</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>                }</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>            }</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span> </div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>            <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( cbms.size() ) &gt; it-&gt;<a class="code hl_function" href="classitem.html#ae00bce86206993cc672387f9a2c77f92">ammo_consume</a>( cbms.size(), pos ) ) {</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>                it-&gt;<a class="code hl_function" href="classitem.html#a3e058f8327de11a69a8e33f597be6d80">deactivate</a>( p, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>            }</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span> </div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>            <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.set_var( <span class="stringliteral">&quot;bionics_scanned_by&quot;</span>, p-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>().<a class="code hl_function" href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">get_value</a>() );</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>            <span class="keywordflow">if</span>( !cbms.empty() ) {</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>                <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.set_flag( <span class="stringliteral">&quot;CBM_SCANNED&quot;</span> );</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>                std::string bionics_string =</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>                    <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( cbms.begin(), cbms.end(),</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>                []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> * entry ) -&gt; std::string {</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>                    return entry-&gt;display_name();</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>                }, <a class="code hl_enumvalue" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a> );</div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>                <span class="comment">//~ %1 is corpse name, %2 is direction, %3 is bionic name</span></div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A %1$s located %2$s contains %3$s.&quot;</span> ),</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>                                      <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.display_name().c_str(),</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>                                      <a class="code hl_function" href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a>( <a class="code hl_function" href="coordinates_8h.html#a00be0762df7b46da965e55caffac53db">direction_from</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), pt ) ).c_str(),</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>                                      bionics_string.c_str()</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>                                    );</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>            }</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>        }</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>    }</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span> </div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>}</div>
<div class="ttc" id="aactive__item__cache_8h_html_acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f"><div class="ttname"><a href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">special_item_type::corpse</a></div><div class="ttdeci">@ corpse</div></div>
<div class="ttc" id="aclassCharacter_html_aba9bd7517b334e6ed4149889ed32377a"><div class="ttname"><a href="classCharacter.html#aba9bd7517b334e6ed4149889ed32377a">Character::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;t, bool is_player=false, int range_mod=0) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10384">character.cpp:10384</a></div></div>
<div class="ttc" id="aclasscharacter__id_html_a57a3bebd5dc5168d0b278cfccdbdcd18"><div class="ttname"><a href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">character_id::get_value</a></div><div class="ttdeci">int get_value() const</div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00023">character_id.h:23</a></div></div>
<div class="ttc" id="aclassitem_html_a3e058f8327de11a69a8e33f597be6d80"><div class="ttname"><a href="classitem.html#a3e058f8327de11a69a8e33f597be6d80">item::deactivate</a></div><div class="ttdeci">item &amp; deactivate(const Character *ch=nullptr, bool alert=true)</div><div class="ttdoc">Filter converting this instance to the inactive type If the item is either inactive or cannot be deac...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00537">item.cpp:537</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00371">map.h:372</a></div></div>
<div class="ttc" id="aclassmap_html_a4f5f812d7e89a998429958573a4c340f"><div class="ttname"><a href="classmap.html#a4f5f812d7e89a998429958573a4c340f">map::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08396">map.cpp:8396</a></div></div>
<div class="ttc" id="aclassmap_html_aa904e9f61ca568d8ed985cf22193b8ed"><div class="ttname"><a href="classmap.html#aa904e9f61ca568d8ed985cf22193b8ed">map::has_items</a></div><div class="ttdeci">bool has_items(const tripoint &amp;p) const</div><div class="ttdoc">Checks for existence of items.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04789">map.cpp:4789</a></div></div>
<div class="ttc" id="aoutput_8h_html_a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a></div><div class="ttdeci">@ none</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07324">item::ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>, <a class="el" href="item_8cpp_source.html#l00537">item::deactivate()</a>, <a class="el" href="coordinates_8h_source.html#l00540">direction_from()</a>, <a class="el" href="line_8cpp_source.html#l00528">direction_name()</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="map_8cpp_source.html#l00141">get_map()</a>, <a class="el" href="character__id_8h_source.html#l00023">character_id::get_value()</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="map_8cpp_source.html#l04789">map::has_items()</a>, <a class="el" href="map_8cpp_source.html#l04083">map::i_at()</a>, <a class="el" href="creature_8h_source.html#l00095">Creature::is_avatar()</a>, <a class="el" href="item_8cpp_source.html#l06402">item::is_bionic()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="map_8cpp_source.html#l08396">map::points_in_radius()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="character_8cpp_source.html#l10384">Character::sees()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a574c6a0371cf149b79ccf8fa062a44bf" name="a574c6a0371cf149b79ccf8fa062a44bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574c6a0371cf149b79ccf8fa062a44bf">&#9670;&nbsp;</a></span>oxygen_bottle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::oxygen_bottle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01005">1005</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>{</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 10_seconds );</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You breathe deeply from the %s&quot;</span> ),</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ),</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>                              <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; breathes from the %s&quot;</span> ),</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>                                      it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a72096ee2bbb945b58f1b7c01b09fd004">effect_smoke</a> ) ) {</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a72096ee2bbb945b58f1b7c01b09fd004">effect_smoke</a> );</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ad37b6925aab6c082f9b6bbf00e6336aa">effect_teargas</a> ) ) {</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ad37b6925aab6c082f9b6bbf00e6336aa">effect_teargas</a> );</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a2dde49329eef942ec57d25db274942c0">effect_asthma</a> ) ) {</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a2dde49329eef942ec57d25db274942c0">effect_asthma</a> );</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a7335f053c5874081211552623fa625c5">get_stim</a>() &lt; 16 ) {</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ac840406f65172cadd93d4274ddd78e15">mod_stim</a>( 8 );</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">mod_painkiller</a>( 2 );</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>    }</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">mod_painkiller</a>( 2 );</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>}</div>
<div class="ttc" id="aclassCharacter_html_a7335f053c5874081211552623fa625c5"><div class="ttname"><a href="classCharacter.html#a7335f053c5874081211552623fa625c5">Character::get_stim</a></div><div class="ttdeci">int get_stim() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07142">character.cpp:7142</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_ad37b6925aab6c082f9b6bbf00e6336aa"><div class="ttname"><a href="iuse_8cpp.html#ad37b6925aab6c082f9b6bbf00e6336aa">effect_teargas</a></div><div class="ttdeci">static const efftype_id effect_teargas(&quot;teargas&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a2dde49329eef942ec57d25db274942c0">effect_asthma</a>, <a class="el" href="iuse_8cpp.html#a72096ee2bbb945b58f1b7c01b09fd004">effect_smoke</a>, <a class="el" href="iuse_8cpp.html#ad37b6925aab6c082f9b6bbf00e6336aa">effect_teargas</a>, <a class="el" href="character_8cpp_source.html#l07142">Character::get_stim()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="character_8cpp_source.html#l09756">Character::mod_painkiller()</a>, <a class="el" href="character_8cpp_source.html#l07152">Character::mod_stim()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a2df3e8c930f47701ebe2a6a17538b584" name="a2df3e8c930f47701ebe2a6a17538b584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2df3e8c930f47701ebe2a6a17538b584">&#9670;&nbsp;</a></span>oxytorch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::oxytorch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04862">4862</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04863" name="l04863"></a><span class="lineno"> 4863</span>{</div>
<div class="line"><a id="l04864" name="l04864"></a><span class="lineno"> 4864</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l04865" name="l04865"></a><span class="lineno"> 4865</span>        <span class="comment">// Long action</span></div>
<div class="line"><a id="l04866" name="l04866"></a><span class="lineno"> 4866</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04867" name="l04867"></a><span class="lineno"> 4867</span>    }</div>
<div class="line"><a id="l04868" name="l04868"></a><span class="lineno"> 4868</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04869" name="l04869"></a><span class="lineno"> 4869</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04870" name="l04870"></a><span class="lineno"> 4870</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04871" name="l04871"></a><span class="lineno"> 4871</span>    }</div>
<div class="line"><a id="l04872" name="l04872"></a><span class="lineno"> 4872</span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">quality_id</a> GLARE( <span class="stringliteral">&quot;GLARE&quot;</span> );</div>
<div class="line"><a id="l04873" name="l04873"></a><span class="lineno"> 4873</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classvisitable.html#a62ad0b8f7866ec171a709c56e4a25ff2">has_quality</a>( GLARE, 2 ) ) {</div>
<div class="line"><a id="l04874" name="l04874"></a><span class="lineno"> 4874</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need welding goggles to do that.&quot;</span> ) );</div>
<div class="line"><a id="l04875" name="l04875"></a><span class="lineno"> 4875</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04876" name="l04876"></a><span class="lineno"> 4876</span>    }</div>
<div class="line"><a id="l04877" name="l04877"></a><span class="lineno"> 4877</span> </div>
<div class="line"><a id="l04878" name="l04878"></a><span class="lineno"> 4878</span>    <span class="keyword">const</span> std::set&lt;ter_id&gt; allowed_ter_id {</div>
<div class="line"><a id="l04879" name="l04879"></a><span class="lineno"> 4879</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a4634beea18999257dfeceab734dd71f4">t_chainfence_posts</a>,</div>
<div class="line"><a id="l04880" name="l04880"></a><span class="lineno"> 4880</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a5ec9dbb1139107c1c3f0fa83f868c352">t_window_enhanced</a>,</div>
<div class="line"><a id="l04881" name="l04881"></a><span class="lineno"> 4881</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a051531fcf5b68d50c7f080626547af97">t_window_enhanced_noglass</a>,</div>
<div class="line"><a id="l04882" name="l04882"></a><span class="lineno"> 4882</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a0d8c808248c75aafdb464b6ac8906ffb">t_chainfence</a>,</div>
<div class="line"><a id="l04883" name="l04883"></a><span class="lineno"> 4883</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a1aac21f1349f863e27c37e02aedfc255">t_chaingate_c</a>,</div>
<div class="line"><a id="l04884" name="l04884"></a><span class="lineno"> 4884</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a749628ad18e67f0cbe56b2add9c8518d">t_chaingate_l</a>,</div>
<div class="line"><a id="l04885" name="l04885"></a><span class="lineno"> 4885</span>        <a class="code hl_variable" href="mapdata_8cpp.html#aa8a4aed77e152355e263976c0a1bd0fc">t_bars</a>,</div>
<div class="line"><a id="l04886" name="l04886"></a><span class="lineno"> 4886</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a5965d87b2ca75049ae9bc1877a1539b2">t_window_bars_alarm</a>,</div>
<div class="line"><a id="l04887" name="l04887"></a><span class="lineno"> 4887</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a5c86fc6bcc6769b62eaded14956f412b">t_window_bars</a>,</div>
<div class="line"><a id="l04888" name="l04888"></a><span class="lineno"> 4888</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a1a854500428a2e6e6a67cbaf67fb6384">t_reb_cage</a>,</div>
<div class="line"><a id="l04889" name="l04889"></a><span class="lineno"> 4889</span>        <a class="code hl_variable" href="mapdata_8cpp.html#ae0e590a7541967775d4a3981a28d2ae5">t_door_metal_locked</a>,</div>
<div class="line"><a id="l04890" name="l04890"></a><span class="lineno"> 4890</span>        <a class="code hl_variable" href="mapdata_8cpp.html#aeefbc08f73d0fc9c356d59505db15211">t_door_metal_c</a>,</div>
<div class="line"><a id="l04891" name="l04891"></a><span class="lineno"> 4891</span>        <a class="code hl_variable" href="mapdata_8cpp.html#ac16c04d0d33758501b8e5f8c886de310">t_door_bar_c</a>,</div>
<div class="line"><a id="l04892" name="l04892"></a><span class="lineno"> 4892</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a38256073c475f06d6118d5bf0e1ecb0d">t_door_bar_locked</a>,</div>
<div class="line"><a id="l04893" name="l04893"></a><span class="lineno"> 4893</span>        <a class="code hl_variable" href="mapdata_8cpp.html#aeb33895b521685fc9cfb5ab546ecf297">t_door_metal_pickable</a></div>
<div class="line"><a id="l04894" name="l04894"></a><span class="lineno"> 4894</span>    };</div>
<div class="line"><a id="l04895" name="l04895"></a><span class="lineno"> 4895</span>    <span class="keyword">const</span> std::set&lt;furn_id&gt; allowed_furn_id {</div>
<div class="line"><a id="l04896" name="l04896"></a><span class="lineno"> 4896</span>        <a class="code hl_variable" href="mapdata_8cpp.html#a92a2621c6047e2eca05c96d11be439df">f_rack</a></div>
<div class="line"><a id="l04897" name="l04897"></a><span class="lineno"> 4897</span>    };</div>
<div class="line"><a id="l04898" name="l04898"></a><span class="lineno"> 4898</span> </div>
<div class="line"><a id="l04899" name="l04899"></a><span class="lineno"> 4899</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = [&amp;allowed_ter_id,</div>
<div class="line"><a id="l04900" name="l04900"></a><span class="lineno"> 4900</span>    &amp;allowed_furn_id]( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l04901" name="l04901"></a><span class="lineno"> 4901</span>        <span class="keywordflow">if</span>( pnt == <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) {</div>
<div class="line"><a id="l04902" name="l04902"></a><span class="lineno"> 4902</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04903" name="l04903"></a><span class="lineno"> 4903</span>        }</div>
<div class="line"><a id="l04904" name="l04904"></a><span class="lineno"> 4904</span>        <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> ter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l04905" name="l04905"></a><span class="lineno"> 4905</span>        <span class="keyword">const</span> <span class="keyword">auto</span> furn = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( pnt );</div>
<div class="line"><a id="l04906" name="l04906"></a><span class="lineno"> 4906</span> </div>
<div class="line"><a id="l04907" name="l04907"></a><span class="lineno"> 4907</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_allowed = ( allowed_ter_id.find( ter ) != allowed_ter_id.end() ) ||</div>
<div class="line"><a id="l04908" name="l04908"></a><span class="lineno"> 4908</span>                                ( allowed_furn_id.find( furn ) != allowed_furn_id.end() );</div>
<div class="line"><a id="l04909" name="l04909"></a><span class="lineno"> 4909</span>        <span class="keywordflow">return</span> is_allowed;</div>
<div class="line"><a id="l04910" name="l04910"></a><span class="lineno"> 4910</span>    };</div>
<div class="line"><a id="l04911" name="l04911"></a><span class="lineno"> 4911</span> </div>
<div class="line"><a id="l04912" name="l04912"></a><span class="lineno"> 4912</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l04913" name="l04913"></a><span class="lineno"> 4913</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Cut up metal where?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is no metal to cut up nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l04914" name="l04914"></a><span class="lineno"> 4914</span>    <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l04915" name="l04915"></a><span class="lineno"> 4915</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04916" name="l04916"></a><span class="lineno"> 4916</span>    }</div>
<div class="line"><a id="l04917" name="l04917"></a><span class="lineno"> 4917</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pnt = *pnt_;</div>
<div class="line"><a id="l04918" name="l04918"></a><span class="lineno"> 4918</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> ter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( pnt );</div>
<div class="line"><a id="l04919" name="l04919"></a><span class="lineno"> 4919</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> furn = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( pnt );</div>
<div class="line"><a id="l04920" name="l04920"></a><span class="lineno"> 4920</span>    <span class="keywordflow">if</span>( !f( pnt ) ) {</div>
<div class="line"><a id="l04921" name="l04921"></a><span class="lineno"> 4921</span>        <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l04922" name="l04922"></a><span class="lineno"> 4922</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Yuck.  Acetylene gas smells weird.&quot;</span> ) );</div>
<div class="line"><a id="l04923" name="l04923"></a><span class="lineno"> 4923</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04924" name="l04924"></a><span class="lineno"> 4924</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t cut that.&quot;</span> ) );</div>
<div class="line"><a id="l04925" name="l04925"></a><span class="lineno"> 4925</span>        }</div>
<div class="line"><a id="l04926" name="l04926"></a><span class="lineno"> 4926</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04927" name="l04927"></a><span class="lineno"> 4927</span>    }</div>
<div class="line"><a id="l04928" name="l04928"></a><span class="lineno"> 4928</span> </div>
<div class="line"><a id="l04929" name="l04929"></a><span class="lineno"> 4929</span>    <span class="keywordtype">int</span> turns = 0;</div>
<div class="line"><a id="l04930" name="l04930"></a><span class="lineno"> 4930</span>    <span class="keywordflow">if</span>( furn == <a class="code hl_variable" href="mapdata_8cpp.html#a92a2621c6047e2eca05c96d11be439df">f_rack</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a4634beea18999257dfeceab734dd71f4">t_chainfence_posts</a> ) {</div>
<div class="line"><a id="l04931" name="l04931"></a><span class="lineno"> 4931</span>        turns = to_turns&lt;int&gt;( 2_seconds );</div>
<div class="line"><a id="l04932" name="l04932"></a><span class="lineno"> 4932</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ter == <a class="code hl_variable" href="mapdata_8cpp.html#a5ec9dbb1139107c1c3f0fa83f868c352">t_window_enhanced</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a051531fcf5b68d50c7f080626547af97">t_window_enhanced_noglass</a> ) {</div>
<div class="line"><a id="l04933" name="l04933"></a><span class="lineno"> 4933</span>        turns = to_turns&lt;int&gt;( 5_seconds );</div>
<div class="line"><a id="l04934" name="l04934"></a><span class="lineno"> 4934</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ter == <a class="code hl_variable" href="mapdata_8cpp.html#a0d8c808248c75aafdb464b6ac8906ffb">t_chainfence</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a1aac21f1349f863e27c37e02aedfc255">t_chaingate_c</a> ||</div>
<div class="line"><a id="l04935" name="l04935"></a><span class="lineno"> 4935</span>               ter == <a class="code hl_variable" href="mapdata_8cpp.html#a749628ad18e67f0cbe56b2add9c8518d">t_chaingate_l</a>  || ter == <a class="code hl_variable" href="mapdata_8cpp.html#aa8a4aed77e152355e263976c0a1bd0fc">t_bars</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a5965d87b2ca75049ae9bc1877a1539b2">t_window_bars_alarm</a> ||</div>
<div class="line"><a id="l04936" name="l04936"></a><span class="lineno"> 4936</span>               ter == <a class="code hl_variable" href="mapdata_8cpp.html#a5c86fc6bcc6769b62eaded14956f412b">t_window_bars</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#a1a854500428a2e6e6a67cbaf67fb6384">t_reb_cage</a> ) {</div>
<div class="line"><a id="l04937" name="l04937"></a><span class="lineno"> 4937</span>        turns = to_turns&lt;int&gt;( 10_seconds );</div>
<div class="line"><a id="l04938" name="l04938"></a><span class="lineno"> 4938</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ter == <a class="code hl_variable" href="mapdata_8cpp.html#ae0e590a7541967775d4a3981a28d2ae5">t_door_metal_locked</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#aeefbc08f73d0fc9c356d59505db15211">t_door_metal_c</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#ac16c04d0d33758501b8e5f8c886de310">t_door_bar_c</a> ||</div>
<div class="line"><a id="l04939" name="l04939"></a><span class="lineno"> 4939</span>               ter == <a class="code hl_variable" href="mapdata_8cpp.html#a38256073c475f06d6118d5bf0e1ecb0d">t_door_bar_locked</a> || ter == <a class="code hl_variable" href="mapdata_8cpp.html#aeb33895b521685fc9cfb5ab546ecf297">t_door_metal_pickable</a> ) {</div>
<div class="line"><a id="l04940" name="l04940"></a><span class="lineno"> 4940</span>        turns = to_turns&lt;int&gt;( 15_seconds );</div>
<div class="line"><a id="l04941" name="l04941"></a><span class="lineno"> 4941</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04942" name="l04942"></a><span class="lineno"> 4942</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04943" name="l04943"></a><span class="lineno"> 4943</span>    }</div>
<div class="line"><a id="l04944" name="l04944"></a><span class="lineno"> 4944</span> </div>
<div class="line"><a id="l04945" name="l04945"></a><span class="lineno"> 4945</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> charges = turns * it-&gt;<a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>();</div>
<div class="line"><a id="l04946" name="l04946"></a><span class="lineno"> 4946</span>    <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( <a class="code hl_function" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( turns ) );</div>
<div class="line"><a id="l04947" name="l04947"></a><span class="lineno"> 4947</span> </div>
<div class="line"><a id="l04948" name="l04948"></a><span class="lineno"> 4948</span>    <span class="keywordflow">if</span>( charges &gt; it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() ) {</div>
<div class="line"><a id="l04949" name="l04949"></a><span class="lineno"> 4949</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your torch doesn&#39;t have enough acetylene to cut that.&quot;</span> ) );</div>
<div class="line"><a id="l04950" name="l04950"></a><span class="lineno"> 4950</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04951" name="l04951"></a><span class="lineno"> 4951</span>    }</div>
<div class="line"><a id="l04952" name="l04952"></a><span class="lineno"> 4952</span> </div>
<div class="line"><a id="l04953" name="l04953"></a><span class="lineno"> 4953</span>    <span class="comment">// placing ter here makes resuming tasks work better</span></div>
<div class="line"><a id="l04954" name="l04954"></a><span class="lineno"> 4954</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a59d58bc26d449fa251d2dc52e814cd59">ACT_OXYTORCH</a>, moves, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( ter ) );</div>
<div class="line"><a id="l04955" name="l04955"></a><span class="lineno"> 4955</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, it ) );</div>
<div class="line"><a id="l04956" name="l04956"></a><span class="lineno"> 4956</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = pnt;</div>
<div class="line"><a id="l04957" name="l04957"></a><span class="lineno"> 4957</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.push_back( charges );</div>
<div class="line"><a id="l04958" name="l04958"></a><span class="lineno"> 4958</span> </div>
<div class="line"><a id="l04959" name="l04959"></a><span class="lineno"> 4959</span>    <span class="comment">// charges will be consumed in oxytorch_do_turn, not here</span></div>
<div class="line"><a id="l04960" name="l04960"></a><span class="lineno"> 4960</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04961" name="l04961"></a><span class="lineno"> 4961</span>}</div>
<div class="ttc" id="aclassitem_html_a7dc5d9ccf5638ae80cebe1864050fa26"><div class="ttname"><a href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">item::ammo_required</a></div><div class="ttdeci">int ammo_required() const</div><div class="ttdoc">Quantity of ammunition consumed per usage of tool or with each shot of gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07296">item.cpp:7296</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a59d58bc26d449fa251d2dc52e814cd59"><div class="ttname"><a href="iuse_8cpp.html#a59d58bc26d449fa251d2dc52e814cd59">ACT_OXYTORCH</a></div><div class="ttdeci">static const activity_id ACT_OXYTORCH(&quot;ACT_OXYTORCH&quot;)</div></div>
<div class="ttc" id="amapdata_8cpp_html_ae0e590a7541967775d4a3981a28d2ae5"><div class="ttname"><a href="mapdata_8cpp.html#ae0e590a7541967775d4a3981a28d2ae5">t_door_metal_locked</a></div><div class="ttdeci">ter_id t_door_metal_locked</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00662">mapdata.cpp:662</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_aeb33895b521685fc9cfb5ab546ecf297"><div class="ttname"><a href="mapdata_8cpp.html#aeb33895b521685fc9cfb5ab546ecf297">t_door_metal_pickable</a></div><div class="ttdeci">ter_id t_door_metal_pickable</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00662">mapdata.cpp:662</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_aeefbc08f73d0fc9c356d59505db15211"><div class="ttname"><a href="mapdata_8cpp.html#aeefbc08f73d0fc9c356d59505db15211">t_door_metal_c</a></div><div class="ttdeci">ter_id t_door_metal_c</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00662">mapdata.cpp:662</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a59d58bc26d449fa251d2dc52e814cd59">ACT_OXYTORCH</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07296">item::ammo_required()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="mapdata_8cpp_source.html#l01107">f_rack</a>, <a class="el" href="calendar_8h_source.html#l00204">time_duration::from_turns()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="visitable_8cpp_source.html#l00170">visitable&lt; T &gt;::has_quality()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="mapdata_8cpp_source.html#l00653">t_bars</a>, <a class="el" href="mapdata_8cpp_source.html#l00686">t_chainfence</a>, <a class="el" href="mapdata_8cpp_source.html#l00686">t_chainfence_posts</a>, <a class="el" href="mapdata_8cpp_source.html#l00659">t_chaingate_c</a>, <a class="el" href="mapdata_8cpp_source.html#l00659">t_chaingate_l</a>, <a class="el" href="mapdata_8cpp_source.html#l00663">t_door_bar_c</a>, <a class="el" href="mapdata_8cpp_source.html#l00663">t_door_bar_locked</a>, <a class="el" href="mapdata_8cpp_source.html#l00662">t_door_metal_c</a>, <a class="el" href="mapdata_8cpp_source.html#l00662">t_door_metal_locked</a>, <a class="el" href="mapdata_8cpp_source.html#l00662">t_door_metal_pickable</a>, <a class="el" href="mapdata_8cpp_source.html#l00654">t_reb_cage</a>, <a class="el" href="mapdata_8cpp_source.html#l00670">t_window_bars</a>, <a class="el" href="mapdata_8cpp_source.html#l00670">t_window_bars_alarm</a>, <a class="el" href="mapdata_8cpp_source.html#l00669">t_window_enhanced</a>, <a class="el" href="mapdata_8cpp_source.html#l00670">t_window_enhanced_noglass</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, and <a class="el" href="player__activity_8h_source.html#l00057">player_activity::values</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a61aded548c5a7c3c3d3acdffcd962fe2" name="a61aded548c5a7c3c3d3acdffcd962fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61aded548c5a7c3c3d3acdffcd962fe2">&#9670;&nbsp;</a></span>pack_cbm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::pack_cbm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02035">2035</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>{</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>    <a class="code hl_class" href="classitem__location.html">item_location</a> <a class="code hl_struct" href="structbionic.html">bionic</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;inv_map_splice( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>        <span class="keywordflow">return</span> e.<a class="code hl_function" href="classitem.html#a699d0314aa1c5ee9903cf3cf862ee8cf">is_bionic</a>() &amp;&amp; e.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_PACKED&quot;</span> );</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>    }, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Choose CBM to pack&quot;</span> ), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have any CBMs.&quot;</span> ) );</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span> </div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>    <span class="keywordflow">if</span>( !<a class="code hl_struct" href="structbionic.html">bionic</a> ) {</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>    }</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>    <span class="keywordflow">if</span>( !<a class="code hl_struct" href="structbionic.html">bionic</a>.get_item()-&gt;faults.empty() ) {</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This CBM is faulty.  You should mend it first.  Do you want to try?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>            p-&gt;<a class="code hl_function" href="classplayer.html#a366f31cb29b539b83d8d91d4a8c0c1b5">mend_item</a>( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( <a class="code hl_struct" href="structbionic.html">bionic</a> ) );</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>        }</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>    }</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span> </div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> = p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#aaf598d0fedebd89ec20f768da3b5fd8a">skill_firstaid</a> ) - <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 6 );</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> &gt; 0 ) {</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You carefully prepare the CBM for sterilization.&quot;</span> ) );</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>        <a class="code hl_struct" href="structbionic.html">bionic</a>.get_item()-&gt;unset_flag( <span class="stringliteral">&quot;NO_PACKED&quot;</span> );</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You fail to properly prepare the CBM.&quot;</span> ) );</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>    }</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span> </div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>    std::vector&lt;item_comp&gt; comps;</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>    comps.push_back( <a class="code hl_struct" href="structitem__comp.html">item_comp</a>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>(), 1 ) );</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">consume_items</a>( comps, 1, <a class="code hl_function" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> );</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span> </div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>}</div>
<div class="ttc" id="aclassplayer_html_a366f31cb29b539b83d8d91d4a8c0c1b5"><div class="ttname"><a href="classplayer.html#a366f31cb29b539b83d8d91d4a8c0c1b5">player::mend_item</a></div><div class="ttdeci">void mend_item(item_location &amp;&amp;obj, bool interactive=true)</div><div class="ttdoc">Attempt to mend an item (fix any current faults)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02665">player.cpp:2665</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a76ba74774376a08222b8cdcce08f7304"><div class="ttname"><a href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">avatar_action::move</a></div><div class="ttdeci">bool move(avatar &amp;you, map &amp;m, const tripoint &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00090">avatar_action.cpp:90</a></div></div>
<div class="ttc" id="astructbionic_html"><div class="ttname"><a href="structbionic.html">bionic</a></div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00149">bionics.h:149</a></div></div>
<div class="ttc" id="astructitem__comp_html"><div class="ttname"><a href="structitem__comp.html">item_comp</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00116">requirements.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="crafting_8cpp_source.html#l01487">player::consume_items()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06402">item::is_bionic()</a>, <a class="el" href="item_8h_source.html#l02275">is_crafting_component()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="player_8cpp_source.html#l02665">player::mend_item()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00090">avatar_action::move()</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="player_8cpp_source.html#l04405">player::query_yn()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="iuse_8cpp.html#aaf598d0fedebd89ec20f768da3b5fd8a">skill_firstaid</a>, <a class="el" href="behavior_8h_source.html#l00020">behavior::success</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ae7092ba0c5ab6b366ce53e0d83e1733d" name="ae7092ba0c5ab6b366ce53e0d83e1733d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7092ba0c5ab6b366ce53e0d83e1733d">&#9670;&nbsp;</a></span>pack_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::pack_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02066">2066</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>{</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>    }</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Normal use</span></div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>        <span class="comment">// Numbers below -1 are reserved for worn items</span></div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( it ) &lt; -1 ) {</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t pack your %s until you take it off.&quot;</span> ),</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>    } <span class="keywordflow">else</span> { <span class="comment">// Turning it off</span></div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>        std::string oname = it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>();</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="string__utils_8cpp.html#a836373abd77ef65988abf2bcbff6929a">string_ends_with</a>( oname, <span class="stringliteral">&quot;_on&quot;</span> ) ) {</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>            oname.erase( oname.length() - 3, 3 );</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;no item type to turn it into (%s)!&quot;</span>, oname );</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>        }</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 10_seconds );</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pack your %s for storage.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( oname ) ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>    }</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>}</div>
<div class="ttc" id="astring__utils_8cpp_html_a836373abd77ef65988abf2bcbff6929a"><div class="ttname"><a href="string__utils_8cpp.html#a836373abd77ef65988abf2bcbff6929a">string_ends_with</a></div><div class="ttdeci">bool string_ends_with(const std::string &amp;s1, const std::string &amp;s2)</div><div class="ttdoc">Returns true if s1 ends with s2.</div><div class="ttdef"><b>Definition:</b> <a href="string__utils_8cpp_source.html#l00084">string_utils.cpp:84</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="character_8cpp_source.html#l02396">Character::get_item_position()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="string__utils_8cpp_source.html#l00084">string_ends_with()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a0abf562e890b6164e4165e8401b684f1" name="a0abf562e890b6164e4165e8401b684f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0abf562e890b6164e4165e8401b684f1">&#9670;&nbsp;</a></span>pheromone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::pheromone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03910">3910</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03911" name="l03911"></a><span class="lineno"> 3911</span>{</div>
<div class="line"><a id="l03912" name="l03912"></a><span class="lineno"> 3912</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l03913" name="l03913"></a><span class="lineno"> 3913</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03914" name="l03914"></a><span class="lineno"> 3914</span>    }</div>
<div class="line"><a id="l03915" name="l03915"></a><span class="lineno"> 3915</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l03916" name="l03916"></a><span class="lineno"> 3916</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l03917" name="l03917"></a><span class="lineno"> 3917</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03918" name="l03918"></a><span class="lineno"> 3918</span>    }</div>
<div class="line"><a id="l03919" name="l03919"></a><span class="lineno"> 3919</span> </div>
<div class="line"><a id="l03920" name="l03920"></a><span class="lineno"> 3920</span>    <span class="keywordflow">if</span>( pos.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> == -999 || pos.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> == -999 ) {</div>
<div class="line"><a id="l03921" name="l03921"></a><span class="lineno"> 3921</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03922" name="l03922"></a><span class="lineno"> 3922</span>    }</div>
<div class="line"><a id="l03923" name="l03923"></a><span class="lineno"> 3923</span> </div>
<div class="line"><a id="l03924" name="l03924"></a><span class="lineno"> 3924</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You squeeze the pheromone ball…&quot;</span> ),</div>
<div class="line"><a id="l03925" name="l03925"></a><span class="lineno"> 3925</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; squeezes the pheromone ball…&quot;</span> ) );</div>
<div class="line"><a id="l03926" name="l03926"></a><span class="lineno"> 3926</span> </div>
<div class="line"><a id="l03927" name="l03927"></a><span class="lineno"> 3927</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 15;</div>
<div class="line"><a id="l03928" name="l03928"></a><span class="lineno"> 3928</span> </div>
<div class="line"><a id="l03929" name="l03929"></a><span class="lineno"> 3929</span>    <span class="keywordtype">int</span> converts = 0;</div>
<div class="line"><a id="l03930" name="l03930"></a><span class="lineno"> 3930</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( pos, 4 ) ) {</div>
<div class="line"><a id="l03931" name="l03931"></a><span class="lineno"> 3931</span>        <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon_ptr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest, true );</div>
<div class="line"><a id="l03932" name="l03932"></a><span class="lineno"> 3932</span>        <span class="keywordflow">if</span>( !mon_ptr ) {</div>
<div class="line"><a id="l03933" name="l03933"></a><span class="lineno"> 3933</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03934" name="l03934"></a><span class="lineno"> 3934</span>        }</div>
<div class="line"><a id="l03935" name="l03935"></a><span class="lineno"> 3935</span>        <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter = *mon_ptr;</div>
<div class="line"><a id="l03936" name="l03936"></a><span class="lineno"> 3936</span>        <span class="keywordflow">if</span>( critter.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="iuse_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a> ) &amp;&amp; critter.<a class="code hl_variable" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0 &amp;&amp;</div>
<div class="line"><a id="l03937" name="l03937"></a><span class="lineno"> 3937</span>            <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 500 ) &gt; critter.<a class="code hl_function" href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">get_hp</a>() ) {</div>
<div class="line"><a id="l03938" name="l03938"></a><span class="lineno"> 3938</span>            converts++;</div>
<div class="line"><a id="l03939" name="l03939"></a><span class="lineno"> 3939</span>            critter.<a class="code hl_variable" href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">anger</a> = 0;</div>
<div class="line"><a id="l03940" name="l03940"></a><span class="lineno"> 3940</span>        }</div>
<div class="line"><a id="l03941" name="l03941"></a><span class="lineno"> 3941</span>    }</div>
<div class="line"><a id="l03942" name="l03942"></a><span class="lineno"> 3942</span> </div>
<div class="line"><a id="l03943" name="l03943"></a><span class="lineno"> 3943</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( *p ) ) {</div>
<div class="line"><a id="l03944" name="l03944"></a><span class="lineno"> 3944</span>        <span class="keywordflow">if</span>( converts == 0 ) {</div>
<div class="line"><a id="l03945" name="l03945"></a><span class="lineno"> 3945</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;…but nothing happens.&quot;</span> ) );</div>
<div class="line"><a id="l03946" name="l03946"></a><span class="lineno"> 3946</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( converts == 1 ) {</div>
<div class="line"><a id="l03947" name="l03947"></a><span class="lineno"> 3947</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;…and a nearby zombie becomes passive!&quot;</span> ) );</div>
<div class="line"><a id="l03948" name="l03948"></a><span class="lineno"> 3948</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03949" name="l03949"></a><span class="lineno"> 3949</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;…and several nearby zombies become passive!&quot;</span> ) );</div>
<div class="line"><a id="l03950" name="l03950"></a><span class="lineno"> 3950</span>        }</div>
<div class="line"><a id="l03951" name="l03951"></a><span class="lineno"> 3951</span>    }</div>
<div class="line"><a id="l03952" name="l03952"></a><span class="lineno"> 3952</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03953" name="l03953"></a><span class="lineno"> 3953</span>}</div>
<div class="ttc" id="aclassmonster_html_a7b22fe8719e4783fe1896429cedefa8d"><div class="ttname"><a href="classmonster.html#a7b22fe8719e4783fe1896429cedefa8d">monster::anger</a></div><div class="ttdeci">int anger</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00472">monster.h:472</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a4e2730248c54d4d07fa7e215efb35d1a"><div class="ttname"><a href="iuse_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a></div><div class="ttdeci">static const species_id ZOMBIE(&quot;ZOMBIE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="monster_8h_source.html#l00472">monster::anger</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="monster_8h_source.html#l00471">monster::friendly</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="monster_8cpp_source.html#l02894">monster::get_hp()</a>, <a class="el" href="mtype_8cpp_source.html#l00122">mtype::in_species()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="monster_8h_source.html#l00478">monster::type</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>, and <a class="el" href="iuse_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, <a class="el" href="monexamine_8cpp_source.html#l00731">monexamine::kill_zslave()</a>, and <a class="el" href="monexamine_8cpp_source.html#l00064">monexamine::pet_menu()</a>.</p>

</div>
</div>
<a id="a1f7fc7ed967ceab8eb255f38489ee5ed" name="a1f7fc7ed967ceab8eb255f38489ee5ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7fc7ed967ceab8eb255f38489ee5ed">&#9670;&nbsp;</a></span>pickaxe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::pickaxe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03282">3282</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span>{</div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>        <span class="comment">// Long action</span></div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span>    }</div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>    }</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span>    }</div>
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"> 3296</span> </div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> pnt = pos;</div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span>    <span class="keywordflow">if</span>( pos == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mine where?&quot;</span> ) );</div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span>        <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span>        }</div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span>        pnt = *pnt_;</div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span>    }</div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span> </div>
<div class="line"><a id="l03306" name="l03306"></a><span class="lineno"> 3306</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;MINEABLE&quot;</span>, pnt ) ) {</div>
<div class="line"><a id="l03307" name="l03307"></a><span class="lineno"> 3307</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t mine there.&quot;</span> ) );</div>
<div class="line"><a id="l03308" name="l03308"></a><span class="lineno"> 3308</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03309" name="l03309"></a><span class="lineno"> 3309</span>    }</div>
<div class="line"><a id="l03310" name="l03310"></a><span class="lineno"> 3310</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pnt ) ) {</div>
<div class="line"><a id="l03311" name="l03311"></a><span class="lineno"> 3311</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s a vehicle in the way!&quot;</span> ) );</div>
<div class="line"><a id="l03312" name="l03312"></a><span class="lineno"> 3312</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span>    }</div>
<div class="line"><a id="l03314" name="l03314"></a><span class="lineno"> 3314</span> </div>
<div class="line"><a id="l03315" name="l03315"></a><span class="lineno"> 3315</span>    <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 20_minutes );</div>
<div class="line"><a id="l03316" name="l03316"></a><span class="lineno"> 3316</span>    moves += ( ( <a class="code hl_variable" href="game__constants_8h.html#a3be415f83c03136e3832fe5e047cea94">MAX_STAT</a> + 4 ) - std::min( p-&gt;<a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a>, <a class="code hl_variable" href="game__constants_8h.html#a3be415f83c03136e3832fe5e047cea94">MAX_STAT</a> ) ) * to_moves&lt;int&gt;( 5_minutes );</div>
<div class="line"><a id="l03317" name="l03317"></a><span class="lineno"> 3317</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.move_cost( pnt ) == 2 ) {</div>
<div class="line"><a id="l03318" name="l03318"></a><span class="lineno"> 3318</span>        <span class="comment">// We&#39;re breaking up some flat surface like pavement, which is much easier</span></div>
<div class="line"><a id="l03319" name="l03319"></a><span class="lineno"> 3319</span>        moves /= 2;</div>
<div class="line"><a id="l03320" name="l03320"></a><span class="lineno"> 3320</span>    }</div>
<div class="line"><a id="l03321" name="l03321"></a><span class="lineno"> 3321</span> </div>
<div class="line"><a id="l03322" name="l03322"></a><span class="lineno"> 3322</span>    <span class="keyword">const</span> std::vector&lt;npc *&gt; helpers = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_crafting_helpers( 3 );</div>
<div class="line"><a id="l03323" name="l03323"></a><span class="lineno"> 3323</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *np : helpers ) {</div>
<div class="line"><a id="l03324" name="l03324"></a><span class="lineno"> 3324</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s helps with this task…&quot;</span> ), np-&gt;name );</div>
<div class="line"><a id="l03325" name="l03325"></a><span class="lineno"> 3325</span>    }</div>
<div class="line"><a id="l03326" name="l03326"></a><span class="lineno"> 3326</span>    moves = moves * ( 10 - helpers.size() ) / 10;</div>
<div class="line"><a id="l03327" name="l03327"></a><span class="lineno"> 3327</span> </div>
<div class="line"><a id="l03328" name="l03328"></a><span class="lineno"> 3328</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#af0f6a1c716782ccc53519e943b63c61d">ACT_PICKAXE</a>, moves, -1 );</div>
<div class="line"><a id="l03329" name="l03329"></a><span class="lineno"> 3329</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, it ) );</div>
<div class="line"><a id="l03330" name="l03330"></a><span class="lineno"> 3330</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( pnt );</div>
<div class="line"><a id="l03331" name="l03331"></a><span class="lineno"> 3331</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You strike the %1$s with your %2$s.&quot;</span> ),</div>
<div class="line"><a id="l03332" name="l03332"></a><span class="lineno"> 3332</span>                          <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.tername( pnt ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03333" name="l03333"></a><span class="lineno"> 3333</span>    <span class="keywordflow">return</span> 0; <span class="comment">// handled when the activity finishes</span></div>
<div class="line"><a id="l03334" name="l03334"></a><span class="lineno"> 3334</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_af0f6a1c716782ccc53519e943b63c61d"><div class="ttname"><a href="iuse_8cpp.html#af0f6a1c716782ccc53519e943b63c61d">ACT_PICKAXE</a></div><div class="ttdeci">static const activity_id ACT_PICKAXE(&quot;ACT_PICKAXE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#af0f6a1c716782ccc53519e943b63c61d">ACT_PICKAXE</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="game__constants_8h_source.html#l00114">MAX_STAT</a>, <a class="el" href="player__activity_8h_source.html#l00062">player_activity::placement</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="character_8h_source.html#l00304">Character::str_cur</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a35959c8acb23336c61771b360564c4d1" name="a35959c8acb23336c61771b360564c4d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35959c8acb23336c61771b360564c4d1">&#9670;&nbsp;</a></span>plantblech()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::plantblech </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01076">1076</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>{</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a2d2463d7a32338731d9a8cd1be4faad0">trait_THRESH_PLANT</a> ) ) {</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>        <span class="keywordtype">double</span> multiplier = -1;</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#aba25188f1c6479109ff8fb4004f03ebb">trait_CHLOROMORPH</a> ) ) {</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>            multiplier = -3;</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The meal is revitalizing.&quot;</span> ) );</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Oddly enough, this doesn&#39;t taste so bad.&quot;</span> ) );</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>        }</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span> </div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>        <span class="comment">//reverses the harmful values of drinking fertilizer</span></div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( -10 * p-&gt;<a class="code hl_function" href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">nutrition_for</a>( *it ) * multiplier );</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( -it-&gt;<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;quench * multiplier );</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">mod_healthy_mod</a>( it-&gt;<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;healthy * multiplier,</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>                            it-&gt;<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;healthy * multiplier );</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#ab2e7f135d6749b067f488c38bec7eb8c">MORALE_FOOD_GOOD</a>, -10 * multiplier, 60, 1_hours, 30_minutes, <span class="keyword">false</span>, it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceiuse.html#a8d960e9090fe32957817e911bf30e3d1">blech</a>( p, it, <span class="keyword">true</span>, pos );</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    }</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a2d2463d7a32338731d9a8cd1be4faad0"><div class="ttname"><a href="iuse_8cpp.html#a2d2463d7a32338731d9a8cd1be4faad0">trait_THRESH_PLANT</a></div><div class="ttdeci">static const trait_id trait_THRESH_PLANT(&quot;THRESH_PLANT&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_aba25188f1c6479109ff8fb4004f03ebb"><div class="ttname"><a href="iuse_8cpp.html#aba25188f1c6479109ff8fb4004f03ebb">trait_CHLOROMORPH</a></div><div class="ttdeci">static const trait_id trait_CHLOROMORPH(&quot;CHLOROMORPH&quot;)</div></div>
<div class="ttc" id="anamespaceiuse_html_a8d960e9090fe32957817e911bf30e3d1"><div class="ttname"><a href="namespaceiuse.html#a8d960e9090fe32957817e911bf30e3d1">iuse::blech</a></div><div class="ttdeci">int blech(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01026">iuse.cpp:1026</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8cpp_source.html#l09067">Character::add_morale()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="iuse_8cpp_source.html#l01026">blech()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l09951">item::get_comestible()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="character_8cpp_source.html#l04242">Character::mod_healthy_mod()</a>, <a class="el" href="character_8cpp_source.html#l04283">Character::mod_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, <a class="el" href="morale__types_8cpp.html#ab2e7f135d6749b067f488c38bec7eb8c">MORALE_FOOD_GOOD</a>, <a class="el" href="consumption_8cpp_source.html#l00459">Character::nutrition_for()</a>, <a class="el" href="iuse_8cpp.html#aba25188f1c6479109ff8fb4004f03ebb">trait_CHLOROMORPH</a>, <a class="el" href="iuse_8cpp.html#a2d2463d7a32338731d9a8cd1be4faad0">trait_THRESH_PLANT</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="af1c729ba5eabe537c351f47be2a30324" name="af1c729ba5eabe537c351f47be2a30324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1c729ba5eabe537c351f47be2a30324">&#9670;&nbsp;</a></span>play_game()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::play_game </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09724">9724</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09725" name="l09725"></a><span class="lineno"> 9725</span>{</div>
<div class="line"><a id="l09726" name="l09726"></a><span class="lineno"> 9726</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l09727" name="l09727"></a><span class="lineno"> 9727</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09728" name="l09728"></a><span class="lineno"> 9728</span>    }</div>
<div class="line"><a id="l09729" name="l09729"></a><span class="lineno"> 9729</span> </div>
<div class="line"><a id="l09730" name="l09730"></a><span class="lineno"> 9730</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Play a game with the %s?&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) ) {</div>
<div class="line"><a id="l09731" name="l09731"></a><span class="lineno"> 9731</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You start playing.&quot;</span> ) );</div>
<div class="line"><a id="l09732" name="l09732"></a><span class="lineno"> 9732</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a28173ebcffae962fc376d3207b28bc36">ACT_GENERIC_GAME</a>, to_moves&lt;int&gt;( 1_hours ), -1,</div>
<div class="line"><a id="l09733" name="l09733"></a><span class="lineno"> 9733</span>                            p-&gt;<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( it ), <span class="stringliteral">&quot;gaming&quot;</span> );</div>
<div class="line"><a id="l09734" name="l09734"></a><span class="lineno"> 9734</span>    }</div>
<div class="line"><a id="l09735" name="l09735"></a><span class="lineno"> 9735</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09736" name="l09736"></a><span class="lineno"> 9736</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a28173ebcffae962fc376d3207b28bc36"><div class="ttname"><a href="iuse_8cpp.html#a28173ebcffae962fc376d3207b28bc36">ACT_GENERIC_GAME</a></div><div class="ttdeci">static const activity_id ACT_GENERIC_GAME(&quot;ACT_GENERIC_GAME&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a28173ebcffae962fc376d3207b28bc36">ACT_GENERIC_GAME</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="character_8cpp_source.html#l02396">Character::get_item_position()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ae5949ee6963a56e98a0ddfbf754cbd77" name="ae5949ee6963a56e98a0ddfbf754cbd77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5949ee6963a56e98a0ddfbf754cbd77">&#9670;&nbsp;</a></span>play_music()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iuse::play_music </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_morale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04159">4159</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04160" name="l04160"></a><span class="lineno"> 4160</span>{</div>
<div class="line"><a id="l04161" name="l04161"></a><span class="lineno"> 4161</span>    <span class="comment">// TODO: what about other &quot;player&quot;, e.g. when a NPC is listening or when the PC is listening,</span></div>
<div class="line"><a id="l04162" name="l04162"></a><span class="lineno"> 4162</span>    <span class="comment">// the other characters around should be able to profit as well.</span></div>
<div class="line"><a id="l04163" name="l04163"></a><span class="lineno"> 4163</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> do_effects = p.<a class="code hl_function" href="classCharacter.html#ab0ad8a1c48785fa554d5b2f662248697">can_hear</a>( source, <a class="code hl_typedef" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> );</div>
<div class="line"><a id="l04164" name="l04164"></a><span class="lineno"> 4164</span>    std::string <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sound</a> = <span class="stringliteral">&quot;music&quot;</span>;</div>
<div class="line"><a id="l04165" name="l04165"></a><span class="lineno"> 4165</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 5_minutes ) ) {</div>
<div class="line"><a id="l04166" name="l04166"></a><span class="lineno"> 4166</span>        <span class="comment">// Every 5 minutes, describe the music</span></div>
<div class="line"><a id="l04167" name="l04167"></a><span class="lineno"> 4167</span>        <span class="keyword">const</span> std::string music = <a class="code hl_function" href="iuse_8cpp.html#ae7aa54e18e458e0542264b6039053136">get_music_description</a>();</div>
<div class="line"><a id="l04168" name="l04168"></a><span class="lineno"> 4168</span>        <span class="keywordflow">if</span>( !music.empty() ) {</div>
<div class="line"><a id="l04169" name="l04169"></a><span class="lineno"> 4169</span>            <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sound</a> = music;</div>
<div class="line"><a id="l04170" name="l04170"></a><span class="lineno"> 4170</span>            <span class="comment">// descriptions aren&#39;t printed for sounds at our position</span></div>
<div class="line"><a id="l04171" name="l04171"></a><span class="lineno"> 4171</span>            <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() == source &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#ab0ad8a1c48785fa554d5b2f662248697">can_hear</a>( source, <a class="code hl_typedef" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> ) ) {</div>
<div class="line"><a id="l04172" name="l04172"></a><span class="lineno"> 4172</span>                p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You listen to %s&quot;</span> ), music );</div>
<div class="line"><a id="l04173" name="l04173"></a><span class="lineno"> 4173</span>            }</div>
<div class="line"><a id="l04174" name="l04174"></a><span class="lineno"> 4174</span>        }</div>
<div class="line"><a id="l04175" name="l04175"></a><span class="lineno"> 4175</span>    }</div>
<div class="line"><a id="l04176" name="l04176"></a><span class="lineno"> 4176</span>    <span class="comment">// do not process mp3 player</span></div>
<div class="line"><a id="l04177" name="l04177"></a><span class="lineno"> 4177</span>    <span class="keywordflow">if</span>( <a class="code hl_typedef" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> != 0 ) {</div>
<div class="line"><a id="l04178" name="l04178"></a><span class="lineno"> 4178</span>        <a class="code hl_function" href="namespacesounds.html#a554f3adef264edde34e8c53e22022e3d">sounds::ambient_sound</a>( source, <a class="code hl_typedef" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a>, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a18d6769919266cd0bd6cd78aa405d5d0">sounds::sound_t::music</a>, <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sound</a> );</div>
<div class="line"><a id="l04179" name="l04179"></a><span class="lineno"> 4179</span>    }</div>
<div class="line"><a id="l04180" name="l04180"></a><span class="lineno"> 4180</span>    <span class="keywordflow">if</span>( do_effects ) {</div>
<div class="line"><a id="l04181" name="l04181"></a><span class="lineno"> 4181</span>        p.<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ae1891fc61c3cb4d5a199eaecbbafe3c7">effect_music</a>, 1_turns );</div>
<div class="line"><a id="l04182" name="l04182"></a><span class="lineno"> 4182</span>        p.<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a8e336d6b24cd55f48ba13b9a62519ffb">MORALE_MUSIC</a>, 1, max_morale, 5_minutes, 2_minutes, <span class="keyword">true</span> );</div>
<div class="line"><a id="l04183" name="l04183"></a><span class="lineno"> 4183</span>        <span class="comment">// mp3 player reduces hearing</span></div>
<div class="line"><a id="l04184" name="l04184"></a><span class="lineno"> 4184</span>        <span class="keywordflow">if</span>( <a class="code hl_typedef" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a> == 0 ) {</div>
<div class="line"><a id="l04185" name="l04185"></a><span class="lineno"> 4185</span>            p.<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ac9366c6b0a0c6068675bf92321130b46">effect_earphones</a>, 1_turns );</div>
<div class="line"><a id="l04186" name="l04186"></a><span class="lineno"> 4186</span>        }</div>
<div class="line"><a id="l04187" name="l04187"></a><span class="lineno"> 4187</span>    }</div>
<div class="line"><a id="l04188" name="l04188"></a><span class="lineno"> 4188</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_ac9366c6b0a0c6068675bf92321130b46"><div class="ttname"><a href="iuse_8cpp.html#ac9366c6b0a0c6068675bf92321130b46">effect_earphones</a></div><div class="ttdeci">static const efftype_id effect_earphones(&quot;earphones&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ae1891fc61c3cb4d5a199eaecbbafe3c7"><div class="ttname"><a href="iuse_8cpp.html#ae1891fc61c3cb4d5a199eaecbbafe3c7">effect_music</a></div><div class="ttdeci">static const efftype_id effect_music(&quot;music&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ae7aa54e18e458e0542264b6039053136"><div class="ttname"><a href="iuse_8cpp.html#ae7aa54e18e458e0542264b6039053136">get_music_description</a></div><div class="ttdeci">static std::string get_music_description()</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04129">iuse.cpp:4129</a></div></div>
<div class="ttc" id="anamespacesounds_html_a554f3adef264edde34e8c53e22022e3d"><div class="ttname"><a href="namespacesounds.html#a554f3adef264edde34e8c53e22022e3d">sounds::ambient_sound</a></div><div class="ttdeci">void ambient_sound(const tripoint &amp;p, int vol, sound_t category, const std::string &amp;description)</div><div class="ttdoc">Functions identical to sound(..., true).</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00171">sounds.cpp:171</a></div></div>
<div class="ttc" id="anamespaceunits_html_a5d16607c866588620acb381e7dbbf0a6"><div class="ttname"><a href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a></div><div class="ttdeci">quantity&lt; int, volume_in_milliliter_tag &gt; volume</div><div class="ttdef"><b>Definition:</b> <a href="units__volume_8h_source.html#l00016">units_volume.h:16</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="character_8cpp_source.html#l09067">Character::add_morale()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="sounds_8cpp_source.html#l00171">sounds::ambient_sound()</a>, <a class="el" href="character_8cpp_source.html#l10231">Character::can_hear()</a>, <a class="el" href="iuse_8cpp.html#ac9366c6b0a0c6068675bf92321130b46">effect_earphones</a>, <a class="el" href="iuse_8cpp.html#ae1891fc61c3cb4d5a199eaecbbafe3c7">effect_music</a>, <a class="el" href="iuse_8cpp_source.html#l04129">get_music_description()</a>, <a class="el" href="morale__types_8cpp.html#a8e336d6b24cd55f48ba13b9a62519ffb">MORALE_MUSIC</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a18d6769919266cd0bd6cd78aa405d5d0">sounds::music</a>, <a class="el" href="calendar_8cpp_source.html#l00490">calendar::once_every()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle__use_8cpp_source.html#l01211">vehicle::play_music()</a>.</p>

</div>
</div>
<a id="a63bd00335278775136a06a2f6b73c8a3" name="a63bd00335278775136a06a2f6b73c8a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63bd00335278775136a06a2f6b73c8a3">&#9670;&nbsp;</a></span>poison()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::poison </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00878">878</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>{</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <span class="keywordflow">if</span>( ( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a> ) ) ) {</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    }</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span> </div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <span class="comment">// NPCs have a magical sense of what is inedible</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <span class="comment">// Players can abuse the crafting menu instead...</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;HIDDEN_POISON&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>        ( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ||</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>          !p-&gt;<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Are you sure you want to eat this?  It looks poisonous…&quot;</span> ) ) ) ) {</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    }</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#ae6a6e853460bbd7e5b9ba2adfe22a864">trait_POISRESIST</a> ) ) {</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>, 1_hours );</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    }</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span> </div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a>, 3_hours );</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_add6199d38f99fd7341acd9e5b7f2df63"><div class="ttname"><a href="iuse_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a></div><div class="ttdeci">static const efftype_id effect_foodpoison(&quot;foodpoison&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ae6a6e853460bbd7e5b9ba2adfe22a864"><div class="ttname"><a href="iuse_8cpp.html#ae6a6e853460bbd7e5b9ba2adfe22a864">trait_POISRESIST</a></div><div class="ttdeci">static const trait_id trait_POISRESIST(&quot;POISRESIST&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a>, <a class="el" href="iuse_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="player_8cpp_source.html#l04405">player::query_yn()</a>, <a class="el" href="iuse_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a>, <a class="el" href="iuse_8cpp.html#ae6a6e853460bbd7e5b9ba2adfe22a864">trait_POISRESIST</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="savegame__json_8cpp_source.html#l02156">item::io()</a>.</p>

</div>
</div>
<a id="a4303a8a70c9ccc81c39d921ae2478692" name="a4303a8a70c9ccc81c39d921ae2478692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4303a8a70c9ccc81c39d921ae2478692">&#9670;&nbsp;</a></span>portable_game()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::portable_game </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04370">4370</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04371" name="l04371"></a><span class="lineno"> 4371</span>{</div>
<div class="line"><a id="l04372" name="l04372"></a><span class="lineno"> 4372</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l04373" name="l04373"></a><span class="lineno"> 4373</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04374" name="l04374"></a><span class="lineno"> 4374</span>    }</div>
<div class="line"><a id="l04375" name="l04375"></a><span class="lineno"> 4375</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l04376" name="l04376"></a><span class="lineno"> 4376</span>        <span class="comment">// Long action</span></div>
<div class="line"><a id="l04377" name="l04377"></a><span class="lineno"> 4377</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04378" name="l04378"></a><span class="lineno"> 4378</span>    }</div>
<div class="line"><a id="l04379" name="l04379"></a><span class="lineno"> 4379</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04380" name="l04380"></a><span class="lineno"> 4380</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04381" name="l04381"></a><span class="lineno"> 4381</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04382" name="l04382"></a><span class="lineno"> 4382</span>    }</div>
<div class="line"><a id="l04383" name="l04383"></a><span class="lineno"> 4383</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l04384" name="l04384"></a><span class="lineno"> 4384</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l04385" name="l04385"></a><span class="lineno"> 4385</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04386" name="l04386"></a><span class="lineno"> 4386</span>    }</div>
<div class="line"><a id="l04387" name="l04387"></a><span class="lineno"> 4387</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a357572465dfb7a0a417d86e1be77af49">trait_ILLITERATE</a> ) ) {</div>
<div class="line"><a id="l04388" name="l04388"></a><span class="lineno"> 4388</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re illiterate!&quot;</span> ) );</div>
<div class="line"><a id="l04389" name="l04389"></a><span class="lineno"> 4389</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04390" name="l04390"></a><span class="lineno"> 4390</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa36fa768f1f7579a92b2bdd07bda4d27">units_remaining</a>( *p ) &lt; it-&gt;<a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>() ) {</div>
<div class="line"><a id="l04391" name="l04391"></a><span class="lineno"> 4391</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s&#39;s batteries are dead.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04392" name="l04392"></a><span class="lineno"> 4392</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04393" name="l04393"></a><span class="lineno"> 4393</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04394" name="l04394"></a><span class="lineno"> 4394</span>        std::string loaded_software = <span class="stringliteral">&quot;robot_finds_kitten&quot;</span>;</div>
<div class="line"><a id="l04395" name="l04395"></a><span class="lineno"> 4395</span> </div>
<div class="line"><a id="l04396" name="l04396"></a><span class="lineno"> 4396</span>        <a class="code hl_class" href="classuilist.html">uilist</a> as_m;</div>
<div class="line"><a id="l04397" name="l04397"></a><span class="lineno"> 4397</span>        as_m.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;What do you want to play?&quot;</span> );</div>
<div class="line"><a id="l04398" name="l04398"></a><span class="lineno"> 4398</span>        as_m.<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.emplace_back( 1, <span class="keyword">true</span>, <span class="charliteral">&#39;1&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Robot finds Kitten&quot;</span> ) );</div>
<div class="line"><a id="l04399" name="l04399"></a><span class="lineno"> 4399</span>        as_m.<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.emplace_back( 2, <span class="keyword">true</span>, <span class="charliteral">&#39;2&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;S N A K E&quot;</span> ) );</div>
<div class="line"><a id="l04400" name="l04400"></a><span class="lineno"> 4400</span>        as_m.<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.emplace_back( 3, <span class="keyword">true</span>, <span class="charliteral">&#39;3&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Sokoban&quot;</span> ) );</div>
<div class="line"><a id="l04401" name="l04401"></a><span class="lineno"> 4401</span>        as_m.<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.emplace_back( 4, <span class="keyword">true</span>, <span class="charliteral">&#39;4&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Minesweeper&quot;</span> ) );</div>
<div class="line"><a id="l04402" name="l04402"></a><span class="lineno"> 4402</span>        as_m.<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.emplace_back( 5, <span class="keyword">true</span>, <span class="charliteral">&#39;5&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Lights on!&quot;</span> ) );</div>
<div class="line"><a id="l04403" name="l04403"></a><span class="lineno"> 4403</span>        as_m.<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.emplace_back( 6, <span class="keyword">true</span>, <span class="charliteral">&#39;6&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Play anything for a while&quot;</span> ) );</div>
<div class="line"><a id="l04404" name="l04404"></a><span class="lineno"> 4404</span>        as_m.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l04405" name="l04405"></a><span class="lineno"> 4405</span> </div>
<div class="line"><a id="l04406" name="l04406"></a><span class="lineno"> 4406</span>        <span class="keywordflow">switch</span>( as_m.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ) {</div>
<div class="line"><a id="l04407" name="l04407"></a><span class="lineno"> 4407</span>            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l04408" name="l04408"></a><span class="lineno"> 4408</span>                loaded_software = <span class="stringliteral">&quot;robot_finds_kitten&quot;</span>;</div>
<div class="line"><a id="l04409" name="l04409"></a><span class="lineno"> 4409</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04410" name="l04410"></a><span class="lineno"> 4410</span>            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l04411" name="l04411"></a><span class="lineno"> 4411</span>                loaded_software = <span class="stringliteral">&quot;snake_game&quot;</span>;</div>
<div class="line"><a id="l04412" name="l04412"></a><span class="lineno"> 4412</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04413" name="l04413"></a><span class="lineno"> 4413</span>            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l04414" name="l04414"></a><span class="lineno"> 4414</span>                loaded_software = <span class="stringliteral">&quot;sokoban_game&quot;</span>;</div>
<div class="line"><a id="l04415" name="l04415"></a><span class="lineno"> 4415</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04416" name="l04416"></a><span class="lineno"> 4416</span>            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l04417" name="l04417"></a><span class="lineno"> 4417</span>                loaded_software = <span class="stringliteral">&quot;minesweeper_game&quot;</span>;</div>
<div class="line"><a id="l04418" name="l04418"></a><span class="lineno"> 4418</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04419" name="l04419"></a><span class="lineno"> 4419</span>            <span class="keywordflow">case</span> 5:</div>
<div class="line"><a id="l04420" name="l04420"></a><span class="lineno"> 4420</span>                loaded_software = <span class="stringliteral">&quot;lightson_game&quot;</span>;</div>
<div class="line"><a id="l04421" name="l04421"></a><span class="lineno"> 4421</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04422" name="l04422"></a><span class="lineno"> 4422</span>            <span class="keywordflow">case</span> 6:</div>
<div class="line"><a id="l04423" name="l04423"></a><span class="lineno"> 4423</span>                loaded_software = <span class="stringliteral">&quot;null&quot;</span>;</div>
<div class="line"><a id="l04424" name="l04424"></a><span class="lineno"> 4424</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04425" name="l04425"></a><span class="lineno"> 4425</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l04426" name="l04426"></a><span class="lineno"> 4426</span>                <span class="comment">//Cancel</span></div>
<div class="line"><a id="l04427" name="l04427"></a><span class="lineno"> 4427</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04428" name="l04428"></a><span class="lineno"> 4428</span>        }</div>
<div class="line"><a id="l04429" name="l04429"></a><span class="lineno"> 4429</span> </div>
<div class="line"><a id="l04430" name="l04430"></a><span class="lineno"> 4430</span>        <span class="comment">//Play in 15-minute chunks</span></div>
<div class="line"><a id="l04431" name="l04431"></a><span class="lineno"> 4431</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 15_minutes );</div>
<div class="line"><a id="l04432" name="l04432"></a><span class="lineno"> 4432</span> </div>
<div class="line"><a id="l04433" name="l04433"></a><span class="lineno"> 4433</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You play on your %s for a while.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04434" name="l04434"></a><span class="lineno"> 4434</span>        <span class="keywordflow">if</span>( loaded_software == <span class="stringliteral">&quot;null&quot;</span> ) {</div>
<div class="line"><a id="l04435" name="l04435"></a><span class="lineno"> 4435</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a28173ebcffae962fc376d3207b28bc36">ACT_GENERIC_GAME</a>, to_moves&lt;int&gt;( 1_hours ), -1,</div>
<div class="line"><a id="l04436" name="l04436"></a><span class="lineno"> 4436</span>                                p-&gt;<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( it ), <span class="stringliteral">&quot;gaming&quot;</span> );</div>
<div class="line"><a id="l04437" name="l04437"></a><span class="lineno"> 4437</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04438" name="l04438"></a><span class="lineno"> 4438</span>        }</div>
<div class="line"><a id="l04439" name="l04439"></a><span class="lineno"> 4439</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a42d6b7855ec8abf909a933f7f2d10b71">ACT_GAME</a>, moves, -1, 0, <span class="stringliteral">&quot;gaming&quot;</span> );</div>
<div class="line"><a id="l04440" name="l04440"></a><span class="lineno"> 4440</span>        p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, it ) );</div>
<div class="line"><a id="l04441" name="l04441"></a><span class="lineno"> 4441</span>        std::map&lt;std::string, std::string&gt; game_data;</div>
<div class="line"><a id="l04442" name="l04442"></a><span class="lineno"> 4442</span>        game_data.clear();</div>
<div class="line"><a id="l04443" name="l04443"></a><span class="lineno"> 4443</span>        <span class="keywordtype">int</span> game_score = 0;</div>
<div class="line"><a id="l04444" name="l04444"></a><span class="lineno"> 4444</span> </div>
<div class="line"><a id="l04445" name="l04445"></a><span class="lineno"> 4445</span>        <a class="code hl_function" href="iuse__software_8cpp.html#ac1695181c85ba087f331907711bf501e">play_videogame</a>( loaded_software, game_data, game_score );</div>
<div class="line"><a id="l04446" name="l04446"></a><span class="lineno"> 4446</span> </div>
<div class="line"><a id="l04447" name="l04447"></a><span class="lineno"> 4447</span>        <span class="keywordflow">if</span>( game_data.find( <span class="stringliteral">&quot;end_message&quot;</span> ) != game_data.end() ) {</div>
<div class="line"><a id="l04448" name="l04448"></a><span class="lineno"> 4448</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( game_data[<span class="stringliteral">&quot;end_message&quot;</span>] );</div>
<div class="line"><a id="l04449" name="l04449"></a><span class="lineno"> 4449</span>        }</div>
<div class="line"><a id="l04450" name="l04450"></a><span class="lineno"> 4450</span> </div>
<div class="line"><a id="l04451" name="l04451"></a><span class="lineno"> 4451</span>        <span class="keywordflow">if</span>( game_score != 0 ) {</div>
<div class="line"><a id="l04452" name="l04452"></a><span class="lineno"> 4452</span>            <span class="keywordflow">if</span>( game_data.find( <span class="stringliteral">&quot;moraletype&quot;</span> ) != game_data.end() ) {</div>
<div class="line"><a id="l04453" name="l04453"></a><span class="lineno"> 4453</span>                std::string moraletype = game_data.find( <span class="stringliteral">&quot;moraletype&quot;</span> )-&gt;second;</div>
<div class="line"><a id="l04454" name="l04454"></a><span class="lineno"> 4454</span>                <span class="keywordflow">if</span>( moraletype == <span class="stringliteral">&quot;MORALE_GAME_FOUND_KITTEN&quot;</span> ) {</div>
<div class="line"><a id="l04455" name="l04455"></a><span class="lineno"> 4455</span>                    p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#adb3eb8d82d0478b848e399a8db0d6243">MORALE_GAME_FOUND_KITTEN</a>, game_score, 110 );</div>
<div class="line"><a id="l04456" name="l04456"></a><span class="lineno"> 4456</span>                } <span class="comment">/*else if ( ...*/</span></div>
<div class="line"><a id="l04457" name="l04457"></a><span class="lineno"> 4457</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04458" name="l04458"></a><span class="lineno"> 4458</span>                p-&gt;<a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#acdb2e41937e75c45a45d458493d2270e">MORALE_GAME</a>, game_score, 110 );</div>
<div class="line"><a id="l04459" name="l04459"></a><span class="lineno"> 4459</span>            }</div>
<div class="line"><a id="l04460" name="l04460"></a><span class="lineno"> 4460</span>        }</div>
<div class="line"><a id="l04461" name="l04461"></a><span class="lineno"> 4461</span> </div>
<div class="line"><a id="l04462" name="l04462"></a><span class="lineno"> 4462</span>    }</div>
<div class="line"><a id="l04463" name="l04463"></a><span class="lineno"> 4463</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04464" name="l04464"></a><span class="lineno"> 4464</span>}</div>
<div class="ttc" id="aclassitem_html_aa36fa768f1f7579a92b2bdd07bda4d27"><div class="ttname"><a href="classitem.html#aa36fa768f1f7579a92b2bdd07bda4d27">item::units_remaining</a></div><div class="ttdeci">int units_remaining(const Character &amp;ch, int limit=INT_MAX) const</div><div class="ttdoc">How many units (ammo or charges) are remaining?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07830">item.cpp:7830</a></div></div>
<div class="ttc" id="aclassuilist_html_af5fc2972d43a795c49a632dbcf58132b"><div class="ttname"><a href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">uilist::entries</a></div><div class="ttdeci">std::vector&lt; uilist_entry &gt; entries</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00323">ui.h:323</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a42d6b7855ec8abf909a933f7f2d10b71"><div class="ttname"><a href="iuse_8cpp.html#a42d6b7855ec8abf909a933f7f2d10b71">ACT_GAME</a></div><div class="ttdeci">static const activity_id ACT_GAME(&quot;ACT_GAME&quot;)</div></div>
<div class="ttc" id="aiuse__software_8cpp_html_ac1695181c85ba087f331907711bf501e"><div class="ttname"><a href="iuse__software_8cpp.html#ac1695181c85ba087f331907711bf501e">play_videogame</a></div><div class="ttdeci">bool play_videogame(const std::string &amp;function_name, std::map&lt; std::string, std::string &gt; &amp;game_data, int &amp;score)</div><div class="ttdef"><b>Definition:</b> <a href="iuse__software_8cpp_source.html#l00018">iuse_software.cpp:18</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_acdb2e41937e75c45a45d458493d2270e"><div class="ttname"><a href="morale__types_8cpp.html#acdb2e41937e75c45a45d458493d2270e">MORALE_GAME</a></div><div class="ttdeci">const morale_type MORALE_GAME(&quot;morale_game&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_adb3eb8d82d0478b848e399a8db0d6243"><div class="ttname"><a href="morale__types_8cpp.html#adb3eb8d82d0478b848e399a8db0d6243">MORALE_GAME_FOUND_KITTEN</a></div><div class="ttdeci">const morale_type MORALE_GAME_FOUND_KITTEN(&quot;morale_game_found_kitten&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a42d6b7855ec8abf909a933f7f2d10b71">ACT_GAME</a>, <a class="el" href="iuse_8cpp.html#a28173ebcffae962fc376d3207b28bc36">ACT_GENERIC_GAME</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="character_8cpp_source.html#l09067">Character::add_morale()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07296">item::ammo_required()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="ui_8h_source.html#l00323">uilist::entries</a>, <a class="el" href="character_8cpp_source.html#l02396">Character::get_item_position()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="morale__types_8cpp.html#acdb2e41937e75c45a45d458493d2270e">MORALE_GAME</a>, <a class="el" href="morale__types_8cpp.html#adb3eb8d82d0478b848e399a8db0d6243">MORALE_GAME_FOUND_KITTEN</a>, <a class="el" href="iuse__software_8cpp_source.html#l00018">play_videogame()</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="iuse_8cpp.html#a357572465dfb7a0a417d86e1be77af49">trait_ILLITERATE</a>, and <a class="el" href="item_8cpp_source.html#l07830">item::units_remaining()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a90743f549088ee917f6f482cf43c0ffe" name="a90743f549088ee917f6f482cf43c0ffe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90743f549088ee917f6f482cf43c0ffe">&#9670;&nbsp;</a></span>portal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::portal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03955">3955</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03956" name="l03956"></a><span class="lineno"> 3956</span>{</div>
<div class="line"><a id="l03957" name="l03957"></a><span class="lineno"> 3957</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l03958" name="l03958"></a><span class="lineno"> 3958</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03959" name="l03959"></a><span class="lineno"> 3959</span>    }</div>
<div class="line"><a id="l03960" name="l03960"></a><span class="lineno"> 3960</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l03961" name="l03961"></a><span class="lineno"> 3961</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l03962" name="l03962"></a><span class="lineno"> 3962</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03963" name="l03963"></a><span class="lineno"> 3963</span>    }</div>
<div class="line"><a id="l03964" name="l03964"></a><span class="lineno"> 3964</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> t( p-&gt;<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -2, 2 ), p-&gt;<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -2, 2 ), p-&gt;<a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>() );</div>
<div class="line"><a id="l03965" name="l03965"></a><span class="lineno"> 3965</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.trap_set( t, <a class="code hl_variable" href="memorial__logger_8cpp.html#a6ae504247f90efd7f9bfcd7b2bad7ae6">tr_portal</a> );</div>
<div class="line"><a id="l03966" name="l03966"></a><span class="lineno"> 3966</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03967" name="l03967"></a><span class="lineno"> 3967</span>}</div>
<div class="ttc" id="amemorial__logger_8cpp_html_a6ae504247f90efd7f9bfcd7b2bad7ae6"><div class="ttname"><a href="memorial__logger_8cpp.html#a6ae504247f90efd7f9bfcd7b2bad7ae6">tr_portal</a></div><div class="ttdeci">static const trap_str_id tr_portal(&quot;tr_portal&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="character_8h_source.html#l00844">Character::posz()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="memorial__logger_8cpp.html#a6ae504247f90efd7f9bfcd7b2bad7ae6">tr_portal</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ab198cffb01232a794d5ab08eeb586b3b" name="ab198cffb01232a794d5ab08eeb586b3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab198cffb01232a794d5ab08eeb586b3b">&#9670;&nbsp;</a></span>prozac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::prozac </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00940">940</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>{</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a09fec42ea1d19920f66b5a9afd8e7606">effect_took_prozac</a> ) ) {</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a09fec42ea1d19920f66b5a9afd8e7606">effect_took_prozac</a>, 12_hours );</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ac840406f65172cadd93d4274ddd78e15">mod_stim</a>( 3 );</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    }</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 16 ) ) { <span class="comment">// adverse reaction, same duration as prozac effect.</span></div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You suddenly feel hollow inside.&quot;</span> ) );</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#af06d6c676520c79c4ada995dcb0494ef">effect_took_prozac_bad</a>, p-&gt;<a class="code hl_function" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">get_effect_dur</a>( <a class="code hl_variable" href="iuse_8cpp.html#a09fec42ea1d19920f66b5a9afd8e7606">effect_took_prozac</a> ) );</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    }</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a09fec42ea1d19920f66b5a9afd8e7606"><div class="ttname"><a href="iuse_8cpp.html#a09fec42ea1d19920f66b5a9afd8e7606">effect_took_prozac</a></div><div class="ttdeci">static const efftype_id effect_took_prozac(&quot;took_prozac&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_af06d6c676520c79c4ada995dcb0494ef"><div class="ttname"><a href="iuse_8cpp.html#af06d6c676520c79c4ada995dcb0494ef">effect_took_prozac_bad</a></div><div class="ttdeci">static const efftype_id effect_took_prozac_bad(&quot;took_prozac_bad&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a09fec42ea1d19920f66b5a9afd8e7606">effect_took_prozac</a>, <a class="el" href="iuse_8cpp.html#af06d6c676520c79c4ada995dcb0494ef">effect_took_prozac_bad</a>, <a class="el" href="creature_8cpp_source.html#l01235">Creature::get_effect_dur()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="character_8cpp_source.html#l07152">Character::mod_stim()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ad13ddff79124dac8f631e85e07a3439d" name="ad13ddff79124dac8f631e85e07a3439d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad13ddff79124dac8f631e85e07a3439d">&#9670;&nbsp;</a></span>purifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::purifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01132">1132</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>{</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>    <a class="code hl_struct" href="structmutagen__attempt.html">mutagen_attempt</a> checks =</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>        <a class="code hl_function" href="mutation_8cpp.html#a212a03a308768c72b62fc010e4d3b990">mutagen_common_checks</a>( *p, *it, <span class="keyword">false</span>, <a class="code hl_enumvalue" href="mutation_8h.html#a2012fbeb10f692e9f86dfe9590e27849a15eaa8a89c0f7db11a6a0d0ba27f7aae">mutagen_technique::consumed_purifier</a> );</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>    <span class="keywordflow">if</span>( !checks.<a class="code hl_variable" href="structmutagen__attempt.html#aa82c4d61464495c47789f7cca1fe89c7">allowed</a> ) {</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>        <span class="keywordflow">return</span> checks.<a class="code hl_variable" href="structmutagen__attempt.html#a6ad75dae0f2e74716e7fbf8377001183">charges_used</a>;</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>    }</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span> </div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>    <a class="code hl_function" href="iuse_8cpp.html#ab4ff5c243c9258575756fb43984608ad">do_purify</a>( *p );</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>}</div>
<div class="ttc" id="amutation_8cpp_html_a212a03a308768c72b62fc010e4d3b990"><div class="ttname"><a href="mutation_8cpp.html#a212a03a308768c72b62fc010e4d3b990">mutagen_common_checks</a></div><div class="ttdeci">mutagen_attempt mutagen_common_checks(Character &amp;guy, const item &amp;it, bool strong, const mutagen_technique technique)</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l01590">mutation.cpp:1590</a></div></div>
<div class="ttc" id="amutation_8h_html_a2012fbeb10f692e9f86dfe9590e27849a15eaa8a89c0f7db11a6a0d0ba27f7aae"><div class="ttname"><a href="mutation_8h.html#a2012fbeb10f692e9f86dfe9590e27849a15eaa8a89c0f7db11a6a0d0ba27f7aae">mutagen_technique::consumed_purifier</a></div><div class="ttdeci">@ consumed_purifier</div></div>
<div class="ttc" id="astructmutagen__attempt_html"><div class="ttname"><a href="structmutagen__attempt.html">mutagen_attempt</a></div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00526">mutation.h:526</a></div></div>
<div class="ttc" id="astructmutagen__attempt_html_a6ad75dae0f2e74716e7fbf8377001183"><div class="ttname"><a href="structmutagen__attempt.html#a6ad75dae0f2e74716e7fbf8377001183">mutagen_attempt::charges_used</a></div><div class="ttdeci">int charges_used</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00529">mutation.h:529</a></div></div>
<div class="ttc" id="astructmutagen__attempt_html_aa82c4d61464495c47789f7cca1fe89c7"><div class="ttname"><a href="structmutagen__attempt.html#aa82c4d61464495c47789f7cca1fe89c7">mutagen_attempt::allowed</a></div><div class="ttdeci">bool allowed</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00528">mutation.h:528</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mutation_8h_source.html#l00528">mutagen_attempt::allowed</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="mutation_8h_source.html#l00529">mutagen_attempt::charges_used</a>, <a class="el" href="mutation_8h.html#a2012fbeb10f692e9f86dfe9590e27849a15eaa8a89c0f7db11a6a0d0ba27f7aae">consumed_purifier</a>, <a class="el" href="iuse_8cpp_source.html#l01107">do_purify()</a>, <a class="el" href="mutation_8cpp_source.html#l01590">mutagen_common_checks()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, <a class="el" href="iuse_8cpp_source.html#l01261">marloss_common()</a>, and <a class="el" href="iuse_8cpp_source.html#l01436">mycus()</a>.</p>

</div>
</div>
<a id="af9e8597a652893f2459d8db97ab11025" name="af9e8597a652893f2459d8db97ab11025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9e8597a652893f2459d8db97ab11025">&#9670;&nbsp;</a></span>purify_iv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::purify_iv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01144">1144</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>{</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>    <a class="code hl_struct" href="structmutagen__attempt.html">mutagen_attempt</a> checks =</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>        <a class="code hl_function" href="mutation_8cpp.html#a212a03a308768c72b62fc010e4d3b990">mutagen_common_checks</a>( *p, *it, <span class="keyword">false</span>, <a class="code hl_enumvalue" href="mutation_8h.html#a2012fbeb10f692e9f86dfe9590e27849afb755b5873e15864796f6f4490ab244a">mutagen_technique::injected_purifier</a> );</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>    <span class="keywordflow">if</span>( !checks.<a class="code hl_variable" href="structmutagen__attempt.html#aa82c4d61464495c47789f7cca1fe89c7">allowed</a> ) {</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>        <span class="keywordflow">return</span> checks.<a class="code hl_variable" href="structmutagen__attempt.html#a6ad75dae0f2e74716e7fbf8377001183">charges_used</a>;</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    }</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span> </div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    std::vector&lt;trait_id&gt; valid; <span class="comment">// Which flags the player has</span></div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;traits_iter : <a class="code hl_function" href="structmutation__branch.html#a15421800b8099c46fc7ed169e607ac56">mutation_branch::get_all</a>() ) {</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( traits_iter.id ) &amp;&amp; !p-&gt;<a class="code hl_function" href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">has_base_trait</a>( traits_iter.id ) ) {</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>            <span class="comment">//Looks for active mutation</span></div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>            valid.push_back( traits_iter.id );</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        }</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    }</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    <span class="keywordflow">if</span>( valid.empty() ) {</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel cleansed.&quot;</span> ) );</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>    }</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>    <span class="keywordtype">int</span> num_cured = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 4,</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>                         valid.size() ); <span class="comment">//Essentially a double-strength purifier, but guaranteed at least 4.  Double-edged and all</span></div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>    <span class="keywordflow">if</span>( num_cured &gt; 8 ) {</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>        num_cured = 8;</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    }</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; num_cured &amp;&amp; !valid.empty(); i++ ) {</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <span class="keywordtype">id</span> = <a class="code hl_function" href="rng_8h.html#ac634f688b3c7864ab6992939ac7b0a6e">random_entry_removed</a>( valid );</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#af184e63ebc91612702d2a195c056b37e">purifiable</a>( <span class="keywordtype">id</span> ) ) {</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#a1874479b9834819441c65081acf5fa05">remove_mutation</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel a distinct burning inside, but it passes.&quot;</span> ) );</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>        }</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>        <span class="keywordflow">if</span>( !( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a> ) ) ) {</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>            p-&gt;<a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( 2 * num_cured ); <span class="comment">//Hurts worse as it fixes more</span></div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Feels like you&#39;re on fire, but you&#39;re OK.&quot;</span> ) );</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>        }</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ac362a4ed1eb0794de41ee0b5df98724d">mod_stored_nutr</a>( 2 * num_cured );</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 2 * num_cured );</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( 2 * num_cured );</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    }</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>}</div>
<div class="ttc" id="aclassCharacter_html_a1874479b9834819441c65081acf5fa05"><div class="ttname"><a href="classCharacter.html#a1874479b9834819441c65081acf5fa05">Character::remove_mutation</a></div><div class="ttdeci">void remove_mutation(const trait_id &amp;mut, bool silent=false)</div><div class="ttdoc">Removes a mutation, downgrading to the previous level if possible.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l01338">mutation.cpp:1338</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8e6396a377235ed8f76339fb4d1cff2c"><div class="ttname"><a href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">Character::has_base_trait</a></div><div class="ttdeci">bool has_base_trait(const trait_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered starting trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00121">mutation.cpp:121</a></div></div>
<div class="ttc" id="aclassplayer_html_af184e63ebc91612702d2a195c056b37e"><div class="ttname"><a href="classplayer.html#af184e63ebc91612702d2a195c056b37e">player::purifiable</a></div><div class="ttdeci">bool purifiable(const trait_id &amp;flag) const</div><div class="ttdoc">Returns true if the entered trait may be purified away Defaults to true.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00692">player.cpp:692</a></div></div>
<div class="ttc" id="amutation_8h_html_a2012fbeb10f692e9f86dfe9590e27849afb755b5873e15864796f6f4490ab244a"><div class="ttname"><a href="mutation_8h.html#a2012fbeb10f692e9f86dfe9590e27849afb755b5873e15864796f6f4490ab244a">mutagen_technique::injected_purifier</a></div><div class="ttdeci">@ injected_purifier</div></div>
<div class="ttc" id="astructmutation__branch_html_a15421800b8099c46fc7ed169e607ac56"><div class="ttname"><a href="structmutation__branch.html#a15421800b8099c46fc7ed169e607ac56">mutation_branch::get_all</a></div><div class="ttdeci">static const std::vector&lt; mutation_branch &gt; &amp; get_all()</div><div class="ttdoc">All known mutations.</div><div class="ttdef"><b>Definition:</b> <a href="mutation__data_8cpp_source.html#l00640">mutation_data.cpp:640</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="mutation_8h_source.html#l00528">mutagen_attempt::allowed</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="mutation_8h_source.html#l00529">mutagen_attempt::charges_used</a>, <a class="el" href="mutation__data_8cpp_source.html#l00640">mutation_branch::get_all()</a>, <a class="el" href="mutation_8cpp_source.html#l00121">Character::has_base_trait()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="mutation_8h.html#a2012fbeb10f692e9f86dfe9590e27849afb755b5873e15864796f6f4490ab244a">injected_purifier</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, <a class="el" href="player_8cpp_source.html#l01092">player::mod_pain()</a>, <a class="el" href="character_8cpp_source.html#l04288">Character::mod_stored_nutr()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, <a class="el" href="mutation_8cpp_source.html#l01590">mutagen_common_checks()</a>, <a class="el" href="player_8cpp_source.html#l00692">player::purifiable()</a>, <a class="el" href="rng_8h_source.html#l00170">random_entry_removed()</a>, <a class="el" href="mutation_8cpp_source.html#l01338">Character::remove_mutation()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="iuse_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a0e0b76a96337dcd8208d5a0f524bf47e" name="a0e0b76a96337dcd8208d5a0f524bf47e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e0b76a96337dcd8208d5a0f524bf47e">&#9670;&nbsp;</a></span>purify_smart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::purify_smart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01186">1186</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>{</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>    <a class="code hl_struct" href="structmutagen__attempt.html">mutagen_attempt</a> checks =</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>        <a class="code hl_function" href="mutation_8cpp.html#a212a03a308768c72b62fc010e4d3b990">mutagen_common_checks</a>( *p, *it, <span class="keyword">false</span>, <a class="code hl_enumvalue" href="mutation_8h.html#a2012fbeb10f692e9f86dfe9590e27849ac292a684363fc5c425e052ca5a5af0a7">mutagen_technique::injected_smart_purifier</a> );</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    <span class="keywordflow">if</span>( !checks.<a class="code hl_variable" href="structmutagen__attempt.html#aa82c4d61464495c47789f7cca1fe89c7">allowed</a> ) {</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        <span class="keywordflow">return</span> checks.<a class="code hl_variable" href="structmutagen__attempt.html#a6ad75dae0f2e74716e7fbf8377001183">charges_used</a>;</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>    }</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span> </div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>    std::vector&lt;trait_id&gt; valid; <span class="comment">// Which flags the player has</span></div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>    std::vector&lt;std::string&gt; valid_names; <span class="comment">// Which flags the player has</span></div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;traits_iter : <a class="code hl_function" href="structmutation__branch.html#a15421800b8099c46fc7ed169e607ac56">mutation_branch::get_all</a>() ) {</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( traits_iter.id ) &amp;&amp;</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>            !p-&gt;<a class="code hl_function" href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">has_base_trait</a>( traits_iter.id ) &amp;&amp;</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>            p-&gt;<a class="code hl_function" href="classplayer.html#af184e63ebc91612702d2a195c056b37e">purifiable</a>( traits_iter.id ) ) {</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>            <span class="comment">//Looks for active mutation</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>            valid.push_back( traits_iter.id );</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>            valid_names.push_back( traits_iter.id-&gt;name() );</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>        }</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>    }</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>    <span class="keywordflow">if</span>( valid.empty() ) {</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have any mutations to purify.&quot;</span> ) );</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>    }</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span> </div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>    <span class="keywordtype">int</span> mutation_index = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Choose a mutation to purify&quot;</span> ), valid_names );</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>    <span class="keywordflow">if</span>( mutation_index &lt; 0 ) {</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>    }</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span> </div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You inject the purifier.  The liquid thrashes inside the tube and goes down reluctantly.&quot;</span> ) );</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span> </div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a1874479b9834819441c65081acf5fa05">remove_mutation</a>( valid[mutation_index] );</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>    valid.erase( valid.begin() + mutation_index );</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span> </div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    <span class="comment">// and one or two more untargeted purifications.</span></div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    <span class="keywordflow">if</span>( !valid.empty() ) {</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a1874479b9834819441c65081acf5fa05">remove_mutation</a>( <a class="code hl_function" href="rng_8h.html#ac634f688b3c7864ab6992939ac7b0a6e">random_entry_removed</a>( valid ) );</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>    }</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>    <span class="keywordflow">if</span>( !valid.empty() &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a1874479b9834819441c65081acf5fa05">remove_mutation</a>( <a class="code hl_function" href="rng_8h.html#ac634f688b3c7864ab6992939ac7b0a6e">random_entry_removed</a>( valid ) );</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    }</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span> </div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( 3 );</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span> </div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>    <a class="code hl_class" href="classitem.html">item</a> syringe( <span class="stringliteral">&quot;syringe&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>() );</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( syringe );</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>}</div>
<div class="ttc" id="amutation_8h_html_a2012fbeb10f692e9f86dfe9590e27849ac292a684363fc5c425e052ca5a5af0a7"><div class="ttname"><a href="mutation_8h.html#a2012fbeb10f692e9f86dfe9590e27849ac292a684363fc5c425e052ca5a5af0a7">mutagen_technique::injected_smart_purifier</a></div><div class="ttdeci">@ injected_smart_purifier</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="mutation_8h_source.html#l00528">mutagen_attempt::allowed</a>, <a class="el" href="item_8cpp_source.html#l09853">item::birthday()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="mutation_8h_source.html#l00529">mutagen_attempt::charges_used</a>, <a class="el" href="mutation__data_8cpp_source.html#l00640">mutation_branch::get_all()</a>, <a class="el" href="mutation_8cpp_source.html#l00121">Character::has_base_trait()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="mutation_8h.html#a2012fbeb10f692e9f86dfe9590e27849ac292a684363fc5c425e052ca5a5af0a7">injected_smart_purifier</a>, <a class="el" href="player_8cpp_source.html#l01092">player::mod_pain()</a>, <a class="el" href="mutation_8cpp_source.html#l01590">mutagen_common_checks()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="player_8cpp_source.html#l00692">player::purifiable()</a>, <a class="el" href="rng_8h_source.html#l00170">random_entry_removed()</a>, <a class="el" href="mutation_8cpp_source.html#l01338">Character::remove_mutation()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="add705cd4049aa3d464aa38394e6deeaf" name="add705cd4049aa3d464aa38394e6deeaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add705cd4049aa3d464aa38394e6deeaf">&#9670;&nbsp;</a></span>radglove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::radglove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05761">5761</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05762" name="l05762"></a><span class="lineno"> 5762</span>{</div>
<div class="line"><a id="l05763" name="l05763"></a><span class="lineno"> 5763</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( it ) &gt;= -1 ) {</div>
<div class="line"><a id="l05764" name="l05764"></a><span class="lineno"> 5764</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l05765" name="l05765"></a><span class="lineno"> 5765</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You must wear the radiation biomonitor before you can activate it.&quot;</span> ) );</div>
<div class="line"><a id="l05766" name="l05766"></a><span class="lineno"> 5766</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05767" name="l05767"></a><span class="lineno"> 5767</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l05768" name="l05768"></a><span class="lineno"> 5768</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The radiation biomonitor needs batteries to function.&quot;</span> ) );</div>
<div class="line"><a id="l05769" name="l05769"></a><span class="lineno"> 5769</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05770" name="l05770"></a><span class="lineno"> 5770</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05771" name="l05771"></a><span class="lineno"> 5771</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You activate your radiation biomonitor.&quot;</span> ) );</div>
<div class="line"><a id="l05772" name="l05772"></a><span class="lineno"> 5772</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#aa81a4b0db6f2387bfc02706a6b7a678e">get_rad</a>() &gt;= 1 ) {</div>
<div class="line"><a id="l05773" name="l05773"></a><span class="lineno"> 5773</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are currently irradiated.&quot;</span> ) );</div>
<div class="line"><a id="l05774" name="l05774"></a><span class="lineno"> 5774</span>            p-&gt;<a class="code hl_function" href="classplayer.html#afcbd1476690aeb6a2b8de82e9e7a9cee">add_msg_player_or_say</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l05775" name="l05775"></a><span class="lineno"> 5775</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your radiation level: %d mSv.&quot;</span> ),</div>
<div class="line"><a id="l05776" name="l05776"></a><span class="lineno"> 5776</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It says here that my radiation level is %d mSv.&quot;</span> ),</div>
<div class="line"><a id="l05777" name="l05777"></a><span class="lineno"> 5777</span>                                      p-&gt;<a class="code hl_function" href="classCharacter.html#aa81a4b0db6f2387bfc02706a6b7a678e">get_rad</a>() );</div>
<div class="line"><a id="l05778" name="l05778"></a><span class="lineno"> 5778</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05779" name="l05779"></a><span class="lineno"> 5779</span>            p-&gt;<a class="code hl_function" href="classplayer.html#afcbd1476690aeb6a2b8de82e9e7a9cee">add_msg_player_or_say</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l05780" name="l05780"></a><span class="lineno"> 5780</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are not currently irradiated.&quot;</span> ),</div>
<div class="line"><a id="l05781" name="l05781"></a><span class="lineno"> 5781</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It says I&#39;m not irradiated&quot;</span> ) );</div>
<div class="line"><a id="l05782" name="l05782"></a><span class="lineno"> 5782</span>        }</div>
<div class="line"><a id="l05783" name="l05783"></a><span class="lineno"> 5783</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Have a nice day!&quot;</span> ) );</div>
<div class="line"><a id="l05784" name="l05784"></a><span class="lineno"> 5784</span>    }</div>
<div class="line"><a id="l05785" name="l05785"></a><span class="lineno"> 5785</span> </div>
<div class="line"><a id="l05786" name="l05786"></a><span class="lineno"> 5786</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05787" name="l05787"></a><span class="lineno"> 5787</span>}</div>
<div class="ttc" id="aclassplayer_html_afcbd1476690aeb6a2b8de82e9e7a9cee"><div class="ttname"><a href="classplayer.html#afcbd1476690aeb6a2b8de82e9e7a9cee">player::add_msg_player_or_say</a></div><div class="ttdeci">void add_msg_player_or_say(const std::string &amp;player_msg, const std::string &amp;npc_speech) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04392">player.cpp:4392</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04392">player::add_msg_player_or_say()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="character_8cpp_source.html#l02396">Character::get_item_position()</a>, <a class="el" href="character_8cpp_source.html#l07157">Character::get_rad()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ae1f228b25a574d88137059eb3ee009ee" name="ae1f228b25a574d88137059eb3ee009ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1f228b25a574d88137059eb3ee009ee">&#9670;&nbsp;</a></span>radio_mod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::radio_mod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01650">1650</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>{</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>        <span class="comment">// Now THAT would be kinda cruel</span></div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>    }</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span> </div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>    <span class="keyword">auto</span> filter = []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; itm ) {</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>        <span class="keywordflow">return</span> itm.has_flag( <span class="stringliteral">&quot;RADIO_MODABLE&quot;</span> );</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>    };</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span> </div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>    <span class="comment">// note: if !p-&gt;is_npc() then p is avatar</span></div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>    <a class="code hl_class" href="classitem__location.html">item_location</a> loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a9eafc067094abf546e276b125d2fc788">game_menus::inv::titled_filter_menu</a>(</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>                            filter, *p-&gt;<a class="code hl_function" href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">as_avatar</a>(), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Modify what?&quot;</span> ) );</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span> </div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>    <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item!&quot;</span> ) );</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>    }</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;modded = *loc;</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span> </div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>    <span class="keywordtype">int</span> choice = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Which signal should activate the item?&quot;</span> ), {</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;\&quot;Red\&quot;&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;\&quot;Blue\&quot;&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;\&quot;Green\&quot;&quot;</span> )</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>    } );</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span> </div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>    std::string newtag;</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>    std::string colorname;</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>    <span class="keywordflow">switch</span>( choice ) {</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>            newtag = <span class="stringliteral">&quot;RADIOSIGNAL_1&quot;</span>;</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>            colorname = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;\&quot;Red\&quot;&quot;</span> );</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>            newtag = <span class="stringliteral">&quot;RADIOSIGNAL_2&quot;</span>;</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>            colorname = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;\&quot;Blue\&quot;&quot;</span> );</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>            newtag = <span class="stringliteral">&quot;RADIOSIGNAL_3&quot;</span>;</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>            colorname = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;\&quot;Green\&quot;&quot;</span> );</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>    }</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span> </div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>    <span class="keywordflow">if</span>( modded.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RADIO_MOD&quot;</span> ) &amp;&amp; modded.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( newtag ) ) {</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This item has been modified this way already.&quot;</span> ) );</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>    }</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span> </div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>    <a class="code hl_function" href="iuse_8cpp.html#a5deb1b5f4e652e223349f90b8b190ff5">remove_radio_mod</a>( modded, *p );</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span> </div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You modify your %1$s to listen for %2$s activation signal on the radio.&quot;</span> ),</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>        modded.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), colorname );</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>    modded.<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <span class="stringliteral">&quot;RADIO_ACTIVATION&quot;</span> );</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>    modded.<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <span class="stringliteral">&quot;RADIOCARITEM&quot;</span> );</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>    modded.<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <span class="stringliteral">&quot;RADIO_MOD&quot;</span> );</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>    modded.<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( newtag );</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a5deb1b5f4e652e223349f90b8b190ff5"><div class="ttname"><a href="iuse_8cpp.html#a5deb1b5f4e652e223349f90b8b190ff5">remove_radio_mod</a></div><div class="ttdeci">void remove_radio_mod(item &amp;it, player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00414">iuse.cpp:414</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="creature_8h_source.html#l00128">Creature::as_avatar()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="iuse_8cpp_source.html#l00414">remove_radio_mod()</a>, <a class="el" href="item_8cpp_source.html#l05221">item::set_flag()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00265">game_menus::inv::titled_filter_menu()</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a7b3b50677802643bdcd63df07e94b514" name="a7b3b50677802643bdcd63df07e94b514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b3b50677802643bdcd63df07e94b514">&#9670;&nbsp;</a></span>radio_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::radio_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02120">2120</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>{</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s dead.&quot;</span> ) );</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You turn the radio on.&quot;</span> ) );</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a731e18ebb9fe98be814fd8e70499907d">itype_radio_on</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>    }</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="iuse_8cpp.html#a731e18ebb9fe98be814fd8e70499907d">itype_radio_on</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a91d119f4dc993b2fed2b45b9dc173c23" name="a91d119f4dc993b2fed2b45b9dc173c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d119f4dc993b2fed2b45b9dc173c23">&#9670;&nbsp;</a></span>radio_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::radio_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02165">2165</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>{</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>        <span class="comment">// Normal use</span></div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>        std::string <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Radio: Kssssssssssssh.&quot;</span> );</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>        <span class="keyword">const</span> <span class="keyword">auto</span> tref = <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#a52ff63bf974047e40515dffc2b413167">find_radio_station</a>( it-&gt;<a class="code hl_variable" href="classitem.html#ad16474656a39dfa7b0d89aec3345308f">frequency</a> );</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>        <span class="keywordflow">if</span>( tref ) {</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>            <span class="keyword">const</span> <span class="keyword">auto</span> selected_tower = tref.<a class="code hl_variable" href="structradio__tower__reference.html#a26f2e82817817ca5291a8376bb416784">tower</a>;</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>            <span class="keywordflow">if</span>( selected_tower-&gt;type == <a class="code hl_enumvalue" href="overmap_8h.html#a70d86ad55f59766b1ec9c303f6133ca6a0082e2c3663f70eda1cdda6145f2f2dd">radio_type::MESSAGE_BROADCAST</a> ) {</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>                <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> = selected_tower-&gt;message;</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( selected_tower-&gt;type == <a class="code hl_enumvalue" href="overmap_8h.html#a70d86ad55f59766b1ec9c303f6133ca6ae9bf89949c50540e0c72274a5520f5cc">radio_type::WEATHER_RADIO</a> ) {</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>                <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> = <a class="code hl_function" href="group__Weather.html#gab4893f4bb0b6f5044689488bf2ce20c3">weather_forecast</a>( tref.abs_sm_pos );</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>            }</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span> </div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>            <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> = <a class="code hl_function" href="cata__utility_8cpp.html#aef9839561ee9641f7ba15ac9fe4f40c1">obscure_message</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a>, [&amp;]()-&gt;<span class="keywordtype">int</span> {</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>                <span class="keywordtype">int</span> signal_roll = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 10, tref.signal_strength * 3 );</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>                <span class="keywordtype">int</span> static_roll = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 10, 100 );</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>                <span class="keywordflow">if</span>( static_roll &gt; signal_roll )</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>                {</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>                    <span class="keywordflow">if</span>( static_roll &lt; signal_roll * 1.1 &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>                        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>                        <span class="keywordflow">return</span> <span class="charliteral">&#39;#&#39;</span>;</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>                    }</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>                } <span class="keywordflow">else</span></div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>                {</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>                }</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>            } );</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span> </div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>            std::vector&lt;std::string&gt; segments = <a class="code hl_function" href="output_8cpp.html#afc0a91b0fbe1ed197d2e2ac5ceaac1a2">foldstring</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a>, <a class="code hl_variable" href="iuse_8cpp.html#a972adda40bd181c749a1db633d405669">RADIO_PER_TURN</a> );</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>            <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a> = to_turn&lt;int&gt;( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) % segments.size();</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>            <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;radio: %s&quot;</span> ), segments[index] );</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>        }</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>        <a class="code hl_function" href="namespacesounds.html#a554f3adef264edde34e8c53e22022e3d">sounds::ambient_sound</a>( pos, 6, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a>, <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> );</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="namespacesfx.html#a88183e69d6d84f21907582b482f2aa1b">sfx::is_channel_playing</a>( <a class="code hl_enumvalue" href="namespacesfx.html#af20f2b1f5492d2f2d793da6d29740f18aa398fb77df76e6153df57cd65fd0a7c5">sfx::channel::radio</a> ) ) {</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>                <a class="code hl_function" href="namespacesfx.html#ac2a55615b8a564140e0743f5084d7ab6">sfx::play_ambient_variant_sound</a>( <span class="stringliteral">&quot;radio&quot;</span>, <span class="stringliteral">&quot;static&quot;</span>, 100, <a class="code hl_enumvalue" href="namespacesfx.html#af20f2b1f5492d2f2d793da6d29740f18aa398fb77df76e6153df57cd65fd0a7c5">sfx::channel::radio</a>, 300, -1, 0 );</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>                <a class="code hl_function" href="namespacesfx.html#ac2a55615b8a564140e0743f5084d7ab6">sfx::play_ambient_variant_sound</a>( <span class="stringliteral">&quot;radio&quot;</span>, <span class="stringliteral">&quot;inaudible_chatter&quot;</span>, 100, <a class="code hl_enumvalue" href="namespacesfx.html#af20f2b1f5492d2f2d793da6d29740f18aa398fb77df76e6153df57cd65fd0a7c5">sfx::channel::radio</a>, 300, -1,</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>                                                 0 );</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>            }</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>        }</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>    } <span class="keywordflow">else</span> { <span class="comment">// Activated</span></div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>        <span class="keywordtype">int</span> ch = 1;</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt; 0 ) {</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>            ch = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Radio:&quot;</span> ), {</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Scan&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Turn off&quot;</span> )</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>            } );</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>        }</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span> </div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>        <span class="keywordflow">switch</span>( ch ) {</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>            <span class="keywordflow">case</span> 0: {</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> old_frequency = it-&gt;<a class="code hl_variable" href="classitem.html#ad16474656a39dfa7b0d89aec3345308f">frequency</a>;</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structradio__tower.html">radio_tower</a> *lowest_tower = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structradio__tower.html">radio_tower</a> *lowest_larger_tower = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>                <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;tref : <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#a9ce6fbc8481dcd30fbf1483cd0099b09">find_all_radio_stations</a>() ) {</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>                    <span class="keyword">const</span> <span class="keyword">auto</span> new_frequency = tref.tower-&gt;<a class="code hl_variable" href="structradio__tower.html#a4223126d1dc2658ece35c232ce57e98d">frequency</a>;</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>                    <span class="keywordflow">if</span>( new_frequency == old_frequency ) {</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>                    }</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>                    <span class="keywordflow">if</span>( new_frequency &gt; old_frequency &amp;&amp;</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>                        ( lowest_larger_tower == <span class="keyword">nullptr</span> || new_frequency &lt; lowest_larger_tower-&gt;frequency ) ) {</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>                        lowest_larger_tower = tref.tower;</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( lowest_tower == <span class="keyword">nullptr</span> || new_frequency &lt; lowest_tower-&gt;frequency ) {</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>                        lowest_tower = tref.tower;</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>                    }</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>                }</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>                <span class="keywordflow">if</span>( lowest_larger_tower != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>                    it-&gt;<a class="code hl_variable" href="classitem.html#ad16474656a39dfa7b0d89aec3345308f">frequency</a> = lowest_larger_tower-&gt;<a class="code hl_variable" href="structradio__tower.html#a4223126d1dc2658ece35c232ce57e98d">frequency</a>;</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( lowest_tower != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>                    it-&gt;<a class="code hl_variable" href="classitem.html#ad16474656a39dfa7b0d89aec3345308f">frequency</a> = lowest_tower-&gt;<a class="code hl_variable" href="structradio__tower.html#a4223126d1dc2658ece35c232ce57e98d">frequency</a>;</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>                }</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>            }</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The radio dies.&quot;</span> ) );</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a6a839c9b56bf28a92da6e778e8364280">itype_radio</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>                <a class="code hl_function" href="namespacesfx.html#a7ff3fd42096d1f62481886c14051e632">sfx::fade_audio_channel</a>( <a class="code hl_enumvalue" href="namespacesfx.html#af20f2b1f5492d2f2d793da6d29740f18aa398fb77df76e6153df57cd65fd0a7c5">sfx::channel::radio</a>, 300 );</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>        }</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>    }</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>}</div>
<div class="ttc" id="acata__utility_8cpp_html_aef9839561ee9641f7ba15ac9fe4f40c1"><div class="ttname"><a href="cata__utility_8cpp.html#aef9839561ee9641f7ba15ac9fe4f40c1">obscure_message</a></div><div class="ttdeci">std::string obscure_message(const std::string &amp;str, std::function&lt; char()&gt; f)</div><div class="ttdoc">Apply fuzzy effect to a string like: Hello, world! --&gt; H##lo, wurl#!</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00620">cata_utility.cpp:620</a></div></div>
<div class="ttc" id="aclassitem_html_ad16474656a39dfa7b0d89aec3345308f"><div class="ttname"><a href="classitem.html#ad16474656a39dfa7b0d89aec3345308f">item::frequency</a></div><div class="ttdeci">int frequency</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02201">item.h:2201</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a9ce6fbc8481dcd30fbf1483cd0099b09"><div class="ttname"><a href="classovermapbuffer.html#a9ce6fbc8481dcd30fbf1483cd0099b09">overmapbuffer::find_all_radio_stations</a></div><div class="ttdeci">std::vector&lt; radio_tower_reference &gt; find_all_radio_stations()</div><div class="ttdoc">Find all radio stations that can be received around the current player location.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01294">overmapbuffer.cpp:1294</a></div></div>
<div class="ttc" id="agroup__Weather_html_gab4893f4bb0b6f5044689488bf2ce20c3"><div class="ttname"><a href="group__Weather.html#gab4893f4bb0b6f5044689488bf2ce20c3">weather_forecast</a></div><div class="ttdeci">std::string weather_forecast(const point_abs_sm &amp;abs_sm_pos)</div><div class="ttdoc">Generate textual weather forecast for the specified radio tower.</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00611">weather.cpp:611</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a6a839c9b56bf28a92da6e778e8364280"><div class="ttname"><a href="iuse_8cpp.html#a6a839c9b56bf28a92da6e778e8364280">itype_radio</a></div><div class="ttdeci">static const itype_id itype_radio(&quot;radio&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a972adda40bd181c749a1db633d405669"><div class="ttname"><a href="iuse_8cpp.html#a972adda40bd181c749a1db633d405669">RADIO_PER_TURN</a></div><div class="ttdeci">static constexpr int RADIO_PER_TURN</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00357">iuse.cpp:357</a></div></div>
<div class="ttc" id="anamespacedetail_html_ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86"><div class="ttname"><a href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">detail::arg_id_kind::index</a></div><div class="ttdeci">@ index</div></div>
<div class="ttc" id="anamespacesfx_html_a7ff3fd42096d1f62481886c14051e632"><div class="ttname"><a href="namespacesfx.html#a7ff3fd42096d1f62481886c14051e632">sfx::fade_audio_channel</a></div><div class="ttdeci">void fade_audio_channel(channel channel, int duration)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01609">sounds.cpp:1609</a></div></div>
<div class="ttc" id="anamespacesfx_html_a88183e69d6d84f21907582b482f2aa1b"><div class="ttname"><a href="namespacesfx.html#a88183e69d6d84f21907582b482f2aa1b">sfx::is_channel_playing</a></div><div class="ttdeci">bool is_channel_playing(channel channel)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01610">sounds.cpp:1610</a></div></div>
<div class="ttc" id="anamespacesfx_html_ac2a55615b8a564140e0743f5084d7ab6"><div class="ttname"><a href="namespacesfx.html#ac2a55615b8a564140e0743f5084d7ab6">sfx::play_ambient_variant_sound</a></div><div class="ttdeci">void play_ambient_variant_sound(const std::string &amp;id, const std::string &amp;variant, int volume, channel channel, int fade_in_duration, double pitch=-1.0, int loops=-1)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01593">sounds.cpp:1593</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afc0a91b0fbe1ed197d2e2ac5ceaac1a2"><div class="ttname"><a href="output_8cpp.html#afc0a91b0fbe1ed197d2e2ac5ceaac1a2">foldstring</a></div><div class="ttdeci">std::vector&lt; std::string &gt; foldstring(const std::string &amp;str, int width, const char split)</div><div class="ttdoc">Split the input text into separate lines and wrap long lines.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00068">output.cpp:68</a></div></div>
<div class="ttc" id="aovermap_8h_html_a70d86ad55f59766b1ec9c303f6133ca6a0082e2c3663f70eda1cdda6145f2f2dd"><div class="ttname"><a href="overmap_8h.html#a70d86ad55f59766b1ec9c303f6133ca6a0082e2c3663f70eda1cdda6145f2f2dd">radio_type::MESSAGE_BROADCAST</a></div><div class="ttdeci">@ MESSAGE_BROADCAST</div></div>
<div class="ttc" id="aovermap_8h_html_a70d86ad55f59766b1ec9c303f6133ca6ae9bf89949c50540e0c72274a5520f5cc"><div class="ttname"><a href="overmap_8h.html#a70d86ad55f59766b1ec9c303f6133ca6ae9bf89949c50540e0c72274a5520f5cc">radio_type::WEATHER_RADIO</a></div><div class="ttdeci">@ WEATHER_RADIO</div></div>
<div class="ttc" id="astructradio__tower__reference_html_a26f2e82817817ca5291a8376bb416784"><div class="ttname"><a href="structradio__tower__reference.html#a26f2e82817817ca5291a8376bb416784">radio_tower_reference::tower</a></div><div class="ttdeci">radio_tower * tower</div><div class="ttdoc">The radio tower itself, points into overmap::radios.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00063">overmapbuffer.h:63</a></div></div>
<div class="ttc" id="astructradio__tower_html"><div class="ttname"><a href="structradio__tower.html">radio_tower</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap_8h_source.html#l00119">overmap.h:119</a></div></div>
<div class="ttc" id="astructradio__tower_html_a4223126d1dc2658ece35c232ce57e98d"><div class="ttname"><a href="structradio__tower.html#a4223126d1dc2658ece35c232ce57e98d">radio_tower::frequency</a></div><div class="ttdeci">int frequency</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8h_source.html#l00125">overmap.h:125</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="sounds_8cpp_source.html#l00171">sounds::ambient_sound()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="rng_8cpp_source.html#l00085">dice()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::electronic_speech</a>, <a class="el" href="sounds_8cpp_source.html#l01609">sfx::fade_audio_channel()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01294">overmapbuffer::find_all_radio_stations()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01279">overmapbuffer::find_radio_station()</a>, <a class="el" href="output_8cpp_source.html#l00068">foldstring()</a>, <a class="el" href="item_8h_source.html#l02201">item::frequency</a>, <a class="el" href="overmap_8h_source.html#l00125">radio_tower::frequency</a>, <a class="el" href="sounds_8cpp_source.html#l01610">sfx::is_channel_playing()</a>, <a class="el" href="iuse_8cpp.html#a6a839c9b56bf28a92da6e778e8364280">itype_radio</a>, <a class="el" href="mapgen_8cpp_source.html#l00403">mapgen_defer::message</a>, <a class="el" href="overmap_8h.html#a70d86ad55f59766b1ec9c303f6133ca6a0082e2c3663f70eda1cdda6145f2f2dd">MESSAGE_BROADCAST</a>, <a class="el" href="cata__utility_8cpp_source.html#l00620">obscure_message()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00044">overmap_buffer</a>, <a class="el" href="sounds_8cpp_source.html#l01593">sfx::play_ambient_variant_sound()</a>, <a class="el" href="namespacesfx.html#af20f2b1f5492d2f2d793da6d29740f18aa398fb77df76e6153df57cd65fd0a7c5">sfx::radio</a>, <a class="el" href="iuse_8cpp_source.html#l00357">RADIO_PER_TURN</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="overmapbuffer_8h_source.html#l00063">radio_tower_reference::tower</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="weather_8cpp_source.html#l00611">weather_forecast()</a>, and <a class="el" href="overmap_8h.html#a70d86ad55f59766b1ec9c303f6133ca6ae9bf89949c50540e0c72274a5520f5cc">WEATHER_RADIO</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aaee7b018768871e7ee2a69adb30f148f" name="aaee7b018768871e7ee2a69adb30f148f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaee7b018768871e7ee2a69adb30f148f">&#9670;&nbsp;</a></span>radiocar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::radiocar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l07896">7896</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07897" name="l07897"></a><span class="lineno"> 7897</span>{</div>
<div class="line"><a id="l07898" name="l07898"></a><span class="lineno"> 7898</span>    <span class="keywordtype">int</span> choice = -1;</div>
<div class="line"><a id="l07899" name="l07899"></a><span class="lineno"> 7899</span>    <a class="code hl_class" href="classitem.html">item</a> *bomb_it = it-&gt;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ae91f4f5f0077f34e51f8acc525fd4798">get_item_with</a>( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> ) {</div>
<div class="line"><a id="l07900" name="l07900"></a><span class="lineno"> 7900</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.has_flag( <span class="stringliteral">&quot;RADIOCARITEM&quot;</span> );</div>
<div class="line"><a id="l07901" name="l07901"></a><span class="lineno"> 7901</span>    } );</div>
<div class="line"><a id="l07902" name="l07902"></a><span class="lineno"> 7902</span>    <span class="keywordflow">if</span>( bomb_it == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l07903" name="l07903"></a><span class="lineno"> 7903</span>        choice = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Using RC car:&quot;</span> ), {</div>
<div class="line"><a id="l07904" name="l07904"></a><span class="lineno"> 7904</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Turn on&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Put a bomb to car&quot;</span> )</div>
<div class="line"><a id="l07905" name="l07905"></a><span class="lineno"> 7905</span>        } );</div>
<div class="line"><a id="l07906" name="l07906"></a><span class="lineno"> 7906</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07907" name="l07907"></a><span class="lineno"> 7907</span>        choice = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Using RC car:&quot;</span> ), {</div>
<div class="line"><a id="l07908" name="l07908"></a><span class="lineno"> 7908</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Turn on&quot;</span> ), bomb_it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>()</div>
<div class="line"><a id="l07909" name="l07909"></a><span class="lineno"> 7909</span>        } );</div>
<div class="line"><a id="l07910" name="l07910"></a><span class="lineno"> 7910</span>    }</div>
<div class="line"><a id="l07911" name="l07911"></a><span class="lineno"> 7911</span>    <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l07912" name="l07912"></a><span class="lineno"> 7912</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07913" name="l07913"></a><span class="lineno"> 7913</span>    }</div>
<div class="line"><a id="l07914" name="l07914"></a><span class="lineno"> 7914</span> </div>
<div class="line"><a id="l07915" name="l07915"></a><span class="lineno"> 7915</span>    <span class="keywordflow">if</span>( choice == 0 ) { <span class="comment">//Turn car ON</span></div>
<div class="line"><a id="l07916" name="l07916"></a><span class="lineno"> 7916</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l07917" name="l07917"></a><span class="lineno"> 7917</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The RC car&#39;s batteries seem to be dead.&quot;</span> ) );</div>
<div class="line"><a id="l07918" name="l07918"></a><span class="lineno"> 7918</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07919" name="l07919"></a><span class="lineno"> 7919</span>        }</div>
<div class="line"><a id="l07920" name="l07920"></a><span class="lineno"> 7920</span> </div>
<div class="line"><a id="l07921" name="l07921"></a><span class="lineno"> 7921</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#aca01588ad9ce25ed095aee31c62f3cb8">itype_radio_car_on</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07922" name="l07922"></a><span class="lineno"> 7922</span> </div>
<div class="line"><a id="l07923" name="l07923"></a><span class="lineno"> 7923</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l07924" name="l07924"></a><span class="lineno"> 7924</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You turned on your RC car, now place it on ground, and use radio control to play.&quot;</span> ) );</div>
<div class="line"><a id="l07925" name="l07925"></a><span class="lineno"> 7925</span> </div>
<div class="line"><a id="l07926" name="l07926"></a><span class="lineno"> 7926</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07927" name="l07927"></a><span class="lineno"> 7927</span>    }</div>
<div class="line"><a id="l07928" name="l07928"></a><span class="lineno"> 7928</span> </div>
<div class="line"><a id="l07929" name="l07929"></a><span class="lineno"> 7929</span>    <span class="keywordflow">if</span>( choice == 1 ) {</div>
<div class="line"><a id="l07930" name="l07930"></a><span class="lineno"> 7930</span> </div>
<div class="line"><a id="l07931" name="l07931"></a><span class="lineno"> 7931</span>        <span class="keywordflow">if</span>( bomb_it == <span class="keyword">nullptr</span> ) { <span class="comment">//arming car with bomb</span></div>
<div class="line"><a id="l07932" name="l07932"></a><span class="lineno"> 7932</span> </div>
<div class="line"><a id="l07933" name="l07933"></a><span class="lineno"> 7933</span>            <a class="code hl_class" href="classavatar.html">avatar</a> *you = p-&gt;<a class="code hl_function" href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">as_avatar</a>();</div>
<div class="line"><a id="l07934" name="l07934"></a><span class="lineno"> 7934</span>            <a class="code hl_class" href="classitem__location.html">item_location</a> loc;</div>
<div class="line"><a id="l07935" name="l07935"></a><span class="lineno"> 7935</span>            <span class="keywordflow">if</span>( you != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l07936" name="l07936"></a><span class="lineno"> 7936</span>                loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a9eafc067094abf546e276b125d2fc788">game_menus::inv::titled_filter_menu</a>( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l07937" name="l07937"></a><span class="lineno"> 7937</span>                    <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RADIOCARITEM&quot;</span> );</div>
<div class="line"><a id="l07938" name="l07938"></a><span class="lineno"> 7938</span>                }, *you, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Arm what?&quot;</span> ) );</div>
<div class="line"><a id="l07939" name="l07939"></a><span class="lineno"> 7939</span>            }</div>
<div class="line"><a id="l07940" name="l07940"></a><span class="lineno"> 7940</span>            <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l07941" name="l07941"></a><span class="lineno"> 7941</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item!&quot;</span> ) );</div>
<div class="line"><a id="l07942" name="l07942"></a><span class="lineno"> 7942</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07943" name="l07943"></a><span class="lineno"> 7943</span>            }</div>
<div class="line"><a id="l07944" name="l07944"></a><span class="lineno"> 7944</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;put = *loc;</div>
<div class="line"><a id="l07945" name="l07945"></a><span class="lineno"> 7945</span> </div>
<div class="line"><a id="l07946" name="l07946"></a><span class="lineno"> 7946</span>            <span class="keywordflow">if</span>( put.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RADIOCARITEM&quot;</span> ) &amp;&amp; ( put.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() &lt;= 1250_ml ||</div>
<div class="line"><a id="l07947" name="l07947"></a><span class="lineno"> 7947</span>                                                    ( put.<a class="code hl_function" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>() &lt;= 2_kilogram ) ) ) {</div>
<div class="line"><a id="l07948" name="l07948"></a><span class="lineno"> 7948</span>                p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 3_seconds );</div>
<div class="line"><a id="l07949" name="l07949"></a><span class="lineno"> 7949</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You armed your RC car with %s.&quot;</span> ),</div>
<div class="line"><a id="l07950" name="l07950"></a><span class="lineno"> 7950</span>                                      put.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l07951" name="l07951"></a><span class="lineno"> 7951</span>                it-&gt;<a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;put ) );</div>
<div class="line"><a id="l07952" name="l07952"></a><span class="lineno"> 7952</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !put.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RADIOCARITEM&quot;</span> ) ) {</div>
<div class="line"><a id="l07953" name="l07953"></a><span class="lineno"> 7953</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;RC car with %s?  How?&quot;</span> ),</div>
<div class="line"><a id="l07954" name="l07954"></a><span class="lineno"> 7954</span>                                      put.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l07955" name="l07955"></a><span class="lineno"> 7955</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l07956" name="l07956"></a><span class="lineno"> 7956</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is too heavy or bulky for this RC car.&quot;</span> ),</div>
<div class="line"><a id="l07957" name="l07957"></a><span class="lineno"> 7957</span>                                      put.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l07958" name="l07958"></a><span class="lineno"> 7958</span>            }</div>
<div class="line"><a id="l07959" name="l07959"></a><span class="lineno"> 7959</span>        } <span class="keywordflow">else</span> { <span class="comment">// Disarm the car</span></div>
<div class="line"><a id="l07960" name="l07960"></a><span class="lineno"> 7960</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 2_seconds );</div>
<div class="line"><a id="l07961" name="l07961"></a><span class="lineno"> 7961</span> </div>
<div class="line"><a id="l07962" name="l07962"></a><span class="lineno"> 7962</span>            p-&gt;<a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">assign_empty_invlet</a>( *bomb_it, *p, <span class="keyword">true</span> ); <span class="comment">// force getting an invlet.</span></div>
<div class="line"><a id="l07963" name="l07963"></a><span class="lineno"> 7963</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( *bomb_it );</div>
<div class="line"><a id="l07964" name="l07964"></a><span class="lineno"> 7964</span>            it-&gt;<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *bomb_it );</div>
<div class="line"><a id="l07965" name="l07965"></a><span class="lineno"> 7965</span> </div>
<div class="line"><a id="l07966" name="l07966"></a><span class="lineno"> 7966</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You disarmed your RC car.&quot;</span> ) );</div>
<div class="line"><a id="l07967" name="l07967"></a><span class="lineno"> 7967</span>        }</div>
<div class="line"><a id="l07968" name="l07968"></a><span class="lineno"> 7968</span>    }</div>
<div class="line"><a id="l07969" name="l07969"></a><span class="lineno"> 7969</span> </div>
<div class="line"><a id="l07970" name="l07970"></a><span class="lineno"> 7970</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07971" name="l07971"></a><span class="lineno"> 7971</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3d69eddc0a03b21378fc68cc08d32c7f"><div class="ttname"><a href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">Character::inv</a></div><div class="ttdeci">inventory inv</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01583">character.h:1583</a></div></div>
<div class="ttc" id="aclassinventory_html_aaad56f923ec6824aadf028d8ba1ba89d"><div class="ttname"><a href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">inventory::assign_empty_invlet</a></div><div class="ttdeci">void assign_empty_invlet(item &amp;it, const Character &amp;p, bool force=false)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01141">inventory.cpp:1141</a></div></div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04844">item.cpp:4844</a></div></div>
<div class="ttc" id="aclassitem_html_a51eafbdf8b331d88b741c0c527f98eb9"><div class="ttname"><a href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04991">item.cpp:4991</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_aca01588ad9ce25ed095aee31c62f3cb8"><div class="ttname"><a href="iuse_8cpp.html#aca01588ad9ce25ed095aee31c62f3cb8">itype_radio_car_on</a></div><div class="ttdeci">static const itype_id itype_radio_car_on(&quot;radio_car_on&quot;)</div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01031">magic.cpp:1031</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="creature_8h_source.html#l00128">Creature::as_avatar()</a>, <a class="el" href="inventory_8cpp_source.html#l01141">inventory::assign_empty_invlet()</a>, <a class="el" href="magic_8cpp_source.html#l01031">c</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="item__contents_8cpp_source.html#l00118">item_contents::get_item_with()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="iuse_8cpp.html#aca01588ad9ce25ed095aee31c62f3cb8">itype_radio_car_on</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="item_8cpp_source.html#l00987">item::put_in()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; T &gt;::remove_item()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00265">game_menus::inv::titled_filter_menu()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l04991">item::volume()</a>, and <a class="el" href="item_8cpp_source.html#l04844">item::weight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aea3836a0efda34a7f00ccbfbba7ade3e" name="aea3836a0efda34a7f00ccbfbba7ade3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea3836a0efda34a7f00ccbfbba7ade3e">&#9670;&nbsp;</a></span>radiocaron()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::radiocaron </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l07973">7973</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l07974" name="l07974"></a><span class="lineno"> 7974</span>{</div>
<div class="line"><a id="l07975" name="l07975"></a><span class="lineno"> 7975</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l07976" name="l07976"></a><span class="lineno"> 7976</span>        <span class="comment">//~Sound of a radio controlled car moving around</span></div>
<div class="line"><a id="l07977" name="l07977"></a><span class="lineno"> 7977</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 6, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a74bcc1e0384a916f56360c649f543f3a">sounds::sound_t::movement</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;buzzz…&quot;</span> ), <span class="keyword">true</span>, <span class="stringliteral">&quot;misc&quot;</span>, <span class="stringliteral">&quot;rc_car_drives&quot;</span> );</div>
<div class="line"><a id="l07978" name="l07978"></a><span class="lineno"> 7978</span> </div>
<div class="line"><a id="l07979" name="l07979"></a><span class="lineno"> 7979</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07980" name="l07980"></a><span class="lineno"> 7980</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l07981" name="l07981"></a><span class="lineno"> 7981</span>        <span class="comment">// Deactivate since other mode has an iuse too.</span></div>
<div class="line"><a id="l07982" name="l07982"></a><span class="lineno"> 7982</span>        it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07983" name="l07983"></a><span class="lineno"> 7983</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07984" name="l07984"></a><span class="lineno"> 7984</span>    }</div>
<div class="line"><a id="l07985" name="l07985"></a><span class="lineno"> 7985</span> </div>
<div class="line"><a id="l07986" name="l07986"></a><span class="lineno"> 7986</span>    <span class="keywordtype">int</span> choice = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;What to do with activated RC car?&quot;</span> ), {</div>
<div class="line"><a id="l07987" name="l07987"></a><span class="lineno"> 7987</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Turn off&quot;</span> )</div>
<div class="line"><a id="l07988" name="l07988"></a><span class="lineno"> 7988</span>    } );</div>
<div class="line"><a id="l07989" name="l07989"></a><span class="lineno"> 7989</span> </div>
<div class="line"><a id="l07990" name="l07990"></a><span class="lineno"> 7990</span>    <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l07991" name="l07991"></a><span class="lineno"> 7991</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07992" name="l07992"></a><span class="lineno"> 7992</span>    }</div>
<div class="line"><a id="l07993" name="l07993"></a><span class="lineno"> 7993</span> </div>
<div class="line"><a id="l07994" name="l07994"></a><span class="lineno"> 7994</span>    <span class="keywordflow">if</span>( choice == 0 ) {</div>
<div class="line"><a id="l07995" name="l07995"></a><span class="lineno"> 7995</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a15c663645df7776172ed0f17fb3e4225">itype_radio_car</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07996" name="l07996"></a><span class="lineno"> 7996</span> </div>
<div class="line"><a id="l07997" name="l07997"></a><span class="lineno"> 7997</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You turned off your RC car.&quot;</span> ) );</div>
<div class="line"><a id="l07998" name="l07998"></a><span class="lineno"> 7998</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l07999" name="l07999"></a><span class="lineno"> 7999</span>    }</div>
<div class="line"><a id="l08000" name="l08000"></a><span class="lineno"> 8000</span> </div>
<div class="line"><a id="l08001" name="l08001"></a><span class="lineno"> 8001</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l08002" name="l08002"></a><span class="lineno"> 8002</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a15c663645df7776172ed0f17fb3e4225"><div class="ttname"><a href="iuse_8cpp.html#a15c663645df7776172ed0f17fb3e4225">itype_radio_car</a></div><div class="ttdeci">static const itype_id itype_radio_car(&quot;radio_car&quot;)</div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3a74bcc1e0384a916f56360c649f543f3a"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a74bcc1e0384a916f56360c649f543f3a">sounds::sound_t::movement</a></div><div class="ttdeci">@ movement</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="iuse_8cpp.html#a15c663645df7776172ed0f17fb3e4225">itype_radio_car</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a74bcc1e0384a916f56360c649f543f3a">sounds::movement</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a80802e0d819009a825a7e0d8cd5fbfb8" name="a80802e0d819009a825a7e0d8cd5fbfb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80802e0d819009a825a7e0d8cd5fbfb8">&#9670;&nbsp;</a></span>radiocontrol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::radiocontrol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l08067">8067</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08068" name="l08068"></a><span class="lineno"> 8068</span>{</div>
<div class="line"><a id="l08069" name="l08069"></a><span class="lineno"> 8069</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l08070" name="l08070"></a><span class="lineno"> 8070</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l08071" name="l08071"></a><span class="lineno"> 8071</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08072" name="l08072"></a><span class="lineno"> 8072</span>            p-&gt;<a class="code hl_function" href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e">remove_value</a>( <span class="stringliteral">&quot;remote_controlling&quot;</span> );</div>
<div class="line"><a id="l08073" name="l08073"></a><span class="lineno"> 8073</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">get_value</a>( <span class="stringliteral">&quot;remote_controlling&quot;</span> ).empty() ) {</div>
<div class="line"><a id="l08074" name="l08074"></a><span class="lineno"> 8074</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08075" name="l08075"></a><span class="lineno"> 8075</span>        }</div>
<div class="line"><a id="l08076" name="l08076"></a><span class="lineno"> 8076</span> </div>
<div class="line"><a id="l08077" name="l08077"></a><span class="lineno"> 8077</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l08078" name="l08078"></a><span class="lineno"> 8078</span>    }</div>
<div class="line"><a id="l08079" name="l08079"></a><span class="lineno"> 8079</span> </div>
<div class="line"><a id="l08080" name="l08080"></a><span class="lineno"> 8080</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *car_action = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l08081" name="l08081"></a><span class="lineno"> 8081</span> </div>
<div class="line"><a id="l08082" name="l08082"></a><span class="lineno"> 8082</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l08083" name="l08083"></a><span class="lineno"> 8083</span>        car_action = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Take control of RC car&quot;</span> );</div>
<div class="line"><a id="l08084" name="l08084"></a><span class="lineno"> 8084</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08085" name="l08085"></a><span class="lineno"> 8085</span>        car_action = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stop controlling RC car&quot;</span> );</div>
<div class="line"><a id="l08086" name="l08086"></a><span class="lineno"> 8086</span>    }</div>
<div class="line"><a id="l08087" name="l08087"></a><span class="lineno"> 8087</span> </div>
<div class="line"><a id="l08088" name="l08088"></a><span class="lineno"> 8088</span>    <span class="keywordtype">int</span> choice = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;What to do with radio control?&quot;</span> ), {</div>
<div class="line"><a id="l08089" name="l08089"></a><span class="lineno"> 8089</span>        car_action,</div>
<div class="line"><a id="l08090" name="l08090"></a><span class="lineno"> 8090</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Press red button&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Press blue button&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Press green button&quot;</span> )</div>
<div class="line"><a id="l08091" name="l08091"></a><span class="lineno"> 8091</span>    } );</div>
<div class="line"><a id="l08092" name="l08092"></a><span class="lineno"> 8092</span> </div>
<div class="line"><a id="l08093" name="l08093"></a><span class="lineno"> 8093</span>    <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l08094" name="l08094"></a><span class="lineno"> 8094</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08095" name="l08095"></a><span class="lineno"> 8095</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice == 0 ) {</div>
<div class="line"><a id="l08096" name="l08096"></a><span class="lineno"> 8096</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l08097" name="l08097"></a><span class="lineno"> 8097</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08098" name="l08098"></a><span class="lineno"> 8098</span>            p-&gt;<a class="code hl_function" href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e">remove_value</a>( <span class="stringliteral">&quot;remote_controlling&quot;</span> );</div>
<div class="line"><a id="l08099" name="l08099"></a><span class="lineno"> 8099</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08100" name="l08100"></a><span class="lineno"> 8100</span>            std::vector&lt;std::pair&lt;tripoint, item *&gt;&gt; rc_pairs;</div>
<div class="line"><a id="l08101" name="l08101"></a><span class="lineno"> 8101</span>            <span class="keywordflow">for</span>( <a class="code hl_struct" href="structtripoint.html">tripoint</a> pt : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_on_zlevel( p-&gt;<a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>() ) ) {</div>
<div class="line"><a id="l08102" name="l08102"></a><span class="lineno"> 8102</span>                <a class="code hl_class" href="classmap__cursor.html">map_cursor</a> mc( pt );</div>
<div class="line"><a id="l08103" name="l08103"></a><span class="lineno"> 8103</span>                std::vector&lt;item *&gt; rc_items_here = mc.items_with( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l08104" name="l08104"></a><span class="lineno"> 8104</span>                    <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RADIO_CONTROLLED&quot;</span> );</div>
<div class="line"><a id="l08105" name="l08105"></a><span class="lineno"> 8105</span>                } );</div>
<div class="line"><a id="l08106" name="l08106"></a><span class="lineno"> 8106</span>                <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *it : rc_items_here ) {</div>
<div class="line"><a id="l08107" name="l08107"></a><span class="lineno"> 8107</span>                    rc_pairs.emplace_back( pt, it );</div>
<div class="line"><a id="l08108" name="l08108"></a><span class="lineno"> 8108</span>                }</div>
<div class="line"><a id="l08109" name="l08109"></a><span class="lineno"> 8109</span>            }</div>
<div class="line"><a id="l08110" name="l08110"></a><span class="lineno"> 8110</span> </div>
<div class="line"><a id="l08111" name="l08111"></a><span class="lineno"> 8111</span>            <span class="keywordflow">if</span>( rc_pairs.empty() ) {</div>
<div class="line"><a id="l08112" name="l08112"></a><span class="lineno"> 8112</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No active RC cars on ground and in range.&quot;</span> ) );</div>
<div class="line"><a id="l08113" name="l08113"></a><span class="lineno"> 8113</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l08114" name="l08114"></a><span class="lineno"> 8114</span>            }</div>
<div class="line"><a id="l08115" name="l08115"></a><span class="lineno"> 8115</span> </div>
<div class="line"><a id="l08116" name="l08116"></a><span class="lineno"> 8116</span>            std::vector&lt;tripoint&gt; <a class="code hl_variable" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#a1746287579ae93eaa7db10693e28de66">locations</a>;</div>
<div class="line"><a id="l08117" name="l08117"></a><span class="lineno"> 8117</span>            <a class="code hl_class" href="classuilist.html">uilist</a> pick_rc;</div>
<div class="line"><a id="l08118" name="l08118"></a><span class="lineno"> 8118</span>            pick_rc.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Choose car to control.&quot;</span> );</div>
<div class="line"><a id="l08119" name="l08119"></a><span class="lineno"> 8119</span>            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; rc_pairs.size(); i++ ) {</div>
<div class="line"><a id="l08120" name="l08120"></a><span class="lineno"> 8120</span>                pick_rc.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( i, <span class="keyword">true</span>, <a class="code hl_variable" href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a>, rc_pairs[i].<a class="code hl_enumvalue" href="calendar_8h.html#a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612">second</a>-&gt;display_name() );</div>
<div class="line"><a id="l08121" name="l08121"></a><span class="lineno"> 8121</span>                <a class="code hl_variable" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#a1746287579ae93eaa7db10693e28de66">locations</a>.push_back( rc_pairs[i].first );</div>
<div class="line"><a id="l08122" name="l08122"></a><span class="lineno"> 8122</span>            }</div>
<div class="line"><a id="l08123" name="l08123"></a><span class="lineno"> 8123</span>            <a class="code hl_class" href="classpointmenu__cb.html">pointmenu_cb</a> callback( <a class="code hl_variable" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#a1746287579ae93eaa7db10693e28de66">locations</a> );</div>
<div class="line"><a id="l08124" name="l08124"></a><span class="lineno"> 8124</span>            pick_rc.<a class="code hl_variable" href="classuilist.html#ad4f5806d1d8ab3de3af8e3285faf47d6">callback</a> = &amp;callback;</div>
<div class="line"><a id="l08125" name="l08125"></a><span class="lineno"> 8125</span>            pick_rc.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l08126" name="l08126"></a><span class="lineno"> 8126</span>            <span class="keywordflow">if</span>( pick_rc.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( pick_rc.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ) &gt;= rc_pairs.size() ) {</div>
<div class="line"><a id="l08127" name="l08127"></a><span class="lineno"> 8127</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l08128" name="l08128"></a><span class="lineno"> 8128</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l08129" name="l08129"></a><span class="lineno"> 8129</span>            }</div>
<div class="line"><a id="l08130" name="l08130"></a><span class="lineno"> 8130</span> </div>
<div class="line"><a id="l08131" name="l08131"></a><span class="lineno"> 8131</span>            <a class="code hl_struct" href="structtripoint.html">tripoint</a> rc_loc = <a class="code hl_variable" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#a1746287579ae93eaa7db10693e28de66">locations</a>[pick_rc.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>];</div>
<div class="line"><a id="l08132" name="l08132"></a><span class="lineno"> 8132</span> </div>
<div class="line"><a id="l08133" name="l08133"></a><span class="lineno"> 8133</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take control of the RC car.&quot;</span> ) );</div>
<div class="line"><a id="l08134" name="l08134"></a><span class="lineno"> 8134</span>            p-&gt;<a class="code hl_function" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">set_value</a>( <span class="stringliteral">&quot;remote_controlling&quot;</span>, <a class="code hl_function" href="cata__utility_8cpp.html#aa093577de74b80470a847b6aac22d56e">serialize_wrapper</a>( [&amp;]( <a class="code hl_class" href="classJsonOut.html">JsonOut</a> &amp; jo ) {</div>
<div class="line"><a id="l08135" name="l08135"></a><span class="lineno"> 8135</span>                rc_loc.<a class="code hl_function" href="structtripoint.html#ae88a2a6b0b91fbe8f72b0526a4a03c9c">serialize</a>( jo );</div>
<div class="line"><a id="l08136" name="l08136"></a><span class="lineno"> 8136</span>            } ) );</div>
<div class="line"><a id="l08137" name="l08137"></a><span class="lineno"> 8137</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08138" name="l08138"></a><span class="lineno"> 8138</span>        }</div>
<div class="line"><a id="l08139" name="l08139"></a><span class="lineno"> 8139</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice &gt; 0 ) {</div>
<div class="line"><a id="l08140" name="l08140"></a><span class="lineno"> 8140</span>        <span class="keyword">const</span> std::string signal = <span class="stringliteral">&quot;RADIOSIGNAL_&quot;</span> + <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( choice );</div>
<div class="line"><a id="l08141" name="l08141"></a><span class="lineno"> 8141</span> </div>
<div class="line"><a id="l08142" name="l08142"></a><span class="lineno"> 8142</span>        std::vector&lt;item *&gt; bombs = p-&gt;<a class="code hl_function" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a id="l08143" name="l08143"></a><span class="lineno"> 8143</span>            <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RADIO_ACTIVATION&quot;</span> ) &amp;&amp; it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;BOMB&quot;</span> ) &amp;&amp; it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( signal );</div>
<div class="line"><a id="l08144" name="l08144"></a><span class="lineno"> 8144</span>        } );</div>
<div class="line"><a id="l08145" name="l08145"></a><span class="lineno"> 8145</span> </div>
<div class="line"><a id="l08146" name="l08146"></a><span class="lineno"> 8146</span>        <span class="keywordflow">if</span>( !bombs.empty() ) {</div>
<div class="line"><a id="l08147" name="l08147"></a><span class="lineno"> 8147</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l08148" name="l08148"></a><span class="lineno"> 8148</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s in your inventory would explode on this signal.  Place it down before sending the signal.&quot;</span> ),</div>
<div class="line"><a id="l08149" name="l08149"></a><span class="lineno"> 8149</span>                                  bombs.front()-&gt;display_name() );</div>
<div class="line"><a id="l08150" name="l08150"></a><span class="lineno"> 8150</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08151" name="l08151"></a><span class="lineno"> 8151</span>        }</div>
<div class="line"><a id="l08152" name="l08152"></a><span class="lineno"> 8152</span> </div>
<div class="line"><a id="l08153" name="l08153"></a><span class="lineno"> 8153</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Click.&quot;</span> ) );</div>
<div class="line"><a id="l08154" name="l08154"></a><span class="lineno"> 8154</span>        <a class="code hl_function" href="iuse_8cpp.html#a6e1c8d1d1a653c565ca2aa4f9fdf2ca1">emit_radio_signal</a>( *p, signal );</div>
<div class="line"><a id="l08155" name="l08155"></a><span class="lineno"> 8155</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 2_seconds );</div>
<div class="line"><a id="l08156" name="l08156"></a><span class="lineno"> 8156</span>    }</div>
<div class="line"><a id="l08157" name="l08157"></a><span class="lineno"> 8157</span> </div>
<div class="line"><a id="l08158" name="l08158"></a><span class="lineno"> 8158</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l08159" name="l08159"></a><span class="lineno"> 8159</span>}</div>
<div class="ttc" id="acalendar_8h_html_a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612"><div class="ttname"><a href="calendar_8h.html#a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612">clipped_unit::second</a></div><div class="ttdeci">@ second</div></div>
<div class="ttc" id="acata__utility_8cpp_html_aa093577de74b80470a847b6aac22d56e"><div class="ttname"><a href="cata__utility_8cpp.html#aa093577de74b80470a847b6aac22d56e">serialize_wrapper</a></div><div class="ttdeci">std::string serialize_wrapper(const std::function&lt; void(JsonOut &amp;)&gt; &amp;callback)</div><div class="ttdoc">@group JSON (de)serialization wrappers.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00659">cata_utility.cpp:659</a></div></div>
<div class="ttc" id="aclassCreature_html_a04c1983abeefbf67db1e3f2b2a9b58ab"><div class="ttname"><a href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">Creature::set_value</a></div><div class="ttdeci">void set_value(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01325">creature.cpp:1325</a></div></div>
<div class="ttc" id="aclassCreature_html_a2acb6e1e19bcb775748403d07d8dc3f0"><div class="ttname"><a href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">Creature::get_value</a></div><div class="ttdeci">std::string get_value(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01335">creature.cpp:1335</a></div></div>
<div class="ttc" id="aclassCreature_html_a6ad06869ed97eb2701f5f74b7d36281e"><div class="ttname"><a href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e">Creature::remove_value</a></div><div class="ttdeci">void remove_value(const std::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01330">creature.cpp:1330</a></div></div>
<div class="ttc" id="aclassJsonOut_html"><div class="ttname"><a href="classJsonOut.html">JsonOut</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00579">json.h:580</a></div></div>
<div class="ttc" id="aclasspointmenu__cb_html"><div class="ttname"><a href="classpointmenu__cb.html">pointmenu_cb</a></div><div class="ttdoc">Callback for uilist that pairs menu entries with points When an entry is selected,...</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00422">ui.h:423</a></div></div>
<div class="ttc" id="aclassuilist_html_ad4f5806d1d8ab3de3af8e3285faf47d6"><div class="ttname"><a href="classuilist.html#ad4f5806d1d8ab3de3af8e3285faf47d6">uilist::callback</a></div><div class="ttdeci">uilist_callback * callback</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00335">ui.h:335</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a6e1c8d1d1a653c565ca2aa4f9fdf2ca1"><div class="ttname"><a href="iuse_8cpp.html#a6e1c8d1d1a653c565ca2aa4f9fdf2ca1">emit_radio_signal</a></div><div class="ttdeci">static void emit_radio_signal(player &amp;p, const std::string &amp;signal)</div><div class="ttdoc">Send radio signal from player.</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08007">iuse.cpp:8007</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02overmap__location_8cpp_03_html_a1746287579ae93eaa7db10693e28de66"><div class="ttname"><a href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#a1746287579ae93eaa7db10693e28de66">anonymous_namespace{overmap_location.cpp}::locations</a></div><div class="ttdeci">generic_factory&lt; overmap_location &gt; locations(&quot;overmap location&quot;)</div></div>
<div class="ttc" id="astructtripoint_html_ae88a2a6b0b91fbe8f72b0526a4a03c9c"><div class="ttname"><a href="structtripoint.html#ae88a2a6b0b91fbe8f72b0526a4a03c9c">tripoint::serialize</a></div><div class="ttdeci">void serialize(JsonOut &amp;jsout) const</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l03385">savegame_json.cpp:3385</a></div></div>
<div class="ttc" id="aui_8h_html_a06d5f3667ed71fa40939c4e7367e30ce"><div class="ttname"><a href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a></div><div class="ttdeci">const int MENU_AUTOASSIGN</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00031">ui.h:31</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="ui_8cpp_source.html#l00932">uilist::addentry()</a>, <a class="el" href="ui_8h_source.html#l00335">uilist::callback</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp_source.html#l08007">emit_radio_signal()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="creature_8cpp_source.html#l01335">Creature::get_value()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="visitable_8cpp_source.html#l00325">visitable&lt; T &gt;::items_with()</a>, <a class="el" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#a1746287579ae93eaa7db10693e28de66">anonymous_namespace{overmap_location.cpp}::locations</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="ui_8h_source.html#l00031">MENU_AUTOASSIGN</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="character_8h_source.html#l00844">Character::posz()</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="creature_8cpp_source.html#l01330">Creature::remove_value()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="calendar_8h.html#a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612">second</a>, <a class="el" href="savegame__json_8cpp_source.html#l03385">tripoint::serialize()</a>, <a class="el" href="cata__utility_8cpp_source.html#l00659">serialize_wrapper()</a>, <a class="el" href="creature_8cpp_source.html#l01325">Creature::set_value()</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, <a class="el" href="calendar_8cpp_source.html#l00327">to_string()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a3ec4a9ae044aed6a9e99b59258a6fbda" name="a3ec4a9ae044aed6a9e99b59258a6fbda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec4a9ae044aed6a9e99b59258a6fbda">&#9670;&nbsp;</a></span>remoteveh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::remoteveh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l08258">8258</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08259" name="l08259"></a><span class="lineno"> 8259</span>{</div>
<div class="line"><a id="l08260" name="l08260"></a><span class="lineno"> 8260</span>    <a class="code hl_class" href="classvehicle.html">vehicle</a> *remote = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;remoteveh();</div>
<div class="line"><a id="l08261" name="l08261"></a><span class="lineno"> 8261</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l08262" name="l08262"></a><span class="lineno"> 8262</span>        <span class="keywordtype">bool</span> stop = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08263" name="l08263"></a><span class="lineno"> 8263</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l08264" name="l08264"></a><span class="lineno"> 8264</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The remote control&#39;s battery goes dead.&quot;</span> ) );</div>
<div class="line"><a id="l08265" name="l08265"></a><span class="lineno"> 8265</span>            stop = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08266" name="l08266"></a><span class="lineno"> 8266</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( remote == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l08267" name="l08267"></a><span class="lineno"> 8267</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Lost contact with the vehicle.&quot;</span> ) );</div>
<div class="line"><a id="l08268" name="l08268"></a><span class="lineno"> 8268</span>            stop = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08269" name="l08269"></a><span class="lineno"> 8269</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( remote-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="iuse_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> ) == 0 ) {</div>
<div class="line"><a id="l08270" name="l08270"></a><span class="lineno"> 8270</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The vehicle&#39;s battery died.&quot;</span> ) );</div>
<div class="line"><a id="l08271" name="l08271"></a><span class="lineno"> 8271</span>            <a class="code hl_enumvalue" href="namespacedistribution__graph.html#a2693ab255ec1b2e508b6af35709ce9ebaef399b2d446bb37b7c32ad2cc1b6045b">stop</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08272" name="l08272"></a><span class="lineno"> 8272</span>        }</div>
<div class="line"><a id="l08273" name="l08273"></a><span class="lineno"> 8273</span>        <span class="keywordflow">if</span>( stop ) {</div>
<div class="line"><a id="l08274" name="l08274"></a><span class="lineno"> 8274</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08275" name="l08275"></a><span class="lineno"> 8275</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;setremoteveh( <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l08276" name="l08276"></a><span class="lineno"> 8276</span>        }</div>
<div class="line"><a id="l08277" name="l08277"></a><span class="lineno"> 8277</span> </div>
<div class="line"><a id="l08278" name="l08278"></a><span class="lineno"> 8278</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l08279" name="l08279"></a><span class="lineno"> 8279</span>    }</div>
<div class="line"><a id="l08280" name="l08280"></a><span class="lineno"> 8280</span> </div>
<div class="line"><a id="l08281" name="l08281"></a><span class="lineno"> 8281</span>    <span class="keywordtype">bool</span> controlling = it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> &amp;&amp; remote != <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l08282" name="l08282"></a><span class="lineno"> 8282</span>    <span class="keywordtype">int</span> choice = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;What to do with remote vehicle control:&quot;</span> ), {</div>
<div class="line"><a id="l08283" name="l08283"></a><span class="lineno"> 8283</span>        controlling ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stop controlling the vehicle.&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Take control of a vehicle.&quot;</span> ),</div>
<div class="line"><a id="l08284" name="l08284"></a><span class="lineno"> 8284</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Execute one vehicle action&quot;</span> )</div>
<div class="line"><a id="l08285" name="l08285"></a><span class="lineno"> 8285</span>    } );</div>
<div class="line"><a id="l08286" name="l08286"></a><span class="lineno"> 8286</span> </div>
<div class="line"><a id="l08287" name="l08287"></a><span class="lineno"> 8287</span>    <span class="keywordflow">if</span>( choice &lt; 0 || choice &gt; 1 ) {</div>
<div class="line"><a id="l08288" name="l08288"></a><span class="lineno"> 8288</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08289" name="l08289"></a><span class="lineno"> 8289</span>    }</div>
<div class="line"><a id="l08290" name="l08290"></a><span class="lineno"> 8290</span> </div>
<div class="line"><a id="l08291" name="l08291"></a><span class="lineno"> 8291</span>    <span class="keywordflow">if</span>( choice == 0 &amp;&amp; controlling ) {</div>
<div class="line"><a id="l08292" name="l08292"></a><span class="lineno"> 8292</span>        it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08293" name="l08293"></a><span class="lineno"> 8293</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;setremoteveh( <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l08294" name="l08294"></a><span class="lineno"> 8294</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08295" name="l08295"></a><span class="lineno"> 8295</span>    }</div>
<div class="line"><a id="l08296" name="l08296"></a><span class="lineno"> 8296</span> </div>
<div class="line"><a id="l08297" name="l08297"></a><span class="lineno"> 8297</span>    <a class="code hl_struct" href="structpoint.html">point</a> p2( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.view_offset.xy() );</div>
<div class="line"><a id="l08298" name="l08298"></a><span class="lineno"> 8298</span> </div>
<div class="line"><a id="l08299" name="l08299"></a><span class="lineno"> 8299</span>    <a class="code hl_class" href="classvehicle.html">vehicle</a> *veh = <a class="code hl_function" href="iuse_8cpp.html#a31b1bf0047c1abf82acbe77de0873145">pickveh</a>( pos, choice == 0 );</div>
<div class="line"><a id="l08300" name="l08300"></a><span class="lineno"> 8300</span> </div>
<div class="line"><a id="l08301" name="l08301"></a><span class="lineno"> 8301</span>    <span class="keywordflow">if</span>( veh == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l08302" name="l08302"></a><span class="lineno"> 8302</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08303" name="l08303"></a><span class="lineno"> 8303</span>    }</div>
<div class="line"><a id="l08304" name="l08304"></a><span class="lineno"> 8304</span> </div>
<div class="line"><a id="l08305" name="l08305"></a><span class="lineno"> 8305</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="iuse_8cpp.html#a22b91125864c6502dbfd70f4cda6a485">hackveh</a>( *p, *it, *veh ) ) {</div>
<div class="line"><a id="l08306" name="l08306"></a><span class="lineno"> 8306</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08307" name="l08307"></a><span class="lineno"> 8307</span>    }</div>
<div class="line"><a id="l08308" name="l08308"></a><span class="lineno"> 8308</span> </div>
<div class="line"><a id="l08309" name="l08309"></a><span class="lineno"> 8309</span>    <span class="keywordflow">if</span>( choice == 0 ) {</div>
<div class="line"><a id="l08310" name="l08310"></a><span class="lineno"> 8310</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="iuse_8cpp.html#ada331e1a1d76dfffbc04f921862c78ca">trait_WAYFARER</a> ) ) {</div>
<div class="line"><a id="l08311" name="l08311"></a><span class="lineno"> 8311</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l08312" name="l08312"></a><span class="lineno"> 8312</span>                     <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Despite using a controller, you still refuse to take control of this vehicle.&quot;</span> ) );</div>
<div class="line"><a id="l08313" name="l08313"></a><span class="lineno"> 8313</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08314" name="l08314"></a><span class="lineno"> 8314</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08315" name="l08315"></a><span class="lineno"> 8315</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;setremoteveh( veh );</div>
<div class="line"><a id="l08316" name="l08316"></a><span class="lineno"> 8316</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take control of the vehicle.&quot;</span> ) );</div>
<div class="line"><a id="l08317" name="l08317"></a><span class="lineno"> 8317</span>            <span class="keywordflow">if</span>( !veh-&gt;<a class="code hl_variable" href="classvehicle.html#a0ccf22f114d5d8f239ebe58f5c8f70ad">engine_on</a> ) {</div>
<div class="line"><a id="l08318" name="l08318"></a><span class="lineno"> 8318</span>                veh-&gt;<a class="code hl_function" href="classvehicle.html#a7183b4a2eac4da678e316f5ca1d46e08">start_engines</a>();</div>
<div class="line"><a id="l08319" name="l08319"></a><span class="lineno"> 8319</span>            }</div>
<div class="line"><a id="l08320" name="l08320"></a><span class="lineno"> 8320</span>        }</div>
<div class="line"><a id="l08321" name="l08321"></a><span class="lineno"> 8321</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice == 1 ) {</div>
<div class="line"><a id="l08322" name="l08322"></a><span class="lineno"> 8322</span>        <span class="keyword">const</span> <span class="keyword">auto</span> rctrl_parts = veh-&gt;<a class="code hl_function" href="classvehicle.html#a1b64eabc86039e338bf054c96f5a26ff">get_avail_parts</a>( <span class="stringliteral">&quot;REMOTE_CONTROLS&quot;</span> );</div>
<div class="line"><a id="l08323" name="l08323"></a><span class="lineno"> 8323</span>        <span class="comment">// Revert to original behavior if we can&#39;t find remote controls.</span></div>
<div class="line"><a id="l08324" name="l08324"></a><span class="lineno"> 8324</span>        <span class="keywordflow">if</span>( empty( rctrl_parts ) ) {</div>
<div class="line"><a id="l08325" name="l08325"></a><span class="lineno"> 8325</span>            veh-&gt;<a class="code hl_function" href="classvehicle.html#a7872008545efae65aac7a6d9582bbd3b">use_controls</a>( pos );</div>
<div class="line"><a id="l08326" name="l08326"></a><span class="lineno"> 8326</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08327" name="l08327"></a><span class="lineno"> 8327</span>            veh-&gt;<a class="code hl_function" href="classvehicle.html#a7872008545efae65aac7a6d9582bbd3b">use_controls</a>( rctrl_parts.begin()-&gt;pos() );</div>
<div class="line"><a id="l08328" name="l08328"></a><span class="lineno"> 8328</span>        }</div>
<div class="line"><a id="l08329" name="l08329"></a><span class="lineno"> 8329</span>    }</div>
<div class="line"><a id="l08330" name="l08330"></a><span class="lineno"> 8330</span> </div>
<div class="line"><a id="l08331" name="l08331"></a><span class="lineno"> 8331</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.view_offset.x = p2.x;</div>
<div class="line"><a id="l08332" name="l08332"></a><span class="lineno"> 8332</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.view_offset.y = p2.y;</div>
<div class="line"><a id="l08333" name="l08333"></a><span class="lineno"> 8333</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l08334" name="l08334"></a><span class="lineno"> 8334</span>}</div>
<div class="ttc" id="aclassvehicle_html_a0ccf22f114d5d8f239ebe58f5c8f70ad"><div class="ttname"><a href="classvehicle.html#a0ccf22f114d5d8f239ebe58f5c8f70ad">vehicle::engine_on</a></div><div class="ttdeci">bool engine_on</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l01930">vehicle.h:1930</a></div></div>
<div class="ttc" id="aclassvehicle_html_a1b64eabc86039e338bf054c96f5a26ff"><div class="ttname"><a href="classvehicle.html#a1b64eabc86039e338bf054c96f5a26ff">vehicle::get_avail_parts</a></div><div class="ttdeci">vehicle_part_with_feature_range&lt; std::string &gt; get_avail_parts(std::string feature) const</div><div class="ttdoc">Yields a range of parts of this vehicle that each have the given feature and are available: not broke...</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02678">vehicle.cpp:2678</a></div></div>
<div class="ttc" id="aclassvehicle_html_a5b3c37a197c21cdd469e7779f8c1db50"><div class="ttname"><a href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">vehicle::fuel_left</a></div><div class="ttdeci">int fuel_left(const itype_id &amp;ftype, bool recurse=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03179">vehicle.cpp:3179</a></div></div>
<div class="ttc" id="aclassvehicle_html_a7183b4a2eac4da678e316f5ca1d46e08"><div class="ttname"><a href="classvehicle.html#a7183b4a2eac4da678e316f5ca1d46e08">vehicle::start_engines</a></div><div class="ttdeci">void start_engines(bool take_control=false, bool autodrive=false)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__use_8cpp_source.html#l01055">vehicle_use.cpp:1055</a></div></div>
<div class="ttc" id="aclassvehicle_html_a7872008545efae65aac7a6d9582bbd3b"><div class="ttname"><a href="classvehicle.html#a7872008545efae65aac7a6d9582bbd3b">vehicle::use_controls</a></div><div class="ttdeci">void use_controls(const tripoint &amp;pos)</div><div class="ttdoc">Operate vehicle controls.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__use_8cpp_source.html#l00606">vehicle_use.cpp:606</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a22b91125864c6502dbfd70f4cda6a485"><div class="ttname"><a href="iuse_8cpp.html#a22b91125864c6502dbfd70f4cda6a485">hackveh</a></div><div class="ttdeci">static bool hackveh(player &amp;p, item &amp;it, vehicle &amp;veh)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08161">iuse.cpp:8161</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a31b1bf0047c1abf82acbe77de0873145"><div class="ttname"><a href="iuse_8cpp.html#a31b1bf0047c1abf82acbe77de0873145">pickveh</a></div><div class="ttdeci">static vehicle * pickveh(const tripoint &amp;center, bool advanced)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08217">iuse.cpp:8217</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_ab5f267c571dc194e5b7e0b10b5136a33"><div class="ttname"><a href="iuse_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a></div><div class="ttdeci">static const itype_id itype_battery(&quot;battery&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ada331e1a1d76dfffbc04f921862c78ca"><div class="ttname"><a href="iuse_8cpp.html#ada331e1a1d76dfffbc04f921862c78ca">trait_WAYFARER</a></div><div class="ttdeci">static const trait_id trait_WAYFARER(&quot;WAYFARER&quot;)</div></div>
<div class="ttc" id="anamespacedistribution__graph_html_a2693ab255ec1b2e508b6af35709ce9ebaef399b2d446bb37b7c32ad2cc1b6045b"><div class="ttname"><a href="namespacedistribution__graph.html#a2693ab255ec1b2e508b6af35709ce9ebaef399b2d446bb37b7c32ad2cc1b6045b">distribution_graph::traverse_visitor_result::stop</a></div><div class="ttdeci">@ stop</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="vehicle_8h_source.html#l01930">vehicle::engine_on</a>, <a class="el" href="vehicle_8cpp_source.html#l03179">vehicle::fuel_left()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="vehicle_8cpp_source.html#l02678">vehicle::get_avail_parts()</a>, <a class="el" href="iuse_8cpp_source.html#l08161">hackveh()</a>, <a class="el" href="iuse_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="iuse_8cpp_source.html#l08217">pickveh()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01055">vehicle::start_engines()</a>, <a class="el" href="iuse_8cpp.html#ada331e1a1d76dfffbc04f921862c78ca">trait_WAYFARER</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l00606">vehicle::use_controls()</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="map_8cpp_source.html#l06621">map::shift()</a>.</p>

</div>
</div>
<a id="aa05b9253a87c0dbbd798894604c70ecd" name="aa05b9253a87c0dbbd798894604c70ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05b9253a87c0dbbd798894604c70ecd">&#9670;&nbsp;</a></span>remove_all_mods()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::remove_all_mods </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01711">1711</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>{</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    <span class="keywordflow">if</span>( !p ) {</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>    }</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span> </div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>    <a class="code hl_class" href="classitem__location.html">item_location</a> loc = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;inv_map_splice( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *it : e.<a class="code hl_function" href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">toolmods</a>() ) {</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>            if( !it-&gt;is_irremovable() ) {</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>                return true;</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>            }</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>        }</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>    },</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Remove mods from tool?&quot;</span> ), 1,</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have any modified tools.&quot;</span> ) );</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span> </div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>    }</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span> </div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>    <span class="keywordflow">if</span>( !loc-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;unload( loc ) ) {</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>        <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = loc-&gt;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ae91f4f5f0077f34e51f8acc525fd4798">get_item_with</a>(</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>        []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>            <span class="keywordflow">return</span> e.<a class="code hl_function" href="classitem.html#a91fb3717957325c9800f90c58a03ba4c">is_toolmod</a>() &amp;&amp; !e.<a class="code hl_function" href="classitem.html#a01f8af501d37d5cb4eaee8ba21270bd6">is_irremovable</a>();</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>        } );</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You remove the %s from the tool.&quot;</span> ), <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;tname() );</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">i_add_or_drop</a>( *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>        loc-&gt;<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span> </div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>        <a class="code hl_function" href="iuse_8cpp.html#a5deb1b5f4e652e223349f90b8b190ff5">remove_radio_mod</a>( *loc, *p );</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    }</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>}</div>
<div class="ttc" id="aclassCharacter_html_ab80b4bcd5228af487bb1a26c14864e5d"><div class="ttname"><a href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">Character::i_add_or_drop</a></div><div class="ttdeci">bool i_add_or_drop(item &amp;it, int qty=1)</div><div class="ttdoc">Sets invlet and adds to inventory if possible, drops otherwise, returns true if either succeeded.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02448">character.cpp:2448</a></div></div>
<div class="ttc" id="aclassitem_html_a01e04ebcbadc63b26b213c0a861b0188"><div class="ttname"><a href="classitem.html#a01e04ebcbadc63b26b213c0a861b0188">item::toolmods</a></div><div class="ttdeci">std::vector&lt; item * &gt; toolmods()</div><div class="ttdoc">Returns all toolmods currently attached to this item (always empty if item not a tool)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05338">item.cpp:5338</a></div></div>
<div class="ttc" id="aclassitem_html_a01f8af501d37d5cb4eaee8ba21270bd6"><div class="ttname"><a href="classitem.html#a01f8af501d37d5cb4eaee8ba21270bd6">item::is_irremovable</a></div><div class="ttdeci">bool is_irremovable() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06625">item.cpp:6625</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a></div><div class="ttdeci">mod</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00026">magic_enchantment.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>, and <a class="el" href="item_8cpp_source.html#l05338">item::toolmods()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a9da85c5459c545035b4400d4c32718d8" name="a9da85c5459c545035b4400d4c32718d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9da85c5459c545035b4400d4c32718d8">&#9670;&nbsp;</a></span>report_grid_charge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::report_grid_charge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09791">9791</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09792" name="l09792"></a><span class="lineno"> 9792</span>{</div>
<div class="line"><a id="l09793" name="l09793"></a><span class="lineno"> 9793</span>    <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> pos_abs( <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().getabs( pos ) );</div>
<div class="line"><a id="l09794" name="l09794"></a><span class="lineno"> 9794</span>    <span class="keyword">const</span> <a class="code hl_class" href="classdistribution__grid.html">distribution_grid</a> &amp;gr = <a class="code hl_function" href="distribution__grid_8h.html#ae8e6a5ac44a7f17ff6b6d1d86522d942">get_distribution_grid_tracker</a>().<a class="code hl_function" href="classdistribution__grid__tracker.html#a6fce22c007b9a8b4532aabefc8321aa5">grid_at</a>( pos_abs );</div>
<div class="line"><a id="l09795" name="l09795"></a><span class="lineno"> 9795</span> </div>
<div class="line"><a id="l09796" name="l09796"></a><span class="lineno"> 9796</span>    <span class="keywordtype">int</span> amt = gr.<a class="code hl_function" href="classdistribution__grid.html#a7beaf038705d51885b0f6644391d19bc">get_resource</a>();</div>
<div class="line"><a id="l09797" name="l09797"></a><span class="lineno"> 9797</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This electric grid stores %d kJ of electric power.&quot;</span> ), amt );</div>
<div class="line"><a id="l09798" name="l09798"></a><span class="lineno"> 9798</span> </div>
<div class="line"><a id="l09799" name="l09799"></a><span class="lineno"> 9799</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09800" name="l09800"></a><span class="lineno"> 9800</span>}</div>
<div class="ttc" id="aclassdistribution__grid__tracker_html_a6fce22c007b9a8b4532aabefc8321aa5"><div class="ttname"><a href="classdistribution__grid__tracker.html#a6fce22c007b9a8b4532aabefc8321aa5">distribution_grid_tracker::grid_at</a></div><div class="ttdeci">distribution_grid &amp; grid_at(const tripoint_abs_ms &amp;p)</div><div class="ttdoc">Gets grid at given global map square coordinate.</div><div class="ttdef"><b>Definition:</b> <a href="distribution__grid_8cpp_source.html#l00263">distribution_grid.cpp:263</a></div></div>
<div class="ttc" id="aclassdistribution__grid_html"><div class="ttname"><a href="classdistribution__grid.html">distribution_grid</a></div><div class="ttdoc">A cache that organizes producers, storage and consumers of some resource, like electricity.</div><div class="ttdef"><b>Definition:</b> <a href="distribution__grid_8h_source.html#l00036">distribution_grid.h:37</a></div></div>
<div class="ttc" id="aclassdistribution__grid_html_a7beaf038705d51885b0f6644391d19bc"><div class="ttname"><a href="classdistribution__grid.html#a7beaf038705d51885b0f6644391d19bc">distribution_grid::get_resource</a></div><div class="ttdeci">int get_resource(bool recurse=true) const</div><div class="ttdef"><b>Definition:</b> <a href="distribution__grid_8cpp_source.html#l00121">distribution_grid.cpp:121</a></div></div>
<div class="ttc" id="adistribution__grid_8h_html_ae8e6a5ac44a7f17ff6b6d1d86522d942"><div class="ttname"><a href="distribution__grid_8h.html#ae8e6a5ac44a7f17ff6b6d1d86522d942">get_distribution_grid_tracker</a></div><div class="ttdeci">distribution_grid_tracker &amp; get_distribution_grid_tracker()</div><div class="ttdoc">Returns distribution grid tracker that is a part of the global game *g.</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l12576">game.cpp:12576</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="game_8cpp_source.html#l12576">get_distribution_grid_tracker()</a>, <a class="el" href="map_8cpp_source.html#l00141">get_map()</a>, <a class="el" href="distribution__grid_8cpp_source.html#l00121">distribution_grid::get_resource()</a>, and <a class="el" href="distribution__grid_8cpp_source.html#l00263">distribution_grid_tracker::grid_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a2c21ebb318f0a7e236a6b52d1333d0ba" name="a2c21ebb318f0a7e236a6b52d1333d0ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c21ebb318f0a7e236a6b52d1333d0ba">&#9670;&nbsp;</a></span>report_grid_connections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::report_grid_connections </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09802">9802</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09803" name="l09803"></a><span class="lineno"> 9803</span>{</div>
<div class="line"><a id="l09804" name="l09804"></a><span class="lineno"> 9804</span>    <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> pos_abs = project_to&lt;coords::omt&gt;( <a class="code hl_typedef" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>( <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().getabs( pos ) ) );</div>
<div class="line"><a id="l09805" name="l09805"></a><span class="lineno"> 9805</span>    std::vector&lt;tripoint_rel_omt&gt; <a class="code hl_variable" href="namespaceanonymous__namespace_02overmap__connection_8cpp_03.html#ab686a19e4fe3405d5136e3a451f35d9a">connections</a> = <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#a361e71e202336d6fd226be910ec6c6df">electric_grid_connectivity_at</a>( pos_abs );</div>
<div class="line"><a id="l09806" name="l09806"></a><span class="lineno"> 9806</span> </div>
<div class="line"><a id="l09807" name="l09807"></a><span class="lineno"> 9807</span>    std::vector&lt;std::string&gt; connection_names;</div>
<div class="line"><a id="l09808" name="l09808"></a><span class="lineno"> 9808</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_rel_omt</a> &amp;delta : <a class="code hl_variable" href="namespaceanonymous__namespace_02overmap__connection_8cpp_03.html#ab686a19e4fe3405d5136e3a451f35d9a">connections</a> ) {</div>
<div class="line"><a id="l09809" name="l09809"></a><span class="lineno"> 9809</span>        connection_names.push_back( <a class="code hl_function" href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a>( <a class="code hl_function" href="coordinates_8h.html#a00be0762df7b46da965e55caffac53db">direction_from</a>( delta.raw() ) ) );</div>
<div class="line"><a id="l09810" name="l09810"></a><span class="lineno"> 9810</span>    }</div>
<div class="line"><a id="l09811" name="l09811"></a><span class="lineno"> 9811</span> </div>
<div class="line"><a id="l09812" name="l09812"></a><span class="lineno"> 9812</span>    std::string msg;</div>
<div class="line"><a id="l09813" name="l09813"></a><span class="lineno"> 9813</span>    <span class="keywordflow">if</span>( connection_names.empty() ) {</div>
<div class="line"><a id="l09814" name="l09814"></a><span class="lineno"> 9814</span>        msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This electric grid has no connections.&quot;</span> );</div>
<div class="line"><a id="l09815" name="l09815"></a><span class="lineno"> 9815</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09816" name="l09816"></a><span class="lineno"> 9816</span>        <span class="comment">//~ %s is list of directions</span></div>
<div class="line"><a id="l09817" name="l09817"></a><span class="lineno"> 9817</span>        msg = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This electric grid has connections: %s.&quot;</span> ),</div>
<div class="line"><a id="l09818" name="l09818"></a><span class="lineno"> 9818</span>                             <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( connection_names ) );</div>
<div class="line"><a id="l09819" name="l09819"></a><span class="lineno"> 9819</span>    }</div>
<div class="line"><a id="l09820" name="l09820"></a><span class="lineno"> 9820</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( msg );</div>
<div class="line"><a id="l09821" name="l09821"></a><span class="lineno"> 9821</span> </div>
<div class="line"><a id="l09822" name="l09822"></a><span class="lineno"> 9822</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09823" name="l09823"></a><span class="lineno"> 9823</span>}</div>
<div class="ttc" id="aclassovermapbuffer_html_a361e71e202336d6fd226be910ec6c6df"><div class="ttname"><a href="classovermapbuffer.html#a361e71e202336d6fd226be910ec6c6df">overmapbuffer::electric_grid_connectivity_at</a></div><div class="ttdeci">std::vector&lt; tripoint_rel_omt &gt; electric_grid_connectivity_at(const tripoint_abs_omt &amp;p)</div><div class="ttdoc">Retrieve electric grid connections from given point.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01709">overmapbuffer.cpp:1709</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a25195af12949fae51d496c1fbd549871"><div class="ttname"><a href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::abs, coords::ms &gt; tripoint_abs_ms</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00486">coordinates.h:486</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02overmap__connection_8cpp_03_html_ab686a19e4fe3405d5136e3a451f35d9a"><div class="ttname"><a href="namespaceanonymous__namespace_02overmap__connection_8cpp_03.html#ab686a19e4fe3405d5136e3a451f35d9a">anonymous_namespace{overmap_connection.cpp}::connections</a></div><div class="ttdeci">generic_factory&lt; overmap_connection &gt; connections(&quot;overmap connection&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="namespaceanonymous__namespace_02overmap__connection_8cpp_03.html#ab686a19e4fe3405d5136e3a451f35d9a">anonymous_namespace{overmap_connection.cpp}::connections</a>, <a class="el" href="coordinates_8h_source.html#l00540">direction_from()</a>, <a class="el" href="line_8cpp_source.html#l00528">direction_name()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01709">overmapbuffer::electric_grid_connectivity_at()</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="map_8cpp_source.html#l00141">get_map()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00044">overmap_buffer</a>, and <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a8c7fe40ae857aa6263fa8f733a0bf9e5" name="a8c7fe40ae857aa6263fa8f733a0bf9e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c7fe40ae857aa6263fa8f733a0bf9e5">&#9670;&nbsp;</a></span>rm13armor_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::rm13armor_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l01980">1980</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>{</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>    <span class="comment">// This allows it to turn on for a turn, because ammo_sufficient assumes non-tool non-weapons need zero ammo, for some reason.</span></div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The RM13 combat armor&#39;s fuel cells are dead.&quot;</span> ) );</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>        std::string oname = it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() + <span class="stringliteral">&quot;_on&quot;</span>;</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You activate your RM13 combat armor.&quot;</span> ) );</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Rivtech Model 13 RivOS v2.19:   ONLINE.&quot;</span> ) );</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;CBRN defense system:            ONLINE.&quot;</span> ) );</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Acoustic dampening system:      ONLINE.&quot;</span> ) );</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Thermal regulation system:      ONLINE.&quot;</span> ) );</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Vision enhancement system:      ONLINE.&quot;</span> ) );</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Electro-reactive armor system:  ONLINE.&quot;</span> ) );</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;All systems nominal.&quot;</span> ) );</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( oname ) ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a>();</div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>    }</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>}</div>
<div class="ttc" id="aclassCharacter_html_ad67a790400ac88405241f279b566b89e"><div class="ttname"><a href="classCharacter.html#ad67a790400ac88405241f279b566b89e">Character::reset_encumbrance</a></div><div class="ttdeci">void reset_encumbrance()</div><div class="ttdoc">Recalculates encumbrance cache.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03614">character.cpp:3614</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8cpp_source.html#l03614">Character::reset_encumbrance()</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a9b8ee5b1d9c197dc1f5fba88d9fd5192" name="a9b8ee5b1d9c197dc1f5fba88d9fd5192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b8ee5b1d9c197dc1f5fba88d9fd5192">&#9670;&nbsp;</a></span>rm13armor_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::rm13armor_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02002">2002</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>{</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Normal use</span></div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>    } <span class="keywordflow">else</span> { <span class="comment">// Turning it off</span></div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>        std::string oname = it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>();</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="string__utils_8cpp.html#a836373abd77ef65988abf2bcbff6929a">string_ends_with</a>( oname, <span class="stringliteral">&quot;_on&quot;</span> ) ) {</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>            oname.erase( oname.length() - 3, 3 );</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;no item type to turn it into (%s)!&quot;</span>, oname );</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>        }</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;RivOS v2.19 shutdown sequence initiated.&quot;</span> ) );</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Shutting down.&quot;</span> ) );</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your RM13 combat armor turns off.&quot;</span> ) );</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( oname ) ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a>();</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>    }</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="character_8cpp_source.html#l03614">Character::reset_encumbrance()</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="string__utils_8cpp_source.html#l00084">string_ends_with()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a6b3cb4163d22a16b914674ca4f07fd07" name="a6b3cb4163d22a16b914674ca4f07fd07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b3cb4163d22a16b914674ca4f07fd07">&#9670;&nbsp;</a></span>robotcontrol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::robotcontrol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Intelligence speeds up hacking preperation Computer speeds up hacking preperation 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l06021">6021</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06022" name="l06022"></a><span class="lineno"> 6022</span>{</div>
<div class="line"><a id="l06023" name="l06023"></a><span class="lineno"> 6023</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l06024" name="l06024"></a><span class="lineno"> 6024</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s&#39;s batteries are dead.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l06025" name="l06025"></a><span class="lineno"> 6025</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06026" name="l06026"></a><span class="lineno"> 6026</span> </div>
<div class="line"><a id="l06027" name="l06027"></a><span class="lineno"> 6027</span>    }</div>
<div class="line"><a id="l06028" name="l06028"></a><span class="lineno"> 6028</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a357572465dfb7a0a417d86e1be77af49">trait_ILLITERATE</a> ) ) {</div>
<div class="line"><a id="l06029" name="l06029"></a><span class="lineno"> 6029</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot read a computer screen.&quot;</span> ) );</div>
<div class="line"><a id="l06030" name="l06030"></a><span class="lineno"> 6030</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06031" name="l06031"></a><span class="lineno"> 6031</span>    }</div>
<div class="line"><a id="l06032" name="l06032"></a><span class="lineno"> 6032</span> </div>
<div class="line"><a id="l06033" name="l06033"></a><span class="lineno"> 6033</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a> ) &amp;&amp; !p-&gt;<a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <a class="code hl_function" href="iuse_8cpp.html#a393bbebb3031858ad74c405659e88664">flag_FIX_FARSIGHT</a> ) &amp;&amp;</div>
<div class="line"><a id="l06034" name="l06034"></a><span class="lineno"> 6034</span>        !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a> ) &amp;&amp; !p-&gt;<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="iuse_8cpp.html#ac5dbc67d196198ebde935e412aa1e1f6">bio_eye_optic</a> ) ) {</div>
<div class="line"><a id="l06035" name="l06035"></a><span class="lineno"> 6035</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l06036" name="l06036"></a><span class="lineno"> 6036</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ll need to put on reading glasses before you can see the screen.&quot;</span> ) );</div>
<div class="line"><a id="l06037" name="l06037"></a><span class="lineno"> 6037</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06038" name="l06038"></a><span class="lineno"> 6038</span>    }</div>
<div class="line"><a id="l06039" name="l06039"></a><span class="lineno"> 6039</span> </div>
<div class="line"><a id="l06040" name="l06040"></a><span class="lineno"> 6040</span>    <span class="keywordtype">int</span> choice = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Welcome to hackPRO!:&quot;</span> ), {</div>
<div class="line"><a id="l06041" name="l06041"></a><span class="lineno"> 6041</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Prepare IFF protocol override&quot;</span> ),</div>
<div class="line"><a id="l06042" name="l06042"></a><span class="lineno"> 6042</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Set friendly robots to passive mode&quot;</span> ),</div>
<div class="line"><a id="l06043" name="l06043"></a><span class="lineno"> 6043</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Set friendly robots to combat mode&quot;</span> )</div>
<div class="line"><a id="l06044" name="l06044"></a><span class="lineno"> 6044</span>    } );</div>
<div class="line"><a id="l06045" name="l06045"></a><span class="lineno"> 6045</span>    <span class="keywordflow">switch</span>( choice ) {</div>
<div class="line"><a id="l06046" name="l06046"></a><span class="lineno"> 6046</span>        <span class="keywordflow">case</span> 0: { <span class="comment">// attempt to make a robot friendly</span></div>
<div class="line"><a id="l06047" name="l06047"></a><span class="lineno"> 6047</span>            <a class="code hl_class" href="classuilist.html">uilist</a> pick_robot;</div>
<div class="line"><a id="l06048" name="l06048"></a><span class="lineno"> 6048</span>            pick_robot.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Choose an endpoint to hack.&quot;</span> );</div>
<div class="line"><a id="l06049" name="l06049"></a><span class="lineno"> 6049</span>            <span class="comment">// Build a list of all unfriendly robots in range.</span></div>
<div class="line"><a id="l06050" name="l06050"></a><span class="lineno"> 6050</span>            <span class="comment">// TODO: change into vector&lt;Creature*&gt;</span></div>
<div class="line"><a id="l06051" name="l06051"></a><span class="lineno"> 6051</span>            std::vector&lt; shared_ptr_fast&lt; monster&gt; &gt; mons;</div>
<div class="line"><a id="l06052" name="l06052"></a><span class="lineno"> 6052</span>            std::vector&lt; tripoint &gt; <a class="code hl_variable" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#a1746287579ae93eaa7db10693e28de66">locations</a>;</div>
<div class="line"><a id="l06053" name="l06053"></a><span class="lineno"> 6053</span>            <span class="keywordtype">int</span> entry_num = 0;</div>
<div class="line"><a id="l06054" name="l06054"></a><span class="lineno"> 6054</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> &amp;candidate : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a id="l06055" name="l06055"></a><span class="lineno"> 6055</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceiuse.html#a71247a65bb3879d7be86961f2635e54b">robotcontrol_can_target</a>( p, candidate ) ) {</div>
<div class="line"><a id="l06056" name="l06056"></a><span class="lineno"> 6056</span>                    mons.push_back( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;shared_from( candidate ) );</div>
<div class="line"><a id="l06057" name="l06057"></a><span class="lineno"> 6057</span>                    pick_robot.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( entry_num++, <span class="keyword">true</span>, <a class="code hl_variable" href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a>, candidate.name() );</div>
<div class="line"><a id="l06058" name="l06058"></a><span class="lineno"> 6058</span>                    <a class="code hl_struct" href="structtripoint.html">tripoint</a> seen_loc;</div>
<div class="line"><a id="l06059" name="l06059"></a><span class="lineno"> 6059</span>                    <span class="comment">// Show locations of seen robots, center on player if robot is not seen</span></div>
<div class="line"><a id="l06060" name="l06060"></a><span class="lineno"> 6060</span>                    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#aba9bd7517b334e6ed4149889ed32377a">sees</a>( candidate ) ) {</div>
<div class="line"><a id="l06061" name="l06061"></a><span class="lineno"> 6061</span>                        seen_loc = candidate.pos();</div>
<div class="line"><a id="l06062" name="l06062"></a><span class="lineno"> 6062</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l06063" name="l06063"></a><span class="lineno"> 6063</span>                        seen_loc = p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>();</div>
<div class="line"><a id="l06064" name="l06064"></a><span class="lineno"> 6064</span>                    }</div>
<div class="line"><a id="l06065" name="l06065"></a><span class="lineno"> 6065</span>                    <a class="code hl_variable" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#a1746287579ae93eaa7db10693e28de66">locations</a>.push_back( seen_loc );</div>
<div class="line"><a id="l06066" name="l06066"></a><span class="lineno"> 6066</span>                }</div>
<div class="line"><a id="l06067" name="l06067"></a><span class="lineno"> 6067</span>            }</div>
<div class="line"><a id="l06068" name="l06068"></a><span class="lineno"> 6068</span>            <span class="keywordflow">if</span>( mons.empty() ) {</div>
<div class="line"><a id="l06069" name="l06069"></a><span class="lineno"> 6069</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No enemy robots in range.&quot;</span> ) );</div>
<div class="line"><a id="l06070" name="l06070"></a><span class="lineno"> 6070</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06071" name="l06071"></a><span class="lineno"> 6071</span>            }</div>
<div class="line"><a id="l06072" name="l06072"></a><span class="lineno"> 6072</span>            <a class="code hl_class" href="classpointmenu__cb.html">pointmenu_cb</a> callback( <a class="code hl_variable" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#a1746287579ae93eaa7db10693e28de66">locations</a> );</div>
<div class="line"><a id="l06073" name="l06073"></a><span class="lineno"> 6073</span>            pick_robot.<a class="code hl_variable" href="classuilist.html#ad4f5806d1d8ab3de3af8e3285faf47d6">callback</a> = &amp;callback;</div>
<div class="line"><a id="l06074" name="l06074"></a><span class="lineno"> 6074</span>            pick_robot.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l06075" name="l06075"></a><span class="lineno"> 6075</span>            <span class="keywordflow">if</span>( pick_robot.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( pick_robot.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ) &gt;= mons.size() ) {</div>
<div class="line"><a id="l06076" name="l06076"></a><span class="lineno"> 6076</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind&quot;</span> ) );</div>
<div class="line"><a id="l06077" name="l06077"></a><span class="lineno"> 6077</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06078" name="l06078"></a><span class="lineno"> 6078</span>            }</div>
<div class="line"><a id="l06079" name="l06079"></a><span class="lineno"> 6079</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> mondex = pick_robot.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l06080" name="l06080"></a><span class="lineno"> 6080</span>            <a class="code hl_typedef" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt; monster &gt;</a> z = mons[mondex];</div>
<div class="line"><a id="l06081" name="l06081"></a><span class="lineno"> 6081</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You start reprogramming the %s into an ally.&quot;</span> ), z-&gt;name() );</div>
<div class="line"><a id="l06082" name="l06082"></a><span class="lineno"> 6082</span><span class="comment"></span> </div>
<div class="line"><a id="l06083" name="l06083"></a><span class="lineno"> 6083</span><span class="comment">            /** @EFFECT_INT speeds up hacking preperation */</span><span class="comment"></span></div>
<div class="line"><a id="l06084" name="l06084"></a><span class="lineno"> 6084</span><span class="comment">            /** @EFFECT_COMPUTER speeds up hacking preperation */</span></div>
<div class="line"><a id="l06085" name="l06085"></a><span class="lineno"> 6085</span>            <span class="keywordtype">int</span> <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> = std::max( 100, 1000 - p-&gt;<a class="code hl_variable" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a> * 10 - p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#a55717f512921183ce304b4024c20015c">skill_computer</a> ) * 10 );</div>
<div class="line"><a id="l06086" name="l06086"></a><span class="lineno"> 6086</span>            <a class="code hl_class" href="classplayer__activity.html">player_activity</a> <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( <a class="code hl_variable" href="iuse_8cpp.html#a2c1186e7f590df7ec8414ad90563c356">ACT_ROBOT_CONTROL</a>, <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> );</div>
<div class="line"><a id="l06087" name="l06087"></a><span class="lineno"> 6087</span>            <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.monsters.emplace_back( z );</div>
<div class="line"><a id="l06088" name="l06088"></a><span class="lineno"> 6088</span> </div>
<div class="line"><a id="l06089" name="l06089"></a><span class="lineno"> 6089</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a id="l06090" name="l06090"></a><span class="lineno"> 6090</span> </div>
<div class="line"><a id="l06091" name="l06091"></a><span class="lineno"> 6091</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06092" name="l06092"></a><span class="lineno"> 6092</span>        }</div>
<div class="line"><a id="l06093" name="l06093"></a><span class="lineno"> 6093</span>        <span class="keywordflow">case</span> 1: { <span class="comment">//make all friendly robots stop their purposeless extermination of (un)life.</span></div>
<div class="line"><a id="l06094" name="l06094"></a><span class="lineno"> 6094</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 1_seconds );</div>
<div class="line"><a id="l06095" name="l06095"></a><span class="lineno"> 6095</span>            <span class="keywordtype">int</span> f = 0; <span class="comment">//flag to check if you have robotic allies</span></div>
<div class="line"><a id="l06096" name="l06096"></a><span class="lineno"> 6096</span>            <span class="keywordflow">for</span>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a id="l06097" name="l06097"></a><span class="lineno"> 6097</span>                <span class="keywordflow">if</span>( critter.friendly != 0 &amp;&amp; critter.type-&gt;in_species( <a class="code hl_variable" href="iuse_8cpp.html#a135e6e9db2959a942d96fb4c338fa696">ROBOT</a> ) ) {</div>
<div class="line"><a id="l06098" name="l06098"></a><span class="lineno"> 6098</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A following %s goes into passive mode.&quot;</span> ),</div>
<div class="line"><a id="l06099" name="l06099"></a><span class="lineno"> 6099</span>                                          critter.name() );</div>
<div class="line"><a id="l06100" name="l06100"></a><span class="lineno"> 6100</span>                    critter.add_effect( <a class="code hl_variable" href="iuse_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l06101" name="l06101"></a><span class="lineno"> 6101</span>                    f = 1;</div>
<div class="line"><a id="l06102" name="l06102"></a><span class="lineno"> 6102</span>                }</div>
<div class="line"><a id="l06103" name="l06103"></a><span class="lineno"> 6103</span>            }</div>
<div class="line"><a id="l06104" name="l06104"></a><span class="lineno"> 6104</span>            <span class="keywordflow">if</span>( f == 0 ) {</div>
<div class="line"><a id="l06105" name="l06105"></a><span class="lineno"> 6105</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are not commanding any robots.&quot;</span> ) );</div>
<div class="line"><a id="l06106" name="l06106"></a><span class="lineno"> 6106</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06107" name="l06107"></a><span class="lineno"> 6107</span>            }</div>
<div class="line"><a id="l06108" name="l06108"></a><span class="lineno"> 6108</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06109" name="l06109"></a><span class="lineno"> 6109</span>        }</div>
<div class="line"><a id="l06110" name="l06110"></a><span class="lineno"> 6110</span>        <span class="keywordflow">case</span> 2: { <span class="comment">//make all friendly robots terminate (un)life with extreme prejudice</span></div>
<div class="line"><a id="l06111" name="l06111"></a><span class="lineno"> 6111</span>            p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 1_seconds );</div>
<div class="line"><a id="l06112" name="l06112"></a><span class="lineno"> 6112</span>            <span class="keywordtype">int</span> f = 0; <span class="comment">//flag to check if you have robotic allies</span></div>
<div class="line"><a id="l06113" name="l06113"></a><span class="lineno"> 6113</span>            <span class="keywordflow">for</span>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a id="l06114" name="l06114"></a><span class="lineno"> 6114</span>                <span class="keywordflow">if</span>( critter.friendly != 0 &amp;&amp; critter.has_flag( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842ab2f11b921b9bcafe2af1ddea398ffb4f">MF_ELECTRONIC</a> ) ) {</div>
<div class="line"><a id="l06115" name="l06115"></a><span class="lineno"> 6115</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A following %s goes into combat mode.&quot;</span> ),</div>
<div class="line"><a id="l06116" name="l06116"></a><span class="lineno"> 6116</span>                                          critter.name() );</div>
<div class="line"><a id="l06117" name="l06117"></a><span class="lineno"> 6117</span>                    critter.remove_effect( <a class="code hl_variable" href="iuse_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a> );</div>
<div class="line"><a id="l06118" name="l06118"></a><span class="lineno"> 6118</span>                    f = 1;</div>
<div class="line"><a id="l06119" name="l06119"></a><span class="lineno"> 6119</span>                }</div>
<div class="line"><a id="l06120" name="l06120"></a><span class="lineno"> 6120</span>            }</div>
<div class="line"><a id="l06121" name="l06121"></a><span class="lineno"> 6121</span>            <span class="keywordflow">if</span>( f == 0 ) {</div>
<div class="line"><a id="l06122" name="l06122"></a><span class="lineno"> 6122</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are not commanding any robots.&quot;</span> ) );</div>
<div class="line"><a id="l06123" name="l06123"></a><span class="lineno"> 6123</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06124" name="l06124"></a><span class="lineno"> 6124</span>            }</div>
<div class="line"><a id="l06125" name="l06125"></a><span class="lineno"> 6125</span>            <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l06126" name="l06126"></a><span class="lineno"> 6126</span>        }</div>
<div class="line"><a id="l06127" name="l06127"></a><span class="lineno"> 6127</span>    }</div>
<div class="line"><a id="l06128" name="l06128"></a><span class="lineno"> 6128</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06129" name="l06129"></a><span class="lineno"> 6129</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a135e6e9db2959a942d96fb4c338fa696"><div class="ttname"><a href="iuse_8cpp.html#a135e6e9db2959a942d96fb4c338fa696">ROBOT</a></div><div class="ttdeci">static const species_id ROBOT(&quot;ROBOT&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a2c1186e7f590df7ec8414ad90563c356"><div class="ttname"><a href="iuse_8cpp.html#a2c1186e7f590df7ec8414ad90563c356">ACT_ROBOT_CONTROL</a></div><div class="ttdeci">static const activity_id ACT_ROBOT_CONTROL(&quot;ACT_ROBOT_CONTROL&quot;)</div></div>
<div class="ttc" id="amemory__fast_8h_html_ada897699f31fc8b37c5af09d95d45840"><div class="ttname"><a href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; shared_ptr_fast</div><div class="ttdef"><b>Definition:</b> <a href="memory__fast_8h_source.html#l00016">memory_fast.h:16</a></div></div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842ab2f11b921b9bcafe2af1ddea398ffb4f"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842ab2f11b921b9bcafe2af1ddea398ffb4f">MF_ELECTRONIC</a></div><div class="ttdeci">@ MF_ELECTRONIC</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00105">mtype.h:105</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a71247a65bb3879d7be86961f2635e54b"><div class="ttname"><a href="namespaceiuse.html#a71247a65bb3879d7be86961f2635e54b">iuse::robotcontrol_can_target</a></div><div class="ttdeci">bool robotcontrol_can_target(player *, const monster &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06013">iuse.cpp:6013</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="sounds_8cpp_source.html#l00075">act</a>, <a class="el" href="iuse_8cpp.html#a2c1186e7f590df7ec8414ad90563c356">ACT_ROBOT_CONTROL</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="ui_8cpp_source.html#l00932">uilist::addentry()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="iuse_8cpp.html#ac5dbc67d196198ebde935e412aa1e1f6">bio_eye_optic</a>, <a class="el" href="ui_8h_source.html#l00335">uilist::callback</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a>, <a class="el" href="iuse_8cpp.html#a924fe96bf3dd9ac954c9925fdd5b6901">effect_docile</a>, <a class="el" href="iuse_8cpp.html#a393bbebb3031858ad74c405659e88664">flag_FIX_FARSIGHT()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l01866">Character::has_bionic()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8h_source.html#l00306">Character::int_cur</a>, <a class="el" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#a1746287579ae93eaa7db10693e28de66">anonymous_namespace{overmap_location.cpp}::locations</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="ui_8h_source.html#l00031">MENU_AUTOASSIGN</a>, <a class="el" href="mtype_8h_source.html#l00105">MF_ELECTRONIC</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00888">move_cost()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="iuse_8cpp.html#a135e6e9db2959a942d96fb4c338fa696">ROBOT</a>, <a class="el" href="iuse_8cpp_source.html#l06013">robotcontrol_can_target()</a>, <a class="el" href="character_8cpp_source.html#l10384">Character::sees()</a>, <a class="el" href="iuse_8cpp.html#a55717f512921183ce304b4024c20015c">skill_computer</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="iuse_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a>, <a class="el" href="iuse_8cpp.html#a357572465dfb7a0a417d86e1be77af49">trait_ILLITERATE</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>, and <a class="el" href="character_8cpp_source.html#l03241">Character::worn_with_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a71247a65bb3879d7be86961f2635e54b" name="a71247a65bb3879d7be86961f2635e54b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71247a65bb3879d7be86961f2635e54b">&#9670;&nbsp;</a></span>robotcontrol_can_target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iuse::robotcontrol_can_target </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l06013">6013</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06014" name="l06014"></a><span class="lineno"> 6014</span>{</div>
<div class="line"><a id="l06015" name="l06015"></a><span class="lineno"> 6015</span>    <span class="keywordflow">return</span> !m.<a class="code hl_function" href="classmonster.html#af033816139df1dfa154c27b199b51da6">is_dead</a>()</div>
<div class="line"><a id="l06016" name="l06016"></a><span class="lineno"> 6016</span>           &amp;&amp; m.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="iuse_8cpp.html#a135e6e9db2959a942d96fb4c338fa696">ROBOT</a> )</div>
<div class="line"><a id="l06017" name="l06017"></a><span class="lineno"> 6017</span>           &amp;&amp; m.<a class="code hl_variable" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> == 0</div>
<div class="line"><a id="l06018" name="l06018"></a><span class="lineno"> 6018</span>           &amp;&amp; <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), m.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() ) &lt;= 10;</div>
<div class="line"><a id="l06019" name="l06019"></a><span class="lineno"> 6019</span>}</div>
<div class="ttc" id="aclassmonster_html_a55d95177d49525c0da7649f135a6306d"><div class="ttname"><a href="classmonster.html#a55d95177d49525c0da7649f135a6306d">monster::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00255">monster.cpp:255</a></div></div>
<div class="ttc" id="aclassmonster_html_af033816139df1dfa154c27b199b51da6"><div class="ttname"><a href="classmonster.html#af033816139df1dfa154c27b199b51da6">monster::is_dead</a></div><div class="ttdeci">bool is_dead() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02753">monster.cpp:2753</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="monster_8h_source.html#l00471">monster::friendly</a>, <a class="el" href="mtype_8cpp_source.html#l00122">mtype::in_species()</a>, <a class="el" href="monster_8cpp_source.html#l02753">monster::is_dead()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="monster_8cpp_source.html#l00255">monster::pos()</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, <a class="el" href="iuse_8cpp.html#a135e6e9db2959a942d96fb4c338fa696">ROBOT</a>, and <a class="el" href="monster_8h_source.html#l00478">monster::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l04467">activity_handlers::robot_control_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04485">activity_handlers::robot_control_finish()</a>, and <a class="el" href="iuse_8cpp_source.html#l06021">robotcontrol()</a>.</p>

</div>
</div>
<a id="a7125863340292afed6c2662c530bf362" name="a7125863340292afed6c2662c530bf362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7125863340292afed6c2662c530bf362">&#9670;&nbsp;</a></span>rpgdie()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::rpgdie </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>die</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04216">4216</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04217" name="l04217"></a><span class="lineno"> 4217</span>{</div>
<div class="line"><a id="l04218" name="l04218"></a><span class="lineno"> 4218</span>    <span class="keywordflow">if</span>( you-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04219" name="l04219"></a><span class="lineno"> 4219</span>        you-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04220" name="l04220"></a><span class="lineno"> 4220</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04221" name="l04221"></a><span class="lineno"> 4221</span>    }</div>
<div class="line"><a id="l04222" name="l04222"></a><span class="lineno"> 4222</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62">num_sides</a> = die-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;die_num_sides&quot;</span>, 0 );</div>
<div class="line"><a id="l04223" name="l04223"></a><span class="lineno"> 4223</span>    <span class="keywordflow">if</span>( num_sides == 0 ) {</div>
<div class="line"><a id="l04224" name="l04224"></a><span class="lineno"> 4224</span>        <span class="keyword">const</span> std::vector&lt;int&gt; sides_options = { 4, 6, 8, 10, 12, 20, 50 };</div>
<div class="line"><a id="l04225" name="l04225"></a><span class="lineno"> 4225</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> sides = sides_options[ <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, sides_options.size() - 1 ) ];</div>
<div class="line"><a id="l04226" name="l04226"></a><span class="lineno"> 4226</span>        <a class="code hl_enumvalue" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62">num_sides</a> = sides;</div>
<div class="line"><a id="l04227" name="l04227"></a><span class="lineno"> 4227</span>        die-&gt;<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;die_num_sides&quot;</span>, sides );</div>
<div class="line"><a id="l04228" name="l04228"></a><span class="lineno"> 4228</span>    }</div>
<div class="line"><a id="l04229" name="l04229"></a><span class="lineno"> 4229</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> roll = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, num_sides );</div>
<div class="line"><a id="l04230" name="l04230"></a><span class="lineno"> 4230</span>    <span class="comment">//~ %1$d: roll number, %2$d: side number of a die, %3$s: die item name</span></div>
<div class="line"><a id="l04231" name="l04231"></a><span class="lineno"> 4231</span>    you-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;dice&quot;</span>, <span class="stringliteral">&quot;You roll a %1$d on your %2$d sided %3$s&quot;</span> ), roll,</div>
<div class="line"><a id="l04232" name="l04232"></a><span class="lineno"> 4232</span>                            num_sides, die-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04233" name="l04233"></a><span class="lineno"> 4233</span>    <span class="keywordflow">if</span>( roll == num_sides ) {</div>
<div class="line"><a id="l04234" name="l04234"></a><span class="lineno"> 4234</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Critical!&quot;</span> ) );</div>
<div class="line"><a id="l04235" name="l04235"></a><span class="lineno"> 4235</span>    }</div>
<div class="line"><a id="l04236" name="l04236"></a><span class="lineno"> 4236</span>    <span class="keywordflow">return</span> roll;</div>
<div class="line"><a id="l04237" name="l04237"></a><span class="lineno"> 4237</span>}</div>
<div class="ttc" id="abodypart_8h_html_ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62"><div class="ttname"><a href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62">side::num_sides</a></div><div class="ttdeci">@ num_sides</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4ac15d0e5cabac1a48d48370cabf91ff62">num_sides</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a07b07d9e1b2e068106e3a2c779d3362c" name="a07b07d9e1b2e068106e3a2c779d3362c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b07d9e1b2e068106e3a2c779d3362c">&#9670;&nbsp;</a></span>seed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::seed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l06003">6003</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l06004" name="l06004"></a><span class="lineno"> 6004</span>{</div>
<div class="line"><a id="l06005" name="l06005"></a><span class="lineno"> 6005</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ||</div>
<div class="line"><a id="l06006" name="l06006"></a><span class="lineno"> 6006</span>        <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Sure you want to eat the %s?  You could plant it in a mound of dirt.&quot;</span> ),</div>
<div class="line"><a id="l06007" name="l06007"></a><span class="lineno"> 6007</span>                  <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), it-&gt;<a class="code hl_function" href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">color_in_inventory</a>() ) ) ) {</div>
<div class="line"><a id="l06008" name="l06008"></a><span class="lineno"> 6008</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>(); <span class="comment">//This eats the seed object.</span></div>
<div class="line"><a id="l06009" name="l06009"></a><span class="lineno"> 6009</span>    }</div>
<div class="line"><a id="l06010" name="l06010"></a><span class="lineno"> 6010</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06011" name="l06011"></a><span class="lineno"> 6011</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l04017">item::color_in_inventory()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="computer__session_8cpp_source.html#l00470">computer_session::action_research()</a>, <a class="el" href="iexamine_8cpp_source.html#l02449">iexamine::aggie_plant()</a>, <a class="el" href="hash__utils_8h_source.html#l00031">cata::tuple_hash_detail::Impl&lt; Tuple, Index &gt;::apply()</a>, <a class="el" href="hash__utils_8h_source.html#l00039">cata::tuple_hash_detail::Impl&lt; Tuple, 0 &gt;::apply()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01273">can_do_activity_there()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02279">farm_action()</a>, <a class="el" href="iexamine_8cpp_source.html#l02374">iexamine::fertilize_plant()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01086">talk_function::field_harvest()</a>, <a class="el" href="mission__companion_8cpp_source.html#l00993">talk_function::field_plant()</a>, <a class="el" href="map_8cpp_source.html#l01480">map::furnname()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02808">generic_multi_activity_do()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00045">get_common_data()</a>, <a class="el" href="iexamine_8cpp_source.html#l02135">iexamine::get_seed_entries()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00287">weather_generator::get_water_temperature()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00117">weather_generator::get_weather()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00205">weather_generator::get_weather_conditions()</a>, <a class="el" href="weather__gen_8cpp_source.html#l00110">weather_generator::get_weather_temperature()</a>, <a class="el" href="map_8cpp_source.html#l06983">map::grow_plant()</a>, <a class="el" href="iexamine_8cpp_source.html#l02291">iexamine::harvest_plant()</a>, <a class="el" href="hash__utils_8h_source.html#l00019">cata::hash_combine()</a>, <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, <a class="el" href="main_8cpp_source.html#l00185">main()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01299">vehicle::operate_reaper()</a>, <a class="el" href="hash__utils_8h_source.html#l00076">cata::range_hash::operator()()</a>, <a class="el" href="hash__utils_8h_source.html#l00048">cata::tuple_hash::operator()()</a>, <a class="el" href="item_8cpp_source.html#l08788">item::process_rot()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00150">snippet_library::random_from_category()</a>, <a class="el" href="rng_8cpp_source.html#l00144">rng_set_engine_seed()</a>, <a class="el" href="fungal__effects_8cpp_source.html#l00139">fungal_effects::spread_fungus_one_tile()</a>, and <a class="el" href="weather__gen_8cpp_source.html#l00328">weather_generator::test_weather()</a>.</p>

</div>
</div>
<a id="aac318704559d836911f47277d6172208" name="aac318704559d836911f47277d6172208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac318704559d836911f47277d6172208">&#9670;&nbsp;</a></span>sewage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::sewage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00448">448</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>{</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Are you sure you want to drink… this?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    }</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span> </div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea2d0450c5d939a7047795f86f94e7d2ba">event_type::eats_sewage</a>&gt;();</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a219dfd606ef95e169114487e61ba0ad7">mutate</a>();</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    }</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>}</div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea2d0450c5d939a7047795f86f94e7d2ba"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea2d0450c5d939a7047795f86f94e7d2ba">event_type::eats_sewage</a></div><div class="ttdeci">@ eats_sewage</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea2d0450c5d939a7047795f86f94e7d2ba">eats_sewage</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="mutation_8cpp_source.html#l00845">Character::mutate()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="player_8cpp_source.html#l04405">player::query_yn()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="character_8cpp_source.html#l07775">Character::vomit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="computer__session_8cpp_source.html#l00359">computer_session::action_sample()</a>, and <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aaf48bc6fd66cb1105785fa740913337f" name="aaf48bc6fd66cb1105785fa740913337f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf48bc6fd66cb1105785fa740913337f">&#9670;&nbsp;</a></span>shavekit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::shavekit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09165">9165</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09166" name="l09166"></a><span class="lineno"> 9166</span>{</div>
<div class="line"><a id="l09167" name="l09167"></a><span class="lineno"> 9167</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l09168" name="l09168"></a><span class="lineno"> 9168</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l09169" name="l09169"></a><span class="lineno"> 9169</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09170" name="l09170"></a><span class="lineno"> 9170</span>    }</div>
<div class="line"><a id="l09171" name="l09171"></a><span class="lineno"> 9171</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l09172" name="l09172"></a><span class="lineno"> 9172</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need soap to use this.&quot;</span> ) );</div>
<div class="line"><a id="l09173" name="l09173"></a><span class="lineno"> 9173</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09174" name="l09174"></a><span class="lineno"> 9174</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 5_minutes );</div>
<div class="line"><a id="l09175" name="l09175"></a><span class="lineno"> 9175</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#a628898a9ba658d2cfdfbb8dda62b12eb">ACT_SHAVE</a>, moves );</div>
<div class="line"><a id="l09176" name="l09176"></a><span class="lineno"> 9176</span>    }</div>
<div class="line"><a id="l09177" name="l09177"></a><span class="lineno"> 9177</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l09178" name="l09178"></a><span class="lineno"> 9178</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a628898a9ba658d2cfdfbb8dda62b12eb"><div class="ttname"><a href="iuse_8cpp.html#a628898a9ba658d2cfdfbb8dda62b12eb">ACT_SHAVE</a></div><div class="ttdeci">static const activity_id ACT_SHAVE(&quot;ACT_SHAVE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#a628898a9ba658d2cfdfbb8dda62b12eb">ACT_SHAVE</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ab9c9e9d8e1c972f8d7e94f482aa692c3" name="ab9c9e9d8e1c972f8d7e94f482aa692c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9c9e9d8e1c972f8d7e94f482aa692c3">&#9670;&nbsp;</a></span>shocktonfa_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::shocktonfa_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04053">4053</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04054" name="l04054"></a><span class="lineno"> 4054</span>{</div>
<div class="line"><a id="l04055" name="l04055"></a><span class="lineno"> 4055</span>    <span class="keywordtype">int</span> choice = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;tactical tonfa&quot;</span> ), {</div>
<div class="line"><a id="l04056" name="l04056"></a><span class="lineno"> 4056</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Zap something&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Turn on light&quot;</span> )</div>
<div class="line"><a id="l04057" name="l04057"></a><span class="lineno"> 4057</span>    } );</div>
<div class="line"><a id="l04058" name="l04058"></a><span class="lineno"> 4058</span> </div>
<div class="line"><a id="l04059" name="l04059"></a><span class="lineno"> 4059</span>    <span class="keywordflow">switch</span>( choice ) {</div>
<div class="line"><a id="l04060" name="l04060"></a><span class="lineno"> 4060</span>        <span class="keywordflow">case</span> 0: {</div>
<div class="line"><a id="l04061" name="l04061"></a><span class="lineno"> 4061</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceiuse.html#a2e3fd5647a64b6f33536703155750854">iuse::tazer2</a>( p, it, t, pos );</div>
<div class="line"><a id="l04062" name="l04062"></a><span class="lineno"> 4062</span>        }</div>
<div class="line"><a id="l04063" name="l04063"></a><span class="lineno"> 4063</span>        <span class="keywordflow">case</span> 1: {</div>
<div class="line"><a id="l04064" name="l04064"></a><span class="lineno"> 4064</span>            <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l04065" name="l04065"></a><span class="lineno"> 4065</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The batteries are dead.&quot;</span> ) );</div>
<div class="line"><a id="l04066" name="l04066"></a><span class="lineno"> 4066</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04067" name="l04067"></a><span class="lineno"> 4067</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04068" name="l04068"></a><span class="lineno"> 4068</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You turn the light on.&quot;</span> ) );</div>
<div class="line"><a id="l04069" name="l04069"></a><span class="lineno"> 4069</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#ad696c1e63e51902fe46dea2b53c8d083">itype_shocktonfa_on</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04070" name="l04070"></a><span class="lineno"> 4070</span>                <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04071" name="l04071"></a><span class="lineno"> 4071</span>            }</div>
<div class="line"><a id="l04072" name="l04072"></a><span class="lineno"> 4072</span>        }</div>
<div class="line"><a id="l04073" name="l04073"></a><span class="lineno"> 4073</span>    }</div>
<div class="line"><a id="l04074" name="l04074"></a><span class="lineno"> 4074</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04075" name="l04075"></a><span class="lineno"> 4075</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_ad696c1e63e51902fe46dea2b53c8d083"><div class="ttname"><a href="iuse_8cpp.html#ad696c1e63e51902fe46dea2b53c8d083">itype_shocktonfa_on</a></div><div class="ttdeci">static const itype_id itype_shocktonfa_on(&quot;shocktonfa_on&quot;)</div></div>
<div class="ttc" id="anamespaceiuse_html_a2e3fd5647a64b6f33536703155750854"><div class="ttname"><a href="namespaceiuse.html#a2e3fd5647a64b6f33536703155750854">iuse::tazer2</a></div><div class="ttdeci">int tazer2(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04038">iuse.cpp:4038</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="iuse_8cpp.html#ad696c1e63e51902fe46dea2b53c8d083">itype_shocktonfa_on</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="iuse_8cpp_source.html#l04038">tazer2()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="af7900c10b8cf6614dfa61450516d107d" name="af7900c10b8cf6614dfa61450516d107d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7900c10b8cf6614dfa61450516d107d">&#9670;&nbsp;</a></span>shocktonfa_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::shocktonfa_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04077">4077</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04078" name="l04078"></a><span class="lineno"> 4078</span>{</div>
<div class="line"><a id="l04079" name="l04079"></a><span class="lineno"> 4079</span>    <span class="keywordflow">if</span>( t ) { <span class="comment">// Effects while simply on</span></div>
<div class="line"><a id="l04080" name="l04080"></a><span class="lineno"> 4080</span> </div>
<div class="line"><a id="l04081" name="l04081"></a><span class="lineno"> 4081</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04082" name="l04082"></a><span class="lineno"> 4082</span>        <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l04083" name="l04083"></a><span class="lineno"> 4083</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your tactical tonfa is out of power.&quot;</span> ) );</div>
<div class="line"><a id="l04084" name="l04084"></a><span class="lineno"> 4084</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a252c605849af4acdf317b141e4ec098a">itype_shocktonfa_off</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04085" name="l04085"></a><span class="lineno"> 4085</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04086" name="l04086"></a><span class="lineno"> 4086</span>            <span class="keywordtype">int</span> choice = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;tactical tonfa&quot;</span> ), {</div>
<div class="line"><a id="l04087" name="l04087"></a><span class="lineno"> 4087</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Zap something&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Turn off light&quot;</span> )</div>
<div class="line"><a id="l04088" name="l04088"></a><span class="lineno"> 4088</span>            } );</div>
<div class="line"><a id="l04089" name="l04089"></a><span class="lineno"> 4089</span> </div>
<div class="line"><a id="l04090" name="l04090"></a><span class="lineno"> 4090</span>            <span class="keywordflow">switch</span>( choice ) {</div>
<div class="line"><a id="l04091" name="l04091"></a><span class="lineno"> 4091</span>                <span class="keywordflow">case</span> 0: {</div>
<div class="line"><a id="l04092" name="l04092"></a><span class="lineno"> 4092</span>                    <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceiuse.html#a2e3fd5647a64b6f33536703155750854">iuse::tazer2</a>( p, it, t, pos );</div>
<div class="line"><a id="l04093" name="l04093"></a><span class="lineno"> 4093</span>                }</div>
<div class="line"><a id="l04094" name="l04094"></a><span class="lineno"> 4094</span>                <span class="keywordflow">case</span> 1: {</div>
<div class="line"><a id="l04095" name="l04095"></a><span class="lineno"> 4095</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You turn off the light.&quot;</span> ) );</div>
<div class="line"><a id="l04096" name="l04096"></a><span class="lineno"> 4096</span>                    it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a252c605849af4acdf317b141e4ec098a">itype_shocktonfa_off</a> ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04097" name="l04097"></a><span class="lineno"> 4097</span>                }</div>
<div class="line"><a id="l04098" name="l04098"></a><span class="lineno"> 4098</span>            }</div>
<div class="line"><a id="l04099" name="l04099"></a><span class="lineno"> 4099</span>        }</div>
<div class="line"><a id="l04100" name="l04100"></a><span class="lineno"> 4100</span>    }</div>
<div class="line"><a id="l04101" name="l04101"></a><span class="lineno"> 4101</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04102" name="l04102"></a><span class="lineno"> 4102</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a252c605849af4acdf317b141e4ec098a"><div class="ttname"><a href="iuse_8cpp.html#a252c605849af4acdf317b141e4ec098a">itype_shocktonfa_off</a></div><div class="ttdeci">static const itype_id itype_shocktonfa_off(&quot;shocktonfa_off&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="iuse_8cpp.html#a252c605849af4acdf317b141e4ec098a">itype_shocktonfa_off</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="iuse_8cpp_source.html#l04038">tazer2()</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a124c8bc78a42f9cf06fcb801c9f4427c" name="a124c8bc78a42f9cf06fcb801c9f4427c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a124c8bc78a42f9cf06fcb801c9f4427c">&#9670;&nbsp;</a></span>siphon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::siphon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02973">2973</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02974" name="l02974"></a><span class="lineno"> 2974</span>{</div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span>    }</div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span>    <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; )&gt; f = []( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pnt ) {</div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pnt );</div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span>        <span class="keywordflow">return</span> !!vp;</div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span>    };</div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span> </div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span>    <a class="code hl_class" href="classvehicle.html">vehicle</a> *v = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>    <span class="keywordtype">bool</span> found_more_than_one = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pos : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos(), 1 ) ) {</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pos );</div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>        <span class="keywordflow">if</span>( !vp ) {</div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>        }</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *vfound = &amp;vp-&gt;vehicle();</div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>        <span class="keywordflow">if</span>( v == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>            v = vfound;</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span>            <span class="comment">//found more than one vehicle?</span></div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span>            <span class="keywordflow">if</span>( v != vfound ) {</div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span>                v = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>                found_more_than_one = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span>            }</div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"> 3001</span>        }</div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span>    }</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>    <span class="keywordflow">if</span>( found_more_than_one ) {</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>        <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a46f5749dfc21d809440545cbaf02f8d0">choose_adjacent_highlight</a>(</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>                                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Siphon from where?&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is nothing to siphon nearby.&quot;</span> ), f, <span class="keyword">false</span> );</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>        <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>        }</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( *pnt_ );</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span>        <span class="keywordflow">if</span>( vp ) {</div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span>            v = &amp;vp-&gt;vehicle();</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>        }</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>    }</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span> </div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>    <span class="keywordflow">if</span>( v == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s no vehicle there.&quot;</span> ) );</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>    }</div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span>    <a class="code hl_function" href="iuse_8cpp.html#afe6c4c1cb6052a05501649b9d8f0c31a">act_vehicle_siphon</a>( v );</div>
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"> 3020</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"> 3021</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_afe6c4c1cb6052a05501649b9d8f0c31a"><div class="ttname"><a href="iuse_8cpp.html#afe6c4c1cb6052a05501649b9d8f0c31a">act_vehicle_siphon</a></div><div class="ttdeci">void act_vehicle_siphon(vehicle *)</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l02896">veh_interact.cpp:2896</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="veh__interact_8cpp_source.html#l02896">act_vehicle_siphon()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01015">choose_adjacent_highlight()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ad65d231a2d136f7e8f8c0b9529a3a8fe" name="ad65d231a2d136f7e8f8c0b9529a3a8fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad65d231a2d136f7e8f8c0b9529a3a8fe">&#9670;&nbsp;</a></span>sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::sleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00954">954</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>{</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( 40 );</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel very sleepy…&quot;</span> ) );</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aea803753a727c1825f333e9d4fc69eec" name="aea803753a727c1825f333e9d4fc69eec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea803753a727c1825f333e9d4fc69eec">&#9670;&nbsp;</a></span>smoking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::smoking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Entry point for intentional bodily intake of smoke via paper wrapped one time use items: cigars, cigarettes, etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Player doing the smoking </td></tr>
    <tr><td class="paramname">it</td><td>the item to be smoked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Charges used in item smoked </dd></dl>

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00527">527</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>{</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="keywordtype">bool</span> hasFire = ( p-&gt;<a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, 1 ) );</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span> </div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <span class="comment">// make sure we&#39;re not already smoking something</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="iuse_8cpp.html#a9762b052932dcd8dbbc2f9ecab6be943">check_litcig</a>( *p ) ) {</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    }</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="keywordflow">if</span>( !hasFire ) {</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have anything to light it with!&quot;</span> ) );</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    }</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span> </div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <a class="code hl_class" href="classitem.html">item</a> cig;</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a3693acd1792401968cee9e92e2391eae">itype_cig</a> ) {</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>        cig = <a class="code hl_class" href="classitem.html">item</a>( <span class="stringliteral">&quot;cig_lit&quot;</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        cig.<a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = to_turns&lt;int&gt;( 4_minutes );</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( 30 );</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 2 );</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#ae49f3dc7e7f03bd94e5088ef752a3712">itype_handrolled_cig</a> ) {</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        <span class="comment">// This transforms the hand-rolled into a normal cig, which isn&#39;t exactly</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        <span class="comment">// what I want, but leaving it for now.</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>        cig = <a class="code hl_class" href="classitem.html">item</a>( <span class="stringliteral">&quot;cig_lit&quot;</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        cig.<a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = to_turns&lt;int&gt;( 4_minutes );</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 2 );</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( 30 );</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#aca5afb622cf404d685c3c58b41cca21b">itype_cigar</a> ) {</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        cig = <a class="code hl_class" href="classitem.html">item</a>( <span class="stringliteral">&quot;cigar_lit&quot;</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        cig.<a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = to_turns&lt;int&gt;( 12_minutes );</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 3 );</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( 40 );</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a61439d96f7e6eff40cfdbbb56dd3dbfc">itype_joint</a> ) {</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>        cig = <a class="code hl_class" href="classitem.html">item</a>( <span class="stringliteral">&quot;joint_lit&quot;</span>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>        cig.<a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = to_turns&lt;int&gt;( 4_minutes );</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( -40 );</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 6 );</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>        <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">get_painkiller</a>() &lt; 5 ) {</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>            p-&gt;<a class="code hl_function" href="classCharacter.html#a5f1a21ad76d22926f2688c1e49105311">set_painkiller</a>( ( p-&gt;<a class="code hl_function" href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">get_painkiller</a>() + 3 ) * 2 );</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>        }</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Please let the devs know you should be able to smoke a %s but the smoking code does not know how.&quot;</span> ),</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    }</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    <span class="comment">// If we&#39;re here, we better have a cig to light.</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a8a33b517f5d4f8a85c83a71a3bc8cdaf">use_charges_if_avail</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, 1 );</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    cig.<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    p-&gt;<a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( cig, <span class="keyword">false</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You light a %s.&quot;</span> ), cig.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    <span class="comment">// Parting messages</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#a61439d96f7e6eff40cfdbbb56dd3dbfc">itype_joint</a> ) {</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        <span class="comment">// Would group with the joint, but awkward to mutter before lighting up.</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>            <a class="code hl_function" href="effect_8cpp.html#ac16c3b47b852f20a0ab321f720b25339">weed_msg</a>( *p );</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>        }</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    }</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">get_effect_dur</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa6055e7b9d5b2cb3ecd4cce48a416d33">effect_cig</a> ) &gt; 10_minutes * ( p-&gt;<a class="code hl_function" href="classCharacter.html#af2f6b4a5ad4b128bda53fe610362b5b0">addiction_level</a>(</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>                <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba641921a2214b1bb7a1134a54c0d04ff7">add_type::CIG</a> ) + 1 ) ) {</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ugh, too much smoke… you feel nasty.&quot;</span> ) );</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    }</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>}</div>
<div class="ttc" id="aclassCharacter_html_a1961ab0f9c702252e550bf42cb8dd974"><div class="ttname"><a href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">Character::get_painkiller</a></div><div class="ttdeci">int get_painkiller() const</div><div class="ttdoc">Returns intensity of painkillers</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09777">character.cpp:9777</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5f1a21ad76d22926f2688c1e49105311"><div class="ttname"><a href="classCharacter.html#a5f1a21ad76d22926f2688c1e49105311">Character::set_painkiller</a></div><div class="ttdeci">void set_painkiller(int npkill)</div><div class="ttdoc">Sets intensity of painkillers</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09761">character.cpp:9761</a></div></div>
<div class="ttc" id="aclassinventory_html_a3840801d19b8b8b3ae4be0e832bd1c7d"><div class="ttname"><a href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">inventory::add_item</a></div><div class="ttdeci">item &amp; add_item(item newit, bool keep_invlet=false, bool assign_invlet=true, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00285">inventory.cpp:285</a></div></div>
<div class="ttc" id="aclassitem_html_ac5ff6ac1e7657b7b8525140669744a28"><div class="ttname"><a href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item::item_counter</a></div><div class="ttdeci">int item_counter</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02204">item.h:2204</a></div></div>
<div class="ttc" id="aeffect_8cpp_html_ac16c3b47b852f20a0ab321f720b25339"><div class="ttname"><a href="effect_8cpp.html#ac16c3b47b852f20a0ab321f720b25339">weed_msg</a></div><div class="ttdeci">void weed_msg(player &amp;p)</div><div class="ttdoc">Handles the large variety of weed messages.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00078">effect.cpp:78</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a3693acd1792401968cee9e92e2391eae"><div class="ttname"><a href="iuse_8cpp.html#a3693acd1792401968cee9e92e2391eae">itype_cig</a></div><div class="ttdeci">static const itype_id itype_cig(&quot;cig&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a61439d96f7e6eff40cfdbbb56dd3dbfc"><div class="ttname"><a href="iuse_8cpp.html#a61439d96f7e6eff40cfdbbb56dd3dbfc">itype_joint</a></div><div class="ttdeci">static const itype_id itype_joint(&quot;joint&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a9762b052932dcd8dbbc2f9ecab6be943"><div class="ttname"><a href="iuse_8cpp.html#a9762b052932dcd8dbbc2f9ecab6be943">check_litcig</a></div><div class="ttdeci">static bool check_litcig(player &amp;u)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00431">iuse.cpp:431</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_aca5afb622cf404d685c3c58b41cca21b"><div class="ttname"><a href="iuse_8cpp.html#aca5afb622cf404d685c3c58b41cca21b">itype_cigar</a></div><div class="ttdeci">static const itype_id itype_cigar(&quot;cigar&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ae49f3dc7e7f03bd94e5088ef752a3712"><div class="ttname"><a href="iuse_8cpp.html#ae49f3dc7e7f03bd94e5088ef752a3712">itype_handrolled_cig</a></div><div class="ttdeci">static const itype_id itype_handrolled_cig(&quot;handrolled_cig&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="inventory_8cpp_source.html#l00285">inventory::add_item()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="suffer_8cpp_source.html#l01959">Character::addiction_level()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp_source.html#l00431">check_litcig()</a>, <a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba641921a2214b1bb7a1134a54c0d04ff7">CIG</a>, <a class="el" href="iuse_8cpp.html#aa6055e7b9d5b2cb3ecd4cce48a416d33">effect_cig</a>, <a class="el" href="creature_8cpp_source.html#l01235">Creature::get_effect_dur()</a>, <a class="el" href="character_8cpp_source.html#l09777">Character::get_painkiller()</a>, <a class="el" href="character_8cpp_source.html#l09571">Character::has_charges()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="item_8h_source.html#l02204">item::item_counter</a>, <a class="el" href="iuse_8cpp.html#a3693acd1792401968cee9e92e2391eae">itype_cig</a>, <a class="el" href="iuse_8cpp.html#aca5afb622cf404d685c3c58b41cca21b">itype_cigar</a>, <a class="el" href="iuse_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, <a class="el" href="iuse_8cpp.html#ae49f3dc7e7f03bd94e5088ef752a3712">itype_handrolled_cig</a>, <a class="el" href="iuse_8cpp.html#a61439d96f7e6eff40cfdbbb56dd3dbfc">itype_joint</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="character_8cpp_source.html#l04283">Character::mod_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="character_8cpp_source.html#l09761">Character::set_painkiller()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, <a class="el" href="character_8cpp_source.html#l09622">Character::use_charges_if_avail()</a>, and <a class="el" href="effect_8cpp_source.html#l00078">weed_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ad931b414f7f1b3e14c6f188e282da137" name="ad931b414f7f1b3e14c6f188e282da137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad931b414f7f1b3e14c6f188e282da137">&#9670;&nbsp;</a></span>solarpack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::solarpack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04287">4287</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04288" name="l04288"></a><span class="lineno"> 4288</span>{</div>
<div class="line"><a id="l04289" name="l04289"></a><span class="lineno"> 4289</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> rem_bid = p-&gt;<a class="code hl_function" href="classCharacter.html#a95f78cc0cde76f0a1428f6abd8742548">get_remote_fueled_bionic</a>();</div>
<div class="line"><a id="l04290" name="l04290"></a><span class="lineno"> 4290</span>    <span class="keywordflow">if</span>( rem_bid.<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {  <span class="comment">// Cable CBM required</span></div>
<div class="line"><a id="l04291" name="l04291"></a><span class="lineno"> 4291</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l04292" name="l04292"></a><span class="lineno"> 4292</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have no cable charging system to plug it in, so you leave it alone.&quot;</span> ) );</div>
<div class="line"><a id="l04293" name="l04293"></a><span class="lineno"> 4293</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04294" name="l04294"></a><span class="lineno"> 4294</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( rem_bid ) ) {  <span class="comment">// when OFF it takes no effect</span></div>
<div class="line"><a id="l04295" name="l04295"></a><span class="lineno"> 4295</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Activate your cable charging system to take advantage of it.&quot;</span> ) );</div>
<div class="line"><a id="l04296" name="l04296"></a><span class="lineno"> 4296</span>    }</div>
<div class="line"><a id="l04297" name="l04297"></a><span class="lineno"> 4297</span> </div>
<div class="line"><a id="l04298" name="l04298"></a><span class="lineno"> 4298</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() &amp;&amp; !( p-&gt;<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *it ) ) ) {</div>
<div class="line"><a id="l04299" name="l04299"></a><span class="lineno"> 4299</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need to wear the %1$s before you can unfold it.&quot;</span> ),</div>
<div class="line"><a id="l04300" name="l04300"></a><span class="lineno"> 4300</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04301" name="l04301"></a><span class="lineno"> 4301</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04302" name="l04302"></a><span class="lineno"> 4302</span>    }</div>
<div class="line"><a id="l04303" name="l04303"></a><span class="lineno"> 4303</span>    <span class="comment">// no doubled sources of power</span></div>
<div class="line"><a id="l04304" name="l04304"></a><span class="lineno"> 4304</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <span class="stringliteral">&quot;SOLARPACK_ON&quot;</span> ) ) {</div>
<div class="line"><a id="l04305" name="l04305"></a><span class="lineno"> 4305</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot use the %1$s with another of it&#39;s kind.&quot;</span> ),</div>
<div class="line"><a id="l04306" name="l04306"></a><span class="lineno"> 4306</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04307" name="l04307"></a><span class="lineno"> 4307</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04308" name="l04308"></a><span class="lineno"> 4308</span>    }</div>
<div class="line"><a id="l04309" name="l04309"></a><span class="lineno"> 4309</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l04310" name="l04310"></a><span class="lineno"> 4310</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You unfold solar array from the pack.  You still need to connect it with a cable.&quot;</span> ) );</div>
<div class="line"><a id="l04311" name="l04311"></a><span class="lineno"> 4311</span> </div>
<div class="line"><a id="l04312" name="l04312"></a><span class="lineno"> 4312</span>    it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() + <span class="stringliteral">&quot;_on&quot;</span> ) );</div>
<div class="line"><a id="l04313" name="l04313"></a><span class="lineno"> 4313</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04314" name="l04314"></a><span class="lineno"> 4314</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="character_8cpp_source.html#l01891">Character::get_remote_fueled_bionic()</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="item_8cpp_source.html#l06554">item::is_armor()</a>, <a class="el" href="string__id_8h_source.html#l00298">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="character_8h_source.html#l01142">Character::is_worn()</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, and <a class="el" href="character_8cpp_source.html#l03241">Character::worn_with_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a8a84e95e92cf71a5ab5a700d298f20bf" name="a8a84e95e92cf71a5ab5a700d298f20bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a84e95e92cf71a5ab5a700d298f20bf">&#9670;&nbsp;</a></span>solarpack_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::solarpack_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04316">4316</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04317" name="l04317"></a><span class="lineno"> 4317</span>{</div>
<div class="line"><a id="l04318" name="l04318"></a><span class="lineno"> 4318</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *it ) ) {  <span class="comment">// folding when not worn</span></div>
<div class="line"><a id="l04319" name="l04319"></a><span class="lineno"> 4319</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You fold your portable solar array into the pack.&quot;</span> ) );</div>
<div class="line"><a id="l04320" name="l04320"></a><span class="lineno"> 4320</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04321" name="l04321"></a><span class="lineno"> 4321</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You unplug and fold your portable solar array into the pack.&quot;</span> ) );</div>
<div class="line"><a id="l04322" name="l04322"></a><span class="lineno"> 4322</span>    }</div>
<div class="line"><a id="l04323" name="l04323"></a><span class="lineno"> 4323</span> </div>
<div class="line"><a id="l04324" name="l04324"></a><span class="lineno"> 4324</span>    <span class="comment">// 3 = &quot;_on&quot;</span></div>
<div class="line"><a id="l04325" name="l04325"></a><span class="lineno"> 4325</span>    it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().substr( 0,</div>
<div class="line"><a id="l04326" name="l04326"></a><span class="lineno"> 4326</span>                           it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().size() - 3 ) ) ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04327" name="l04327"></a><span class="lineno"> 4327</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04328" name="l04328"></a><span class="lineno"> 4328</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="character_8h_source.html#l01142">Character::is_worn()</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a2ffd5b9b676f359ad3b6a8db314d28a0" name="a2ffd5b9b676f359ad3b6a8db314d28a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffd5b9b676f359ad3b6a8db314d28a0">&#9670;&nbsp;</a></span>spray_can()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::spray_can </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05513">5513</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05514" name="l05514"></a><span class="lineno"> 5514</span>{</div>
<div class="line"><a id="l05515" name="l05515"></a><span class="lineno"> 5515</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> dest_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Spray where?&quot;</span> ) );</div>
<div class="line"><a id="l05516" name="l05516"></a><span class="lineno"> 5516</span>    <span class="keywordflow">if</span>( !dest_ ) {</div>
<div class="line"><a id="l05517" name="l05517"></a><span class="lineno"> 5517</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05518" name="l05518"></a><span class="lineno"> 5518</span>    }</div>
<div class="line"><a id="l05519" name="l05519"></a><span class="lineno"> 5519</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceiuse.html#aa92986fb5efe2c3952f80ad290b76076">handle_ground_graffiti</a>( *p, it, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Spray what?&quot;</span> ), dest_.<a class="code hl_function" href="classcata_1_1optional.html#aeb8e2c36d85751ab0ddd296a2496b78c">value</a>() );</div>
<div class="line"><a id="l05520" name="l05520"></a><span class="lineno"> 5520</span>}</div>
<div class="ttc" id="aclasscata_1_1optional_html_aeb8e2c36d85751ab0ddd296a2496b78c"><div class="ttname"><a href="classcata_1_1optional.html#aeb8e2c36d85751ab0ddd296a2496b78c">cata::optional::value</a></div><div class="ttdeci">T &amp; value()</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00124">optional.h:124</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aa92986fb5efe2c3952f80ad290b76076"><div class="ttname"><a href="namespaceiuse.html#aa92986fb5efe2c3952f80ad290b76076">iuse::handle_ground_graffiti</a></div><div class="ttdeci">int handle_ground_graffiti(player &amp;p, item *it, const std::string &amp;prefix, const tripoint &amp;where)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05522">iuse.cpp:5522</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="iuse_8cpp_source.html#l05522">handle_ground_graffiti()</a>, and <a class="el" href="optional_8h_source.html#l00124">cata::optional&lt; T &gt;::value()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="af5cf673b4a25124acdaf1e30265e8f19" name="af5cf673b4a25124acdaf1e30265e8f19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5cf673b4a25124acdaf1e30265e8f19">&#9670;&nbsp;</a></span>stimpack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::stimpack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05738">5738</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05739" name="l05739"></a><span class="lineno"> 5739</span>{</div>
<div class="line"><a id="l05740" name="l05740"></a><span class="lineno"> 5740</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( it ) &gt;= -1 ) {</div>
<div class="line"><a id="l05741" name="l05741"></a><span class="lineno"> 5741</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l05742" name="l05742"></a><span class="lineno"> 5742</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You must wear the stimulant delivery system before you can activate it.&quot;</span> ) );</div>
<div class="line"><a id="l05743" name="l05743"></a><span class="lineno"> 5743</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05744" name="l05744"></a><span class="lineno"> 5744</span>    }</div>
<div class="line"><a id="l05745" name="l05745"></a><span class="lineno"> 5745</span> </div>
<div class="line"><a id="l05746" name="l05746"></a><span class="lineno"> 5746</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l05747" name="l05747"></a><span class="lineno"> 5747</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The stimulant delivery system is empty.&quot;</span> ) );</div>
<div class="line"><a id="l05748" name="l05748"></a><span class="lineno"> 5748</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05749" name="l05749"></a><span class="lineno"> 5749</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05750" name="l05750"></a><span class="lineno"> 5750</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You inject yourself with the stimulants.&quot;</span> ) );</div>
<div class="line"><a id="l05751" name="l05751"></a><span class="lineno"> 5751</span>        <span class="comment">// Intensity is 2 here because intensity = 1 is the comedown</span></div>
<div class="line"><a id="l05752" name="l05752"></a><span class="lineno"> 5752</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a611aee9a5e9dcf6c95f0e46dbde8e30a">effect_stimpack</a>, 25_minutes, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>, 2 );</div>
<div class="line"><a id="l05753" name="l05753"></a><span class="lineno"> 5753</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">mod_painkiller</a>( 2 );</div>
<div class="line"><a id="l05754" name="l05754"></a><span class="lineno"> 5754</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ac840406f65172cadd93d4274ddd78e15">mod_stim</a>( 20 );</div>
<div class="line"><a id="l05755" name="l05755"></a><span class="lineno"> 5755</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( -100 );</div>
<div class="line"><a id="l05756" name="l05756"></a><span class="lineno"> 5756</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a65642ccc4e3370f7a594d77e4e1fd374">set_stamina</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">get_stamina_max</a>() );</div>
<div class="line"><a id="l05757" name="l05757"></a><span class="lineno"> 5757</span>    }</div>
<div class="line"><a id="l05758" name="l05758"></a><span class="lineno"> 5758</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05759" name="l05759"></a><span class="lineno"> 5759</span>}</div>
<div class="ttc" id="aclassCharacter_html_aefe5432750eb1c2c65fea628fd9878a7"><div class="ttname"><a href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">Character::get_stamina_max</a></div><div class="ttdeci">int get_stamina_max() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07180">character.cpp:7180</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a611aee9a5e9dcf6c95f0e46dbde8e30a"><div class="ttname"><a href="iuse_8cpp.html#a611aee9a5e9dcf6c95f0e46dbde8e30a">effect_stimpack</a></div><div class="ttdeci">static const efftype_id effect_stimpack(&quot;stimpack&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a611aee9a5e9dcf6c95f0e46dbde8e30a">effect_stimpack</a>, <a class="el" href="character_8cpp_source.html#l02396">Character::get_item_position()</a>, <a class="el" href="character_8cpp_source.html#l07180">Character::get_stamina_max()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, <a class="el" href="character_8cpp_source.html#l09756">Character::mod_painkiller()</a>, <a class="el" href="character_8cpp_source.html#l07152">Character::mod_stim()</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="character_8cpp_source.html#l07189">Character::set_stamina()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a25067961208e9644f6b186dd97ef8bcc" name="a25067961208e9644f6b186dd97ef8bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25067961208e9644f6b186dd97ef8bcc">&#9670;&nbsp;</a></span>strong_antibiotic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::strong_antibiotic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09618">9618</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09619" name="l09619"></a><span class="lineno"> 9619</span>{</div>
<div class="line"><a id="l09620" name="l09620"></a><span class="lineno"> 9620</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a id="l09621" name="l09621"></a><span class="lineno"> 9621</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take some strong antibiotics.&quot;</span> ),</div>
<div class="line"><a id="l09622" name="l09622"></a><span class="lineno"> 9622</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; takes some strong antibiotics.&quot;</span> ) );</div>
<div class="line"><a id="l09623" name="l09623"></a><span class="lineno"> 9623</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a> ) &amp;&amp; !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ab5d38652b4b5ac4a2a4810d0d8c3ded1">effect_strong_antibiotic</a> ) ) {</div>
<div class="line"><a id="l09624" name="l09624"></a><span class="lineno"> 9624</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel much better - almost entirely.&quot;</span> ) );</div>
<div class="line"><a id="l09625" name="l09625"></a><span class="lineno"> 9625</span>    }</div>
<div class="line"><a id="l09626" name="l09626"></a><span class="lineno"> 9626</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ab5d38652b4b5ac4a2a4810d0d8c3ded1">effect_strong_antibiotic</a>, 12_hours );</div>
<div class="line"><a id="l09627" name="l09627"></a><span class="lineno"> 9627</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l09628" name="l09628"></a><span class="lineno"> 9628</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_ab5d38652b4b5ac4a2a4810d0d8c3ded1"><div class="ttname"><a href="iuse_8cpp.html#ab5d38652b4b5ac4a2a4810d0d8c3ded1">effect_strong_antibiotic</a></div><div class="ttdeci">static const efftype_id effect_strong_antibiotic(&quot;strong_antibiotic&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a>, <a class="el" href="iuse_8cpp.html#ab5d38652b4b5ac4a2a4810d0d8c3ded1">effect_strong_antibiotic</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a3ed61e824f231f3b6855d8d3769f085a" name="a3ed61e824f231f3b6855d8d3769f085a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ed61e824f231f3b6855d8d3769f085a">&#9670;&nbsp;</a></span>talking_doll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::talking_doll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05819">5819</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05820" name="l05820"></a><span class="lineno"> 5820</span>{</div>
<div class="line"><a id="l05821" name="l05821"></a><span class="lineno"> 5821</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l05822" name="l05822"></a><span class="lineno"> 5822</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s&#39;s batteries are dead.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05823" name="l05823"></a><span class="lineno"> 5823</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05824" name="l05824"></a><span class="lineno"> 5824</span>    }</div>
<div class="line"><a id="l05825" name="l05825"></a><span class="lineno"> 5825</span> </div>
<div class="line"><a id="l05826" name="l05826"></a><span class="lineno"> 5826</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structSpeechBubble.html">SpeechBubble</a> &amp;<a class="code hl_variable" href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a> = <a class="code hl_function" href="speech_8cpp.html#a576ec6cec2f290b1c65170befdd4b66d">get_speech</a>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l05827" name="l05827"></a><span class="lineno"> 5827</span> </div>
<div class="line"><a id="l05828" name="l05828"></a><span class="lineno"> 5828</span>    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a>.volume, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::sound_t::electronic_speech</a>,</div>
<div class="line"><a id="l05829" name="l05829"></a><span class="lineno"> 5829</span>                   <a class="code hl_variable" href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a>.text.translated(), <span class="keyword">true</span>, <span class="stringliteral">&quot;speech&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l05830" name="l05830"></a><span class="lineno"> 5830</span> </div>
<div class="line"><a id="l05831" name="l05831"></a><span class="lineno"> 5831</span>    <span class="comment">// Sound code doesn&#39;t describe noises at the player position</span></div>
<div class="line"><a id="l05832" name="l05832"></a><span class="lineno"> 5832</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#ab0ad8a1c48785fa554d5b2f662248697">can_hear</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a>.volume ) ) {</div>
<div class="line"><a id="l05833" name="l05833"></a><span class="lineno"> 5833</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You hear \&quot;%s\&quot;&quot;</span> ), <a class="code hl_variable" href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a>.text );</div>
<div class="line"><a id="l05834" name="l05834"></a><span class="lineno"> 5834</span>    }</div>
<div class="line"><a id="l05835" name="l05835"></a><span class="lineno"> 5835</span> </div>
<div class="line"><a id="l05836" name="l05836"></a><span class="lineno"> 5836</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l05837" name="l05837"></a><span class="lineno"> 5837</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l10231">Character::can_hear()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ab761780ade49c11f48702cf2b0e3b0cd">sounds::electronic_speech</a>, <a class="el" href="speech_8cpp_source.html#l00031">get_speech()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="speech_8cpp_source.html#l00012">speech</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a3bdece1a07a33641fa483176a9bd0175" name="a3bdece1a07a33641fa483176a9bd0175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bdece1a07a33641fa483176a9bd0175">&#9670;&nbsp;</a></span>tazer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::tazer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Dexterity slightly increases chance of successfully using tazer Melee increases chance of successfully using a tazer Dodge increases chance of dodging a tazer attack 
<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03969">3969</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03970" name="l03970"></a><span class="lineno"> 3970</span>{</div>
<div class="line"><a id="l03971" name="l03971"></a><span class="lineno"> 3971</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l03972" name="l03972"></a><span class="lineno"> 3972</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03973" name="l03973"></a><span class="lineno"> 3973</span>    }</div>
<div class="line"><a id="l03974" name="l03974"></a><span class="lineno"> 3974</span> </div>
<div class="line"><a id="l03975" name="l03975"></a><span class="lineno"> 3975</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> pnt = pos;</div>
<div class="line"><a id="l03976" name="l03976"></a><span class="lineno"> 3976</span>    <span class="keywordflow">if</span>( pos == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l03977" name="l03977"></a><span class="lineno"> 3977</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> pnt_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Shock where?&quot;</span> ) );</div>
<div class="line"><a id="l03978" name="l03978"></a><span class="lineno"> 3978</span>        <span class="keywordflow">if</span>( !pnt_ ) {</div>
<div class="line"><a id="l03979" name="l03979"></a><span class="lineno"> 3979</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03980" name="l03980"></a><span class="lineno"> 3980</span>        }</div>
<div class="line"><a id="l03981" name="l03981"></a><span class="lineno"> 3981</span>        pnt = *pnt_;</div>
<div class="line"><a id="l03982" name="l03982"></a><span class="lineno"> 3982</span>    }</div>
<div class="line"><a id="l03983" name="l03983"></a><span class="lineno"> 3983</span> </div>
<div class="line"><a id="l03984" name="l03984"></a><span class="lineno"> 3984</span>    <span class="keywordflow">if</span>( pnt == p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l03985" name="l03985"></a><span class="lineno"> 3985</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Umm.  No.&quot;</span> ) );</div>
<div class="line"><a id="l03986" name="l03986"></a><span class="lineno"> 3986</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03987" name="l03987"></a><span class="lineno"> 3987</span>    }</div>
<div class="line"><a id="l03988" name="l03988"></a><span class="lineno"> 3988</span> </div>
<div class="line"><a id="l03989" name="l03989"></a><span class="lineno"> 3989</span>    <a class="code hl_class" href="classCreature.html">Creature</a> *target = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at( pnt, <span class="keyword">true</span> );</div>
<div class="line"><a id="l03990" name="l03990"></a><span class="lineno"> 3990</span>    <span class="keywordflow">if</span>( target == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03991" name="l03991"></a><span class="lineno"> 3991</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s nothing to zap there!&quot;</span> ) );</div>
<div class="line"><a id="l03992" name="l03992"></a><span class="lineno"> 3992</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03993" name="l03993"></a><span class="lineno"> 3993</span>    }</div>
<div class="line"><a id="l03994" name="l03994"></a><span class="lineno"> 3994</span> </div>
<div class="line"><a id="l03995" name="l03995"></a><span class="lineno"> 3995</span>    <a class="code hl_class" href="classnpc.html">npc</a> *foe = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classnpc.html">npc</a> *<span class="keyword">&gt;</span>( target );</div>
<div class="line"><a id="l03996" name="l03996"></a><span class="lineno"> 3996</span>    <span class="keywordflow">if</span>( foe != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a id="l03997" name="l03997"></a><span class="lineno"> 3997</span>        !foe-&gt;<a class="code hl_function" href="classnpc.html#a7ee1c9e434339418cb9b5907d8695806">is_enemy</a>() &amp;&amp;</div>
<div class="line"><a id="l03998" name="l03998"></a><span class="lineno"> 3998</span>        !p-&gt;<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Really shock %s?&quot;</span> ), target-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() ) ) {</div>
<div class="line"><a id="l03999" name="l03999"></a><span class="lineno"> 3999</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04000" name="l04000"></a><span class="lineno"> 4000</span>    }</div>
<div class="line"><a id="l04001" name="l04001"></a><span class="lineno"> 4001</span><span class="comment"></span> </div>
<div class="line"><a id="l04002" name="l04002"></a><span class="lineno"> 4002</span><span class="comment">    /** @EFFECT_DEX slightly increases chance of successfully using tazer */</span><span class="comment"></span></div>
<div class="line"><a id="l04003" name="l04003"></a><span class="lineno"> 4003</span><span class="comment">    /** @EFFECT_MELEE increases chance of successfully using a tazer */</span></div>
<div class="line"><a id="l04004" name="l04004"></a><span class="lineno"> 4004</span>    <span class="keywordtype">int</span> numdice = 3 + ( p-&gt;<a class="code hl_variable" href="classCharacter.html#a4065ac02745befad248425d307b71849">dex_cur</a> / 2.5 ) + p-&gt;<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="iuse_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a> ) * 2;</div>
<div class="line"><a id="l04005" name="l04005"></a><span class="lineno"> 4005</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 1_seconds );</div>
<div class="line"><a id="l04006" name="l04006"></a><span class="lineno"> 4006</span><span class="comment"></span> </div>
<div class="line"><a id="l04007" name="l04007"></a><span class="lineno"> 4007</span><span class="comment">    /** @EFFECT_DODGE increases chance of dodging a tazer attack */</span></div>
<div class="line"><a id="l04008" name="l04008"></a><span class="lineno"> 4008</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> tazer_was_dodged = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( numdice, 10 ) &lt; <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( target-&gt;<a class="code hl_function" href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">get_dodge</a>(), 10 );</div>
<div class="line"><a id="l04009" name="l04009"></a><span class="lineno"> 4009</span>    <span class="keywordflow">if</span>( tazer_was_dodged ) {</div>
<div class="line"><a id="l04010" name="l04010"></a><span class="lineno"> 4010</span>        p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You attempt to shock %s, but miss.&quot;</span> ),</div>
<div class="line"><a id="l04011" name="l04011"></a><span class="lineno"> 4011</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; attempts to shock %s, but misses.&quot;</span> ),</div>
<div class="line"><a id="l04012" name="l04012"></a><span class="lineno"> 4012</span>                                  target-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l04013" name="l04013"></a><span class="lineno"> 4013</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04014" name="l04014"></a><span class="lineno"> 4014</span>        <span class="comment">// TODO: Maybe - Execute an attack and maybe zap something other than torso</span></div>
<div class="line"><a id="l04015" name="l04015"></a><span class="lineno"> 4015</span>        <span class="comment">// Maybe, because it&#39;s torso (heart) that fails when zapped with electricity</span></div>
<div class="line"><a id="l04016" name="l04016"></a><span class="lineno"> 4016</span>        <span class="keywordtype">int</span> dam = target-&gt;<a class="code hl_function" href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">deal_damage</a>( p, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb">DT_ELECTRIC</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5,</div>
<div class="line"><a id="l04017" name="l04017"></a><span class="lineno"> 4017</span>                                       25 ) ) ).<a class="code hl_function" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>();</div>
<div class="line"><a id="l04018" name="l04018"></a><span class="lineno"> 4018</span>        <span class="keywordflow">if</span>( dam &gt; 0 ) {</div>
<div class="line"><a id="l04019" name="l04019"></a><span class="lineno"> 4019</span>            p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l04020" name="l04020"></a><span class="lineno"> 4020</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You shock %s!&quot;</span> ),</div>
<div class="line"><a id="l04021" name="l04021"></a><span class="lineno"> 4021</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; shocks %s!&quot;</span> ),</div>
<div class="line"><a id="l04022" name="l04022"></a><span class="lineno"> 4022</span>                                      target-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l04023" name="l04023"></a><span class="lineno"> 4023</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04024" name="l04024"></a><span class="lineno"> 4024</span>            p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l04025" name="l04025"></a><span class="lineno"> 4025</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You unsuccessfully attempt to shock %s!&quot;</span> ),</div>
<div class="line"><a id="l04026" name="l04026"></a><span class="lineno"> 4026</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; unsuccessfully attempts to shock %s!&quot;</span> ),</div>
<div class="line"><a id="l04027" name="l04027"></a><span class="lineno"> 4027</span>                                      target-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l04028" name="l04028"></a><span class="lineno"> 4028</span>        }</div>
<div class="line"><a id="l04029" name="l04029"></a><span class="lineno"> 4029</span>    }</div>
<div class="line"><a id="l04030" name="l04030"></a><span class="lineno"> 4030</span> </div>
<div class="line"><a id="l04031" name="l04031"></a><span class="lineno"> 4031</span>    <span class="keywordflow">if</span>( foe != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l04032" name="l04032"></a><span class="lineno"> 4032</span>        foe-&gt;<a class="code hl_function" href="classnpc.html#a965eb2beb1c490bb1b8efef1c07e20d0">on_attacked</a>( *p );</div>
<div class="line"><a id="l04033" name="l04033"></a><span class="lineno"> 4033</span>    }</div>
<div class="line"><a id="l04034" name="l04034"></a><span class="lineno"> 4034</span> </div>
<div class="line"><a id="l04035" name="l04035"></a><span class="lineno"> 4035</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04036" name="l04036"></a><span class="lineno"> 4036</span>}</div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00077">creature.h:78</a></div></div>
<div class="ttc" id="aclassCreature_html_a26b7c431f85f0b99b888db69318ebdc5"><div class="ttname"><a href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name</a></div><div class="ttdeci">virtual std::string disp_name(bool possessive=false, bool capitalize_first=false) const =0</div></div>
<div class="ttc" id="aclassCreature_html_a75ad96eb6ce27d3c1df250965b4de7b5"><div class="ttname"><a href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">Creature::deal_damage</a></div><div class="ttdeci">virtual dealt_damage_instance deal_damage(Creature *source, bodypart_id bp, const damage_instance &amp;dam)</div><div class="ttdoc">Deals the damage via an attack.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00873">creature.cpp:873</a></div></div>
<div class="ttc" id="aclassCreature_html_aaa501dbe3d1e90d47da43fb9ea57b3be"><div class="ttname"><a href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">Creature::get_dodge</a></div><div class="ttdeci">virtual float get_dodge() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01502">creature.cpp:1502</a></div></div>
<div class="ttc" id="aclassnpc_html_a7ee1c9e434339418cb9b5907d8695806"><div class="ttname"><a href="classnpc.html#a7ee1c9e434339418cb9b5907d8695806">npc::is_enemy</a></div><div class="ttdeci">bool is_enemy() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02040">npc.cpp:2040</a></div></div>
<div class="ttc" id="aclassnpc_html_a965eb2beb1c490bb1b8efef1c07e20d0"><div class="ttname"><a href="classnpc.html#a965eb2beb1c490bb1b8efef1c07e20d0">npc::on_attacked</a></div><div class="ttdeci">void on_attacked(const Creature &amp;attacker)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01446">npc.cpp:1446</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb">DT_ELECTRIC</a></div><div class="ttdeci">@ DT_ELECTRIC</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00030">damage.h:30</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a917f093dcdc3861c86a6adf734a52641"><div class="ttname"><a href="iuse_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a></div><div class="ttdeci">static const skill_id skill_melee(&quot;melee&quot;)</div></div>
<div class="ttc" id="astructdamage__instance_html"><div class="ttname"><a href="structdamage__instance.html">damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00051">damage.h:51</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a86b702070a1c313624abc78ff34eff48"><div class="ttname"><a href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">dealt_damage_instance::total_damage</a></div><div class="ttdeci">int total_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00180">damage.cpp:180</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="creature_8cpp_source.html#l00873">Creature::deal_damage()</a>, <a class="el" href="character_8h_source.html#l00305">Character::dex_cur</a>, <a class="el" href="rng_8cpp_source.html#l00085">dice()</a>, <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name()</a>, <a class="el" href="damage_8h_source.html#l00030">DT_ELECTRIC</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="creature_8cpp_source.html#l01502">Creature::get_dodge()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="npc_8cpp_source.html#l02040">npc::is_enemy()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="npc_8cpp_source.html#l01446">npc::on_attacked()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp_source.html#l04405">player::query_yn()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="iuse_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a>, <a class="el" href="damage_8cpp_source.html#l00180">dealt_damage_instance::total_damage()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, and <a class="el" href="iuse_8cpp_source.html#l04038">tazer2()</a>.</p>

</div>
</div>
<a id="a2e3fd5647a64b6f33536703155750854" name="a2e3fd5647a64b6f33536703155750854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e3fd5647a64b6f33536703155750854">&#9670;&nbsp;</a></span>tazer2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::tazer2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04038">4038</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04039" name="l04039"></a><span class="lineno"> 4039</span>{</div>
<div class="line"><a id="l04040" name="l04040"></a><span class="lineno"> 4040</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt;= 100 ) {</div>
<div class="line"><a id="l04041" name="l04041"></a><span class="lineno"> 4041</span>        <span class="comment">// Instead of having a ctrl+c+v of the function above, spawn a fake tazer and use it</span></div>
<div class="line"><a id="l04042" name="l04042"></a><span class="lineno"> 4042</span>        <span class="comment">// Ugly, but less so than copied blocks</span></div>
<div class="line"><a id="l04043" name="l04043"></a><span class="lineno"> 4043</span>        <a class="code hl_class" href="classitem.html">item</a> fake( <span class="stringliteral">&quot;tazer&quot;</span>, <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a> );</div>
<div class="line"><a id="l04044" name="l04044"></a><span class="lineno"> 4044</span>        fake.charges = 100;</div>
<div class="line"><a id="l04045" name="l04045"></a><span class="lineno"> 4045</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceiuse.html#a3bdece1a07a33641fa483176a9bd0175">tazer</a>( p, &amp;fake, <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>, pos );</div>
<div class="line"><a id="l04046" name="l04046"></a><span class="lineno"> 4046</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04047" name="l04047"></a><span class="lineno"> 4047</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Insufficient power&quot;</span> ) );</div>
<div class="line"><a id="l04048" name="l04048"></a><span class="lineno"> 4048</span>    }</div>
<div class="line"><a id="l04049" name="l04049"></a><span class="lineno"> 4049</span> </div>
<div class="line"><a id="l04050" name="l04050"></a><span class="lineno"> 4050</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04051" name="l04051"></a><span class="lineno"> 4051</span>}</div>
<div class="ttc" id="anamespaceiuse_html_a3bdece1a07a33641fa483176a9bd0175"><div class="ttname"><a href="namespaceiuse.html#a3bdece1a07a33641fa483176a9bd0175">iuse::tazer</a></div><div class="ttdeci">int tazer(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03969">iuse.cpp:3969</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="magic_8cpp_source.html#l01030">b</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="calendar_8cpp_source.html#l00033">calendar::start_of_cataclysm</a>, and <a class="el" href="iuse_8cpp_source.html#l03969">tazer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>, <a class="el" href="iuse_8cpp_source.html#l04053">shocktonfa_off()</a>, and <a class="el" href="iuse_8cpp_source.html#l04077">shocktonfa_on()</a>.</p>

</div>
</div>
<a id="ac13d2a221346c855be7a0c0c04d77895" name="ac13d2a221346c855be7a0c0c04d77895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac13d2a221346c855be7a0c0c04d77895">&#9670;&nbsp;</a></span>teleport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::teleport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03467">3467</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03468" name="l03468"></a><span class="lineno"> 3468</span>{</div>
<div class="line"><a id="l03469" name="l03469"></a><span class="lineno"> 3469</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l03470" name="l03470"></a><span class="lineno"> 3470</span>        <span class="comment">// That would be evil</span></div>
<div class="line"><a id="l03471" name="l03471"></a><span class="lineno"> 3471</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03472" name="l03472"></a><span class="lineno"> 3472</span>    }</div>
<div class="line"><a id="l03473" name="l03473"></a><span class="lineno"> 3473</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l03474" name="l03474"></a><span class="lineno"> 3474</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l03475" name="l03475"></a><span class="lineno"> 3475</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03476" name="l03476"></a><span class="lineno"> 3476</span>    }</div>
<div class="line"><a id="l03477" name="l03477"></a><span class="lineno"> 3477</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ) {</div>
<div class="line"><a id="l03478" name="l03478"></a><span class="lineno"> 3478</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03479" name="l03479"></a><span class="lineno"> 3479</span>    }</div>
<div class="line"><a id="l03480" name="l03480"></a><span class="lineno"> 3480</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 1_seconds );</div>
<div class="line"><a id="l03481" name="l03481"></a><span class="lineno"> 3481</span>    <a class="code hl_function" href="namespaceteleport.html#a24cbf298b41e9fc23770c73d32e33a47">teleport::teleport</a>( *p );</div>
<div class="line"><a id="l03482" name="l03482"></a><span class="lineno"> 3482</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l03483" name="l03483"></a><span class="lineno"> 3483</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="teleport_8cpp_source.html#l00024">teleport::teleport()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a73c7d9cf354e1a3baefc57d6da88e84f" name="a73c7d9cf354e1a3baefc57d6da88e84f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c7d9cf354e1a3baefc57d6da88e84f">&#9670;&nbsp;</a></span>thorazine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::thorazine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00918">918</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>{</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1d165daff78c283cec6eb4197cb9a4a7">effect_took_thorazine</a> ) ) {</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1d165daff78c283cec6eb4197cb9a4a7">effect_took_thorazine</a> );</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( 15 );</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1d165daff78c283cec6eb4197cb9a4a7">effect_took_thorazine</a>, 12_hours );</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( 5 );</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a> );</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a> );</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <span class="keywordflow">if</span>( !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a> ) ) {</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ada6166c57df3b5758b910c90079ffd56">effect_formication</a> );</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    }</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 50 ) ) { <span class="comment">// adverse reaction</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel completely exhausted.&quot;</span> ) );</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( 50 );</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel a bit wobbly.&quot;</span> ) );</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    }</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a1d165daff78c283cec6eb4197cb9a4a7"><div class="ttname"><a href="iuse_8cpp.html#a1d165daff78c283cec6eb4197cb9a4a7">effect_took_thorazine</a></div><div class="ttdeci">static const efftype_id effect_took_thorazine(&quot;took_thorazine&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ada6166c57df3b5758b910c90079ffd56"><div class="ttname"><a href="iuse_8cpp.html#ada6166c57df3b5758b910c90079ffd56">effect_formication</a></div><div class="ttdeci">static const efftype_id effect_formication(&quot;formication&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a>, <a class="el" href="iuse_8cpp.html#ada6166c57df3b5758b910c90079ffd56">effect_formication</a>, <a class="el" href="iuse_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a>, <a class="el" href="iuse_8cpp.html#a1d165daff78c283cec6eb4197cb9a4a7">effect_took_thorazine</a>, <a class="el" href="iuse_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a64b41a4e8dbd3fca719eaea1625b85b0" name="a64b41a4e8dbd3fca719eaea1625b85b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64b41a4e8dbd3fca719eaea1625b85b0">&#9670;&nbsp;</a></span>throwable_extinguisher_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::throwable_extinguisher_act </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03538">3538</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03539" name="l03539"></a><span class="lineno"> 3539</span>{</div>
<div class="line"><a id="l03540" name="l03540"></a><span class="lineno"> 3540</span>    <span class="keywordflow">if</span>( pos.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> == -999 || pos.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> == -999 ) {</div>
<div class="line"><a id="l03541" name="l03541"></a><span class="lineno"> 3541</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03542" name="l03542"></a><span class="lineno"> 3542</span>    }</div>
<div class="line"><a id="l03543" name="l03543"></a><span class="lineno"> 3543</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.get_field( pos, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a> ) != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03544" name="l03544"></a><span class="lineno"> 3544</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( pos, 50, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Bang!&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a id="l03545" name="l03545"></a><span class="lineno"> 3545</span>        <span class="comment">// Reduce the strength of fire (if any) in the target tile.</span></div>
<div class="line"><a id="l03546" name="l03546"></a><span class="lineno"> 3546</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.mod_field_intensity( pos, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a>, 0 - 2 );</div>
<div class="line"><a id="l03547" name="l03547"></a><span class="lineno"> 3547</span>        <span class="comment">// Slightly reduce the strength of fire around and in the target tile.</span></div>
<div class="line"><a id="l03548" name="l03548"></a><span class="lineno"> 3548</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( pos, 1 ) ) {</div>
<div class="line"><a id="l03549" name="l03549"></a><span class="lineno"> 3549</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.passable( dest ) &amp;&amp; dest != pos ) {</div>
<div class="line"><a id="l03550" name="l03550"></a><span class="lineno"> 3550</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.mod_field_intensity( dest, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a>, 0 - <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 2 ) );</div>
<div class="line"><a id="l03551" name="l03551"></a><span class="lineno"> 3551</span>            }</div>
<div class="line"><a id="l03552" name="l03552"></a><span class="lineno"> 3552</span>        }</div>
<div class="line"><a id="l03553" name="l03553"></a><span class="lineno"> 3553</span>        it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = -1;</div>
<div class="line"><a id="l03554" name="l03554"></a><span class="lineno"> 3554</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l03555" name="l03555"></a><span class="lineno"> 3555</span>    }</div>
<div class="line"><a id="l03556" name="l03556"></a><span class="lineno"> 3556</span>    it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03557" name="l03557"></a><span class="lineno"> 3557</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03558" name="l03558"></a><span class="lineno"> 3558</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::combat</a>, <a class="el" href="field__type_8cpp_source.html#l00345">fd_fire</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a806d3629dd20d3cfa906b0a724018719" name="a806d3629dd20d3cfa906b0a724018719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a806d3629dd20d3cfa906b0a724018719">&#9670;&nbsp;</a></span>toggle_heats_food()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::toggle_heats_food </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09776">9776</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09777" name="l09777"></a><span class="lineno"> 9777</span>{</div>
<div class="line"><a id="l09778" name="l09778"></a><span class="lineno"> 9778</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>.<a class="code hl_function" href="classcata_1_1flat__set.html#ade623b3a09ac9a00ae027a89436fccf8">count</a>( <a class="code hl_function" href="iuse_8cpp.html#aa8f6c98e325410c321250a67eca0b06e">flag_HEATS_FOOD</a> ) == 0 ) {</div>
<div class="line"><a id="l09779" name="l09779"></a><span class="lineno"> 9779</span>        it-&gt;<a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>.<a class="code hl_function" href="classcata_1_1flat__set.html#ab427ae6af6b4cd328c0000bc197f881b">insert</a>( <a class="code hl_function" href="iuse_8cpp.html#aa8f6c98e325410c321250a67eca0b06e">flag_HEATS_FOOD</a> );</div>
<div class="line"><a id="l09780" name="l09780"></a><span class="lineno"> 9780</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l09781" name="l09781"></a><span class="lineno"> 9781</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You will try to use %s to heat food next time you eat something that should be eaten hot.&quot;</span> ),</div>
<div class="line"><a id="l09782" name="l09782"></a><span class="lineno"> 9782</span>            it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>().c_str() );</div>
<div class="line"><a id="l09783" name="l09783"></a><span class="lineno"> 9783</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09784" name="l09784"></a><span class="lineno"> 9784</span>        it-&gt;<a class="code hl_variable" href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item_tags</a>.<a class="code hl_function" href="classcata_1_1flat__set.html#a3d7ed3af629c15825cafc9b5a48bda3b">erase</a>( <a class="code hl_function" href="iuse_8cpp.html#aa8f6c98e325410c321250a67eca0b06e">flag_HEATS_FOOD</a> );</div>
<div class="line"><a id="l09785" name="l09785"></a><span class="lineno"> 9785</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You will no longer use %s to heat food.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>().c_str() );</div>
<div class="line"><a id="l09786" name="l09786"></a><span class="lineno"> 9786</span>    }</div>
<div class="line"><a id="l09787" name="l09787"></a><span class="lineno"> 9787</span> </div>
<div class="line"><a id="l09788" name="l09788"></a><span class="lineno"> 9788</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09789" name="l09789"></a><span class="lineno"> 9789</span>}</div>
<div class="ttc" id="aclasscata_1_1flat__set_html_a3d7ed3af629c15825cafc9b5a48bda3b"><div class="ttname"><a href="classcata_1_1flat__set.html#a3d7ed3af629c15825cafc9b5a48bda3b">cata::flat_set::erase</a></div><div class="ttdeci">size_type erase(const value_type &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00183">flat_set.h:183</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html_ab427ae6af6b4cd328c0000bc197f881b"><div class="ttname"><a href="classcata_1_1flat__set.html#ab427ae6af6b4cd328c0000bc197f881b">cata::flat_set::insert</a></div><div class="ttdeci">iterator insert(iterator, const value_type &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00151">flat_set.h:151</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html_ade623b3a09ac9a00ae027a89436fccf8"><div class="ttname"><a href="classcata_1_1flat__set.html#ade623b3a09ac9a00ae027a89436fccf8">cata::flat_set::count</a></div><div class="ttdeci">size_type count(const T &amp;t) const</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00141">flat_set.h:141</a></div></div>
<div class="ttc" id="aclassitem_html_addf9c2960c915fece8d94fcb7fe825e8"><div class="ttname"><a href="classitem.html#addf9c2960c915fece8d94fcb7fe825e8">item::item_tags</a></div><div class="ttdeci">FlagsSetType item_tags</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02163">item.h:2163</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_aa8f6c98e325410c321250a67eca0b06e"><div class="ttname"><a href="iuse_8cpp.html#aa8f6c98e325410c321250a67eca0b06e">flag_HEATS_FOOD</a></div><div class="ttdeci">static const std::string flag_HEATS_FOOD(&quot;HEATS_FOOD&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="flat__set_8h_source.html#l00141">cata::flat_set&lt; T, Compare, Data &gt;::count()</a>, <a class="el" href="flat__set_8h_source.html#l00183">cata::flat_set&lt; T, Compare, Data &gt;::erase()</a>, <a class="el" href="iuse_8cpp.html#aa8f6c98e325410c321250a67eca0b06e">flag_HEATS_FOOD()</a>, <a class="el" href="flat__set_8h_source.html#l00151">cata::flat_set&lt; T, Compare, Data &gt;::insert()</a>, <a class="el" href="item_8h_source.html#l02163">item::item_tags</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00165">Item_factory::finalize_pre()</a>, and <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a18a8b4f435350b8f4a9759c173dca6d0" name="a18a8b4f435350b8f4a9759c173dca6d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18a8b4f435350b8f4a9759c173dca6d0">&#9670;&nbsp;</a></span>toolmod_attach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::toolmod_attach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05936">5936</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05937" name="l05937"></a><span class="lineno"> 5937</span>{</div>
<div class="line"><a id="l05938" name="l05938"></a><span class="lineno"> 5938</span>    <span class="keywordflow">if</span>( !it || !it-&gt;<a class="code hl_function" href="classitem.html#a91fb3717957325c9800f90c58a03ba4c">is_toolmod</a>() ) {</div>
<div class="line"><a id="l05939" name="l05939"></a><span class="lineno"> 5939</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;tried to attach non-toolmod&quot;</span> );</div>
<div class="line"><a id="l05940" name="l05940"></a><span class="lineno"> 5940</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05941" name="l05941"></a><span class="lineno"> 5941</span>    }</div>
<div class="line"><a id="l05942" name="l05942"></a><span class="lineno"> 5942</span> </div>
<div class="line"><a id="l05943" name="l05943"></a><span class="lineno"> 5943</span>    <span class="keywordflow">if</span>( !p ) {</div>
<div class="line"><a id="l05944" name="l05944"></a><span class="lineno"> 5944</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05945" name="l05945"></a><span class="lineno"> 5945</span>    }</div>
<div class="line"><a id="l05946" name="l05946"></a><span class="lineno"> 5946</span> </div>
<div class="line"><a id="l05947" name="l05947"></a><span class="lineno"> 5947</span>    <span class="keyword">auto</span> filter = [&amp;it]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a id="l05948" name="l05948"></a><span class="lineno"> 5948</span>        <span class="comment">// don&#39;t allow ups battery mods on a UPS or UPS-powered tools</span></div>
<div class="line"><a id="l05949" name="l05949"></a><span class="lineno"> 5949</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;USE_UPS&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l05950" name="l05950"></a><span class="lineno"> 5950</span>            ( e.typeId() == <a class="code hl_variable" href="iuse_8cpp.html#ae89306fd36cf36b57fe05dad0db3f71b">itype_UPS_off</a> || e.typeId() == <a class="code hl_variable" href="iuse_8cpp.html#a1c359a305b979b2e5fc87d15db51e903">itype_adv_UPS_off</a> ||</div>
<div class="line"><a id="l05951" name="l05951"></a><span class="lineno"> 5951</span>              e.has_flag( <span class="stringliteral">&quot;USE_UPS&quot;</span> ) ) ) {</div>
<div class="line"><a id="l05952" name="l05952"></a><span class="lineno"> 5952</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05953" name="l05953"></a><span class="lineno"> 5953</span>        }</div>
<div class="line"><a id="l05954" name="l05954"></a><span class="lineno"> 5954</span> </div>
<div class="line"><a id="l05955" name="l05955"></a><span class="lineno"> 5955</span>        <span class="comment">// can only attach to unmodified tools that use compatible ammo</span></div>
<div class="line"><a id="l05956" name="l05956"></a><span class="lineno"> 5956</span>        <span class="keywordflow">return</span> e.is_tool() &amp;&amp; e.toolmods().empty() &amp;&amp; !e.magazine_current() &amp;&amp;</div>
<div class="line"><a id="l05957" name="l05957"></a><span class="lineno"> 5957</span>               std::any_of( it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>-&gt;acceptable_ammo.begin(),</div>
<div class="line"><a id="l05958" name="l05958"></a><span class="lineno"> 5958</span>        it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>-&gt;acceptable_ammo.end(), [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp; at ) {</div>
<div class="line"><a id="l05959" name="l05959"></a><span class="lineno"> 5959</span>            return e.ammo_types( false ).count( at );</div>
<div class="line"><a id="l05960" name="l05960"></a><span class="lineno"> 5960</span>        } );</div>
<div class="line"><a id="l05961" name="l05961"></a><span class="lineno"> 5961</span>    };</div>
<div class="line"><a id="l05962" name="l05962"></a><span class="lineno"> 5962</span> </div>
<div class="line"><a id="l05963" name="l05963"></a><span class="lineno"> 5963</span>    <span class="keyword">auto</span> loc = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;inv_map_splice( filter, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Select tool to modify&quot;</span> ), 1,</div>
<div class="line"><a id="l05964" name="l05964"></a><span class="lineno"> 5964</span>                                  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have compatible tools.&quot;</span> ) );</div>
<div class="line"><a id="l05965" name="l05965"></a><span class="lineno"> 5965</span> </div>
<div class="line"><a id="l05966" name="l05966"></a><span class="lineno"> 5966</span>    <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l05967" name="l05967"></a><span class="lineno"> 5967</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l05968" name="l05968"></a><span class="lineno"> 5968</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05969" name="l05969"></a><span class="lineno"> 5969</span>    }</div>
<div class="line"><a id="l05970" name="l05970"></a><span class="lineno"> 5970</span> </div>
<div class="line"><a id="l05971" name="l05971"></a><span class="lineno"> 5971</span>    <span class="keywordflow">if</span>( loc-&gt;ammo_remaining() ) {</div>
<div class="line"><a id="l05972" name="l05972"></a><span class="lineno"> 5972</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;unload( loc ) ) {</div>
<div class="line"><a id="l05973" name="l05973"></a><span class="lineno"> 5973</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cancel unloading the tool.&quot;</span> ) );</div>
<div class="line"><a id="l05974" name="l05974"></a><span class="lineno"> 5974</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05975" name="l05975"></a><span class="lineno"> 5975</span>        }</div>
<div class="line"><a id="l05976" name="l05976"></a><span class="lineno"> 5976</span>    }</div>
<div class="line"><a id="l05977" name="l05977"></a><span class="lineno"> 5977</span> </div>
<div class="line"><a id="l05978" name="l05978"></a><span class="lineno"> 5978</span>    p-&gt;<a class="code hl_function" href="classplayer.html#af5e3009e1ccad19cbbc7c54500c98090">toolmod_add</a>( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( loc ), <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, it ) );</div>
<div class="line"><a id="l05979" name="l05979"></a><span class="lineno"> 5979</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05980" name="l05980"></a><span class="lineno"> 5980</span>}</div>
<div class="ttc" id="aclassplayer_html_af5e3009e1ccad19cbbc7c54500c98090"><div class="ttname"><a href="classplayer.html#af5e3009e1ccad19cbbc7c54500c98090">player::toolmod_add</a></div><div class="ttdeci">void toolmod_add(item_location tool, item_location mod)</div><div class="ttdoc">Starts activity to install toolmod.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03622">player.cpp:3622</a></div></div>
<div class="ttc" id="astructitype_html_a7f957db922884120f5a9ce0d8789fdc4"><div class="ttname"><a href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">itype::mod</a></div><div class="ttdeci">cata::value_ptr&lt; islot_mod &gt; mod</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00853">itype.h:853</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06803">item::is_tool()</a>, <a class="el" href="item_8cpp_source.html#l06615">item::is_toolmod()</a>, <a class="el" href="iuse_8cpp.html#a1c359a305b979b2e5fc87d15db51e903">itype_adv_UPS_off</a>, <a class="el" href="iuse_8cpp.html#ae89306fd36cf36b57fe05dad0db3f71b">itype_UPS_off</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l07565">item::magazine_current()</a>, <a class="el" href="itype_8h_source.html#l00853">itype::mod</a>, <a class="el" href="avatar__action_8cpp_source.html#l00090">avatar_action::move()</a>, <a class="el" href="player_8cpp_source.html#l03622">player::toolmod_add()</a>, <a class="el" href="item_8cpp_source.html#l05338">item::toolmods()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a9f44ee8382c12410f19f4d321f18db29" name="a9f44ee8382c12410f19f4d321f18db29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f44ee8382c12410f19f4d321f18db29">&#9670;&nbsp;</a></span>tow_attach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::tow_attach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l08782">8782</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l08783" name="l08783"></a><span class="lineno"> 8783</span>{</div>
<div class="line"><a id="l08784" name="l08784"></a><span class="lineno"> 8784</span>    std::string initial_state = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;state&quot;</span>, <span class="stringliteral">&quot;attach_first&quot;</span> );</div>
<div class="line"><a id="l08785" name="l08785"></a><span class="lineno"> 8785</span>    <span class="keywordflow">if</span>( !p ) {</div>
<div class="line"><a id="l08786" name="l08786"></a><span class="lineno"> 8786</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08787" name="l08787"></a><span class="lineno"> 8787</span>    }</div>
<div class="line"><a id="l08788" name="l08788"></a><span class="lineno"> 8788</span>    <span class="keyword">const</span> <span class="keyword">auto</span> set_cable_active = []( <a class="code hl_class" href="classplayer.html">player</a> * p, <a class="code hl_class" href="classitem.html">item</a> * it, <span class="keyword">const</span> std::string &amp; state ) {</div>
<div class="line"><a id="l08789" name="l08789"></a><span class="lineno"> 8789</span>        it-&gt;set_var( <span class="stringliteral">&quot;state&quot;</span>, state );</div>
<div class="line"><a id="l08790" name="l08790"></a><span class="lineno"> 8790</span>        it-&gt;active = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08791" name="l08791"></a><span class="lineno"> 8791</span>        it-&gt;process( p, p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), false );</div>
<div class="line"><a id="l08792" name="l08792"></a><span class="lineno"> 8792</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 15;</div>
<div class="line"><a id="l08793" name="l08793"></a><span class="lineno"> 8793</span>    };</div>
<div class="line"><a id="l08794" name="l08794"></a><span class="lineno"> 8794</span>    <span class="keywordflow">if</span>( initial_state == <span class="stringliteral">&quot;attach_first&quot;</span> ) {</div>
<div class="line"><a id="l08795" name="l08795"></a><span class="lineno"> 8795</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> posp_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>(</div>
<div class="line"><a id="l08796" name="l08796"></a><span class="lineno"> 8796</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach cable to the vehicle that will do the towing.&quot;</span> ) );</div>
<div class="line"><a id="l08797" name="l08797"></a><span class="lineno"> 8797</span>        <span class="keywordflow">if</span>( !posp_ ) {</div>
<div class="line"><a id="l08798" name="l08798"></a><span class="lineno"> 8798</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08799" name="l08799"></a><span class="lineno"> 8799</span>        }</div>
<div class="line"><a id="l08800" name="l08800"></a><span class="lineno"> 8800</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> posp = *posp_;</div>
<div class="line"><a id="l08801" name="l08801"></a><span class="lineno"> 8801</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( posp );</div>
<div class="line"><a id="l08802" name="l08802"></a><span class="lineno"> 8802</span>        <span class="keywordflow">if</span>( !vp ) {</div>
<div class="line"><a id="l08803" name="l08803"></a><span class="lineno"> 8803</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s no vehicle there.&quot;</span> ) );</div>
<div class="line"><a id="l08804" name="l08804"></a><span class="lineno"> 8804</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08805" name="l08805"></a><span class="lineno"> 8805</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08806" name="l08806"></a><span class="lineno"> 8806</span>            <a class="code hl_class" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> source_veh = <a class="code hl_function" href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a>( vp );</div>
<div class="line"><a id="l08807" name="l08807"></a><span class="lineno"> 8807</span>            <span class="keywordflow">if</span>( source_veh ) {</div>
<div class="line"><a id="l08808" name="l08808"></a><span class="lineno"> 8808</span>                <span class="keywordflow">if</span>( source_veh-&gt;<a class="code hl_function" href="classvehicle.html#a35d54e8a51e9571f03c0e192c70af09f">has_tow_attached</a>() || source_veh-&gt;<a class="code hl_function" href="classvehicle.html#ac24aba962fd53d1a87bf57b52ce40508">is_towed</a>() ||</div>
<div class="line"><a id="l08809" name="l08809"></a><span class="lineno"> 8809</span>                    source_veh-&gt;<a class="code hl_function" href="classvehicle.html#a40b149ccb2383cb1a263f3e3d88f3469">is_towing</a>() ) {</div>
<div class="line"><a id="l08810" name="l08810"></a><span class="lineno"> 8810</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That vehicle already has a tow-line attached.&quot;</span> ) );</div>
<div class="line"><a id="l08811" name="l08811"></a><span class="lineno"> 8811</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08812" name="l08812"></a><span class="lineno"> 8812</span>                }</div>
<div class="line"><a id="l08813" name="l08813"></a><span class="lineno"> 8813</span>                <span class="keywordflow">if</span>( !source_veh-&gt;<a class="code hl_function" href="classvehicle.html#adb993252c4c4131ced3d47e37ac0f811">is_external_part</a>( posp ) ) {</div>
<div class="line"><a id="l08814" name="l08814"></a><span class="lineno"> 8814</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t attach the tow-line to an internal part.&quot;</span> ) );</div>
<div class="line"><a id="l08815" name="l08815"></a><span class="lineno"> 8815</span>                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08816" name="l08816"></a><span class="lineno"> 8816</span>                }</div>
<div class="line"><a id="l08817" name="l08817"></a><span class="lineno"> 8817</span>            }</div>
<div class="line"><a id="l08818" name="l08818"></a><span class="lineno"> 8818</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;abspos = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getabs( posp );</div>
<div class="line"><a id="l08819" name="l08819"></a><span class="lineno"> 8819</span>            it-&gt;set_var( <span class="stringliteral">&quot;source_x&quot;</span>, abspos.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> );</div>
<div class="line"><a id="l08820" name="l08820"></a><span class="lineno"> 8820</span>            it-&gt;set_var( <span class="stringliteral">&quot;source_y&quot;</span>, abspos.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> );</div>
<div class="line"><a id="l08821" name="l08821"></a><span class="lineno"> 8821</span>            it-&gt;set_var( <span class="stringliteral">&quot;source_z&quot;</span>, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_levz() );</div>
<div class="line"><a id="l08822" name="l08822"></a><span class="lineno"> 8822</span>            set_cable_active( p, it, <span class="stringliteral">&quot;pay_out_cable&quot;</span> );</div>
<div class="line"><a id="l08823" name="l08823"></a><span class="lineno"> 8823</span>        }</div>
<div class="line"><a id="l08824" name="l08824"></a><span class="lineno"> 8824</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08825" name="l08825"></a><span class="lineno"> 8825</span>        <span class="keyword">const</span> <span class="keyword">auto</span> confirm_source_vehicle = []( <a class="code hl_class" href="classplayer.html">player</a> * p, <a class="code hl_class" href="classitem.html">item</a> * it, <span class="keyword">const</span> <span class="keywordtype">bool</span> detach_if_missing ) {</div>
<div class="line"><a id="l08826" name="l08826"></a><span class="lineno"> 8826</span>            <a class="code hl_struct" href="structtripoint.html">tripoint</a> source_global( it-&gt;get_var( <span class="stringliteral">&quot;source_x&quot;</span>, 0 ),</div>
<div class="line"><a id="l08827" name="l08827"></a><span class="lineno"> 8827</span>                                    it-&gt;get_var( <span class="stringliteral">&quot;source_y&quot;</span>, 0 ),</div>
<div class="line"><a id="l08828" name="l08828"></a><span class="lineno"> 8828</span>                                    it-&gt;get_var( <span class="stringliteral">&quot;source_z&quot;</span>, 0 ) );</div>
<div class="line"><a id="l08829" name="l08829"></a><span class="lineno"> 8829</span>            <a class="code hl_struct" href="structtripoint.html">tripoint</a> source_local = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getlocal( source_global );</div>
<div class="line"><a id="l08830" name="l08830"></a><span class="lineno"> 8830</span>            <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> source_vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( source_local );</div>
<div class="line"><a id="l08831" name="l08831"></a><span class="lineno"> 8831</span>            <a class="code hl_class" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> source_veh = <a class="code hl_function" href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a>( source_vp );</div>
<div class="line"><a id="l08832" name="l08832"></a><span class="lineno"> 8832</span>            <span class="keywordflow">if</span>( detach_if_missing &amp;&amp; source_veh == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l08833" name="l08833"></a><span class="lineno"> 8833</span>                <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l08834" name="l08834"></a><span class="lineno"> 8834</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You notice the cable has come loose!&quot;</span> ) );</div>
<div class="line"><a id="l08835" name="l08835"></a><span class="lineno"> 8835</span>                }</div>
<div class="line"><a id="l08836" name="l08836"></a><span class="lineno"> 8836</span>                it-&gt;reset_cable( p );</div>
<div class="line"><a id="l08837" name="l08837"></a><span class="lineno"> 8837</span>            }</div>
<div class="line"><a id="l08838" name="l08838"></a><span class="lineno"> 8838</span>            <span class="keywordflow">return</span> source_vp;</div>
<div class="line"><a id="l08839" name="l08839"></a><span class="lineno"> 8839</span>        };</div>
<div class="line"><a id="l08840" name="l08840"></a><span class="lineno"> 8840</span> </div>
<div class="line"><a id="l08841" name="l08841"></a><span class="lineno"> 8841</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> paying_out = initial_state == <span class="stringliteral">&quot;pay_out_cable&quot;</span>;</div>
<div class="line"><a id="l08842" name="l08842"></a><span class="lineno"> 8842</span>        <a class="code hl_class" href="classuilist.html">uilist</a> kmenu;</div>
<div class="line"><a id="l08843" name="l08843"></a><span class="lineno"> 8843</span>        kmenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Using cable:&quot;</span> );</div>
<div class="line"><a id="l08844" name="l08844"></a><span class="lineno"> 8844</span>        kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 0, <span class="keyword">true</span>, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Detach and re-spool the cable&quot;</span> ) );</div>
<div class="line"><a id="l08845" name="l08845"></a><span class="lineno"> 8845</span>        kmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( 1, paying_out, -1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach loose end to vehicle&quot;</span> ) );</div>
<div class="line"><a id="l08846" name="l08846"></a><span class="lineno"> 8846</span> </div>
<div class="line"><a id="l08847" name="l08847"></a><span class="lineno"> 8847</span>        kmenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l08848" name="l08848"></a><span class="lineno"> 8848</span>        <span class="keywordtype">int</span> choice = kmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l08849" name="l08849"></a><span class="lineno"> 8849</span> </div>
<div class="line"><a id="l08850" name="l08850"></a><span class="lineno"> 8850</span>        <span class="keywordflow">if</span>( choice &lt; 0 ) {</div>
<div class="line"><a id="l08851" name="l08851"></a><span class="lineno"> 8851</span>            <span class="keywordflow">return</span> 0; <span class="comment">// we did nothing.</span></div>
<div class="line"><a id="l08852" name="l08852"></a><span class="lineno"> 8852</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( choice == 0 ) { <span class="comment">// unconnect &amp; respool</span></div>
<div class="line"><a id="l08853" name="l08853"></a><span class="lineno"> 8853</span>            it-&gt;reset_cable( p );</div>
<div class="line"><a id="l08854" name="l08854"></a><span class="lineno"> 8854</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08855" name="l08855"></a><span class="lineno"> 8855</span>        }</div>
<div class="line"><a id="l08856" name="l08856"></a><span class="lineno"> 8856</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> source_vp = confirm_source_vehicle( p, it, paying_out );</div>
<div class="line"><a id="l08857" name="l08857"></a><span class="lineno"> 8857</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> source_veh = <a class="code hl_function" href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a>( source_vp );</div>
<div class="line"><a id="l08858" name="l08858"></a><span class="lineno"> 8858</span>        <span class="keywordflow">if</span>( source_veh == <span class="keyword">nullptr</span> &amp;&amp; paying_out ) {</div>
<div class="line"><a id="l08859" name="l08859"></a><span class="lineno"> 8859</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08860" name="l08860"></a><span class="lineno"> 8860</span>        }</div>
<div class="line"><a id="l08861" name="l08861"></a><span class="lineno"> 8861</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> vpos_ = <a class="code hl_function" href="action_8cpp.html#a07d2f969463a28d447e90a3bb3dde190">choose_adjacent</a>(</div>
<div class="line"><a id="l08862" name="l08862"></a><span class="lineno"> 8862</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach cable to vehicle that will be towed.&quot;</span> ) );</div>
<div class="line"><a id="l08863" name="l08863"></a><span class="lineno"> 8863</span>        <span class="keywordflow">if</span>( !vpos_ ) {</div>
<div class="line"><a id="l08864" name="l08864"></a><span class="lineno"> 8864</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08865" name="l08865"></a><span class="lineno"> 8865</span>        }</div>
<div class="line"><a id="l08866" name="l08866"></a><span class="lineno"> 8866</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> vpos = *vpos_;</div>
<div class="line"><a id="l08867" name="l08867"></a><span class="lineno"> 8867</span> </div>
<div class="line"><a id="l08868" name="l08868"></a><span class="lineno"> 8868</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> target_vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( vpos );</div>
<div class="line"><a id="l08869" name="l08869"></a><span class="lineno"> 8869</span>        <span class="keywordflow">if</span>( !target_vp ) {</div>
<div class="line"><a id="l08870" name="l08870"></a><span class="lineno"> 8870</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s no vehicle there.&quot;</span> ) );</div>
<div class="line"><a id="l08871" name="l08871"></a><span class="lineno"> 8871</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08872" name="l08872"></a><span class="lineno"> 8872</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l08873" name="l08873"></a><span class="lineno"> 8873</span>            <a class="code hl_class" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> target_veh = &amp;target_vp-&gt;vehicle();</div>
<div class="line"><a id="l08874" name="l08874"></a><span class="lineno"> 8874</span>            <span class="keywordflow">if</span>( target_veh &amp;&amp; ( target_veh-&gt;<a class="code hl_function" href="classvehicle.html#a35d54e8a51e9571f03c0e192c70af09f">has_tow_attached</a>() || target_veh-&gt;<a class="code hl_function" href="classvehicle.html#ac24aba962fd53d1a87bf57b52ce40508">is_towed</a>() ||</div>
<div class="line"><a id="l08875" name="l08875"></a><span class="lineno"> 8875</span>                                target_veh-&gt;<a class="code hl_function" href="classvehicle.html#a40b149ccb2383cb1a263f3e3d88f3469">is_towing</a>() ) ) {</div>
<div class="line"><a id="l08876" name="l08876"></a><span class="lineno"> 8876</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That vehicle already has a tow-line attached.&quot;</span> ) );</div>
<div class="line"><a id="l08877" name="l08877"></a><span class="lineno"> 8877</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08878" name="l08878"></a><span class="lineno"> 8878</span>            }</div>
<div class="line"><a id="l08879" name="l08879"></a><span class="lineno"> 8879</span>            <span class="keywordflow">if</span>( source_veh == target_veh ) {</div>
<div class="line"><a id="l08880" name="l08880"></a><span class="lineno"> 8880</span>                <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l08881" name="l08881"></a><span class="lineno"> 8881</span>                    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot set a vehicle to tow itself!&quot;</span> ) );</div>
<div class="line"><a id="l08882" name="l08882"></a><span class="lineno"> 8882</span>                }</div>
<div class="line"><a id="l08883" name="l08883"></a><span class="lineno"> 8883</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08884" name="l08884"></a><span class="lineno"> 8884</span>            }</div>
<div class="line"><a id="l08885" name="l08885"></a><span class="lineno"> 8885</span>            <span class="keywordflow">if</span>( !target_veh-&gt;<a class="code hl_function" href="classvehicle.html#adb993252c4c4131ced3d47e37ac0f811">is_external_part</a>( vpos ) ) {</div>
<div class="line"><a id="l08886" name="l08886"></a><span class="lineno"> 8886</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t attach the tow-line to an internal part.&quot;</span> ) );</div>
<div class="line"><a id="l08887" name="l08887"></a><span class="lineno"> 8887</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08888" name="l08888"></a><span class="lineno"> 8888</span>            }</div>
<div class="line"><a id="l08889" name="l08889"></a><span class="lineno"> 8889</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">vpart_id</a> vpid( it-&gt;typeId().str() );</div>
<div class="line"><a id="l08890" name="l08890"></a><span class="lineno"> 8890</span>            <a class="code hl_struct" href="structpoint.html">point</a> vcoords = source_vp-&gt;mount();</div>
<div class="line"><a id="l08891" name="l08891"></a><span class="lineno"> 8891</span>            <a class="code hl_struct" href="structvehicle__part.html">vehicle_part</a> source_part( vpid, vcoords, <a class="code hl_class" href="classitem.html">item</a>( *it ) );</div>
<div class="line"><a id="l08892" name="l08892"></a><span class="lineno"> 8892</span>            source_veh-&gt;<a class="code hl_function" href="classvehicle.html#a720bcd814432de09323f4ca1dfb2eade">install_part</a>( vcoords, source_part );</div>
<div class="line"><a id="l08893" name="l08893"></a><span class="lineno"> 8893</span>            vcoords = target_vp-&gt;mount();</div>
<div class="line"><a id="l08894" name="l08894"></a><span class="lineno"> 8894</span>            <a class="code hl_struct" href="structvehicle__part.html">vehicle_part</a> target_part( vpid, vcoords, <a class="code hl_class" href="classitem.html">item</a>( *it ) );</div>
<div class="line"><a id="l08895" name="l08895"></a><span class="lineno"> 8895</span>            target_veh-&gt;<a class="code hl_function" href="classvehicle.html#a720bcd814432de09323f4ca1dfb2eade">install_part</a>( vcoords, target_part );</div>
<div class="line"><a id="l08896" name="l08896"></a><span class="lineno"> 8896</span> </div>
<div class="line"><a id="l08897" name="l08897"></a><span class="lineno"> 8897</span>            <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l08898" name="l08898"></a><span class="lineno"> 8898</span>                p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You link up the %1$s and the %2$s.&quot;</span> ),</div>
<div class="line"><a id="l08899" name="l08899"></a><span class="lineno"> 8899</span>                                      source_veh-&gt;<a class="code hl_variable" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a>, target_veh-&gt;<a class="code hl_variable" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a id="l08900" name="l08900"></a><span class="lineno"> 8900</span>            }</div>
<div class="line"><a id="l08901" name="l08901"></a><span class="lineno"> 8901</span>            source_veh-&gt;<a class="code hl_variable" href="classvehicle.html#a72a3e7b7f00c193446b29adee5d5aa9f">tow_data</a>.<a class="code hl_function" href="classtowing__data.html#aa4ea9ef21627b1cc84ff74c62fa7ba64">set_towing</a>( source_veh, target_veh );</div>
<div class="line"><a id="l08902" name="l08902"></a><span class="lineno"> 8902</span>            <span class="keywordflow">return</span> 1; <span class="comment">// Let the cable be destroyed.</span></div>
<div class="line"><a id="l08903" name="l08903"></a><span class="lineno"> 8903</span>        }</div>
<div class="line"><a id="l08904" name="l08904"></a><span class="lineno"> 8904</span>    }</div>
<div class="line"><a id="l08905" name="l08905"></a><span class="lineno"> 8905</span> </div>
<div class="line"><a id="l08906" name="l08906"></a><span class="lineno"> 8906</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l08907" name="l08907"></a><span class="lineno"> 8907</span>}</div>
<div class="ttc" id="aclasstowing__data_html_aa4ea9ef21627b1cc84ff74c62fa7ba64"><div class="ttname"><a href="classtowing__data.html#aa4ea9ef21627b1cc84ff74c62fa7ba64">towing_data::set_towing</a></div><div class="ttdeci">bool set_towing(vehicle *tower_veh, vehicle *towed_veh)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05927">vehicle.cpp:5927</a></div></div>
<div class="ttc" id="aclassvehicle_html_a35d54e8a51e9571f03c0e192c70af09f"><div class="ttname"><a href="classvehicle.html#a35d54e8a51e9571f03c0e192c70af09f">vehicle::has_tow_attached</a></div><div class="ttdeci">bool has_tow_attached() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05889">vehicle.cpp:5889</a></div></div>
<div class="ttc" id="aclassvehicle_html_a40b149ccb2383cb1a263f3e3d88f3469"><div class="ttname"><a href="classvehicle.html#a40b149ccb2383cb1a263f3e3d88f3469">vehicle::is_towing</a></div><div class="ttdeci">bool is_towing() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05844">vehicle.cpp:5844</a></div></div>
<div class="ttc" id="aclassvehicle_html_a72a3e7b7f00c193446b29adee5d5aa9f"><div class="ttname"><a href="classvehicle.html#a72a3e7b7f00c193446b29adee5d5aa9f">vehicle::tow_data</a></div><div class="ttdeci">towing_data tow_data</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l01887">vehicle.h:1887</a></div></div>
<div class="ttc" id="aclassvehicle_html_ac24aba962fd53d1a87bf57b52ce40508"><div class="ttname"><a href="classvehicle.html#ac24aba962fd53d1a87bf57b52ce40508">vehicle::is_towed</a></div><div class="ttdeci">bool is_towed() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05859">vehicle.cpp:5859</a></div></div>
<div class="ttc" id="aclassvehicle_html_adb993252c4c4131ced3d47e37ac0f811"><div class="ttname"><a href="classvehicle.html#adb993252c4c4131ced3d47e37ac0f811">vehicle::is_external_part</a></div><div class="ttdeci">bool is_external_part(const tripoint &amp;part_pt) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05830">vehicle.cpp:5830</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="ui_8cpp_source.html#l00932">uilist::addentry()</a>, <a class="el" href="action_8cpp_source.html#l01009">choose_adjacent()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="vehicle_8cpp_source.html#l05889">vehicle::has_tow_attached()</a>, <a class="el" href="vehicle_8cpp_source.html#l01554">vehicle::install_part()</a>, <a class="el" href="vehicle_8cpp_source.html#l05830">vehicle::is_external_part()</a>, <a class="el" href="vehicle_8cpp_source.html#l05859">vehicle::is_towed()</a>, <a class="el" href="vehicle_8cpp_source.html#l05844">vehicle::is_towing()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="vehicle_8h_source.html#l01792">vehicle::name</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="item_8cpp_source.html#l09426">item::process()</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="vehicle_8cpp_source.html#l05927">towing_data::set_towing()</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, <a class="el" href="vehicle_8h_source.html#l01887">vehicle::tow_data</a>, <a class="el" href="vpart__position_8h_source.html#l00154">veh_pointer_or_null()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aa714299cbd68a62e2487f7fda3095a3e" name="aa714299cbd68a62e2487f7fda3095a3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa714299cbd68a62e2487f7fda3095a3e">&#9670;&nbsp;</a></span>towel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::towel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05566">5566</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05567" name="l05567"></a><span class="lineno"> 5567</span>{</div>
<div class="line"><a id="l05568" name="l05568"></a><span class="lineno"> 5568</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceiuse.html#a6cc5282019b1f6e24f9c91976a643427">towel_common</a>( p, it, t );</div>
<div class="line"><a id="l05569" name="l05569"></a><span class="lineno"> 5569</span>}</div>
<div class="ttc" id="anamespaceiuse_html_a6cc5282019b1f6e24f9c91976a643427"><div class="ttname"><a href="namespaceiuse.html#a6cc5282019b1f6e24f9c91976a643427">iuse::towel_common</a></div><div class="ttdeci">int towel_common(player *, item *, bool)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05571">iuse.cpp:5571</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l05571">towel_common()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a6cc5282019b1f6e24f9c91976a643427" name="a6cc5282019b1f6e24f9c91976a643427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc5282019b1f6e24f9c91976a643427">&#9670;&nbsp;</a></span>towel_common()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::towel_common </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05571">5571</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05572" name="l05572"></a><span class="lineno"> 5572</span>{</div>
<div class="line"><a id="l05573" name="l05573"></a><span class="lineno"> 5573</span>    <span class="keywordflow">if</span>( t ) {</div>
<div class="line"><a id="l05574" name="l05574"></a><span class="lineno"> 5574</span>        <span class="comment">// Continuous usage, do nothing as not initiated by the player, this is for</span></div>
<div class="line"><a id="l05575" name="l05575"></a><span class="lineno"> 5575</span>        <span class="comment">// wet towels only as they are active items.</span></div>
<div class="line"><a id="l05576" name="l05576"></a><span class="lineno"> 5576</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05577" name="l05577"></a><span class="lineno"> 5577</span>    }</div>
<div class="line"><a id="l05578" name="l05578"></a><span class="lineno"> 5578</span>    <span class="keywordtype">bool</span> slime = p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#af021f5736261db03cad28a0d64c9ec2b">effect_slimed</a> );</div>
<div class="line"><a id="l05579" name="l05579"></a><span class="lineno"> 5579</span>    <span class="keywordtype">bool</span> boom = p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a> );</div>
<div class="line"><a id="l05580" name="l05580"></a><span class="lineno"> 5580</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="namespacetrapfunc.html#a57eccd180e218b54329c4c014b5fe13c">glow</a> = p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a8f6887393d4085f03584ef53b2c63d2f">effect_glowing</a> );</div>
<div class="line"><a id="l05581" name="l05581"></a><span class="lineno"> 5581</span>    <span class="keywordtype">int</span> mult = slime + boom + <a class="code hl_function" href="namespacetrapfunc.html#a57eccd180e218b54329c4c014b5fe13c">glow</a>; <span class="comment">// cleaning off more than one at once makes it take longer</span></div>
<div class="line"><a id="l05582" name="l05582"></a><span class="lineno"> 5582</span>    <span class="keywordtype">bool</span> towelUsed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05583" name="l05583"></a><span class="lineno"> 5583</span>    <span class="keyword">const</span> std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = it ? it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;towel&quot;</span> );</div>
<div class="line"><a id="l05584" name="l05584"></a><span class="lineno"> 5584</span> </div>
<div class="line"><a id="l05585" name="l05585"></a><span class="lineno"> 5585</span>    <span class="comment">// can&#39;t use an already wet towel!</span></div>
<div class="line"><a id="l05586" name="l05586"></a><span class="lineno"> 5586</span>    <span class="keywordflow">if</span>( it &amp;&amp; it-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;WET&quot;</span> ) ) {</div>
<div class="line"><a id="l05587" name="l05587"></a><span class="lineno"> 5587</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That %s is too wet to soak up any more liquid!&quot;</span> ),</div>
<div class="line"><a id="l05588" name="l05588"></a><span class="lineno"> 5588</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05589" name="l05589"></a><span class="lineno"> 5589</span>        <span class="comment">// clean off the messes first, more important</span></div>
<div class="line"><a id="l05590" name="l05590"></a><span class="lineno"> 5590</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( slime || boom || <a class="code hl_function" href="namespacetrapfunc.html#a57eccd180e218b54329c4c014b5fe13c">glow</a> ) {</div>
<div class="line"><a id="l05591" name="l05591"></a><span class="lineno"> 5591</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#af021f5736261db03cad28a0d64c9ec2b">effect_slimed</a> ); <span class="comment">// able to clean off all at once</span></div>
<div class="line"><a id="l05592" name="l05592"></a><span class="lineno"> 5592</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a> );</div>
<div class="line"><a id="l05593" name="l05593"></a><span class="lineno"> 5593</span>        p-&gt;<a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a8f6887393d4085f03584ef53b2c63d2f">effect_glowing</a> );</div>
<div class="line"><a id="l05594" name="l05594"></a><span class="lineno"> 5594</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You use the %s to clean yourself off, saturating it with slime!&quot;</span> ),</div>
<div class="line"><a id="l05595" name="l05595"></a><span class="lineno"> 5595</span>                              <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l05596" name="l05596"></a><span class="lineno"> 5596</span> </div>
<div class="line"><a id="l05597" name="l05597"></a><span class="lineno"> 5597</span>        towelUsed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05598" name="l05598"></a><span class="lineno"> 5598</span>        <span class="keywordflow">if</span>( it &amp;&amp; it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#ad3c607806d47a97eff457cf43aefe736">itype_towel</a> ) {</div>
<div class="line"><a id="l05599" name="l05599"></a><span class="lineno"> 5599</span>            it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a637bcdb64af86e0962bba0315985f1db">itype_towel_soiled</a> );</div>
<div class="line"><a id="l05600" name="l05600"></a><span class="lineno"> 5600</span>        }</div>
<div class="line"><a id="l05601" name="l05601"></a><span class="lineno"> 5601</span> </div>
<div class="line"><a id="l05602" name="l05602"></a><span class="lineno"> 5602</span>        <span class="comment">// dry off from being wet</span></div>
<div class="line"><a id="l05603" name="l05603"></a><span class="lineno"> 5603</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a51a6b8e64f0e18cd2d0bbfcff2edae57">has_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a018806645e51c4a028ef6bdfe9440d19">MORALE_WET</a> ) ) {</div>
<div class="line"><a id="l05604" name="l05604"></a><span class="lineno"> 5604</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#ac55733961846b5c57183bd3b0fde9eae">rem_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a018806645e51c4a028ef6bdfe9440d19">MORALE_WET</a> );</div>
<div class="line"><a id="l05605" name="l05605"></a><span class="lineno"> 5605</span>        p-&gt;<a class="code hl_variable" href="classCharacter.html#a66520fe7648d455282596ead87701655">body_wetness</a>.fill( 0 );</div>
<div class="line"><a id="l05606" name="l05606"></a><span class="lineno"> 5606</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You use the %s to dry off, saturating it with water!&quot;</span> ),</div>
<div class="line"><a id="l05607" name="l05607"></a><span class="lineno"> 5607</span>                              <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l05608" name="l05608"></a><span class="lineno"> 5608</span> </div>
<div class="line"><a id="l05609" name="l05609"></a><span class="lineno"> 5609</span>        towelUsed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05610" name="l05610"></a><span class="lineno"> 5610</span>        <span class="keywordflow">if</span>( it ) {</div>
<div class="line"><a id="l05611" name="l05611"></a><span class="lineno"> 5611</span>            it-&gt;<a class="code hl_variable" href="classitem.html#ac5ff6ac1e7657b7b8525140669744a28">item_counter</a> = to_turns&lt;int&gt;( 30_minutes );</div>
<div class="line"><a id="l05612" name="l05612"></a><span class="lineno"> 5612</span>        }</div>
<div class="line"><a id="l05613" name="l05613"></a><span class="lineno"> 5613</span> </div>
<div class="line"><a id="l05614" name="l05614"></a><span class="lineno"> 5614</span>        <span class="comment">// default message</span></div>
<div class="line"><a id="l05615" name="l05615"></a><span class="lineno"> 5615</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05616" name="l05616"></a><span class="lineno"> 5616</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are already dry, the %s does nothing.&quot;</span> ), <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l05617" name="l05617"></a><span class="lineno"> 5617</span>    }</div>
<div class="line"><a id="l05618" name="l05618"></a><span class="lineno"> 5618</span> </div>
<div class="line"><a id="l05619" name="l05619"></a><span class="lineno"> 5619</span>    <span class="comment">// towel was used</span></div>
<div class="line"><a id="l05620" name="l05620"></a><span class="lineno"> 5620</span>    <span class="keywordflow">if</span>( towelUsed ) {</div>
<div class="line"><a id="l05621" name="l05621"></a><span class="lineno"> 5621</span>        <span class="keywordflow">if</span>( mult == 0 ) {</div>
<div class="line"><a id="l05622" name="l05622"></a><span class="lineno"> 5622</span>            mult = 1;</div>
<div class="line"><a id="l05623" name="l05623"></a><span class="lineno"> 5623</span>        }</div>
<div class="line"><a id="l05624" name="l05624"></a><span class="lineno"> 5624</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 50 * mult;</div>
<div class="line"><a id="l05625" name="l05625"></a><span class="lineno"> 5625</span>        <span class="keywordflow">if</span>( it ) {</div>
<div class="line"><a id="l05626" name="l05626"></a><span class="lineno"> 5626</span>            <span class="comment">// change &quot;towel&quot; to a &quot;towel_wet&quot; (different flavor text/color)</span></div>
<div class="line"><a id="l05627" name="l05627"></a><span class="lineno"> 5627</span>            <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#ad3c607806d47a97eff457cf43aefe736">itype_towel</a> ) {</div>
<div class="line"><a id="l05628" name="l05628"></a><span class="lineno"> 5628</span>                it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa79e3b5eebd78aa052b047842beb5572">itype_towel_wet</a> );</div>
<div class="line"><a id="l05629" name="l05629"></a><span class="lineno"> 5629</span>            }</div>
<div class="line"><a id="l05630" name="l05630"></a><span class="lineno"> 5630</span> </div>
<div class="line"><a id="l05631" name="l05631"></a><span class="lineno"> 5631</span>            <span class="comment">// WET, active items have their timer decremented every turn</span></div>
<div class="line"><a id="l05632" name="l05632"></a><span class="lineno"> 5632</span>            it-&gt;<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <span class="stringliteral">&quot;WET&quot;</span> );</div>
<div class="line"><a id="l05633" name="l05633"></a><span class="lineno"> 5633</span>            it-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05634" name="l05634"></a><span class="lineno"> 5634</span>        }</div>
<div class="line"><a id="l05635" name="l05635"></a><span class="lineno"> 5635</span>    }</div>
<div class="line"><a id="l05636" name="l05636"></a><span class="lineno"> 5636</span>    <span class="keywordflow">return</span> it ? it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>() : 0;</div>
<div class="line"><a id="l05637" name="l05637"></a><span class="lineno"> 5637</span>}</div>
<div class="ttc" id="aclassCharacter_html_a51a6b8e64f0e18cd2d0bbfcff2edae57"><div class="ttname"><a href="classCharacter.html#a51a6b8e64f0e18cd2d0bbfcff2edae57">Character::has_morale</a></div><div class="ttdeci">bool has_morale(const morale_type &amp;type) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09078">character.cpp:9078</a></div></div>
<div class="ttc" id="aclassCharacter_html_a66520fe7648d455282596ead87701655"><div class="ttname"><a href="classCharacter.html#a66520fe7648d455282596ead87701655">Character::body_wetness</a></div><div class="ttdeci">std::array&lt; int, num_bp &gt; body_wetness</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02272">character.h:2272</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac55733961846b5c57183bd3b0fde9eae"><div class="ttname"><a href="classCharacter.html#ac55733961846b5c57183bd3b0fde9eae">Character::rem_morale</a></div><div class="ttdeci">void rem_morale(const morale_type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09088">character.cpp:9088</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a637bcdb64af86e0962bba0315985f1db"><div class="ttname"><a href="iuse_8cpp.html#a637bcdb64af86e0962bba0315985f1db">itype_towel_soiled</a></div><div class="ttdeci">static const itype_id itype_towel_soiled(&quot;towel_soiled&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a8f6887393d4085f03584ef53b2c63d2f"><div class="ttname"><a href="iuse_8cpp.html#a8f6887393d4085f03584ef53b2c63d2f">effect_glowing</a></div><div class="ttdeci">static const efftype_id effect_glowing(&quot;glowing&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_aa79e3b5eebd78aa052b047842beb5572"><div class="ttname"><a href="iuse_8cpp.html#aa79e3b5eebd78aa052b047842beb5572">itype_towel_wet</a></div><div class="ttdeci">static const itype_id itype_towel_wet(&quot;towel_wet&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ad3c607806d47a97eff457cf43aefe736"><div class="ttname"><a href="iuse_8cpp.html#ad3c607806d47a97eff457cf43aefe736">itype_towel</a></div><div class="ttdeci">static const itype_id itype_towel(&quot;towel&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_af021f5736261db03cad28a0d64c9ec2b"><div class="ttname"><a href="iuse_8cpp.html#af021f5736261db03cad28a0d64c9ec2b">effect_slimed</a></div><div class="ttdeci">static const efftype_id effect_slimed(&quot;slimed&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a018806645e51c4a028ef6bdfe9440d19"><div class="ttname"><a href="morale__types_8cpp.html#a018806645e51c4a028ef6bdfe9440d19">MORALE_WET</a></div><div class="ttdeci">const morale_type MORALE_WET(&quot;morale_wet&quot;)</div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04051">overmap.cpp:4051</a></div></div>
<div class="ttc" id="anamespacetrapfunc_html_a57eccd180e218b54329c4c014b5fe13c"><div class="ttname"><a href="namespacetrapfunc.html#a57eccd180e218b54329c4c014b5fe13c">trapfunc::glow</a></div><div class="ttdeci">bool glow(const tripoint &amp;p, Creature *c, item *i)</div><div class="ttdef"><b>Definition:</b> <a href="trapfunc_8cpp_source.html#l01284">trapfunc.cpp:1284</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8h_source.html#l02272">Character::body_wetness</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="iuse_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a>, <a class="el" href="iuse_8cpp.html#a8f6887393d4085f03584ef53b2c63d2f">effect_glowing</a>, <a class="el" href="iuse_8cpp.html#af021f5736261db03cad28a0d64c9ec2b">effect_slimed</a>, <a class="el" href="trapfunc_8cpp_source.html#l01284">trapfunc::glow()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="character_8cpp_source.html#l09078">Character::has_morale()</a>, <a class="el" href="item_8h_source.html#l02204">item::item_counter</a>, <a class="el" href="iuse_8cpp.html#ad3c607806d47a97eff457cf43aefe736">itype_towel</a>, <a class="el" href="iuse_8cpp.html#a637bcdb64af86e0962bba0315985f1db">itype_towel_soiled</a>, <a class="el" href="iuse_8cpp.html#aa79e3b5eebd78aa052b047842beb5572">itype_towel_wet</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="morale__types_8cpp.html#a018806645e51c4a028ef6bdfe9440d19">MORALE_WET</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, <a class="el" href="character_8cpp_source.html#l09088">Character::rem_morale()</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="item_8cpp_source.html#l05221">item::set_flag()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle__use_8cpp_source.html#l01921">vehicle::interact_with()</a>, and <a class="el" href="iuse_8cpp_source.html#l05566">towel()</a>.</p>

</div>
</div>
<a id="aa99119c97dd4afb26a9ed0c0008c6491" name="aa99119c97dd4afb26a9ed0c0008c6491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa99119c97dd4afb26a9ed0c0008c6491">&#9670;&nbsp;</a></span>trimmer_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::trimmer_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03117">3117</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03118" name="l03118"></a><span class="lineno"> 3118</span>{</div>
<div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#ab84218a7a696ba0c25b8a593731fc7ee">toolweapon_off</a>( *p, *it,</div>
<div class="line"><a id="l03120" name="l03120"></a><span class="lineno"> 3120</span>                           <span class="keyword">false</span>,</div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span>                           <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 10 ) - it-&gt;<a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) &gt; 3,</div>
<div class="line"><a id="l03122" name="l03122"></a><span class="lineno"> 3122</span>                           15, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;With a roar, the hedge trimmer leaps to life!&quot;</span> ),</div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You yank the cord, but nothing happens.&quot;</span> ) );</div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l00698">item::damage_level()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, and <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a664125ee320f23c92c2bded4b241f8db" name="a664125ee320f23c92c2bded4b241f8db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a664125ee320f23c92c2bded4b241f8db">&#9670;&nbsp;</a></span>trimmer_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::trimmer_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l03213">3213</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03214" name="l03214"></a><span class="lineno"> 3214</span>{</div>
<div class="line"><a id="l03215" name="l03215"></a><span class="lineno"> 3215</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="iuse_8cpp.html#a74ac96156e1d05593ce2dc168d2fb37c">toolweapon_on</a>( *p, *it, t, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;hedge trimmer&quot;</span> ),</div>
<div class="line"><a id="l03216" name="l03216"></a><span class="lineno"> 3216</span>                          <span class="keyword">true</span>,</div>
<div class="line"><a id="l03217" name="l03217"></a><span class="lineno"> 3217</span>                          15, 10, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your hedge trimmer rumbles.&quot;</span> ) );</div>
<div class="line"><a id="l03218" name="l03218"></a><span class="lineno"> 3218</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="af14ea02c85a46c46323b35c4b4702a5f" name="af14ea02c85a46c46323b35c4b4702a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af14ea02c85a46c46323b35c4b4702a5f">&#9670;&nbsp;</a></span>unfold_generic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::unfold_generic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l05639">5639</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l05640" name="l05640"></a><span class="lineno"> 5640</span>{</div>
<div class="line"><a id="l05641" name="l05641"></a><span class="lineno"> 5641</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l05642" name="l05642"></a><span class="lineno"> 5642</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l05643" name="l05643"></a><span class="lineno"> 5643</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05644" name="l05644"></a><span class="lineno"> 5644</span>    }</div>
<div class="line"><a id="l05645" name="l05645"></a><span class="lineno"> 5645</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l05646" name="l05646"></a><span class="lineno"> 5646</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l05647" name="l05647"></a><span class="lineno"> 5647</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05648" name="l05648"></a><span class="lineno"> 5648</span>    }</div>
<div class="line"><a id="l05649" name="l05649"></a><span class="lineno"> 5649</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l05650" name="l05650"></a><span class="lineno"> 5650</span>    <a class="code hl_class" href="classvehicle.html">vehicle</a> *veh = here.<a class="code hl_function" href="classmap.html#ae66fa55ab500d718db02445344a2ae8e">add_vehicle</a>( <a class="code hl_typedef" href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a>( <span class="stringliteral">&quot;none&quot;</span> ), p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 0_degrees, 0, 0, <span class="keyword">false</span> );</div>
<div class="line"><a id="l05651" name="l05651"></a><span class="lineno"> 5651</span>    <span class="keywordflow">if</span>( veh == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l05652" name="l05652"></a><span class="lineno"> 5652</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s no room to unfold the %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05653" name="l05653"></a><span class="lineno"> 5653</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05654" name="l05654"></a><span class="lineno"> 5654</span>    }</div>
<div class="line"><a id="l05655" name="l05655"></a><span class="lineno"> 5655</span>    veh-&gt;<a class="code hl_variable" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;vehicle_name&quot;</span> );</div>
<div class="line"><a id="l05656" name="l05656"></a><span class="lineno"> 5656</span>    <span class="keywordflow">if</span>( !veh-&gt;<a class="code hl_function" href="classvehicle.html#abfc3934d35e8ba27600500d0e48f0d4d">restore</a>( it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;folding_bicycle_parts&quot;</span> ) ) ) {</div>
<div class="line"><a id="l05657" name="l05657"></a><span class="lineno"> 5657</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.destroy_vehicle( veh );</div>
<div class="line"><a id="l05658" name="l05658"></a><span class="lineno"> 5658</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05659" name="l05659"></a><span class="lineno"> 5659</span>    }</div>
<div class="line"><a id="l05660" name="l05660"></a><span class="lineno"> 5660</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_float = <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a>( veh-&gt;<a class="code hl_function" href="classvehicle.html#a1b64eabc86039e338bf054c96f5a26ff">get_avail_parts</a>( <span class="stringliteral">&quot;FLOATS&quot;</span> ) ) &gt; 2;</div>
<div class="line"><a id="l05661" name="l05661"></a><span class="lineno"> 5661</span> </div>
<div class="line"><a id="l05662" name="l05662"></a><span class="lineno"> 5662</span>    <span class="keyword">const</span> <span class="keyword">auto</span> invalid_pos = []( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; pp, <span class="keywordtype">bool</span> can_float ) {</div>
<div class="line"><a id="l05663" name="l05663"></a><span class="lineno"> 5663</span>        <span class="keywordflow">return</span> ( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag_ter( <a class="code hl_enumvalue" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258aeb9fcbd752ad2c632ccc4383c5641b69">TFLAG_DEEP_WATER</a>, pp ) &amp;&amp; !can_float ) ||</div>
<div class="line"><a id="l05664" name="l05664"></a><span class="lineno"> 5664</span>               <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( pp ) || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.impassable( pp );</div>
<div class="line"><a id="l05665" name="l05665"></a><span class="lineno"> 5665</span>    };</div>
<div class="line"><a id="l05666" name="l05666"></a><span class="lineno"> 5666</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classvpart__reference.html">vpart_reference</a> &amp;vp : veh-&gt;<a class="code hl_function" href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">get_all_parts</a>() ) {</div>
<div class="line"><a id="l05667" name="l05667"></a><span class="lineno"> 5667</span>        <span class="keywordflow">if</span>( vp.info().location != <span class="stringliteral">&quot;structure&quot;</span> ) {</div>
<div class="line"><a id="l05668" name="l05668"></a><span class="lineno"> 5668</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05669" name="l05669"></a><span class="lineno"> 5669</span>        }</div>
<div class="line"><a id="l05670" name="l05670"></a><span class="lineno"> 5670</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> pp = vp.pos();</div>
<div class="line"><a id="l05671" name="l05671"></a><span class="lineno"> 5671</span>        <span class="keywordflow">if</span>( invalid_pos( pp, can_float ) ) {</div>
<div class="line"><a id="l05672" name="l05672"></a><span class="lineno"> 5672</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s no room to unfold the %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l05673" name="l05673"></a><span class="lineno"> 5673</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.destroy_vehicle( veh );</div>
<div class="line"><a id="l05674" name="l05674"></a><span class="lineno"> 5674</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05675" name="l05675"></a><span class="lineno"> 5675</span>        }</div>
<div class="line"><a id="l05676" name="l05676"></a><span class="lineno"> 5676</span>    }</div>
<div class="line"><a id="l05677" name="l05677"></a><span class="lineno"> 5677</span> </div>
<div class="line"><a id="l05678" name="l05678"></a><span class="lineno"> 5678</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_vehicle_to_cache( veh );</div>
<div class="line"><a id="l05679" name="l05679"></a><span class="lineno"> 5679</span> </div>
<div class="line"><a id="l05680" name="l05680"></a><span class="lineno"> 5680</span>    std::string unfold_msg = it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;unfold_msg&quot;</span> );</div>
<div class="line"><a id="l05681" name="l05681"></a><span class="lineno"> 5681</span>    <span class="keywordflow">if</span>( unfold_msg.empty() ) {</div>
<div class="line"><a id="l05682" name="l05682"></a><span class="lineno"> 5682</span>        unfold_msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You painstakingly unfold the %s and make it ready to ride.&quot;</span> );</div>
<div class="line"><a id="l05683" name="l05683"></a><span class="lineno"> 5683</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l05684" name="l05684"></a><span class="lineno"> 5684</span>        unfold_msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( unfold_msg );</div>
<div class="line"><a id="l05685" name="l05685"></a><span class="lineno"> 5685</span>    }</div>
<div class="line"><a id="l05686" name="l05686"></a><span class="lineno"> 5686</span>    veh-&gt;<a class="code hl_function" href="classvehicle.html#ae57a59ca3ca669ce217f98094101b2ef">set_owner</a>( *p );</div>
<div class="line"><a id="l05687" name="l05687"></a><span class="lineno"> 5687</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, unfold_msg, veh-&gt;<a class="code hl_variable" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> );</div>
<div class="line"><a id="l05688" name="l05688"></a><span class="lineno"> 5688</span> </div>
<div class="line"><a id="l05689" name="l05689"></a><span class="lineno"> 5689</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= it-&gt;<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;moves&quot;</span>, to_turns&lt;int&gt;( 5_seconds ) );</div>
<div class="line"><a id="l05690" name="l05690"></a><span class="lineno"> 5690</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l05691" name="l05691"></a><span class="lineno"> 5691</span>}</div>
<div class="ttc" id="aclassmap_html_ae66fa55ab500d718db02445344a2ae8e"><div class="ttname"><a href="classmap.html#ae66fa55ab500d718db02445344a2ae8e">map::add_vehicle</a></div><div class="ttdeci">vehicle * add_vehicle(const vgroup_id &amp;type, const tripoint &amp;p, units::angle dir, int init_veh_fuel=-1, int init_veh_status=-1, bool merge_wrecks=true)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05600">mapgen.cpp:5600</a></div></div>
<div class="ttc" id="aclassvehicle_html_a397b40aa92dd1fd09ee592aa279bc656"><div class="ttname"><a href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">vehicle::get_all_parts</a></div><div class="ttdeci">vehicle_part_range get_all_parts() const</div><div class="ttdoc">Yields a range containing all parts (including broken ones) that can be iterated over.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l06882">vehicle.cpp:6882</a></div></div>
<div class="ttc" id="aclassvehicle_html_abfc3934d35e8ba27600500d0e48f0d4d"><div class="ttname"><a href="classvehicle.html#abfc3934d35e8ba27600500d0e48f0d4d">vehicle::restore</a></div><div class="ttdeci">bool restore(const std::string &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l06547">vehicle.cpp:6547</a></div></div>
<div class="ttc" id="aclassvehicle_html_ae57a59ca3ca669ce217f98094101b2ef"><div class="ttname"><a href="classvehicle.html#ae57a59ca3ca669ce217f98094101b2ef">vehicle::set_owner</a></div><div class="ttdeci">void set_owner(const faction_id &amp;new_owner)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00823">vehicle.h:823</a></div></div>
<div class="ttc" id="aclassvpart__reference_html"><div class="ttname"><a href="classvpart__reference.html">vpart_reference</a></div><div class="ttdoc">This is a wrapper over a vehicle pointer and a reference to a part of it.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00124">vpart_position.h:125</a></div></div>
<div class="ttc" id="amapdata_8h_html_aa04d037303ea30193f7cf0cd82304258aeb9fcbd752ad2c632ccc4383c5641b69"><div class="ttname"><a href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258aeb9fcbd752ad2c632ccc4383c5641b69">TFLAG_DEEP_WATER</a></div><div class="ttdeci">@ TFLAG_DEEP_WATER</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00301">mapdata.h:301</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_af97f9dbddaa758278662da3478826c61"><div class="ttname"><a href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">om_direction::size</a></div><div class="ttdeci">const size_t size</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00062">omdata.h:62</a></div></div>
<div class="ttc" id="atype__id_8h_html_a64efc8ab51816a59711440d464136eda"><div class="ttname"><a href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a></div><div class="ttdeci">string_id&lt; vehicle_prototype &gt; vproto_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00170">type_id.h:170</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="mapgen_8cpp_source.html#l05600">map::add_vehicle()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="vehicle_8cpp_source.html#l06882">vehicle::get_all_parts()</a>, <a class="el" href="vehicle_8cpp_source.html#l02678">vehicle::get_avail_parts()</a>, <a class="el" href="map_8cpp_source.html#l00141">get_map()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="vehicle_8h_source.html#l01792">vehicle::name</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="vehicle_8cpp_source.html#l06547">vehicle::restore()</a>, <a class="el" href="vehicle_8h_source.html#l00823">vehicle::set_owner()</a>, <a class="el" href="omdata_8h_source.html#l00062">om_direction::size</a>, <a class="el" href="mapdata_8h_source.html#l00301">TFLAG_DEEP_WATER</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a07ece949cc39ee555a5475d2dd8b25cb" name="a07ece949cc39ee555a5475d2dd8b25cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ece949cc39ee555a5475d2dd8b25cb">&#9670;&nbsp;</a></span>unpack_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::unpack_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02022">2022</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>{</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>    }</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>    std::string oname = it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() + <span class="stringliteral">&quot;_on&quot;</span>;</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 10_seconds );</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You unpack your %s for use.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>    it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( oname ) ).<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a7dcdbc04a40e253621e4e131cdb731ff" name="a7dcdbc04a40e253621e4e131cdb731ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dcdbc04a40e253621e4e131cdb731ff">&#9670;&nbsp;</a></span>vaccine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::vaccine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00852">852</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>{</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You inject the vaccine.&quot;</span> ) );</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel tough.&quot;</span> ) );</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">mod_healthy_mod</a>( 200, 200 );</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( 3 );</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    <a class="code hl_class" href="classitem.html">item</a> syringe( <span class="stringliteral">&quot;syringe&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>() );</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( syringe );</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l09853">item::birthday()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="character_8cpp_source.html#l04242">Character::mod_healthy_mod()</a>, <a class="el" href="player_8cpp_source.html#l01092">player::mod_pain()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="aa729b58c9beb6d8f34c626a6e81c8c79" name="aa729b58c9beb6d8f34c626a6e81c8c79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa729b58c9beb6d8f34c626a6e81c8c79">&#9670;&nbsp;</a></span>vibe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::vibe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04500">4500</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04501" name="l04501"></a><span class="lineno"> 4501</span>{</div>
<div class="line"><a id="l04502" name="l04502"></a><span class="lineno"> 4502</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l04503" name="l04503"></a><span class="lineno"> 4503</span>        <span class="comment">// Long action</span></div>
<div class="line"><a id="l04504" name="l04504"></a><span class="lineno"> 4504</span>        <span class="comment">// Also, that would be creepy as fuck, seriously</span></div>
<div class="line"><a id="l04505" name="l04505"></a><span class="lineno"> 4505</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04506" name="l04506"></a><span class="lineno"> 4506</span>    }</div>
<div class="line"><a id="l04507" name="l04507"></a><span class="lineno"> 4507</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04508" name="l04508"></a><span class="lineno"> 4508</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do… that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l04509" name="l04509"></a><span class="lineno"> 4509</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04510" name="l04510"></a><span class="lineno"> 4510</span>    }</div>
<div class="line"><a id="l04511" name="l04511"></a><span class="lineno"> 4511</span>    <span class="keywordflow">if</span>( ( p-&gt;<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) &amp;&amp; ( !( ( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#ae80efa3a14d1c8e9eed25359959541c4">trait_GILLS</a> ) ) ||</div>
<div class="line"><a id="l04512" name="l04512"></a><span class="lineno"> 4512</span>                                       ( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a84f89fd3edc82ba949b825c092019fa1">trait_GILLS_CEPH</a> ) ) ||</div>
<div class="line"><a id="l04513" name="l04513"></a><span class="lineno"> 4513</span>                                       ( p-&gt;<a class="code hl_function" href="classCharacter.html#a6028587ccee9855c6ba900042188eec3">is_wearing</a>( <a class="code hl_variable" href="iuse_8cpp.html#a96eaa8c9ac5b1f1874144304ef2e6034">itype_rebreather_on</a> ) ) ||</div>
<div class="line"><a id="l04514" name="l04514"></a><span class="lineno"> 4514</span>                                       ( p-&gt;<a class="code hl_function" href="classCharacter.html#a6028587ccee9855c6ba900042188eec3">is_wearing</a>( <a class="code hl_variable" href="iuse_8cpp.html#a5f845a454ca1968b830b6092fa77fb1a">itype_rebreather_xl_on</a> ) ) ||</div>
<div class="line"><a id="l04515" name="l04515"></a><span class="lineno"> 4515</span>                                       ( p-&gt;<a class="code hl_function" href="classCharacter.html#a6028587ccee9855c6ba900042188eec3">is_wearing</a>( <a class="code hl_variable" href="iuse_8cpp.html#aa80469e8b89e0c120ebc640ba213f3ca">itype_mask_h20survivor_on</a> ) ) ) ) ) {</div>
<div class="line"><a id="l04516" name="l04516"></a><span class="lineno"> 4516</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s waterproof, but oxygen maybe?&quot;</span> ) );</div>
<div class="line"><a id="l04517" name="l04517"></a><span class="lineno"> 4517</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04518" name="l04518"></a><span class="lineno"> 4518</span>    }</div>
<div class="line"><a id="l04519" name="l04519"></a><span class="lineno"> 4519</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p ) ) {</div>
<div class="line"><a id="l04520" name="l04520"></a><span class="lineno"> 4520</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s&#39;s batteries are dead.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04521" name="l04521"></a><span class="lineno"> 4521</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04522" name="l04522"></a><span class="lineno"> 4522</span>    }</div>
<div class="line"><a id="l04523" name="l04523"></a><span class="lineno"> 4523</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &gt;= <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">fatigue_levels::dead_tired</a> ) {</div>
<div class="line"><a id="l04524" name="l04524"></a><span class="lineno"> 4524</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;*Your* batteries are dead.&quot;</span> ) );</div>
<div class="line"><a id="l04525" name="l04525"></a><span class="lineno"> 4525</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04526" name="l04526"></a><span class="lineno"> 4526</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04527" name="l04527"></a><span class="lineno"> 4527</span>        <span class="keywordtype">int</span> moves = to_moves&lt;int&gt;( 20_minutes );</div>
<div class="line"><a id="l04528" name="l04528"></a><span class="lineno"> 4528</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt; 0 ) {</div>
<div class="line"><a id="l04529" name="l04529"></a><span class="lineno"> 4529</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You fire up your %s and start getting the tension out.&quot;</span> ),</div>
<div class="line"><a id="l04530" name="l04530"></a><span class="lineno"> 4530</span>                                  it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04531" name="l04531"></a><span class="lineno"> 4531</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04532" name="l04532"></a><span class="lineno"> 4532</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You whip out your %s and start getting the tension out.&quot;</span> ),</div>
<div class="line"><a id="l04533" name="l04533"></a><span class="lineno"> 4533</span>                                  it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l04534" name="l04534"></a><span class="lineno"> 4534</span>        }</div>
<div class="line"><a id="l04535" name="l04535"></a><span class="lineno"> 4535</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse_8cpp.html#acb4abc5eb29a421c42368040e27a6520">ACT_VIBE</a>, moves, -1, 0, <span class="stringliteral">&quot;de-stressing&quot;</span> );</div>
<div class="line"><a id="l04536" name="l04536"></a><span class="lineno"> 4536</span>        p-&gt;<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( *p, it ) );</div>
<div class="line"><a id="l04537" name="l04537"></a><span class="lineno"> 4537</span>    }</div>
<div class="line"><a id="l04538" name="l04538"></a><span class="lineno"> 4538</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04539" name="l04539"></a><span class="lineno"> 4539</span>}</div>
<div class="ttc" id="aclassCharacter_html_a6028587ccee9855c6ba900042188eec3"><div class="ttname"><a href="classCharacter.html#a6028587ccee9855c6ba900042188eec3">Character::is_wearing</a></div><div class="ttdeci">bool is_wearing(const itype_id &amp;it) const</div><div class="ttdoc">Returns true if the player is wearing the item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03221">character.cpp:3221</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a5f845a454ca1968b830b6092fa77fb1a"><div class="ttname"><a href="iuse_8cpp.html#a5f845a454ca1968b830b6092fa77fb1a">itype_rebreather_xl_on</a></div><div class="ttdeci">static const itype_id itype_rebreather_xl_on(&quot;rebreather_xl_on&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a84f89fd3edc82ba949b825c092019fa1"><div class="ttname"><a href="iuse_8cpp.html#a84f89fd3edc82ba949b825c092019fa1">trait_GILLS_CEPH</a></div><div class="ttdeci">static const trait_id trait_GILLS_CEPH(&quot;GILLS_CEPH&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a96eaa8c9ac5b1f1874144304ef2e6034"><div class="ttname"><a href="iuse_8cpp.html#a96eaa8c9ac5b1f1874144304ef2e6034">itype_rebreather_on</a></div><div class="ttdeci">static const itype_id itype_rebreather_on(&quot;rebreather_on&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_aa80469e8b89e0c120ebc640ba213f3ca"><div class="ttname"><a href="iuse_8cpp.html#aa80469e8b89e0c120ebc640ba213f3ca">itype_mask_h20survivor_on</a></div><div class="ttdeci">static const itype_id itype_mask_h20survivor_on(&quot;mask_h20survivor_on&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_acb4abc5eb29a421c42368040e27a6520"><div class="ttname"><a href="iuse_8cpp.html#acb4abc5eb29a421c42368040e27a6520">ACT_VIBE</a></div><div class="ttdeci">static const activity_id ACT_VIBE(&quot;ACT_VIBE&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ae80efa3a14d1c8e9eed25359959541c4"><div class="ttname"><a href="iuse_8cpp.html#ae80efa3a14d1c8e9eed25359959541c4">trait_GILLS</a></div><div class="ttdeci">static const trait_id trait_GILLS(&quot;GILLS&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse_8cpp.html#acb4abc5eb29a421c42368040e27a6520">ACT_VIBE</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">dead_tired</a>, <a class="el" href="character_8cpp_source.html#l04439">Character::get_fatigue()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="character_8cpp_source.html#l03221">Character::is_wearing()</a>, <a class="el" href="iuse_8cpp.html#aa80469e8b89e0c120ebc640ba213f3ca">itype_mask_h20survivor_on</a>, <a class="el" href="iuse_8cpp.html#a96eaa8c9ac5b1f1874144304ef2e6034">itype_rebreather_on</a>, <a class="el" href="iuse_8cpp.html#a5f845a454ca1968b830b6092fa77fb1a">itype_rebreather_xl_on</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="iuse_8cpp.html#ae80efa3a14d1c8e9eed25359959541c4">trait_GILLS</a>, <a class="el" href="iuse_8cpp.html#a84f89fd3edc82ba949b825c092019fa1">trait_GILLS_CEPH</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a29ce35e5e1cfa3e2a9efeb389f8e38b2" name="a29ce35e5e1cfa3e2a9efeb389f8e38b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29ce35e5e1cfa3e2a9efeb389f8e38b2">&#9670;&nbsp;</a></span>vortex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::vortex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l04541">4541</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04542" name="l04542"></a><span class="lineno"> 4542</span>{</div>
<div class="line"><a id="l04543" name="l04543"></a><span class="lineno"> 4543</span>    std::vector&lt;point&gt; spawn;</div>
<div class="line"><a id="l04544" name="l04544"></a><span class="lineno"> 4544</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = -3; i &lt;= 3; i++ ) {</div>
<div class="line"><a id="l04545" name="l04545"></a><span class="lineno"> 4545</span>        spawn.emplace_back( -3, i );</div>
<div class="line"><a id="l04546" name="l04546"></a><span class="lineno"> 4546</span>        spawn.emplace_back( +3, i );</div>
<div class="line"><a id="l04547" name="l04547"></a><span class="lineno"> 4547</span>        spawn.emplace_back( i, -3 );</div>
<div class="line"><a id="l04548" name="l04548"></a><span class="lineno"> 4548</span>        spawn.emplace_back( i, +3 );</div>
<div class="line"><a id="l04549" name="l04549"></a><span class="lineno"> 4549</span>    }</div>
<div class="line"><a id="l04550" name="l04550"></a><span class="lineno"> 4550</span> </div>
<div class="line"><a id="l04551" name="l04551"></a><span class="lineno"> 4551</span>    <span class="keywordflow">while</span>( !spawn.empty() ) {</div>
<div class="line"><a id="l04552" name="l04552"></a><span class="lineno"> 4552</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> offset( <a class="code hl_function" href="rng_8h.html#ac634f688b3c7864ab6992939ac7b0a6e">random_entry_removed</a>( spawn ), 0 );</div>
<div class="line"><a id="l04553" name="l04553"></a><span class="lineno"> 4553</span>        <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( <a class="code hl_variable" href="iuse_8cpp.html#a7d00b54295a4fca7c788987dc4cd966c">mon_vortex</a>, offset + p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l04554" name="l04554"></a><span class="lineno"> 4554</span>        <span class="keywordflow">if</span>( !mon ) {</div>
<div class="line"><a id="l04555" name="l04555"></a><span class="lineno"> 4555</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l04556" name="l04556"></a><span class="lineno"> 4556</span>        }</div>
<div class="line"><a id="l04557" name="l04557"></a><span class="lineno"> 4557</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Air swirls all over…&quot;</span> ) );</div>
<div class="line"><a id="l04558" name="l04558"></a><span class="lineno"> 4558</span>        p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 1_seconds );</div>
<div class="line"><a id="l04559" name="l04559"></a><span class="lineno"> 4559</span>        it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a6bdc54cb8bf92849c73b5f6e87fb4a29">itype_spiral_stone</a> );</div>
<div class="line"><a id="l04560" name="l04560"></a><span class="lineno"> 4560</span>        mon-&gt;<a class="code hl_variable" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = -1;</div>
<div class="line"><a id="l04561" name="l04561"></a><span class="lineno"> 4561</span>        <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04562" name="l04562"></a><span class="lineno"> 4562</span>    }</div>
<div class="line"><a id="l04563" name="l04563"></a><span class="lineno"> 4563</span> </div>
<div class="line"><a id="l04564" name="l04564"></a><span class="lineno"> 4564</span>    <span class="comment">// Only reachable when no monster has been spawned.</span></div>
<div class="line"><a id="l04565" name="l04565"></a><span class="lineno"> 4565</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Air swirls around you for a moment.&quot;</span> ) );</div>
<div class="line"><a id="l04566" name="l04566"></a><span class="lineno"> 4566</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a6bdc54cb8bf92849c73b5f6e87fb4a29">itype_spiral_stone</a> ).<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l04567" name="l04567"></a><span class="lineno"> 4567</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a6bdc54cb8bf92849c73b5f6e87fb4a29"><div class="ttname"><a href="iuse_8cpp.html#a6bdc54cb8bf92849c73b5f6e87fb4a29">itype_spiral_stone</a></div><div class="ttdeci">static const itype_id itype_spiral_stone(&quot;spiral_stone&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_a7d00b54295a4fca7c788987dc4cd966c"><div class="ttname"><a href="iuse_8cpp.html#a7d00b54295a4fca7c788987dc4cd966c">mon_vortex</a></div><div class="ttdeci">static const mtype_id mon_vortex(&quot;mon_vortex&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="monster_8h_source.html#l00471">monster::friendly</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="iuse_8cpp.html#a6bdc54cb8bf92849c73b5f6e87fb4a29">itype_spiral_stone</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="iuse_8cpp.html#a7d00b54295a4fca7c788987dc4cd966c">mon_vortex</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="rng_8h_source.html#l00170">random_entry_removed()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a4a8ae9469156e13ca227dfa4f1e2c5eb" name="a4a8ae9469156e13ca227dfa4f1e2c5eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a8ae9469156e13ca227dfa4f1e2c5eb">&#9670;&nbsp;</a></span>wash_all_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::wash_all_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09524">9524</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09525" name="l09525"></a><span class="lineno"> 9525</span>{</div>
<div class="line"><a id="l09526" name="l09526"></a><span class="lineno"> 9526</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a679df6703c948c0fffa835885a857f42">fine_detail_vision_mod</a>() &gt; 4 ) {</div>
<div class="line"><a id="l09527" name="l09527"></a><span class="lineno"> 9527</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t see to do that!&quot;</span> ) );</div>
<div class="line"><a id="l09528" name="l09528"></a><span class="lineno"> 9528</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09529" name="l09529"></a><span class="lineno"> 9529</span>    }</div>
<div class="line"><a id="l09530" name="l09530"></a><span class="lineno"> 9530</span> </div>
<div class="line"><a id="l09531" name="l09531"></a><span class="lineno"> 9531</span>    <span class="comment">// Check that player isn&#39;t over volume limit as this might cause it to break... this is a hack.</span></div>
<div class="line"><a id="l09532" name="l09532"></a><span class="lineno"> 9532</span>    <span class="comment">// TODO: find a better solution.</span></div>
<div class="line"><a id="l09533" name="l09533"></a><span class="lineno"> 9533</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">volume_capacity</a>() &lt; p-&gt;<a class="code hl_function" href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">volume_carried</a>() ) {</div>
<div class="line"><a id="l09534" name="l09534"></a><span class="lineno"> 9534</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re carrying too much to clean anything.&quot;</span> ) );</div>
<div class="line"><a id="l09535" name="l09535"></a><span class="lineno"> 9535</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09536" name="l09536"></a><span class="lineno"> 9536</span>    }</div>
<div class="line"><a id="l09537" name="l09537"></a><span class="lineno"> 9537</span> </div>
<div class="line"><a id="l09538" name="l09538"></a><span class="lineno"> 9538</span>    <a class="code hl_function" href="iuse_8cpp.html#af5ffb85b034a5ec049fcc464d2240a8a">wash_items</a>( p, <span class="keyword">true</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l09539" name="l09539"></a><span class="lineno"> 9539</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09540" name="l09540"></a><span class="lineno"> 9540</span>}</div>
<div class="ttc" id="aclassCharacter_html_a4f0f412e4bec8d107de42bd34f1fa441"><div class="ttname"><a href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">Character::volume_capacity</a></div><div class="ttdeci">units::volume volume_capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02832">character.cpp:2832</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab3a5a1cd76002a3e9903b7e09b77bb3f"><div class="ttname"><a href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">Character::volume_carried</a></div><div class="ttdeci">units::volume volume_carried() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02705">character.cpp:2705</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_af5ffb85b034a5ec049fcc464d2240a8a"><div class="ttname"><a href="iuse_8cpp.html#af5ffb85b034a5ec049fcc464d2240a8a">wash_items</a></div><div class="ttdeci">static int wash_items(player *p, bool soft_items, bool hard_items)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09542">iuse.cpp:9542</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l03983">player::fine_detail_vision_mod()</a>, <a class="el" href="character_8cpp_source.html#l02832">Character::volume_capacity()</a>, <a class="el" href="character_8cpp_source.html#l02705">Character::volume_carried()</a>, and <a class="el" href="iuse_8cpp_source.html#l09542">wash_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ada4d2575fb6b27538bc74b94f116943f" name="ada4d2575fb6b27538bc74b94f116943f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada4d2575fb6b27538bc74b94f116943f">&#9670;&nbsp;</a></span>wash_hard_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::wash_hard_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09503">9503</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09504" name="l09504"></a><span class="lineno"> 9504</span>{</div>
<div class="line"><a id="l09505" name="l09505"></a><span class="lineno"> 9505</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a679df6703c948c0fffa835885a857f42">fine_detail_vision_mod</a>() &gt; 4 ) {</div>
<div class="line"><a id="l09506" name="l09506"></a><span class="lineno"> 9506</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t see to do that!&quot;</span> ) );</div>
<div class="line"><a id="l09507" name="l09507"></a><span class="lineno"> 9507</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09508" name="l09508"></a><span class="lineno"> 9508</span>    }</div>
<div class="line"><a id="l09509" name="l09509"></a><span class="lineno"> 9509</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l09510" name="l09510"></a><span class="lineno"> 9510</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l09511" name="l09511"></a><span class="lineno"> 9511</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09512" name="l09512"></a><span class="lineno"> 9512</span>    }</div>
<div class="line"><a id="l09513" name="l09513"></a><span class="lineno"> 9513</span>    <span class="comment">// Check that player isn&#39;t over volume limit as this might cause it to break... this is a hack.</span></div>
<div class="line"><a id="l09514" name="l09514"></a><span class="lineno"> 9514</span>    <span class="comment">// TODO: find a better solution.</span></div>
<div class="line"><a id="l09515" name="l09515"></a><span class="lineno"> 9515</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">volume_capacity</a>() &lt; p-&gt;<a class="code hl_function" href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">volume_carried</a>() ) {</div>
<div class="line"><a id="l09516" name="l09516"></a><span class="lineno"> 9516</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re carrying too much to clean anything.&quot;</span> ) );</div>
<div class="line"><a id="l09517" name="l09517"></a><span class="lineno"> 9517</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09518" name="l09518"></a><span class="lineno"> 9518</span>    }</div>
<div class="line"><a id="l09519" name="l09519"></a><span class="lineno"> 9519</span> </div>
<div class="line"><a id="l09520" name="l09520"></a><span class="lineno"> 9520</span>    <a class="code hl_function" href="iuse_8cpp.html#af5ffb85b034a5ec049fcc464d2240a8a">wash_items</a>( p, <span class="keyword">false</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l09521" name="l09521"></a><span class="lineno"> 9521</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09522" name="l09522"></a><span class="lineno"> 9522</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l03983">player::fine_detail_vision_mod()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8cpp_source.html#l02832">Character::volume_capacity()</a>, <a class="el" href="character_8cpp_source.html#l02705">Character::volume_carried()</a>, and <a class="el" href="iuse_8cpp_source.html#l09542">wash_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a385737dae1ad9a403ea7946dea63a601" name="a385737dae1ad9a403ea7946dea63a601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a385737dae1ad9a403ea7946dea63a601">&#9670;&nbsp;</a></span>wash_soft_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::wash_soft_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09482">9482</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09483" name="l09483"></a><span class="lineno"> 9483</span>{</div>
<div class="line"><a id="l09484" name="l09484"></a><span class="lineno"> 9484</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classplayer.html#a679df6703c948c0fffa835885a857f42">fine_detail_vision_mod</a>() &gt; 4 ) {</div>
<div class="line"><a id="l09485" name="l09485"></a><span class="lineno"> 9485</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t see to do that!&quot;</span> ) );</div>
<div class="line"><a id="l09486" name="l09486"></a><span class="lineno"> 9486</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09487" name="l09487"></a><span class="lineno"> 9487</span>    }</div>
<div class="line"><a id="l09488" name="l09488"></a><span class="lineno"> 9488</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l09489" name="l09489"></a><span class="lineno"> 9489</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l09490" name="l09490"></a><span class="lineno"> 9490</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09491" name="l09491"></a><span class="lineno"> 9491</span>    }</div>
<div class="line"><a id="l09492" name="l09492"></a><span class="lineno"> 9492</span>    <span class="comment">// Check that player isn&#39;t over volume limit as this might cause it to break... this is a hack.</span></div>
<div class="line"><a id="l09493" name="l09493"></a><span class="lineno"> 9493</span>    <span class="comment">// TODO: find a better solution.</span></div>
<div class="line"><a id="l09494" name="l09494"></a><span class="lineno"> 9494</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">volume_capacity</a>() &lt; p-&gt;<a class="code hl_function" href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">volume_carried</a>() ) {</div>
<div class="line"><a id="l09495" name="l09495"></a><span class="lineno"> 9495</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re carrying too much to clean anything.&quot;</span> ) );</div>
<div class="line"><a id="l09496" name="l09496"></a><span class="lineno"> 9496</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09497" name="l09497"></a><span class="lineno"> 9497</span>    }</div>
<div class="line"><a id="l09498" name="l09498"></a><span class="lineno"> 9498</span> </div>
<div class="line"><a id="l09499" name="l09499"></a><span class="lineno"> 9499</span>    <a class="code hl_function" href="iuse_8cpp.html#af5ffb85b034a5ec049fcc464d2240a8a">wash_items</a>( p, <span class="keyword">true</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l09500" name="l09500"></a><span class="lineno"> 9500</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09501" name="l09501"></a><span class="lineno"> 9501</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l03983">player::fine_detail_vision_mod()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8cpp_source.html#l02832">Character::volume_capacity()</a>, <a class="el" href="character_8cpp_source.html#l02705">Character::volume_carried()</a>, and <a class="el" href="iuse_8cpp_source.html#l09542">wash_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a30740d88ad8e8394d665d9006f20eacc" name="a30740d88ad8e8394d665d9006f20eacc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30740d88ad8e8394d665d9006f20eacc">&#9670;&nbsp;</a></span>water_purifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::water_purifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l02093">2093</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>{</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>    }</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>    <span class="keyword">auto</span> <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;inv_map_splice( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>        <span class="keywordflow">return</span> !e.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp; e.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#abfd8b1d23930a50d7f122f0d39538649">itype_water</a>;</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>    }, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Purify what?&quot;</span> ), 1, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have water to purify.&quot;</span> ) );</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span> </div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> ) {</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item!&quot;</span> ) );</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>    }</div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span> </div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;liquid = <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>-&gt;contents.front();</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>    <span class="keywordflow">if</span>( !it-&gt;<a class="code hl_function" href="classitem.html#a634d3c1aa2ea065c17af5cabb51b318e">units_sufficient</a>( *p, liquid.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) ) {</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That volume of water is too large to purify.&quot;</span> ) );</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>    }</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span> </div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= to_moves&lt;int&gt;( 2_seconds );</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span> </div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>    liquid.<a class="code hl_function" href="classitem.html#a4667634357eecafb506b27ee4f5e763b">convert</a>( <a class="code hl_variable" href="iuse_8cpp.html#a04c0f30be5943072fbaecacc8a0cf848">itype_water_clean</a> ).<a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> = 0;</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>    <span class="keywordflow">return</span> liquid.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>}</div>
<div class="ttc" id="aclassint__id_html_a315169d32cce4267b7c8dceff4b0d1d7"><div class="ttname"><a href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">int_id::obj</a></div><div class="ttdeci">const ammo_effect &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassitem__contents_html_a14299e40ca1440af11623c86e0b84072"><div class="ttname"><a href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">item_contents::front</a></div><div class="ttdeci">item &amp; front()</div><div class="ttdoc">this is an artifact of the previous code using front() everywhere for contents.</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00190">item_contents.cpp:190</a></div></div>
<div class="ttc" id="aclassitem_html_a9f276bdd47b29bc1649dce5c64cbe433"><div class="ttname"><a href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">item::poison</a></div><div class="ttdeci">int poison</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02200">item.h:2200</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a04c0f30be5943072fbaecacc8a0cf848"><div class="ttname"><a href="iuse_8cpp.html#a04c0f30be5943072fbaecacc8a0cf848">itype_water_clean</a></div><div class="ttdeci">static const itype_id itype_water_clean(&quot;water_clean&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_abfd8b1d23930a50d7f122f0d39538649"><div class="ttname"><a href="iuse_8cpp.html#abfd8b1d23930a50d7f122f0d39538649">itype_water</a></div><div class="ttdeci">static const itype_id itype_water(&quot;water&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="item_8cpp_source.html#l00530">item::convert()</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="iuse_8cpp.html#abfd8b1d23930a50d7f122f0d39538649">itype_water</a>, <a class="el" href="iuse_8cpp.html#a04c0f30be5943072fbaecacc8a0cf848">itype_water_clean</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="item_8h_source.html#l02200">item::poison</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, and <a class="el" href="item_8cpp_source.html#l07853">item::units_sufficient()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a6c9da42d08bb6a46345ebd7793ccb840" name="a6c9da42d08bb6a46345ebd7793ccb840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c9da42d08bb6a46345ebd7793ccb840">&#9670;&nbsp;</a></span>weak_antibiotic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::weak_antibiotic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09606">9606</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09607" name="l09607"></a><span class="lineno"> 9607</span>{</div>
<div class="line"><a id="l09608" name="l09608"></a><span class="lineno"> 9608</span>    p-&gt;<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a id="l09609" name="l09609"></a><span class="lineno"> 9609</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take some weak antibiotics.&quot;</span> ),</div>
<div class="line"><a id="l09610" name="l09610"></a><span class="lineno"> 9610</span>                              <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; takes some weak antibiotics.&quot;</span> ) );</div>
<div class="line"><a id="l09611" name="l09611"></a><span class="lineno"> 9611</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a> ) &amp;&amp; !p-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a66fbdfe284eb410fdbece4a3be98bf55">effect_weak_antibiotic</a> ) ) {</div>
<div class="line"><a id="l09612" name="l09612"></a><span class="lineno"> 9612</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The throbbing of the infection diminishes.  Slightly.&quot;</span> ) );</div>
<div class="line"><a id="l09613" name="l09613"></a><span class="lineno"> 9613</span>    }</div>
<div class="line"><a id="l09614" name="l09614"></a><span class="lineno"> 9614</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a66fbdfe284eb410fdbece4a3be98bf55">effect_weak_antibiotic</a>, 12_hours );</div>
<div class="line"><a id="l09615" name="l09615"></a><span class="lineno"> 9615</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l09616" name="l09616"></a><span class="lineno"> 9616</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a66fbdfe284eb410fdbece4a3be98bf55"><div class="ttname"><a href="iuse_8cpp.html#a66fbdfe284eb410fdbece4a3be98bf55">effect_weak_antibiotic</a></div><div class="ttdeci">static const efftype_id effect_weak_antibiotic(&quot;weak_antibiotic&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">player::add_msg_player_or_npc()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a>, <a class="el" href="iuse_8cpp.html#a66fbdfe284eb410fdbece4a3be98bf55">effect_weak_antibiotic</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="ae128a5b390f487c2ab93acbeadd86867" name="ae128a5b390f487c2ab93acbeadd86867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae128a5b390f487c2ab93acbeadd86867">&#9670;&nbsp;</a></span>weather_tool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::weather_tool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l09191">9191</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l09192" name="l09192"></a><span class="lineno"> 9192</span>{</div>
<div class="line"><a id="l09193" name="l09193"></a><span class="lineno"> 9193</span>    <span class="keyword">const</span> <a class="code hl_class" href="classweather__manager.html">weather_manager</a> &amp;<a class="code hl_namespace" href="namespaceweather.html">weather</a> = <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>();</div>
<div class="line"><a id="l09194" name="l09194"></a><span class="lineno"> 9194</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structw__point.html">w_point</a> &amp;weatherPoint = <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().<a class="code hl_function" href="classweather__manager.html#a3979c051cd06acb3f45adbbe362ae69d">get_precise</a>();</div>
<div class="line"><a id="l09195" name="l09195"></a><span class="lineno"> 9195</span> </div>
<div class="line"><a id="l09196" name="l09196"></a><span class="lineno"> 9196</span>    <span class="comment">/* Possibly used twice. Worth spending the time to precalculate. */</span></div>
<div class="line"><a id="l09197" name="l09197"></a><span class="lineno"> 9197</span>    <span class="keyword">const</span> <span class="keyword">auto</span> player_local_temp = <a class="code hl_namespace" href="namespaceweather.html">weather</a>.get_temperature( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l09198" name="l09198"></a><span class="lineno"> 9198</span> </div>
<div class="line"><a id="l09199" name="l09199"></a><span class="lineno"> 9199</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l09200" name="l09200"></a><span class="lineno"> 9200</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#af41c813a7805e29ebce5fac86b07b133">itype_weather_reader</a> ) {</div>
<div class="line"><a id="l09201" name="l09201"></a><span class="lineno"> 9201</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s&#39;s monitor slowly outputs the data…&quot;</span> ),</div>
<div class="line"><a id="l09202" name="l09202"></a><span class="lineno"> 9202</span>                              it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l09203" name="l09203"></a><span class="lineno"> 9203</span>    }</div>
<div class="line"><a id="l09204" name="l09204"></a><span class="lineno"> 9204</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;THERMOMETER&quot;</span> ) ) {</div>
<div class="line"><a id="l09205" name="l09205"></a><span class="lineno"> 9205</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#afcedfc934e38276213863354af2dd6a4">itype_thermometer</a> ) {</div>
<div class="line"><a id="l09206" name="l09206"></a><span class="lineno"> 9206</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %1$s reads %2$s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(),</div>
<div class="line"><a id="l09207" name="l09207"></a><span class="lineno"> 9207</span>                                  <a class="code hl_function" href="group__Weather.html#ga84aca1e63585a67a2ccf3ffd9f01b7b4">print_temperature</a>( player_local_temp ) );</div>
<div class="line"><a id="l09208" name="l09208"></a><span class="lineno"> 9208</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09209" name="l09209"></a><span class="lineno"> 9209</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Temperature: %s.&quot;</span> ),</div>
<div class="line"><a id="l09210" name="l09210"></a><span class="lineno"> 9210</span>                                  <a class="code hl_function" href="group__Weather.html#ga84aca1e63585a67a2ccf3ffd9f01b7b4">print_temperature</a>( player_local_temp ) );</div>
<div class="line"><a id="l09211" name="l09211"></a><span class="lineno"> 9211</span>        }</div>
<div class="line"><a id="l09212" name="l09212"></a><span class="lineno"> 9212</span>        <span class="comment">// TODO: Don&#39;t output air temp if we aren&#39;t near air</span></div>
<div class="line"><a id="l09213" name="l09213"></a><span class="lineno"> 9213</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_enumvalue" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258a36b67adb6e7c521980de8a6688085d16">TFLAG_SWIMMABLE</a>, p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l09214" name="l09214"></a><span class="lineno"> 9214</span>            <span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::temperature</a> water_temp = <a class="code hl_namespace" href="namespaceweather.html">weather</a>.get_cur_weather_gen().get_water_temperature(</div>
<div class="line"><a id="l09215" name="l09215"></a><span class="lineno"> 9215</span>                    <a class="code hl_typedef" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>( here.<a class="code hl_function" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ),</div>
<div class="line"><a id="l09216" name="l09216"></a><span class="lineno"> 9216</span>                    <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <a class="code hl_variable" href="namespacecalendar.html#a56436e146aa8bdd67857ec0886d89ffe">calendar::config</a>, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_seed() );</div>
<div class="line"><a id="l09217" name="l09217"></a><span class="lineno"> 9217</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Water temperature: %s.&quot;</span> ),</div>
<div class="line"><a id="l09218" name="l09218"></a><span class="lineno"> 9218</span>                                  <a class="code hl_function" href="group__Weather.html#ga84aca1e63585a67a2ccf3ffd9f01b7b4">print_temperature</a>( water_temp ) );</div>
<div class="line"><a id="l09219" name="l09219"></a><span class="lineno"> 9219</span>        }</div>
<div class="line"><a id="l09220" name="l09220"></a><span class="lineno"> 9220</span>    }</div>
<div class="line"><a id="l09221" name="l09221"></a><span class="lineno"> 9221</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;HYGROMETER&quot;</span> ) ) {</div>
<div class="line"><a id="l09222" name="l09222"></a><span class="lineno"> 9222</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#aa4311b0672401e15332293027507d0b6">itype_hygrometer</a> ) {</div>
<div class="line"><a id="l09223" name="l09223"></a><span class="lineno"> 9223</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l09224" name="l09224"></a><span class="lineno"> 9224</span>                <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %1$s reads %2$s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(),</div>
<div class="line"><a id="l09225" name="l09225"></a><span class="lineno"> 9225</span>                <a class="code hl_function" href="group__Weather.html#gaebdc6d79e870b8cc932aa71a7da1c7f1">print_humidity</a>( <a class="code hl_function" href="group__Weather.html#ga3b6c37e7f8086254c46acb9572ea97d1">get_local_humidity</a>( weatherPoint.<a class="code hl_variable" href="structw__point.html#a8eb98705d3735e84f406478b2f69ef18">humidity</a>, <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().weather_id,</div>
<div class="line"><a id="l09226" name="l09226"></a><span class="lineno"> 9226</span>                                                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_sheltered( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) ) );</div>
<div class="line"><a id="l09227" name="l09227"></a><span class="lineno"> 9227</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09228" name="l09228"></a><span class="lineno"> 9228</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l09229" name="l09229"></a><span class="lineno"> 9229</span>                <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Relative Humidity: %s.&quot;</span> ),</div>
<div class="line"><a id="l09230" name="l09230"></a><span class="lineno"> 9230</span>                <a class="code hl_function" href="group__Weather.html#gaebdc6d79e870b8cc932aa71a7da1c7f1">print_humidity</a>( <a class="code hl_function" href="group__Weather.html#ga3b6c37e7f8086254c46acb9572ea97d1">get_local_humidity</a>( weatherPoint.<a class="code hl_variable" href="structw__point.html#a8eb98705d3735e84f406478b2f69ef18">humidity</a>, <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().weather_id,</div>
<div class="line"><a id="l09231" name="l09231"></a><span class="lineno"> 9231</span>                                                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_sheltered( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) ) );</div>
<div class="line"><a id="l09232" name="l09232"></a><span class="lineno"> 9232</span>        }</div>
<div class="line"><a id="l09233" name="l09233"></a><span class="lineno"> 9233</span>    }</div>
<div class="line"><a id="l09234" name="l09234"></a><span class="lineno"> 9234</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;BAROMETER&quot;</span> ) ) {</div>
<div class="line"><a id="l09235" name="l09235"></a><span class="lineno"> 9235</span>        <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#ae4f5124bfe92144bc548101d51bf872b">itype_barometer</a> ) {</div>
<div class="line"><a id="l09236" name="l09236"></a><span class="lineno"> 9236</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l09237" name="l09237"></a><span class="lineno"> 9237</span>                <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %1$s reads %2$s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(),</div>
<div class="line"><a id="l09238" name="l09238"></a><span class="lineno"> 9238</span>                <a class="code hl_function" href="group__Weather.html#gaaa234adc23b8eaf838b0109bf51e38c0">print_pressure</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( weatherPoint.<a class="code hl_variable" href="structw__point.html#aaf1ed8088df29634ce5259faca54f3d5">pressure</a> ) ) );</div>
<div class="line"><a id="l09239" name="l09239"></a><span class="lineno"> 9239</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l09240" name="l09240"></a><span class="lineno"> 9240</span>            p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Pressure: %s.&quot;</span> ),</div>
<div class="line"><a id="l09241" name="l09241"></a><span class="lineno"> 9241</span>                                  <a class="code hl_function" href="group__Weather.html#gaaa234adc23b8eaf838b0109bf51e38c0">print_pressure</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( weatherPoint.<a class="code hl_variable" href="structw__point.html#aaf1ed8088df29634ce5259faca54f3d5">pressure</a> ) ) );</div>
<div class="line"><a id="l09242" name="l09242"></a><span class="lineno"> 9242</span>        }</div>
<div class="line"><a id="l09243" name="l09243"></a><span class="lineno"> 9243</span>    }</div>
<div class="line"><a id="l09244" name="l09244"></a><span class="lineno"> 9244</span> </div>
<div class="line"><a id="l09245" name="l09245"></a><span class="lineno"> 9245</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="iuse_8cpp.html#af41c813a7805e29ebce5fac86b07b133">itype_weather_reader</a> ) {</div>
<div class="line"><a id="l09246" name="l09246"></a><span class="lineno"> 9246</span>        <span class="keywordtype">int</span> vehwindspeed = 0;</div>
<div class="line"><a id="l09247" name="l09247"></a><span class="lineno"> 9247</span>        <span class="keywordflow">if</span>( <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l09248" name="l09248"></a><span class="lineno"> 9248</span>            vehwindspeed = std::abs( vp-&gt;vehicle().velocity / 100 ); <span class="comment">// For mph</span></div>
<div class="line"><a id="l09249" name="l09249"></a><span class="lineno"> 9249</span>        }</div>
<div class="line"><a id="l09250" name="l09250"></a><span class="lineno"> 9250</span>        <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">oter_id</a> &amp;cur_om_ter = <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( p-&gt;<a class="code hl_function" href="classCharacter.html#af254fa44c7792574ff19973b0fa06b36">global_omt_location</a>() );</div>
<div class="line"><a id="l09251" name="l09251"></a><span class="lineno"> 9251</span>        <span class="comment">/* windpower defined in internal velocity units (=.01 mph) */</span></div>
<div class="line"><a id="l09252" name="l09252"></a><span class="lineno"> 9252</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> windpower = 100 * <a class="code hl_function" href="group__Weather.html#ga23304505d04b612b77e4df5e9b64a1dd">get_local_windpower</a>( <a class="code hl_namespace" href="namespaceweather.html">weather</a>.windspeed + vehwindspeed, cur_om_ter,</div>
<div class="line"><a id="l09253" name="l09253"></a><span class="lineno"> 9253</span>                                 p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_namespace" href="namespaceweather.html">weather</a>.winddirection, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_sheltered( p-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) );</div>
<div class="line"><a id="l09254" name="l09254"></a><span class="lineno"> 9254</span> </div>
<div class="line"><a id="l09255" name="l09255"></a><span class="lineno"> 9255</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Wind Speed: %.1f %s.&quot;</span> ),</div>
<div class="line"><a id="l09256" name="l09256"></a><span class="lineno"> 9256</span>                              <a class="code hl_function" href="units__utility_8cpp.html#a713b6dd05645202a737084cab12ce022">convert_velocity</a>( windpower, <a class="code hl_enumvalue" href="units__utility_8h.html#a8552a79ac91f30928afd501d057e074daaf245539afaf0807e04341c935d74668">VU_WIND</a> ),</div>
<div class="line"><a id="l09257" name="l09257"></a><span class="lineno"> 9257</span>                              <a class="code hl_function" href="units__utility_8cpp.html#add2b0fe221063d8d8a18883edb995b03">velocity_units</a>( <a class="code hl_enumvalue" href="units__utility_8h.html#a8552a79ac91f30928afd501d057e074daaf245539afaf0807e04341c935d74668">VU_WIND</a> ) );</div>
<div class="line"><a id="l09258" name="l09258"></a><span class="lineno"> 9258</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l09259" name="l09259"></a><span class="lineno"> 9259</span>            <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Feels Like: %s.&quot;</span> ),</div>
<div class="line"><a id="l09260" name="l09260"></a><span class="lineno"> 9260</span>            <a class="code hl_function" href="group__Weather.html#ga84aca1e63585a67a2ccf3ffd9f01b7b4">print_temperature</a>(</div>
<div class="line"><a id="l09261" name="l09261"></a><span class="lineno"> 9261</span>                <a class="code hl_function" href="group__Weather.html#gaf98633acdf9d77e758eab4af90a6a30c">get_local_windchill</a>( <a class="code hl_function" href="namespaceunits.html#a375816854bc926ebda4d9240e7d6cf64">units::to_fahrenheit</a>( weatherPoint.<a class="code hl_variable" href="structw__point.html#a3002b10d38744db5d25fa1011e28e09e">temperature</a> ),</div>
<div class="line"><a id="l09262" name="l09262"></a><span class="lineno"> 9262</span>                                     weatherPoint.<a class="code hl_variable" href="structw__point.html#a8eb98705d3735e84f406478b2f69ef18">humidity</a>,</div>
<div class="line"><a id="l09263" name="l09263"></a><span class="lineno"> 9263</span>                                     windpower / 100 ) +</div>
<div class="line"><a id="l09264" name="l09264"></a><span class="lineno"> 9264</span>                player_local_temp ) );</div>
<div class="line"><a id="l09265" name="l09265"></a><span class="lineno"> 9265</span>        std::string dirstring = <a class="code hl_function" href="group__Weather.html#ga91e01ef6a71f6495015d3a14131952f2">get_dirstring</a>( <a class="code hl_namespace" href="namespaceweather.html">weather</a>.winddirection );</div>
<div class="line"><a id="l09266" name="l09266"></a><span class="lineno"> 9266</span>        p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Wind Direction: From the %s.&quot;</span> ), dirstring );</div>
<div class="line"><a id="l09267" name="l09267"></a><span class="lineno"> 9267</span>    }</div>
<div class="line"><a id="l09268" name="l09268"></a><span class="lineno"> 9268</span> </div>
<div class="line"><a id="l09269" name="l09269"></a><span class="lineno"> 9269</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09270" name="l09270"></a><span class="lineno"> 9270</span>}</div>
<div class="ttc" id="aclassmap_html_a501f3a1d449ac022f1b36b99da653e94"><div class="ttname"><a href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">map::getabs</a></div><div class="ttdeci">tripoint getabs(const tripoint &amp;p) const</div><div class="ttdoc">Translates local (to this map) coordinates of a square to global absolute coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08048">map.cpp:8048</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aa9fbf966291f6b82de9c540262324aba"><div class="ttname"><a href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">overmapbuffer::ter</a></div><div class="ttdeci">const oter_id &amp; ter(const tripoint_abs_omt &amp;p)</div><div class="ttdoc">Returns the overmap terrain at the given OMT coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00649">overmapbuffer.cpp:649</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00014">units_def.h:15</a></div></div>
<div class="ttc" id="aclassweather__manager_html"><div class="ttname"><a href="classweather__manager.html">weather_manager</a></div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00177">weather.h:178</a></div></div>
<div class="ttc" id="aclassweather__manager_html_a3979c051cd06acb3f45adbbe362ae69d"><div class="ttname"><a href="classweather__manager.html#a3979c051cd06acb3f45adbbe362ae69d">weather_manager::get_precise</a></div><div class="ttdeci">const w_point &amp; get_precise() const</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00218">weather.h:218</a></div></div>
<div class="ttc" id="agroup__Weather_html_ga23304505d04b612b77e4df5e9b64a1dd"><div class="ttname"><a href="group__Weather.html#ga23304505d04b612b77e4df5e9b64a1dd">get_local_windpower</a></div><div class="ttdeci">double get_local_windpower(double windpower, const oter_id &amp;omter, const tripoint &amp;location, const int &amp;winddirection, bool sheltered)</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00938">weather.cpp:938</a></div></div>
<div class="ttc" id="agroup__Weather_html_ga3b6c37e7f8086254c46acb9572ea97d1"><div class="ttname"><a href="group__Weather.html#ga3b6c37e7f8086254c46acb9572ea97d1">get_local_humidity</a></div><div class="ttdeci">int get_local_humidity(double humidity, const weather_type_id &amp;weather, bool sheltered)</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00924">weather.cpp:924</a></div></div>
<div class="ttc" id="agroup__Weather_html_ga84aca1e63585a67a2ccf3ffd9f01b7b4"><div class="ttname"><a href="group__Weather.html#ga84aca1e63585a67a2ccf3ffd9f01b7b4">print_temperature</a></div><div class="ttdeci">std::string print_temperature(double fahrenheit, int decimals)</div><div class="ttdoc">Print temperature (and convert to Celsius if Celsius display is enabled.)</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00717">weather.cpp:717</a></div></div>
<div class="ttc" id="agroup__Weather_html_ga91e01ef6a71f6495015d3a14131952f2"><div class="ttname"><a href="group__Weather.html#ga91e01ef6a71f6495015d3a14131952f2">get_dirstring</a></div><div class="ttdeci">std::string get_dirstring(int angle)</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00874">weather.cpp:874</a></div></div>
<div class="ttc" id="agroup__Weather_html_gaa7b33196bf530c8b26654a0adf355165"><div class="ttname"><a href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a></div><div class="ttdeci">weather_manager &amp; get_weather()</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00064">weather.cpp:64</a></div></div>
<div class="ttc" id="agroup__Weather_html_gaaa234adc23b8eaf838b0109bf51e38c0"><div class="ttname"><a href="group__Weather.html#gaaa234adc23b8eaf838b0109bf51e38c0">print_pressure</a></div><div class="ttdeci">std::string print_pressure(double pressure, int decimals)</div><div class="ttdoc">Print pressure (no conversions.)</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00752">weather.cpp:752</a></div></div>
<div class="ttc" id="agroup__Weather_html_gaebdc6d79e870b8cc932aa71a7da1c7f1"><div class="ttname"><a href="group__Weather.html#gaebdc6d79e870b8cc932aa71a7da1c7f1">print_humidity</a></div><div class="ttdeci">std::string print_humidity(double humidity, int decimals)</div><div class="ttdoc">Print relative humidity (no conversions.)</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00743">weather.cpp:743</a></div></div>
<div class="ttc" id="agroup__Weather_html_gaf98633acdf9d77e758eab4af90a6a30c"><div class="ttname"><a href="group__Weather.html#gaf98633acdf9d77e758eab4af90a6a30c">get_local_windchill</a></div><div class="ttdeci">int get_local_windchill(double temperature_f, double humidity, double wind_mph)</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00797">weather.cpp:797</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_aa4311b0672401e15332293027507d0b6"><div class="ttname"><a href="iuse_8cpp.html#aa4311b0672401e15332293027507d0b6">itype_hygrometer</a></div><div class="ttdeci">static const itype_id itype_hygrometer(&quot;hygrometer&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_ae4f5124bfe92144bc548101d51bf872b"><div class="ttname"><a href="iuse_8cpp.html#ae4f5124bfe92144bc548101d51bf872b">itype_barometer</a></div><div class="ttdeci">static const itype_id itype_barometer(&quot;barometer&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_af41c813a7805e29ebce5fac86b07b133"><div class="ttname"><a href="iuse_8cpp.html#af41c813a7805e29ebce5fac86b07b133">itype_weather_reader</a></div><div class="ttdeci">static const itype_id itype_weather_reader(&quot;weather_reader&quot;)</div></div>
<div class="ttc" id="aiuse_8cpp_html_afcedfc934e38276213863354af2dd6a4"><div class="ttname"><a href="iuse_8cpp.html#afcedfc934e38276213863354af2dd6a4">itype_thermometer</a></div><div class="ttdeci">static const itype_id itype_thermometer(&quot;thermometer&quot;)</div></div>
<div class="ttc" id="amapdata_8h_html_aa04d037303ea30193f7cf0cd82304258a36b67adb6e7c521980de8a6688085d16"><div class="ttname"><a href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258a36b67adb6e7c521980de8a6688085d16">TFLAG_SWIMMABLE</a></div><div class="ttdeci">@ TFLAG_SWIMMABLE</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00279">mapdata.h:279</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a56436e146aa8bdd67857ec0886d89ffe"><div class="ttname"><a href="namespacecalendar.html#a56436e146aa8bdd67857ec0886d89ffe">calendar::config</a></div><div class="ttdeci">calendar_config config</div></div>
<div class="ttc" id="anamespaceunits_html_a375816854bc926ebda4d9240e7d6cf64"><div class="ttname"><a href="namespaceunits.html#a375816854bc926ebda4d9240e7d6cf64">units::to_fahrenheit</a></div><div class="ttdeci">constexpr value_type to_fahrenheit(const quantity&lt; value_type, temperature_in_millidegree_celsius_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__temperature_8h_source.html#l00124">units_temperature.h:124</a></div></div>
<div class="ttc" id="anamespaceweather_html"><div class="ttname"><a href="namespaceweather.html">weather</a></div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l01150">weather.cpp:1151</a></div></div>
<div class="ttc" id="astructw__point_html"><div class="ttname"><a href="structw__point.html">w_point</a></div><div class="ttdef"><b>Definition:</b> <a href="weather__gen_8h_source.html#l00015">weather_gen.h:15</a></div></div>
<div class="ttc" id="astructw__point_html_a3002b10d38744db5d25fa1011e28e09e"><div class="ttname"><a href="structw__point.html#a3002b10d38744db5d25fa1011e28e09e">w_point::temperature</a></div><div class="ttdeci">units::temperature temperature</div><div class="ttdef"><b>Definition:</b> <a href="weather__gen_8h_source.html#l00016">weather_gen.h:16</a></div></div>
<div class="ttc" id="astructw__point_html_a8eb98705d3735e84f406478b2f69ef18"><div class="ttname"><a href="structw__point.html#a8eb98705d3735e84f406478b2f69ef18">w_point::humidity</a></div><div class="ttdeci">double humidity</div><div class="ttdef"><b>Definition:</b> <a href="weather__gen_8h_source.html#l00017">weather_gen.h:17</a></div></div>
<div class="ttc" id="astructw__point_html_aaf1ed8088df29634ce5259faca54f3d5"><div class="ttname"><a href="structw__point.html#aaf1ed8088df29634ce5259faca54f3d5">w_point::pressure</a></div><div class="ttdeci">double pressure</div><div class="ttdef"><b>Definition:</b> <a href="weather__gen_8h_source.html#l00018">weather_gen.h:18</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a713b6dd05645202a737084cab12ce022"><div class="ttname"><a href="units__utility_8cpp.html#a713b6dd05645202a737084cab12ce022">convert_velocity</a></div><div class="ttdeci">double convert_velocity(int velocity, const units_type vel_units)</div><div class="ttdoc">Convert internal velocity units to units defined by user.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00061">units_utility.cpp:61</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_add2b0fe221063d8d8a18883edb995b03"><div class="ttname"><a href="units__utility_8cpp.html#add2b0fe221063d8d8a18883edb995b03">velocity_units</a></div><div class="ttdeci">const char * velocity_units(const units_type vel_units)</div><div class="ttdoc">Create a units label for a velocity value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00005">units_utility.cpp:5</a></div></div>
<div class="ttc" id="aunits__utility_8h_html_a8552a79ac91f30928afd501d057e074daaf245539afaf0807e04341c935d74668"><div class="ttname"><a href="units__utility_8h.html#a8552a79ac91f30928afd501d057e074daaf245539afaf0807e04341c935d74668">VU_WIND</a></div><div class="ttdeci">@ VU_WIND</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8h_source.html#l00016">units_utility.h:15</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="namespacecalendar.html#a56436e146aa8bdd67857ec0886d89ffe">calendar::config</a>, <a class="el" href="units__utility_8cpp_source.html#l00061">convert_velocity()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="weather_8cpp_source.html#l00874">get_dirstring()</a>, <a class="el" href="weather_8cpp_source.html#l00924">get_local_humidity()</a>, <a class="el" href="weather_8cpp_source.html#l00797">get_local_windchill()</a>, <a class="el" href="weather_8cpp_source.html#l00938">get_local_windpower()</a>, <a class="el" href="map_8cpp_source.html#l00141">get_map()</a>, <a class="el" href="weather_8h_source.html#l00218">weather_manager::get_precise()</a>, <a class="el" href="weather_8cpp_source.html#l00064">get_weather()</a>, <a class="el" href="map_8cpp_source.html#l08048">map::getabs()</a>, <a class="el" href="character_8cpp_source.html#l06318">Character::global_omt_location()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="weather__gen_8h_source.html#l00017">w_point::humidity</a>, <a class="el" href="iuse_8cpp.html#ae4f5124bfe92144bc548101d51bf872b">itype_barometer</a>, <a class="el" href="iuse_8cpp.html#aa4311b0672401e15332293027507d0b6">itype_hygrometer</a>, <a class="el" href="iuse_8cpp.html#afcedfc934e38276213863354af2dd6a4">itype_thermometer</a>, <a class="el" href="iuse_8cpp.html#af41c813a7805e29ebce5fac86b07b133">itype_weather_reader</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00044">overmap_buffer</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="weather__gen_8h_source.html#l00018">w_point::pressure</a>, <a class="el" href="weather_8cpp_source.html#l00743">print_humidity()</a>, <a class="el" href="weather_8cpp_source.html#l00752">print_pressure()</a>, <a class="el" href="weather_8cpp_source.html#l00717">print_temperature()</a>, <a class="el" href="weather__gen_8h_source.html#l00016">w_point::temperature</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00649">overmapbuffer::ter()</a>, <a class="el" href="mapdata_8h_source.html#l00279">TFLAG_SWIMMABLE</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="units__temperature_8h_source.html#l00124">units::to_fahrenheit()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, <a class="el" href="units__utility_8cpp_source.html#l00005">velocity_units()</a>, and <a class="el" href="units__utility_8h_source.html#l00015">VU_WIND</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="a9a3cc0372f69cfd7f6554822d61a083e" name="a9a3cc0372f69cfd7f6554822d61a083e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a3cc0372f69cfd7f6554822d61a083e">&#9670;&nbsp;</a></span>weed_cake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::weed_cake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00791">791</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>{</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You start scarfing down the delicious cake.  It tastes a little funny though…&quot;</span> ) );</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> duration = 12_minutes;</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a> ) ) {</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        duration = 9_minutes;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>    }</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a> ) ) {</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>        duration = 15_minutes;</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    }</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( -20 );</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    p-&gt;<a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 6 );</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    <span class="keywordflow">if</span>( p-&gt;<a class="code hl_function" href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">get_painkiller</a>() &lt; 5 ) {</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>        p-&gt;<a class="code hl_function" href="classCharacter.html#a5f1a21ad76d22926f2688c1e49105311">set_painkiller</a>( ( p-&gt;<a class="code hl_function" href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">get_painkiller</a>() + 3 ) * 2 );</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    }</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#a07c1990d0d8dd3b8a3305dca2429de8a">effect_weed_high</a>, duration );</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    p-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 100;</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        <a class="code hl_function" href="effect_8cpp.html#ac16c3b47b852f20a0ab321f720b25339">weed_msg</a>( *p );</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    }</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_a07c1990d0d8dd3b8a3305dca2429de8a"><div class="ttname"><a href="iuse_8cpp.html#a07c1990d0d8dd3b8a3305dca2429de8a">effect_weed_high</a></div><div class="ttdeci">static const efftype_id effect_weed_high(&quot;weed_high&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#a07c1990d0d8dd3b8a3305dca2429de8a">effect_weed_high</a>, <a class="el" href="character_8cpp_source.html#l09777">Character::get_painkiller()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l04283">Character::mod_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="character_8cpp_source.html#l09761">Character::set_painkiller()</a>, <a class="el" href="iuse_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a>, <a class="el" href="iuse_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="effect_8cpp_source.html#l00078">weed_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
<a id="af2324774ae58dc15ed929ec5b4f0bb7f" name="af2324774ae58dc15ed929ec5b4f0bb7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2324774ae58dc15ed929ec5b4f0bb7f">&#9670;&nbsp;</a></span>xanax()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iuse::xanax </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse_8cpp_source.html#l00468">468</a> of file <a class="el" href="iuse_8cpp_source.html">iuse.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>{</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    p-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take some %s.&quot;</span> ), it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    p-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="iuse_8cpp.html#ae37624c520e2e6b05529cf6870489bc3">effect_took_xanax</a>, 90_minutes );</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <span class="keywordflow">return</span> it-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>}</div>
<div class="ttc" id="aiuse_8cpp_html_ae37624c520e2e6b05529cf6870489bc3"><div class="ttname"><a href="iuse_8cpp.html#ae37624c520e2e6b05529cf6870489bc3">effect_took_xanax</a></div><div class="ttdeci">static const efftype_id effect_took_xanax(&quot;took_xanax&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l01089">itype::charges_to_use()</a>, <a class="el" href="iuse_8cpp.html#ae37624c520e2e6b05529cf6870489bc3">effect_took_xanax</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l00859">Item_factory::init()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceiuse.html">iuse</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:16:10 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
